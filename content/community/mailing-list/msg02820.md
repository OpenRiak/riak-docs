---
title: "Riak node recovery after crash."
description: ""
project: community
lastmod: 2011-03-31T23:49:40-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02820"
author_name: "santhosh venkat"
project_section: "mailinglistitem"
sent_date: 2011-03-31T23:49:40-07:00
---


Hi ,
 I am trying to experiment with the recovery time of a riak node using
bitcask storage after a crash .

 I was able to find some information about that in this page (which is
for Innodb though)

 http://wiki.basho.com/Recovering-a-failed-node.html which is more
about Innodb .

 Upon Reading bitcask paper i found it uses hint file to constructs in
memory mapping , so it should not ideally take more than few mins to
reconstruct data after crash . Please throw some light on this .

 I got this thread dump when i tried the steps outlined in the above link.

=INFO REPORT==== 1-Apr-2011::12:06:50 ===
[{alarm\\_handler,{set,{{disk\\_almost\\_full,"/var/lib/mysql"},[]}}}]
=INFO REPORT==== 1-Apr-2011::12:06:50 ===
[{alarm\\_handler,{set,{{disk\\_almost\\_full,"/var/lib/riak"},[]}}}]\\*\\* Found 0
name clashes in code paths

=INFO REPORT==== 1-Apr-2011::12:06:51 ===
Spidermonkey VM (thread stack: 16MB, max heap: 8MB, pool: riak\\_kv\\_js\\_map)
host starting (&lt;0.141.0&gt;)

=INFO REPORT==== 1-Apr-2011::12:06:51 ===
Spidermonkey VM (thread stack: 16MB, max heap: 8MB, pool: riak\\_kv\\_js\\_map)
host starting (&lt;0.142.0&gt;)

=INFO REPORT==== 1-Apr-2011::12:06:51 ===
Spidermonkey VM (thread stack: 16MB, max heap: 8MB, pool: riak\\_kv\\_js\\_map)
host starting (&lt;0.143.0&gt;)

=INFO REPORT==== 1-Apr-2011::12:06:51 ===
Spidermonkey VM (thread stack: 16MB, max heap: 8MB, pool: riak\\_kv\\_js\\_map)
host starting (&lt;0.144.0&gt;)

=INFO REPORT==== 1-Apr-2011::12:06:51 ===
Spidermonkey VM (thread stack: 16MB, max heap: 8MB, pool: riak\\_kv\\_js\\_map)
host starting (&lt;0.145.0&gt;)

=INFO REPORT==== 1-Apr-2011::12:06:51 ===
Spidermonkey VM (thread stack: 16MB, max heap: 8MB, pool: riak\\_kv\\_js\\_map)
host starting (&lt;0.146.0&gt;)

=INFO REPORT==== 1-Apr-2011::12:06:51 ===
Spidermonkey VM (thread stack: 16MB, max heap: 8MB, pool: riak\\_kv\\_js\\_map)
host starting (&lt;0.147.0&gt;)

=INFO REPORT==== 1-Apr-2011::12:06:51 ===
Spidermonkey VM (thread stack: 16MB, max heap: 8MB, pool: riak\\_kv\\_js\\_map)
host starting (&lt;0.148.0&gt;)

=INFO REPORT==== 1-Apr-2011::12:06:51 ===
Spidermonkey VM (thread stack: 16MB, max heap: 8MB, pool: riak\\_kv\\_js\\_reduce)
host starting (&lt;0.150.0&gt;)

=INFO REPORT==== 1-Apr-2011::12:06:51 ===
Spidermonkey VM (thread stack: 16MB, max heap: 8MB, pool: riak\\_kv\\_js\\_reduce)
host starting (&lt;0.151.0&gt;)

=INFO REPORT==== 1-Apr-2011::12:06:51 ===
Spidermonkey VM (thread stack: 16MB, max heap: 8MB, pool: riak\\_kv\\_js\\_reduce)
host starting (&lt;0.152.0&gt;)

=INFO REPORT==== 1-Apr-2011::12:06:51 ===
Spidermonkey VM (thread stack: 16MB, max heap: 8MB, pool: riak\\_kv\\_js\\_reduce)
host starting (&lt;0.153.0&gt;)

=INFO REPORT==== 1-Apr-2011::12:06:51 ===
Spidermonkey VM (thread stack: 16MB, max heap: 8MB, pool: riak\\_kv\\_js\\_reduce)
host starting (&lt;0.154.0&gt;)

Please help .

--
Santhosh
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

