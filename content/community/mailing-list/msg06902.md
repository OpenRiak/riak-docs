---
title: "Re: Unicode String problem"
description: ""
project: community
lastmod: 2012-03-06T08:53:07-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06902"
mailinglist_parent_id: "msg06891"
author_name: "Buri Arslon"
project_section: "mailinglistitem"
sent_date: 2012-03-06T08:53:07-08:00
---


Hi Igor,

Actually, utf8 value converted by unicode:characters\\_to\\_binary() was
successfully processed by riak. So:

 &gt;Object = riakc\\_obj:new(&lt;&lt;"snippet"&gt;&gt;, undefined,
unicode:characters\\_to\\_binary("одамлардан тинглаб хикоя")).
 &gt;riakc\\_pb\\_socket:put(Pid, Object)

was accepted.

Thanks,
-- Buriwoy

On Mon, Mar 5, 2012 at 11:25 PM, Igor Karymov  wrote:

&gt; You can't use unicode expression this way from console.
&gt; Try the same expression writen in the erlang module.
&gt;
&gt; 2012/3/5 Steve Vinoski 
&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; On Sun, Mar 4, 2012 at 4:51 PM, Buri Arslon  wrote:
&gt;&gt;
&gt;&gt;&gt; Hi everybody!
&gt;&gt;&gt;
&gt;&gt;&gt; I can't put unicode string to riak. I was following the
&gt;&gt;&gt; riak-erlang-client docs, and this doesn't work:
&gt;&gt;&gt;
&gt;&gt;&gt; Object = riakc\\_obj:new(&lt;&lt;"snippet"&gt;&gt;, &lt;&lt;"odam"&gt;&gt;, &lt;&lt;"Одамлардан
&gt;&gt;&gt; тинглаб хикоя"&gt;&gt;).
&gt;&gt;&gt; \\*\\* exception error: bad argument
&gt;&gt;&gt;
&gt;&gt;&gt; I googled but couldn't find anything meaningful about this issue. So,
&gt;&gt;&gt; I'd be very grateful if someone could refer me
&gt;&gt;&gt; to relevant documentation or give me some hints to solve the problem.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; Have a look at the Erlang unicode module:
&gt;&gt;
&gt;&gt; http://www.erlang.org/doc/man/unicode.html
&gt;&gt;
&gt;&gt; You probably need to use unicode:characters\\_to\\_binary to generate a valid
&gt;&gt; binary for the value you're trying to store in riak.
&gt;&gt;
&gt;&gt; --steve
&gt;
