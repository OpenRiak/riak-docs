---
title: "Re: 3 node cluster on same machine"
description: ""
project: community
lastmod: 2011-01-02T20:46:21-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01875"
mailinglist_parent_id: "msg01874"
author_name: "Matthew Shaw"
project_section: "mailinglistitem"
sent_date: 2011-01-02T20:46:21-08:00
---


Thanks guys, will definately build from source for the future.


On 03/01/2011, at 2:14 PM, Jeremiah Peschka wrote:

&gt; Glad to hear you got it working. Alexander is spot on, as well. You can get 
&gt; started with a single node and don't have to change anything.
&gt; 
&gt; Jeremiah Peschka
&gt; Microsoft SQL Server MVP
&gt; MCITP: Database Developer, DBA
&gt; 
&gt; On Jan 2, 2011 11:08 PM, "Matthew Shaw"  wrote:
&gt; &gt; Hi Jeremiah,
&gt; &gt; 
&gt; &gt; that did it, thank you for responding so quickly. Here is the output.
&gt; &gt; 
&gt; &gt; Matthew-Shaws-MacBook-Pro:etc matthewshaw$ riak1\\_admin ringready
&gt; &gt; TRUE All nodes agree on the ring ['ri...@127.0.0.1','ri...@127.0.0.1',
&gt; &gt; 'r...@127.0.0.1']
&gt; &gt; 
&gt; &gt; I will try and compile from source to enable the 64bit version. Thanks for 
&gt; &gt; the tips.
&gt; &gt; 
&gt; &gt; Cheers,
&gt; &gt; Matt.
&gt; &gt; 
&gt; &gt; On 03/01/2011, at 1:27 PM, Jeremiah Peschka wrote:
&gt; &gt; 
&gt; &gt;&gt; For starters, you should rebuild your riak with the most current stable 
&gt; &gt;&gt; version, 0.13, which you can download here: 
&gt; &gt;&gt; http://downloads.basho.com/riak/riak-0.13/riak-0.13.0-osx-i386.tar.gz 
&gt; &gt;&gt; 
&gt; &gt;&gt; Once you do that, let us know if you still see the problem and what the 
&gt; &gt;&gt; output of `riak-admin ringready` says.
&gt; &gt;&gt; 
&gt; &gt;&gt; ... looks like the wiki needs updated to reflect the current version. 
&gt; &gt;&gt; Incidentally, it also looks like there isn't a pre-compiled x64 OS X 
&gt; &gt;&gt; binary. 
&gt; &gt;&gt; 
&gt; &gt;&gt; Jeremiah 
&gt; &gt;&gt; 
&gt; &gt;&gt; 
&gt; &gt;&gt; On Sun, Jan 2, 2011 at 9:28 PM, Matthew Shaw  wrote:
&gt; &gt;&gt; Hi,
&gt; &gt;&gt; 
&gt; &gt;&gt; I'm trying to create a 3 node cluster on my mac. I've followed the wikki, 
&gt; &gt;&gt; creating riak1, riak2, riak3 directories and modified the vm.args and 
&gt; &gt;&gt; app.config files accordingly. I join riak2 and riak3 to riak1. However 
&gt; &gt;&gt; this is what the dump of riak1\\_admin status looks like and there are not 3 
&gt; &gt;&gt; ring members.
&gt; &gt;&gt; 
&gt; &gt;&gt; Can anyone provide some advice as to what I may have missed here?
&gt; &gt;&gt; 
&gt; &gt;&gt; 1-minute stats for 'ri...@127.0.0.1'
&gt; &gt;&gt; -------------------------------------------
&gt; &gt;&gt; vnode gets : 0
&gt; &gt;&gt; vnode\\_puts : 0
&gt; &gt;&gt; read\\_repairs : 0
&gt; &gt;&gt; vnode\\_gets\\_total : 0
&gt; &gt;&gt; vnode\\_puts\\_total : 0
&gt; &gt;&gt; node\\_gets : 0
&gt; &gt;&gt; node\\_gets\\_total : 0
&gt; &gt;&gt; node\\_get\\_fsm\\_time\\_mean : undefined
&gt; &gt;&gt; node\\_get\\_fsm\\_time\\_median : undefined
&gt; &gt;&gt; node\\_get\\_fsm\\_time\\_95 : undefined
&gt; &gt;&gt; node\\_get\\_fsm\\_time\\_99 : undefined
&gt; &gt;&gt; node\\_get\\_fsm\\_time\\_100 : undefined
&gt; &gt;&gt; node\\_puts : 0
&gt; &gt;&gt; node\\_puts\\_total : 1
&gt; &gt;&gt; node\\_put\\_fsm\\_time\\_mean : undefined
&gt; &gt;&gt; node\\_put\\_fsm\\_time\\_median : undefined
&gt; &gt;&gt; node\\_put\\_fsm\\_time\\_95 : undefined
&gt; &gt;&gt; node\\_put\\_fsm\\_time\\_99 : undefined
&gt; &gt;&gt; node\\_put\\_fsm\\_time\\_100 : undefined
&gt; &gt;&gt; read\\_repairs\\_total : 0
&gt; &gt;&gt; cpu\\_nprocs : 101
&gt; &gt;&gt; cpu\\_avg1 : 225
&gt; &gt;&gt; cpu\\_avg5 : 289
&gt; &gt;&gt; cpu\\_avg15 : 292
&gt; &gt;&gt; mem\\_total : 3584648000
&gt; &gt;&gt; mem\\_allocated : 2573964000
&gt; &gt;&gt; disk : [{"/",488050672,34},
&gt; &gt;&gt; {"/Volumes/Git",15708,35},
&gt; &gt;&gt; {"/Volumes/Xcode",1012592,75}]
&gt; &gt;&gt; nodename : 'ri...@127.0.0.1'
&gt; &gt;&gt; connected\\_nodes : ['ri...@127.0.0.1','ri...@127.0.0.1',
&gt; &gt;&gt; 'riak1\\_maint\\_37...@127.0.0.1']
&gt; &gt;&gt; sys\\_driver\\_version : &lt;&lt;"1.5"&gt;&gt;
&gt; &gt;&gt; sys\\_global\\_heaps\\_size : 0
&gt; &gt;&gt; sys\\_heap\\_type : private
&gt; &gt;&gt; sys\\_logical\\_processors : 2
&gt; &gt;&gt; sys\\_otp\\_release : &lt;&lt;"R13B04"&gt;&gt;
&gt; &gt;&gt; sys\\_process\\_count : 132
&gt; &gt;&gt; sys\\_smp\\_support : true
&gt; &gt;&gt; sys\\_system\\_version : &lt;&lt;"Erlang R13B04 (erts-5.7.5) [source] [64-bit] 
&gt; &gt;&gt; [smp:2:2] [rq:2] [async-threads:5] [hipe] [kernel-poll:true]"&gt;&gt;
&gt; &gt;&gt; sys\\_system\\_architecture : &lt;&lt;"i386-apple-darwin10.3.0"&gt;&gt;
&gt; &gt;&gt; sys\\_threads\\_enabled : true
&gt; &gt;&gt; sys\\_thread\\_pool\\_size : 5
&gt; &gt;&gt; sys\\_wordsize : 8
&gt; &gt;&gt; ring\\_members : ['r...@127.0.0.1']
&gt; &gt;&gt; ring\\_num\\_partitions : 64
&gt; &gt;&gt; ring\\_ownership : &lt;&lt;"[{'r...@127.0.0.1',64}]"&gt;&gt;
&gt; &gt;&gt; ring\\_creation\\_size : 64
&gt; &gt;&gt; storage\\_backend : riak\\_kv\\_bitcask\\_backend
&gt; &gt;&gt; pbc\\_connects\\_total : 1
&gt; &gt;&gt; pbc\\_connects : 0
&gt; &gt;&gt; pbc\\_active : 0
&gt; &gt;&gt; riak\\_kv\\_version : &lt;&lt;"0.12.0"&gt;&gt;
&gt; &gt;&gt; riak\\_core\\_version : &lt;&lt;"0.12.0"&gt;&gt;
&gt; &gt;&gt; bitcask\\_version : &lt;&lt;"1.0.2"&gt;&gt;
&gt; &gt;&gt; luke\\_version : &lt;&lt;"0.2.0"&gt;&gt;
&gt; &gt;&gt; webmachine\\_version : &lt;&lt;"1.7.1"&gt;&gt;
&gt; &gt;&gt; mochiweb\\_version : &lt;&lt;"1.7.1"&gt;&gt;
&gt; &gt;&gt; erlang\\_js\\_version : &lt;&lt;"0.4"&gt;&gt;
&gt; &gt;&gt; runtime\\_tools\\_version : &lt;&lt;"1.8.3"&gt;&gt;
&gt; &gt;&gt; crypto\\_version : &lt;&lt;"1.6.4"&gt;&gt;
&gt; &gt;&gt; os\\_mon\\_version : &lt;&lt;"2.2.5"&gt;&gt;
&gt; &gt;&gt; sasl\\_version : &lt;&lt;"2.1.9"&gt;&gt;
&gt; &gt;&gt; stdlib\\_version : &lt;&lt;"1.16.5"&gt;&gt;
&gt; &gt;&gt; kernel\\_version : &lt;&lt;"2.13.5"&gt;&gt;
&gt; &gt;&gt; 
&gt; &gt;&gt; 
&gt; &gt;&gt; 
&gt; &gt;&gt; Cheers,
&gt; &gt;&gt; Matt.
&gt; &gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt;&gt; riak-users mailing list
&gt; &gt;&gt; riak-users@lists.basho.com
&gt; &gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt;&gt; 
&gt; &gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt;&gt; riak-users mailing list
&gt; &gt;&gt; riak-users@lists.basho.com
&gt; &gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt; 

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

