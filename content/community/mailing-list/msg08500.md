---
title: "Re: Postcommit hook and creating a new object"
description: ""
project: community
lastmod: 2012-09-11T13:16:30-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08500"
mailinglist_parent_id: "msg08354"
author_name: "Mark Phillips"
project_section: "mailinglistitem"
sent_date: 2012-09-11T13:16:30-07:00
---


Hey Yousuf,

I'm not sure there's a way to make this cheaper for you. You're going
to have to do a GET and work with the not-founds. The alternative
would be a HEAD request for the key, which would just return the
metadata. This won't save you any time on the request but might cut
down on client-server bandwidth (which may or may not be an issue
depending how many PC hooks you're firing off).

You could use "if\\_none\\_match" but that's still going to result in a full read.

Hope that helps.

Mark

On Fri, Aug 24, 2012 at 3:29 AM, Yousuf Fauzan  wrote:
&gt; Hello,
&gt;
&gt; I have written a post commit hook on one of my buckets such that every time
&gt; data is stored, it creates a new object in another bucket and stores it.
&gt;
&gt; My problem is that I do not wish to overwrite existing object in this other
&gt; bucket. The way I am achieving this right now is pretty crude, I try getting
&gt; the object and if its not found then I store it otherwise not.
&gt;
&gt; Is there a flag like if\\_none\\_match for riak local client? If not, is there
&gt; any other way to do the above without issuing a get first?
&gt;
&gt; --
&gt; Yousuf
&gt; http://fauzism.com
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

