---
title: "Re: Atomicity of if_not_modified?"
description: ""
project: community
lastmod: 2013-01-05T00:45:39-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09738"
mailinglist_parent_id: "msg09734"
author_name: "qaspar"
project_section: "mailinglistitem"
sent_date: 2013-01-05T00:45:39-08:00
---


Justin Sheehy wrote
&gt; On Jan 4, 2013, at 1:25 PM, Les Mikesell wrote:
&gt; 
&gt;&gt; And, doesn't every description of riak behavior have to include the
&gt;&gt; scenario where the network is partitioned and updates are
&gt;&gt; simultaneously performed by entities that can't contact each other?
&gt;&gt; If it weren't for that possibility, it could just elect a master and
&gt;&gt; do real atomic operations.
&gt; 
&gt; Yes, absolutely.
&gt; 
&gt; There are no atomic compare-and-set operations available from Riak,
&gt; regardless of headers and R/W values.
&gt; 
&gt; Conditional HTTP requests are present because they are "free" due to
&gt; Webmachine, and they are sometimes useful, but should not be seen as
&gt; semantically very different from the client doing a read itself to decide
&gt; whether to write.
&gt; 
&gt; -Justin

Agreed. But I think the split-brain scenario could be avoided by setting
DW=DR=2 in addition, in which case at most one call to one of the partitions
can succeed - correct?

Kaspar

--
View this message in context: 
http://riak-users.197444.n3.nabble.com/Atomicity-of-if-not-modified-tp4026430p4026478.html
Sent from the Riak Users mailing list archive at Nabble.com.

