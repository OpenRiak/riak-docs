---
title: "Re: Wildcard search issues in Riak Search"
description: ""
project: community
lastmod: 2010-12-21T05:27:41-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01829"
mailinglist_parent_id: "msg01803"
author_name: "Rusty Klophaus"
project_section: "mailinglistitem"
sent_date: 2010-12-21T05:27:41-08:00
---


Hi Xiaopong,

Out of the box, Riak Search uses the "DefaultAnalyzer" which tokenizes words
as follows:

 1. Split on spaces and punctuation.
 2. Lowercases the tokens.
 3. Strips out common English words (and, the, then, etc.)
 4. Remove any tokens smaller than 3 characters.

You are seeing the effects of #4 in your tests.

You can read a little more about the different analyzers and learn how to
set which analyzer is used in the links below:

- http://www.mail-archive.com/riak-users@lists.basho.com/msg01322.html
- http://wiki.basho.com/display/RIAK/Riak+Search+-+Schema

Best,
Rusty


On Wed, Dec 15, 2010 at 10:40 PM, Xiaopong Tran wrote:

&gt; I have put a few objects in the database, and the object looks
&gt; like this:
&gt;
&gt; {
&gt; "userid" : "jane",
&gt; "first\\_name" : "Jane",
&gt; "last\\_name" : "Doe",
&gt; "gender" : "F",
&gt; "joined\\_date" : "Wed, 15 Dec 2010 09:15:20 GMT"
&gt; }
&gt;
&gt; I have 3 users whose id starts with the letter 'j':
&gt; jane, jenny, john.
&gt;
&gt; When I use wildcard search, such as:
&gt;
&gt; "userid:j\\*"
&gt;
&gt; it returns an empty result. I did several tests, and it seems
&gt; that there must be at least 3 characters before the wildcard
&gt; in order to get any result. And
&gt;
&gt; "userid:ja\\*"
&gt;
&gt; also returns empty.
&gt;
&gt; Is this normal? In Lucene, as long as the wildcard is not the
&gt; first character in the query statement, it should work.
&gt;
&gt; Best
&gt;
&gt; Xiaopong
&gt;
&gt;
&gt;

