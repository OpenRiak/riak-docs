---
title: "Re: cannot query bucket when a node is down"
description: ""
project: community
lastmod: 2010-05-31T10:00:30-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00470"
mailinglist_parent_id: "msg00469"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2010-05-31T10:00:30-07:00
---


Mabe it's tring to get all keys? Try with keys=false... Mabe try with r=1?

On 2010-05-31, Johan Harjono  wrote:
&gt; Hi,
&gt;
&gt; I'm having a trouble querying a bucket when one of the nodes in the cluster
&gt; is down. This is what I did
&gt;
&gt; 1. Set up a cluster of two nodes, call them node1 and node2
&gt; 2. Use curl to create a bucket "users" and key "user1" with value "Hello
&gt; World"
&gt; 3. Test that I can use curl to fetch the bucket and key from both node1 and
&gt; node2 (i.e. GET /bucket/ and GET /bucket/key)
&gt; 4. use `riak stop` to stop one of the nodes from running
&gt; 5. Use curl to GET bucket/key - this works (and of course, the request is
&gt; directed at the node that is still running)
&gt; 6. Use curl to GET bucket/ - at this point it just hangs
&gt;
&gt; What I do not understand is how it is possible that when one of the nodes is
&gt; down, GET on a bucket/key works, but GET on a bucket/ does not. Any thoughts
&gt; on this?
&gt;
&gt; thank you,
&gt; Johan
&gt;

-- 
Sent from my mobile device

