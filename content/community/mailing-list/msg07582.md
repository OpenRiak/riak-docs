---
title: "Re: Riak as Binary File Store"
description: ""
project: community
lastmod: 2012-05-31T02:20:54-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07582"
mailinglist_parent_id: "msg07562"
author_name: "Praveen Baratam"
project_section: "mailinglistitem"
sent_date: 2012-05-31T02:20:54-07:00
---


Thank you everybody for the feedback.

I am planning to write binary data to Riak from the application server
which handles upload. On the read side I am planning to use Apache with
mod\\_proxy and mod\\_rewrite to directly fetch from Riak and serve the files
without any other application server / scripting overhead.

I feel this is the least overhead path to using Riak as a file store.

Comments please.

On Thu, May 31, 2012 at 2:48 PM, Praveen Baratam
wrote:

&gt; Thank you everybody for the feedback.
&gt;
&gt; I am planning to write binary data to Riak from the application server
&gt; which handles upload. On the read side I am planning to use Apache with
&gt; mod\\_proxy and mod\\_rewrite to directly fetch from Riak and serve the files
&gt; without any other application server / scripting overhead.
&gt;
&gt; I feel this is the least overhead path to using Riak as a file store.
&gt;
&gt; Comments please.
&gt;
&gt;
&gt; On Tue, May 29, 2012 at 10:28 PM, Mark Phillips  wrote:
&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; On Tue, May 29, 2012 at 12:51 PM, Vlad Gorodetsky  wrote:
&gt;&gt;
&gt;&gt;&gt; I've read somewhere here on the mailing list that storing blobs that
&gt;&gt;&gt; are more than 50KB isn't recommended.
&gt;&gt;&gt; Is that correct? If so, is it something specific to storage backend?
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt; Riak can probably handle objects up to about 10MBs. That said, depending
&gt;&gt; on your hardware and network, the functional limit is probably smaller than
&gt;&gt; that. Also, keep in mind n\\_val when writing large values. (i.e., 5MB with
&gt;&gt; an n\\_val of 3 = 15MB across the wire).
&gt;&gt;
&gt;&gt; Mark
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt; ~Vlad
&gt;&gt;&gt;
&gt;&gt;&gt; On Tue, May 29, 2012 at 3:51 PM, Alvaro Videla 
&gt;&gt;&gt; wrote:
&gt;&gt;&gt; &gt; Like this perhaps: https://github.com/johnthethird/riak-fuse\\*cough\\* 
&gt;&gt;&gt; &gt; \\*cough\\*
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; On Tue, May 29, 2012 at 2:49 PM, Shuhao Wu  wrote:
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; It'll be interesting if you can write a filesystem on top of Riak.
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; That would be a cool project to see on github :P
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; Shuhao
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; On Tue, May 29, 2012 at 8:36 AM, Praveen Baratam
&gt;&gt;&gt; &gt;&gt;  wrote:
&gt;&gt;&gt; &gt;&gt;&gt;
&gt;&gt;&gt; &gt;&gt;&gt; Hello Everybody!
&gt;&gt;&gt; &gt;&gt;&gt;
&gt;&gt;&gt; &gt;&gt;&gt; I have read abundantly over the web that Riak is very well suited to
&gt;&gt;&gt; &gt;&gt;&gt; store and retrieve small binary objects such as images, docs, etc.
&gt;&gt;&gt; &gt;&gt;&gt;
&gt;&gt;&gt; &gt;&gt;&gt; In our scenario we are planning to use Riak to store uploads to our
&gt;&gt;&gt; &gt;&gt;&gt; portal which is a Social Network. Uploads are mostly images with
&gt;&gt;&gt; maximum
&gt;&gt;&gt; &gt;&gt;&gt; size of 2 MB and typical size ranges between few KBs to few 100 KBs.
&gt;&gt;&gt; &gt;&gt;&gt;
&gt;&gt;&gt; &gt;&gt;&gt; Does this usage pattern fit Riak? What are the caveats if any?
&gt;&gt;&gt; &gt;&gt;&gt;
&gt;&gt;&gt; &gt;&gt;&gt; Thank you!
&gt;&gt;&gt; &gt;&gt;&gt;
&gt;&gt;&gt; &gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt; &gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; &gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; &gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;&gt; &gt;&gt;&gt;
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt; &gt;&gt; riak-users mailing list
&gt;&gt;&gt; &gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; &gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt; &gt; riak-users mailing list
&gt;&gt;&gt; &gt; riak-users@lists.basho.com
&gt;&gt;&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;&gt; &gt;
&gt;&gt;&gt;

&gt;&gt;&gt;
&gt;&gt;
&gt;
