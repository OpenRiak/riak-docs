---
title: "Re: Random but frequent crashes"
description: ""
project: community
lastmod: 2011-11-20T08:31:04-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05689"
mailinglist_parent_id: "msg05672"
author_name: "Michael Jakl"
project_section: "mailinglistitem"
sent_date: 2011-11-20T08:31:04-08:00
---


Hi!

On Fri, Nov 18, 2011 at 22:01, Sean Cribbs  wrote:
&gt; The first thing that jumps out to me is the line that says: alarm\\_handler:
&gt; {set,{system\\_memory\\_high\\_watermark,[]}}, followed by a lot of "long\\_gc"
&gt; messages. My guess is that you have too much memory pressure (which can be a
&gt; problem with Bitcask when you have lots of keys) and so the Erlang VM exits
&gt; when it reaches OOM. On your next node startup, monitor the VSZ of the
&gt; "beam.smp" process by using the ps command and make sure it doesn't reach
&gt; the maximum RAM in your system.
&gt; Hope that helps,

The error was logged in the syslog, not in the Riak logfiles:
Nov 18 22:17:36 stage2 kernel: [115170.302399] Out of memory: kill
process 16418 (run\\_erl) score 25143326 or a child

Too bad I didn't look there earlier.

Thanks, that helped a lot. I'll close the bug report too.

Cheers,
Michael

