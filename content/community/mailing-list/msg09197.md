---
title: "Re: Rebar: user defined macro"
description: ""
project: community
lastmod: 2012-11-05T08:37:35-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09197"
mailinglist_parent_id: "msg09193"
author_name: "Zabrane Mickael"
project_section: "mailinglistitem"
sent_date: 2012-11-05T08:37:35-08:00
---


Thx Bryan, found it during the weekend ;)

Regards,
Zabrane

On Nov 5, 2012, at 4:45 PM, Bryan Fink wrote:

&gt; On Fri, Nov 2, 2012 at 5:17 PM, Zabrane Mickael  wrote:
&gt;&gt; I've this in my makefile:
&gt;&gt; 
&gt;&gt; compile:
&gt;&gt; @$(REBAR) compile -Dfoo=17
&gt; ...snip...
&gt;&gt; How can I defined macro with value using rebar?
&gt; 
&gt; Hi, Zabrane.
&gt; 
&gt; It looks to me like the command line -D option for rebar does not
&gt; support defining values for macros. The makefile line above causes
&gt; rebar to define the 'foo=17' macro, not a macro 'foo' with value 17.
&gt; 
&gt; I think the only way to do what you want is by adding 'd' tuples to
&gt; your 'erl\\_opts' list in your rebar.config:
&gt; 
&gt; {erl\\_opts, [{d, foo, 17}]}.
&gt; 
&gt; The rebar mailing list may have better answers:
&gt; http://lists.basho.com/mailman/listinfo/rebar\\_lists.basho.com
&gt; 
&gt; -Bryan
