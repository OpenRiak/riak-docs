---
title: "Re: JSON lib for erlang"
description: ""
project: community
lastmod: 2010-07-29T04:02:02-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00799"
mailinglist_parent_id: "msg00797"
author_name: "Kevin Smith"
project_section: "mailinglistitem"
sent_date: 2010-07-29T04:02:02-07:00
---


mochijson2 is what I tell anyone who asks to use. Representing strings as 
binaries avoids a whole host of data mangling problems when you have to deal 
with non-ASCII or non- ISO-8859 character sets. Strings as binaries also frees 
up lists to be interpreted as JSON arrays. This simplifies the data 
representation since the only annotation you have to provide is on hashes aka 
structs:

{struct, [{username, &lt;&lt;"jdoe"&gt;&gt;}, {first\\_name, &lt;&lt;"John"&gt;&gt;}, {last\\_name, 
&lt;&lt;"Doe"&gt;&gt;}]}

translates to:

{"username": "jdoe",
 "first\\_name": "John",
 "last\\_name": "Doe"}

mochijson requires, if I remember correctly, annotations for both arrays and 
structs which is more "noisy" when you're doing lots of encoding and decoding.

--Kevin
On Jul 29, 2010, at 2:09 AM, Dan Reverri wrote:

&gt; Hi Wilson,
&gt; 
&gt; Mochijson is a popular choice. I would recommend using mochijson2 because it 
&gt; handles strings as binaries.
&gt; 
&gt; There is also erlang-rfc4627 which I have not used but looks pretty good:
&gt; http://tonyg.github.com/erlang-rfc4627/
&gt; 
&gt; 
&gt; Daniel Reverri
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; d...@basho.com
&gt; 
&gt; 
&gt; On Wed, Jul 28, 2010 at 10:46 PM, Dmitry Demeshchuk  
&gt; wrote:
&gt; mochijson.erl and mochijson2.erl are used by RIak itself, you can use them.
&gt; 
&gt; As for me, I prefer the first one, as the second one requires
&gt; converting JSON strings to binaries.
&gt; 
&gt; On Thu, Jul 29, 2010 at 9:11 AM, Wilson MacGyver  wrote:
&gt; &gt; At the risk of somewhat off topic, what JSON lib does everyone use with the
&gt; &gt; Erlang riak client?
&gt; &gt;
&gt; &gt;
&gt; 
&gt; 
&gt; 
&gt; --
&gt; Best regards,
&gt; Dmitry Demeshchuk
&gt; 
 
