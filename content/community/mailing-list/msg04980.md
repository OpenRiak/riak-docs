---
title: "Re: Rolling Upgrade (was Re: Riak 1.0)"
description: ""
project: community
lastmod: 2011-10-02T17:15:50-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04980"
mailinglist_parent_id: "msg04973"
author_name: "54chen"
project_section: "mailinglistitem"
sent_date: 2011-10-02T17:15:50-07:00
---


Thanks.I will have a try.

2011/10/2 Jeremiah Peschka 

&gt; Once again, I was wrong. Such is life :)
&gt;
&gt; Jeremiah Peschka
&gt; Founder, Brent Ozar PLF
&gt; On Oct 1, 2011 1:24 PM, "Kev Burns"  wrote:
&gt; &gt; I just did a riak-admin backup on a 0.14.2 dev cluster using the bitcask
&gt; &gt; backend,
&gt; &gt; then did a riak-admin restore on a 1.0.0 dev cluster using the eleveldb
&gt; &gt; backend.
&gt; &gt;
&gt; &gt; No problem.
&gt; &gt;
&gt; &gt; - Kev
&gt; &gt; c: +001 (650) 521-7791
&gt; &gt;
&gt; &gt;
&gt; &gt; 2011/10/1 Jeremiah Peschka 
&gt; &gt;
&gt; &gt;&gt; You can perform a rolling upgrade of each of the existing Riak nodes to
&gt; &gt;&gt; bring your 0.14.2 bitcask Riak up to a 1.0.0 bitcask Riak.
&gt; &gt;&gt;
&gt; &gt;&gt; Unfortunately, there's no way to convert from one backend data store to
&gt; &gt;&gt; another apart from re-writing all of your keys into a new bucket with
&gt; the
&gt; &gt;&gt; appropriate storage configuration and then deleting them from the
&gt; original
&gt; &gt;&gt; bucket. You could also stand up another cluster on a different set of
&gt; &gt;&gt; machines and just read out of the 0.14.2 cluster into the 1.0.0 cluster.
&gt; &gt;&gt;
&gt; &gt;&gt; Hope that helps,
&gt; &gt;&gt;
&gt; &gt;&gt; ---
&gt; &gt;&gt; Jeremiah Peschka - Founder, Brent Ozar PLF, LLC
&gt; &gt;&gt; Microsoft SQL Server MVP
&gt; &gt;&gt;
&gt; &gt;&gt; On Sep 30, 2011, at 10:41 PM, 54chen wrote:
&gt; &gt;&gt;
&gt; &gt;&gt; &gt; Congratulations!
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; Can you give me an example of how the 0.14.2（bitcask） upgrade to
&gt; &gt;&gt; 1.0（levelDB）?
&gt; &gt;&gt; &gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt;&gt; riak-users mailing list
&gt; &gt;&gt; riak-users@lists.basho.com
&gt; &gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt;&gt;
&gt;

-- 
-
http://www.54chen.com 坚持科学 分享技术
http://twitter.com/54chen
