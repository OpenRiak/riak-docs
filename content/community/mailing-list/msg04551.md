---
title: "Re: changing bucket default settings"
description: ""
project: community
lastmod: 2011-09-01T05:24:50-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04551"
mailinglist_parent_id: "msg04549"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2011-09-01T05:24:50-07:00
---


Giancarlo,

Did you set a bucket property on the 'test' bucket before setting the
defaults? If so, then the defaults at that time got merged with the property
you set and stored in the ring state, making the new default props have no
effect on them.

On Thu, Sep 1, 2011 at 4:02 AM, Giancarlo Frison  wrote:

&gt; Hi all,
&gt;
&gt; I'm trying to change the bucket default settings on app.config, I insert
&gt; these row find on http://wiki.basho.com/Configuration-Files.html :
&gt;
&gt; {default\\_bucket\\_props, [{n\\_val,1},
&gt; {allow\\_mult,false},
&gt; {last\\_write\\_wins,false},
&gt; {precommit, []},
&gt; {postcommit, []},
&gt; {chash\\_keyfun, {riak\\_core\\_util, chash\\_std\\_keyfun}},
&gt; {linkfun, {modfun, riak\\_kv\\_wm\\_link\\_walker, mapreduce\\_linkfun}}]}
&gt;
&gt; I just update n\\_val to 1.
&gt;
&gt; I shutdown riak, drop the data/ folder and start riak. Seems the new config
&gt; isn't apply because I get n\\_val=3 again:
&gt;
&gt; curl http://localhost:8098/riak/test
&gt;
&gt; {"props":{"name":"test","n\\_val":3,"allow\\_mult":false,"last\\_write\\_wins":false,"precommit":[],"postcommit":[],"chash\\_keyfun":{"mod":"riak\\_core\\_util","fun":"chash\\_std\\_keyfun"},"linkfun":{"mod":"riak\\_kv\\_wm\\_link\\_walker","fun":"mapreduce\\_linkfun"},"old\\_vclock":86400,"young\\_vclock":20,"big\\_vclock":50,"small\\_vclock":10,"r":"quorum","w":"quorum","dw":"quorum","rw":"quorum"}}
&gt;
&gt; How I can change the bucket settings?
&gt;
&gt; Thanks
&gt;
&gt; @gfrison
&gt;
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;


-- 
Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://www.basho.com/
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

