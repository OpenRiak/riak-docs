---
title: "Re: \"Bad message code\" error from Java ProtoBuf client?"
description: ""
project: community
lastmod: 2012-12-14T14:20:30-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09587"
mailinglist_parent_id: "msg09586"
author_name: "Gideon de Kok"
project_section: "mailinglistitem"
sent_date: 2012-12-14T14:20:30-08:00
---


The message codes correspond with the PBC codes at stated on the wiki: 
http://docs.basho.com/riak/latest/references/apis/protocol-buffers/

Cheers,

Gideon 

Op 14 dec. 2012 om 22:55 heeft Tim W  het volgende 
geschreven:

&gt; I'm seeing the following message emitted from a query to Riak:
&gt; 
&gt; com.basho.riak.client.RiakRetryFailedException: java.io.IOException: bad 
&gt; message code. Expected: 10 actual: 18
&gt; at 
&gt; com.basho.riak.client.cap.DefaultRetrier.attempt(DefaultRetrier.java:79)
&gt; at 
&gt; com.basho.riak.client.cap.DefaultRetrier.attempt(DefaultRetrier.java:81)
&gt; at 
&gt; com.basho.riak.client.cap.DefaultRetrier.attempt(DefaultRetrier.java:81)
&gt; at 
&gt; com.basho.riak.client.cap.DefaultRetrier.attempt(DefaultRetrier.java:81)
&gt; 
&gt; I'm also seeing this a bit further down in the log:
&gt; 
&gt; Caused by: java.io.IOException: bad message code. Expected: 10 actual: 18
&gt; at com.basho.riak.pbc.RiakConnection.receive(RiakConnection.java:126)
&gt; at com.basho.riak.pbc.RiakClient.processFetchReply(RiakClient.java:278)
&gt; at com.basho.riak.pbc.RiakClient.fetch(RiakClient.java:252)
&gt; at com.basho.riak.pbc.RiakClient.fetch(RiakClient.java:241)
&gt; at 
&gt; com.basho.riak.client.raw.pbc.PBClientAdapter.fetch(PBClientAdapter.java:156)
&gt; at com.basho.riak.client.operations.FetchObject$1.call(FetchObject.java:102)
&gt; at 
&gt; com.basho.riak.client.operations.FetchObject$1.call(FetchObject.java:100)
&gt; at 
&gt; com.basho.riak.client.cap.DefaultRetrier.attempt(DefaultRetrier.java:72)
&gt; 
&gt; 
&gt; This crops up periodically, during different operations, and disappears just 
&gt; as mysteriously.
&gt; 
&gt; Any hint as to what this really means? (For example, is there somewhere I 
&gt; can look up these error codes?)
&gt; 
&gt; For the record, I'm running Riak 1.1.4 with Java client 1.0.5.
&gt; 
&gt; Thanks in advance!
&gt; - Tim
&gt; 
