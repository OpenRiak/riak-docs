---
title: "Re: Riak doesn't use consistent hashing."
description: ""
project: community
lastmod: 2011-05-26T11:31:43-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03435"
mailinglist_parent_id: "msg03424"
author_name: "Greg Nelson"
project_section: "mailinglistitem"
sent_date: 2011-05-26T11:31:43-07:00
---


Excellent. Let me know what I can do to help.

-Greg
On Thursday, May 26, 2011 at 7:37 AM, Justin Sheehy wrote: 
&gt; Hi, Greg.
&gt; 
&gt; Thanks for your thoughtful analysis and the pull request.
&gt; 
&gt; On Thu, May 26, 2011 at 1:54 AM, Greg Nelson  wrote:
&gt; 
&gt; &gt; However, the skipping bit isn't part of
&gt; &gt; Riak's preflist calculation. Instead, nodes claim partitions in such a way
&gt; &gt; as to be spaced out by target\\_n\\_val, to obviate the need for skipping.
&gt; 
&gt; A fun bit of history here: once upon a time, Riak's claiming worked in
&gt; the same way as described by Amazon, with "skipping" and all. We
&gt; noticed that this approach caused a different set of operational
&gt; difficulties when hinted handoff due to node outages was occurring at
&gt; the same time as a membership change. That prompted changes to the
&gt; claim algorithm, which we still consider an area deserving of active
&gt; improvement.
&gt; 
&gt; Multiple people will be reading, analyzing, and testing your work to
&gt; contribute to this improvement. We very much appreciate your efforts,
&gt; and want to make sure that we incorporate them in the best possible
&gt; way.
&gt; 
&gt; Thanks,
&gt; 
&gt; -Justin
&gt; 
