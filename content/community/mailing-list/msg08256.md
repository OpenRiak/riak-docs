---
title: "Re: MapReduce paging result"
description: ""
project: community
lastmod: 2012-08-09T23:07:46-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08256"
mailinglist_parent_id: "msg08246"
author_name: "Daniil Churikov"
project_section: "mailinglistitem"
sent_date: 2012-08-09T23:07:46-07:00
---


To do paging in mapreduce queries I make queries based on secondary indexes
(2i). My keys is ordered by date and so I could ask date period. If you need
results based on not dates but number of keys, you could name your keys like
"00001", "00002", etc. But it would be problem with strict number of results
if you sometimes drop some keys.
Example of mapred query with 2i(leveldb backend) and riak protocol buffers
client:

riakc\\_pb\\_socket:mapred(
 Conn,
 {index, &lt;&lt;"page\\_bucket"&gt;&gt;, &lt;&lt;"$key"&gt;&gt;, From = "00001", To = "00099"},
 [{map, {modfun, riak\\_kv\\_mapreduce, map\\_object\\_value}, none, true}]
).

--
View this message in context: 
http://riak-users.197444.n3.nabble.com/MapReduce-paging-result-tp4024959p4024969.html
Sent from the Riak Users mailing list archive at Nabble.com.

