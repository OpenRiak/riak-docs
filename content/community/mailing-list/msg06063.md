---
title: "Re: Building and packaging riak from source"
description: ""
project: community
lastmod: 2011-12-23T09:10:37-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06063"
mailinglist_parent_id: "msg06059"
author_name: "Jared Morrow"
project_section: "mailinglistitem"
sent_date: 2011-12-23T09:10:37-08:00
---


1. The link you have is the most detailed one we have so far for installing
from source. I'm not really familiar with gentoo packaging, but if you
can package from a source file, doing a 'make rel' in the riak repository
will get you a .tar.gz with the proper files included.

2. We aren't using a system-wide js library because we need it integrated
into erlang as part of our erlang-js library. That library at one point
in time needed to work on solaris sparc, which was a supported platform at
the time. This significantly limited the number of javascipt libraries we
could use. Since javascript is such a fundamental part of how we
function, it is important that we test against a fixed library. Using a
system wide one instead of an integrated one is currently not possible. In
the future, we have plans to update our JS runtime now that there are
better options out there that can run on multiple platforms, but it won't
be for the 1.1 release unfortunately.

3. Riak master (https://github.com/basho/riak) has the R14B04 inclusion,
but at the time of release of 1.0.2, 14B04 was not available. This is why
packaged source from our downloads site will not include 14b04 and was
tested only against 14b03.

-Jared

On Fri, Dec 23, 2011 at 8:23 AM, Ultrabug  wrote:

&gt; Hi,
&gt;
&gt; I'm interested in packaging riak for Gentoo Linux but I'm running in
&gt; some troubles having a clean build of riak (I'm not used to erlang
&gt; building tbh) so I'll start with a few questions if I may.
&gt;
&gt; 1/ Is there a more detailed article I failed to find about how to build
&gt; "properly" riak (I mean like choosing the target installation
&gt; directories etc) ? [1]
&gt;
&gt; 2/ Why are you not using system-wide nspr/spidermonkey libraries instead
&gt; of bundling them ? Is there a way somewhere to specify we want to use
&gt; the system ones at build time ?
&gt;
&gt; 3/ Installation instructions says "Riak requires Erlang R14B03 or
&gt; later." but when trying to get it working with R14B04 it failed. You may
&gt; want to adjust your regular expression in rebar.config to at least
&gt; R14B0[234].
&gt;
&gt; Thanks in advance for your answers and help.
&gt;
&gt; Regards,
&gt;
&gt; [1] http://wiki.basho.com/Installing-Riak-from-Source.html
&gt;

