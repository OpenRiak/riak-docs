---
title: "Is it possible/wise to modify riak search index objects?"
description: ""
project: community
lastmod: 2012-07-20T14:49:51-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08003"
author_name: "Metin Akat"
project_section: "mailinglistitem"
sent_date: 2012-07-20T14:49:51-07:00
---


Hi,

I am using riak to store (relatively large) text files. I store them as
normal riak objects where the value is the text of the file. Now I want to
index and search them. All is fine, I just enabled the "standard" search
pre-commit hook for that bucket and they get indexed nicely. But, there is
one tricky requirement. I need to be able to index and search some metadata
about these files. For example date of submission, size of file, type
(internal business logic) of file etc.

I have been thinking quite a lot about this recently. Asked several times
on #riak. I got one answer suggesting that I create a second "metadata"
riak object for each file, link it to the "file object" and index it
separately. That's not really what I want, because I need to be able to
execute "combined" queries, like value: AND date:.

So, here is the ideal solution that I'm thinking about.... It would be
great if it's possible to modify the riak search index object. After the
file is submitted, and after it's indexed, I could just fetch the index and
just add some more fields to it.
I see there is a bucket with the search index objects that's automatically
created by riak search. So I guess it is indeed possible, though I don't
know what to expect. Is it a good idea? If not, what else could I do in
order to solve the problem?

Regards,
Metin
