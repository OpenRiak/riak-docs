---
title: "Re: Best way to back-up riak"
description: ""
project: community
lastmod: 2010-07-27T07:03:30-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00790"
mailinglist_parent_id: "msg00768"
author_name: "Justin Sheehy"
project_section: "mailinglistitem"
sent_date: 2010-07-27T07:03:30-07:00
---


On Wed, Jul 21, 2010 at 2:01 PM, Alan McConnell  wrote:

&gt; I'm curious about this as well.  Say I have a ten node cluster.  Could I
&gt; just schedule a midnight copy of each bitcask data directory every night,
&gt; then restore to another ten node cluster by dropping one of each data
&gt; directories on each new node?  How close does the timing needs to be?  What
&gt; if the data directory snapshots were taken seconds or minutes apart?

While Basho does provide a product including features that make
whole-datacenter failure much less of a problem (by fully replicating
to a cluster in another location) I will answer assuming you have only
a single cluster.

The timing doesn't have to be perfectly synchronized, but you should
try to make it as close as is practical just so that you have a good
way to judge what is contained in a given backup. If a storage (put)
operation occurs in an interval between single-node backups, it will
be present in the restored cluster when requested (and repopulated via
read-repair) as long as it was in at least one of the nodes.

-Justin

