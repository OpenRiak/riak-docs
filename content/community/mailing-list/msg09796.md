---
title: "Re: Ripple file attachments"
description: ""
project: community
lastmod: 2013-01-10T17:37:21-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09796"
mailinglist_parent_id: "msg09758"
author_name: "Mark Phillips"
project_section: "mailinglistitem"
sent_date: 2013-01-10T17:37:21-08:00
---


Hi Ariel,

On Mon, Jan 7, 2013 at 7:35 PM, Ariel Valentin  wrote:
&gt; Thanks for the reply.
&gt;
&gt; I recently learned about carrierwave, which does not have a dependency on 
&gt; activerecord. I think am going to give that a try. I don't like the idea of 
&gt; having embedded documents in this case but rather a reference to a value in a 
&gt; separate bucket.
&gt;
&gt; I will RTFM when I get a chance but is 4MB a magic number? What happens when 
&gt; an entry exceeds that size?
&gt;

That's around where Riak will start to become less-than-happy with the
object size it has to buffer in memory and then write to disk. There's
nothing hard-coded in Riak to prevent you from storing something
bigger than 4MB, nor will it result in total protonic reversal [0] if
you attempt to do so. But, to keep things performant, that's around
where we advise people to cap object sizes if possible. YMMV.

Hope that helps.

Mark

[0] http://www.youtube.com/watch?v=jyaLZHiJJnE

&gt; Thanks,
&gt; Ariel
&gt; ---
&gt; Sent from my mobile device. Please excuse any errors.
&gt;
&gt; On Jan 7, 2013, at 10:04 PM, Mark Phillips  wrote:
&gt;
&gt;&gt; Hi Ariel,
&gt;&gt;
&gt;&gt; On Tue, Dec 18, 2012 at 7:23 PM, Ariel Valentin  
&gt;&gt; wrote:
&gt;&gt;&gt; Does Ripple provide file attachement functionality similar to paperclip or
&gt;&gt;&gt; attachement\\_fu?
&gt;&gt;&gt;
&gt;&gt;&gt; I'd like to be able to attach binary data to a Ripple Document object that
&gt;&gt;&gt; is being stored in a different bucket.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; It looks like you can add any property to Ripple::Document [0]. Though
&gt;&gt; it doesn't seem to be documented (as far as I can tell), this could
&gt;&gt; certainly be a binary blob. (Just make sure said blob isn't much
&gt;&gt; bigger than 4MB or so.)
&gt;&gt;
&gt;&gt; Also, since you mentioned it, someone released a Paperclip module for
&gt;&gt; Riak [1] about a month back.
&gt;&gt;
&gt;&gt; Hope that helps.
&gt;&gt;
&gt;&gt; Mark
&gt;&gt; twitter.com/pharkmillups
&gt;&gt;
&gt;&gt; [0] http://basho.github.com/ripple/#Document\\_Model\\_Examples
&gt;&gt; [1] https://github.com/xinuc/paperclip-riak
&gt;&gt;
&gt;&gt;&gt; Ariel Valentin
&gt;&gt;&gt; e-mail: ar...@arielvalentin.com
&gt;&gt;&gt; website: http://blog.arielvalentin.com
&gt;&gt;&gt; skype: ariel.s.valentin
&gt;&gt;&gt; twitter: arielvalentin
&gt;&gt;&gt; linkedin: http://www.linkedin.com/profile/view?id=8996534
&gt;&gt;&gt; ---------------------------------------
&gt;&gt;&gt; \\*simplicity \\*communication
&gt;&gt;&gt; \\*feedback \\*courage \\*respect
&gt;&gt;&gt;
&gt;&gt;&gt;

&gt;&gt;&gt;

