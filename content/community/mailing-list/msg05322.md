---
title: "Re: Difference between 2I and Search"
description: ""
project: community
lastmod: 2011-10-26T09:28:04-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05322"
mailinglist_parent_id: "msg05292"
author_name: "Elias Levy"
project_section: "mailinglistitem"
sent_date: 2011-10-26T09:28:04-07:00
---


On Wed, Oct 26, 2011 at 9:00 AM,  wrote:

&gt; From: Kresten Krab Thorup 
&gt;
&gt; Perhaps as follow-up FAQ-style questions, you could also answer these
&gt; questions:
&gt;
&gt; 1. What is the typical execution profile of 2i vs solr queries? Do all
&gt; queries go to all nodes in the cluster, or does it depend on the query? I
&gt; imagine that range-queries need to go to all vnodes, whereas simple
&gt; "prop=value" queries may be more directly to a node holding the given index.
&gt;
&gt; 2. What is the reliability N,R,W / replication / failover properties of
&gt; these indexes? How do the two different index types reconcile after a
&gt; netsplit / crash?
&gt;

That is a good question. My understanding is that Riak Search essentially
operates with R=1, N=3, and W=0 by default. But since Riak does not
automatically replicate data if you loose a node, in that situation, even if
you bring a new node into the cluster to replace a lost one, it would imply
that in a three node cluster, 1/3 of times a query may find no answers, if
the query is routed to the new nodes added to the cluster that should have
but does not have one replica.

Is that correct?

If so, it would seem the default W=3 gives a false sense of security. Yes,
you got replicas of the data, but by default there is on guarantee you'll
use one of them after loosing a node and replacing it.

Is there a way to set the R value for search?
