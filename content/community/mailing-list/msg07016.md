---
title: "Re: Optimistic concurrency in Riak"
description: ""
project: community
lastmod: 2012-03-21T12:56:25-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07016"
mailinglist_parent_id: "msg07015"
author_name: "Jeremiah Peschka"
project_section: "mailinglistitem"
sent_date: 2012-03-21T12:56:25-07:00
---


You can still get siblings/conflicts even with if\\_not\\_modified/If-None-Match 
because two conflict writes can arrive at the exact same time. It's probably a 
pretty rare event, but it's worth being aware of because if could cause 
unexpected things to happen in your application if you aren't aware of the 
potential.

Combining if\\_not\\_modified with PW/PR you could potentially simulate a 
reasonable approximation of optimistic concurrency control, but you still won't 
get the serializability enforcement that you would get out of something like 
serializable snapshot isolation.

A better question is: What are you trying to accomplish?

Perhaps once we know the overall goal we can tell if you Riak can do what you 
want.
---
Jeremiah Peschka - Managing Director, Brent Ozar PLF, LLC
Microsoft SQL Server MVP

On Mar 21, 2012, at 12:15 PM, Ransom Richardson wrote:

&gt; Does riak support optimistic concurrency? This KB article seems to indicate 
&gt; not: 
&gt; https://help.basho.com/entries/321522-can-riak-be-configured-to-fail-an-update-instead-of-generating-a-conflict
&gt; 
&gt; But if it doesn't, what is the meaning of the if\\_not\\_modified field in the 
&gt; PBC Store Object: http://wiki.basho.com/PBC-Store-Object.html?
&gt; 
&gt; If strict quorum is used (as described here: 
&gt; http://lists.basho.com/pipermail/riak-users\\_lists.basho.com/2012-January/007157.html)
&gt; will that allow optimistic concurrency to be implemented (once the bugs 
&gt; mentioned in the message are fixed)? Is there any update on those bugs?
&gt; 
&gt; thanks,
&gt; Ransom
