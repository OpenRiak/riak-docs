---
title: "RE: Riak startup failing."
description: ""
project: community
lastmod: 2012-12-29T10:02:44-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09710"
mailinglist_parent_id: "msg09709"
author_name: "Kevin Burton"
project_section: "mailinglistitem"
sent_date: 2012-12-29T10:02:44-08:00
---


Here is what I found out (I am still stuck)
https://github.com/basho/basho\\_docs/issues/28

 

 

The step says to rename or remove the data/ring directory. My data directory
is /var/lib/riak. If I rename or remove that directory then no commands
work. I have assumed it meant to rename or remove just the ring directory
which is for me /var/lib/riak/ring. When the node is restarted the ring
directory is recreated.

When I issue riak-admin down (I have to specify the node name since it is
required) I get errors/warnings:

 

~$ sudo riak-admin down r...@xxx.xxx.xxx.xxx

Attempting to restart script through sudo -H -u riak

Node is not running!

 

I am not sure what it means to join the existing cluster on the first node.
Is this riak-admin cluster join? For the first node I get an error

 

~$ sudo riak-admin cluster join r...@xxx.xxx.xxx.xxx

Attempting to restart script through sudo -H -u riak

Join failed. Try again in a few moments.

 

There is no 'force-replace' argument to riak-admin and that command seems to
be deprecated. There is a force-replace for riak-admin cluster but it takes
two nodes as arguments which I am not sure what to put there. What should I
use?

 

These steps seem to get me further but still there are gaps (at least for
me).

 

 

 

 

 

 

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

