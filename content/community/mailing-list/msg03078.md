---
title: "Re: This sure looks like a bug...?"
description: ""
project: community
lastmod: 2011-04-18T17:09:05-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03078"
mailinglist_parent_id: "msg03077"
author_name: "Bryan O'Sullivan"
project_section: "mailinglistitem"
sent_date: 2011-04-18T17:09:05-07:00
---


On Mon, Apr 18, 2011 at 4:59 PM, Dan Reverri  wrote:

&gt;
&gt; I've tried to provide a walk through below that explains the behavior. The
&gt; main lesson to take away is you should always provide a client id and vector
&gt; clock.
&gt;

Thanks for the description of what's going on. From your description, it
looks like this is a class of bug that could be very difficult for clients
to program defensively against. The case of a missing vclock is easy enough
(flag a conflict against whatever was returned by the server), but what if a
client erroneously issues two successive puts to the same bucket+key with
the same vclock? Since clients have to treat vclocks as opaque, I can't
think of a way to identify the case of "this put was rejected because the
vclock was considered stale".
