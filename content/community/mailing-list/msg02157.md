---
title: "Re: How do you choose riak search over map reduce vice versa?"
description: ""
project: community
lastmod: 2011-01-29T20:26:08-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02157"
mailinglist_parent_id: "msg02155"
author_name: "Joshua Partogi"
project_section: "mailinglistitem"
sent_date: 2011-01-29T20:26:08-08:00
---


Hi all,

Thank you for sharing. Really appreciate it. I think I would use search over
map-reduce now and reserve map-reduce only for special case. I also found it
easier to write and maintain a search query rather than map-reduce query.

Kind regards,
Joshua

On Sun, Jan 30, 2011 at 2:58 PM, Jeremiah Peschka &lt;
jeremiah.pesc...@gmail.com&gt; wrote:

&gt; Following on what others have said: I would use Riak Search when I need to
&gt; do searching and querying.
&gt;
&gt; I would use MapReduce when I have distributed functionality that I need to
&gt; perform (aggregations, complex data manipulation) or when the conditions of
&gt; my query are complex enough that I cannot feasibly perform the query in a
&gt; Riak Search (e.g. find every employee whose base salary + bonuses + stock
&gt; options exercised is more that 150% of base salary).
&gt;
&gt; Jeremiah Peschka
&gt; Microsoft SQL Server MVP
&gt; MCITP: Database Developer, DBA
&gt;
&gt;
&gt;
&gt; On Sat, Jan 29, 2011 at 10:31 PM, Ryan Zezeski  wrote:
&gt;
&gt;&gt; Joshua,
&gt;&gt;
&gt;&gt; I recently switched from using riak to riak-search in order to index my
&gt;&gt; data without requiring a map-reduce each time I wanted to query. For
&gt;&gt; example, my application needs the ability to filter a set of file objects
&gt;&gt; based on various attributes such as type and creation time. Using riak I
&gt;&gt; achieved this with map-reduce but it required a mapred over a bucket each
&gt;&gt; time which was just too expensive (I was using the fs backend which didn't
&gt;&gt; help). To combat this I created a cache of the results but my application
&gt;&gt; also requires that a new file is immediately seen by the system which means
&gt;&gt; I was still running the map-reduce job too often. I then turned to
&gt;&gt; riak-search which allowed me to index the data as it comes in (giving the
&gt;&gt; system immediate visibility of new files) and allowed for very efficient,
&gt;&gt; low latency queries.
&gt;&gt;
&gt;&gt; I'd say if you have a job that you are going to run \\_very\\_ often for the
&gt;&gt; purpose of indexing your data then you might want to look at search.
&gt;&gt;
&gt;&gt; -Ryan
&gt;&gt;
&gt;&gt;
&gt;&gt; On Sat, Jan 29, 2011 at 10:05 AM, Joshua Partogi wrote:
&gt;&gt;
&gt;&gt;&gt; How do you choose whether to use one over the other? What are the
&gt;&gt;&gt; criterias I should look at?
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks heaps
&gt;&gt;&gt;
&gt;&gt;&gt; --
&gt;&gt;&gt; http://twitter.com/jpartogi 
&gt;&gt;&gt;
&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;


-- 
http://twitter.com/jpartogi 
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

