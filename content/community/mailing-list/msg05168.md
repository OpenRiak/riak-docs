---
title: "Re: vnode crashes with \"{badmatch,{error,enoent}}\""
description: ""
project: community
lastmod: 2011-10-14T16:58:35-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05168"
mailinglist_parent_id: "msg05167"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2011-10-14T16:58:35-07:00
---


Can you try adding "platform\\_data\\_dir" to "riak\\_core"?

I think the following will work in your case:
node[:riak][:core][:platform\\_data\\_dir] = "/mnt/riak"

Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Fri, Oct 14, 2011 at 4:24 PM, Spike Gronim  wrote:

&gt; Hello Riak users,
&gt;
&gt; I am trying to start my first Riak cluster via the Basho Chef cookbook. I
&gt; installed 1.0.0 via the deb file on a fresh Ubuntu ec2 c1.medium. I am
&gt; trying to use LevelDB.
&gt;
&gt; When my second host joins it is unable to transfer vnodes. The crash.log
&gt; makes it look like the update\\_vnode\\_status/2 function cannot find the vnode
&gt; status file. All the Riak related directories are owned by the riak user
&gt; (/var/lib/riak, /var/log/riak, and /mnt/riak where I am trying to put the
&gt; bulk of the data).
&gt;
&gt; Why is the vnode crashing and how do I fix it? Thank you in advance for any
&gt; assistance.
&gt;
&gt;
&gt; crash.log - https://gist.github.com/db31301f6dbcbcc87115
&gt; app.config - https://gist.github.com/1288626
&gt; riak-admin member\\_status - https://gist.github.com/dc68894f983db2c26fd2
&gt; riak-admin status - https://gist.github.com/6d2347954d9e29bebb84
&gt; riak-admin transfers - https://gist.github.com/34a9ee4b0a46f2101201
&gt;
&gt; ubuntu@ip-10-66-6-173:~$ uname -a
&gt; Linux ip-10-66-6-173 2.6.38-8-virtual #42-Ubuntu SMP Mon Apr 11 07:04:38
&gt; UTC 2011 i686 i686 i386 GNU/Linux
&gt;
&gt;
&gt; Spike Gronim
&gt; sp...@wavii.com
&gt;
&gt;
&gt;
&gt;

