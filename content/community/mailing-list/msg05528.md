---
title: "Re: configurable prefix for consistent hashing?"
description: ""
project: community
lastmod: 2011-11-09T15:49:35-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05528"
mailinglist_parent_id: "msg05527"
author_name: "Nate Lawson"
project_section: "mailinglistitem"
sent_date: 2011-11-09T15:49:35-08:00
---


On Nov 9, 2011, at 3:33 PM, Elias Levy wrote:

&gt; On Wed, Nov 9, 2011 at 3:29 PM, Phil Stanhope  wrote:
&gt; Tread carefully here ... by forcing localilty ... you will sacrifice high 
&gt; availability by algorithmically creating a bias and a single point of failure 
&gt; in the cluster. 
&gt; 
&gt; You don't have to loose high availability, your data is still being 
&gt; replicated, but you can create hot spots. Known your data.

Correct. Partitioning based on SHA-1(DocumentID) is the same situation as doing 
it based on SHA-1(entire\\_key), which is how Riak currently works. Even if 
"entire\\_key" and "DocumentID" are both just simple counters, it is the same 
situation.

We would only need worry if the pair BucketName + DocumentID was not unique 
(say, skewed towards 0 or something). In that case, we'd need to analyze the 
distribution of DocumentID values to be sure the partition is balanced.

-Nate
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

