---
title: "indexing precommit hooks and the maximum number of buckets"
description: ""
project: community
lastmod: 2012-09-24T02:27:24-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08661"
author_name: "Alfonso De Gregorio"
project_section: "mailinglistitem"
sent_date: 2012-09-24T02:27:24-07:00
---


Hi All,

Does the Search indexing precommit hook adversely affects the maximum
number of buckets a Riak cluster can handle?

More specifically: as long as we don't change their properties,
buckets are namespaces for our keys and, theoretically, there is no
limit to their number [1,2]. At the same time, Search indexes Riak KV
objects as they're written using a precommit hook -- a bucket property
[3]. I was wondering if this specific change in bucket properties may
force Riak to gossip more data around the cluster and, in turn,
degrade the performance. I'm assuming a Bitcask backend. So, how many
buckets a Riak cluster can handle while using Riak Search?

Thank you for any insight on the above and kudos to all people at
Basho for all the work done on Riak.

Ciao,
alfonso

[1] http://wiki.basho.com/Concepts.html
[2] 
http://lists.basho.com/pipermail/riak-users\\_lists.basho.com/2010-December/002569.html
[3] http://wiki.basho.com/Riak-Search.html

--
 Alfonso De Gregorio
 http://Plaintext.crypto.lo.gy/

