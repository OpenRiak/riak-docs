---
title: "Re: Cluster setup"
description: ""
project: community
lastmod: 2012-12-10T11:52:23-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09509"
mailinglist_parent_id: "msg09508"
author_name: "Jared Morrow"
project_section: "mailinglistitem"
sent_date: 2012-12-10T11:52:23-08:00
---


Are you trying to start all nodes on the same machine/vm? Each riak "node"
needs to be on its own machine, unless you are simply trying to test out a
development environment. In that case, you need to look at
http://docs.basho.com/riak/latest/tutorials/fast-track/Building-a-Development-Environment/for
those instructions. It will help in starting multiple nodes per
machine.

-Jared


On Mon, Dec 10, 2012 at 12:43 PM, Kevin Burton wrote:

&gt; The first node started up without error (/etc/init.d/riak start). But
&gt; nodes 2 and 3 failed to start. I looked in /var/log/riak/error.log and
&gt; found about three lines with {error,eaddrnotavail} in the error message.
&gt; What does this mean? Is there a work around? I don't understand why this
&gt; address is "not available". 'ifconfig' confirms that this is the machines
&gt; address.
&gt;
&gt;
&gt; On Dec 10, 2012, at 12:33 PM, Jared Morrow  wrote:
&gt;
&gt; The init.d script for RIak is included in the RPM. If you list the file
&gt; contained in the RPM do you see the init.d/riak script? If you do have
&gt; that file, you'll need to add the rc.d scripts by hand to auto-start /
&gt; auto-stop on startup / shutdown or use a tool like `chkconfig`
&gt; http://linux.die.net/man/8/chkconfig
&gt;
&gt; -Jared
&gt;
&gt;
&gt; On Mon, Dec 10, 2012 at 11:17 AM, Kevin Burton 
&gt; wrote:
&gt;
&gt;&gt; I did these steps and while I see that Riak has been added to the system
&gt;&gt; files (like /etc/riak). I don't see any links to auto start like in init.d.
&gt;&gt; Do I add these links manually?
&gt;&gt;
&gt;&gt;
&gt;&gt; On Dec 10, 2012, at 11:32 AM, Jared Morrow  wrote:
&gt;&gt;
&gt;&gt; If you are looking install and /etc/init.d support, you should really
&gt;&gt; just be installing the packages.
&gt;&gt; http://s3.amazonaws.com/downloads.basho.com/riak/CURRENT/rhel/6/riak-1.2.1-1.el6.x86\\_64.rpmis
&gt;&gt; the package for Centos 6 found here
&gt;&gt; http://basho.com/resources/downloads/. Building from source is there
&gt;&gt; for those who need a feature not currently in a release, want to make
&gt;&gt; additions to Riak, or are on an unsupported platform.
&gt;&gt;
&gt;&gt; -Jared
&gt;&gt;
&gt;&gt;
&gt;&gt; On Mon, Dec 10, 2012 at 10:25 AM,  wrote:
&gt;&gt;
&gt;&gt;&gt; I am looking at http://docs.basho.com/riak/\\*\\*latest/cookbooks/Basic-\\*\\*
&gt;&gt;&gt; Cluster-Setup/which
&gt;&gt;&gt; provides me with a lot of information. But I have one question. I
&gt;&gt;&gt; have a source distribution and I have already done 'make rel'. Once I have
&gt;&gt;&gt; performed all of the steps outlined in setting up a cluster how do I make
&gt;&gt;&gt; sure that this configuration is restored when the machine reboots. I am
&gt;&gt;&gt; assuming that it will involve something with /etc/init.d. Is there
&gt;&gt;&gt; something like 'make install' that would shorten the process? How is the
&gt;&gt;&gt; cluster information persisted so that each node will join the cluster when
&gt;&gt;&gt; the respective machine comes up after a reboot? Thank you.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\*\\*\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/\\*\\*mailman/listinfo/riak-users\\_\\*\\*lists.basho.com
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
