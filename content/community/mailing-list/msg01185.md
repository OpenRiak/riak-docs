---
title: "Re: bitcask 42?"
description: ""
project: community
lastmod: 2010-10-04T11:33:46-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01185"
mailinglist_parent_id: "msg01175"
author_name: "Nico Meyer"
project_section: "mailinglistitem"
sent_date: 2010-10-04T11:33:46-07:00
---


One should also mention, that the overall performance of bitcask might
presumably become worse with a larger number of partitions per node.
If there is only one partition writing is basically linear on the disk,
an therefore extremely fast. If you on the other hand linearly write to
a large number of files at the same time, the disk access pattern starts
to look more random.
It all very much depends on how you IO subsystem can handle appending to
many files in parallel. For example a RAID controller with a large
battery backed cache should help a lot.

Cheers,
Nico 

Am Freitag, den 01.10.2010, 14:56 -0700 schrieb Dan Reverri:
&gt; The value of ring\\_creation\\_size dictates how many partitions your Riak
&gt; cluster will manage. These partitions are distributed amongst the
&gt; nodes of your cluster. Each node in the cluster with manage a portion
&gt; of the ring ( ring\\_creation\\_size / number of nodes ). A larger ring
&gt; means each node will be responsible for more partitions which means
&gt; each node will open more files (ulimit -n).
&gt; 
&gt; 
&gt; Thanks,
&gt; Dan
&gt; 
&gt; Daniel Reverri
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; d...@basho.com
&gt; 
&gt; 
&gt; On Fri, Oct 1, 2010 at 12:51 PM, Mojito Sorbet 
&gt; wrote:
&gt; On Fri, 2010-10-01 at 09:24 -0700, Dan Reverri wrote:
&gt; 
&gt; &gt; Projects will typically define an upper bound for a
&gt; cluster's size
&gt; &gt; based on available datacenter space, available power, cost,
&gt; etc.
&gt; &gt; Choosing a ring\\_creation\\_size value based on this upper
&gt; bound will
&gt; &gt; allow you to start small and grow into your cluster.
&gt; 
&gt; 
&gt; Ok, but these days there is no fixed size "data center". If I
&gt; need more
&gt; resources I can add them dynamically from Amazon or an
&gt; equivalent cloud
&gt; provider. If I accidentally create the next Facebook and it
&gt; keeps
&gt; growing, it would be nice not to have to backup and restore
&gt; the whole
&gt; thing as it grows into multiple hundreds of terrabytes,
&gt; especially
&gt; considering the downtime required.
&gt; 
&gt; What is the penalty for making the ring size a lot bigger than
&gt; the
&gt; initial number of nodes would require?
&gt; 
&gt; 
&gt; 
&gt; 
 
&gt; 
&gt; 

