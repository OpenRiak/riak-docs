---
title: "Re: Riak failed to start within 15 seconds,"
description: ""
project: community
lastmod: 2012-07-25T20:04:22-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08073"
mailinglist_parent_id: "msg08072"
author_name: "Shuhao Wu"
project_section: "mailinglistitem"
sent_date: 2012-07-25T20:04:22-07:00
---


I literally don't have logs. All the logs are empty. (As this is a new install)

Shuhao


On Wed, Jul 25, 2012 at 11:01 PM, Joe Caswell  wrote:
&gt; Riak start make a daemon call to riak console with input and output
&gt; redirected. Riak console calls logger -t "$SCRIPT[$$]" "Starting up", do
&gt; you see the Starting message in your messages log when you call riak start,
&gt; or only for riak console?
&gt;
&gt; From: Shuhao Wu 
&gt; Date: Wednesday, July 25, 2012 10:55 PM
&gt;
&gt; To: Joe Caswell 
&gt; Cc: 
&gt; Subject: Re: Riak failed to start within 15 seconds,
&gt;
&gt; Also try starting with riak console. That works perfectly fine for me.
&gt;
&gt; Shuhao
&gt; Sent from my phone.
&gt;
&gt; On Jul 25, 2012 10:51 PM, "Shuhao Wu"  wrote:
&gt;&gt;
&gt;&gt; Yup. /tmp is 777 and /tmp/risk is 755, owned by riak:riak
&gt;&gt;
&gt;&gt; Shuhao
&gt;&gt; Sent from my phone.
&gt;&gt;
&gt;&gt; On Jul 25, 2012 10:42 PM, "Joe Caswell"  wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; We have seen this a couple times. A common cause is the riak user needs
&gt;&gt;&gt; write access to the $PIPE\\_DIR in order to start properly. PIPE\\_DIR is
&gt;&gt;&gt; usually /tmp/riak/, check your riak script to make sure. If the
&gt;&gt;&gt; directory
&gt;&gt;&gt; doesn't exist, it will be created with unix perm 755. Verify that the
&gt;&gt;&gt; riak user owns that directory, and has write permission to the parent
&gt;&gt;&gt; directory.
&gt;&gt;&gt;
&gt;&gt;&gt; On 7/25/12 10:19 PM, "Shuhao Wu"  wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; &gt;This seems to be a somewhat common issue nowadays. I have this under
&gt;&gt;&gt; &gt;one of my server as well, though it's a debian 6 64bit.
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt;Cheers,
&gt;&gt;&gt; &gt;Shuhao
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt;On Wed, Jul 25, 2012 at 12:29 PM, David Montgomery
&gt;&gt;&gt; &gt; wrote:
&gt;&gt;&gt; &gt;&gt; Hi,
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; I am new to riak.
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; I followed the instructions for a cluster setup at
&gt;&gt;&gt; &gt;&gt; https://wiki.basho.com/Basic-Cluster-Setup.html. It did not work. I
&gt;&gt;&gt; &gt;&gt; am using ubuntu64
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; I changed the ip in app.confing and vm.args and stoped the service.
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; then I ran the below.
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; riak-admin reip riak@127.0.0.1 r...@xxx.xxx.xxx.xxx
&gt;&gt;&gt; &gt;&gt; Attempting to restart script through sudo -u riak
&gt;&gt;&gt; &gt;&gt; Backed up existing ring file to
&gt;&gt;&gt; &gt;&gt; "/var/lib/riak/ring/riak\\_core\\_ring.default.20120724221850.BAK"
&gt;&gt;&gt; &gt;&gt; New ring file written to
&gt;&gt;&gt; &gt;&gt; "/var/lib/riak/ring/riak\\_core\\_ring.default.20120725161924"
&gt;&gt;&gt; &gt;&gt; root@i-157-16777-VM:~# sudo service riak start
&gt;&gt;&gt; &gt;&gt; Riak failed to start within 15 seconds,
&gt;&gt;&gt; &gt;&gt; see the output of 'riak console' for more information.
&gt;&gt;&gt; &gt;&gt; If you want to wait longer, set the environment variable
&gt;&gt;&gt; &gt;&gt; WAIT\\_FOR\\_ERLANG to the number of seconds to wait.
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; riak-admin status | grep ring\\_members yield no resutls
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; I am now at a deadend. How to resolve?
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt; &gt;&gt; riak-users mailing list
&gt;&gt;&gt; &gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; &gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt;\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt; &gt;riak-users mailing list
&gt;&gt;&gt; &gt;riak-users@lists.basho.com
&gt;&gt;&gt; &gt;http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;&gt; &gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
