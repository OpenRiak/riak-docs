---
title: "Re: Map/Reduce data order"
description: ""
project: community
lastmod: 2010-04-15T06:14:11-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00046"
mailinglist_parent_id: "msg00042"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2010-04-15T06:14:11-07:00
---


Jimmy,

Consider map phases to be completely parallel and unordered. When a map phase 
completes, the results are sent back to the coordinating node, which -- 
assuming the next phase is also a map phase -- will send them out to the vnodes 
that own the new set, which will perform their map phases and send the results 
back again.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On Apr 14, 2010, at 3:20 PM, Jimmy Thrasher wrote:

&gt; Hi folks,
&gt; 
&gt; I have a query where one of the map steps spits out the original entry (via 
&gt; [v.bucket, v.key]) and a derivative bucket,key pair.
&gt; 
&gt; If the original key is "asdf" the result of the map step would look like this:
&gt; [["events", "asdf"], ["asdf,annotation", "some-annotation-key"]]
&gt; 
&gt; Future map steps would ensure existence, extract data, etc.
&gt; 
&gt; What I'm wondering is: if the annotation is local to a different node, how 
&gt; does that affect the map step? Am I guaranteed to process the original event 
&gt; again before the annotation, or is that not guaranteed?
&gt; 
&gt; Jimmy
