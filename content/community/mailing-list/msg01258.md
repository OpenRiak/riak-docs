---
title: "Non-default padding on integer type not working. And only integer	type only works with signed 32-bit ints?"
description: ""
project: community
lastmod: 2010-10-11T22:14:19-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01258"
author_name: "JD Maturen"
project_section: "mailinglistitem"
sent_date: 2010-10-11T22:14:19-07:00
---


I set a custom schema with a 20 digit (~64-bit) integer field:

{field, [
{name, "account"},
{type, integer},
{padding\\_size, 20}
]},

But I can only query with a 10 digit padded string:

&gt;&gt;&gt; [l.get\\_key() for l in client.search('answers', 'account:%010d' %
(12345678)).run()]
[u'test']
&gt;&gt;&gt; [l.get\\_key() for l in client.search('answers', 'account:%d' %
(12345678)).run()]
[]
&gt;&gt;&gt; [l.get\\_key() for l in client.search('answers', 'account:%020d' %
(12345678)).run()]
[]

Additionally, I can't search for any ints larger than signed 32-bit.

&gt;&gt;&gt; client.bucket('answers').new('2\\*\\*31', {'account': 2\\*\\*31}).store()

&gt;&gt;&gt; client.bucket('answers').new('2\\*\\*31-1', {'account': 2\\*\\*31-1}).store()

&gt;&gt;&gt; [l.get\\_key() for l in client.search('answers', 'account:{%010d TO
%010d}' % (0, 2\\*\\*33)).run()]
[u'test', u'2%2A%2A31-1']

General work-around seems to be to just use the string type and manage
padding on my own [example on a bucket with the default schema]:

&gt;&gt;&gt; client.bucket('questions').new('2\\*\\*64', {'account': '%020d' %
2\\*\\*64}).store()

&gt;&gt;&gt; client.bucket('questions').new('2\\*\\*32', {'account': '%020d' %
2\\*\\*32}).store()

&gt;&gt;&gt; [l.get\\_key() for l in client.search('questions', 'account:{%020d TO
%020d}' % (2\\*\\*32-1, 2\\*\\*64+1)).run()]
[u'2%2A%2A64', u'2%2A%2A32']
&gt;&gt;&gt; [l.get\\_key() for l in client.search('questions', 'account:%020d' %
2\\*\\*64).run()]
[u'2%2A%2A64']
&gt;&gt;&gt; [l.get\\_key() for l in client.search('questions', 'account:%020d' %
2\\*\\*32).run()]
[u'2%2A%2A32']

-JD
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

