---
title: "Re: order of siblings"
description: ""
project: community
lastmod: 2012-03-25T13:34:26-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07042"
mailinglist_parent_id: "msg07039"
author_name: "Michael Radford"
project_section: "mailinglistitem"
sent_date: 2012-03-25T13:34:26-07:00
---


You are right, I was assuming it would keep the vclock that was used
to write each sibling.

In any case, as others pointed out, I think the timestamps are
available from riakc\\_obj:get\\_metadatas.

Mike

On Sun, Mar 25, 2012 at 1:15 PM, Erik Søe Sørensen  wrote:
&gt; I'm not sure what you mean by "assuming the vclock entries are 1-1 with the 
&gt; siblings".
&gt; That sounds rather like a misunderstanding of either what the vclock is, or 
&gt; of how the vclock is stored in the case of siblings.
&gt; (As for the latter, only the merged vclock is stored for the entire 
&gt; key/value-pair; the length of that vclock is unrelated to the number of 
&gt; siblings.)
&gt;
&gt; Mobile: + 45 2636 1755 | Skype: eriksoesorensen | Twitter: @eriksoe
&gt; Trifork A/S  |  Margrethepladsen 4  | DK- 8000 Aarhus C |  Phone : +45 8732 
&gt; 8787  |  www.trifork.com
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; From: riak-users-boun...@lists.basho.com [riak-users-boun...@lists.basho.com] 
&gt; On Behalf Of Michael Radford [m...@blorf.com]
&gt; Sent: 24 March 2012 19:24
&gt; To: riak-users@lists.basho.com
&gt; Subject: order of siblings
&gt;
&gt; Is there a way to determine what Riak thinks is the last-written
&gt; sibling (or one of them), when reading from Riak with allow\\_mult=true
&gt; (via the erlang protobufs api)?
&gt;
&gt; I'm writing some conflict resolution code, which in many cases should
&gt; fall back to the default strategy of last-writer-wins, and it would be
&gt; nice to use Riak's default ordering instead of embedding an extra
&gt; timestamp in the value.
&gt;
&gt; It looks like something like the unpacking of the vclock here might work:
&gt; https://gist.github.com/1380896
&gt;
&gt; ...assuming the vclock entries are 1-1 with the siblings, but that's
&gt; not clear to me. Or maybe the siblings already come in a particular
&gt; order, oldest or newest first?
&gt;
&gt; Thanks,
&gt; Mike
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

