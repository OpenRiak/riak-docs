---
title: "Re: Bitcask node won't restart"
description: ""
project: community
lastmod: 2011-04-01T17:17:03-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02853"
mailinglist_parent_id: "msg02852"
author_name: "Keith Dreibelbis"
project_section: "mailinglistitem"
sent_date: 2011-04-01T17:17:03-07:00
---


Hi Dan,

It seems I have to say "never mind, it fixed itself". I killed it and ran
the console, like you suggested, and after it output some messages about
handoffs and merges, I did the commands you mentioned:

(dev2@127.0.0.1)1&gt; node().
'dev2@127.0.0.1'
(dev2@127.0.0.1)2&gt; erlang:get\\_cookie().
riak
(dev2@127.0.0.1)3&gt; q().

and then "riak start" and the node is now happily back in the ring. What's
surprised me was that "riak restart" and "riak reboot" didn't seem to do
anything in this situation. It just got into an unresponsive state, and the
process had to be killed to fix it. But perhaps this is the normal thing to
do for an unresponsive node? Anyway, thanks for the help, my problem is
resolved.


Keith


On Fri, Apr 1, 2011 at 4:41 PM, Dan Reverri  wrote:

&gt; Hi Keith,
&gt;
&gt; Can you try attaching to node 2 using "riak attach"? If that doesn't work,
&gt; manually kill node 2 and run "riak console".
&gt;
&gt; Once you have access to the console, type the following:
&gt; 1&gt; node().
&gt; % the console will output the node name here
&gt;
&gt; 2&gt; erlang:get\\_cookie().
&gt; % the console will output the cookie here
&gt;
&gt; Let me know what those commands output.
&gt;
&gt; Thanks,
&gt; Dan
&gt;
&gt; Daniel Reverri
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; d...@basho.com
&gt;
&gt;
&gt; On Fri, Apr 1, 2011 at 2:34 PM, Keith Dreibelbis wrote:
&gt;
&gt;&gt; Thanks for the response, Dan. Yes, the problem is that it \\*looks\\* like
&gt;&gt; starting node 2 was successful (says it's ALIVE, shows up in ps). But it's
&gt;&gt; not responding to pings, isn't usable, and nodes 1 and 3 say node 2 isn't
&gt;&gt; connected.
&gt;&gt;
&gt;&gt; As you suggested, here is the output of riak-admin status for the 3 nodes,
&gt;&gt; and I'll attach a tarball for node 2's log directory.
&gt;&gt;
&gt;&gt; Keith
&gt;&gt;
&gt;&gt; kratos:dev1 keith$ bin/riak-admin status
&gt;&gt; 1-minute stats for 'dev1@127.0.0.1'
&gt;&gt; -------------------------------------------
&gt;&gt; vnode gets : 0
&gt;&gt; vnode\\_puts : 0
&gt;&gt; read\\_repairs : 0
&gt;&gt; vnode\\_gets\\_total : 6251
&gt;&gt; vnode\\_puts\\_total : 1064
&gt;&gt; node\\_gets : 0
&gt;&gt; node\\_gets\\_total : 4786
&gt;&gt; node\\_get\\_fsm\\_time\\_mean : 0
&gt;&gt; node\\_get\\_fsm\\_time\\_median : 0
&gt;&gt; node\\_get\\_fsm\\_time\\_95 : 0
&gt;&gt; node\\_get\\_fsm\\_time\\_99 : 0
&gt;&gt; node\\_get\\_fsm\\_time\\_100 : 0
&gt;&gt; node\\_puts : 0
&gt;&gt; node\\_puts\\_total : 774
&gt;&gt; node\\_put\\_fsm\\_time\\_mean : 0
&gt;&gt; node\\_put\\_fsm\\_time\\_median : 0
&gt;&gt; node\\_put\\_fsm\\_time\\_95 : 0
&gt;&gt; node\\_put\\_fsm\\_time\\_99 : 0
&gt;&gt; node\\_put\\_fsm\\_time\\_100 : 0
&gt;&gt; read\\_repairs\\_total : 354
&gt;&gt; cpu\\_nprocs : 127
&gt;&gt; cpu\\_avg1 : 164
&gt;&gt; cpu\\_avg5 : 202
&gt;&gt; cpu\\_avg15 : 205
&gt;&gt; mem\\_total : 3264444000
&gt;&gt; mem\\_allocated : 3155680000
&gt;&gt; disk : [{"/",488050672,13}]
&gt;&gt; nodename : 'dev1@127.0.0.1'
&gt;&gt; connected\\_nodes : ['dev3@127.0.0.1']
&gt;&gt; sys\\_driver\\_version : &lt;&lt;"1.5"&gt;&gt;
&gt;&gt; sys\\_global\\_heaps\\_size : 0
&gt;&gt; sys\\_heap\\_type : private
&gt;&gt; sys\\_logical\\_processors : 2
&gt;&gt; sys\\_otp\\_release : &lt;&lt;"R14B01"&gt;&gt;
&gt;&gt; sys\\_process\\_count : 206
&gt;&gt; sys\\_smp\\_support : true
&gt;&gt; sys\\_system\\_version : &lt;&lt;"Erlang R14B01 (erts-5.8.2) [source] [64-bit]
&gt;&gt; [smp:2:2] [rq:2] [async-threads:64] [hipe] [kernel-poll:true]"&gt;&gt;
&gt;&gt; sys\\_system\\_architecture : &lt;&lt;"i386-apple-darwin10.7.0"&gt;&gt;
&gt;&gt; sys\\_threads\\_enabled : true
&gt;&gt; sys\\_thread\\_pool\\_size : 64
&gt;&gt; sys\\_wordsize : 8
&gt;&gt; ring\\_members : ['dev1@127.0.0.1','dev2@127.0.0.1','dev3@127.0.0.1']
&gt;&gt; ring\\_num\\_partitions : 64
&gt;&gt; ring\\_ownership : &lt;&lt;"[{'dev3@127.0.0.1',21},{'dev2@127.0.0.1',21},{'
&gt;&gt; dev1@127.0.0.1',22}]"&gt;&gt;
&gt;&gt; ring\\_creation\\_size : 64
&gt;&gt; storage\\_backend : riak\\_kv\\_bitcask\\_backend
&gt;&gt; pbc\\_connects\\_total : 350
&gt;&gt; pbc\\_connects : 0
&gt;&gt; pbc\\_active : 0
&gt;&gt; riak\\_err\\_version : &lt;&lt;"1.0.1"&gt;&gt;
&gt;&gt; runtime\\_tools\\_version : &lt;&lt;"1.8.4.1"&gt;&gt;
&gt;&gt; basho\\_stats\\_version : &lt;&lt;"1.0.1"&gt;&gt;
&gt;&gt; luwak\\_version : &lt;&lt;"1.0.0"&gt;&gt;
&gt;&gt; skerl\\_version : &lt;&lt;"1.0.0"&gt;&gt;
&gt;&gt; riak\\_kv\\_version : &lt;&lt;"0.14.0"&gt;&gt;
&gt;&gt; bitcask\\_version : &lt;&lt;"1.1.5"&gt;&gt;
&gt;&gt; riak\\_core\\_version : &lt;&lt;"0.14.0"&gt;&gt;
&gt;&gt; riak\\_sysmon\\_version : &lt;&lt;"0.9.0"&gt;&gt;
&gt;&gt; luke\\_version : &lt;&lt;"0.2.3"&gt;&gt;
&gt;&gt; erlang\\_js\\_version : &lt;&lt;"0.5.0"&gt;&gt;
&gt;&gt; mochiweb\\_version : &lt;&lt;"1.7.1"&gt;&gt;
&gt;&gt; webmachine\\_version : &lt;&lt;"1.8.0"&gt;&gt;
&gt;&gt; crypto\\_version : &lt;&lt;"2.0.2"&gt;&gt;
&gt;&gt; os\\_mon\\_version : &lt;&lt;"2.2.5"&gt;&gt;
&gt;&gt; cluster\\_info\\_version : &lt;&lt;"1.1.0"&gt;&gt;
&gt;&gt; sasl\\_version : &lt;&lt;"2.1.9.2"&gt;&gt;
&gt;&gt; stdlib\\_version : &lt;&lt;"1.17.2"&gt;&gt;
&gt;&gt; kernel\\_version : &lt;&lt;"2.14.2"&gt;&gt;
&gt;&gt; executing\\_mappers : 0
&gt;&gt;
&gt;&gt; kratos:dev2 keith$ bin/riak-admin status
&gt;&gt; Node is not running!
&gt;&gt;
&gt;&gt; kratos:dev3 keith$ bin/riak-admin status
&gt;&gt; 1-minute stats for 'dev3@127.0.0.1'
&gt;&gt; -------------------------------------------
&gt;&gt; vnode gets : 0
&gt;&gt; vnode\\_puts : 0
&gt;&gt; read\\_repairs : 0
&gt;&gt; vnode\\_gets\\_total : 7061
&gt;&gt; vnode\\_puts\\_total : 1198
&gt;&gt; node\\_gets : 0
&gt;&gt; node\\_gets\\_total : 0
&gt;&gt; node\\_get\\_fsm\\_time\\_mean : 0
&gt;&gt; node\\_get\\_fsm\\_time\\_median : 0
&gt;&gt; node\\_get\\_fsm\\_time\\_95 : 0
&gt;&gt; node\\_get\\_fsm\\_time\\_99 : 0
&gt;&gt; node\\_get\\_fsm\\_time\\_100 : 0
&gt;&gt; node\\_puts : 0
&gt;&gt; node\\_puts\\_total : 0
&gt;&gt; node\\_put\\_fsm\\_time\\_mean : 0
&gt;&gt; node\\_put\\_fsm\\_time\\_median : 0
&gt;&gt; node\\_put\\_fsm\\_time\\_95 : 0
&gt;&gt; node\\_put\\_fsm\\_time\\_99 : 0
&gt;&gt; node\\_put\\_fsm\\_time\\_100 : 0
&gt;&gt; read\\_repairs\\_total : 0
&gt;&gt; cpu\\_nprocs : 134
&gt;&gt; cpu\\_avg1 : 118
&gt;&gt; cpu\\_avg5 : 161
&gt;&gt; cpu\\_avg15 : 184
&gt;&gt; mem\\_total : 3264252000
&gt;&gt; mem\\_allocated : 3189744000
&gt;&gt; disk : [{"/",488050672,13}]
&gt;&gt; nodename : 'dev3@127.0.0.1'
&gt;&gt; connected\\_nodes : ['dev1@127.0.0.1']
&gt;&gt; sys\\_driver\\_version : &lt;&lt;"1.5"&gt;&gt;
&gt;&gt; sys\\_global\\_heaps\\_size : 0
&gt;&gt; sys\\_heap\\_type : private
&gt;&gt; sys\\_logical\\_processors : 2
&gt;&gt; sys\\_otp\\_release : &lt;&lt;"R14B01"&gt;&gt;
&gt;&gt; sys\\_process\\_count : 205
&gt;&gt; sys\\_smp\\_support : true
&gt;&gt; sys\\_system\\_version : &lt;&lt;"Erlang R14B01 (erts-5.8.2) [source] [64-bit]
&gt;&gt; [smp:2:2] [rq:2] [async-threads:64] [hipe] [kernel-poll:true]"&gt;&gt;
&gt;&gt; sys\\_system\\_architecture : &lt;&lt;"i386-apple-darwin10.7.0"&gt;&gt;
&gt;&gt; sys\\_threads\\_enabled : true
&gt;&gt; sys\\_thread\\_pool\\_size : 64
&gt;&gt; sys\\_wordsize : 8
&gt;&gt; ring\\_members : ['dev1@127.0.0.1','dev2@127.0.0.1','dev3@127.0.0.1']
&gt;&gt; ring\\_num\\_partitions : 64
&gt;&gt; ring\\_ownership : &lt;&lt;"[{'dev3@127.0.0.1',21},{'dev2@127.0.0.1',21},{'
&gt;&gt; dev1@127.0.0.1',22}]"&gt;&gt;
&gt;&gt; ring\\_creation\\_size : 64
&gt;&gt; storage\\_backend : riak\\_kv\\_bitcask\\_backend
&gt;&gt; pbc\\_connects\\_total : 0
&gt;&gt; pbc\\_connects : 0
&gt;&gt; pbc\\_active : 0
&gt;&gt; riak\\_err\\_version : &lt;&lt;"1.0.1"&gt;&gt;
&gt;&gt; runtime\\_tools\\_version : &lt;&lt;"1.8.4.1"&gt;&gt;
&gt;&gt; basho\\_stats\\_version : &lt;&lt;"1.0.1"&gt;&gt;
&gt;&gt; luwak\\_version : &lt;&lt;"1.0.0"&gt;&gt;
&gt;&gt; skerl\\_version : &lt;&lt;"1.0.0"&gt;&gt;
&gt;&gt; riak\\_kv\\_version : &lt;&lt;"0.14.0"&gt;&gt;
&gt;&gt; bitcask\\_version : &lt;&lt;"1.1.5"&gt;&gt;
&gt;&gt; riak\\_core\\_version : &lt;&lt;"0.14.0"&gt;&gt;
&gt;&gt; riak\\_sysmon\\_version : &lt;&lt;"0.9.0"&gt;&gt;
&gt;&gt; luke\\_version : &lt;&lt;"0.2.3"&gt;&gt;
&gt;&gt; erlang\\_js\\_version : &lt;&lt;"0.5.0"&gt;&gt;
&gt;&gt; mochiweb\\_version : &lt;&lt;"1.7.1"&gt;&gt;
&gt;&gt; webmachine\\_version : &lt;&lt;"1.8.0"&gt;&gt;
&gt;&gt; crypto\\_version : &lt;&lt;"2.0.2"&gt;&gt;
&gt;&gt; os\\_mon\\_version : &lt;&lt;"2.2.5"&gt;&gt;
&gt;&gt; cluster\\_info\\_version : &lt;&lt;"1.1.0"&gt;&gt;
&gt;&gt; sasl\\_version : &lt;&lt;"2.1.9.2"&gt;&gt;
&gt;&gt; stdlib\\_version : &lt;&lt;"1.17.2"&gt;&gt;
&gt;&gt; kernel\\_version : &lt;&lt;"2.14.2"&gt;&gt;
&gt;&gt; executing\\_mappers : 0
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; On Fri, Apr 1, 2011 at 2:17 PM, Dan Reverri  wrote:
&gt;&gt;
&gt;&gt;&gt; Hi Keith,
&gt;&gt;&gt;
&gt;&gt;&gt; The first set of errors you saw ("Protocol: ~p: register error: ~p~n")
&gt;&gt;&gt; indicate an Erlang node was already running with this name; node 2 may have
&gt;&gt;&gt; been running in the background without you realizing it.
&gt;&gt;&gt;
&gt;&gt;&gt; The second error which occurred when choosing a different name was
&gt;&gt;&gt; probably due to a port binding issue; this means the ports node 2 tried
&gt;&gt;&gt; binding to (handoff, web, pb) were already occupied. Again, node 2 may have
&gt;&gt;&gt; already been running in the background.
&gt;&gt;&gt;
&gt;&gt;&gt; After rebooting the machine it looks like starting node 2 was successful.
&gt;&gt;&gt; Regarding the ringready failure, can you run "riak-admin status" on all
&gt;&gt;&gt; three nodes? Also, can you send in the log files for node 2 (the entire log
&gt;&gt;&gt; directory would be great)?
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks,
&gt;&gt;&gt; Dan
&gt;&gt;&gt;
&gt;&gt;&gt; Daniel Reverri
&gt;&gt;&gt; Developer Advocate
&gt;&gt;&gt; Basho Technologies, Inc.
&gt;&gt;&gt; d...@basho.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Fri, Apr 1, 2011 at 1:57 PM, Keith Dreibelbis wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Hi riak-users,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I have a node in a cluster of 3 that failed and won't come back up.
&gt;&gt;&gt;&gt; This is in a dev environment, so it's not like there's critical data on
&gt;&gt;&gt;&gt; there. However, rather than start over with a new install, I want to learn
&gt;&gt;&gt;&gt; how to recover from such a failure in production. I figured there was
&gt;&gt;&gt;&gt; enough redundancy such that node 2 could recover with (at worst) a little
&gt;&gt;&gt;&gt; help from nodes 1 and 3.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; When I tried to restart/reboot (I tried both), this showed up in
&gt;&gt;&gt;&gt; erlang.log.1:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Exec: /Users/keith/src/riak/dev/dev2/erts-5.8.2/bin/erlexec -boot
&gt;&gt;&gt;&gt; /Users/keith/src/riak/dev/dev2/releases/0.14.0/riak -embedded
&gt;&gt;&gt;&gt; -config /Users/keith/src/riak/dev/dev2/etc/app.confi
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; g -args\\_file /Users/keith/src/riak/dev/dev2/etc/vm.args --
&gt;&gt;&gt;&gt; console
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Root: /Users/keith/src/riak/dev/dev2
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; {error\\_logger,{{2011,3,31},{16,43,35}},"Protocol: ~p: register error:
&gt;&gt;&gt;&gt; ~p~n",["inet\\_tcp",{{badmatch,{error,duplicate\\_name}},[{inet\\_tcp\\_dist,listen,1},{net\\_kernel,start\\_protos,4},{net\\_kernel,sta
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; rt\\_protos,3},{net\\_kernel,init\\_node,2},{net\\_kernel,init,1},{gen\\_server,init\\_it,6},{proc\\_lib,init\\_p\\_do\\_apply,3}]}]}^M
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; {error\\_logger,{{2011,3,31},{16,43,35}},crash\\_report,[[{initial\\_call,{net\\_kernel,init,['Argument\\_\\_1']}},{pid,&lt;0.20.0&gt;},{registered\\_name,[]},{error\\_info,{exit,{error,badarg},[{gen\\_server,init\\_it
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; ,6},{proc\\_lib,init\\_p\\_do\\_apply,3}]}},{ancestors,[net\\_sup,kernel\\_sup,&lt;0.10.0&gt;]},{messages,[]},{links,[#Port&lt;0.138&gt;,&lt;0.17.0&gt;]},{dictionary,[{longnames,true}]},{trap\\_exit,true},{status,running},{h
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; eap\\_size,377},{stack\\_size,24},{reductions,456}],[]]}^M
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; {error\\_logger,{{2011,3,31},{16,43,35}},supervisor\\_report,[{supervisor,{local,net\\_sup}},{errorContext,start\\_error},{reason,{'EXIT',nodistribution}},{offender,[{pid,undefined},{name,net\\_kernel},
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; {mfargs,{net\\_kernel,start\\_link,[['dev2@127.0.0.1
&gt;&gt;&gt;&gt; ',longnames]]}},{restart\\_type,permanent},{shutdown,2000},{child\\_type,worker}]}]}^M
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; {error\\_logger,{{2011,3,31},{16,43,35}},supervisor\\_report,[{supervisor,{local,kernel\\_sup}},{errorContext,start\\_error},{reason,shutdown},{offender,[{pid,undefined},{name,net\\_sup},{mfargs,{erl\\_di
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; stribution,start\\_link,[]}},{restart\\_type,permanent},{shutdown,infinity},{child\\_type,supervisor}]}]}^M
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; {error\\_logger,{{2011,3,31},{16,43,35}},std\\_info,[{application,kernel},{exited,{shutdown,{kernel,start,[normal,[]]}}},{type,permanent}]}^M
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; {"Kernel pid
&gt;&gt;&gt;&gt; terminated",application\\_controller,"{application\\_start\\_failure,kernel,{shutdown,{kernel,start,[normal,[]]}}}"}^M
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; ^M
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Crash dump was written to: erl\\_crash.dump^M
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Kernel pid terminated (application\\_controller)
&gt;&gt;&gt;&gt; ({application\\_start\\_failure,kernel,{shutdown,{kernel,start,[normal,[]]}}})^M
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; http://wiki.basho.com/Recovering-a-failed-node.html suggests starting
&gt;&gt;&gt;&gt; the node in console mode with a different name. This didn't help, it just
&gt;&gt;&gt;&gt; crashed again. I'm using bitcask (the default) while the example on that
&gt;&gt;&gt;&gt; page gives output like InnoDB would return.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; kratos:dev2 keith$ bin/riak console -name differentname@nohost
&gt;&gt;&gt;&gt; Exec: /Users/keith/src/riak/dev/dev2/erts-5.8.2/bin/erlexec -boot
&gt;&gt;&gt;&gt; /Users/keith/src/riak/dev/dev2/releases/0.14.0/riak -embedded
&gt;&gt;&gt;&gt; -config /Users/keith/src/riak/dev/dev2/etc/app.config 
&gt;&gt;&gt;&gt; -args\\_file
&gt;&gt;&gt;&gt; /Users/keith/src/riak/dev/dev2/etc/vm.args -- console -name
&gt;&gt;&gt;&gt; differentname@nohost
&gt;&gt;&gt;&gt; Root: /Users/keith/src/riak/dev/dev2
&gt;&gt;&gt;&gt; Erlang R14B01 (erts-5.8.2) [source] [64-bit] [smp:2:2] [rq:2]
&gt;&gt;&gt;&gt; [async-threads:64] [hipe] [kernel-poll:true]
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; =INFO REPORT==== 31-Mar-2011::17:35:05 ===
&gt;&gt;&gt;&gt; alarm\\_handler: {set,{system\\_memory\\_high\\_watermark,[]}}
&gt;&gt;&gt;&gt; \\*\\* Found 0 name clashes in code paths
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; =INFO REPORT==== 31-Mar-2011::17:35:05 ===
&gt;&gt;&gt;&gt; application: riak\\_core
&gt;&gt;&gt;&gt; exited: {shutdown,{riak\\_core\\_app,start,[normal,[]]}}
&gt;&gt;&gt;&gt; type: permanent
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; =INFO REPORT==== 31-Mar-2011::17:35:05 ===
&gt;&gt;&gt;&gt; alarm\\_handler: {clear,system\\_memory\\_high\\_watermark}
&gt;&gt;&gt;&gt; {"Kernel pid
&gt;&gt;&gt;&gt; terminated",application\\_controller,"{application\\_start\\_failure,riak\\_core,{shutdown,{riak\\_core\\_app,start,[normal,[]]}}}"}
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Crash dump was written to: erl\\_crash.dump
&gt;&gt;&gt;&gt; Kernel pid terminated (application\\_controller)
&gt;&gt;&gt;&gt; ({application\\_start\\_failure,riak\\_core,{shutdown,{riak\\_core\\_app,start,[normal,[]]}}})
&gt;&gt;&gt;&gt; kratos:dev2 keith$
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; After I rebooted my machine and tried starting the trio of riak nodes,
&gt;&gt;&gt;&gt; again node 2 is not responding to pings, and "riak-admin ringready" from
&gt;&gt;&gt;&gt; nodes 1 and 3 complain that node 2 is down. But in the log, node 2 is
&gt;&gt;&gt;&gt; saying it's ALIVE. Also, I can see processes for all 3 nodes in ps:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; kratos:~ keith$ ps auxww | grep riak
&gt;&gt;&gt;&gt; keith 360 0.2 3.4 2606932 143044 s006 Ss+ 12:05PM 3:21.61
&gt;&gt;&gt;&gt; /Users/keith/src/riak/dev/dev1/erts-5.8.2/bin/beam.smp -K true -A 64 --
&gt;&gt;&gt;&gt; -root /Users/keith/src/riak/dev/dev1 -progname riak -- -home /Users/keith 
&gt;&gt;&gt;&gt; --
&gt;&gt;&gt;&gt; -boot /Users/keith/src/riak/dev/dev1/releases/0.14.0/riak -embedded -config
&gt;&gt;&gt;&gt; /Users/keith/src/riak/dev/dev1/etc/app.config -name 
&gt;&gt;&gt;&gt; dev1@127.0.0.1-setcookie riak -- console
&gt;&gt;&gt;&gt; keith 580 0.1 2.0 2549924 85492 s008 Ss+ 12:05PM 2:24.08
&gt;&gt;&gt;&gt; /Users/keith/src/riak/dev/dev3/erts-5.8.2/bin/beam.smp -K true -A 64 --
&gt;&gt;&gt;&gt; -root /Users/keith/src/riak/dev/dev3 -progname riak -- -home /Users/keith 
&gt;&gt;&gt;&gt; --
&gt;&gt;&gt;&gt; -boot /Users/keith/src/riak/dev/dev3/releases/0.14.0/riak -embedded -config
&gt;&gt;&gt;&gt; /Users/keith/src/riak/dev/dev3/etc/app.config -name 
&gt;&gt;&gt;&gt; dev3@127.0.0.1-setcookie riak -- console
&gt;&gt;&gt;&gt; keith 380 0.0 0.0 2435004 268 ?? S 12:05PM 0:00.08
&gt;&gt;&gt;&gt; /Users/keith/src/riak/dev/dev1/erts-5.8.2/bin/epmd -daemon
&gt;&gt;&gt;&gt; keith 358 0.0 0.0 2434988 264 ?? S 12:05PM 0:00.01
&gt;&gt;&gt;&gt; /Users/keith/src/riak/dev/dev1/erts-5.8.2/bin/run\\_erl -daemon
&gt;&gt;&gt;&gt; /tmp//Users/keith/src/riak/dev/dev1// /Users/keith/src/riak/dev/dev1/log
&gt;&gt;&gt;&gt; exec /Users/keith/src/riak/dev/dev1/bin/riak console
&gt;&gt;&gt;&gt; keith 1633 0.0 0.0 2435548 0 s010 R+ 1:34PM 0:00.00
&gt;&gt;&gt;&gt; grep riak
&gt;&gt;&gt;&gt; keith 578 0.0 0.0 2434988 264 ?? S 12:05PM 0:00.00
&gt;&gt;&gt;&gt; /Users/keith/src/riak/dev/dev3/erts-5.8.2/bin/run\\_erl -daemon
&gt;&gt;&gt;&gt; /tmp//Users/keith/src/riak/dev/dev3// /Users/keith/src/riak/dev/dev3/log
&gt;&gt;&gt;&gt; exec /Users/keith/src/riak/dev/dev3/bin/riak console
&gt;&gt;&gt;&gt; keith 470 0.0 2.0 2548688 83584 s007 Ss+ 12:05PM 0:33.41
&gt;&gt;&gt;&gt; /Users/keith/src/riak/dev/dev2/erts-5.8.2/bin/beam.smp -K true -A 64 --
&gt;&gt;&gt;&gt; -root /Users/keith/src/riak/dev/dev2 -progname riak -- -home /Users/keith 
&gt;&gt;&gt;&gt; --
&gt;&gt;&gt;&gt; -boot /Users/keith/src/riak/dev/dev2/releases/0.14.0/riak -embedded -config
&gt;&gt;&gt;&gt; /Users/keith/src/riak/dev/dev2/etc/app.config -name 
&gt;&gt;&gt;&gt; dev2@127.0.0.1-setcookie riak -- console
&gt;&gt;&gt;&gt; keith 468 0.0 0.0 2434988 264 ?? S 12:05PM 0:00.01
&gt;&gt;&gt;&gt; /Users/keith/src/riak/dev/dev2/erts-5.8.2/bin/run\\_erl -daemon
&gt;&gt;&gt;&gt; /tmp//Users/keith/src/riak/dev/dev2// /Users/keith/src/riak/dev/dev2/log
&gt;&gt;&gt;&gt; exec /Users/keith/src/riak/dev/dev2/bin/riak console
&gt;&gt;&gt;&gt; kratos:~ keith$
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I've attached the erl\\_crash.dump file. Anyone have an explanation or
&gt;&gt;&gt;&gt; suggestions on how to proceed?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Keith
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;
