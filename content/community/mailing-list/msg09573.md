---
title: "Riak crashes when used via TestServer from riak-python-client"
description: ""
project: community
lastmod: 2012-12-13T12:27:46-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09573"
author_name: "Louis Opter"
project_section: "mailinglistitem"
sent_date: 2012-12-13T12:27:46-08:00
---


Hello,

I'm trying to use the TestServer utility bundled with the Python client.
Here is what I'm doing:

-----8&lt;-----

import riak.test\\_server
import riak
server = riak.test\\_server.TestServer(bin\\_dir="/usr/sbin/")
server.prepare()
server.start()
client = riak.RiakClient(
 "localhost", 9000, transport\\_class=riak.RiakHttpTransport
)
test = client.bucket("test").new("test\\_key", {"test\\_object": "a value"})
test.store()

-----&gt;8-----

But Riak just crashes, and I'm quite clueless about the output:

http://pastie.org/pastes/5518654/text

I'm using a fresh install of Riak 1.2.1 on Ubuntu 10.04 (using the
official package from Basho), and the git version of riak-python-client
in a clean virtualenv. But I had similar outcomes with Riak 1.1.1 and
riak-python-client 1.5.1 (with this fix:
https://github.com/basho/riak-python-client/commit/ef83401c5b2289cacd2bfe0e6a2a342891b40d8b).

Any hint will be appreciated!

Best regards

-- 
Louis Opter

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

