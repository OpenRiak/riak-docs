---
title: "Re: Riaksearch backup/recovery"
description: ""
project: community
lastmod: 2011-06-30T14:53:29-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03888"
mailinglist_parent_id: "msg03855"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2011-06-30T14:53:29-07:00
---


Fyodor,

This is correct. If you want to restore the index you must first install
the Search precommit hook, install the extractor, and then perform the
restore. This is because currently backup/restore is only aware of the raw
data, not the index. As part of our continuing work on integrating Search
with Riak proper I'll be looking at making backup/restore Search aware.

-Ryan

On Wed, Jun 29, 2011 at 2:15 AM, Fyodor Yarochkin wrote:

&gt; There was this post on this mailing list with no follow up:
&gt; http://comments.gmane.org/gmane.comp.db.riak.user/3197. The main point
&gt; of the question is ' how does one re-index a KV bucket? ' during
&gt; riaksearch-admin backup/restore operations. In our experience the
&gt; data is not indexed (and does not get reindexed) unless you create
&gt; pre-commit hook before restoring the data. I wonder if anyone else
&gt; could comment on this issue?
&gt;

