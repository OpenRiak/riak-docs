---
title: "Python feature suggestion - load (binary) content from file"
description: ""
project: community
lastmod: 2011-04-10T07:57:24-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02959"
author_name: "Ana Nelson"
project_section: "mailinglistitem"
sent_date: 2011-04-10T07:57:24-07:00
---


I've just implemented this in a project:

 binary\\_data = open(self.filename(), "rb").read()
 mimetype, encoding = mimetypes.guess\\_type(self.filename())
 if not mimetype:
 mimetype = 'application/octet-stream' # Riak's own default
 self.riak\\_object = self.bucket.new\\_binary(
 self.hashstring,
 binary\\_data,
 mimetype
 )


which writes binary data to a Riak bucket from a file, using Python's
mimetypes library to determine the content type from the file's extension.

I think it could be convenient to have this be included in the Riak Python
client, so perhaps it can implement better buffering. Something like
bucket.new\\_binary\\_from\\_file(key, filename)
