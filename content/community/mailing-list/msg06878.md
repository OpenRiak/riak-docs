---
title: "Re: riak_core app using riak_kv"
description: ""
project: community
lastmod: 2012-03-05T11:59:34-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06878"
mailinglist_parent_id: "msg06860"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2012-03-05T11:59:34-08:00
---


Adam,

The reason you don't see this code in Search is because Search uses a hook
to index the incoming objects (i.e. KV passes the data \\_to\\_ Search).

What you are looking for is a local Riak client. You can created one via
`{ok, C} = riak:local\\_client()` [1]. That will give you a client to the
the local KV instance [2].

-Ryan

[1]: https://github.com/basho/riak\\_kv/blob/master/src/riak.erl#L75

[2]: https://github.com/basho/riak\\_kv/blob/master/src/riak\\_client.erl

On Sun, Mar 4, 2012 at 7:10 AM, Adam Schepis  wrote:

&gt; What is the best way for a riak\\_core app to use riak\\_kv for persistent
&gt; storage? I thought that riak search did this but haven't found it in
&gt; that code yet. Should I use the erlang interface via http or protobuf
&gt; or is there an API or module I can use since my app is running as a
&gt; member of the cluster?
&gt;
&gt; Sent from my iPhone
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

