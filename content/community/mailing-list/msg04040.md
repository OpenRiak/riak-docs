---
title: "When is Vclock generated?"
description: ""
project: community
lastmod: 2011-07-21T15:13:52-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04040"
author_name: "Andrew Berman"
project_section: "mailinglistitem"
sent_date: 2011-07-21T15:13:52-07:00
---


I'm looking to store the vclock on my object to be used for
versioning. Currently, when I get the object from Riak I fill in the
version with the vclock from Riak (which I use to determine if the
object is persistent and for passing back to Riak when putting) and
then when the object is saved it saves the version as the previous
vclock value. I'm wondering when the vclock is actually generated.
Can I write a pre-commit hook that fills in the version so it has the
most updated value or is there no way for me to do it. It's not a
huge deal because the version value in the db is immediately updated
upon loading the data from Riak, but I just feel like it would make
things more consistent if I could have the version matching the
updated vclock.

Thanks for any help!

Andrew

