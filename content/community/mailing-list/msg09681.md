---
title: "Adding new indexed (2i) fields"
description: ""
project: community
lastmod: 2012-12-27T09:54:12-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09681"
author_name: "Joshua Barratt"
project_section: "mailinglistitem"
sent_date: 2012-12-27T09:54:12-08:00
---


Good day the list,

We're getting ready to launch a riak-backed application, and starting to
need to evolve things already. We're leaning on 2i quite a bit.

The use case would be something like an 'account' object:

{ "id": ..., "first\\_name": ..., }

.. where we have indexes on various fields. Now our customer service
department wants account records to magically pop up when people call, and
we want to add another field ('phone\\_number') that we'll need to do 2i on.

So far the options seem to be:

1. List all the keys in the bucket (eew, I'm told) and re-save them with
the new index
2. Have search enabled, and find all the objects that have that field
defined, then re-save them with the index
3. I'm doing it wrong at the data modeling layer

I apologize if this is an RTFM thing, I searched the list archives etc and
found no clear suggestions.
