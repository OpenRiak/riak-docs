---
title: "Re: In-Memory Performance"
description: ""
project: community
lastmod: 2011-08-04T08:19:22-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04221"
mailinglist_parent_id: "msg04218"
author_name: "Les Mikesell"
project_section: "mailinglistitem"
sent_date: 2011-08-04T08:19:22-07:00
---

On 8/4/2011 9:57 AM, Matt Savona wrote:

With Eric's suggestion, I re-ran my test using R=1, and the read
performance got much better. Those results can be seen here:
http://img59.imageshack.us/img59/2629/riakperformance2.png

If you compare Riak using the LRU cache backend and Membase, it
Membase is still roughly twice as fast for this particular test.

Not being intimately familiar Riak yet, there is definitely some small
amount of overhead per request, the sum of which becomes apparent in
my test. Basically, if you subtract network latency from my tests, and
you are working with objects that are purely resident in RAM then
whatever operations Membase must perform to retrieve an object versus
Riak seem to show that Riak is doing more work to fetch that object,
as Ryan mentioned in his email the other day.

Just a guess: is the membase client configured with all of the server 
nodes? Perhaps it is sending the request directly to the correct master 
node for each key where the riak client is likely to send to the wrong 
one which will then have to relay it and coordinate the status responses 
from the ones that own that key.


--
 Les Mikesell
 lesmikes...@gmail.com
