---
title: "Error: HTTP error 500: Error:"
description: ""
project: community
lastmod: 2012-02-29T23:52:48-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06797"
author_name: "Norman Khine"
project_section: "mailinglistitem"
sent_date: 2012-02-29T23:52:48-08:00
---


I hade created a bucket 'users', which i then deleted through the
'recon' interface (well i deleted all the keys within that bucket),
but now every time i try to push a new key, i get this error:

{ [Error: HTTP error 500: Error:
{precommit\\_fail,{hook\\_crashed,{riak\\_search\\_kv\\_hook,precommit,error,badarg}}}
] statusCode: 500 }

here is the code:


 origin = /\\/(.\\*)\\.gif/.exec(request.url);
 if (origin) {
 var ip = 
request.connection.remoteAddress;
 city = new City(\\_\\_dirname + 
"/GeoLiteCity.dat");
 city.lookup(ip, function(err, location) 
{
 obj = {
 city: 
location.city
 , latitude:
location.latitude
 , longitude:
location.longitude
 , ip: ip
 , timestamp: time
 }
 
self.bayeux.getClient().publish('/stat', obj);
 // write to riak cluster
 db.save('users', 
'username', obj, { index: {timestamp: time} });
 console.log('was saved 
in the riak cluster');

if i change the bucket name 'users' to anything else this works, even
if i then delete all the records from that ne bucket, i can still add
records to that new named bucket. the only problem is with this
'users' bucket.

is there a way to check what is going on and clean up the database?

i have a single node on my local machine, running OSX.

thanks

norman

-- 
%&gt;&gt;&gt; "".join( [ {'\\*':'@','^':'.'}.get(c,None) or
chr(97+(ord(c)-83)%26) for c in ",adym,\\*)&uzq^zqf" ] )

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

