---
title: "Re: Loading documents in the map phase"
description: ""
project: community
lastmod: 2011-02-03T09:21:24-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02183"
mailinglist_parent_id: "msg02181"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2011-02-03T09:21:24-08:00
---


Hi Eric,

That initial map phase will have access to "entry\\_list/eric". If you return
a list of bucket/key pairs and add another map phase Riak will fetch the
objects referenced by the bucket/key pairs.

Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Thu, Feb 3, 2011 at 8:28 AM, Eric Moritz wrote:

&gt; For some reason I was under the impression that I could return a list of
&gt; bucket/key pairs in a map phase and Riak would automagically load the
&gt; documents for the next query phase.
&gt;
&gt; For instance I have the document:
&gt;
&gt; /riak/entry\\_list/eric
&gt;
&gt; [
&gt; ["entries", "story-1"],
&gt; ["entries", "story-2"],
&gt; ]
&gt;
&gt; then obviously documents in /riak/entries/story-1 and /riak/entries/story-2
&gt;
&gt; Then I have the following query:
&gt;
&gt; {
&gt; "inputs": [ ["entry\\_list", "eric"] ],
&gt; "query": [
&gt; {"map": {"language": "javascript", "name": "Riak.mapValuesJson"}},
&gt; ]
&gt; }
&gt;
&gt; I assumed that what I would get out of the query was the content of
&gt; /riak/entries/story-1 and /riak/entries/story-2
&gt;
&gt; Am I mistaken?
&gt;
&gt; Thanks,
&gt; Eric.
&gt;

