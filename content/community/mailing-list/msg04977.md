---
title: "Re: What is the best way to do \"AND / OR\" queries across data items	across one or more buckets Riak? Seconday indexes, Solr,	mutiple map phases, etc? Is this advice different prior to 1.0?"
description: ""
project: community
lastmod: 2011-10-02T03:35:01-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04977"
mailinglist_parent_id: "msg04902"
author_name: "Kev Burns"
project_section: "mailinglistitem"
sent_date: 2011-10-02T03:35:01-07:00
---


What up Harshal,

Since at least 0.13.x, the solr interface has supported both AND and OR
queries just fine, even in combination.

{a: "foo"}
{a: "bar"}
{a: ["foo", "bar"]}
{a: "bar baz"}

curl "http://localhost:8098/solr/bucket\\_name/select?wt=json&q=a:foo+OR+a:bar
"
(4 results)

curl "
http://localhost:8098/solr/bucket\\_name/select?wt=json&q=a:foo+AND+a:bar"
(1 result)

curl "
http://localhost:8098/solr/bucket\\_name/select?wt=json&q=a:foo+AND+(a:bar+OR+a:baz)
"
(2 results)

- Kev
c: +001 (650) 521-7791


On Wed, Sep 28, 2011 at 11:19 AM, Harshal Dhir  wrote:

&gt; Hi,
&gt;
&gt; We were wondering what is the best possible way to perform "AND / OR"
&gt; queries in RiakSearch. It seems OR works but how do I perform an AND on the
&gt; same field.
&gt;
&gt; For example:
&gt;
&gt; DATA:
&gt;
&gt; {a : "test" } {a: "test"} {a: "test2"}
&gt;
&gt; "test" OR "test2" would return both. But, we are looking to return AND
&gt; query result, since obviously "test2" AND "test" won't return anything.
&gt;
&gt; So, we are looking for guidance on how do we store data in such a way that
&gt; AND queries would be possible.
&gt;
&gt; Whats the best recommended approach both prior to 1.0 and 1.0 going
&gt; forward.
&gt;
&gt;
&gt; Thanks
&gt; Harshal
&gt;
&gt;
&gt; \\*
&gt;
&gt; \\*
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

