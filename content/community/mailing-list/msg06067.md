---
title: "riak_core: different types of commands"
description: ""
project: community
lastmod: 2011-12-24T04:04:11-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06067"
author_name: "Adam Schepis"
project_section: "mailinglistitem"
sent_date: 2011-12-24T04:04:11-08:00
---


I'm having trouble finding documentation for certain pieces of riak\\_core
code (and at times i'm not sure whether some concepts are OTP or Riak
defined) so I figured i'd ask here. I've mostly been using try-try-try,
bash\\_banjo, and riak\\_kv as my guides.

Once i know the answers and understand I would gladly volunteer to augment
the documentation in the riak\\_core code.

What is the difference between the different ways to send a command in
riak\\_core\\_vnode\\_master?
- command
- sync\\_command
- sync\\_spawn\\_command

as far as i can tell, the sync commands will hold up the Sender process
until the Sender receives a {reply, Whatever, State}, whereas command is
asynchronous and the Sender won't wait for a result. I returned noreply
from a handle\\_command that was called by sync\\_spawn\\_command and it hung on
the Sender side.

Next, when is it appropriate to use reply and noreply in handle\\_command?
Does no reply really mean there will never be a reply or just that it may
come from someone else at a later time (e.g. async call)

Finally, what is a Preflist? Is it just the list of preferred vnodes for a
particular command (e.g. if nothing has crashed, here are the people who
should see this.)

Thanks, and happy holidays!
Adam
