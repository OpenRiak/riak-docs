---
title: "Re: Key Expiry in Riak"
description: ""
project: community
lastmod: 2011-03-02T08:57:18-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02514"
mailinglist_parent_id: "msg02513"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2011-03-02T08:57:18-08:00
---


Innostore does not have an expiration option. In general, you'll want to use 
bitcask unless your operational requirements specifically call for innostore.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On Mar 2, 2011, at 11:53 AM, Tristan Sloughter wrote:

&gt; Is this possible when using innodb? Or would I use innodb for my persistent 
&gt; data and a bitcask backend (like your sessions example) for data I want to 
&gt; expire?
&gt; 
&gt; Thanks,
&gt; Tristan
&gt; 
&gt; On Wed, Mar 2, 2011 at 8:13 AM, Sean Cribbs  wrote:
&gt; Abhishek,
&gt; 
&gt; Mostly answered here: 
&gt; https://help.basho.com/entries/466512-how-can-i-automatically-expire-a-key-from-riak
&gt; 
&gt; If you use multi\\_backend with several bitcask setups you can have both 
&gt; expiring data and normal persistent data. Here's an example of what you might 
&gt; put in app.config (inside the riak\\_kv section):
&gt; 
&gt; {storage\\_backend, riak\\_kv\\_multi\\_backend},
&gt; {multi\\_backend\\_default, &lt;&lt;"bitcask"&gt;&gt;},
&gt; {multi\\_backend, [
&gt; {&lt;&lt;"bitcask"&gt;&gt;, riak\\_kv\\_bitcask\\_backend, []},
&gt; {&lt;&lt;"sessions&gt;&gt;, riak\\_kv\\_bitcask\\_backend, [{expiry\\_secs, 7200}, 
&gt; {data\\_root, "data/sessions"}]}
&gt; ]},
&gt; 
&gt; The key pieces there is expiry\\_secs = 7200 (2 hours), and the separate root 
&gt; for the data files.
&gt; 
&gt; Sean Cribbs 
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; http://basho.com/
&gt; 
&gt; 
&gt; P.S. If you haven't seen the Knowledge Base yet, check it out: 
&gt; https://help.basho.com/forums/270314-riak. You can also search the KB from 
&gt; the #riak IRC channel using "!kb ".
&gt; 
&gt; On Mar 2, 2011, at 8:21 AM, Abhishek Kona wrote:
&gt; 
&gt; &gt; Hi
&gt; &gt;
&gt; &gt; Is it possible to have a expiry (ttl) on RIAK keys per bucket (or per key).
&gt; &gt; Or is there any other way that I am missing.
&gt; &gt;
&gt; &gt; This would be greatly useful for maintaining Session data in RIAK, as 
&gt; &gt; expired session data can be auto cleared.
&gt; &gt;
&gt; &gt; -Abhishek Kona
&gt; &gt;
&gt; 
&gt; 
 

