---
title: "Error creating links with RiakPbcTransport"
description: ""
project: community
lastmod: 2010-10-28T14:28:27-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01398"
author_name: "Matt Croydon"
project_section: "mailinglistitem"
sent_date: 2010-10-28T14:28:27-07:00
---


Hello,

I ran in to an error with Riak (0.13.0 on OSX 10.6 via homebrew) and
riak-python-client (1.1.1) while linking objects using RiakPbcTransport. I
see the following error when running the code in
https://gist.github.com/151070717bfe56a3da1a but it works fine when I swap
lines 4 and 5 and use the default HTTP transport:

Traceback (most recent call last):
 File "riak\\_gist.py", line 31, in 
 group\\_data.store()
 File
"/Library/Python/2.6/site-packages/riak-1.1.1-py2.6.egg/riak/riak\\_object.py",
line 237, in store
 Result = t.put(self, w, dw, return\\_body)
 File
"/Library/Python/2.6/site-packages/riak-1.1.1-py2.6.egg/riak/transports/pbc.py",
line 190, in put
 msg\\_code, resp = self.recv\\_msg()
 File
"/Library/Python/2.6/site-packages/riak-1.1.1-py2.6.egg/riak/transports/pbc.py",
line 326, in recv\\_msg
 self.recv\\_pkt()
 File
"/Library/Python/2.6/site-packages/riak-1.1.1-py2.6.egg/riak/transports/pbc.py",
line 364, in recv\\_pkt
 format(nmsglen))
riak.RiakError: 'Socket returned short packet length - expected 4'

Am I doing something wrong? I'll continue looking at it but was hoping
someone might have seen this before.

Thanks,

--Matt
