---
title: "Re: erlang-http-client and riak::search"
description: ""
project: community
lastmod: 2012-05-11T14:12:15-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07441"
mailinglist_parent_id: "msg07440"
author_name: "Greg"
project_section: "mailinglistitem"
sent_date: 2012-05-11T14:12:15-07:00
---

On May 11, 2012, at 1:20 PM, Ryan Zezeski wrote:

&gt; 
&gt; The best way to use Search is for indexing KV data by installing the 
&gt; precommit hook. There are APIs to write docs that don't go through KV but 
&gt; IMO they never should have been added to Search and I plan to focus it on 
&gt; indexing KV data only in the coming months.

Ah, ok. I hadn't thought of using it like that. Would you like me to 
potentially submit a wiki entry on using search this way so others may benefit 
(if/once I figure it out)?


&gt; I'm actually surprised people use the erlang-http-client. It seems if you're 
&gt; in Erlang already why not just use the protobuff client?

Actually, historically I have used the pb client. I only switched to the http 
client b/c I couldn't find \\_any\\_ reference to the search functionality in the 
pb variant. I didn't notice right away that the rhc client only seems to have 
rhc:search but no index/delete functions.

That said, I have often wondered if the HTTP client also might be more 
load-balancer friendly against the REST interface? Or does the pb client have 
provisions for this as well?

&gt; 
&gt; Looking at the client, one good thing to do right off the bat is \\_not\\_ use 
&gt; map/reduce just to pull back the keys. That is adding latency and using more 
&gt; resources on the server for no good reason.

Yeah, that makes sense. I was actually a little surprised to notice via 
wireshark that it uses the MR engine for a search/3 invocation instead of the 
SOLR query interface.

&gt; 
&gt; Anyways, I'm supposed to be on vacation right now and not writing emails. If 
&gt; you decide to write some pull-requests I'm happy to help with 
&gt; questions/reviewing.

Great, enjoy the remainder of your vacation!

-Greg

signature.asc
Description: Message signed with OpenPGP using GPGMail
