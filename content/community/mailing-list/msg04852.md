---
title: "Re: riak with leveldb timeouts when retrieving bucket keys"
description: ""
project: community
lastmod: 2011-09-24T10:42:39-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04852"
mailinglist_parent_id: "msg04836"
author_name: "Kelly McLaughlin"
project_section: "mailinglistitem"
sent_date: 2011-09-24T10:42:39-07:00
---


Artem, 

Are you using a riak package or have you built from source? Which version or 
branch are you using? Also do you know how many objects are in the bucket. 
Thanks.

Kelly

On Sep 23, 2011, at 2:23 AM, Artem Kozarezov wrote:

&gt; Riak becomes unavailable when fetching bucket keys.
&gt; wget "http://127.0.0.1:8098/riak/bucket?keys=stream"
&gt; 
&gt; 2011-09-23 12:13:21.924 [error] &lt;0.1110.0&gt; CRASH REPORT Process [] with 0 
&gt; neighbours crashed with reason: 
&gt; {timeout,{gen\\_server,call,[&lt;0.1116.0&gt;,{work,&lt;0.1111.0&gt;,{fold,#Fun,#Fun},{fsm,{33509606,{1278813932664540053428224228626747642198940975104,'riak@188.138.84.236'}},&lt;0.14780.226&gt;}}]}}
&gt; 2011-09-23 12:13:31.198 [error] &lt;0.907.0&gt; gen\\_fsm &lt;0.907.0&gt; in state ready 
&gt; terminated with reason: 
&gt; {timeout,{gen\\_server,call,[&lt;0.916.0&gt;,{work,&lt;0.908.0&gt;,{fold,#Fun,#Fun},{fsm,{33509606,{1187470080331358621040493926581979953470445191168,'riak@188.138.84.236'}},&lt;0.14780.226&gt;}}]}}
&gt; 2011-09-23 12:14:22.196 [error] &lt;0.1512.0&gt; gen\\_fsm &lt;0.1512.0&gt; in state ready 
&gt; terminated with reason: 
&gt; {timeout,{gen\\_fsm,sync\\_send\\_all\\_state\\_event,[&lt;0.1513.0&gt;,stop]}}
&gt; 
&gt; Would be nice to have a configurable bandwidth limit for the keys retrieval 
&gt; (e.g. "please give me no more than 1000 keys per second"), so that one could 
&gt; fetch the keys without making Riak unresponsive.
&gt; 
