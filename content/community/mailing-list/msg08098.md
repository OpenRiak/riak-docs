---
title: "Re: Cant remote write to riak"
description: ""
project: community
lastmod: 2012-07-26T20:59:37-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08098"
mailinglist_parent_id: "msg08097"
author_name: "David Montgomery"
project_section: "mailinglistitem"
sent_date: 2012-07-26T20:59:37-07:00
---


As a note, from a remote machine, this command worked curl -v
http://111.222.333.444:8098/riak/test and returned the expected
output.


\\* About to connect() to 111.222.333.444 port 8098 (#0)
\\* Trying 111.222.333.444... connected
\\* Connected to 111.222.333.444 (111.222.333.444) port 8098 (#0)
&gt; GET /riak/test HTTP/1.1
&gt; User-Agent: curl/7.21.3 (x86\\_64-pc-linux-gnu) libcurl/7.21.3 OpenSSL/0.9.8o 
&gt; zlib/1.2.3.4 libidn/1.18
&gt; Host: 111.222.333.444:8098
&gt; Accept: \\*/\\*
&gt;
&lt; HTTP/1.1 200 OK
&lt; Vary: Accept-Encoding
&lt; Server: MochiWeb/1.1 WebMachine/1.9.0 (someone had painted it blue)
&lt; Date: Fri, 27 Jul 2012 03:58:22 GMT
&lt; Content-Type: application/json
&lt; Content-Length: 422
&lt;
\\* Connection #0 to host 111.222.333.444 left intact
\\* Closing connection #0
{"props":{"name":"test","allow\\_mult":false,"basic\\_quorum":false,"big\\_vclock":50,"chash\\_keyfun":{"mod":"riak\\_core\\_util","fun":"chash\\_std\\_keyfun"},"dw":"quorum","last\\_write\\_wins":false,"linkfun":{"mod":"riak\\_kv\\_wm\\_link\\_walker","fun":"mapreduce\\_linkfun"},"n\\_val":3,"notfound\\_ok":true,"old\\_vclock":86400,"postcommit":[],"pr":0,"precommit":[],"pw":0,"r":"quorum","rw":"quorum","small\\_vclock":50,"w":"quorum","young\\_vclock":20}}

On Fri, Jul 27, 2012 at 11:40 AM, David Montgomery
 wrote:
&gt; Hi,
&gt;
&gt; I have one node installed on my cloud provider and tried to remote
&gt; write using a python client but I get a connection failure.
&gt;
&gt; On the riak node:
&gt;
&gt; riak-admin status | grep ring\\_members
&gt; ring\\_members : ['r...@xxx.xxx.xxx.xxx]
&gt;
&gt; service riak ping
&gt; Attempting to restart script through sudo -u riak
&gt; pong
&gt;
&gt; So, I did update the vm.args and app.config with the nodes ip address,
&gt; restarted and set the seed as a ring member.
&gt;
&gt; Services are running. I can also telnet into other open ports e.g.
&gt; 22. I have all ports open to the appropriate servers..
&gt;
&gt; I am also able to write when using localhost to a bucket on the node.
&gt; I just cant use a remote client.
&gt;
&gt; Is there a step I missed with being able to remote write?
&gt;
&gt; On the riak node, this works:
&gt; client = 
&gt; riak.RiakClient(host='127.0.0.1',port=8087,transport\\_class=riak.transports.pbc.RiakPbcTransport)
&gt;
&gt; This does not work when I write to a bucket on the riak node or any other 
&gt; node:
&gt; client = 
&gt; riak.RiakClient(host='111.222.333.444',port=8087,transport\\_class=riak.transports.pbc.RiakPbcTransport)

