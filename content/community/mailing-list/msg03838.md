---
title: "Problem when parsing query"
description: ""
project: community
lastmod: 2011-06-27T13:26:01-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03838"
author_name: "Germain Maurice"
project_section: "mailinglistitem"
sent_date: 2011-06-27T13:26:01-07:00
---

Hello everybody,

I have a problem with riaksearch 0.14.2 when searching the document i 
have in my bucket "affinities" :

{
 "start" : "20110417",
 "end" : "20110510",
 "data" : {
 ...
 }
}

When i request the index with this query (without escaping special 
characters) :
curl -vv 
'http://localhost:8098/solr/affinities/select?q=nsid:83786678@N00 AND 
start:[2\\* TO 20110501]&wt=json&rows=1'

it returns the document.

When i request the index with this query :
curl -vv 
'http://localhost:8098/solr/affinities/select?q=nsid:83786678@N00 AND 
start:[20\\* TO 20110501]&wt=json&rows=1'

i get a Bad Request error (HTTP 400) and this error in the riak console :

=ERROR REPORT==== 27-Jun-2011::22:05:04 ===
Unable to parse request: {badmatch,
 {error,
 {lucene\\_parse,
 "syntax error before: [50,48,42]"}}}
[{riak\\_search\\_client,parse\\_query,3},
 {riak\\_solr\\_searcher\\_wm,malformed\\_request,2},
 {webmachine\\_resource,resource\\_call,3},
 {webmachine\\_resource,do,3},
 {webmachine\\_decision\\_core,resource\\_call,1},
 {webmachine\\_decision\\_core,decision,1},
 {webmachine\\_decision\\_core,handle\\_request,2},
 {webmachine\\_mochiweb,loop,1}]

I think there is an error in parsing the query, am i wrong ?

Germain
