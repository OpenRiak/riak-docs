---
title: "Re: using python client for search"
description: ""
project: community
lastmod: 2011-04-01T06:02:30-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02826"
mailinglist_parent_id: "msg02813"
author_name: "Eric Moritz"
project_section: "mailinglistitem"
sent_date: 2011-04-01T06:02:30-07:00
---


Hi Thomas,

This is beyond my understanding of the internal storage of Riak Search
indexes, but I don't think they're stored in any ordered way.

What I believe is happening under the covers when things are being
indexed is pointers to documents are created under specialized keys.
For instance if the word "automobile" is indexed for the "products"
index, there's an index document stored under something like:
products.automobile that points to the documents that have that value.

I may be completely wrong, but based on what I've read about Riak
Search, I don't believe there is a sort order internally to indexes.


On Fri, Apr 1, 2011 at 7:59 AM, Thomas Bikeev  wrote:
&gt; Thanks, Eric - I got it eventually to work.
&gt; I have follow-up questions (I am somewhat completely new to riak).
&gt; Say I have stored a large number of records in a bucket that has been
&gt; indexed in riaksearch. Records would have "updated" field, say
&gt; 'updated': '2011-03-31T22:26:31', but they have been keyed into the bucket
&gt; using some other ID.
&gt; so since this bucket has search installed they ('updated' fields) have been
&gt; indexed already using alpha-ascending sort internally.
&gt; How can I retrieve only first 100 or so records (those that are most
&gt; out-of-date)? I would not like to traverse the whole bunch in the map phase.
&gt; Can I somehow explicitly state on which index field I'd like to be based? I
&gt; guess I am trying to find out if riaksearch indexes could be used in the
&gt; same way couchdb views are used. If there is already an index can I just
&gt; access the tip of it?
&gt; Thomas
&gt;
&gt;
&gt; --
&gt; Thomas Bikeev
&gt; Sent with Sparrow
&gt;
&gt; On Thursday 31 March 2011 at 18:29, Eric Moritz wrote:
&gt;
&gt; The client.search method is basically a shortcut to using the
&gt; mapred\\_search erlang function as an input to a map/reduce query. You
&gt; can sort, seek and limit in the reduce phase of that mapred query.
&gt;
&gt; An alternative is to use pysolr to talk to riak search.
&gt;
&gt; Eric.
&gt;
&gt; On Thu, Mar 31, 2011 at 11:15 AM, Thomas Bikeev 
&gt; wrote:
&gt;
&gt; Hello,
&gt; is it possible to use solr-type parameters: specifically start, rows and
&gt; sort in python client?
&gt;
&gt; Thanks!
&gt; --
&gt; Thomas Bikeev
&gt; Sent with Sparrow
&gt;
