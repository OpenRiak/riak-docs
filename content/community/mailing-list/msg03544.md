---
title: "Re: Question: Object Not Saved After Save/Delete/Save"
description: ""
project: community
lastmod: 2011-06-03T14:00:42-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03544"
mailinglist_parent_id: "msg03543"
author_name: "Aphyr"
project_section: "mailinglistitem"
sent_date: 2011-06-03T14:00:42-07:00
---


Riak can't use the vclock for conflict resolution on a fresh object, 
i.e. one without a vclock. Deletes are writes. You should use get or 
reload before writing to help Riak sequence your writes correctly.


On top of this, Riak has some weirdness around very quick sequences of 
deletes/writes due, IIRC, to deletes not being tagged with a vector 
clock. I... think... this will be addressed in an upcoming release.


--Kyle

On 06/03/2011 01:55 PM, Keith Bennett wrote:

Hi, all. I have a weird issue. I'm using the Riak ruby client. When I store 
an object, create an object with the same bucket and key and delete it, then 
create an object with the same bucket and key and store it again, it is not in 
riak. Can someone tell me what I'm doing wrong? I posted my code here:

https://gist.github.com/1007142

Thanks very much,
Keith
