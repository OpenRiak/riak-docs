---
title: "Re: riak java client"
description: ""
project: community
lastmod: 2011-11-17T02:21:10-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05621"
mailinglist_parent_id: "msg05601"
author_name: "sergey"
project_section: "mailinglistitem"
sent_date: 2011-11-17T02:21:10-08:00
---

Thanks Russell!
I use raw client:

rawClient = new RiakClient("127.0.0.1")
pbcClient = new PBClientAdapter(rawClient)
riakObject = RiakObjectBuilder.newBuilder("users", 
userName).withContentType("application/json").withValue(userInfo).build

pbcClient.store(riakObject)

In store, Content Type application/json;charset=utf-8
but riak search index set as:
�hd
riak\\_idx\\_docmusersmuser1lhmvaluem+{"email":"em...@email.com","pass":"123123"}lhm+{"email":"em...@email.com","pass":"123123"}kjjjjdtrue

if use curl and http and set same as
curl -X PUT http://localhost:8098/riak/users/user1 -H "Content-Type: 
application/json" -d '{"email":"em...@email.com", "pass":"123123"}'

riak search index set as:
�hd
riak\\_idx\\_docmusersmuser1lhmemailmem...@email.comlhmem...@email.comkjhmpassm123123lhm123123kjjjjdtrue

If use java client, riak search index set all field as one sting and 
search query don't work("email:em...@email.com")


How to store with index riak search all fields json?

