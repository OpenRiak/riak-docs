---
title: "Re: Best practices for updates"
description: ""
project: community
lastmod: 2010-11-29T10:40:07-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01658"
mailinglist_parent_id: "msg01571"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2010-11-29T10:40:07-08:00
---


Hi Dan,

Sorry for not getting back to you sooner. There is no multi-set feature in
Riak; each object would need to be updated with a separate request.

While it is possible to modify Riak objects from within an Erlang map
function, the map/reduce functionality was not intended for this type of
operation. I don't see any reason a map phase couldn't be used for a
multi-set but this is not an area that has been tested or verified.

Thank you,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Thu, Nov 18, 2010 at 1:34 PM, Daniel Langevin &lt;
dan.lange...@lifebooker.com&gt; wrote:

&gt; We are considering using Riak and I am looking for some advice on best
&gt; practices for updating a large number of records. Our problem is that we
&gt; have a large number of unique sets of results, each of which represent a
&gt; schedule for multiple people on a particular day or set of days.
&gt;
&gt; For example, we would have a result set for Mondays from 11/01 - 11/28 and
&gt; another for 11/29 and then a third on Mondays from 11/30 onwards if one
&gt; person's schedule was edited for 11/29.
&gt;
&gt; So when a person's schedule changes, we need to update the related result
&gt; sets. The issue is that there are likely to be a large number of result
&gt; sets that need to be updated for each change to a person's schedule and I
&gt; would like to process them in parallel. From what I have seen, the only way
&gt; to do this is to write a MapReduce (or map really I guess) function in
&gt; Erlang, though the forum thread I found seemed to discourage this approach.
&gt; Is that correct or am I missing something? This seems like a relatively
&gt; common use-case for sharded data, so I am hoping that Riak offers a good
&gt; solution for us.
&gt;
&gt; Thanks in advance,
&gt;
&gt; Dan Langevin
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

