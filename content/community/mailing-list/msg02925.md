---
title: "Re: Retrying requests to Riak"
description: ""
project: community
lastmod: 2011-04-07T20:17:57-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02925"
mailinglist_parent_id: "msg02921"
author_name: "Wilson MacGyver"
project_section: "mailinglistitem"
sent_date: 2011-04-07T20:17:57-07:00
---


use haproxy to ping each of the riak node. and remove nodes that
aren't responding is
what we did.

we use a single haproxy instead of 1 per application server.

On Thu, Apr 7, 2011 at 9:47 PM, Greg Nelson  wrote:
&gt; Hello,
&gt; I have a simple three node cluster that I have been using for testing and
&gt; benchmarking Riak.  Lately I've been simulating various failure scenarios --
&gt; like a node going down, disk going bad, etc.
&gt; My application talks to Riak through an haproxy instance running locally on
&gt; each application server.  It's configured to round-robin over the nodes in
&gt; the cluster for both HTTP and PBC interfaces, and uses the HTTP /ping health
&gt; check.  I assume this is a rather typical setup.

-- 
Omnem crede diem tibi diluxisse supremum.

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

