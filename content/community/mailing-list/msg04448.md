---
title: "Re: riak_kv_cache_backend config questions"
description: ""
project: community
lastmod: 2011-08-24T08:49:59-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04448"
mailinglist_parent_id: "msg04423"
author_name: "Ian Plosker"
project_section: "mailinglistitem"
sent_date: 2011-08-24T08:49:59-07:00
---


Tony,

We thought this was good question, so I went ahead and added it along with your 
example to our knowledge base. You can find it here 
https://help.basho.com/entries/20390556-what-s-the-difference-between-the-riak-kv-cache-backend-ttl-and-riak-kv-cache-backend-max-ttl.
 We appreciate your help.

Thanks.

Ian Plosker
Developer Advocate
Basho Technologies


On Aug 23, 2011, at 10:51 AM, Kelly McLaughlin wrote:

&gt; Tony,
&gt; 
&gt; Yes, you are correct.
&gt; 
&gt; Kelly
&gt; 
&gt; On Aug 23, 2011, at 8:38 AM, Tony Bussieres wrote:
&gt; 
&gt;&gt; Thanks Kelly!
&gt;&gt; 
&gt;&gt; So, if I understood well. 
&gt;&gt; 
&gt;&gt; with a config like this :
&gt;&gt; riak\\_kv\\_cache\\_backend\\_ttl 60
&gt;&gt; riak\\_kv\\_cache\\_backend\\_max\\_ttl 300
&gt;&gt; 
&gt;&gt; If I put a key at time 0, and access it will disappear after 60 second.
&gt;&gt; If I put a key at time 0, and access it at time 50, it will disappear at 
&gt;&gt; time 110
&gt;&gt; If I put a key at time 0, and access it every 15 seconds, it will disappear 
&gt;&gt; after 300 seconds.
&gt;&gt; 
&gt;&gt; I'm I right?
&gt;&gt; 
&gt;&gt; Regards,
&gt;&gt; 
&gt;&gt; -tony
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; On Tue, Aug 23, 2011 at 10:22 AM, Kelly McLaughlin  wrote:
&gt;&gt; Tony,
&gt;&gt; 
&gt;&gt; riak\\_kv\\_cache\\_backend\\_ttl is the amount of time to extend an object's lease 
&gt;&gt; or lifespan when accessed whereas riak\\_kv\\_cache\\_backend\\_max\\_ttl is the 
&gt;&gt; amount of time after which no further extensions should be granted. 
&gt;&gt; 
&gt;&gt; Kelly
&gt;&gt; 
&gt;&gt; 
&gt;&gt; On Aug 23, 2011, at 7:49 AM, Tony Bussieres wrote:
&gt;&gt; 
&gt;&gt;&gt; Hi all,
&gt;&gt;&gt; 
&gt;&gt;&gt; Could someone explain with an example what's the difference between :
&gt;&gt;&gt; 
&gt;&gt;&gt; riak\\_kv\\_cache\\_backend\\_max\\_ttl 
&gt;&gt;&gt; and 
&gt;&gt;&gt; riak\\_kv\\_cache\\_backend\\_ttl
&gt;&gt;&gt; 
&gt;&gt;&gt; Does the value of riak\\_kv\\_backend\\_max\\_ttl is also in seconds?
&gt;&gt;&gt; 
&gt;&gt;&gt; Here's a snippet from the documentation found at 
&gt;&gt;&gt; http://wiki.basho.com/Configuration-Files.html
&gt;&gt;&gt; riak\\_kv\\_cache\\_backend
&gt;&gt;&gt; A backend that behaves as an LRU-with-timed-expiry cache
&gt;&gt;&gt; riak\\_kv\\_cache\\_backend\\_memory
&gt;&gt;&gt; Maximum amount of memory to allocate, in megabytes (default: “100”)
&gt;&gt;&gt; riak\\_kv\\_cache\\_backend\\_ttl
&gt;&gt;&gt; Amount by which to extend an object’s expiry lease on each access, in 
&gt;&gt;&gt; seconds (default: “600”)
&gt;&gt;&gt; riak\\_kv\\_cache\\_backend\\_max\\_ttl
&gt;&gt;&gt; Maximum allowed lease time (default: “3600”)
&gt;&gt;&gt; Thanks!
&gt;&gt;&gt; 
&gt;&gt;&gt; -tony

&gt;&gt; 
&gt;&gt; 
&gt; 

