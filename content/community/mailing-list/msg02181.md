---
title: "Loading documents in the map phase"
description: ""
project: community
lastmod: 2011-02-03T08:28:50-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02181"
author_name: "Eric Moritz"
project_section: "mailinglistitem"
sent_date: 2011-02-03T08:28:50-08:00
---


For some reason I was under the impression that I could return a list of
bucket/key pairs in a map phase and Riak would automagically load the
documents for the next query phase.

For instance I have the document:

/riak/entry\\_list/eric

[
 ["entries", "story-1"],
 ["entries", "story-2"],
]

then obviously documents in /riak/entries/story-1 and /riak/entries/story-2

Then I have the following query:

{
"inputs": [ ["entry\\_list", "eric"] ],
"query": [
 {"map": {"language": "javascript", "name": "Riak.mapValuesJson"}},
]
}

I assumed that what I would get out of the query was the content of
/riak/entries/story-1 and /riak/entries/story-2

Am I mistaken?

Thanks,
Eric.
