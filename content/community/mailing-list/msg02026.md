---
title: "Re: Erlang API vs Erlang PBC"
description: ""
project: community
lastmod: 2011-01-20T04:46:57-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02026"
mailinglist_parent_id: "msg02025"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2011-01-20T04:46:57-08:00
---


I think one thing to note is that by using riak\\_client all your data will go
over the distributed socket, which I suppose could interfere with other
messages and act as a bottleneck. With PBC you can open multiple sockets as
needed and your node won't be connected to the riak cluster, which probably
becomes more important as the cluster becomes larger because each new node
to the cluster requires N-1 sockets where N = number of nodes.

-Ryan

On Thu, Jan 20, 2011 at 6:32 AM, Ryan Maclear  wrote:

&gt; Hi,
&gt;
&gt; When creating an erlang client, is is better to use the riak\\_client module
&gt; (ie. Erlang API) or the riakc\\_pb\\_socket module (PBC)? I've seen a number of
&gt; code snippets and samples that use the erlang API and not the PBC (eg.
&gt; http://wiki.basho.com/MapReduce.html) and for some erlang code inside
&gt; riak\\_function\\_contrib.
&gt;
&gt; Obviously, to use the Erlang API I would need to have all the necessary
&gt; beam files in my erlang path, whereas the PBC only requires a limited set
&gt; of beam files. The Wiki says that the primary client for code not inside
&gt; riak should be the Erlang PBC. However, is the anything technically wrong
&gt; with using the erlang API?
&gt;
&gt; Thanks,
&gt; Ryan
&gt;

