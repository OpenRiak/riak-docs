---
title: "Capacity planning page clarification"
description: ""
project: community
lastmod: 2011-05-12T16:29:20-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03322"
author_name: "Mike Oxford"
project_section: "mailinglistitem"
sent_date: 2011-05-12T16:29:20-07:00
---


This may be slightly nit-picky, but this tool marginal at best.

http://wiki.basho.com/Bitcask-Capacity-Planning.html

Total number of keys
Average Bucket Size (bytes)
Average Key size
Average Value Size (Bytes)


Some of these are kind of ambiguous, and I'm not sure why this setup was
chosen...

1) Total number of keys? Each bucket has N entries comprising N keys + 1
for the bucket? (So we need buckets\\*(N+1))
2) Average bucket size (bytes) Why in bytes? Am I to precalculate the
stuff to input into the calculator? Do you mean ((keys\\*key\\_size) +
(values\\*value\\_size))
3) Average Key size (Of the bucket? Of the kv pairs? A bucket is just a
keyed namespace, right?) I'm guessing you meant "in bytes" like the rest?

Why not:
\\* How many buckets will you have?
\\* How big is each bucket name?
\\* How many entries will you have in each bucket (average)?
\\* How big is each value in the entry? (average)

Everything can then be computed directly from the above with no ambiguity of
"which keys" or "what are they really looking for."

The same for the Bitcask calculator. When you have stuff such as "Average
Bucket Size (bytes)" (defaulted to 15) but then "Average Value Size (byte)"
defaulted to 2000 that leads me to: o\\_0

-mox
