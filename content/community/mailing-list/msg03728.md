---
title: "Re: Problem with deleting keys"
description: ""
project: community
lastmod: 2011-06-16T10:26:05-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03728"
mailinglist_parent_id: "msg03720"
author_name: "Greg Nelson"
project_section: "mailinglistitem"
sent_date: 2011-06-16T10:26:05-07:00
---


...you shrug, replace it with a new one, and then trigger read-repair on all 
keys that were on the node, then go about your business. ;-)

On Thursday, June 16, 2011 at 10:23 AM, Nico Meyer wrote:

&gt; I don't see any reason to only restore one node of your cluster.
&gt; That is the whole point of a replicated datastore. If you loose a node, 
&gt; you shrug, replace it with a new one and go about your business.
&gt; 
&gt; Am 16.06.2011 19:21, schrieb Les Mikesell:
&gt; &gt; But we expect something different in the case where a value was 
&gt; &gt; updated and the more current value is available on other nodes. 
&gt; &gt; Restoring an old value don't matter then.
&gt; &gt; 
&gt; &gt; 
&gt; &gt; On 6/16/2011 12:07 PM, David Leimbach wrote:
&gt; &gt; &gt; Or any data from backup? :-)
&gt; &gt; &gt; 
&gt; &gt; &gt; On Thu, Jun 16, 2011 at 10:04 AM, Nico Meyer  &gt; &gt; (mailto:nico.me...@adition.com)
&gt; &gt; &gt; &gt; wrote:
&gt; &gt; &gt; 
&gt; &gt; &gt; Yes, but the same is true if you restore a relational DB from 
&gt; &gt; &gt; backup :-D
&gt; &gt; &gt; 
&gt; &gt; &gt; Am 16.06.2011 18:49, schrieb Les Mikesell:
&gt; &gt; &gt; 
&gt; &gt; &gt; On 6/16/2011 10:22 AM, Nico Meyer wrote:
&gt; &gt; &gt; 
&gt; &gt; &gt; 
&gt; &gt; &gt; 
&gt; &gt; &gt; 
&gt; &gt; &gt; 
&gt; &gt; &gt; Btw, this whole issue is not really Riak specific. It is
&gt; &gt; &gt; essentially a
&gt; &gt; &gt; consequence of eventual consistency, where you have to make
&gt; &gt; &gt; a trade off
&gt; &gt; &gt; between the amount of bookkeeping information you want to
&gt; &gt; &gt; store and the
&gt; &gt; &gt; maximum amount of time (or number of updates) any part of
&gt; &gt; &gt; the system can
&gt; &gt; &gt; diverge from the rest of the system before you get undesired
&gt; &gt; &gt; results.
&gt; &gt; &gt; 
&gt; &gt; &gt; 
&gt; &gt; &gt; The 'eventual consistency' description makes you think the
&gt; &gt; &gt; system will eventually fix itself, though. But, won't you have a
&gt; &gt; &gt; similar scenario - and even more difficult to fix - where for
&gt; &gt; &gt; one reason or another you need to restore a backed up bitcask
&gt; &gt; &gt; file that contains items deleted after the time the backup 
&gt; &gt; &gt; was done?
&gt; &gt; &gt; 
&gt; &gt; &gt; 
&gt; &gt; &gt; 
&gt; &gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; &gt; riak-users mailing list
&gt; &gt; &gt; riak-users@lists.basho.com 
&gt; &gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt; &gt; 
&gt; &gt; &gt; 
&gt; &gt; &gt; 
&gt; &gt; &gt; 
&gt; &gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; &gt; riak-users mailing list
&gt; &gt; &gt; riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
&gt; &gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt; 
&gt; &gt; 
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; 
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

