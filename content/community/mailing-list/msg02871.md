---
title: "Re: Riak Search timeout when searching from erlang command line"
description: ""
project: community
lastmod: 2011-04-04T07:42:54-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02871"
mailinglist_parent_id: "msg02868"
author_name: "Rusty Klophaus"
project_section: "mailinglistitem"
sent_date: 2011-04-04T07:42:54-07:00
---


Hi Mike,

The Whitespace tokenizer (the default) is case sensitive, so the query
should be:

search:search(&lt;&lt;"my\\_index"&gt;&gt;, &lt;&lt;"title:Title"&gt;&gt;)

If you want a tokenizer that is case-insensitive and also filters out
stopwords (basically, something more appropriate for prose) you can use the
Standard analyzer factory. Details are here:
http://wiki.basho.com/Riak-Search---Schema.html

I'm not sure why you see a range\\_loop exception. That's odd. You should just
see zero results returned.

Some diagnostic questions:

- Are you running on a single node?
- What platform are you running?
- If you run the command "ulimit -n", what does it return?

Best,
Rusty

On Mon, Apr 4, 2011 at 2:18 AM, Mike Huffman  wrote:

&gt; Hi Everyone!
&gt;
&gt; I am having the following problem and google is not helping as far as a
&gt; solution.
&gt;
&gt; From a fresh built of riak search from git source, I try the following
&gt; commands:
&gt;
&gt; make rel
&gt; cd rel/riaksearch
&gt; ./bin/riaksearch start
&gt; ./bin/riaksearch attach
&gt;
&gt; now I try the following commands from the erlang command line:
&gt;
&gt; (next line directly from http://wiki.basho.com/Riak-Search---Indexing.html)
&gt;
&gt; search:index\\_doc(&lt;&lt;"my\\_index"&gt;&gt;, &lt;&lt;"my\\_doc"&gt;&gt;, [{&lt;&lt;"title"&gt;&gt;, &lt;&lt;"The
&gt; Title"&gt;&gt;}, {&lt;&lt;"content"&gt;&gt;, &lt;&lt;"The Content"&gt;&gt;}]).
&gt;
&gt; response is "ok"
&gt;
&gt; (next line directly from http://wiki.basho.com/Riak-Search---Querying.html)
&gt;
&gt; search:search\\_doc(&lt;&lt;"my\\_index"&gt;&gt;, &lt;&lt;"title:title"&gt;&gt;). or search:search(
&gt; &lt;&lt;"my\\_index"&gt;&gt;, &lt;&lt;"title:title"&gt;&gt;).
&gt;
&gt; response is:
&gt;
&gt; =ERROR REPORT==== 4-Apr-2011::02:13:32 ===
&gt; range\\_loop timed out!\\*\\* exception throw: {timeout,range\\_loop}
&gt; in function riak\\_search\\_backend:collect\\_info\\_response/3
&gt; in call from riak\\_search\\_op\\_term:info/3
&gt; in call from riak\\_search\\_op\\_term:preplan/2
&gt; in call from riak\\_search\\_op\\_scope:preplan/2
&gt; in call from riak\\_search\\_client:parse\\_query/3
&gt; in call from search:search\\_doc/2
&gt;
&gt;
&gt; Am I using the erlang commands incorrectly?
&gt;
&gt; Any help pointing me in the right direction would be greatly appreciated.
&gt;
&gt; Thanks.
&gt;

