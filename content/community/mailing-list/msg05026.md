---
title: "Re: Delete takes 5 seconds in riak 1.0 ???"
description: ""
project: community
lastmod: 2011-10-04T05:50:45-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05026"
mailinglist_parent_id: "msg05023"
author_name: "Ian Plosker"
project_section: "mailinglistitem"
sent_date: 2011-10-04T05:50:45-07:00
---


Roland,

There were a number of changes to the protocol buffers API between versions 
0.14 and 1.0. Therefore, if you send messages using fields introduced in 1.0, 
0.14.2 will have trouble decoding the message. Riak 0.14.2 should be used with 
riakc 1.1; Riak 1.0 should be used with riakc 1.2.

Ian Plosker
Developer Advocate
Basho Technologies


On Oct 4, 2011, at 6:42 AM, Roland Karlsson wrote:

&gt; I use riakc vsn=1.2.0.
&gt; The same as I used for riak 0.14
&gt; Thats the current "master" branch on github.
&gt; 
&gt; Is that the right version for riak 0.14 ?
&gt; Is that the right version for riak 1.0 ?
&gt; 
&gt; NOTE - this client can connect to both 0.14 and 1.0.
&gt; But on 0.14 the get with the argument deletedvclock disconnects.
&gt; 
&gt; 
&gt; /Roland
&gt; 
&gt; 
&gt; 
&gt; 
&gt; ----- Original Message -----
&gt; From: "Kresten Krab Thorup" 
&gt; To: "Roland Karlsson" 
&gt; Sent: Tuesday, October 4, 2011 12:28:59 PM
&gt; Subject: Re: Delete takes 5 seconds in riak 1.0 ???
&gt; 
&gt; Hi roland,
&gt; 
&gt; I think there were some protocol changes from 0.14 to 1.0, and so the new 
&gt; client probably can't be connected to an old server. Kind of annoying, but 
&gt; that's the only reason I can see for this.
&gt; 
&gt; Kresten
&gt; 
&gt; 
&gt; Mobile: + 45 2343 4626 | Skype: krestenkrabthorup | Twitter: @drkrab
&gt; Trifork A/S | Margrethepladsen 4 | DK- 8000 Aarhus C | Phone : +45 8732 
&gt; 8787 | www.trifork.com
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; On Oct 4, 2011, at 12:15 PM, Roland Karlsson wrote:
&gt; 
&gt; case riakc\\_pb\\_socket:get(Pid, Bucket, Key, [deletedvclock]) of
&gt; 
&gt; 

