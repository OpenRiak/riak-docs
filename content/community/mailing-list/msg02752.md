---
title: "Re: Java client API"
description: ""
project: community
lastmod: 2011-03-27T20:35:09-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02752"
mailinglist_parent_id: "msg02737"
author_name: "Mark Wolfe"
project_section: "mailinglistitem"
sent_date: 2011-03-27T20:35:09-07:00
---


I have had a read over the API and the associated thread and I am pretty
impressed by what I have seen so far.

The API looks pretty good so far, only observation I have is it needs more
internal documentation. Mostly just after a bit more insight into which
features each one of these methods matches in Riak, maybe with a few wiki
pointers :).

I am impressed with the fluent almost DSL like syntax, this illustrates
quite a few areas of Riak that I have never messed around with, this in my
view is awesome.

I have done a bit of testing with proto buffers, and although my preference
is HTTP these look pretty awesome. The real value of HTTP is it can be
proxied through corporate networks. This is not really a major issue for
Riak but is important to note that if anything is going to get out of a
network it will be HTTP.

I look forward to participating in the effort to build my own implementation
based on some of the http libs I mentioned before!

One thing that would be nice is an optional message dumper or logger which
can be configured via this DSL. It would just wire in a "message dumper" for
this connection/send so you can see the content of messages.

Anyway great job so far, I will hopefully get some time to have a closer
look soon.

On Sun, Mar 27, 2011 at 6:09 PM, Russell Brown  wrote:

&gt;
&gt; On 27 Mar 2011, at 05:13, Wilson MacGyver wrote:
&gt;
&gt; &gt; two questions jump out right away
&gt; &gt;
&gt; &gt; 1: how do you fetch linked records using the API? and how do you setup
&gt; &gt; link for records?
&gt;
&gt; I didn't add the m/r or link walking stuff yet, will do soon and post a
&gt; link, it would be something like it is now, a builder and an execute/submit
&gt; method to run the job. The result would be Java types and not tied to the
&gt; the Crockford JSON lib.
&gt;
&gt; &gt;
&gt; &gt; 2: it's not obvious from reading the code how to set the r and w value
&gt; &gt; during read and write. is it
&gt; &gt; using the rw() method?
&gt;
&gt; Ah, well I guess it is not clear enough. on a Fetch you'd set the r()[1],
&gt; on a Store you'd set the w()[2] and dw()[3] and on a delete you'd set the
&gt; dw()[4] (much like now). An example usage is here[5].
&gt;
&gt; Was using an actual type (like FetchCAP, StoreCAP and DeleteCAP) a better
&gt; option, do you think?
&gt;
&gt; Thanks for the comments, I'll see what I can do to make it clearer.
&gt;
&gt; Russell
&gt;
&gt; [1]
&gt; https://github.com/russelldb/riak-java-client-api/blob/fluent/src/main/java/com/basho/riak/client/FetchOperation.java#L39
&gt; [2]
&gt; https://github.com/russelldb/riak-java-client-api/blob/fluent/src/main/java/com/basho/riak/client/StoreOperation.java#L41
&gt; [3]
&gt; https://github.com/russelldb/riak-java-client-api/blob/fluent/src/main/java/com/basho/riak/client/StoreOperation.java#L46
&gt; [4]
&gt; https://github.com/russelldb/riak-java-client-api/blob/fluent/src/main/java/com/basho/riak/client/DeleteOperation.java#L34
&gt; [5]
&gt; https://github.com/russelldb/riak-java-client-api/blob/fluent/src/test/java/com/basho/riak/client/BasicOperations.java
&gt;
&gt; &gt;
&gt; &gt; Thanks
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; --
&gt; &gt; Omnem crede diem tibi diluxisse supremum.
&gt; &gt;


-- 
Regards,

Mark Wolfe

--
I am not young enough to know everything.
--
