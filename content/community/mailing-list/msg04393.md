---
title: "Interesting problem with riaksearch indexes"
description: ""
project: community
lastmod: 2011-08-19T11:47:10-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04393"
author_name: "Gordon Tillman"
project_section: "mailinglistitem"
sent_date: 2011-08-19T11:47:10-07:00
---


Greetings all,

After an extended datacenter power outage, a 3-node Riak cluster shut down. 
When the power was restored, two of the three nodes came back up. Don't know 
what is going on with the third node. But in the mean time, have removed the 
dead node from the ring. The two remaining nodes show a good ringready status.

The problem is that the search indexes appear to be in an inconsistent state. 
For example, I can issue the same solr query on one of the nodes and 50% of the 
time it returns correct results. The other times it returns an empty result 
set.

I'm in the process of re-indexing the bucket in question (a very time-consuming 
affair). But I wonder if anyone could shed some light on this situation as to 
why it occurred in the first place and if there is anything that can be done to 
keep this from happening again in the future.

Many thanks,

--gordon
