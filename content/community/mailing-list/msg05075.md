---
title: "Re: application_start_failure, wriaki, {{{badmatch, {error,	econnrefused}"
description: ""
project: community
lastmod: 2011-10-06T09:11:25-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05075"
mailinglist_parent_id: "msg05064"
author_name: "Bryan Fink"
project_section: "mailinglistitem"
sent_date: 2011-10-06T09:11:25-07:00
---


On Thu, Oct 6, 2011 at 2:56 AM, Norman Khine  wrote:
&gt; my riak cluster is up and running:
&gt;
&gt; http://pastie.org/2648028
…
&gt; aqoon:wriaki khinester$ vim rel/wriaki/etc/app.config
&gt;
&gt; modified the web\\_port to  {web\\_port, 8098}
…
&gt; =INFO REPORT==== 6-Oct-2011::08:37:47 ===
&gt;    application: wriaki
&gt;    exited: {{{badmatch,{error,econnrefused}},
&gt;              [{wrc,connect\\_pb,2},
&gt;               {wriaki,set\\_bucket\\_props,0},

Hi, Norman. This error is saying that Wriaki couldn't connect to the
Riak server. You mentioned changing web\\_port, but did you change the
'riak' setting? In Wriaki's config, 'web\\_port' specifies what port to
expose the Wriaki web interface on, while the 'riak' setting specifies
where to find Riak. Judging by the stats output you pasted, you want:

 {riak, {http, {"127.0.0.1", 8091, "riak}}}

if you want Wriaki to connect to Riak over HTTP.

I've also just pushed some updates to wriaki and
riak-erlang-http-client that I hope to merge to master branches later
today. You may or may not find that they work better with Riak 1.0:
https://github.com/basho/wriaki/pull/2
https://github.com/basho/riak-erlang-http-client/pull/4

-Bryan

