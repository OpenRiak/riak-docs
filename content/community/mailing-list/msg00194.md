---
title: "Re: setting default bucket props"
description: ""
project: community
lastmod: 2010-04-28T07:57:02-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00194"
author_name: "Matthew Pflueger"
project_section: "mailinglistitem"
sent_date: 2010-04-28T07:57:02-07:00
---


I am trying to set the default n\\_val in my app.config. I'm not
getting any errors on startup but when a client tries to put some data
a process crashes eventually causing a time-out on the client side...

app.config part:

[
 %% Riak Core config
 {riak\\_core, [
 %% Default location of ringstate
 {ring\\_state\\_dir, "data/ring"},

 %% Default bucket props
 {default\\_bucket\\_props, [{n\\_val, 1}]},


I'm seeing the following in the logs:

sasl-error.log:

=CRASH REPORT==== 28-Apr-2010::15:36:22 ===
 crasher:
 initial call: riak\\_kv\\_put\\_fsm:init/1
 pid: &lt;0.505.0&gt;
 registered\\_name: []
 exception exit: {undef,[{riak\\_core\\_bucket,defaults,[]},
 {riak\\_core\\_util,chash\\_key,1},
 {riak\\_kv\\_put\\_fsm,initialize,2},
 {gen\\_fsm,handle\\_msg,7},
 {proc\\_lib,init\\_p\\_do\\_apply,3}]}
 in function gen\\_fsm:terminate/7
 ancestors: [&lt;0.504.0&gt;]
 messages: []
 links: []
 dictionary: []
 trap\\_exit: false
 status: running
 heap\\_size: 1597
 stack\\_size: 24
 reductions: 475
 neighbours:

erlang.log.1

=ERROR REPORT==== 28-Apr-2010::15:36:22 ===
\\*\\* State machine &lt;0.503.0&gt; terminating
\\*\\* Last event in was timeout
\\*\\* When State == initialize
\\*\\* Data == {state,
 {r\\_object,&lt;&lt;"profiles"&gt;&gt;,&lt;&lt;"DymvhHkDplIEmpowMdQ35Q"&gt;&gt;,
 [{r\\_content,
 {dict,0,16,16,8,80,48,
 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
 [],[]},
 {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
 [],[]}}},
 &lt;&lt;&gt;&gt;}],
 [{&lt;&lt;31,41,45,38&gt;&gt;,{1,63439684582}}],
 {dict,1,16,16,8,80,48,
 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
 {{[],[],[],[],[],[],[],[],[],[],
 [[&lt;&lt;"content-type"&gt;&gt;,97,112,112,108,105,99,97,
 116,105,111,110,47,111,99,116,101,116,45,115,
 116,114,101,97,109]],
 [],[],[],[],[]}}},
 &lt;&lt;4,155,69,121,249,86,125,168,81,201,133,2,65,248,
 238,53,23,1,40,242,226,220,30,37,113,164,204,34,
 199,41,155,198,77,100,101,234,83,233,181,96,207,10,
 ...lots more data...
\\*\\* Reason for termination =
\\*\\* {'function not exported',[{riak\\_core\\_bucket,defaults,[]},
 {riak\\_core\\_util,chash\\_key,1},
 {riak\\_kv\\_put\\_fsm,initialize,2},
 {gen\\_fsm,handle\\_msg,7},
 {proc\\_lib,init\\_p\\_do\\_apply,3}]}



--Matthew

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

