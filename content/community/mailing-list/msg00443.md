---
title: "Re: Memory Utilization"
description: ""
project: community
lastmod: 2010-05-26T19:13:37-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00443"
mailinglist_parent_id: "msg00442"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2010-05-26T19:13:37-07:00
---


Riak's usage of memory primarily depends on the backend you choose. Innostore, 
for example, has a configurable buffer pool (cache) which can help you limit 
the memory footprint. Bitcask, our most recently released backend, keeps only 
a hash mapping keys to file/offset in memory (with the value only on disk), so 
you could store thousands of keys per node without noticing much.

Outside of the backend, Riak generally only needs enough RAM to have copies of 
objects in transit -- either being written or read. If you see it using too 
much RAM, there are some flags to the Erlang VM that can be tweaked.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On May 26, 2010, at 6:23 PM, Jason J. W. Williams wrote:

&gt; Hi,
&gt; 
&gt; We have a couple of projects we want to start small and to this point
&gt; we've been considering MongoDB or Cassandra. Mongo's main drawback for
&gt; us is it's extensive use of mmap, which can make it a bad neighbor
&gt; vis-a-vis RAM usage if it has to co-exist with other parts of our
&gt; stack. Cassandra's has it's own drawbacks for our use cases.
&gt; 
&gt; Riak looks very interesting, but we're curious about it's memory
&gt; profile. That is what drives memory consumption in Riak, is it
&gt; possible to limit the memory consumption, and how does Riak behave
&gt; when memory exhaustion occurs?
&gt; 
&gt; -J
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

