---
title: "Re: riak-admin test failing."
description: ""
project: community
lastmod: 2012-03-15T17:43:17-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06978"
mailinglist_parent_id: "msg06977"
author_name: "Eric Siegel"
project_section: "mailinglistitem"
sent_date: 2012-03-15T17:43:17-07:00
---


Also, I'm using the

riak\\_1.1.1-1\\_amd64.deb

On Thu, Mar 15, 2012 at 5:41 PM, Eric Siegel  wrote:

&gt; \\*riak-admin diag\\*
&gt; Attempting to restart script through sudo -u riak
&gt;
&gt; \\*riak-admin ringready\\*
&gt; Attempting to restart script through sudo -u riak
&gt; TRUE All nodes agree on the ring ['riak@10.249.136.3','riak@10.249.136.4',
&gt; 'riak@10.249.136.5','
&gt; riak@10.249.136.6']
&gt;
&gt; \\*riak-admin transfers\\*
&gt; Attempting to restart script through sudo -u riak
&gt; No transfers active
&gt;
&gt; \\*riak-admin cluster\\_info\\*
&gt; This creates a very large file, is there any section in particular that
&gt; you are interested in.
&gt; I could send it to you directly.
&gt;
&gt;
&gt;
&gt;
&gt; On Thu, Mar 15, 2012 at 4:55 PM, Jared riak-admin transfersMorrow &lt;
&gt; ja...@basho.com&gt; wrote:
&gt;
&gt;&gt; What do the following commands return:
&gt;&gt;
&gt;&gt; 'riak-admin diag'
&gt;&gt; 'riak-admin ringready'
&gt;&gt; 'riak-admin transfers'
&gt;&gt; 'riak-admin cluster\\_info'
&gt;&gt;
&gt;&gt; -Jared
&gt;&gt;
&gt;&gt;
&gt;&gt; On Mar 15, 2012, at 5:39 PM, Eric Siegel wrote:
&gt;&gt;
&gt;&gt; Running riak-admin times out, but only for one of my vms.
&gt;&gt;
&gt;&gt;
&gt;&gt; Attempting to restart script through sudo -u riak
&gt;&gt; Failed to write test value: {error,timeout}
&gt;&gt;
&gt;&gt;
&gt;&gt; The weird part is that this timeout will no longer happen if I remove any
&gt;&gt; of the other nodes from the cluster of four.
&gt;&gt;
&gt;&gt; For example, I have nodes A,B,C,D all apart of my cluster.
&gt;&gt; riak-admin test passes on all but node A.
&gt;&gt; Removing either B,C,or D, now riak-test passes on node A.
&gt;&gt;
&gt;&gt; I have verified that I can telnet to all the required ports from all the
&gt;&gt; machines.
&gt;&gt;
&gt;&gt; What does riak-admin do, and why would it work and not work situationally.
&gt;&gt;
&gt;&gt; Eric
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
