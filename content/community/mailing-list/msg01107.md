---
title: "Re: reduce headaches"
description: ""
project: community
lastmod: 2010-09-20T09:57:05-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01107"
mailinglist_parent_id: "msg01105"
author_name: "Kevin Smith"
project_section: "mailinglistitem"
sent_date: 2010-09-20T09:57:05-07:00
---

On Sep 20, 2010, at 12:07 PM, francisco treacy wrote:

&gt; 
&gt;&gt; 2) How are you reloading new Javascript functions? 'riak-admin js\\_reload' 
&gt;&gt; should cause all the Javascript VMs to restart and start from a clean slate. 
&gt;&gt; If that's not working correctly I'd be very interested in knowing that so I 
&gt;&gt; can fix it before our next release.
&gt; 
&gt; Good point, I am \\*not\\* using named functions so I imagine `riak-admin
&gt; js\\_reload` does not apply to my case (or does it - I never triggered
&gt; it)? Every job I submit is comprised of anonymous functions (except
&gt; Riak built-ins, that is) -- I am developing plenty of ad-hoc queries
&gt; to be run once in a while on our production data.

js\\_reload will force a reload of all the Javascript VMs. This will dump all 
state, including any accumulated anonymous functions. We do cache anonymous 
functions to reduce the number of JS calls we have to make but it's possible 
there's a bug in the change detection logic. I will take a look in that code 
and see if we're doing anything obviously wrong. What version of Riak are you 
using?

--Kevin

