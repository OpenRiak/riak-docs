---
title: "Re: riak-ql"
description: ""
project: community
lastmod: 2011-07-26T19:33:11-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04082"
mailinglist_parent_id: "msg04081"
author_name: "Jonathan Langevin"
project_section: "mailinglistitem"
sent_date: 2011-07-26T19:33:11-07:00
---


Ominous reference to "virus-free" aside, interesting ppt.

I'm actually working on an ActiveRecord-style implementation for Riak in Yii
Framework, functions like so:

$user = new User;
$user-&gt;attributes = $\\_POST['User']; // massively assigning attributes
$user-&gt;name = 'Joe Dirt'; // individual attribute assignment
$user-&gt;save();
\\*

\\*
$user = User::model()-&gt;findByPk($id);
$user-&gt;name = 'Joe Dirt';
$user-&gt;save();

\\*
I have result sorting functioning, and I have filtering by object column
partially working. Hopefully I'll have a stable result in a month or so.
Building the extension so that it's not limited to just Riak, but hopefully
a variety of storage methods (Riak just happens to be my specific use case).

Cheers, good luck on your CakePHP-style rendition.


Jonathan Langevin
Systems Administrator
Loom Inc.
Wilmington, NC: (910) 241-0433 - jlange...@loomlearning.com -
www.loomlearning.com - Skype: intel352
\\*


On Tue, Jul 26, 2011 at 10:21 PM, Kev Burns  wrote:

&gt; Here's a virus-free version of Antonio's slide deck (Google Docs)
&gt; https://docs.google.com/present/view?id=dhpxng6q\\_51gdj6r9wn
&gt;
&gt; - Kev
&gt; c: +001 (650) 521-7791
&gt;
&gt;
&gt;
&gt; On Tue, Jul 26, 2011 at 6:23 PM, Antonio Rohman Fernandez &lt;
&gt; roh...@mahalostudio.com&gt; wrote:
&gt;
&gt;&gt; \\*\\*
&gt;&gt;
&gt;&gt; for PHP you can take a look at this slides i made, is about "phpCloud
&gt;&gt; Framework" a new PHP5 MVC framework i'm building with Riak integration in
&gt;&gt; place : ) is based on CakePHP that borrows heavily on Ruby on Rails.
&gt;&gt; You can download the slides on this address ( seems the file is too big
&gt;&gt; for the distribution list as my last mail couldn't be sent ):
&gt;&gt;
&gt;&gt; http://mahalostudio.com/Riak\\_phpCloud.pptx
&gt;&gt;
&gt;&gt; Rohman
&gt;&gt;
&gt;&gt; --
&gt;&gt; [image: line] [image: logo]  \\*Antonio Rohman
&gt;&gt; Fernandez\\*
&gt;&gt; CEO, Founder & Lead Engineer
&gt;&gt; roh...@mahalostudio.com \\*Projects\\*
&gt;&gt; MaruBatsu.es 
&gt;&gt; PupCloud.com 
&gt;&gt; Wedding Album  [image: line]
&gt;&gt;
&gt;&gt; On Tue, 26 Jul 2011 20:00:27 -0400, Jonathan Langevin wrote:
&gt;&gt;
&gt;&gt; Looks interesting, but doesn't appear very intuitive (at least, to a PHP
&gt;&gt; dev)\\*\\*
&gt;&gt;
&gt;&gt;  \\*Jonathan Langevin\\*
&gt;&gt; Systems Administrator \\*Loom Inc.\\*
&gt;&gt; Wilmington, NC: (910) 241-0433 - jlange...@loomlearning.com -
&gt;&gt; www.loomlearning.com - Skype: intel352
&gt;&gt;
&gt;&gt; \\*\\*
&gt;&gt;
&gt;&gt;
&gt;&gt; On Mon, Jul 25, 2011 at 9:40 AM, francisco treacy &lt;
&gt;&gt; francisco.tre...@gmail.com&gt; wrote:
&gt;&gt;
&gt;&gt;&gt; It's awesome for ad-hoc querying, at least. An example can better
&gt;&gt;&gt; explain.
&gt;&gt;&gt;
&gt;&gt;&gt; Consider this:
&gt;&gt;&gt;
&gt;&gt;&gt; db.add('users').map('query', '.address .street where
&gt;&gt;&gt; .weight:expr(x !.expired').run()
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; as opposed to:
&gt;&gt;&gt;
&gt;&gt;&gt; db.add('users').map(function(v) {
&gt;&gt;&gt; v = Riak.mapValuesJson(v)[0];
&gt;&gt;&gt; var result = [];
&gt;&gt;&gt; if ((v.weight &lt; 180 || v.exempt) && v.acl && v.acl.state === '1101'
&gt;&gt;&gt; && !v.expired) {
&gt;&gt;&gt; if (v.address) {
&gt;&gt;&gt; result.push(v.address.street);
&gt;&gt;&gt; }
&gt;&gt;&gt; }
&gt;&gt;&gt; return result;
&gt;&gt;&gt; }).run()
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; riak-ql is basically adding some query sugar (where, &&) on top of
&gt;&gt;&gt; JSONSelect... which you can try it out here:
&gt;&gt;&gt; http://jsonselect.org/#tryit
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; 2011/7/25 Mark Phillips :
&gt;&gt;&gt; &gt; Hey Francisco,
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; I for one would be interested in learning some more specifics on how
&gt;&gt;&gt; &gt; you're using it. I suspect others might be, too...
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; Mark
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; On Sat, Jul 23, 2011 at 4:40 PM, francisco treacy
&gt;&gt;&gt; &gt;  wrote:
&gt;&gt;&gt; &gt;&gt; Hey all,
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; Just wondering... is anyone using, or have tried out riak-ql?
&gt;&gt;&gt; &gt;&gt; https://github.com/frank06/riak-ql
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; Not because I developed it -- but I'm regularly making use of it and I
&gt;&gt;&gt; &gt;&gt; think it kicks ass. Especially in the repl in combo with riak-js.
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; What do you guys think?
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; Francisco
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; ps: really curious/excited about the upcoming Secondary Indices
&gt;&gt;&gt; functionality
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt; &gt;&gt; riak-users mailing list
&gt;&gt;&gt; &gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; &gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;
&gt;&gt;&gt;

&gt;&gt;&gt;
&gt;

