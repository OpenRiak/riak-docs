---
title: "unix sockets, pbuffer load balance, many bucket approach,  score	consistency?"
description: ""
project: community
lastmod: 2010-12-31T11:15:59-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01866"
author_name: "David Hollander"
project_section: "mailinglistitem"
sent_date: 2010-12-31T11:15:59-08:00
---


I am developing a python web application and have several questions:

1. Can Riak use unix sockets in addition to TCP?

2. Load-balancing a REST interface with nginx would be straightforward.
However, if using protocol buffers with the python client should I also
be implementing load balancing? Should I use a function to cycle the
port\\client connection used?

3. Is there a limit to the number of buckets? What is the big O access
time for a bucket as number of buckets in the database increases? Is it
a constant time hashmap? I am considering programmatically generating
many bucket names to partition keys into groups I would map-reduce over.
Rather than put everything in one bucket and map-reduce over unnecessary
keys.

4. Eventual consistency: let's imagine a site has a popular item with a
score data key where the value is incremented by voting. Let's say the
score is 0, and it receives two votes incrementing it by +1 at similar
times. If these update commands are sent to different nodes, is it
possible for the vote to ultimately read 1 instead of the desired 2? If
so, would always sending the update commands to the same node prevent
this?

Thanks
