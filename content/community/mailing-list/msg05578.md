---
title: "Re: Erlang PB Client Put Issue"
description: ""
project: community
lastmod: 2011-11-14T08:39:53-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05578"
mailinglist_parent_id: "msg05577"
author_name: "Zheng Zhibin"
project_section: "mailinglistitem"
sent_date: 2011-11-14T08:39:53-08:00
---


Please try only start/2, not the start\\_link/2, since every error in shell will 
cause the process exit.

Best regards,
Zheng Zhibin

在 2011-11-15，上午12:10，Geeth Narayanan  写道：

&gt; Zheng,
&gt; 
&gt; Thanks for your reply. I tried the term\\_to\\_binary on It and still get the 
&gt; error below.
&gt; Is there anyplace I can look to get more details on the exception.
&gt; 
&gt; 
&gt; \\*\\* exception exit: {noproc,
&gt; {gen\\_server,call,
&gt; [&lt;0.39.0&gt;,
&gt; {req,
&gt; {rpbputreq,&lt;&lt;"Items"&gt;&gt;,&lt;&lt;"Item1"&gt;&gt;,undefined,
&gt; {rpbcontent,
&gt; 
&gt; &lt;&lt;131,104,4,100,0,4,105,116,101,109,97,1,
&gt; 107,...&gt;&gt;,
&gt; 
&gt; undefined,undefined,undefined,undefined,
&gt; 
&gt; undefined,undefined,undefined,undefined,
&gt; undefined},
&gt; undefined,undefined,undefined,undefined,
&gt; undefined,undefined,undefined},
&gt; 60000},
&gt; infinity]}}
&gt; in function gen\\_server:call/3
&gt; 
&gt; Thanks.
&gt; Geeth
&gt; 
&gt; 
&gt; 2011/11/12 Zheng Zhibin 
&gt; Both the bucket name, key, and value should be binary format
&gt; 
&gt; Best regards,
&gt; Zheng Zhibin
&gt; 
&gt; 在 2011-11-13，上午6:19，Geeth Narayanan  写道：
&gt; 
&gt;&gt; Hi,
&gt;&gt; 
&gt;&gt; I am trying to put some erlang record item to my dev riak nodes. I get the 
&gt;&gt; following error at the bottom. Can you please help?
&gt;&gt; 
&gt;&gt; 1&gt; code:which(riakc\\_pb\\_socket).
&gt;&gt; "/Users/geeth/Apps/riak-erlang-client/ebin/riakc\\_pb\\_socket.beam"
&gt;&gt; 
&gt;&gt; 2&gt; {ok, Pid} = riakc\\_pb\\_socket:start\\_link("127.0.0.1", 8081).
&gt;&gt; {ok,&lt;0.34.0&gt;}
&gt;&gt; 
&gt;&gt; 3&gt; rd(item, {id, name, desc}). 
&gt;&gt; item
&gt;&gt; 
&gt;&gt; 4&gt; 
&gt;&gt; 4&gt; It = #item{id=1, name="Item1", desc="Some desc"}.
&gt;&gt; #item{id = 1,name = "Item1",desc = "Some desc"}
&gt;&gt; 
&gt;&gt; 5&gt; MyRec = riakc\\_obj:new(&lt;&lt;"Items"&gt;&gt;, 
&gt;&gt; list\\_to\\_binary(integer\\_to\\_list(It#item.id)), It). 
&gt;&gt; {riakc\\_obj,&lt;&lt;"Items"&gt;&gt;,&lt;&lt;"1"&gt;&gt;,undefined,[],undefined,
&gt;&gt; #item{id = 1,name = "Item1",desc = "Some desc"}}
&gt;&gt; 
&gt; Try term\\_to\\_binary(It)
&gt; 
&gt;&gt; 6&gt; Rec = riakc\\_pb\\_socket:put(Pid, MyRec).
&gt;&gt; \\*\\* exception exit: {noproc,
&gt;&gt; {gen\\_server,call,
&gt;&gt; [&lt;0.34.0&gt;,
&gt;&gt; {req,
&gt;&gt; {rpbputreq,&lt;&lt;"Items"&gt;&gt;,&lt;&lt;"1"&gt;&gt;,undefined,
&gt;&gt; {rpbcontent,
&gt;&gt; &lt;&lt;131,104,4,100,0,4,105,116,101,109,97,1,107,...&gt;&gt;,
&gt;&gt; "application/x-erlang-binary",undefined,undefined,
&gt;&gt; undefined,undefined,undefined,undefined,undefined,
&gt;&gt; undefined},
&gt;&gt; undefined,undefined,undefined,undefined,undefined,
&gt;&gt; undefined,undefined},
&gt;&gt; 60000},
&gt;&gt; infinity]}}
&gt;&gt; in function gen\\_server:call/3
&gt;&gt; 
&gt;&gt; 
&gt;&gt; Thanks.
&gt;&gt; Geeth
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; 
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

