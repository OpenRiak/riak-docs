---
title: "Re: Riak Ruby Client Thread Safe?"
description: ""
project: community
lastmod: 2011-06-15T14:09:17-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03701"
mailinglist_parent_id: "msg03700"
author_name: "Justin Sheehy"
project_section: "mailinglistitem"
sent_date: 2011-06-15T14:09:17-07:00
---


Hi, Keith.

It is not safe to share a single Riak client instance across multiple
client-facing threads.

Riak's conflict detection mechanisms will be misled by that sort of
sharing. Luckily, the client is quite lightweight so you shouldn't
have to worry about the cost of doing it right.

-Justin

On Wed, Jun 15, 2011 at 2:05 PM, Keith Bennett
 wrote:
&gt; Hi, all.  Is the Ruby Riak::Client thread safe?  I'm wondering if it's safe 
&gt; to share a single Riak::Client instance across all threads in an application. 
&gt;  I might run the app in JRuby, by the way.
&gt;
&gt; Are there any pros and cons to sharing a single client you can offer?
&gt;
&gt; An obvious pro is that it saves some memory, but probably an insignificant 
&gt; amount.
&gt;
&gt; Thanks,
&gt; Keith
&gt;
&gt;
