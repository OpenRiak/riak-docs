---
title: "Re: Multiple clusters, same box"
description: ""
project: community
lastmod: 2010-05-12T15:08:41-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00337"
mailinglist_parent_id: "msg00333"
author_name: "Grant Schofield"
project_section: "mailinglistitem"
sent_date: 2010-05-12T15:08:41-07:00
---


In order to run multiple nodes on a host, and consequently multiple clusters, 
you will need to edit the vm.args and app.config for each embedded node (an 
embedded node being a copy of the rel/riak directory you built). For each of 
these nodes you will need to change the "-name r...@127.0.0.1" setting in 
etc/vm.args to something like "-name no...@127.0.0.1" where X is the node 
number. In the etc/app.config you will need to change all of the port settings 
(handoff\\_port, pb\\_port, and web\\_port) so that they are unique to each node. 

This will allow you to start multiple nodes. Once a node is running you can use 
the "riak-admin join" to have it join another node and form a cluster.

Thanks,
Grant Schofield
Developer Advocate
Basho Technologies


On May 12, 2010, at 4:43 PM, Sami Samhuri wrote:

&gt; Hi all,
&gt; 
&gt; Trying to configure 2 clusters on the same machine. The 2nd node I fire up 
&gt; quits after a second or two. Is this possible, and I'm just missing some 
&gt; configuration? Or should I be spinning up VMs for additional clusters?
&gt; 
&gt; tia,
&gt; Sami
