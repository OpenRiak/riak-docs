---
title: "RE: Cluster on startup."
description: ""
project: community
lastmod: 2012-11-07T12:32:59-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09243"
mailinglist_parent_id: "msg09231"
author_name: "Kevin Burton"
project_section: "mailinglistitem"
sent_date: 2012-11-07T12:32:59-08:00
---


Not just 6Mb but it is 6Mb for every node. And it is not just the storage
but the deployment. The fewer the files the better.

-----Original Message-----
From: Reid Draper [mailto:reiddra...@gmail.com] 
Sent: Wednesday, November 07, 2012 12:52 PM
To: Kevin Burton
Cc: 'Shane McEwan'; riak-users@lists.basho.com
Subject: Re: Cluster on startup.


On Nov 7, 2012, at 11:13 AM, Kevin Burton  wrote:

&gt; Thank you. This is very helpful. Two more questions. One, my dev[1234] 
&gt; has about 6Mb of data in the directory. What are the bare minimum 
&gt; required files and directories? Two, would I issue the 'join' command 
&gt; here also to form the cluster?

There may be some unneeded files, but are you in an environment where 6MB of
storage is a limitation?

Reid

&gt; 
&gt; -----Original Message-----
&gt; From: riak-users [mailto:riak-users-boun...@lists.basho.com] On Behalf 
&gt; Of Shane McEwan
&gt; Sent: Wednesday, November 07, 2012 9:54 AM
&gt; To: riak-users@lists.basho.com
&gt; Subject: Re: Cluster on startup.
&gt; 
&gt; If you edit /etc/init.d/riak you should see a line like:
&gt; 
&gt; su - riak -c "$DAEMON $DAEMON\\_ARGS" || return 2
&gt; 
&gt; in the "do\\_start" function.
&gt; 
&gt; If you change that line into the following 4 lines:
&gt; 
&gt; su - riak -c "/path/to/your/riak/dev1/bin/riak $DAEMON\\_ARGS" 
&gt; || return 2
&gt; su - riak -c "/path/to/your/riak/dev2/bin/riak $DAEMON\\_ARGS" 
&gt; || return 2
&gt; su - riak -c "/path/to/your/riak/dev3/bin/riak $DAEMON\\_ARGS" 
&gt; || return 2
&gt; su - riak -c "/path/to/your/riak/dev4/bin/riak $DAEMON\\_ARGS" 
&gt; || return 2
&gt; 
&gt; it should start all your Riak nodes on boot.
&gt; 
&gt; On 07/11/12 15:28, Kevin Burton wrote:
&gt;&gt; The problem I see is that since this script is just functions if I 
&gt;&gt; run it then it will do nothing as the functions are not called. Is 
&gt;&gt; there some kind of "include" that I am missing?
&gt;&gt; 
&gt;&gt; Thank you for the link for the tutorial. I am still not sure what the 
&gt;&gt; sequence should be for calling your script on startup. All of the 
&gt;&gt; examples that I have seen startup a single executable. It looks like 
&gt;&gt; I need to either include your script into another script and start it or
.
&gt;&gt; . . .
&gt; 
&gt;&gt; 
&gt; 
 
&gt; 

