---
title: "Re: Best way to \"refresh\" a riak server?"
description: ""
project: community
lastmod: 2012-06-18T16:16:57-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07709"
mailinglist_parent_id: "msg07708"
author_name: "Mark Rose"
project_section: "mailinglistitem"
sent_date: 2012-06-18T16:16:57-07:00
---


Hi Joseph,

The obvious solution that springs to mind is using a snapshot, either at
the block level (LVM), file system (ZFS, btrfs), or virtual machine level.

-Mark

On Mon, Jun 18, 2012 at 7:10 PM, Joseph Guhlin wrote:

&gt; What is the best way to refresh a Riak server? I'm using it in a
&gt; different way in that I do not need any persistence of the data and in
&gt; fact need the data cleared out each restart(but the data is too large
&gt; to hold in RAM).
&gt;
&gt; Basically I am using riak(or a cluster of 4, depending on where I'm at
&gt; in the development stages) to store objects that are shared between 12
&gt; processes that are independent from each other and each given a chunk
&gt; to work on, in the end all the necessary data is exported to flat
&gt; textfiles.
&gt;
&gt; I've found when I restart riak I end up getting errors when I try to
&gt; re-input the data. I've tried rm -rf'ing the data directory and it
&gt; definitely does not like that. So far make clean; make rel has been
&gt; the best solution for me.
&gt;
&gt; I'm sure for my use case there is a better tool(or not, Riak works
&gt; great, gives me fast read/write support and let's me store the data in
&gt; encoded form to be passed to other processes for later mangling). Any
&gt; ideas?
&gt;
&gt; Sorry if this has been asked before, I tried searching and couldn't
&gt; come up with anything.
&gt;
&gt; Thanks,
&gt; --Joseph
&gt;

