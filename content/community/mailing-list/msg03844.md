---
title: "Re: Inconsistent results from Riak Search"
description: ""
project: community
lastmod: 2011-06-27T17:43:50-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03844"
mailinglist_parent_id: "msg03843"
author_name: "Mike Oxford"
project_section: "mailinglistitem"
sent_date: 2011-06-27T17:43:50-07:00
---


Sorry, misread the output reply. Nevermind..

-mox

On Mon, Jun 27, 2011 at 5:42 PM, Mike Oxford  wrote:
&gt; You're changing the "id" field? Â (Gold's Gym vs Super Cuts)
&gt;
&gt; -mox
&gt;
&gt; On Mon, Jun 27, 2011 at 3:48 PM, James Linder  
&gt; wrote:
&gt;&gt; I forgot to note. The data in the cluster being queried is not
&gt;&gt; changing. (i.e., no inserts, no updates, no deletes happening)
&gt;&gt;
&gt;&gt;
&gt;&gt; On Mon, Jun 27, 2011 at 6:44 PM, James Linder  
&gt;&gt; wrote:
&gt;&gt;&gt; Hi,
&gt;&gt;&gt;
&gt;&gt;&gt; I am getting inconsistent results using the Riak Search Solr
&gt;&gt;&gt; interface. Specifically, the number of results and ordering of results
&gt;&gt;&gt; is changing from one query to the next.
&gt;&gt;&gt;
&gt;&gt;&gt; The query that I am running is the following:
&gt;&gt;&gt;
&gt;&gt;&gt; curl 
&gt;&gt;&gt; http://localhost:8098/solr/locations/select?q=zip:\\(94108+OR+10003+OR+1002+OR+2OR+94501+OR+10016+OR+94704+OR+10012+OR+10001+OR+94117+OR+92706+OR+94109+OR+94104+OR+93711+OR+94133+OR+93726+OR+94111+OR+10011+OR+94105+OR+94116+OR+92845+OR+93710\\)
&gt;&gt;&gt; | head -n 20
&gt;&gt;&gt;
&gt;&gt;&gt; Here is an example of the results that I get:
&gt;&gt;&gt;
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; 0
&gt;&gt;&gt; 43
&gt;&gt;&gt; 
&gt;&gt;&gt; on
&gt;&gt;&gt; 0
&gt;&gt;&gt; zip:(94108 OR 10003 OR 1002 OR 2OR 94501 OR 10016 OR
&gt;&gt;&gt; 94704 OR 10012 OR 10001 OR 94117 OR 92706 OR 94109 OR 94104 OR 93711
&gt;&gt;&gt; OR 94133 OR 93726 OR 94111 OR 10011 OR 94105 OR 94116 OR 92845 OR
&gt;&gt;&gt; 93710)
&gt;&gt;&gt; or
&gt;&gt;&gt; value
&gt;&gt;&gt; standard
&gt;&gt;&gt; 1.1
&gt;&gt;&gt; 168
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; Gold's Gym
&gt;&gt;&gt; 
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; 0
&gt;&gt;&gt; 27
&gt;&gt;&gt; 
&gt;&gt;&gt; on
&gt;&gt;&gt; 0
&gt;&gt;&gt; zip:(94108 OR 10003 OR 1002 OR 2OR 94501 OR 10016 OR
&gt;&gt;&gt; 94704 OR 10012 OR 10001 OR 94117 OR 92706 OR 94109 OR 94104 OR 93711
&gt;&gt;&gt; OR 94133 OR 93726 OR 94111 OR 10011 OR 94105 OR 94116 OR 92845 OR
&gt;&gt;&gt; 93710)
&gt;&gt;&gt; or
&gt;&gt;&gt; value
&gt;&gt;&gt; standard
&gt;&gt;&gt; 1.1
&gt;&gt;&gt; 164
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; Super Cuts
&gt;&gt;&gt; 
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Details on our environment:
&gt;&gt;&gt;
&gt;&gt;&gt; - We are running riak-search-0.14.0-1.el5 installed via the Basho provided 
&gt;&gt;&gt; RPM
&gt;&gt;&gt; - We have a cluster of three nodes with a couple gigs of data
&gt;&gt;&gt; - We have been seeing this both from the individual nodes in the
&gt;&gt;&gt; cluster and via riak-php-client
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Does anyone have insight into what is causing this issue to happen?
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks!
&gt;&gt;&gt;
&gt;&gt;&gt; James Linder
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

