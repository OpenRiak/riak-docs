---
title: "Problem with fast track"
description: ""
project: community
lastmod: 2010-12-04T20:41:37-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01709"
author_name: "Bryan Nagle"
project_section: "mailinglistitem"
sent_date: 2010-12-04T20:41:37-08:00
---


Hi,

I am new to Riak, and am trying to go through the fast track
get familiar with it. However, I am running into a specific problem that I
have not been able to find a solution for. I am trying this on two separate
machines, both running ubuntu 10.04 64, and am having the exact same issue
on both. I am following the fast track to the letter, and I have started
over from scratch on my riak checkout (stop nodes, rm -rf riak, git clone)
multiple times. I am currently stuck on this page:
https://wiki.basho.com/display/RIAK/Building+a+Development+Environment

&gt;From the stats:

"ring\\_ownership": "[{'d...@127.0.0.1',21},{'d...@127.0.0.1',21},{'
&gt; d...@127.0.0.1',22}]"


First I run:

$ curl -v -X PUT HTTP://127.0.0.1:8091/riak/images/1.jpg -H "Content-type:
&gt; image/jpeg" --data-binary @temp.jpg

\\* About to connect() to 127.0.0.1 port 8091 (#0)

\\* Trying 127.0.0.1... connected

\\* Connected to 127.0.0.1 (127.0.0.1) port 8091 (#0)

&gt; PUT /riak/images/1.jpg HTTP/1.1

&gt; User-Agent: curl/7.19.7 (x86\\_64-pc-linux-gnu) libcurl/7.19.7
&gt; OpenSSL/0.9.8k zlib/1.2.3.3 libidn/1.15

&gt; Host: 127.0.0.1:8091

&gt; Accept: \\*/\\*

&gt; Content-type: image/jpeg

&gt; Content-Length: 5389

&gt; Expect: 100-continue

&gt;

&lt; HTTP/1.1 100 Continue

&lt; HTTP/1.1 204 No Content

&lt; Vary: Accept-Encoding

&lt; Server: MochiWeb/1.1 WebMachine/1.7.3 (participate in the frantic)

&lt; Date: Sun, 05 Dec 2010 04:32:58 GMT

&lt; Content-Type: image/jpeg

&lt; Content-Length: 0

&lt;

\\* Connection #0 to host 127.0.0.1 left intact

\\* Closing connection #0


This does not return any errors, so I am assuming it is succeeding.

I then attempt to get this image back - either from a web browser, or from
curl, and I'm getting:

$ curl HTTP://127.0.0.1:8091/riak/images/1.jpg

500 Internal Server
&gt; ErrorInternal Server Error
=====================

The server
&gt; encountered an error while processing this
&gt; request:  

```
[{webmachine_util,escape_quotes,

      [{error,

          {error,badarg,

              [{dict,fetch,

                   [&lt;&lt;"X-Riak-VTag"&gt;&gt;,

                    {dict,5,16,16,8,80,48,

                        {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},

                        {{[],[],

                          [[&lt;&lt;"Links"&gt;&gt;]],

                          [],[],

                          [[&lt;&lt;"X-Riak-Tag"&gt;&gt;,50,100,74,65,99,120,88,114,71,

                            119,69,51,55,115,102,56,55,82,82,66,101,109]],

                          [],[],[],[],


&gt;  [[&lt;&lt;"content-type"&gt;&gt;,105,109,97,103,101,47,106,112,

                            101,103]],

                          [],[],


&gt;  [[&lt;&lt;"X-Riak-Last-Modified"&gt;&gt;|{1291,523577,973790}]],

                          [],

                          [[&lt;&lt;"X-Riak-Meta"&gt;&gt;]]}}}]},

               {riak_kv_wm_raw,generate_etag,2},

               {webmachine_resource,resource_call,3},

               {webmachine_resource,do,3},

               {webmachine_decision_core,resource_call,1},

               {webmachine_decision_core,decision,1},

               {webmachine_decision_core,handle_request,2},

               {webmachine_mochiweb,loop,1}]}},

      "\\""]},

 {webmachine_decision_core,decision,1},

 {webmachine_decision_core,handle_request,2},

 {webmachine_mochiweb,loop,1},

 {mochiweb_http,headers,5},

 {proc_lib,init_p_do_apply,3}]
```


---

mochiweb+webmachine web
&gt; server


I have also tried uploading json. If I add "returnbody=true" to the url, I
see the json body displayed at the end of the curl put command. However,
when I try to access it afterwards, I get the exact same error as above. If
anyone has any ideas about what is going on, I would greatly appreciate it.

Thanks,

Bryan Nagle
Liquid Analytics
bryan.na...@liquidanalytics.com
