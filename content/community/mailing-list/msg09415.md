---
title: "Fwd: 204 statusCode"
description: ""
project: community
lastmod: 2012-11-30T19:08:28-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09415"
mailinglist_parent_id: "msg09414"
author_name: "gibraltar"
project_section: "mailinglistitem"
sent_date: 2012-11-30T19:08:28-08:00
---

Changing following code (javascript code using riak-js)

db.save(bucket, id, data, meta);

into the the following solved it.

db.save(bucket, id, data, meta, function() {} );

Difference is the callback function, even though an empty one. How it could 
make such a difference is beyond me. However, a subsequent GET operation after 
a PUT operation was not returning the body, probably existence of that callback 
function gives time for things to bubble up.

-g


Begin forwarded message:

&gt; From: gibraltar 
&gt; Subject: 204 statusCode
&gt; Date: November 30, 2012 1:16:35 AM EST
&gt; To: "riak-users@lists.basho.com" 
&gt; 
&gt; 
&gt; Hi all,
&gt; 
&gt; As part of load test (of my application, not Riak), I'm making successive 
&gt; fetch/GET requests in a rapid fire fashion. I once got 204 status code 
&gt; (successful but no content response). I do know that there exist an object 
&gt; for that key since previous 105 calls did return the body, but how come I did 
&gt; not get it at 106th time? There's no conditional request or anything and each 
&gt; call is identical. So far it happened once, but should I take this into 
&gt; account or ignore it? 
&gt; 
&gt; I only care if an object exists, I would like to fetch it, modify it and put 
&gt; it back. But when I get statusCode 204 does that mean that I need to repeat 
&gt; the fetch call until I get statusCode 200 and the body? Does one need to work 
&gt; around this nature of Riak at each point of contact? 
&gt; 
&gt; I am looking for a specific answer for 204 condition as well as some insight 
&gt; about using a database like Riak and how one needs to treat it compared to 
&gt; RDBMS. My previous experience with RDBMS is one of deterministic, and I think 
&gt; there's nothing wrong with Riak, but seems like these two tools need to 
&gt; treated differently. What do you say?
&gt; 
&gt; I'm using riak-js for the client. There's one riak node on my laptop, and 
&gt; using LevelDB.
&gt; 
&gt; Thanks,
&gt; Gibraltar
&gt; 

