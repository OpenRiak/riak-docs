---
title: "Re: Riak and no of clients limit?"
description: ""
project: community
lastmod: 2010-09-04T14:59:34-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01024"
mailinglist_parent_id: "msg01016"
author_name: "Seth Falcon"
project_section: "mailinglistitem"
sent_date: 2010-09-04T14:59:34-07:00
---


On Sat, Sep 4, 2010 at 7:18 AM, Justin Sheehy  wrote:
&gt; Hello, Senthilkumar.
&gt;
&gt; On Fri, Sep 3, 2010 at 4:28 PM, Senthilkumar Peelikkampatti wrote:
&gt;
&gt;&gt;        I am using Riak with distributed Erlang and I wanted to know what's
&gt;&gt; the limit on # of riak clients (I used it before erlang pb client, so yet to
&gt;&gt; migrate). I am using single client to talk to Riak, is it better? or in web,
&gt;&gt; is it ok to create a client per request? I looked riak\\_kv\\_wm\\_raw.erl which
&gt;&gt; seems using a connection per request but it is a erlang local\\_client.
&gt;
&gt; There is not a fixed limit imposed by Riak, but it is a general good
&gt; practice to re-use clients for subsequent (non-concurrent) requests.

I'm working on a project where we have a webmachine-backed service
that talks to Riak. I currently initialize one pb client for each
node in the cluster as part of the webmachine startup. Then the
resources in the webmachine app ask for one of these clients for each
request.

Your comment above about reusing clients for non-concurrent requests
makes me wonder if this is the wrong approach. Comments or
suggestions?

Thanks,

+ seth

-- 
Seth Falcon | @sfalcon | http://userprimary.net/

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

