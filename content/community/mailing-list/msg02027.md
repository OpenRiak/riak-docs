---
title: "Re: Erlang API vs Erlang PBC"
description: ""
project: community
lastmod: 2011-01-20T05:35:44-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02027"
mailinglist_parent_id: "msg02026"
author_name: "Ryan Maclear"
project_section: "mailinglistitem"
sent_date: 2011-01-20T05:35:44-08:00
---


Thanks, that makes sense. I guess most of the sample code is based on the dev 
setup outlined in the Fast Track on the wiki, which only sets up four local 
nodes. 

Cheers,
Ryan

On 20 Jan 2011, at 2:46 PM, Ryan Zezeski wrote:

&gt; I think one thing to note is that by using riak\\_client all your data will go 
&gt; over the distributed socket, which I suppose could interfere with other 
&gt; messages and act as a bottleneck. With PBC you can open multiple sockets as 
&gt; needed and your node won't be connected to the riak cluster, which probably 
&gt; becomes more important as the cluster becomes larger because each new node to 
&gt; the cluster requires N-1 sockets where N = number of nodes.
&gt; 
&gt; -Ryan
&gt; 
&gt; On Thu, Jan 20, 2011 at 6:32 AM, Ryan Maclear  wrote:
&gt; Hi,
&gt; 
&gt; When creating an erlang client, is is better to use the riak\\_client module 
&gt; (ie. Erlang API) or the riakc\\_pb\\_socket module (PBC)? I've seen a number of 
&gt; code snippets and samples that use the erlang API and not the PBC (eg. 
&gt; http://wiki.basho.com/MapReduce.html) and for some erlang code inside 
&gt; riak\\_function\\_contrib.
&gt; 
&gt; Obviously, to use the Erlang API I would need to have all the necessary beam 
&gt; files in my erlang path, whereas the PBC only requires a limited set of beam 
&gt; files. The Wiki says that the primary client for code not inside riak should 
&gt; be the Erlang PBC. However, is the anything technically wrong with using the 
&gt; erlang API?
&gt; 
&gt; Thanks,
&gt; Ryan
&gt; 
 

