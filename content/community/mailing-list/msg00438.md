---
title: "Re: rest interface"
description: ""
project: community
lastmod: 2010-05-26T11:18:11-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00438"
mailinglist_parent_id: "msg00437"
author_name: "Guilherme Silveira"
project_section: "mailinglistitem"
sent_date: 2010-05-26T11:18:11-07:00
---


Thanks for the prompt reply Sean,

&gt; The Link header RFC allows you to create your own attributes to the link.
&gt; "rel" is a common one that people readily understand (and we use it in a few
&gt; cases), but separating out riaktag makes it clear that the usage is specific
&gt; to Riak.
Most headers will accept extensions, but doing so imply in, i.e., loss
of visibility by intermediates. The rel attribute is a standard and
has the semantic meaning that I tought the riaktag extension want to
express (relations between different buckets?)

&gt; I assume you mean X-Riak-Meta-\\* headers.  These are simple conveniences for
&gt; the application programmer to express things that don't require interpreting
&gt; the body of the response.  You are free to use them, or not.  They have no
&gt; special meaning from an HTTP perspective, but translate to object metadata
&gt; in Riak's storage mechanisms.
Yep. Depending on how the user uses it, he might break the interface or not.

&gt; The challenge of doing such a thing is to enumerate the other endpoints in a
&gt; way that makes sense from a hypertext perspective.  I worry about trying to
&gt; describe things like /mapred that require POST
Well, if you are creating a map reduce, you do not need to describe
that it is a POST, the HTTP rfc already did it for us. By simply
creating a link to those resources (i.e. the mapreduce control uri),
the client knows due to the RFC that he has to POST to create
something.

&gt; or buckets and keys that
&gt; would require expensive listing operations.
How are buckets typically accessed? Through URI memorization by the
client when he created them?

Regards

Guilherme Silveira
Caelum | Ensino e Inovação
http://www.caelum.com.br/

2010/5/26 Sean Cribbs :
&gt; Guilherme,
&gt;
&gt; There was probably a reason for that I am unaware of, so what could
&gt; prevent using the rel element instead of the custom riaktag attribute?
&gt;
&gt;
&gt; The Link header RFC allows you to create your own attributes to the link.
&gt; "rel" is a common one that people readily understand (and we use it in a few
&gt; cases), but separating out riaktag makes it clear that the usage is specific
&gt; to Riak.
&gt;
&gt; Also when checking the vclock and etag headers, is it possible to use
&gt; the etag and last modified instead of vclocks at all? I know its
&gt; supported, but still vclock is mandatory now, correct?
&gt;
&gt;
&gt; The ETag header is a hash of the vector clock, so it is essentially
&gt; equivalent, but a smaller form.  In my mind they serve different purposes -
&gt; vector clock is for tracking lineage of the object, the etag is for
&gt; (in)validating caches.
&gt;
&gt; The meta header could not be contained within the representation
&gt; itself? The http provides meta data in a uniform way, allowing clients
&gt; to extend it at will seems to make it easy to break this interface.
&gt;
&gt;
&gt; I assume you mean X-Riak-Meta-\\* headers.  These are simple conveniences for
&gt; the application programmer to express things that don't require interpreting
&gt; the body of the response.  You are free to use them, or not.  They have no
&gt; special meaning from an HTTP perspective, but translate to object metadata
&gt; in Riak's storage mechanisms.
&gt;
&gt; Finally, any interest in creating an entry point for it all? Where we
&gt; can navigate to stats, map reduces executed so far and so on?
&gt;
&gt;
&gt; The challenge of doing such a thing is to enumerate the other endpoints in a
&gt; way that makes sense from a hypertext perspective.  I worry about trying to
&gt; describe things like /mapred that require POST or buckets and keys that
&gt; would require expensive listing operations.  Any suggestions you have are
&gt; welcome.
&gt; Sean Cribbs 
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; http://basho.com/
&gt;

