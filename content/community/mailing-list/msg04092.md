---
title: "Re: riak-ql"
description: ""
project: community
lastmod: 2011-07-27T01:54:37-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04092"
mailinglist_parent_id: "msg04091"
author_name: "Antonio Rohman Fernandez"
project_section: "mailinglistitem"
sent_date: 2011-07-27T01:54:37-07:00
---


 

thanks, i didn't mean to treat Riak as a SQL database, but i wanted
to provide as much similar functionality as possible to them on my
framework... that doesn't mean you should run queries like crazy... but
it could be necessary at some points.

Rohman 

On Wed, 27 Jul 2011
10:43:49 +0200, francisco treacy wrote: 

&gt; Oh ok -- I now see Antonio's
slides. Another valid approach. 
&gt; 
&gt; 2011/7/27 Kev Burns 
&gt; 
&gt;&gt; Here's
a virus-free version of Antonio's slide deck (Google Docs)
&gt;&gt;
https://docs.google.com/present/view?id=dhpxng6q\\_51gdj6r9wn [21]
&gt;&gt; 
&gt;&gt;
- Kev
&gt;&gt; c: +001 (650) 521-7791 
&gt;&gt; 
&gt;&gt; On Tue, Jul 26, 2011 at 6:23 PM,
Antonio Rohman Fernandez wrote:
&gt;&gt; 
&gt;&gt;&gt; for PHP you can take a look at
this slides i made, is about "phpCloud Framework" a new PHP5 MVC
framework i'm building with Riak integration in place : ) is based on
CakePHP that borrows heavily on Ruby on Rails.
&gt;&gt;&gt; You can download the
slides on this address ( seems the file is too big for the distribution
list as my last mail couldn't be sent ):
&gt;&gt;&gt; 
&gt;&gt;&gt;
http://mahalostudio.com/Riak\\_phpCloud.pptx [13]
&gt;&gt;&gt; 
&gt;&gt;&gt; Rohman 
&gt;&gt;&gt;

&gt;&gt;&gt; -- 
&gt;&gt;&gt; 
&gt;&gt;&gt; [14]
&gt;&gt;&gt; 
&gt;&gt;&gt; ANTONIO ROHMAN FERNANDEZ
&gt;&gt;&gt; CEO,
Founder & Lead Engineer
&gt;&gt;&gt; roh...@mahalostudio.com [15] 
&gt;&gt;&gt;
PROJECTS
&gt;&gt;&gt; MaruBatsu.es [16]
&gt;&gt;&gt; PupCloud.com [17]
&gt;&gt;&gt; Wedding Album
[18] 
&gt;&gt;&gt; 
&gt;&gt;&gt; On Tue, 26 Jul 2011 20:00:27 -0400, Jonathan Langevin
wrote: 
&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Looks interesting, but doesn't appear very intuitive
(at least, to a PHP dev) 
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; [9]
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; \\_JONATHAN
LANGEVIN\\_
&gt;&gt;&gt;&gt; Systems Administrator 
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; LOOM INC.
&gt;&gt;&gt;&gt;
Wilmington, NC: (910) 241-0433 - jlange...@loomlearning.com [10] -
www.loomlearning.com [11] - Skype: intel352 
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; On Mon, Jul 25,
2011 at 9:40 AM, francisco treacy wrote: 
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt; It's awesome for
ad-hoc querying, at least. An example can better explain.
&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;
Consider this:
&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt; db.add('users').map('query', '.address
.street where .weight:expr(x !.expired').run() 
&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt; as opposed
to:
&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt; db.add('users').map(function(v) {
&gt;&gt;&gt;&gt;&gt; v =
Riak.mapValuesJson(v)[0];
&gt;&gt;&gt;&gt;&gt; var result = [];
&gt;&gt;&gt;&gt;&gt; if ((v.weight &lt;
180 || v.exempt) && v.acl && v.acl.state === '1101'
&gt;&gt;&gt;&gt;&gt; && !v.expired)
{
&gt;&gt;&gt;&gt;&gt; if (v.address) {
&gt;&gt;&gt;&gt;&gt; result.push(v.address.street);
&gt;&gt;&gt;&gt;&gt;
}
&gt;&gt;&gt;&gt;&gt; }
&gt;&gt;&gt;&gt;&gt; return result;
&gt;&gt;&gt;&gt;&gt; }).run()
&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt; riak-ql is
basically adding some query sugar (where, &&) on top of
&gt;&gt;&gt;&gt;&gt;
JSONSelect... which you can try it out here:
&gt;&gt;&gt;&gt;&gt;
http://jsonselect.org/#tryit [1]
&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt; 2011/7/25 Mark Phillips
:
&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt; Hey Francisco,
&gt;&gt;&gt;&gt;&gt; &gt;
&gt;&gt;&gt;&gt;&gt; &gt; I for one would be
interested in learning some more specifics on how
&gt;&gt;&gt;&gt;&gt; &gt; you're using
it. I suspect others might be, too...
&gt;&gt;&gt;&gt;&gt; &gt;
&gt;&gt;&gt;&gt;&gt; &gt; Mark
&gt;&gt;&gt;&gt;&gt; &gt;
&gt;&gt;&gt;&gt;&gt;
&gt; On Sat, Jul 23, 2011 at 4:40 PM, francisco treacy
&gt;&gt;&gt;&gt;&gt; &gt; wrote:
&gt;&gt;&gt;&gt;&gt;
&gt;&gt; Hey all,
&gt;&gt;&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt;&gt;&gt; &gt;&gt; Just wondering... is anyone using, or have
tried out riak-ql?
&gt;&gt;&gt;&gt;&gt; &gt;&gt; https://github.com/frank06/riak-ql [4]
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;&gt;&gt;&gt; &gt;&gt; Not because I developed it -- but I'm regularly making use
of it and I
&gt;&gt;&gt;&gt;&gt; &gt;&gt; think it kicks ass. Especially in the repl in combo
with riak-js.
&gt;&gt;&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt;&gt;&gt; &gt;&gt; What do you guys think?
&gt;&gt;&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt; Francisco
&gt;&gt;&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt;&gt;&gt; &gt;&gt; ps: really curious/excited about the
upcoming Secondary Indices functionality
&gt;&gt;&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt;&gt;&gt; &gt;&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt;&gt;&gt; &gt;&gt; riak-users
mailing list
&gt;&gt;&gt;&gt;&gt; &gt;&gt; riak-users@lists.basho.com [5]
&gt;&gt;&gt;&gt;&gt; &gt;&gt;
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
[6]
&gt;&gt;&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt;&gt;&gt; &gt;
&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt;&gt;&gt; riak-users mailing
list
&gt;&gt;&gt;&gt;&gt; riak-users@lists.basho.com [7]
&gt;&gt;&gt;&gt;&gt;
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
[8]
&gt;&gt;&gt; 
&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt;
riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com [19]
&gt;&gt;&gt;
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
[20]
&gt;&gt; 
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;
riak-users mailing list
&gt;&gt; riak-users@lists.basho.com [23]
&gt;&gt;
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
[24]

-- 

 [26]

 ANTONIO ROHMAN FERNANDEZ
CEO, Founder & Lead
Engineer
roh...@mahalostudio.com [27] 
 PROJECTS
MaruBatsu.es
[28]
PupCloud.com [29]
Wedding Album [30] 

 

Links:
------
[1]
http://jsonselect.org/#tryit
[2] mailto:m...@basho.com
[3]
mailto:francisco.tre...@gmail.com
[4]
https://github.com/frank06/riak-ql
[5]
mailto:riak-users@lists.basho.com
[6]
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
[7]
mailto:riak-users@lists.basho.com
[8]
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
[9]
http://www.loomlearning.com/
[10] mailto:jlange...@loomlearning.com
[11]
http://www.loomlearning.com/
[12] mailto:francisco.tre...@gmail.com
[13]
http://mahalostudio.com/Riak\\_phpCloud.pptx
[14]
http://mahalostudio.com/
[15] mailto:roh...@mahalostudio.com
[16]
http://marubatsu.es/
[17] http://pupcloud.com/
[18]
http://wedding.mahalostudio.com/
[19]
mailto:riak-users@lists.basho.com
[20]
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
[21]
https://docs.google.com/present/view?id=dhpxng6q\\_51gdj6r9wn
[22]
mailto:roh...@mahalostudio.com
[23]
mailto:riak-users@lists.basho.com
[24]
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
[25]
mailto:kevburn...@gmail.com
[26] http://mahalostudio.com
[27]
mailto:roh...@mahalostudio.com
[28] http://marubatsu.es
[29]
http://pupcloud.com
[30] http://wedding.mahalostudio.com
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

