---
title: "Re: riak ubuntu 11 building problems"
description: ""
project: community
lastmod: 2011-10-31T11:30:42-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05391"
mailinglist_parent_id: "msg05389"
author_name: "Jared Morrow"
project_section: "mailinglistitem"
sent_date: 2011-10-31T11:30:42-07:00
---


Ivan,

We build the Riak 1.0 packages with Erlang R14B03 currently. We build on
both Ubuntu 10 and Ubuntu 11 based machines with erlang compiled from
source from erlang.org. I can take a look at your issues, can you put the
following output in a gist or pastebin for me?

$ which erl
$ erl -version
$ git clone g...@github.com:basho/riak
$ cd riak
$ make rel

Thanks,
Jared

On Mon, Oct 31, 2011 at 12:06 PM, Ivan Trajkovic wrote:

&gt; so yes the build on ubuntu 11.04 is definitely broken. I tried multiple
&gt; machines.
&gt; ubuntu 10.04 builds without a glitch.
&gt;
&gt; online I see no tutorials on building on 11.04
&gt; is this something thats not a common case?
&gt;
&gt;
&gt; On Sat, Oct 29, 2011 at 2:08 AM, Ivan Trajkovic wrote:
&gt;
&gt;&gt; hello all
&gt;&gt; Im having some problems with building riak from the github sources, on
&gt;&gt; ubuntu 11
&gt;&gt; Ive reproduced this issue on one of my home computers and a linode
&gt;&gt; virtual server, both running ubuntu 11
&gt;&gt;
&gt;&gt;
&gt;&gt; first of all riak 1.0.1 checkout requires me to have erlang R14B3, which
&gt;&gt; is confusing to me since the riak\\_1.0.1\\_i386.deb seems to be working off of
&gt;&gt; erlang R15A.
&gt;&gt; the requirement is manifested in a message being spit out half way
&gt;&gt; through the riak "make rel", about erlang not being of the correct version.
&gt;&gt; so I compiled a older R14B3 version of erlang and restarted the riak
&gt;&gt; build process...
&gt;&gt; it does finish "make rel" then but goes on to require "nodetools" which
&gt;&gt; are not present in the erts-5.9 which is whats being checked, and is
&gt;&gt; instead hiding in erts-5.8.4 folder (which is not whats used by riak). so I
&gt;&gt; went ahead and copied nodetools from 5.8.4 and put it in 5.9... it doesnt
&gt;&gt; complain about that anymore after that... however then the new memsup
&gt;&gt; issues pop up, with the Erlang VM dying each time I run "riak start"
&gt;&gt; without any messages except mentioning memsup as the final issue...
&gt;&gt;
&gt;&gt; for the memsup issue I did check that ulimit is allowing 1024 file
&gt;&gt; handles, and have increased that limit further as well, but no luck.
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; please let me know if you need some more info about my setup, or
&gt;&gt; thoughts/ideas about what I might be dealing with.
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; help is appreciated
&gt;&gt; thanks
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;

