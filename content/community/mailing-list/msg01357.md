---
title: "Fwd: couchdb performace 10x: using NIF for file io"
description: ""
project: community
lastmod: 2010-10-24T14:05:36-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01357"
author_name: "NevB"
project_section: "mailinglistitem"
sent_date: 2010-10-24T14:05:36-07:00
---


Hi,

I came across this thread in the Erlang group and thought the Riak
team might find it interesting.

Please forgive me if its not relevant to Riak

Kind Regards

Neville


---------- Forwarded message ----------
From: Joel Reymont 
Date: Oct 25, 12:56Â am
Subject: couchdb performace 10x: using NIF for file io
To: Erlang Programming


Simply switching to NIFs for file IO seems to have improved CouchDB
write performance more than ten-fold.

Compare the old graph

http://graphs.mikeal.couchone.com/#/graph/62b286fbb7aa55a4b0c4cc913c0...

to the new graph

http://graphs.mikeal.couchone.com/#/graph/62b286fbb7aa55a4b0c4cc913c0...

I was under the impression that the Erlang IO subsystem was highly
optimized but there seems to be no limit to perfection.

NIFs are a giant black hole that will subsume Erlang code as
performance has to be improved. Start at the lowest level and keep
moving up. All that will be left of Erlang in the end is 99.99999%
uptime, fault tolerance and supervision... of optimized C code. It's
swell and I'm all for it!

Patch is here:

http://github.com/wagerlabs/couchdb/commit/23527eb8165f81e63d47b230f3...

---http://twitter.com/wagerlabs

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
erlang-questions (at) erlang.org mailing list.
Seehttp://www.erlang.org/faq.html
To unsubscribe; mailto:erlang-questions-unsubscr...@erlang.org

