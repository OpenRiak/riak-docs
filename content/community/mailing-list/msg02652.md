---
title: "Re: riak search"
description: ""
project: community
lastmod: 2011-03-15T09:54:10-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02652"
mailinglist_parent_id: "msg02651"
author_name: "Saurabh Sehgal"
project_section: "mailinglistitem"
sent_date: 2011-03-15T09:54:10-07:00
---


Hi Sean,

Please let me know if I am wrong - but according to my understanding, the
documents to index should reside on disk (the example on the wiki indexes
\\*.txt files in a directory). What if my data is not written to files, but
exists in a riak bucket. Do I have to pull it out and store it in a file on
disk to be able to index it ?

Also, do you know if there are any erlang clients/helper libs for solr. I
could not find any. Can the post commit hooks in riak be written in Java ?

Thank you,

Saurabh

On Tue, Mar 15, 2011 at 5:27 AM, Sean Cribbs  wrote:

&gt; Saurabh,
&gt;
&gt; If you want to go with Solr, you have a few options:
&gt;
&gt; 1) Use application code to post an  document to Solr when saving your
&gt; data into Riak.
&gt; 2) Implement a Riak post-commit hook in Erlang to do the same, or to queue
&gt; the additions to another process that can submit them to Solr.
&gt;
&gt; I think you'll find that while on-disk indexes sound bad, that's actually
&gt; how Solr does them too, and not every index query will hit disk on either
&gt; system. The primary difference is that Riak Search is tightly integrated
&gt; with Riak KV and so you get a lot for free when you choose Riak Search,
&gt; including auto-indexing and MapReduce queries that start with a search.
&gt;
&gt; Sean Cribbs 
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; http://basho.com/
&gt;
&gt; On Mar 15, 2011, at 2:08 AM, Saurabh Sehgal wrote:
&gt;
&gt; Hi,
&gt;
&gt; Since riak search is marked as "Beta Software" on the wiki, I am skeptical
&gt; to use it in production.
&gt;
&gt; Does riak offer any APIs or integration points that would allow me to index
&gt; data into Solr ?
&gt; Specifically, I am storing key/value pairs in riak, where the value is a
&gt; binary erlang term containing a tuple of text I would like to index.
&gt;
&gt; Also, going through the riak search documentation, the erlang API seems to
&gt; only have the capability of indexing documents
&gt; on disk as files (please correct me if this isn't true). Is there
&gt; functionality to automatically retrieve and index documents already stored
&gt; in riak ?
&gt; --
&gt;
&gt; Saurabh
&gt;
&gt;
&gt; --
&gt; Saurabh Sehgal
&gt; E-mail: saurabh....@gmail.com
&gt; Phone: 425-269-1324
&gt; LinkedIn: http://www.linkedin.com/pub/1/7a3/436

-- 
Saurabh Sehgal
E-mail: saurabh....@gmail.com
Phone: 425-269-1324
LinkedIn: http://www.linkedin.com/pub/1/7a3/436
