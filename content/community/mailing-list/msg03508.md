---
title: "Re: riak not starting, Reason: {badmatch,already_exists}"
description: ""
project: community
lastmod: 2011-05-31T12:15:10-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03508"
mailinglist_parent_id: "msg03507"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2011-05-31T12:15:10-07:00
---


Hi David,

This looks similar to bug 989:
https://issues.basho.com/show\\_bug.cgi?id=989

Can you remove all mr\\_queue data files and restart the node?
rm data/mr\\_queue/\\*

This issue has been fixed as of Riak 0.14.1. You can perform a rolling
upgrade if you'd like to upgrade your Riak cluster:
http://wiki.basho.com/Rolling-Upgrades.html

Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Tue, May 31, 2011 at 12:03 PM, David Mitchell  wrote:

&gt; Hi Dan,
&gt;
&gt;
&gt;
&gt; Yes, it has been built from source, and it was running.
&gt;
&gt;
&gt;
&gt; We got it from git://github.com/basho/riak.git in Februrary: Riak 0.14.0,
&gt; aka "Dakota."
&gt;
&gt;
&gt;
&gt; We installed from http://erlang.org/download/otp\\_src\\_R13B04.tar.gz
&gt;
&gt;
&gt;
&gt; OK,I undid the “root:root” change.
&gt;
&gt;
&gt;
&gt; Yes, there is some data. I was writing to the second instance, and the
&gt; data was propagated from the second instance to the other two instances. My
&gt; map/reduce functions were very slow, and I was getting error on the first
&gt; instance. So, I tried to restart the first instance. Now, the first
&gt; instance will not start.
&gt;
&gt;
&gt;
&gt; Attached are the logs.
&gt;
&gt;
&gt;
&gt; Thank you for your help.
&gt;
&gt;
&gt;
&gt; David
&gt;
&gt;
&gt;
&gt; \\*From:\\* Dan Reverri [mailto:d...@basho.com]
&gt; \\*Sent:\\* Tuesday, May 31, 2011 2:38 PM
&gt;
&gt; \\*To:\\* David Mitchell
&gt; \\*Cc:\\* riak-users@lists.basho.com
&gt; \\*Subject:\\* Re: riak not starting, Reason: {badmatch,already\\_exists}
&gt;
&gt;
&gt;
&gt; Hi David,
&gt;
&gt;
&gt;
&gt; Can you confirm you have built Riak from source? What branch/tag are you
&gt; using? What version of Erlang are you using?
&gt;
&gt;
&gt;
&gt; I would suggest undoing the "root:root" ownership change. Do you have any
&gt; data in the Riak instance or is this a fresh install? How are you starting
&gt; Riak (the exact command)? Can you provide the full set of log files from the
&gt; node?
&gt;
&gt;
&gt;
&gt; Thanks,
&gt;
&gt; Dan
&gt;
&gt;
&gt; Daniel Reverri
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; d...@basho.com
&gt;
&gt; On Tue, May 31, 2011 at 11:14 AM, David Mitchell &lt;
&gt; david.mitch...@ixicorp.com&gt; wrote:
&gt;
&gt; Hi Dan,
&gt;
&gt;
&gt;
&gt; There are no other beam processes running. The only thing running that is
&gt; related to riak is “riak/erts-5.7.5/bin/epmd –daemon”.
&gt;
&gt;
&gt;
&gt; David
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; \\*From:\\* Dan Reverri [mailto:d...@basho.com]
&gt; \\*Sent:\\* Tuesday, May 31, 2011 12:37 PM
&gt; \\*To:\\* David Mitchell
&gt; \\*Cc:\\* riak-users@lists.basho.com
&gt; \\*Subject:\\* Re: riak not starting, Reason: {badmatch,already\\_exists}
&gt;
&gt;
&gt;
&gt; Hi David,
&gt;
&gt;
&gt;
&gt; Can you check to see if you have any beam processes running (perhaps
&gt; another Riak instance)?
&gt;
&gt;
&gt;
&gt; Thanks,
&gt;
&gt; Dan
&gt;
&gt;
&gt; Daniel Reverri
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; d...@basho.com
&gt;
&gt; On Tue, May 31, 2011 at 9:17 AM, David Mitchell &lt;
&gt; david.mitch...@ixicorp.com&gt; wrote:
&gt;
&gt; Hi, one of the riak nodes is not starting. I am getting
&gt; {badmatch,already\\_exists} in sasl-error.log.
&gt;
&gt;
&gt;
&gt; At first, I was getting ‘eaccess’ errors, so I changed all of the files to
&gt; be owned by “root:root”. Now, I am getting,
&gt;
&gt; {badmatch,already\\_exists}.
&gt;
&gt;
&gt;
&gt; In, erlang.log.1, I see:
&gt;
&gt; [{application,riak\\_kv},{exited,{shutdown,{riak\\_kv\\_app,start,[normal,[]]}}},{type,permanent}]/home/me/dev/poc/riak/riak/rel/riak/lib/os\\_mon-2.2.5/priv/bin/memsup:
&gt; Erlang has closed.
&gt;
&gt; Erlang has closed
&gt;
&gt; {"Kernel pid
&gt; terminated",application\\_controller,"{application\\_start\\_failure,riak\\_kv,{shutdown,{riak\\_kv\\_app,start,[normal,[]]}}}"}
&gt;
&gt;
&gt;
&gt; Crash dump was written to: erl\\_crash.dump
&gt;
&gt; Kernel pid terminated (application\\_controller)
&gt; ({application\\_start\\_failure,riak\\_kv,{shutdown,{riak\\_kv\\_app,start,[normal,[]]}}})
&gt;
&gt;
&gt;
&gt; In my etc/vm.args, -name riak@10.0.60.208 (which is a unique name).
&gt;
&gt;
&gt;
&gt; Any ideas on why I cannot start riak?
&gt;
&gt;
&gt;
&gt; David
&gt;
&gt;
&gt;
&gt;

&gt;
&gt;
