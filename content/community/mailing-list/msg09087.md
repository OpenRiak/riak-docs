---
title: "high 99.9% latencies with leveldb backend"
description: ""
project: community
lastmod: 2012-10-30T12:31:41-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09087"
author_name: "Dietrich Featherston"
project_section: "mailinglistitem"
sent_date: 2012-10-30T12:31:41-07:00
---


Seeing 99th percentile put latencies at around 30-40 ms with 99.9th
percentile jumping all the way up to 3-4s. This is riak 1.1 with the
eleveldb backend on a 9-node cluster, N = 2, W = 1. Lots of free iops, but
CPU is consistently burning 30-40% across all 8 cores.

Wondering if this could be caused by leveldb compactions which, to my
knowledge, will wedge the scheduler for the duration of the compaction in
riak 1.1.

Any other thoughts for troubleshooting? Not a platform or erlang version
with dtrace support so that's out.

Thanks,
D
