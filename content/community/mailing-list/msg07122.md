---
title: "Updates to various Riak-related projects"
description: ""
project: community
lastmod: 2012-04-03T12:25:13-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07122"
author_name: "Jon Brisbin"
project_section: "mailinglistitem"
sent_date: 2012-04-03T12:25:13-07:00
---


I hope everyone who attended Erlang Factory learned a lot and had fun. I'm 
bummed I missed it. :/ Ah well! 

I spent some time recently fixing a couple bugs that were hanging out in some 
projects of mine that are Riak-related. Mostly I wanted to freshen them and 
update them to use the latest riak\\_core. They include example apps that are 
basically my own notebooks on how to invoke a riak\\_core vnode using various 
methods: 

SockJS (using Cowboy) -&gt; riak\\_core: 
https://github.com/jbrisbin/sockjs-riak\\_core-vnode-dispatcher 

Misultin (plain HTTP, no websockets) -&gt; riak\\_core: 
https://github.com/jbrisbin/misultin-riak-core-vnode-dispatcher 

RabbitMQ/AMQP -&gt; riak\\_core: 
https://github.com/jbrisbin/rabbitmq-riak\\_core-vnode-dispatcher 

I've done some preliminary load testing of the HTTP-related dispatchers and 
they can really take a lot of punishment. I was running out of resources on my 
box to throw at a two-process riak\\_core ring that were load-balancing up to 
1,000 simultaneous requests across all available vnodes in that cluster. I 
killed one of the processes during the test and lost one round of requests 
(those that were actively connected to that node when I killed it) but the 
other 10's of thousands went through without a hiccup. 

These examples are very simplistic. One could extend them and implement handoff 
and coverage functionality, which would be really cool to have in a web app. 

Thanks! 

Jon Brisbin 
http://about.me/jonbrisbin 
