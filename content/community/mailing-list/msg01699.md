---
title: "Re: Installed Riak via ssh. Now can/should I test *remotely* from a	browser?"
description: ""
project: community
lastmod: 2010-12-02T06:08:41-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01699"
mailinglist_parent_id: "msg01698"
author_name: "Stefan Scott Alexander"
project_section: "mailinglistitem"
sent_date: 2010-12-02T06:08:41-08:00
---


Hi Sean -

Thanks for this pointer.

I haven't thought everything through yet, but my initial plan would be to
eventually set up something like the following overall architecture:

nginx (front end) &lt;===&gt; nitrogen (web framework) &lt;===&gt; riak (data
store)

where nitrogen could use a RESTful AJAX library (say, ExtJS) to talk to riak
over HTTP.

http://dev.extjs.com/deploy/dev/examples/restful/restful.html
http://dev.extjs.com/deploy/dev/examples/

http://www.sencha.com/learn/Manual:RESTful\\_Web\\_Services

In this case, I assume that nginx's lack of full support HTTP 1.1 semantics
would not be a problem - as nginx would be a proxy talking only to nitrogen
(not to riak directly), and nitrogen in turn would be making RESTful HTTP
calls to riak.

Would this kind of architecture make sense?

- Scott


On Thu, Dec 2, 2010 at 10:18 AM, Sean Cribbs  wrote:

&gt; Be aware that nginx's reverse-proxy configuration may not fully support
&gt; HTTP 1.1 semantics. If you need those semantics, you might be better off
&gt; using a dedicated reverse proxy like haproxy or pound.
&gt;
&gt; Sean Cribbs 
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; http://basho.com/
&gt;
&gt; On Dec 2, 2010, at 7:55 AM, Stefan Scott Alexander wrote:
&gt;
&gt; To Sven: Thanks for the nginx.conf file tailored to Riak - this will come
&gt; in handy.
&gt;
&gt; - Stefan Scott
&gt;
&gt; Sven Reidel wrote:
&gt; Hi, there's a nice nginx config for loadbalancing a riak cluster at:
&gt;
&gt; http://rigelgroupllc.com/wp/blog/using-nginx-as-a-front-end-for-riak
&gt;
&gt; Personally, even with that in place I wouldn't open those ports up to the
&gt; public without, some access control system in front of it :).
&gt;
&gt; On Thu, Dec 2, 2010 at 1:43 AM, Andrew Stone 
&gt; wrote:
&gt;
&gt;&gt; I second that actually and should have put it in my initial response.
&gt;&gt;
&gt;&gt; -Andrew
&gt;&gt;
&gt;&gt;
&gt;&gt; On Wed, Dec 1, 2010 at 10:33 PM, Alexander Sicular wrote:
&gt;&gt;
&gt;&gt;&gt; Testing aside, I would not bind a production riak to an external
&gt;&gt;&gt; interface. The recommended method is to access riak via an
&gt;&gt;&gt; intermediary like nginx.
&gt;&gt;&gt;
&gt;&gt;&gt; -alexander
&gt;&gt;&gt;
&gt;&gt;&gt; On 2010-12-01, Andrew Stone  wrote:
&gt;&gt;&gt; &gt; Hi Stefan,
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; You need to configure Riak to listen on the right interface. You are
&gt;&gt;&gt; trying
&gt;&gt;&gt; &gt; to hit it from 127.0.0.1 which is only available from the local
&gt;&gt;&gt; machine.
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; If you set web\\_ip to 0.0.0.0 in app.config for riak\\_core it will listen
&gt;&gt;&gt; on
&gt;&gt;&gt; &gt; all interfaces. Then you can try to hit it with a curl remotely using
&gt;&gt;&gt; &gt; myhost.com from your browser.
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; -Andrew
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; On Wed, Dec 1, 2010 at 9:27 PM, Stefan Scott Alexander &lt;
&gt;&gt;&gt; &gt; stefanscottal...@gmail.com&gt; wrote:
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt;&gt; Hi -
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt; &gt;&gt; SUMMARY:
&gt;&gt;&gt; &gt;&gt; This may be a silly question but... after installing Riak via ssh, can
&gt;&gt;&gt; I
&gt;&gt;&gt; &gt;&gt; (or should I) test \\*remotely\\* it from a browser?
&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

