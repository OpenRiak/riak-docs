---
title: "Re: Error on riakc_pb_socket:put()"
description: ""
project: community
lastmod: 2011-03-16T22:25:47-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02669"
mailinglist_parent_id: "msg02668"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2011-03-16T22:25:47-07:00
---


Looks like you are using the wrong port number; "8091" is for HTTP. Try
"8081" to connect to the "dev1" node.

Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Wed, Mar 16, 2011 at 10:22 PM, Saurabh Sehgal wrote:

&gt; Hi,
&gt;
&gt; I followed the tutorial on the wiki to start storing some objects in riak.
&gt; I was able to store them through the examples given with "curl", but get the
&gt; following error when using the erlang client -&gt;
&gt;
&gt; 7&gt; riakc\\_pb\\_socket:put(Pid, Object).
&gt; {error,disconnected}
&gt; 8&gt;
&gt; =ERROR REPORT==== 16-Mar-2011::22:19:42 ===
&gt; \\*\\* Generic server &lt;0.54.0&gt; terminating
&gt; \\*\\* Last message in was {tcp\\_closed,#Port&lt;0.1105&gt;}
&gt; \\*\\* When Server state == {state,"127.0.0.1",8091,false,false,undefined,
&gt; undefined,
&gt; {[],[]},
&gt; 1,[],infinity,100}
&gt; \\*\\* Reason for termination ==
&gt; \\*\\* disconnected
&gt; \\*\\* exception error: disconnected
&gt; 8&gt;
&gt; =CRASH REPORT==== 16-Mar-2011::22:19:42 ===
&gt; crasher:
&gt; initial call: riakc\\_pb\\_socket:init/1
&gt; pid: &lt;0.54.0&gt;
&gt; registered\\_name: []
&gt; exception exit: disconnected
&gt; in function gen\\_server:terminate/6
&gt; ancestors: [&lt;0.32.0&gt;]
&gt; messages: []
&gt; links: [&lt;0.32.0&gt;]
&gt; dictionary: []
&gt; trap\\_exit: false
&gt; status: running
&gt; heap\\_size: 610
&gt; stack\\_size: 24
&gt; reductions: 550
&gt; neighbours:
&gt; neighbour: [{pid,&lt;0.32.0&gt;},
&gt; {registered\\_name,[]},
&gt; {initial\\_call,{erlang,apply,2}},
&gt; {current\\_function,{shell,eval\\_loop,3}},
&gt; {ancestors,[]},
&gt; {messages,[]},
&gt; {links,[&lt;0.27.0&gt;,&lt;0.54.0&gt;]},
&gt; {dictionary,[]},
&gt; {trap\\_exit,false},
&gt; {status,waiting},
&gt; {heap\\_size,377},
&gt; {stack\\_size,7},
&gt; {reductions,13535}]
&gt;
&gt;
&gt;
&gt; Any thoughts ?
&gt;
&gt; I was able to obtain the Pid fine -&gt;
&gt;
&gt; 5&gt; {ok, Pid} = riakc\\_pb\\_socket:start\\_link("127.0.0.1", 8091).
&gt;
&gt; =PROGRESS REPORT==== 16-Mar-2011::22:19:20 ===
&gt; supervisor: {local,inet\\_gethost\\_native\\_sup}
&gt; started:
&gt; [{pid,&lt;0.56.0&gt;},{mfa,{inet\\_gethost\\_native,init,[[]]}}]
&gt;
&gt; =PROGRESS REPORT==== 16-Mar-2011::22:19:20 ===
&gt; supervisor: {local,kernel\\_safe\\_sup}
&gt; started: [{pid,&lt;0.55.0&gt;},
&gt; {name,inet\\_gethost\\_native\\_sup},
&gt; {mfa,{inet\\_gethost\\_native,start\\_link,[]}},
&gt; {restart\\_type,temporary},
&gt; {shutdown,1000},
&gt; {child\\_type,worker}]
&gt; {ok,&lt;0.54.0&gt;}
&gt;
&gt;
&gt; Thank you !
&gt;
&gt; Saurabh
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

