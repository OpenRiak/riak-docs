---
title: "Re: Memory Utilization"
description: ""
project: community
lastmod: 2010-05-27T04:42:58-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00447"
mailinglist_parent_id: "msg00445"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2010-05-27T04:42:58-07:00
---


Yes, you can use low-level commands to recover lost data from the binlogs. 
It's embedded InnoDB, not MySQL's driver, so not everything is exactly the 
same, but the technique is similar.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On May 26, 2010, at 11:42 PM, Jason J. W. Williams wrote:

&gt; That's terrific. We're very familiar with InnoDBs buffer pool and
&gt; that's exactly the kind of control we're looking for. With the
&gt; InnoStore backend is the crash recovery/durability similar to InnoDB
&gt; under MySQL?
&gt; 
&gt; -J
&gt; 
&gt; On Wed, May 26, 2010 at 8:13 PM, Sean Cribbs  wrote:
&gt;&gt; Riak's usage of memory primarily depends on the backend you choose. 
&gt;&gt; Innostore, for example, has a configurable buffer pool (cache) which can 
&gt;&gt; help you limit the memory footprint. Bitcask, our most recently released 
&gt;&gt; backend, keeps only a hash mapping keys to file/offset in memory (with the 
&gt;&gt; value only on disk), so you could store thousands of keys per node without 
&gt;&gt; noticing much.
&gt;&gt; 
&gt;&gt; Outside of the backend, Riak generally only needs enough RAM to have copies 
&gt;&gt; of objects in transit -- either being written or read. If you see it using 
&gt;&gt; too much RAM, there are some flags to the Erlang VM that can be tweaked.
&gt;&gt; 
&gt;&gt; Sean Cribbs 
&gt;&gt; Developer Advocate
&gt;&gt; Basho Technologies, Inc.
&gt;&gt; http://basho.com/
&gt;&gt; 
&gt;&gt; On May 26, 2010, at 6:23 PM, Jason J. W. Williams wrote:
&gt;&gt; 
&gt;&gt;&gt; Hi,
&gt;&gt;&gt; 
&gt;&gt;&gt; We have a couple of projects we want to start small and to this point
&gt;&gt;&gt; we've been considering MongoDB or Cassandra. Mongo's main drawback for
&gt;&gt;&gt; us is it's extensive use of mmap, which can make it a bad neighbor
&gt;&gt;&gt; vis-a-vis RAM usage if it has to co-exist with other parts of our
&gt;&gt;&gt; stack. Cassandra's has it's own drawbacks for our use cases.
&gt;&gt;&gt; 
&gt;&gt;&gt; Riak looks very interesting, but we're curious about it's memory
&gt;&gt;&gt; profile. That is what drives memory consumption in Riak, is it
&gt;&gt;&gt; possible to limit the memory consumption, and how does Riak behave
&gt;&gt;&gt; when memory exhaustion occurs?
&gt;&gt;&gt; 
&gt;&gt;&gt; -J
&gt;&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
