---
title: "Re: Slow inserts"
description: ""
project: community
lastmod: 2011-04-11T12:56:46-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02967"
mailinglist_parent_id: "msg02966"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2011-04-11T12:56:46-07:00
---


What are the put\\_fsm timings across the nodes as reported by "riak-admin
status" after running the script?
node\\_put\\_fsm\\_time\\_mean
node\\_put\\_fsm\\_time\\_median
node\\_put\\_fsm\\_time\\_95
node\\_put\\_fsm\\_time\\_99
node\\_put\\_fsm\\_time\\_100


Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Mon, Apr 11, 2011 at 12:37 PM, Jens Rantil wrote:

&gt; Hi,
&gt;
&gt; By "not doing anything" I meant they were idling apart from the riak/Erlang
&gt; processes running.
&gt;
&gt; And yes, riak-admin status shows all five nodes according in ring\\_members
&gt; according to [1].
&gt;
&gt; [1] 
&gt; http://wiki.basho.com/Basic-Cluster-Setup.html
&gt;
&gt; Thanks,
&gt; Jens
&gt;
&gt; On 11 apr 2011, at 18:57, "Dan Reverri"  wrote:
&gt;
&gt; Can you explain what you mean by "Four of the nodes were not doing
&gt; anything else"?
&gt;
&gt; Does "riak-admin status" show the appropriate nodes in the ring?
&gt;
&gt; Thanks,
&gt; Dan
&gt;
&gt;
&gt; Daniel Reverri
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; d...@basho.com
&gt;
&gt;
&gt; On Mon, Apr 11, 2011 at 9:00 AM, Jens Rantil &lt; 
&gt; jens.ran...@telavox.se&gt; wrote:
&gt;
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; I have set up a 5-node test environment to give Riak a test run. I wrote a
&gt;&gt; Python script ( 
&gt;&gt; http://pastebin.com/geQ00Ngb) that put 53780 key-values into my cluster.
&gt;&gt; Using round robin, 11 threads inserted these values in ~70 seconds. This
&gt;&gt; means an average of ~750 key-values/second. Is this the expected speed of
&gt;&gt; inserts? It seems quite slow. The Mozilla benchmark 
&gt;&gt; (
&gt;&gt; http://blog.mozilla.com/data/2010/08/16/benchmarking-riak-for-the-mozilla-test-pilot-project/)
&gt;&gt; reached &gt; 1500 ops/second for significantly bigger values than my benchmark.
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; Additional information:
&gt;&gt;
&gt;&gt; \\* Four of the nodes were not doing anything else.
&gt;&gt;
&gt;&gt; \\* n\\_val=3
&gt;&gt;
&gt;&gt; \\* For every insert, w=1 and dw=0.
&gt;&gt;
&gt;&gt; \\* All nodes are using riak\\_0.14.1-1\\_amd64.deb and I have not changed any
&gt;&gt; of the defaults settings except Erlang -cookie and -name.
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt;
&gt;&gt; Jens Rantil
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; 
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;
