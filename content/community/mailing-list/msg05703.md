---
title: "Re: Secondary Indexes - Feedback?"
description: ""
project: community
lastmod: 2011-11-21T22:18:52-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05703"
mailinglist_parent_id: "msg05604"
author_name: "Fyodor Yarochkin"
project_section: "mailinglistitem"
sent_date: 2011-11-21T22:18:52-08:00
---


&gt; Have you tried Secondary Indexes?
&gt; Does the feature help solve your problems? If not, why not? Any concerns?
&gt; What is your wish list for the future of Secondary Indexes?
&gt;

yup. I think secondary indexes is probably one of the most-wanted
options for this release. It does impact how you are able to model
your data alot. We discussed the data modeling patterns internally
here, and the cool thing with secondary indexes is that it is not only
queries are possible but also the secondary index name could be
throught of as dynamic variable. Thus, as long as you can predict the
secondary index name, you can pretty much use it as indexed field in
SQL data model. One thing we have not tested yet though: if there is
a limit on number of secondary indexes for a single object, and how
the system would behave if the number of secondary indexes for a
particular object is huge.

Another limitation (or wouldbegoodtohave :-)) thing that we have
noticed is that there is no straight-forward way to query data by
multiple secondary indexes at once. You can either do key filtering,
or do one query, feed it to map job, and then reduce by removing
entries that do not much 2nd criteria, but not query by
secondaryAval\\_int/2 and secondaryBval\\_int/4. This said, I haven't
really looked into inner workings of secondary indexes implementation,
so I am simply commenting on this from a user perspective.

Other than this would be interesting to hear some comparisons on
performance of secondary index queries vs. SOLR indexes (riak\\_search),
in our experience secondary indexes perform way faster on large volume
of data but this could could be just my impression.

cheers,
-Fyodor

