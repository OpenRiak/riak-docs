---
title: "Re: Problem when parsing query"
description: ""
project: community
lastmod: 2011-06-28T16:07:00-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03851"
mailinglist_parent_id: "msg03838"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2011-06-28T16:07:00-07:00
---


I would expect the first one to fail. IIRC, there is a bug when following a 
single char with a wildcard

-Ryan

[Sent from my iPhone]

On Jun 27, 2011, at 4:25 PM, Germain Maurice  
wrote:

&gt; Hello everybody,
&gt; 
&gt; I have a problem with riaksearch 0.14.2 when searching the document i have in 
&gt; my bucket "affinities" :
&gt; {
&gt; "start" : "20110417",
&gt; "end" : "20110510",
&gt; "data" : {
&gt; ...
&gt; }
&gt; }
&gt; 
&gt; When i request the index with this query (without escaping special 
&gt; characters) :
&gt; curl -vv 'http://localhost:8098/solr/affinities/select?q=nsid:83786678@N00 
&gt; AND start:[2\\* TO 20110501]&wt=json&rows=1'
&gt; it returns the document.
&gt; 
&gt; When i request the index with this query :
&gt; curl -vv 'http://localhost:8098/solr/affinities/select?q=nsid:83786678@N00 
&gt; AND start:[20\\* TO 20110501]&wt=json&rows=1'
&gt; i get a Bad Request error (HTTP 400) and this error in the riak console :
&gt; 
&gt; =ERROR REPORT==== 27-Jun-2011::22:05:04 ===
&gt; Unable to parse request: {badmatch,
&gt; {error,
&gt; {lucene\\_parse,
&gt; "syntax error before: [50,48,42]"}}}
&gt; [{riak\\_search\\_client,parse\\_query,3},
&gt; {riak\\_solr\\_searcher\\_wm,malformed\\_request,2},
&gt; {webmachine\\_resource,resource\\_call,3},
&gt; {webmachine\\_resource,do,3},
&gt; {webmachine\\_decision\\_core,resource\\_call,1},
&gt; {webmachine\\_decision\\_core,decision,1},
&gt; {webmachine\\_decision\\_core,handle\\_request,2},
&gt; {webmachine\\_mochiweb,loop,1}]
&gt; 
&gt; I think there is an error in parsing the query, am i wrong ?
&gt; 
&gt; Germain
&gt; 
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

