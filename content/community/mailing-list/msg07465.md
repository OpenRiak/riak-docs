---
title: "Re: Solr Indexing and required fields."
description: ""
project: community
lastmod: 2012-05-16T09:06:35-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07465"
mailinglist_parent_id: "msg07458"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2012-05-16T09:06:35-07:00
---


On Tue, May 15, 2012 at 3:06 PM, Eric Boyer  wrote:
&gt;
&gt;
&gt; I would have expected these 2 scenarios to result in the same error.
&gt;
&gt; Anything that I'm missing or is it just my assumption about how
&gt; required fields are handled is flawed?
&gt;
&gt;
Eric,

I can confirm that the required fields are not enforced, except for the
unique id field [1]. The `expected\\_binaries` is actually just a general
parse error, not a recognition of a required field missing. I created an
issue.

https://github.com/basho/riak\\_search/issues/106

This brings up another point. In order to make Search more focused on
indexing KV data I want to remove the solr indexing support. The Solr
support in Search is only a subset of that in proper Solr and it doesn't
have the same semantics for some of the features it does implement.
 Furthermore, it puts these docs in a special bucket that isn't obvious and
kind of acts like a backdoor into KV. You could still accomplish what you
are doing here, the difference is that you would install a Search hook on
the bucket and then write the XML (or JSON) to that bucket and the Search
hook would automatically extract the fields and analyze based on the
schema. What you would lose is ability to do multiple docs in one go and
using a regular Solr client (I'm guessing Search's end point supports that
but I've never tested it).

Does that make any sense? How would you feel if the solr indexing
functionality was removed?

-Z

[1]:
https://github.com/basho/riak\\_search/blob/1.1.2/src/riak\\_solr\\_search\\_client.erl#L69
