---
title: "Re: Attempting to use secondary indexes"
description: ""
project: community
lastmod: 2011-08-03T21:03:06-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04208"
mailinglist_parent_id: "msg04207"
author_name: "Kelly McLaughlin"
project_section: "mailinglistitem"
sent_date: 2011-08-03T21:03:06-07:00
---


Craig,

The default backend is bit cask and if you want to use the indexes you'll need 
to look in etc/app.config in the release directory and change the value for the 
storage\\_backend setting to riak\\_kv\\_index\\_backend instead of 
riak\\_kv\\_bitcask\\_backend. I suspect that's the problem. Cheers.

Kelly


On Aug 3, 2011, at 9:42 PM, Craig Muth wrote:

&gt; I'm running the code example from 
&gt; http://rusty.basho.com.s3.amazonaws.com/Presentations/2011-OSCONData-Portland.pdf
&gt; 
&gt; This succeeds:
&gt; curl \\
&gt; -X PUT \\
&gt; -d "OPAQUE\\_VALUE" \\
&gt; -H "x-riak-index-category\\_bin: armor" \\
&gt; -H "x-riak-index-price\\_int: 400" \\
&gt; http://127.0.0.1:8098/buckets/loot/keys/gauntlet24
&gt; 
&gt; This verifies it's getting there:
&gt; curl http://127.0.0.1:8098/riak/loot/gauntlet24
&gt; =&gt; OPAQUE\\_VALUE
&gt; 
&gt; However, this finds nothing:
&gt; curl http://127.0.0.1:8098/buckets/loot/index/category\\_bin/eq/armor
&gt; =&gt; {"keys":[]}
&gt; 
&gt; Whereas in the presentation it says it should return {"keys":["gauntlet24"]}
&gt; 
&gt; Any ideas? Just grabbed the latest from github master.
&gt; 
&gt; --Craig
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

