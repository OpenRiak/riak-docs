---
title: "Re: Atomicity of if_not_modified?"
description: ""
project: community
lastmod: 2013-01-07T06:35:01-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09744"
mailinglist_parent_id: "msg09742"
author_name: "Kresten Krab Thorup"
project_section: "mailinglistitem"
sent_date: 2013-01-07T06:35:01-08:00
---


Kaspar,

When a Riak write "fails" the value can still have been written.

Failure is really just a notification that the write didn't complete as 
requested, usually because one or more of the cluster writes failed.

And being written, even just to a single node, that singly written value can 
later be read and supersede earlier (successfully) written ones.

Kresten


On Jan 7, 2013, at 2:44 PM, qaspar 
&gt; wrote:

Justin Sheehy wrote
Yes, I confirmed this earlier in this thread:

http://lists.basho.com/pipermail/riak-users\\_lists.basho.com/2013-January/010672.html

-Justin

Sorry for the double-post, that was not intended. What about setting
DW=DR=2? In this case only at most one partition can succeed at writing, and
the partition that fails to durably write the value would be interpreted as
'failed', and one could simply retry a bit later. What do you think?

Kaspar




--
View this message in context: 
http://riak-users.197444.n3.nabble.com/Atomicity-of-if-not-modified-tp4026430p4026482.html
Sent from the Riak Users mailing list archive at Nabble.com.

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com



Mobile: + 45 2343 4626 | Skype: krestenkrabthorup | Twitter: @drkrab
Trifork A/S | Margrethepladsen 4 | DK- 8000 Aarhus C | Phone : +45 8732 
8787 | www.trifork.com





\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

