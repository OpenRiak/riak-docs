---
title: "Re: Riak-java-client through a HTTP proxy"
description: ""
project: community
lastmod: 2011-12-16T02:07:40-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05975"
mailinglist_parent_id: "msg05974"
author_name: "Russell Brown"
project_section: "mailinglistitem"
sent_date: 2011-12-16T02:07:40-08:00
---



On 16 Dec 2011, at 09:13, Russell Brown wrote:

&gt; Hi,
&gt; On 16 Dec 2011, at 08:58, Olivier Rossel wrote:
&gt; 
&gt;&gt; â€¦
&gt;&gt; 
&gt;&gt; Is there a special way to declare proxies in riak-java-client ?
&gt; Yes. Can you let me know which version of the RJC you are using, please?

OK, from speaking to you on another channel you are 1.0.x based. This means 
that the Riak HTTP Client uses Apache HTTP Client 4.1 underneath. \\_At the 
moment\\_ the only way to set the proxy is to provide a pre-configured Apache 
HTTP Client to the RJC. How you do this depends on which client interface you 
are coding too. Assuming you are using the high-level IRiakClient interface 
then you provide your configured apache client via a config object.

Something like this gist[1] would do it. I believe you can also persuade the 
Apache HTTP client to use the system properties[2] but that also involves 
providing a configured client, so the same as the gist, except you need to set 
the client up to use the `ProxySelectorRoutePlanner`.

I'd like to add proxy settings to the `HTTPClientConfig` class (pull request 
gratefully accepted ;)), and I will, as soon as I have a bit of time for it.

Cheers

Russell

[1] https://gist.github.com/1485435
[2] 
http://hc.apache.org/httpcomponents-client-ga/tutorial/html/connmgmt.html#d4e482

&gt; 
&gt; Cheers
&gt; 
&gt; Russell
&gt; 
&gt;&gt; 
&gt;&gt; Any help is welcome.
&gt;&gt; 
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; 
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

