---
title: "Re: Link Walking via Map Reduce"
description: ""
project: community
lastmod: 2011-06-22T18:10:25-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03793"
mailinglist_parent_id: "msg03789"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2011-06-22T18:10:25-07:00
---


Andrew,

Maybe you could elaborate on the error? I tested this against master
(commit below) just now with success.

2b1a474f836d962fa035f48c05452e22fc6c2193 Change dependency to allow for
R14B03 as well as R14B02

-Ryan

On Wed, Jun 22, 2011 at 7:03 PM, Andrew Berman  wrote:

&gt; Hello,
&gt;
&gt; I'm having issues link walking using the Map Reduce link function. I am
&gt; using HEAD from Git, so it's possible that's the issue, but here is what is
&gt; happening.
&gt;
&gt; I've got two buckets, user and user\\_email where user\\_email contains a link
&gt; to the user.
&gt;
&gt; When I run this:
&gt;
&gt; {
&gt; "inputs": [
&gt; [
&gt; "user\\_email",
&gt; "myem...@email.com"
&gt; ]
&gt; ],
&gt; "query": [
&gt; {
&gt; "link": {
&gt; "bucket": "user",
&gt; "tag": "user"
&gt; }
&gt; }
&gt; ]
&gt; }
&gt;
&gt; I only get [["user","LikiWUPJSFuxtrhCYpsPfg","user"]] returned. The second
&gt; I add a map function, even the simplest one (function(v) { [v] } I get a
&gt; "map\\_reduce error":
&gt;
&gt; {
&gt; "inputs": [
&gt; [
&gt; "user\\_email",
&gt; "myem...@email.com"
&gt; ]
&gt; ],
&gt; "query": [
&gt; {
&gt; "link": {"bucket":"user", "tag":"user"}
&gt; }
&gt; ,{
&gt; "map": {
&gt; "language": "javascript",
&gt; "source": "function(v) { return[v]; }"
&gt; }
&gt; }
&gt; ]
&gt; }
&gt;
&gt; Is this functionality broken? I am following what it says on the Wiki for
&gt; the MapRed version of link walking. When I use HTTP link walking, it works
&gt; correctly.
&gt;
&gt; Thanks,
&gt;
&gt; Andrew
&gt;

