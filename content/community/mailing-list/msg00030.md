---
title: "Re: I like Riak! (but /test is slooooowww -- probably my fault)"
description: ""
project: community
lastmod: 2010-04-13T12:22:19-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00030"
mailinglist_parent_id: "msg00024"
author_name: "Grant Schofield"
project_section: "mailinglistitem"
sent_date: 2010-04-13T12:22:19-07:00
---


What version of Riak and Innostore are you running? Also providing both your 
erlang.log.1 as well as your sasl-error.log files from the log directory would 
help us diagnose the issue you're experiencing.

Thanks,
Grant Schofield
Developer Advocate 
Basho Technologies, Inc.


On Apr 13, 2010, at 12:55 PM, Tyler Smart wrote:

&gt; {riak, [
&gt; %% storage\\_backend specifies the Erlang module defining the storage 
&gt; mechanism
&gt; %% that will be used on this node.
&gt; %% {storage\\_backend, riak\\_dets\\_backend},
&gt; {storage\\_backend, innostore\\_riak},
&gt; 
&gt; %% Different storage backends can use other configuration variables. 
&gt; For
&gt; %% instance, riak\\_dets\\_backend\\_root determines the directory under 
&gt; which
&gt; %% dets files will be placed.
&gt; {riak\\_dets\\_backend\\_root, "/riak/backendroot"},
&gt; 
&gt; %% Default location of ringstate
&gt; {ring\\_state\\_dir, "/riak/ringstate"},
&gt; 
&gt; %% riak\\_web\\_ip is the IP address that Riak's HTTP interface will 
&gt; bind to.
&gt; %% If this is undefined, the HTTP interface will not run.
&gt; {riak\\_web\\_ip, "127.0.0.1"},
&gt; 
&gt; %% riak\\_web\\_port is the TCP port that Riak's HTTP interface will 
&gt; bind to.
&gt; {riak\\_web\\_port, 8098},
&gt; 
&gt; %% riak\\_handoff\\_port is the TCP port that Riak uses for intra-cluster
&gt; %% data handoff.
&gt; {riak\\_handoff\\_port, 8099},
&gt; 
&gt; %% mapred\\_name is URL used to submit map/reduce requests to Riak.
&gt; {mapred\\_name, "mapred"},
&gt; 
&gt; %% js\\_vm\\_count is the number of Javascript VMs to start per Riak 
&gt; node.
&gt; %% 8 is a good default for smaller installations. A larger number 
&gt; like
&gt; %% 12 or 16 is appropriate for installations handling lots of 
&gt; map/reduce
&gt; %% processing.
&gt; {js\\_vm\\_count, 8},
&gt; 
&gt; %% js\\_source\\_dir should point to a directory containing Javascript 
&gt; source
&gt; %% files which will be loaded by Riak when it initializes Javascript 
&gt; VMs.
&gt; %{js\\_source\\_dir, "/tmp/js\\_source"}
&gt; 
&gt; 
&gt; %% riak\\_stat enables the use of the "riak-admin status" command to
&gt; %% retrieve information the Riak node for performance and debugging 
&gt; needs
&gt; {riak\\_stat, true}
&gt; ]},
&gt; 
&gt; %% SASL config
&gt; {sasl, [
&gt; {sasl\\_error\\_logger, {file, "log/sasl-error.log"}},
&gt; {errlog\\_type, error},
&gt; {error\\_logger\\_mf\\_dir, "log/sasl"}, % Log directory
&gt; {error\\_logger\\_mf\\_maxbytes, 10485760}, % 10 MB max file size
&gt; {error\\_logger\\_mf\\_maxfiles, 5} % 5 files max
&gt; ]},
&gt; 
&gt; {innostore, [
&gt; {data\\_home\\_dir, "/riak/data"}, %% Where data files go
&gt; {log\\_group\\_home\\_dir, "/riak/logs"}, %% Where log files go, 
&gt; ideally the logs and data are on separate drives for performance...maybe later
&gt; {buffer\\_pool\\_size, 268435456} %% 256MB in-memory buffer in bytes
&gt; ]}
&gt; ].
&gt; 
&gt; 
&gt; Sorry for the confusion, that is the config file, I hope it helps.
&gt; 
&gt; Sincerely,
&gt; Tyler
&gt; 
&gt; On Tue, Apr 13, 2010 at 1:27 PM, Tyler Smart  wrote:
&gt; Hi all! 
&gt; 
&gt; I have installed Riak on an Ubuntu 8.04 EC-2 instance and it stores all of 
&gt; its' data on an EBS block (10GB). The machine is 32 bit (small). It will 
&gt; accept information in a bucket easily with a curl request like this:
&gt; 
&gt; curl -X PUT -H "content-type: text/plain" 
&gt; https://127.0.0.1/riak/example/foo --data "I have a document."
&gt; 
&gt; If I query the data like this:
&gt; 
&gt; curl -i -k https://127.0.0.1/riak/example/foo
&gt; 
&gt; I get back the data, it works perfectly. (It sits behind nginx as a reverse 
&gt; proxy that adds SSL).
&gt; 
&gt; However, if I perform this query:
&gt; 
&gt; https://127.0.0.1/riak/example
&gt; 
&gt; it never finishes executing, nor if I try https://127.0.0.1/riak/test
&gt; 
&gt; I have attached the conf file, if it will help, and I appreciate any time you 
&gt; guys have! 
&gt; 
&gt; Sincerely,
&gt; Tyler
&gt; 
&gt; 
&gt; The problem I am having is that I can 
&gt; 

