---
title: "questions about search"
description: ""
project: community
lastmod: 2012-02-19T22:08:43-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06647"
author_name: "Jason Toy"
project_section: "mailinglistitem"
sent_date: 2012-02-19T22:08:43-08:00
---


 I'm considering moving a fairly large data instance to riak because of the 
distributed nature and because of full integration with search. Avoiding the 
work of keeping solr and a datastore in sync sounds great.
I've gone through the wiki pages regarding search and I have a couple of 
questions.


- Are the search scores returned from the solr/search interface accessible to 
the client running the search? 

- Is the scoring system built to be modifying by developers? In our current 
system, we have a modified solr scoring system to model our needs. If I did 
want to modify it, would it coded in java or erlang?


- I have searched around and I have not seen many case studies of using riak 
search with large amounts of keys. I'm not even sure what large means for 
riak. Our total data size of indexed data is about 500 million docs and 
growing. Most docs are small, about 64kb in size, but we also have a couple 
million docs that are multi mbs.


- According to this page: 
http://wiki.basho.com/Riak-Search---Querying.html#Query-Scoring there is no 
actual idf score? How are documents actually ranked then if no idf is used? 
if docs get matched on a query on different nodes, how is the order of results 
reassembled without using know the total number of documents in a collection?



- does riak search have the ability to do a join? A feature we heavily use 
from the lucene unstable branch is the ability to do a "hash join" 
(https://issues.apache.org/jira/browse/SOLR-2272). 
Our use case is we have documents of type User who have BlogPosts. We 
want to match all the BlogPosts that mentioned "tires" and where their User's 
description mentions " taxi driver". We can't index all the User data into 
each Blog Post because we have ~400+ million blog posts and ~2+ millions of 
Users with both growing. We need the search to be in realtime so its not a 
situation where we could do background processing. Is there a way to model 
this with riak search?

- Is this a bug in riak search and has this been solved? 
http://lists.basho.com/pipermail/riak-users\\_lists.basho.com/2012-January/007114.html
 
- can indexing and indexes be used together? I see there is support for doing 
exact/range queries in search if riak already can index dates?

-finally is there a way to measure what kind of ram/hardware will be needed to 
support the indexes?


I'd love to hear how other people are using riak and search together. 



Jason\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

