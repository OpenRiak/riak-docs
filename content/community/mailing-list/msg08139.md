---
title: "Re: Accept_failed errors in console.log"
description: ""
project: community
lastmod: 2012-07-31T11:50:28-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08139"
mailinglist_parent_id: "msg08137"
author_name: "Brian Sparrow"
project_section: "mailinglistitem"
sent_date: 2012-07-31T11:50:28-07:00
---


That is a bit small especially if you have a alrge ring size or are
doing many concurrent requests. I reommend setting the value much
higher to 65536. That should elminate the emfile errors you are
seeing.

Thanks!
Brian Sparrow

On Tue, Jul 31, 2012 at 2:20 PM, Hal Eisen  wrote:
&gt;
&gt; Brian,
&gt;
&gt; ulimit -n reports 1024. What's a better value?
&gt;
&gt; Thanks,
&gt; Hal
&gt;
&gt; On Tue, Jul 31, 2012 at 11:14:08AM -0700, Hal Eisen wrote:
&gt; &gt; Thanks, Brian. I'm on CentOS 5.4.
&gt; &gt;
&gt; &gt; Hal
&gt; &gt;
&gt; &gt; On Tue, Jul 31, 2012 at 01:58:45PM -0400, Brian Sparrow wrote:
&gt; &gt; &gt; Hi Hal,
&gt; &gt; &gt;
&gt; &gt; &gt; EMFILE errors mean the systme no longer has enough file handles to service
&gt; &gt; &gt; the request. Check the file handles (ulimit -n) for the system as well as
&gt; &gt; &gt; the Riak user and increase if necessary. I can help you look for these
&gt; &gt; &gt; settings, what OS are you running?
&gt; &gt; &gt;
&gt; &gt; &gt; Thanks,
&gt; &gt; &gt; Brian Sparrow
&gt; &gt; &gt;
&gt; &gt; &gt; On Tue, Jul 31, 2012 at 1:53 PM, Hal Eisen  wrote:
&gt; &gt; &gt;
&gt; &gt; &gt; &gt; Good day, everyone.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; My protocol buffer interface is not responding to connections from the
&gt; &gt; &gt; &gt; client.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Can anyone help me to understand these errors I'm seeing in my 
&gt; &gt; &gt; &gt; console.log
&gt; &gt; &gt; &gt; file?
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; 2012-07-29 00:56:56.040 [error] &lt;0.11502.5032&gt; application: mochiweb,
&gt; &gt; &gt; &gt; "Accept failed error", "{error,emfile}
&gt; &gt; &gt; &gt; 2012-07-29 00:56:56.052 [error] &lt;0.11502.5032&gt; CRASH REPORT Process
&gt; &gt; &gt; &gt; &lt;0.11502.5032&gt; with 0 neighbours crashed with reason: 
&gt; &gt; &gt; &gt; {error,accept\\_failed}
&gt; &gt; &gt; &gt; 2012-07-29 00:56:56.055 [error] &lt;0.112.0&gt;
&gt; &gt; &gt; &gt; {mochiweb\\_socket\\_server,310,{acceptor\\_error,{error,accept\\_failed}}}
&gt; &gt; &gt; &gt; 2012-07-29 00:56:56.235 [error] &lt;0.11554.5032&gt; application: mochiweb,
&gt; &gt; &gt; &gt; "Accept failed error", "{error,emfile}
&gt; &gt; &gt; &gt; 2012-07-29 00:56:56.237 [error] &lt;0.11554.5032&gt; CRASH REPORT Process
&gt; &gt; &gt; &gt; &lt;0.11554.5032&gt; with 0 neighbours crashed with reason: 
&gt; &gt; &gt; &gt; {error,accept\\_failed}
&gt; &gt; &gt; &gt; 2012-07-29 00:56:56.241 [error] &lt;0.112.0&gt;
&gt; &gt; &gt; &gt; {mochiweb\\_socket\\_server,310,{acceptor\\_error,{error,accept\\_failed}}}
&gt; &gt; &gt; &gt; 2012-07-29 00:56:57.296 [error] &lt;0.11421.5032&gt; application: mochiweb,
&gt; &gt; &gt; &gt; "Accept failed error", "{error,emfile}
&gt; &gt; &gt; &gt; 2012-07-29 00:56:57.299 [error] &lt;0.11421.5032&gt; CRASH REPORT Process
&gt; &gt; &gt; &gt; &lt;0.11421.5032&gt; with 0 neighbours crashed with reason: 
&gt; &gt; &gt; &gt; {error,accept\\_failed}
&gt; &gt; &gt; &gt; 2012-07-29 00:56:57.302 [error] &lt;0.112.0&gt;
&gt; &gt; &gt; &gt; {mochiweb\\_socket\\_server,310,{acceptor\\_error,{error,accept\\_failed}}}
&gt; &gt; &gt; &gt; 2012-07-29 00:56:57.600 [error] &lt;0.11301.5032&gt; application: mochiweb,
&gt; &gt; &gt; &gt; "Accept failed error", "{error,emfile}
&gt; &gt; &gt; &gt; 2012-07-29 00:56:57.603 [error] &lt;0.11301.5032&gt; CRASH REPORT Process
&gt; &gt; &gt; &gt; &lt;0.11301.5032&gt; with 0 neighbours crashed with reason: 
&gt; &gt; &gt; &gt; {error,accept\\_failed}
&gt; &gt; &gt; &gt; 2012-07-29 00:56:57.607 [error] &lt;0.112.0&gt;
&gt; &gt; &gt; &gt; {mochiweb\\_socket\\_server,310,{acceptor\\_error,{error,accept\\_failed}}}
&gt; &gt; &gt; &gt; 2012-07-29 00:56:58.402 [error] &lt;0.11296.5032&gt; application: mochiweb,
&gt; &gt; &gt; &gt; "Accept failed error", "{error,emfile}
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Any suggestions for a remedy?
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Thanks,
&gt; &gt; &gt; &gt; Hal
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; &gt; &gt; riak-users mailing list
&gt; &gt; &gt; &gt; riak-users@lists.basho.com
&gt; &gt; &gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt; &gt; &gt;

