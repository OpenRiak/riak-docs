---
title: "Re: Solution for loading hook modules on riak cluster restart"
description: ""
project: community
lastmod: 2011-03-28T07:32:06-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02759"
mailinglist_parent_id: "msg02756"
author_name: "Grant Schofield"
project_section: "mailinglistitem"
sent_date: 2011-03-28T07:32:06-07:00
---


Use the add\\_paths option in the riak\\_kv section of your app.config file. This 
feature is documented here:
http://wiki.basho.com/Configuration-Files.html

Grant Schofield
Developer Advocate
Basho Technologies


On Mar 28, 2011, at 6:18 AM, Ori Bar wrote:

&gt; I have implemented several hooks for riaks which currently reside in
&gt; modules that are not in the riak path.
&gt; 
&gt; Whenever I wish to install the hooks for a specific bucket, I first
&gt; run load\\_module to make sure that the riak nodes can call the hooks.
&gt; The problem is that if one of the nodes goes down and then back up, it
&gt; will still try to call the hooks, but will not have access to the
&gt; module.
&gt; 
&gt; What is the recommended way to handle this? One idea I thought was
&gt; modifying ERL\\_LIBS such that the hooks are included in its path, is
&gt; this the right approach?
&gt; 
&gt; --
&gt; Best Regards,
&gt; 
&gt; Ori Bar, Software Engineer
&gt; Nivertech Ltd
&gt; 
&gt; email: ori....@nivertech.com
&gt; phone: +972-52-2838429
&gt; www: http://www.nivertech.com
&gt; 
&gt; The content of this message is Nivertech Ltd Confidential. If you are
&gt; not the intended recipient and have received this message in error,
&gt; any use or distribution is prohibited. Please notify me immediately by
&gt; reply e-mail and delete this message from your computer system. Thank
&gt; you.
&gt; 

