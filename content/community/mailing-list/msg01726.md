---
title: "Re: 330 Errors"
description: ""
project: community
lastmod: 2010-12-05T18:26:44-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01726"
mailinglist_parent_id: "msg01725"
author_name: "Jeremiah Peschka"
project_section: "mailinglistitem"
sent_date: 2010-12-05T18:26:44-08:00
---


Just a quick update - this works beautifully in 0.13.0, so I'm even more
confused than ever before. I realize, too, that you'd probably like to see
the output of riak-admin status:

1-minute stats for 'd...@127.0.0.1'
-------------------------------------------
vnode gets : 0
vnode\\_puts : 0
read\\_repairs : 0
vnode\\_gets\\_total : 0
vnode\\_puts\\_total : 0
node\\_gets : 0
node\\_gets\\_total : 0
node\\_get\\_fsm\\_time\\_mean : undefined
node\\_get\\_fsm\\_time\\_median : undefined
node\\_get\\_fsm\\_time\\_95 : undefined
node\\_get\\_fsm\\_time\\_99 : undefined
node\\_get\\_fsm\\_time\\_100 : undefined
node\\_puts : 0
node\\_puts\\_total : 0
node\\_put\\_fsm\\_time\\_mean : undefined
node\\_put\\_fsm\\_time\\_median : undefined
node\\_put\\_fsm\\_time\\_95 : undefined
node\\_put\\_fsm\\_time\\_99 : undefined
node\\_put\\_fsm\\_time\\_100 : undefined
read\\_repairs\\_total : 0
cpu\\_nprocs : 116
cpu\\_avg1 : 108
cpu\\_avg5 : 95
cpu\\_avg15 : 90
mem\\_total : 6809560000
mem\\_allocated : 4084760000
disk : [{"/",249723184,35},
 {"/Volumes/InternalStorage",379584512,64},
 {"/Volumes/XStorage",488050672,61}]
nodename : 'd...@127.0.0.1'
connected\\_nodes : []
sys\\_driver\\_version : &lt;&lt;"1.5"&gt;&gt;
sys\\_global\\_heaps\\_size : 0
sys\\_heap\\_type : private
sys\\_logical\\_processors : 4
sys\\_otp\\_release : &lt;&lt;"R14B"&gt;&gt;
sys\\_process\\_count : 169
sys\\_smp\\_support : true
sys\\_system\\_version : &lt;&lt;"Erlang R14B (erts-5.8.1) [source] [64-bit] [smp:4:4]
[rq:4] [async-threads:64] [hipe] [kernel-poll:true]"&gt;&gt;
sys\\_system\\_architecture : &lt;&lt;"i386-apple-darwin10.5.0"&gt;&gt;
sys\\_threads\\_enabled : true
sys\\_thread\\_pool\\_size : 64
sys\\_wordsize : 8
ring\\_members : ['d...@127.0.0.1','d...@127.0.0.1','d...@127.0.0.1']
ring\\_num\\_partitions : 64
ring\\_ownership : &lt;&lt;"[{'d...@127.0.0.1',21},{'d...@127.0.0.1',21},{'
d...@127.0.0.1',22}]"&gt;&gt;
ring\\_creation\\_size : 64
storage\\_backend : riak\\_kv\\_bitcask\\_backend
pbc\\_connects\\_total : 0
pbc\\_connects : 0
pbc\\_active : 0
riak\\_err\\_version : &lt;&lt;"0.1.0"&gt;&gt;
runtime\\_tools\\_version : &lt;&lt;"1.8.4.1"&gt;&gt;
luwak\\_version : &lt;&lt;"1.0"&gt;&gt;
skerl\\_version : &lt;&lt;"0.1"&gt;&gt;
riak\\_kv\\_version : &lt;&lt;"0.13.0"&gt;&gt;
bitcask\\_version : &lt;&lt;"1.1.4"&gt;&gt;
riak\\_core\\_version : &lt;&lt;"0.13.0"&gt;&gt;
luke\\_version : &lt;&lt;"0.2.2"&gt;&gt;
erlang\\_js\\_version : &lt;&lt;"0.4.1"&gt;&gt;
mochiweb\\_version : &lt;&lt;"1.7.1"&gt;&gt;
webmachine\\_version : &lt;&lt;"1.7.3"&gt;&gt;
crypto\\_version : &lt;&lt;"2.0.1"&gt;&gt;
os\\_mon\\_version : &lt;&lt;"2.2.5"&gt;&gt;
sasl\\_version : &lt;&lt;"2.1.9.2"&gt;&gt;
stdlib\\_version : &lt;&lt;"1.17.1"&gt;&gt;
kernel\\_version : &lt;&lt;"2.14.1"&gt;&gt;
executing\\_mappers : 0

Jeremiah Peschka
Microsoft SQL Server MVP
MCITP: Database Developer, DBA


On Sun, Dec 5, 2010 at 9:09 PM, Jeremiah Peschka  wrote:

&gt; I recently switched from 0.12 to the latest and greatest from github and
&gt; I'm running into an HTTP 330 error when I attempt to read from a bucket. I
&gt; uploaded this picture  using `curl -X PUT
&gt; HTTP://127.0.0.1:8091/riak/images/1.jpg -H "Content-type: image/jpeg"
&gt; --data-binary @nixon.jpg`
&gt;
&gt; when I go to view the image, I get "Error 330
&gt; (net::ERR\\_CONTENT\\_DECODING\\_FAILED): Unknown error."
&gt;
&gt; When I use `riak attach` to take a look at what's going on, I can see that
&gt; the image is in there:
&gt;
&gt; (d...@127.0.0.1)5&gt; C:get(&lt;&lt;"images"&gt;&gt;, &lt;&lt;"1.jpg"&gt;&gt;, 1).
&gt; {ok,{r\\_object,&lt;&lt;"images"&gt;&gt;,&lt;&lt;"1.jpg"&gt;&gt;,
&gt; [{r\\_content,{dict,5,16,16,8,80,48,
&gt; {[],[],[],[],[],[],[],[],[],[],[],[],...},
&gt; {{[],[],
&gt; [[&lt;&lt;"Links"&gt;&gt;]],
&gt; [],[],
&gt; [[&lt;&lt;"X-Riak-T"...&gt;&gt;,49,75|...]],
&gt; [],[],[],[],...}}},
&gt;
&gt; &lt;&lt;255,216,255,224,0,16,74,70,73,70,0,1,2,1,0,72,0,
&gt; 72,0,...&gt;&gt;}],
&gt; [{&lt;&lt;5,249,52,160&gt;&gt;,{1,63458817684}},
&gt; {&lt;&lt;131,98,5,150,94,114&gt;&gt;,{1,63458818215}},
&gt; {&lt;&lt;5,248,163,2&gt;&gt;,{1,63458818215}},
&gt; {&lt;&lt;4,211,21,247&gt;&gt;,{1,63458818516}},
&gt; {&lt;&lt;131,98,7,237,200,144&gt;&gt;,{1,63458818532}},
&gt; {&lt;&lt;131,98,4,225,148,161&gt;&gt;,{1,63458818532}},
&gt; {&lt;&lt;131,98,0,18,233,187&gt;&gt;,{1,63458818532}},
&gt; {&lt;&lt;5,113,110,142&gt;&gt;,{1,63458819383}},
&gt; {&lt;&lt;131,98,5,43,155,126&gt;&gt;,{1,63458819383}}],
&gt; {dict,1,16,16,8,80,48,
&gt; {[],[],[],[],[],[],[],[],[],[],[],[],[],...},
&gt; {{[],[],[],[],[],[],[],[],[],[],[],...}}},
&gt; undefined}}
&gt;
&gt;
&gt; However, I end up with this error streaming across the console:
&gt;
&gt; =ERROR REPORT==== 5-Dec-2010::21:04:25 ===
&gt; webmachine error: path="/riak/images/1.jpg"
&gt; [{webmachine\\_util,escape\\_quotes,
&gt; [{error,
&gt; {error,badarg,
&gt; [{dict,fetch,
&gt; [&lt;&lt;"X-Riak-VTag"&gt;&gt;,
&gt; {dict,5,16,16,8,80,48,
&gt; {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
&gt; {{[],[],
&gt; [[&lt;&lt;"Links"&gt;&gt;]],
&gt; [],[],
&gt;
&gt; [[&lt;&lt;"X-Riak-Tag"&gt;&gt;,49,75,109,90,107,122,79,79,120,
&gt; 86,102,56,75,110,53,68,80,82,68,70,101,49]],
&gt; [],[],[],[],
&gt;
&gt; [[&lt;&lt;"content-type"&gt;&gt;,105,109,97,103,101,47,106,112,
&gt; 101,103]],
&gt; [],[],
&gt;
&gt; [[&lt;&lt;"X-Riak-Last-Modified"&gt;&gt;|{1291,600183,525348}]],
&gt; [],
&gt; [[&lt;&lt;"X-Riak-Meta"&gt;&gt;]]}}}]},
&gt; {riak\\_kv\\_wm\\_raw,generate\\_etag,2},
&gt; {webmachine\\_resource,resource\\_call,3},
&gt; {webmachine\\_resource,do,3},
&gt; {webmachine\\_decision\\_core,resource\\_call,1},
&gt; {webmachine\\_decision\\_core,decision,1},
&gt; {webmachine\\_decision\\_core,handle\\_request,2},
&gt; {webmachine\\_mochiweb,loop,1}]}},
&gt; "\\""]},
&gt; {webmachine\\_decision\\_core,decision,1},
&gt; {webmachine\\_decision\\_core,handle\\_request,2},
&gt; {webmachine\\_mochiweb,loop,1},
&gt; {mochiweb\\_http,headers,5},
&gt; {proc\\_lib,init\\_p\\_do\\_apply,3}]
&gt;
&gt;
&gt;
&gt;
&gt; Jeremiah Peschka
&gt; Microsoft SQL Server MVP
&gt; MCITP: Database Developer, DBA
&gt;
