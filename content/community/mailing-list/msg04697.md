---
title: "Re: Python Riak Search Returning 'NoneType' object"
description: ""
project: community
lastmod: 2011-09-14T06:30:01-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04697"
mailinglist_parent_id: "msg04682"
author_name: "Mathias Meyer"
project_section: "mailinglistitem"
sent_date: 2011-09-14T06:30:01-07:00
---


Is it possible at all you indexed the documents using the Solr interface, and 
you're now trying to use them in a MapReduce query? If so, that won't work, 
because the get() call expects the objects with their respective bucket and key 
to exist in Riak KV, which means you'd have to index via a pre-commit hook and 
storing data in Riak directly.

Cheers, Mathias


On Dienstag, 13. September 2011 at 17:20, idmartin wrote:

&gt; matt, 
&gt; 
&gt; I am using client.search() would the other method be better?
&gt; 
&gt; Here is a snippet of the code.
&gt; 
&gt; def search( self, bu, query ): 
&gt; 
&gt; if not self.bucket[bu].search\\_enabled():
&gt; self.bucket[bu].enable\\_search()
&gt; 
&gt; query = self.client.search(bu , query).run()
&gt; 
&gt; data = '' 
&gt; 
&gt; for r in query:
&gt; 
&gt; s = r.get().get\\_data()
&gt; 
&gt; data += s['post']
&gt; 
&gt; return data
&gt; 
&gt; It fails when trying to append data with a "nonetype" object, ive tried it
&gt; serveral other ways in the code itself, i always get the same result. 
&gt; 
&gt; last night i boiled it down to get() returing a riakobject but get\\_data() is
&gt; returning None.
&gt; 
&gt; init() on the riakobject sets self.\\_data = None. alls get\\_data() does is
&gt; return self.\\_data. Somewhere along the line i assume the RiakObject is
&gt; supposed to populate the data but it doesnt seem to be happening.
&gt; 
&gt; --
&gt; View this message in context: 
&gt; http://riak-users.197444.n3.nabble.com/Python-Riak-Search-Returning-NoneType-object-tp3317538p3332906.html
&gt; Sent from the Riak Users mailing list archive at Nabble.com 
&gt; (http://Nabble.com).
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

