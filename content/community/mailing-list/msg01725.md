---
title: "330 Errors"
description: ""
project: community
lastmod: 2010-12-05T18:10:00-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01725"
author_name: "Jeremiah Peschka"
project_section: "mailinglistitem"
sent_date: 2010-12-05T18:10:00-08:00
---


I recently switched from 0.12 to the latest and greatest from github and I'm
running into an HTTP 330 error when I attempt to read from a bucket. I
uploaded this picture  using `curl -X PUT
HTTP://127.0.0.1:8091/riak/images/1.jpg -H "Content-type: image/jpeg"
--data-binary @nixon.jpg`

when I go to view the image, I get "Error 330
(net::ERR\\_CONTENT\\_DECODING\\_FAILED): Unknown error."

When I use `riak attach` to take a look at what's going on, I can see that
the image is in there:

(d...@127.0.0.1)5&gt; C:get(&lt;&lt;"images"&gt;&gt;, &lt;&lt;"1.jpg"&gt;&gt;, 1).
{ok,{r\\_object,&lt;&lt;"images"&gt;&gt;,&lt;&lt;"1.jpg"&gt;&gt;,
 [{r\\_content,{dict,5,16,16,8,80,48,
 {[],[],[],[],[],[],[],[],[],[],[],[],...},
 {{[],[],
 [[&lt;&lt;"Links"&gt;&gt;]],
 [],[],
 [[&lt;&lt;"X-Riak-T"...&gt;&gt;,49,75|...]],
 [],[],[],[],...}}},
 &lt;&lt;255,216,255,224,0,16,74,70,73,70,0,1,2,1,0,72,0,
 72,0,...&gt;&gt;}],
 [{&lt;&lt;5,249,52,160&gt;&gt;,{1,63458817684}},
 {&lt;&lt;131,98,5,150,94,114&gt;&gt;,{1,63458818215}},
 {&lt;&lt;5,248,163,2&gt;&gt;,{1,63458818215}},
 {&lt;&lt;4,211,21,247&gt;&gt;,{1,63458818516}},
 {&lt;&lt;131,98,7,237,200,144&gt;&gt;,{1,63458818532}},
 {&lt;&lt;131,98,4,225,148,161&gt;&gt;,{1,63458818532}},
 {&lt;&lt;131,98,0,18,233,187&gt;&gt;,{1,63458818532}},
 {&lt;&lt;5,113,110,142&gt;&gt;,{1,63458819383}},
 {&lt;&lt;131,98,5,43,155,126&gt;&gt;,{1,63458819383}}],
 {dict,1,16,16,8,80,48,
 {[],[],[],[],[],[],[],[],[],[],[],[],[],...},
 {{[],[],[],[],[],[],[],[],[],[],[],...}}},
 undefined}}


However, I end up with this error streaming across the console:

=ERROR REPORT==== 5-Dec-2010::21:04:25 ===
webmachine error: path="/riak/images/1.jpg"
[{webmachine\\_util,escape\\_quotes,
 [{error,
 {error,badarg,
 [{dict,fetch,
 [&lt;&lt;"X-Riak-VTag"&gt;&gt;,
 {dict,5,16,16,8,80,48,
 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
 {{[],[],
 [[&lt;&lt;"Links"&gt;&gt;]],
 [],[],
 [[&lt;&lt;"X-Riak-Tag"&gt;&gt;,49,75,109,90,107,122,79,79,120,
 86,102,56,75,110,53,68,80,82,68,70,101,49]],
 [],[],[],[],

 [[&lt;&lt;"content-type"&gt;&gt;,105,109,97,103,101,47,106,112,
 101,103]],
 [],[],

 [[&lt;&lt;"X-Riak-Last-Modified"&gt;&gt;|{1291,600183,525348}]],
 [],
 [[&lt;&lt;"X-Riak-Meta"&gt;&gt;]]}}}]},
 {riak\\_kv\\_wm\\_raw,generate\\_etag,2},
 {webmachine\\_resource,resource\\_call,3},
 {webmachine\\_resource,do,3},
 {webmachine\\_decision\\_core,resource\\_call,1},
 {webmachine\\_decision\\_core,decision,1},
 {webmachine\\_decision\\_core,handle\\_request,2},
 {webmachine\\_mochiweb,loop,1}]}},
 "\\""]},
 {webmachine\\_decision\\_core,decision,1},
 {webmachine\\_decision\\_core,handle\\_request,2},
 {webmachine\\_mochiweb,loop,1},
 {mochiweb\\_http,headers,5},
 {proc\\_lib,init\\_p\\_do\\_apply,3}]


Jeremiah Peschka
Microsoft SQL Server MVP
MCITP: Database Developer, DBA
