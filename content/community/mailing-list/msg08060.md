---
title: "Re: Updating an index value using Java API"
description: ""
project: community
lastmod: 2012-07-25T09:01:29-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08060"
mailinglist_parent_id: "msg07983"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2012-07-25T09:01:29-07:00
---


Kaspar,

I don't know the details of the Java API but re-writing the object should
suffice. Riak will remove the old indexes for you and create the new ones.

-Z

On Wed, Jul 18, 2012 at 5:00 AM, Kaspar Thommen wrote:

&gt; Hi,
&gt;
&gt; Say I have a 'users' bucket that stores user data (name, email) and I also
&gt; have secondary index to access users by e-mail, how do I update the index
&gt; in case a user's e-mail address changes?
&gt;
&gt; The only approach I found so far was to completely delete the user object,
&gt; which implies a deletion of the index entry, and then recreate the update
&gt; object and add the new e-mail to the index. Is this the only way?
&gt;
&gt; Thanks,
&gt; Kaspar
&gt;

