---
title: "Re: Riak pb client build problem from tip"
description: ""
project: community
lastmod: 2011-04-06T15:17:40-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02907"
mailinglist_parent_id: "msg02906"
author_name: "Mike Oxford"
project_section: "mailinglistitem"
sent_date: 2011-04-06T15:17:40-07:00
---


Okay, I figured it out.

I am running riakc as a dep of my application, which is based on riak\\_core.

This causes the problem of 0.5.1 vs 0.6

Doing a "make" in the riakc directory does work.

It looks like my riak\\_core is specifying 0.5.1, pulling it, and then when
riakc comes along it wants 0.6 but has already pulled 0.5.1 and tries to use
that...and fails.

So I'm going to set my riak\\_core deps line to use 0.6 and make sure I don't
repull it before it's updated in the repo. :)

And...it works!

Thanks!

-mox


On Wed, Apr 6, 2011 at 2:19 PM, Andrew Thompson  wrote:

&gt; On Wed, Apr 06, 2011 at 01:50:24PM -0700, Mike Oxford wrote:
&gt; &gt; Riak's Erlang pb client rebar.config was updated to use protobuffs 0.6
&gt; but
&gt; &gt; the protobuffs repo itself still only has 0.5.1
&gt; &gt;
&gt; &gt; {expected,"0.6.\\*"},
&gt; &gt; {has,"0.5.1"}}}.
&gt; &gt;
&gt; &gt; Just a heads-up for whomever is coordinating those internally. :)
&gt; &gt;
&gt;
&gt; I just double-checked with a fresh checkout and it worked. Try deleting
&gt; your deps directory and runing make again. Rebar isn't great at updating
&gt; dependancies it seems.
&gt;
&gt; Andrew
&gt;
