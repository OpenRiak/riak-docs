---
title: "multi_backend, multiple storage devices, LevelDB and its cache_size"
description: ""
project: community
lastmod: 2012-08-10T03:14:03-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08257"
author_name: "David Sky"
project_section: "mailinglistitem"
sent_date: 2012-08-10T03:14:03-07:00
---


Hello,

My setup is a 128 partitions running on 4 identical, commodity
servers, each with 30GB of RAM and 4 HDD allocated for Riak.

According to this page http://wiki.basho.com/LevelDB.html to calculate
"cache\\_size" for my setup, I should do: ((26GB / 2) \\* (1024 ^ 3)) /
(128 / 4) = 416MB

I guess that this value is calculated for a single backend... What
should I do if I have 4 eLevelDB backends (one per HDD)? -- set
"cache\\_size" to 416MB / 4? or should I try and predict my busiest
backends and give those more RAM? or is there a way to tell LevelDB
how much RAM it can use in total, and from there LevelDB would
automatically allocate RAM where it is needed the most?


Thanks!

David.

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

