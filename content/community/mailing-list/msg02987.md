---
title: "Re: Python feature suggestion - load (binary) content from file"
description: ""
project: community
lastmod: 2011-04-12T14:21:34-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02987"
mailinglist_parent_id: "msg02982"
author_name: "Ana Nelson"
project_section: "mailinglistitem"
sent_date: 2011-04-12T14:21:34-07:00
---


Hi,

If Eric or someone has time to do this, that would be great. Otherwise I'll
try to put a pull request together this weekend.

-Ana


On Tue, Apr 12, 2011 at 4:10 PM, Eric Moritz wrote:

&gt; If you don't have this integrated into the Riak Python client, I'll be
&gt; happy to do that for you.
&gt;
&gt; Thanks,
&gt; Eric Moritz.
&gt;
&gt; On Sun, Apr 10, 2011 at 10:49 AM, Ana Nelson  wrote:
&gt; &gt; I've just implemented this in a project:
&gt; &gt;
&gt; &gt; binary\\_data = open(self.filename(), "rb").read()
&gt; &gt; mimetype, encoding = mimetypes.guess\\_type(self.filename())
&gt; &gt; if not mimetype:
&gt; &gt;
&gt; &gt; mimetype = 'application/octet-stream' # Riak's own
&gt; default
&gt; &gt; self.riak\\_object = self.bucket.new\\_binary(
&gt; &gt; self.hashstring,
&gt; &gt; binary\\_data,
&gt; &gt; mimetype
&gt; &gt;
&gt; &gt; )
&gt; &gt;
&gt; &gt; which writes binary data to a Riak bucket from a file, using Python's
&gt; &gt; mimetypes library to determine the content type from the file's
&gt; extension.
&gt; &gt;
&gt; &gt; I think it could be convenient to have this be included in the Riak
&gt; Python
&gt; &gt; client, so perhaps it can implement better buffering. Something like
&gt; &gt; bucket.new\\_binary\\_from\\_file(key, filename)
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
