---
title: "Re: basho_bench results"
description: ""
project: community
lastmod: 2010-06-23T01:40:56-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00636"
mailinglist_parent_id: "msg00635"
author_name: "Germain Maurice"
project_section: "mailinglistitem"
sent_date: 2010-06-23T01:40:56-07:00
---

Hi Sean,

Thank you for your answer, i'm relieved by reading your first impression.
I tried to use the null driver as you advised, but {driver, null} and 
{driver, basho\\_bench\\_driver\\_null} didn't work.


INFO: Est. data size: 37.25 GB
INFO: Starting max worker: &lt;0.64.0&gt;
INFO: Starting max worker: &lt;0.62.0&gt;
INFO: Starting max worker: &lt;0.60.0&gt;
INFO: Starting max worker: &lt;0.58.0&gt;
DEBUG:Driver basho\\_bench\\_driver\\_null crashed: {function\\_clause,

[{basho\\_bench\\_driver\\_null,run,

 [update,

#Fun,

#Fun,

 51974]},
 {basho\\_bench\\_worker,
 worker\\_next\\_op,1},
 {basho\\_bench\\_worker,
 max\\_worker\\_run\\_loop,1}]}
INFO: Starting max worker: &lt;0.56.0&gt;
DEBUG:Driver basho\\_bench\\_driver\\_null crashed: {function\\_clause,

[{basho\\_bench\\_driver\\_null,run,

 [update,

#Fun,

#Fun,

 98189]},
 {basho\\_bench\\_worker,
 worker\\_next\\_op,1},
 {basho\\_bench\\_worker,
 max\\_worker\\_run\\_loop,1}]}
....

Any explanation ?

Thanks

Le 22/06/10 23:53, Sean Cribbs a écrit :

Germain,

Sorry for not getting back to you sooner. Your graphs are slightly 
disconcerting to me for a few reasons.


1) The throughput graphs have consistent upward trends, which says to 
me that something - cache, buffer pools, whatever - aren't "warmed up" 
until the end of the test. There might also be something external to 
the test going on.


2) You have a lot of concurrent workers. 5 should be more than enough 
to saturate your cluster when there's no throttling ({mode,max}). Be 
sure your client machine is not the limiting factor here (and that 
you're not running basho\\_bench on the same machine as a node).


3) Your payload size is really large (fixed size of 400K). If this is 
representative of your application's workload, that's fine. But you 
might try running the test with the "null" driver, which will detect 
how well the key and value generators perform in combination (doesn't 
actually hit Riak). It should give you an idea of how costly the 
generation is, and thus what the upper limits of throughput are.


Sean Cribbs &gt;
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On Jun 22, 2010, at 4:38 PM, Germain Maurice wrote:


No one ?

Le 18/06/2010 18:47, Germain Maurice a écrit :

Hi all,

We led some tests with basho\\_bench and we got some results here :
http://erralt.wordpress.com/2010/06/18/benching-riak-with-basho\\_bench/

I put inside the pictures the content of each configuration file we 
used to launch the benchmarks (easier to compare).
When looking at the last benchmark and after 3000 seconds elapsed, 
can we considered that more than 2500 operations are done in one 
second ? On each second can we expect to get the same quantity of 
read and write requests throughout the benchmark ?


Regards,
Germain
--
Germain Maurice
Administrateur Système/Réseau
Tel : +33.(0)1.42.43.54.33

http://www.linkfluence.net


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com 
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

--
Germain Maurice
Administrateur Système/Réseau
Tel : +33.(0)1.42.43.54.33

http://www.linkfluence.net

