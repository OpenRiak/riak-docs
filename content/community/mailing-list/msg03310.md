---
title: "Re: alphanumeric sort"
description: ""
project: community
lastmod: 2011-05-11T12:59:32-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03310"
mailinglist_parent_id: "msg03309"
author_name: "Eric Moritz"
project_section: "mailinglistitem"
sent_date: 2011-05-11T12:59:32-07:00
---


Your compare function will need to return a -1, 0 or 1 for less than,
the same or greater than. Luckily javascript allows you
to strings lexicographically so the function is a nice two liner:

function(a, b) {
 if(a == b) return 0;
 return a &gt; b ? 1 : -1;
}

Application:

var reduceSort = function (v, args) {
 return v.sort (function(a, b) {
 if(a['key'] == b['key']) return 0;
 return a['key'] &gt; b['key'] ? 1 : -1;
 });
};

Eric.

On Wed, May 11, 2011 at 3:54 PM, Claus Guttesen  wrote:
&gt; Hi.
&gt;
&gt; I have a function that performs a numeric sort (ascending) as
&gt; described at http://siculars.posterous.com/using-riaks-mapreduce-for-sorting.
&gt; But how to perform an alphanumeric sort?
&gt;
&gt; I'm using the code found in the link above:
&gt;
&gt; var reduceSort = function (v, args) {
&gt;  return v.sort (function(a, b) { return a['key'] - b['key'] });
&gt; };
&gt;
&gt; I'm writing a small app using express, riakjs and riak to keep track
&gt; of crosscountry-races for kids, and would like to sort by name like:
&gt;
&gt; var reduceSort = function (v, args) {
&gt;  return v.sort (function(a, b) { return a['fname'] - b['fname'] });
&gt; };
&gt;
&gt; Hopefully I'm not asking dumb questions. :-)
&gt;
&gt; --
&gt; regards
&gt; Claus
&gt;
&gt; When lenity and cruelty play for a kingdom,
&gt; the gentler gamester is the soonest winner.
&gt;
&gt; Shakespeare
&gt;
&gt; twitter.com/kometen
&gt;
