---
title: "Re: couchdb performace 10x: using NIF for file io"
description: ""
project: community
lastmod: 2010-10-24T14:56:30-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01359"
mailinglist_parent_id: "msg01357"
author_name: "Kirill A. Korinskiy"
project_section: "mailinglistitem"
sent_date: 2010-10-24T14:56:30-07:00
---


Hi!

Cool story but you messages take a broken links :(

On Mon, Oct 25, 2010 at 01:05, NevB  wrote:

&gt; Hi,
&gt;
&gt; I came across this thread in the Erlang group and thought the Riak
&gt; team might find it interesting.
&gt;
&gt; Please forgive me if its not relevant to Riak
&gt;
&gt; Kind Regards
&gt;
&gt; Neville
&gt;
&gt;
&gt; ---------- Forwarded message ----------
&gt; From: Joel Reymont 
&gt; Date: Oct 25, 12:56 am
&gt; Subject: couchdb performace 10x: using NIF for file io
&gt; To: Erlang Programming
&gt;
&gt;
&gt; Simply switching to NIFs for file IO seems to have improved CouchDB
&gt; write performance more than ten-fold.
&gt;
&gt; Compare the old graph
&gt;
&gt; http://graphs.mikeal.couchone.com/#/graph/62b286fbb7aa55a4b0c4cc913c0...
&gt;
&gt; to the new graph
&gt;
&gt; http://graphs.mikeal.couchone.com/#/graph/62b286fbb7aa55a4b0c4cc913c0...
&gt;
&gt; I was under the impression that the Erlang IO subsystem was highly
&gt; optimized but there seems to be no limit to perfection.
&gt;
&gt; NIFs are a giant black hole that will subsume Erlang code as
&gt; performance has to be improved. Start at the lowest level and keep
&gt; moving up. All that will be left of Erlang in the end is 99.99999%
&gt; uptime, fault tolerance and supervision... of optimized C code. It's
&gt; swell and I'm all for it!
&gt;
&gt; Patch is here:
&gt;
&gt; http://github.com/wagerlabs/couchdb/commit/23527eb8165f81e63d47b230f3...
&gt;
&gt; ---http://twitter.com/wagerlabs
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; erlang-questions (at) erlang.org mailing list.
&gt; Seehttp://www.erlang.org/faq.html
&gt; To unsubscribe; mailto:erlang-questions-unsubscr...@erlang.org
&gt;


-- 
wbr, Kirill
