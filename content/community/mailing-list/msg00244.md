---
title: "Re: Setting read quorum for map reduce jobs"
description: ""
project: community
lastmod: 2010-05-04T08:21:08-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00244"
mailinglist_parent_id: "msg00243"
author_name: "Johnathan Loggie"
project_section: "mailinglistitem"
sent_date: 2010-05-04T08:21:08-07:00
---


Hi,

OK Thanks, I thought as much. Its was more of an academic question really.

Johnno


On 04/05/2010 15:27, "Sean Cribbs"  wrote:

&gt; The read quorum doesn't apply to map-reduce - the value from the first vnode
&gt; in the preflist will be tried, followed by the others if it is not available.
&gt; If an input is completely unavailable (as may be the case with 1/2 of the
&gt; nodes down), the job will fail. 2 nodes is a bit of degenerate case anyway -
&gt; especially if you use the default N value of 3. When the size of the cluster
&gt; smaller than N, there's a chance that some data could become unavailable when
&gt; a node goes down.
&gt; 
&gt; Sean Cribbs 
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; http://basho.com/
&gt; 
&gt; On May 4, 2010, at 10:13 AM, Johnathan Loggie wrote:
&gt; 
&gt;&gt; Hi,
&gt;&gt; 
&gt;&gt; I¹m struggling to find how to set the the read quorum for a map reduce job
&gt;&gt; via the REST api.
&gt;&gt; 
&gt;&gt; The documentation doesn¹t mention that this is even possible.
&gt;&gt; I¹m using ripple, and tried forcing r=1 onto the end of the query string (e.g
&gt;&gt; with @client = Riak::Client.new(:mapred = /mapred?r=1¹)) to see if this
&gt;&gt; resource worked like the others, but had no luck.
&gt;&gt; 
&gt;&gt; I have 2 riak nodes and have deliberately stopped one as if it were down or
&gt;&gt; disconnected.
&gt;&gt; In this state my map reduce jobs fail to run on the node that is up and
&gt;&gt; running.
&gt;&gt; 
&gt;&gt; Can anybody help?
&gt;&gt; Have I completely got the wrong end of the stick on this one?
&gt;&gt; 
&gt;&gt; Johnno 
&gt; 
&gt; 

