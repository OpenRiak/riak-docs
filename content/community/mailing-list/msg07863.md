---
title: "Re: Pass json as argument to mapreduce"
description: ""
project: community
lastmod: 2012-07-04T01:41:16-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07863"
mailinglist_parent_id: "msg07862"
author_name: "Mathias Meyer"
project_section: "mailinglistitem"
sent_date: 2012-07-04T01:41:16-07:00
---


Venki,

You don't have to serialize the argument as a JSON string, it can simply be 
specified as a normal JSON data structure, just like the other data in the 
MapReduce request:

curl -v -d '{"inputs":[["artists", "Beatles"]], 
"query":[{"map":{"language":"javascript","source":"function(v, k, a) {return 
[a];}","arg":{"paul": true}}}]}' -H "Content-Type: application/json" 
http://127.0.0.1:8098/mapred

Cheers, Mathias
http://riakhandbook.com

On Wednesday, 4. July 2012 at 07:26, Venki Yedidha wrote:

&gt; Hi all,
&gt; I don't know why, I can't pass a json argument to map function.
&gt; 
&gt; 
&gt; "inputs":"[b1,k1],[b2,k2],[b3,k3]"
&gt; "query":[{map":{"language":"javascript","source":"function(value,keydata,args){}"
&gt; 
&gt; for the args parameter I need to pass json of the form:
&gt; {\\"name\\":\\"venkatesh\\",\\"age\\":24}
&gt; (escaped " for json)
&gt; but it showing missing variable name..
&gt; On the other, If I am passing an array, it is not showing the error...
&gt; Please help me on the above.
&gt; 
&gt; Thanks,
&gt; Venkatesh
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
