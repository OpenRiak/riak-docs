---
title: "Re: Issue in make all"
description: ""
project: community
lastmod: 2012-01-09T09:35:50-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06186"
mailinglist_parent_id: "msg06185"
author_name: "Jared Morrow"
project_section: "mailinglistitem"
sent_date: 2012-01-09T09:35:50-08:00
---


If you are doing this from the source tarball, try blowing away the untar'd 
directory and start from scratch. Something must be hanging around your build 
directories if you no longer have r15B on your system.

-Jared


On Jan 9, 2012, at 10:28 AM, suresh chandran wrote:

&gt; The issue still prevails. After the make clean when i do a make all or make 
&gt; devrel, it still says the version mismatch and quits. Altering the 
&gt; rebar.config doesnt help either.
&gt; 
&gt; Thanks
&gt; Suresh Chandran
&gt; 
&gt; From: suresh chandran 
&gt; To: Jared Morrow  
&gt; Cc: "riak-users@lists.basho.com"  
&gt; Sent: Monday, January 9, 2012 12:23 PM
&gt; Subject: Re: Issue in make all
&gt; 
&gt; Thanks Jared.
&gt; 
&gt; i ran the make clean command as you said, and it did work. but then it didnt 
&gt; create the dev directory. I am only familiar with the instructions on how to 
&gt; run a three node cluster ( dev1, 2 and 3) riak . I tried doing made devrel 
&gt; and I get this error below.
&gt; 
&gt; I already set a three node cluster on my desktop, where i have configured and 
&gt; was working. Now since I moved to the laptop I am unable to start the Riak 
&gt; and there by do any changes for my project. Even if someone directs me on how 
&gt; to set a riak up and fine, it would be good. The only instruction seems to be 
&gt; to make it from the source which is not working in my case.
&gt; 
&gt; Thanks
&gt; Suresh Chandran
&gt; 
&gt; (cd rel && ../rebar generate target\\_dir=../dev/dev1 
&gt; overlay\\_vars=vars/dev1\\_vars.config)
&gt; ==&gt; rel (generate)
&gt; {"init terminating in do\\_boot","Illegal library 
&gt; /Users/sureshcnair/official/riaksrc/riak-1.0.2/rel/../deps/riak\\_search/apps: 
&gt; no such file or directory"}
&gt; 
&gt; Crash dump was written to: erl\\_crash.dump
&gt; init terminating in do\\_boot (Illegal library 
&gt; /Users/sureshcnair/official/riaksrc/riak-1.0.2/rel/../deps/riak\\_search/apps: 
&gt; no such file or directory)
&gt; make: \\*\\*\\* [dev1] Error 1
&gt; 
&gt; 
&gt; From: Jared Morrow 
&gt; To: suresh chandran  
&gt; Cc: riak-users@lists.basho.com 
&gt; Sent: Monday, January 9, 2012 12:00 PM
&gt; Subject: Re: Issue in make all
&gt; 
&gt; Try cleaning out the directory with a 
&gt; 'make clean distclean pkgclean'
&gt; 
&gt; The regex to set the supported erlang version is in the rebar.config file if 
&gt; you do want to change that.
&gt; 
&gt; And build again.
&gt; 
&gt; -Jared
&gt; 
&gt; On Jan 9, 2012, at 9:51 AM, suresh chandran wrote:
&gt; 
&gt;&gt; Also, I uninstalled the older Erlang and installed, 14B03 sing the below set 
&gt;&gt; of commands.
&gt;&gt; 
&gt;&gt; curl -O https://raw.github.com/spawngrid/kerl/master/kerl; chmod a+x kerl
&gt;&gt; 
&gt;&gt; ./kerl build R14B03 r14b03
&gt;&gt; ./kerl install r14b03 /opt/erlang/r14b03
&gt;&gt; 
&gt;&gt; . /opt/erlang/r14b03/activate
&gt;&gt; 
&gt;&gt; to resolve this version issue. I am not sure why it says the curent ERLANG 
&gt;&gt; version is 15B.
&gt;&gt; 
&gt;&gt; Thanks
&gt;&gt; Suresh Chandran
&gt;&gt; From: suresh chandran 
&gt;&gt; To: Sean Cribbs  
&gt;&gt; Cc: "riak-users@lists.basho.com"  
&gt;&gt; Sent: Monday, January 9, 2012 11:47 AM
&gt;&gt; Subject: Re: Issue in make all
&gt;&gt; 
&gt;&gt; Thanks Sean
&gt;&gt; 
&gt;&gt; I tried it. But it still reports the same issue. On other hand, is it 
&gt;&gt; picking the regex from somewhere else, cos' i dont see the regex to match 
&gt;&gt; r13b04 which it says is supported.
&gt;&gt; 
&gt;&gt; Thanks
&gt;&gt; Suresh Chandran
&gt;&gt; 
&gt;&gt; From: Sean Cribbs 
&gt;&gt; To: suresh chandran  
&gt;&gt; Cc: "riak-users@lists.basho.com"  
&gt;&gt; Sent: Monday, January 9, 2012 10:09 AM
&gt;&gt; Subject: Re: Issue in make all
&gt;&gt; 
&gt;&gt; Suresh,
&gt;&gt; 
&gt;&gt; We do not officially support R15B yet, but you can try changing the regex in 
&gt;&gt; rebar.config to include R15.
&gt;&gt; 
&gt;&gt; {require\\_otp\\_vsn, "R14B0[234]|R15"}. 
&gt;&gt; 
&gt;&gt; The above should do the trick.
&gt;&gt; 
&gt;&gt; On Mon, Jan 9, 2012 at 9:58 AM, suresh chandran  
&gt;&gt; wrote:
&gt;&gt; I am trying to install Riak in my macbook. I installed erlang using "sudo 
&gt;&gt; port install erlang +ssl" . When i do a "make all" in riak, i get the below 
&gt;&gt; error and it quits.
&gt;&gt; 
&gt;&gt; I am trying to install the source as mentioned 
&gt;&gt; http://wiki.basho.com/Building-a-Development-Environment.html. For some 
&gt;&gt; weird reason, when i install the tarball, i am not able to connect to 8091 
&gt;&gt; and also I am not able to find the number of partitions. How do I configure 
&gt;&gt; the port where riak is running and the number of partitions in tarball? 
&gt;&gt; 
&gt;&gt; Thanks
&gt;&gt; Suresh Chandran
&gt;&gt; 
&gt;&gt; make all
&gt;&gt; fatal: Not a git repository (or any of the parent directories): .git
&gt;&gt; ./rebar get-deps
&gt;&gt; fatal: Not a git repository (or any of the parent directories): .git
&gt;&gt; fatal: Not a git repository (or any of the parent directories): .git
&gt;&gt; fatal: Not a git repository (or any of the parent directories): .git
&gt;&gt; ==&gt; cluster\\_info (get-deps)
&gt;&gt; ==&gt; skerl (get-deps)
&gt;&gt; ==&gt; lager (get-deps)
&gt;&gt; ==&gt; poolboy (get-deps)
&gt;&gt; ==&gt; protobuffs (get-deps)
&gt;&gt; ==&gt; basho\\_stats (get-deps)
&gt;&gt; ==&gt; riak\\_sysmon (get-deps)
&gt;&gt; ==&gt; mochiweb (get-deps)
&gt;&gt; ==&gt; webmachine (get-deps)
&gt;&gt; ==&gt; riak\\_core (get-deps)
&gt;&gt; ==&gt; riakc (get-deps)
&gt;&gt; ==&gt; luke (get-deps)
&gt;&gt; ==&gt; erlang\\_js (get-deps)
&gt;&gt; ==&gt; bitcask (get-deps)
&gt;&gt; ==&gt; merge\\_index (get-deps)
&gt;&gt; ==&gt; ebloom (get-deps)
&gt;&gt; ==&gt; eper (get-deps)
&gt;&gt; ==&gt; eleveldb (get-deps)
&gt;&gt; ==&gt; edown (get-deps)
&gt;&gt; ==&gt; sext (get-deps)
&gt;&gt; ==&gt; riak\\_pipe (get-deps)
&gt;&gt; ==&gt; basho\\_metrics (get-deps)
&gt;&gt; ==&gt; riak\\_kv (get-deps)
&gt;&gt; ==&gt; luwak (get-deps)
&gt;&gt; ==&gt; lucene\\_parser (get-deps)
&gt;&gt; ==&gt; riak\\_search (get-deps)
&gt;&gt; ==&gt; rel (get-deps)
&gt;&gt; ==&gt; riak-1.0.2 (get-deps)
&gt;&gt; ./rebar compile
&gt;&gt; fatal: Not a git repository (or any of the parent directories): .git
&gt;&gt; fatal: Not a git repository (or any of the parent directories): .git
&gt;&gt; fatal: Not a git repository (or any of the parent directories): .git
&gt;&gt; ==&gt; cluster\\_info (compile)
&gt;&gt; ERROR: OTP release R15B does not match required regex R13B04|R14
&gt;&gt; make: \\*\\*\\* [compile] Error 1
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; -- 
&gt;&gt; Sean Cribbs 
&gt;&gt; Software Engineer
&gt;&gt; Basho Technologies, Inc.
&gt;&gt; http://basho.com/
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 

