---
title: "Questions about ring state management."
description: ""
project: community
lastmod: 2010-08-03T09:58:36-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00834"
author_name: "Mark Anderson"
project_section: "mailinglistitem"
sent_date: 2010-08-03T09:58:36-07:00
---


I'm playing around with setting up and tearing down clusters and I had
a few questions:

Looking at the chef recipe for riak sets an option in riak\\_core
'default\\_gossip\\_seed'; apparently this is intended to cue a newly spun
up node where to look to join the cluster. But for the life of me I
can't get it to work, and I can't find any mention of it in the
source.
What's the recommended way to seed a freshly spun up node with a seed machine?

I'm also trying to figure out how to evict a node from the ring. If
you have access to the machine, you can do 'riak-admin leave' but what
can you do if you don't? I'm imagining a usage pattern where you are
running a bunch of vhosted machines. One dies, and you spin up a new
machine, with a new node name to replace it. How do you get that old
machine out of the ring?

The natural way to name nodes in ec2 is to do something like
r...@ec2\\_internal\\_ip. But once an instance is terminated, there is no
way to get that ip back. I suspect I'm doing things wrong here, so
suggestions for better configuration patterns are very welcome.

