---
title: "Re: appearance of text different in riak different than original xml	data"
description: ""
project: community
lastmod: 2012-04-07T08:21:44-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07170"
mailinglist_parent_id: "msg07167"
author_name: "Wes James"
project_section: "mailinglistitem"
sent_date: 2012-04-07T08:21:44-07:00
---


I found it. I thought if any web site might be able to handle unicode,
it would be erlang.org, so I went and grabbed some of the header text:

xml version='1.0' encoding='utf-8'?



test



and it works correctly now.

thanks

On Fri, Apr 6, 2012 at 3:18 PM, Kresten Krab Thorup  wrote:
&gt; It looks like you may have missed specifying the charset when importing your 
&gt; data; could that be the case?
&gt;
&gt; You need to specify the charset when importing 8-bit text.  It looks like 
&gt; your xml is utf-8 encoded, so it should be imported using something like this:
&gt;
&gt; curl -H 'Content-Type: text/html;charset=UTF-8' -X PUT @datafile.xml 
&gt; http://host:port/riak/bucket/key
&gt;
&gt; The various language clients have different ways of specifying the charset 
&gt; for a value; so if you imported the xml using some other method you need to 
&gt; find out where to specify it.
&gt;
&gt; Perhaps to verify, you can check the result of a curl -v (verbose, print the 
&gt; headers) for one of your values.  If it does not come back with a charset=XXX 
&gt; in the Content-Type header, then this is your problem.
&gt;
&gt; Kresten
&gt;
&gt;
&gt;
&gt; On Apr 6, 2012, at 4:44 PM, Wes James wrote:
&gt;
&gt; I imported many records, one of which looks like this:
&gt;
&gt; 
&gt; 
&gt; 0
&gt; Ekologie lučních porostů (A)
&gt; Rychnovská, Milena, Emilie Balátová-Tuláčková, 
&gt; Blanka Úlehlová, Jaroslav Pelikán
&gt; 1985
&gt; Academia
&gt; -
&gt; amazon 5/22/09 Category: Ecology (Y)
&gt; 8.00
&gt; 10.00
&gt; 
&gt; 
&gt;
&gt; with
&gt;
&gt; bin/search-cmd solr books books.xml
&gt;
&gt; Notice the characters above.  In the riak -&gt; cowboy -&gt; webpage it looks like:
&gt;
&gt; Id:     0
&gt; Title:  title: Ekologie luÄ nÃ­ch porostÅ¯ (A)
&gt; Auther Editor:  author\\_editor: RychnovskÃ¡, Milena, Emilie BalÃ¡tovÃ¡-TulÃ¡Ä 
&gt; kovÃ¡, Blanka ÃšlehlovÃ¡, Jaroslav PelikÃ¡n
&gt; Date of Publication:    date\\_of\\_publication: 1985
&gt; Notes:  publisher: Academia
&gt; Notes:  notes: amazon 5/22/09 Category: Ecology (Y)
&gt; Purchase Price: purchase\\_price: 10.00
&gt; Valuation:      valuation: 8.00
&gt;
&gt; Is there a way I can fix this?
&gt;
&gt; Doing an io:format it it looks like:
&gt;
&gt; RychnovskÃ¡, Milena, Emilie BalÃ¡tovÃ¡-TulÃ¡Ä kovÃ¡, Blanka ÃšlehlovÃ¡, 
&gt; Jaroslav PelikÃ¡n
&gt;
&gt; Thanks,
&gt;
&gt; Wes
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
&gt;
&gt; Mobile: + 45 2343 4626 | Skype: krestenkrabthorup | Twitter: @drkrab
&gt; Trifork A/S  |  Margrethepladsen 4  | DK- 8000 Aarhus C |  Phone : +45 8732 
&gt; 8787  |  www.trifork.com
&gt;
&gt;
&gt;
&gt;

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

