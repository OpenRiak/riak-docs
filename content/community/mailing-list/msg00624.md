---
title: "Re: Right schema of saving data"
description: ""
project: community
lastmod: 2010-06-21T09:54:19-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00624"
mailinglist_parent_id: "msg00610"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2010-06-21T09:54:19-07:00
---


Hi Artem,

1. If you intend to access the data through Riak's REST API you should avoid
forward slashes, "/", in the bucket or key name. In your example the use of
the URL for the BUCKET name would prevent that bucket from being accessible
via the REST API. Also, you will need to set the content-type of the
object.

The schema you've chosen looks good. I found an article from IBM about
converting Atom to JSON which resulted in a similar format:
http://www.ibm.com/developerworks/library/x-atom2json.html

Another option for formatting the data would be JSON Schema:
http://json-schema.org/


2. The twitter schema you've chosen looks good.

Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Thu, Jun 17, 2010 at 1:56 PM, Artem Golovinsky  wrote:

&gt; Hi all,
&gt;
&gt; 1. I have erlang application which is subscriber on 10000 nodes. When
&gt; one of nodes has new content, the node sends to my client notification in
&gt; Atom format. So. I need to save all notifications in JSON format. Now I 
&gt; have
&gt; just one idea about schema:
&gt;
&gt; BUCKET - &lt;&lt; 
&gt; http://mydomain.com/feed.xml&gt;&gt;
&gt; - one of 10000 nodes
&gt;
&gt; KEY - &lt;&gt; - md5 hash of VALUE
&gt;
&gt; VALUE - &lt;&lt;{"item":{"entry":{"title":"Finibus Bonorum et
&gt; Malorum","summary":"Sed ut perspiciatis unde omnis iste natus error sit
&gt; voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa
&gt; quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt
&gt; explicabo. Nemo enim ipsam voluptatem quia voluptas sit aspernatur aut odit
&gt; aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem
&gt; sequi
&gt; nesciunt.","link":{"@attributes":{"rel":"alternate","type":"text\\/html","href":"http:\\/\\/
&gt; superfeedr.com
&gt; \\/entries\\/12345788"}},"id":"tag:domain.tld,2009:Finibus-32398","published":"2010-04-06T08:54:02Z"}}}&gt;&gt;
&gt;
&gt;
&gt; Could you please make comments ? Is this schema right?
&gt;
&gt;
&gt; 2. Twitter.com has a streaming API. My second application gets data in JSON
&gt; format and should put data to Riak. I can't decide with schema. But have
&gt; variant for sample method (
&gt; http://apiwiki.twitter.com/Streaming-API-Documentation#statuses/sample) :
&gt;
&gt; bucket - &lt;&gt;
&gt;
&gt; key - &lt;&lt;16012742662&gt;&gt; (id of entry. It is unique)
&gt;
&gt; value - &lt;&gt;
&gt;
&gt;
&gt; What do you think about it?
&gt;
&gt; Could you please give me comments if needed?
&gt;
&gt; --
&gt; Best regards,
&gt; Artem Golovinsky
&gt;

