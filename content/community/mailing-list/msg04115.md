---
title: "Getting a value: get vs map"
description: ""
project: community
lastmod: 2011-07-28T12:43:17-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04115"
author_name: "Mikhail Sobolev"
project_section: "mailinglistitem"
sent_date: 2011-07-28T12:43:17-07:00
---


Hi,

(I looked at various places for the information, however I could not
find anything that would answer the question. It's not completely ruled
out that not all places were checked though :))

I use PB erlang interface to access the database. Given a bucket name
and a key, the value can easily be extracted using:

 {ok, Object} = riakc\\_pb\\_socket:get(Conn, Bucket, Key),
 Value = riakc\\_obj:get\\_value(Object)

Alternatively, a mapred (actually, just map) request could be issued:

 {ok, [{\\_, Value}]} = riakc\\_pb\\_socket:mapred(Conn, [
 {Bucket, Key}
 ], [
 {map, {modfun, riak\\_kv, map\\_object\\_value}, none, true}
 ])

I would expect that the result is the same while in the second case, the
amount of data transferred to the client is smaller (which might be good
for certain situations).

So the [open] question is: are there any reasons for using the first
approach over the second?

--
Misha


signature.asc
Description: Digital signature
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

