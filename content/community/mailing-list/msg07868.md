---
title: "PBC Search API -- Returning invalid PB byte array"
description: ""
project: community
lastmod: 2012-07-05T13:25:18-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07868"
author_name: "Andrew Zeneski"
project_section: "mailinglistitem"
sent_date: 2012-07-05T13:25:18-07:00
---

I am seeing some odd behavior from the PBC Search API. When the search results 
get to be a certain size and the size changes depending on the client's 
location (over GB ethernet its around 14.5MB when I VPN in it appears to be 
much less; but I'll confirm that later) the returned byte array consists of the 
correct number of bytes but it contains a sequence of nil (0x0) bytes at the 
end, causing protocol buffers to blow up when trying to deserialize.

Curious if anyone else has seen this. The version of Riak was built off the 
master on Tuesday (7/3) and applied pull request 119 to riak\\_search.


Andrew

