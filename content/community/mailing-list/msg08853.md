---
title: "Re: default bucket settings"
description: ""
project: community
lastmod: 2012-10-09T12:31:04-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08853"
mailinglist_parent_id: "msg08852"
author_name: "Mark Phillips"
project_section: "mailinglistitem"
sent_date: 2012-10-09T12:31:04-07:00
---


On Tue, Oct 9, 2012 at 11:04 AM, Mark Phillips  wrote:

&gt; Hi pozdrawiam,


Oops. Sorry for the name mixup, Paweł. I only speak English, French, and
Erlang. :)

pozdrawiam
Mark

&gt;
&gt; Excellent suggestion. A few things:
&gt;
&gt; \\* We just redid all of our documentation (and it's live as of this week):
&gt; docs.basho.com.
&gt;
&gt; There's a blog going out about this in a bit, and redirects from
&gt; wiki.basho.com should be in place tomorrow at the latest.
&gt;
&gt; \\* If you have a few spare minutes, can you add an issue to the basho\\_docs
&gt; GitHub repo about what we need to clarify/tweak?
&gt;
&gt; https://github.com/basho/basho\\_docs
&gt;
&gt; Best,
&gt;
&gt; Mark
&gt;
&gt;
&gt;
&gt; On Tue, Oct 9, 2012 at 10:40 AM, kamiseq  wrote:
&gt;
&gt;&gt; thanks for replay.
&gt;&gt;
&gt;&gt; it would be great if someone changed http://wiki.basho.com/Buckets.htmlor
&gt;&gt; http://wiki.basho.com/Configuration-Files.html, I think this would be
&gt;&gt; less misleading
&gt;&gt;
&gt;&gt; - rw - quorum for both operations (get and put) involved in deleting
&gt;&gt; an object (default is set at the bucket level)
&gt;&gt; - r - (read quorum) how many replicas need to agree when retrieving
&gt;&gt; the object
&gt;&gt; - w - (write quorum)\\* how many vnodes must confirm reviving write
&gt;&gt; request before returning a successful response\\*
&gt;&gt; - dw - (durable write quorum) how many replicas to commit to durable
&gt;&gt; storage before returning a successful response
&gt;&gt; - pr - (primary read quorum) works like r but requires that the nodes
&gt;&gt; read from are not fallback nodes
&gt;&gt; - pw - (primary write quorum) how many replicas to commit to primary
&gt;&gt; nodes before returning a successful response
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; pozdrawiam
&gt;&gt; Paweł Kamiński
&gt;&gt;
&gt;&gt; kami...@gmail.com
&gt;&gt; pkaminski....@gmail.com
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;
&gt;&gt;
&gt;&gt; On 9 October 2012 19:18, Evan Vigil-McClanahan wrote:
&gt;&gt;
&gt;&gt;&gt; The difference between w and dw is that for r, only the vnode needs to
&gt;&gt;&gt; reply that it's gotten the write. On dw, the vnode waits for its backend
&gt;&gt;&gt; to reply that it has sent the write to the disk. So with dw, you trade off
&gt;&gt;&gt; latency for a bit more safety.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Tue, Oct 9, 2012 at 10:14 AM, kamiseq  wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; you know what, after another day of searching I ve found out that
&gt;&gt;&gt;&gt; (following http://wiki.basho.com/HTTP-Delete-Object.html)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; - rw - quorum for both operations (get and put) involved in
&gt;&gt;&gt;&gt; deleting an object (default is set at the bucket level)
&gt;&gt;&gt;&gt; - r - (read quorum) how many replicas need to agree when retrieving
&gt;&gt;&gt;&gt; the object
&gt;&gt;&gt;&gt; - pr - (primary read quorum) works like r but requires that the
&gt;&gt;&gt;&gt; nodes read from are not fallback nodes
&gt;&gt;&gt;&gt; - w - (write quorum) how many replicas to write to before returning
&gt;&gt;&gt;&gt; a successful response
&gt;&gt;&gt;&gt; - dw - (durable write quorum) how many replicas to commit to
&gt;&gt;&gt;&gt; durable storage before returning a successful response
&gt;&gt;&gt;&gt; - pw - (primary write quorum) how many replicas to commit to
&gt;&gt;&gt;&gt; primary nodes before returning a successful response
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; why such description cannot be added to page about bucket
&gt;&gt;&gt;&gt; configuration, it is really weird to find it in delete object http API
&gt;&gt;&gt;&gt; specification.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; still I dont get difference between w and dw but I guess it is not that
&gt;&gt;&gt;&gt; important for now
&gt;&gt;&gt;&gt; pozdrawiam
&gt;&gt;&gt;&gt; Paweł Kamiński
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; kami...@gmail.com
&gt;&gt;&gt;&gt; pkaminski....@gmail.com
&gt;&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On 9 October 2012 09:19, kamiseq  wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; thanks,
&gt;&gt;&gt;&gt;&gt; I also visited that section but it deals only with n, r and w property
&gt;&gt;&gt;&gt;&gt; in general. and reading only about n, r and w it feels like you know what
&gt;&gt;&gt;&gt;&gt; is going on, and then you see dw, rw, pr and pw and googling doesn't bring
&gt;&gt;&gt;&gt;&gt; clear explanation, so you get more and more confused.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; (heh I know casing doesn't matter :)
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; pozdrawiam
&gt;&gt;&gt;&gt;&gt; Paweł Kamiński
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; kami...@gmail.com
&gt;&gt;&gt;&gt;&gt; pkaminski....@gmail.com
&gt;&gt;&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; On 9 October 2012 07:31, Martin Westergaard Lassen &lt;
&gt;&gt;&gt;&gt;&gt; mwltrif...@gmail.com&gt; wrote:
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; Hi Pawel
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; The "Concept" wiki page (
&gt;&gt;&gt;&gt;&gt;&gt; http://wiki.basho.com/Concepts.html#Reading%2C-Writing%2C-and-Updating-Data)
&gt;&gt;&gt;&gt;&gt;&gt; has a good introduction to the most important paramters. Casing doesn't
&gt;&gt;&gt;&gt;&gt;&gt; matter, so r=R.
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; The Riak Handbook has a good and deep explanation of what those
&gt;&gt;&gt;&gt;&gt;&gt; parameters are http://riakhandbook.com
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; \\*Martin Westergaard Lassen\\*
&gt;&gt;&gt;&gt;&gt;&gt; \\*Software Pilot\\*
&gt;&gt;&gt;&gt;&gt;&gt; \\*\\* \\*\\*
&gt;&gt;&gt;&gt;&gt;&gt; Trifork A/S\\*\\*\\*\\*
&gt;&gt;&gt;&gt;&gt;&gt; Margrethepladsen 4 · 8000 Aarhus C. · Denmark\\*\\*\\*\\*
&gt;&gt;&gt;&gt;&gt;&gt; Mobile +45 31 12 10 59
&gt;&gt;&gt;&gt;&gt;&gt; \\*\\* \\*\\*
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; Den 08/10/2012 kl. 22.56 skrev kamiseq :
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; Im looking for explanation what exactly r, pr, w, dw, pw, rw stands
&gt;&gt;&gt;&gt;&gt;&gt; for.
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; Im sorry if this was already posted but I cannot find anything on
&gt;&gt;&gt;&gt;&gt;&gt; that. I tried wiki.basho.com/Riak-Glossary.html,
&gt;&gt;&gt;&gt;&gt;&gt; http://wiki.basho.com/HTTP-API.html#Bucket-Operations,
&gt;&gt;&gt;&gt;&gt;&gt; http://wiki.basho.com/Buckets.html but it only describes N, R, W.
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; do I understand correctly that W property is only considered when
&gt;&gt;&gt;&gt;&gt;&gt; updating value and for first store N value is used? or is it:
&gt;&gt;&gt;&gt;&gt;&gt; replicate data N times but return success if it was persisted to W
&gt;&gt;&gt;&gt;&gt;&gt; vnodes.
&gt;&gt;&gt;&gt;&gt;&gt; if DW is durable write then what W really means? can I get successful
&gt;&gt;&gt;&gt;&gt;&gt; response after write operation without object being persisted to
&gt;&gt;&gt;&gt;&gt;&gt; durable storage??
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; I must admit Im quite confused here.
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; And second question, If I set r, pr, w, dw, pw, rw in app.config for
&gt;&gt;&gt;&gt;&gt;&gt; every configured node in cluster those values will not be added to
&gt;&gt;&gt;&gt;&gt;&gt; gossiped information, right?
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; pozdrawiam
&gt;&gt;&gt;&gt;&gt;&gt; Paweł Kamiński
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; kami...@gmail.com
&gt;&gt;&gt;&gt;&gt;&gt; pkaminski....@gmail.com
&gt;&gt;&gt;&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;
