---
title: "Re: best practices for testing eventual consistency?"
description: ""
project: community
lastmod: 2011-11-15T10:31:01-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05589"
mailinglist_parent_id: "msg05587"
author_name: "Aphyr"
project_section: "mailinglistitem"
sent_date: 2011-11-15T10:31:01-08:00
---


The fastest thing is probably to generate conflicts right below the 
conflict resolution system. If you are worried you can't predict the 
conflicts at all, go ahead and perform multiple reads and writes at 
overlapping times. No need for excessive load; controlling the timing 
alone should be sufficient.


--Kyle

On 11/15/2011 10:23 AM, Jesse Myers wrote:

I'm contemplating migrating a write-intensive system from MySQL to Riak.

I understand the eventual consistency model and the need to resolve
conflicts in application code, especially if allow\\_mult is true. My
concern is that I won't discover all of the conflict scenarios my
application code needs to handle until after we're live in production.
Are there best practices for producing conflicts in development
environment? Is my best option to simulate a large amount of load and
see what happens? Should I lower my R or W values? Kill off nodes
randomly?

Related question: I'd like to write unit tests for conflict scenarios
I anticipate/encounter. Do any of the client libraries come with good
mock support or is that something I need to roll myself?

Thanks,

Jesse

