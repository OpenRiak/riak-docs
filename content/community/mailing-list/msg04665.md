---
title: "riaksearch 0.14.2 via solr: sort desc"
description: ""
project: community
lastmod: 2011-09-12T06:08:53-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04665"
author_name: "Fredrik Lindstr√∂m"
project_section: "mailinglistitem"
sent_date: 2011-09-12T06:08:53-07:00
---


Hi everyone,
does the "sort=myfieldname desc" parameter in riaksearch 0.14.2 (via solr) only 
sort within the current result set dictated by rows=x and start =y?

I can get my search results in the correct ASC order regardless of the rows and 
start parameters.
Sorting in DESC with rows=1 and start=0 I get one (obviously) result but the 
result actually appears to be in ASC order. The doc returned in the search 
result is the one with the lowest integer value in the field used for sorting.

I'm quite new to Riak and Riak Search and therefore I assume that the error is 
on my part.

Some technical details:

Total objects in "order" bucket: 187

Query with DESC sort:
http://riak/solr/order/select?rows=1&start=0&sort=Order\\_OrderNumber%20desc&q=Order\\_Contact\\_Email:firstname.lastn...@company.com
Result: 1 doc with Order\\_OrderNumber = 362982 (Expected result in my world of 
fantasy would be 621738 which is currently the highest value)

Query with ASC sort:
http://riak/solr/order/select?rows=1&start=0&sort=Order\\_OrderNumber%20asc&q=Order\\_Contact\\_Email:firstname.lastn...@company.com
Result: 1 doc with Order\\_OrderNumber = 362982

I have a custom schema where I have defined the field I want to sort by in the 
following way:
 {field, [
 {name, "Order\\_OrderNumber"},
 {type, integer},
 {analyzer\\_factory, {erlang, text\\_analyzers, 
integer\\_analyzer\\_factory}}
 ]},

If I run the DESC query with rows=187 the results are ordered in the correct 
descending order.

/F

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

