---
title: "Re: Riak synchronized"
description: ""
project: community
lastmod: 2012-02-14T05:02:26-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06598"
mailinglist_parent_id: "msg06597"
author_name: "Andres Jaan Tack"
project_section: "mailinglistitem"
sent_date: 2012-02-14T05:02:26-08:00
---


&gt;
&gt; All these things, of course, assume that the cluster is not
&gt; partitioned in any way more interesting than a bunch of nodes being
&gt; offline. Split brain would break all synchronization.


You should read this:
http://codahale.com/you-cant-sacrifice-partition-tolerance/

Riak's primary application as a key-value store is precisely to provide a
mechanism to deal with partition tolerance. It borrows the inventive step
of Dynamo to do this without sacrificing writeability (and more generally
availability). The above text makes a case for why this your assumption
("no split brain") is invalid: you always have to have an answer for the
split brain.

Given this, I'm struggling to find value in your contribution. Was there a
specific application you had in mind?

--
Andres

2012/2/14 Martin Bruse 

&gt; Hello list, I am looking for some clever comments and critique.
&gt;
&gt; This is my first post, so have patience with my loutish behavior :)
&gt;
&gt; At the company where I work we have built an EventMachine
&gt;  based Ruby client to Riak that
&gt; simplifies both asynchronous HTTP requests and a few relation
&gt; concepts.
&gt;
&gt; You can find it at https://github.com/ProjectDaisy/blodsband if you
&gt; are interested.
&gt;
&gt; In this project I have added a few things that add a synchronous layer
&gt; on top of Riak. For example a compare-and-set method that guarantees
&gt; uniqueness of a document update.
&gt;
&gt; This is used for a #put\\_if\\_missing method, a Lock class to synchronize
&gt; operations, and (lo and behold) a linked list class using Riak
&gt; documents for elements.
&gt;
&gt; All these things, of course, assume that the cluster is not
&gt; partitioned in any way more interesting than a bunch of nodes being
&gt; offline. Split brain would break all synchronization.
&gt;
&gt; They all seem to work in our tests, but I would be very happy for some
&gt; peer review educated comments!
&gt;
&gt; regards,
&gt; //Martin
&gt;

