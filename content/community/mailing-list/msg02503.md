---
title: "Re: Purge in RIAK"
description: ""
project: community
lastmod: 2011-03-01T05:44:35-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02503"
mailinglist_parent_id: "msg02502"
author_name: "Abhishek Kona"
project_section: "mailinglistitem"
sent_date: 2011-03-01T05:44:35-08:00
---



Oh thanks.

Having the function would be great.

-Abhishek Kona

On 01/03/11 7:07 PM, Russell Brown wrote:

Hi,
On Tue, 2011-03-01 at 18:02 +0530, Abhishek Kona wrote:

Hi folks

What is the best way to clear a Riak bucket of all key, values after
running a test?
I am currently using the Java HTTP API.

You can list the keys for the bucket and call delete for each. Or if you
put the keys (and kept track of them in your test) you can delete them
one at a time (without incurring the cost of calling list first.)

Something like:

 String bucket = "my\\_bucket";
 BucketResponse bucketResponse = riakClient.listBucket(bucket);
 RiakBucketInfo bucketInfo = bucketResponse.getBucketInfo();

 for(String key : bucketInfo.getKeys()) {
 riakClient.delete(bucket, key);
 }


would do it.

See also

http://wiki.basho.com/REST-API.html#Bucket-operations

which says

"At the moment there is no straightforward way to delete an entire
Bucket. There is, however, an open ticket for the feature. To delete all
the keys in a bucket, youâ€™ll need to delete them all individually."


-Abhishek Kona


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com





\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

