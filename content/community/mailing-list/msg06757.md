---
title: "Re: Search and Erlang client"
description: ""
project: community
lastmod: 2012-02-27T11:17:51-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06757"
mailinglist_parent_id: "msg06755"
author_name: "Doug Selph"
project_section: "mailinglistitem"
sent_date: 2012-02-27T11:17:51-08:00
---


Hi Dan,

Well, I'm stumped. When creating the object, I pass "application/json" as
content-type, but all my objects have content-type set to
"application/octet-stream"

Does the erlang client save everything as a binary?

Thanks,
Doug


On Mon, Feb 27, 2012 at 12:10 PM, Dan Reverri  wrote:

&gt; Hi Doug,
&gt;
&gt; Can you confirm the "Content-Type" header is set to "application/json" by
&gt; reading the JSON objects you stored?
&gt;
&gt; Can you share an example JSON object as well as an example query you are
&gt; running with "search-cmd"?
&gt;
&gt; Thank you,
&gt; Dan
&gt;
&gt; Daniel Reverri
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; d...@basho.com
&gt;
&gt;
&gt; On Sun, Feb 26, 2012 at 9:01 PM, Doug Selph  wrote:
&gt;
&gt;&gt; I'm having trouble with riak-search. If I use the seach-cmd command line
&gt;&gt; tool to index text files, I can search the index using both search-cmd and
&gt;&gt; the sold interface. However, when I store JSON objects via the erlang
&gt;&gt; protocol buffers client, in a bucket which has the search pre-commit
&gt;&gt; trigger installed, searches in that index always return 0 matches for
&gt;&gt; search terms which have matches in the bucket. (I have saved these objects
&gt;&gt; to the bucket after the pre-commit trigger was installed.)
&gt;&gt;
&gt;&gt; Is there a trick to this? It is my understanding that there is a default
&gt;&gt; schema for JSON objects, which should be sufficient as a starting point.
&gt;
