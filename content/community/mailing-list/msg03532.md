---
title: "Re: Riak KV ETS Backend?"
description: ""
project: community
lastmod: 2011-06-02T10:20:55-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03532"
mailinglist_parent_id: "msg03531"
author_name: "Jordan West"
project_section: "mailinglistitem"
sent_date: 2011-06-02T10:20:55-07:00
---


Mark,

Thanks for the reply. I saw couple other postings related to the ETS backend
on the list so I decided to start prototyping a bit with it but I haven't
decided if its the solution I'm looking for yet. I'll see you tuesday at the
IGN offices for the meetup.

Jordan

On Thu, Jun 2, 2011 at 9:58 AM, Mark Phillips  wrote:

&gt; Hey Jordan,
&gt;
&gt; To address a few of your questions:
&gt;
&gt; While it's not the most optimal memory-only backend, ETS is certainly
&gt; usable in production. That said, if it runs out of gas on you at
&gt; larger scales, it wouldn't be that hard to write a better one using
&gt; the NIF interface.
&gt;
&gt; Hope that helps.
&gt;
&gt; Mark
&gt;
&gt; On Thu, May 26, 2011 at 11:15 AM, Jordan West  wrote:
&gt; &gt; Hi all,
&gt; &gt; I'm posting to the list for the first time after talking with Mark
&gt; &gt; (ironically, at MongoSF the other day), about a use-case I'm considering
&gt; &gt; Riak for. Quickly, I should probably say I've only played with Riak on a
&gt; &gt; side project or two, and dabbled with Riak Core thanks to the new GitHub
&gt; &gt; blog. Part of the reason I'm writing the list is to determine if for my
&gt; &gt; use-case its worth investing significant time learning and prototyping
&gt; some
&gt; &gt; possible implementations with Riak(-Core). Anyways, on to the question:
&gt; &gt; Is the ETS Backend in the riak\\_kv repo something maintained and endorsed
&gt; for
&gt; &gt; use by the Basho team? I have a dataset which is well suited for a k/v
&gt; store
&gt; &gt; and needs to be eventually consistent across a cluster of Erlang
&gt; nodes. Riak
&gt; &gt; crossed my mind because of those reasons. Also, being able to embed it
&gt; into
&gt; &gt; my application like Mnesia is a plus. However, I could care less in this
&gt; &gt; case about losing data. The data is ephemeral anyways as its a map of a
&gt; &gt; string assigned per connection to a couple erlang process ids, and hence
&gt; I
&gt; &gt; want to store it in-memory (also want it in memory for performance
&gt; reasons).
&gt; &gt; This data is very read-heavy, but must be available for writes or new
&gt; &gt; connections will begin to fail. I know this is not a typical use for
&gt; Riak,
&gt; &gt; since one of its most touted benefits is not losing data but would it be
&gt; too
&gt; &gt; far of a stretch to use Riak as an eventually consistent, in-memory
&gt; &gt; key-value store embedded into an Erlang application? If not, I figure
&gt; this
&gt; &gt; is something I could build with Riak Core. Does anyone know if there
&gt; already
&gt; &gt; is a OSS project I could contribute to instead of starting from scratch
&gt; in
&gt; &gt; that case?
&gt; &gt; Thanks for your help,
&gt; &gt; Jordan West
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
