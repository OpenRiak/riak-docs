---
title: "Re: Lager issue"
description: ""
project: community
lastmod: 2013-01-10T12:07:15-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09793"
mailinglist_parent_id: "msg09792"
author_name: "John Kemp"
project_section: "mailinglistitem"
sent_date: 2013-01-10T12:07:15-08:00
---


Thanks Andrew -- that works.

The reason I was doing stuff on the console is that this didn't work in my 
running application either.

lager:log(info, self(), "foo ~s", [bar]) also works fine in my app code. But 
the other commands do not. Which makes me think that since:

&gt; Lager doesn't actually define lager:info/3, the parse transform walks
&gt; the AST of the module and replaces any calls to
&gt; lager:(debug|info|notice|...) with some different code.

The parse transform is not happening in my compile.

If I add:

-compile([{parse\\_transform, lager\\_transform}]).

to each of my modules, then lager works. 

But when I set the options in rebar config it did not work. 

However, I found the solution - put the deps line in my rebar config before the 
erl\\_opts line. Then I make clean, make rel, and it all works. 

Unexpected to this particular rebar/lager novice.

JohnK

On Jan 10, 2013, at 1:22 PM, Andrew Thompson wrote:

&gt; Lager doesn't actually define lager:info/3, the parse transform walks
&gt; the AST of the module and replaces any calls to
&gt; lager:(debug|info|notice|...) with some different code. So, since you're
&gt; calling lager from the shell, the parse transform isn't involved and you
&gt; get undef. If you want to log from the shell, you can use use
&gt; lager:log(info, self(), "foo ~s", [bar]), or whatever.


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

