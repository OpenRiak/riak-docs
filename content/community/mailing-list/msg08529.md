---
title: "Re: Automatic replacement of dead nodes"
description: ""
project: community
lastmod: 2012-09-13T10:50:52-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08529"
mailinglist_parent_id: "msg08528"
author_name: "Reid Draper"
project_section: "mailinglistitem"
sent_date: 2012-09-13T10:50:52-07:00
---


Jonas,

I'd be weary of 'autoscaling' a cluster. While it seems nice in theory, 
rebalancing
data when a node is added or removed from the cluster can be expensive.
I'd recommend having a human involved, at least until you have a bit more
experience administering a cluster.

To answer your question, yes, you'll have to write the code yourself to remove
the node.

Reid


On Sep 13, 2012, at 1:30 PM, Jonas Tehler  wrote:

&gt; 
&gt; Hi
&gt; 
&gt; I'm setting up a Riak cluster on some EC2 servers running Ubuntu. The goal is 
&gt; to use autoscaling to make sure that I always have the right number of nodes 
&gt; online. 
&gt; 
&gt; When I kill one node (shut down the server, it's gone permanently) and then 
&gt; start a new server to replace it (with a new name) the new server can't join 
&gt; the cluster because it can't communicate with the dead node. It works if I 
&gt; manually mark the dead node as down and remove it form the cluster but I 
&gt; would like that to happen automatically (perhaps after a timeout). 
&gt; 
&gt; Do I have to write my own code that detects this situation and removes the 
&gt; dead node from the cluster or is there a way to configure Riak to do this for 
&gt; me?
&gt; 
&gt; / Jonas
