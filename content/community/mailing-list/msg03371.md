---
title: "embedding riak_core into RabbitMQ"
description: ""
project: community
lastmod: 2011-05-19T11:50:02-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03371"
author_name: "Jon Brisbin"
project_section: "mailinglistitem"
sent_date: 2011-05-19T11:50:02-07:00
---


I've mentioned this a couple places, but I'm toying with embedding riak\\_core 
into RabbitMQ as a plugin. I already have a consumer that invokes vnodes but 
I'm wondering (in code) whether or not it would be more efficient to implement 
this behaviour as a custom exchange. This is also an exercise for my Erlang 
Factory presentation.

To that end, I've got riak\\_core running as a plugin with a special script I 
call from my Makefile to patch the riak\\_core distro so it will go into 
RabbitMQ's VM without complaining about extra .beam files (for things already 
inside RabbitMQ).

I'm getting a couple warnings related to cluster\\_info and riak\\_err not being 
available. I've included cluster\\_info to get rid of that warning, but I'm not 
sure I want to include riak\\_err because it seems to put my logging output back 
into the console (I run my RabbitMQ broker in a terminal so I can get an Erlang 
shell with it). It makes a mess in my terminal window, so I'm considering 
leaving that out of my plugins directory. 

Will leaving riak\\_err out cause problems with riak\\_core? Other than this, 
riak\\_core was relatively easy to embed.

Thanks!

Jon Brisbin

http://jbrisbin.com
Twitter: @j\\_brisbin



\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

