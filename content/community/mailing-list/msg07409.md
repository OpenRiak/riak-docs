---
title: "Re: Most efficient way to determine if 1000 specific keys exist?"
description: ""
project: community
lastmod: 2012-05-09T10:35:17-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07409"
mailinglist_parent_id: "msg07408"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2012-05-09T10:35:17-07:00
---


Or just do an exists set operation in redis.

Or use a bloom filter. (that you kept in Riak)

Or use your own binary encoding n keys long and flip bits. (that you kept
in Riak)

Scanning a list of keys in Riak might be one of the most inefficient ways
to do it. Also I don't like to keep values in Riak that mutate in some
unbounded way due to compaction issues.

-alexander

@siculars
http://siculars.posterous.com

Sent from my rotary phone.
On May 9, 2012 1:13 PM, "Shuhao Wu"  wrote:

&gt; Without reading all the emails.. why can't you just cache the keys in an
&gt; object and maintain that list? The you could check against that list. This
&gt; way you don't have to go through every object in riak.
&gt;
&gt; Shuhao
&gt; On May 2, 2012 2:47 PM, "Tim Haines"  wrote:
&gt;
&gt;&gt; Hey guys,
&gt;&gt;
&gt;&gt; Still a relative newbie here.
&gt;&gt;
&gt;&gt; I was hoping to be able to setup a MapReduce job that I could feed 1000
&gt;&gt; keys to, and have it tell me of the 1000, which keys exist in the bucket.
&gt;&gt; I was hoping this could use the key index (such a thing exists right?)
&gt;&gt; without having to read the objects.
&gt;&gt;
&gt;&gt; The methods I've tried for doing this fail when the first non-existing
&gt;&gt; key is found though.
&gt;&gt;
&gt;&gt; Is there a way to do this?
&gt;&gt;
&gt;&gt; Or alternatively, is there a way to check for the presence of one key at
&gt;&gt; a time without riak having to read the object?
&gt;&gt;
&gt;&gt; Cheers,
&gt;&gt;
&gt;&gt; Tim.
