---
title: "Re: Deletion of keys in Riak doesn't decrease its RAM size"
description: ""
project: community
lastmod: 2012-01-04T06:05:52-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06125"
mailinglist_parent_id: "msg06124"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2012-01-04T06:05:52-08:00
---


Pronam,

That is a different setting entirely and not related to normal delete
operations.

On Wed, Jan 4, 2012 at 8:57 AM, Pronam Chatterjee  wrote:

&gt; If you are using bit cask, it takes a while before the space will be
&gt; freed. I think the default is 24 hours. Below is a quote from the bit cask
&gt; page on the wiki.
&gt;
&gt; \\*Purging stale entries after a fixed period\\*
&gt;
&gt; To automatically purge stale values, set the expiry\\_secs value to the
&gt; desired cutoff time. Keys that are not modified for a period equal to or
&gt; greater than expiry\\_secs will become inaccessible.
&gt;
&gt; http://wiki.basho.com/Bitcask.html
&gt;
&gt;
&gt;
&gt; --
&gt; Pronam Chatterjee
&gt; Sent with Sparrow 
&gt;
&gt; On Wednesday 4 January 2012 at 6:33 PM, Vicky Khanna wrote:
&gt;
&gt; Hi, \\*\\*\\*\\*
&gt;
&gt; \\*\\* \\*\\*
&gt;
&gt; I had around 100 million entries in the riak cluster of 4 which was taking
&gt; 9\\*4 = 36 GB of RAM.\\*\\*\\*\\*
&gt;
&gt; I deleted some 40 million keys from the cluster and still the size is same.
&gt; \\*\\*\\*\\*
&gt;
&gt; I restarted the cluster and still size is same.\\*\\*\\*\\*
&gt;
&gt; Can anyone please tell why riak is still retaining its original size even
&gt; after deletion.\\*\\*\\*\\*
&gt;
&gt; \\*\\* \\*\\*
&gt;
&gt; Thanks in Advance\\*\\*\\*\\*
&gt;
&gt; \\*\\* \\*\\*
&gt;
&gt; Vicky Khanna\\*\\*\\*\\*
&gt;
&gt; \\*\\* \\*\\*


-- 
Sean Cribbs 
Software Engineer
Basho Technologies, Inc.
http://basho.com/
