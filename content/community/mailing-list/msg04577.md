---
title: "Re: more Python client questions"
description: ""
project: community
lastmod: 2011-09-05T12:03:04-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04577"
mailinglist_parent_id: "msg04576"
author_name: "Greg Stein"
project_section: "mailinglistitem"
sent_date: 2011-09-05T12:03:04-07:00
---


Well... I'm looking at some work on transports/http.py and that host/port is
passed around \\*as if\\* there is a possibility/reason to vary the values. But
when you get down to it, .http\\_request can just use .\\_host and .\\_port, and
we can eliminate these spurious parameters from thought.

In particular, I'd like a transport that manages N persistent connections,
so requests will be using a "connection" parameter rather than a host/port
combination. This is why I ask about API guarantees. My assumption is that
transports/transport.py defines the only API that must be preserved, and all
other methods are open to change... but I wanted to ask for confirmation
first.

Cheers,
-g

On Mon, Sep 5, 2011 at 10:44, Jonathan Langevin
wrote:

&gt; Re: 2. Not that I disagree with removing those values, but is there some
&gt; additional benefit that you're expecting by removing the static values?
&gt; (just curious)\\*
&gt;
&gt; 
&gt; Jonathan Langevin
&gt; Systems Administrator
&gt; Loom Inc.
&gt; Wilmington, NC: (910) 241-0433 - jlange...@loomlearning.com -
&gt; www.loomlearning.com - Skype: intel352
&gt; \\*
&gt;
&gt;
&gt; On Mon, Sep 5, 2011 at 8:47 AM, Greg Stein  wrote:
&gt;
&gt;&gt; I've got a couple more questions:
&gt;&gt;
&gt;&gt; 1. Why is "pycurl" used in the http transport? What benefits does it
&gt;&gt; offer? Based on reading the code, I see no additional functionality,
&gt;&gt; so I don't understand why this complexity exists. I'd like to submit a
&gt;&gt; changeset that just removes it, but would like to understand if there
&gt;&gt; is a reason/history for using pycurl.
&gt;&gt;
&gt;&gt; 2. What is the policy around the API on the transports? As a concrete
&gt;&gt; example, I'd like to remove the HOST and PORT parameters from
&gt;&gt; RiakHttpTransport.http\\_request() (and remove them from the return
&gt;&gt; values of build\\_rest\\_path()). The parameters are always self.\\_host and
&gt;&gt; self.\\_port. Given the semantics of the transport, these would \\*never\\*
&gt;&gt; change... even by third party code that might call into these
&gt;&gt; functions. Would removing these parameters pose problems w.r.t API
&gt;&gt; stability guarantees?
&gt;&gt;
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; -g
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

