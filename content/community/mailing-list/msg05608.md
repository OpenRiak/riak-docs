---
title: "Re: Secondary Indexes - Feedback?"
description: ""
project: community
lastmod: 2011-11-16T11:07:34-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05608"
mailinglist_parent_id: "msg05604"
author_name: "Gordon Tillman"
project_section: "mailinglistitem"
sent_date: 2011-11-16T11:07:34-08:00
---


On Nov 16, 2011, at 11:57 , Rusty Klophaus wrote:

&gt; Now that you've had a few weeks to investigate and experiment with
&gt; Secondary Indexes, I'm hoping to hear about your experiences to help
&gt; us focus future development efforts most effectively:
&gt; Have you tried Secondary Indexes?
&gt; Does the feature help solve your problems? If not, why not? Any concerns?
&gt; What is your wish list for the future of Secondary Indexes?
&gt; Please feel free to respond either publicly or privately to this
&gt; email, and thanks for your help!

With our current scheme we are using search to generate input for map-reduce. 
I am looking into what it will take to use secondary indexes instead. The 
biggest issue is not being able to specify multiple secondary indexes to 
generate the input phase. 

For example, with search I can specify something like this to generate my input 
to map-reduce:

p:foo AND t:bar (give me all the objects whose parent "p" is foo and that hav 
tag "t" of bar).

So that would get fed to map-reduce where additional processing (think 
filtering, sorting, pagination) is done.

I can do the same thing with secondary indexes but would have to move some of 
that into map. 

So in this case I would use secondary indexes to grab all of the items whose 
parent "p" is "foo". This would generate the input phase and at that point I 
would have to use map to filter out all of the items that did not contain the 
tag "t" of "bar".

It is doable, but not as performant as I think it could be.

I am interested to using SI if possible because I think it has the potential to 
be more performant, it requires less total data storage, and is more robust in 
the fast of issues with nodes (no reindexing required).

--gordon



\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

