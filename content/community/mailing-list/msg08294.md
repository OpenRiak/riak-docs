---
title: "Re: 403 forbidden from Riak 1.2.0 when referer header is set"
description: ""
project: community
lastmod: 2012-08-15T06:54:48-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08294"
mailinglist_parent_id: "msg08292"
author_name: "Douglas Muth"
project_section: "mailinglistitem"
sent_date: 2012-08-15T06:54:48-07:00
---


On Wed, Aug 15, 2012 at 8:24 AM, Fredrik Lindstr√∂m
 wrote:
&gt;
&gt; I found this while digging around:
&gt; https://github.com/basho/riak\\_kv/commit/3cd75e76c20b77dec2be0cb36892f5cc79dbec0b
&gt; "Validate that the Referer matches up with scheme, host and port of the
&gt; machine that received the request"
&gt;
&gt; Since the referer (http://mysupderduperwebapp.xyz/snazzypage.html) will not
&gt; match the scheme, host and port of the riak node that received the request
&gt; no image will be served.
&gt; Is there any way to configure riak 1.2.0 to allow any referer header value?
&gt;

If you're running requests to Riak through a firewall/proxy, why not
rewrite the Referrer header there? In nginx, it'd be something like
this:

proxy\\_set\\_header Referer http://nginx.localdomain/keyspace...;

-- Doug
http://www.dmuth.org/

