---
title: "Re: ripple: uninitialized constant ManyLinkProxy"
description: ""
project: community
lastmod: 2010-05-28T14:15:40-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00457"
mailinglist_parent_id: "msg00456"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2010-05-28T14:15:40-07:00
---


When I say "embedded associations", I mean the association's target class is an 
EmbeddedDocument. I know for certain that Adam Hunter, who did most of the work 
for those, is using them in his application.

At this point I don't have an estimate for when it will be ready to use, but 
given the upcoming holiday weekend, I plan to carve out some time to update the 
library.

In the meantime, yes you could use links on the underlying RObject, but it'll 
be a little bit fiddly.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On May 28, 2010, at 5:07 PM, francisco treacy wrote:

&gt; Thanks for the prompt reply, Sean.
&gt; 
&gt; What do you mean by "embedded associations"? How do you create those?
&gt; For the moment I'll work with with "property :items, Array, :default =&gt; [] ".
&gt; 
&gt; As links are quite essential to work with Riak, do you have an
&gt; estimation when this functionality will be ready for use?
&gt; 
&gt; Maybe a workaround is using links in the underlying RObject, although
&gt; it's a Document protected instance method.
&gt; 
&gt; Francisco
&gt; 
&gt; 
&gt; 2010/5/28 Sean Cribbs :
&gt;&gt; Francisco,
&gt;&gt; 
&gt;&gt; I'm sorry this didn't make it around to you yet (I think it was in the recap 
&gt;&gt; a few days ago). The associations feature is incomplete and thus only 
&gt;&gt; embedded associations work. I might change it to raise a 
&gt;&gt; NotImplementedError until they are.
&gt;&gt; 
&gt;&gt; Sean Cribbs 
&gt;&gt; Developer Advocate
&gt;&gt; Basho Technologies, Inc.
&gt;&gt; http://basho.com/
&gt;&gt; 
&gt;&gt; On May 28, 2010, at 4:09 PM, francisco treacy wrote:
&gt;&gt; 
&gt;&gt;&gt; I am having an issue with Ripple:
&gt;&gt;&gt; 
&gt;&gt;&gt; $ rails c
&gt;&gt;&gt; ruby-1.9.1-p378 &gt; user = User.find('francisco.tre...@gmail.com')
&gt;&gt;&gt; [...]
&gt;&gt;&gt; ruby-1.9.1-p378 &gt; user.books
&gt;&gt;&gt; NameError: uninitialized constant 
&gt;&gt;&gt; Ripple::Document::Associations::ManyLinkProxy
&gt;&gt;&gt; from 
&gt;&gt;&gt; /Users/ftreacy/.rvm/gems/ruby-1.9.1-p378/gems/activesupport-3.0.0.beta3/lib/active\\_support/inflector/methods.rb:114:in
&gt;&gt;&gt; `block in constantize'
&gt;&gt;&gt; from 
&gt;&gt;&gt; /Users/ftreacy/.rvm/gems/ruby-1.9.1-p378/gems/activesupport-3.0.0.beta3/lib/active\\_support/inflector/methods.rb:113:in
&gt;&gt;&gt; `each'
&gt;&gt;&gt; 
&gt;&gt;&gt; when accessing a one-to-many association.
&gt;&gt;&gt; 
&gt;&gt;&gt; Am I doing something wrong or it looks like a bug?
&gt;&gt;&gt; 
&gt;&gt;&gt; This is the class:
&gt;&gt;&gt; 
&gt;&gt;&gt; class User
&gt;&gt;&gt; include Ripple::Document
&gt;&gt;&gt; 
&gt;&gt;&gt; property :name, String
&gt;&gt;&gt; property :email, String, :presence =&gt; true
&gt;&gt;&gt; property :password, String
&gt;&gt;&gt; property :password\\_confirmation, String
&gt;&gt;&gt; property :confirmation\\_sent\\_at, Time
&gt;&gt;&gt; 
&gt;&gt;&gt; many :books
&gt;&gt;&gt; 
&gt;&gt;&gt; timestamps!
&gt;&gt;&gt; 
&gt;&gt;&gt; def key
&gt;&gt;&gt; email
&gt;&gt;&gt; end
&gt;&gt;&gt; 
&gt;&gt;&gt; def id
&gt;&gt;&gt; email
&gt;&gt;&gt; end
&gt;&gt;&gt; 
&gt;&gt;&gt; end
&gt;&gt;&gt; 
&gt;&gt;&gt; Using:
&gt;&gt;&gt; gem 'rails', '3.0.0.beta3'
&gt;&gt;&gt; gem "ripple", "0.7.0"
&gt;&gt;&gt; 
&gt;&gt;&gt; Thanks,
&gt;&gt;&gt; Francisco
&gt;&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
