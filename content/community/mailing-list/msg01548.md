---
title: "Re: several crashes on my dev machine"
description: ""
project: community
lastmod: 2010-11-15T13:26:47-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01548"
mailinglist_parent_id: "msg01547"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2010-11-15T13:26:47-08:00
---


Yes, that looks like you don't have enough available file handles. What's the 
`ulimit -n` output in the shell where you start Riak?

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On Nov 15, 2010, at 3:22 PM, Andrea Campolonghi wrote:

&gt; probably this is more usefull:
&gt; 
&gt; =ERROR REPORT==== 15-Nov-2010::21:01:03 ===
&gt; \\*\\* Generic server memsup terminating 
&gt; \\*\\* Last message in was {'EXIT',&lt;0.746.0&gt;,
&gt; {emfile,
&gt; [{erlang,open\\_port,
&gt; [{spawn,"/bin/sh -s unix:cmd 2&gt;&1"},
&gt; [stream]]},
&gt; {os,start\\_port\\_srv\\_loop,2}]}}
&gt; \\*\\* When Server state == [{data,[{"Timeout",60000}]},
&gt; {items,{"Memory Usage",
&gt; [{"Allocated",3034040000},
&gt; {"Total",3703892000}]}},
&gt; {items,{"Worst Memory User",
&gt; [{"Pid",&lt;0.7.0&gt;},{"Memory",230504}]}}]
&gt; \\*\\* Reason for termination == 
&gt; \\*\\* {emfile,[{erlang,open\\_port,[{spawn,"/bin/sh -s unix:cmd 2&gt;&1"},[stream]]},
&gt; {os,start\\_port\\_srv\\_loop,2}]}
&gt; 
&gt; =INFO REPORT==== 15-Nov-2010::21:01:03 ===
&gt; alarm\\_handler: {clear,system\\_memory\\_high\\_watermark}
&gt; 
&gt; =ERROR REPORT==== 15-Nov-2010::21:01:03 ===
&gt; \\*\\* Generic server memsup terminating 
&gt; \\*\\* Last message in was {'EXIT',&lt;0.749.0&gt;,
&gt; {emfile,
&gt; [{erlang,open\\_port,
&gt; [{spawn,"/bin/sh -s unix:cmd 2&gt;&1"},
&gt; [stream]]},
&gt; {os,start\\_port\\_srv\\_loop,2}]}}
&gt; \\*\\* When Server state == {state,{unix,darwin},
&gt; false,undefined,undefined,false,60000,30000,
&gt; 0.8,0.05,&lt;0.749.0&gt;,#Ref&lt;0.0.0.2299&gt;,undefined,
&gt; [reg],
&gt; []}
&gt; \\*\\* Reason for termination == 
&gt; \\*\\* {emfile,[{erlang,open\\_port,[{spawn,"/bin/sh -s unix:cmd 2&gt;&1"},[stream]]},
&gt; {os,start\\_port\\_srv\\_loop,2}]}
&gt; 
&gt; =ERROR REPORT==== 15-Nov-2010::21:01:03 ===
&gt; \\*\\* Generic server memsup terminating 
&gt; \\*\\* Last message in was {'EXIT',&lt;0.752.0&gt;,
&gt; {emfile,
&gt; [{erlang,open\\_port,
&gt; [{spawn,"/bin/sh -s unix:cmd 2&gt;&1"},
&gt; [stream]]},
&gt; {os,start\\_port\\_srv\\_loop,2}]}}
&gt; \\*\\* When Server state == {state,{unix,darwin},
&gt; false,undefined,undefined,false,60000,30000,
&gt; 0.8,0.05,&lt;0.752.0&gt;,#Ref&lt;0.0.0.2304&gt;,undefined,
&gt; [reg],
&gt; []}
&gt; \\*\\* Reason for termination == 
&gt; \\*\\* {emfile,[{erlang,open\\_port,[{spawn,"/bin/sh -s unix:cmd 2&gt;&1"},[stream]]},
&gt; {os,start\\_port\\_srv\\_loop,2}]}
&gt; 
&gt; =ERROR REPORT==== 15-Nov-2010::21:01:03 ===
&gt; \\*\\* Generic server memsup terminating 
&gt; \\*\\* Last message in was {'EXIT',&lt;0.755.0&gt;,
&gt; {emfile,
&gt; [{erlang,open\\_port,
&gt; [{spawn,"/bin/sh -s unix:cmd 2&gt;&1"},
&gt; [stream]]},
&gt; {os,start\\_port\\_srv\\_loop,2}]}}
&gt; \\*\\* When Server state == {state,{unix,darwin},
&gt; false,undefined,undefined,false,60000,30000,
&gt; 0.8,0.05,&lt;0.755.0&gt;,#Ref&lt;0.0.0.2310&gt;,undefined,
&gt; [reg],
&gt; []}
&gt; \\*\\* Reason for termination == 
&gt; \\*\\* {emfile,[{erlang,open\\_port,[{spawn,"/bin/sh -s unix:cmd 2&gt;&1"},[stream]]},
&gt; {os,start\\_port\\_srv\\_loop,2}]}
&gt; 
&gt; =ERROR REPORT==== 15-Nov-2010::21:01:03 ===
&gt; \\*\\* Generic server memsup terminating 
&gt; \\*\\* Last message in was {'EXIT',&lt;0.758.0&gt;,
&gt; {emfile,
&gt; [{erlang,open\\_port,
&gt; [{spawn,"/bin/sh -s unix:cmd 2&gt;&1"},
&gt; [stream]]},
&gt; {os,start\\_port\\_srv\\_loop,2}]}}
&gt; \\*\\* When Server state == {state,{unix,darwin},
&gt; false,undefined,undefined,false,60000,30000,
&gt; 0.8,0.05,&lt;0.758.0&gt;,#Ref&lt;0.0.0.2315&gt;,undefined,
&gt; [reg],
&gt; []}
&gt; \\*\\* Reason for termination == 
&gt; \\*\\* {emfile,[{erlang,open\\_port,[{spawn,"/bin/sh -s unix:cmd 2&gt;&1"},[stream]]},
&gt; {os,start\\_port\\_srv\\_loop,2}]}
&gt; 
&gt; =INFO REPORT==== 15-Nov-2010::21:01:03 ===
&gt; application: os\\_mon
&gt; exited: shutdown
&gt; type: permanent
&gt; {"Kernel pid 
&gt; terminated",application\\_controller,"{application\\_terminated,os\\_mon,shutdown}"}
&gt; 
&gt; 
&gt; 
&gt; Crash dump was written to: erl\\_crash.dump
&gt; 
&gt; Kernel pid terminated (application\\_controller) 
&gt; ({application\\_terminated,os\\_mon,shutdown})
&gt; 
&gt; 
&gt; Andrea
&gt; 
&gt; 2010/11/15 Sean Cribbs 
&gt; It would be more useful to see the erlang.log.\\* file(s) where the crash 
&gt; occurred.
&gt; 
&gt; Sean Cribbs 
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; http://basho.com/
&gt; 
&gt; On Nov 15, 2010, at 3:06 PM, Andrea Campolonghi wrote:
&gt; 
&gt;&gt; I am using riak on my dev machine ( OSX ) an d I am getting several crashes.
&gt;&gt; I attach the crash file report.
&gt;&gt; 
&gt;&gt; Any suggestion?
&gt;&gt; So I probably need to increase riak allocated memory?
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; -- 
&gt;&gt; Andrea Campolonghi
&gt;&gt; 
&gt;&gt; Cell : +39 347 2298435
&gt;&gt; acampolon...@gmail.com
&gt;&gt; and...@andreacfm.com
&gt;&gt; http://www.andreacfm.com
&gt;&gt; 
&gt;&gt; Railo Team
&gt;&gt; and...@getrailo.org
&gt;&gt; http://getrailo.org
&gt;&gt; 
&gt;&gt; 
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; 
&gt; 
&gt; 
&gt; 
&gt; -- 
&gt; Andrea Campolonghi
&gt; 
&gt; Cell : +39 347 2298435
&gt; acampolon...@gmail.com
&gt; and...@andreacfm.com
&gt; http://www.andreacfm.com
&gt; 
&gt; Railo Team
&gt; and...@getrailo.org
&gt; http://getrailo.org
&gt; 
&gt; 

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

