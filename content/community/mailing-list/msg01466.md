---
title: "Re: Data stored in Search *and* KV ?"
description: ""
project: community
lastmod: 2010-11-04T12:18:01-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01466"
mailinglist_parent_id: "msg01463"
author_name: "Nicolas Fouché"
project_section: "mailinglistitem"
sent_date: 2010-11-04T12:18:01-07:00
---


Thanks, I understand now. These two products are still a bit "separate".

Best,
Nicolas


On Thu, Nov 4, 2010 at 7:21 PM, Rusty Klophaus  wrote:
&gt; Hi Nicolas,
&gt; Search stores a representation of the indexed object so that it knows what
&gt; to do later if you delete the object, change the object, or re-index the
&gt; object with a different analyzer. The representation allows us to delete the
&gt; old inverted index entries correctly.
&gt; We have considered adding a toggle to disable storage of the representation
&gt; object for write-once data, but it's not something the system currently
&gt; supports.
&gt; Best,
&gt; Rusty
&gt; On Thu, Nov 4, 2010 at 10:33 AM, Nicolas Fouché 
&gt; wrote:
&gt;&gt;
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; Following the discussion with seancribbs and Tv on #riak:
&gt;&gt; http://pastie.org/private/acxekqyapbk7fz1hcp8udg
&gt;&gt;
&gt;&gt; I only index documents with the bucket precommit hook and I do all my
&gt;&gt; searches via Map/Reduce queries.
&gt;&gt; I'm not sure how Search works, if there is an inverted index and a
&gt;&gt; forward index. I'm just "worried" about storing full documents in the
&gt;&gt; Search forward index \\*and\\* in KV, as I would just need the Search
&gt;&gt; forward index to store the document id (=key in KV).
&gt;&gt;
&gt;&gt; Do you consider this as a problem ? Is it how the way Search works,
&gt;&gt; and I would have to live with data stored twice ?
&gt;&gt;
&gt;&gt; -- Nicolas
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

