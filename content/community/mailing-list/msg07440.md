---
title: "Re: erlang-http-client and riak::search"
description: ""
project: community
lastmod: 2012-05-11T10:21:01-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07440"
mailinglist_parent_id: "msg07430"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2012-05-11T10:21:01-07:00
---


On Thu, May 10, 2012 at 8:15 PM, Gregory Haskins
wrote:

&gt; Hi All,
&gt;
&gt; I'm working on an erlang client of the riak::search functionality built
&gt; into riak-1.1.2. While I do see the support for querying data that is
&gt; already indexed (rhc:search), I do not see how to index and/or remove data
&gt; from the database. I do see this functionality in other clients, such as
&gt; ruby or the raw HTTP/SOLR interface, so I know its technically possible on
&gt; the backend Am I just missing something, or is the erlang client for
&gt; riak::search not yet feature complete? If its not, I would be willing to
&gt; submit some patches to help bring it up to speed, but I figured I would ask
&gt; in case I am just looking in the wrong places.
&gt;

Greg,

The best way to use Search is for indexing KV data by installing the
precommit hook. There are APIs to write docs that don't go through KV but
IMO they never should have been added to Search and I plan to focus it on
indexing KV data only in the coming months.

I would love to see better Search support across all the clients. I'm
actually surprised people use the erlang-http-client. It seems if you're
in Erlang already why not just use the protobuff client?

Looking at the client, one good thing to do right off the bat is \\_not\\_ use
map/reduce just to pull back the keys. That is adding latency and using
more resources on the server for no good reason.

Anyways, I'm supposed to be on vacation right now and not writing emails.
 If you decide to write some pull-requests I'm happy to help with
questions/reviewing.

-Z
