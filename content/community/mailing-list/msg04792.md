---
title: "Riak indexing issue with PBClient"
description: ""
project: community
lastmod: 2011-09-20T04:39:34-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04792"
author_name: "vijayakumar"
project_section: "mailinglistitem"
sent_date: 2011-09-20T04:39:34-07:00
---


Hi,

RiakSearch fails to index non-default fields when the records are inserted
into a bucket with java PBClient.
For the below mentioned schema definition and sample record, indexing
happens only for 'name' field and not for 'accountid'.
However, the same succeeds when records are inserted via curl. Help me out
if I am missing anything else.

Schema Defintion:

 {
 schema,
 [
 {version, "1.1"},
 {default\\_field, "name"},
 {default\\_op, "or"},
 {n\\_val, 2},
 {analyzer\\_factory, {erlang, text\\_analyzers,
whitespace\\_analyzer\\_factory}}
 ],
 [
 %% Parse the field in preparation for full-text searching.
 {field, [
 {name, "accountid"},
 {required, true},
 {analyzer\\_factory, {erlang, text\\_analyzers,
standard\\_analyzer\\_factory}}
 ]},
 {field, [
 {name, "name"},
 {required, true},
 {analyzer\\_factory, {erlang, text\\_analyzers,
standard\\_analyzer\\_factory}}
 ]},

 {dynamic\\_field, [
 {name, "\\*"},
 {skip, true}
 ]}
 ]
}.

Sample Record:
{"accountid":"testaccount","name":"testapplication","status":"activated"}


Thanks,
Vijayakumar
