---
title: "Re: Binary vs Integer secondary index speed"
description: ""
project: community
lastmod: 2011-12-15T09:13:53-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05964"
mailinglist_parent_id: "msg05933"
author_name: "Rusty Klophaus"
project_section: "mailinglistitem"
sent_date: 2011-12-15T09:13:53-08:00
---


Hi Jeremy,

I believe that the performance difference for any single query operation
(or index operation) would be negligible. I'm making this assumption based
on the fact that integers will probably encode into fewer bytes than a
binary, but the encoding process is slightly more complex than a binary.

The biggest tradeoff will be in terms of storage space, which would
indirectly affect both indexing speed and query speed, especially for
clusters with very large numbers of objects.

If you (or anybody in the community) is interested in some light Erlang
hacking, there is a secondary index driver into basho\\_bench that currently
only supports benchmarking with integers. It should be fairly
straightforward to extend this to use binaries, and then do some
head-to-head comparisons. The file is basho\\_bench\\_driver\\_2i.erl.

Best,
Rusty

On Wed, Dec 14, 2011 at 11:21 AM, Jeremy Raymond wrote:

&gt; Would an integer based secondary index be faster than a binary secondary
&gt; index for exact matching lookups?
&gt;
&gt; --
&gt; Jeremy
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;


-- 
Rusty Klophaus (@rustyio)
\\*Basho Technologies, Inc.\\*
www.basho.com
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

