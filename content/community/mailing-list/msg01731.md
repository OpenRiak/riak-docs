---
title: "Re: java client concurrent connection"
description: ""
project: community
lastmod: 2010-12-06T04:22:20-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01731"
mailinglist_parent_id: "msg01723"
author_name: "Jan Buchholdt"
project_section: "mailinglistitem"
sent_date: 2010-12-06T04:22:20-08:00
---


 The config.setMaxConnections is not connected to the underlying 
httpConnectionManager. I guess that is an error in the implementation of 
the RiakClient. Try to use something like:


RiakClient riakClient = new com.basho.riak.client.RiakClient(config);
MultiThreadedHttpConnectionManager cm = 
(MultiThreadedHttpConnectionManager) 
riakClient.getHttpClient().getHttpConnectionManager();

HttpConnectionManagerParams params = cm.getParams();
params.setDefaultMaxConnectionsPerHost(50);


--
Jan Buchholdt
Software Pilot
Trifork A/S
Cell +45 50761121

On 2010-12-05 20:53, Wilson MacGyver wrote:

Hi,

I'm using the riak java client.

according to http://bitbucket.org/jonjlee/riak-java-client/src

if you use the following

config.setMaxConnections(50);

this let the riak client opens 50 concurrent connections.

in practice, I'm not seeing that. I set it to 250, and still all I see is 1
inbound connection on riak node if I use netstat to view list of
inbound connections.

Is it working? What am I missing?

Thanks

