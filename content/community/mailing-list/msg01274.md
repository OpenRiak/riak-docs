---
title: "Re: Upgrade procedure from 0.12 to 0.13"
description: ""
project: community
lastmod: 2010-10-13T10:40:29-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01274"
author_name: "David Smith"
project_section: "mailinglistitem"
sent_date: 2010-10-13T10:40:29-07:00
---


To the best of my knowledge, there are no changes between 0.12-&gt;0.13
that would prevent a rolling upgrade. That said, we have not tested
that specific use-case yet -- it's in the pipeline to be part of our
pre-release automated testing.

I'd recommend you'd try it on a QA cluster before doing it live...but
it should generally work. :)

D.

On Wed, Oct 13, 2010 at 11:30 AM, Alexander Sicular  wrote:
&gt; Well it sounds to me that there are three primary considerations. Riak\\_core, 
&gt; Riak\\_kv and bitcask (assuming you are using that backend). If either of those 
&gt; change in some incompatible way you could end up doing damage to your data. I 
&gt; dunno, sounds possible to me. That said, rolling upgrades would be ... 
&gt; desirable. Personally I would not do it unless Basho said it was kosher.
&gt;
&gt; -Alexander
&gt;
&gt;
&gt; On Oct 13, 2010, at 1:23 PM, Wilson MacGyver wrote:
&gt;
&gt;&gt; I thought it's possible to do "rolling upgrade". ie, shutdown 1 node,
&gt;&gt; upgrade it, and reconnect the
&gt;&gt; node to the cluster.
&gt;&gt;
&gt;&gt; otherwise you'd need 2X of the nodes in production.
&gt;&gt;
&gt;&gt; On Wed, Oct 13, 2010 at 1:21 PM, Alexander Sicular  
&gt;&gt; wrote:
&gt;&gt;&gt; I'm pretty sure that Baho would recommend that all nodes in a cluster 
&gt;&gt;&gt; should be running the same version. An upgrade would probably require doing 
&gt;&gt;&gt; a full database backup and a full database restore on a \\*new\\* cluster.
&gt;&gt;&gt;
&gt;&gt;&gt; -Alexander
&gt;&gt;&gt;
&gt;&gt;&gt; On Oct 13, 2010, at 10:06 AM, SKester wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Hey folks,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; What is the proper way to upgrade a cluster from 0.12 to 0.13?  Our 4 node 
&gt;&gt;&gt;&gt; cluster was originally created by installing the 0.12 rpms.  Is the 
&gt;&gt;&gt;&gt; process as simple as stopping  riak on a node, installing the new rpm and 
&gt;&gt;&gt;&gt; re-starting?  Is it possible to roll through each node one at a time while 
&gt;&gt;&gt;&gt; the others are still available, or do all nodes need to be halted and 
&gt;&gt;&gt;&gt; upgraded at the same time?  I have backed up the /etc/riak directory to 
&gt;&gt;&gt;&gt; save the initial config data.  Are the 0.12 config files fully compatible 
&gt;&gt;&gt;&gt; with 0.13?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;&gt; Scott
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; -Alexander Sicular
&gt;&gt;&gt;
&gt;&gt;&gt; @siculars
&gt;&gt;&gt;
&gt;&gt;&gt;

&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; --
&gt;&gt; Omnem crede diem tibi diluxisse supremum.
&gt;
&gt;
&gt; -Alexander Sicular
&gt;
&gt; @siculars
&gt;
&gt;
