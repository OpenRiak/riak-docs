---
title: "Re: Lager question..."
description: ""
project: community
lastmod: 2011-08-28T15:52:18-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04494"
mailinglist_parent_id: "msg04493"
author_name: "Andrew Thompson"
project_section: "mailinglistitem"
sent_date: 2011-08-28T15:52:18-07:00
---


On Sun, Aug 28, 2011 at 10:56:58AM -0700, Bryan Hughes wrote:
&gt; Hi Everyone,
&gt; 
&gt; Wasnt sure where to post this question, so sorry if this is the wrong place.
&gt; 
&gt; We have Riak as our persistence and have decided to switch to Lager
&gt; as our logging framework for the entire system - good stuff!!! So
&gt; far things have been going well. Unfortunately I am encountering
&gt; unexpected results from the same code running on Erlang R14B02
&gt; (erts-5.8.3) on a MacBook Pro and a 32bit Ubuntu 11 instance. Both
&gt; Erlangs were downloaded from source and compiled with the same
&gt; flags.
&gt; 
&gt; The issue is with the formatted results of a float using ~w.
&gt; 
&gt; On the Linux instance:
&gt; 
&gt; (herd@127.0.0.1)4&gt; lager:log(info, self(), "~w", [1.0]).
&gt; 22:33:32.329 [info] 1.00000000000000000000e+00
&gt; ok
&gt; 
&gt; On the Mac:
&gt; 
&gt; (herd@127.0.0.1)2&gt; lager:log(info, self(), "~w", [1.0]).
&gt; 22:43:22.208 [info] 1.0
&gt; ok
&gt; 
&gt; ~p formats correctly, but it also prettifies the output which is not
&gt; desirable for logs that may be parsed later.
&gt; 
Interestingly, I see the same result on both my 64 bit macbook and my 64
bit linux installs. I get the 

18:49:23.358 [info] 1.00000000000000000000e+00

style print.

I will look into the issue. Are the git commit ids for lager the same on
both machines?

Andrew

