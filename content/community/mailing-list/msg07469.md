---
title: "large ring_creation_size"
description: ""
project: community
lastmod: 2012-05-16T17:48:05-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07469"
author_name: "Sam Lang"
project_section: "mailinglistitem"
sent_date: 2012-05-16T17:48:05-07:00
---


Hello,

I have a 10 node cluster with 12 disks/devices per node. I have setup riak
in a jbod environment with separate riak nodes per device, resulting in 120
riak nodes total. Based on the documentation, I set the ring\\_creation\\_size
to 4096, which gives me ~34 partitions/node and allows me to expand the
cluster in the future. With this value, soon after starting the 12 riak
nodes on a given physical node, I get "Too many processes" errors and the
riak nodes fail. Decreasing the value of ring\\_creation\\_size to 1024
(giving me ~8 partitions per riak node) prevents the riak nodes from
failing, but then expanding the cluster becomes a problem (30 physical
nodes would result in only ~3 partitions per node).

Is there a reasonable limit on the value of ring\\_creation\\_size?
