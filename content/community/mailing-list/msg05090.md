---
title: "Re: Help! Make suddenly is failing : {'EXIT', {{badmatch, {ok,	{pokemon_pb, [{abstract_code, no_abstract_code}]}}}"
description: ""
project: community
lastmod: 2011-10-06T19:23:42-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05090"
mailinglist_parent_id: "msg05088"
author_name: "Jared Morrow"
project_section: "mailinglistitem"
sent_date: 2011-10-06T19:23:42-07:00
---


Bryan,

I've tried both clean clones and builds of riak and riak-erlang-client and
haven't seen any issue. Can you put your entire output in a gist or
pastebin and link it in an email so I can try to see what is happening?

Thanks,
Jared

On Thu, Oct 6, 2011 at 7:00 PM, Bryan Hughes  wrote:

&gt; Was able to isolate that the problem is in the protobuffs repo that
&gt; riak-erlang-client pulls down in its rebar. Its broken or something. I was
&gt; able to copy over an older version of that code and it now builds.
&gt;
&gt; Cheers,
&gt; Bryan
&gt;
&gt;
&gt;
&gt; On 10/6/11 5:36 PM, Bryan Hughes wrote:
&gt;
&gt;&gt; Help! I did a make clean and got new deps
&gt;&gt;
&gt;&gt; ./rebar get-deps
&gt;&gt;
&gt;&gt; and then did a make
&gt;&gt;
&gt;&gt; =INFO REPORT==== 6-Oct-2011::17:29:21 ===
&gt;&gt; Writing header file to "riakclient\\_pb.hrl"
&gt;&gt; ERROR: compile failed while processing /Users/bryan/projects/git/\\*\\*
&gt;&gt; wobblesoft/engineering/herd\\_\\*\\*server/deps/riakc: {'EXIT',{{badmatch,{ok,{
&gt;&gt; \\*\\*pokemon\\_pb,[{abstract\\_code,no\\_\\*\\*abstract\\_code}]}}},
&gt;&gt; [{protobuffs\\_compile,output,4}\\*\\*,
&gt;&gt; {rebar\\_protobuffs\\_compiler,\\*\\*compile\\_each,1},
&gt;&gt; {rebar\\_core,run\\_modules,4},
&gt;&gt; {rebar\\_core,execute,4},
&gt;&gt; {rebar\\_core,process\\_dir,4},
&gt;&gt; {rebar\\_core,process\\_each,5},
&gt;&gt; {rebar\\_core,process\\_dir,4},
&gt;&gt; {rebar\\_core,process\\_commands,\\*\\*1}]}}
&gt;&gt; make: \\*\\*\\* [all] Error 1
&gt;&gt;
&gt;&gt;
&gt;&gt; Here is my rebar.config
&gt;&gt;
&gt;&gt; %% -\\*- erlang -\\*-
&gt;&gt;
&gt;&gt; {compile\\_pre\\_script, "scripts/generate-include.sh"}\\*\\*.
&gt;&gt; {erl\\_opts, [debug\\_info, {parse\\_transform, lager\\_transform}]}.
&gt;&gt; {deps, [{riakc, ".\\*", {git, "git://github.com/basho/riak-\\*\\*
&gt;&gt; erlang-client.git ",
&gt;&gt; {branch, "HEAD"}}},
&gt;&gt; {mochiweb, ".\\*", {git, 
&gt;&gt; "git://github.com/mochi/\\*\\*mochiweb.git",
&gt;&gt; {branch, "HEAD"}}},
&gt;&gt; {lager, ".\\*", {git, 
&gt;&gt; "git://github.com/basho/lager.\\*\\*git",
&gt;&gt; {branch, "HEAD"}}},
&gt;&gt; {erlydtl, ".\\*", {git, 
&gt;&gt; "git://github.com/evanmiller/\\*\\*erlydtl.git",
&gt;&gt; {branch, "HEAD"}}}
&gt;&gt; ]}.
&gt;&gt; {cover\\_enabled, true}.
&gt;&gt; {eunit\\_opts, [verbose, {report,{eunit\\_surefire,[{dir,\\*\\*"."}]}}]}.
&gt;&gt;
&gt;&gt;
&gt;&gt; Thanks!
&gt;&gt; Bryan
&gt;&gt;
&gt;&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\*\\*\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/\\*\\*mailman/listinfo/riak-users\\_\\*\\*lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

