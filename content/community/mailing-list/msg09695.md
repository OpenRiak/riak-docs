---
title: "Re: Date search"
description: ""
project: community
lastmod: 2012-12-28T08:54:27-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09695"
mailinglist_parent_id: "msg09694"
author_name: "Daniel Gerep"
project_section: "mailinglistitem"
sent_date: 2012-12-28T08:54:27-08:00
---


No results Alexander because of the : on the hour..removing them it works
but I can't change the date format.

I don't get the "noop tokenizer"...this is my schema file, already updated
making the date fields as string.

%% Schema for 'logs'

{
 schema,
 [
 {version, "1.1"},
 {n\\_val, 3},
 {default\\_field, "value"},
 {analyzer\\_factory, {erlang, text\\_analyzers,
whitespace\\_analyzer\\_factory}}
 ],
 [
 {dynamic\\_field, [
 {name, "terminal\\_id"},
 {type, integer},
 {analyzer\\_factory, {erlang, text\\_analyzers,
integer\\_analyzer\\_factory}}
 ]},

 {dynamic\\_field, [
 {name, "\\*"},
 {type, string},
 {analyzer\\_factory, {erlang, text\\_analyzers,
whitespace\\_analyzer\\_factory}}
 ]}
 ]
}.


On 28 December 2012 14:08, Alexander Sicular  wrote:

&gt; Change your schema.erl for that bucket to index those date fields as
&gt; strings. I believe it's the "noop" tokenizer.
&gt;
&gt;
&gt; @siculars
&gt; http://siculars.posterous.com
&gt;
&gt; Sent from my iRotaryPhone
&gt;
&gt; On Dec 28, 2012, at 9:35, Daniel Gerep  wrote:
&gt;
&gt; Hi all,
&gt;
&gt; I'm saving logs like this:
&gt;
&gt; {"transaction\\_type": "company","app\\_name": "app.posxml","started\\_at": 
&gt; "2012/12/28
&gt; 12:23:19","finished\\_at": "2012/12/28 12:23:26","serial\\_number":
&gt; "941-823-764","terminal\\_id": "474","framework\\_version": "3.53","status":
&gt; "timeout","sent": "3130504220202008000000010926155750100334380D","received
&gt; ": "5676182745146776819287501928735143928376891D"}
&gt;
&gt; I have created a schema for this bucket defining the started\\_at and
&gt; finished\\_at as date.
&gt;
&gt; This is the result from a search, just to make sure the two fields are
&gt; date:
&gt;
&gt; \\*
&gt; 
&gt; 20121228121940-MjAxMjEyMjgxMjE5NDA=117233
&gt; app.posxml
&gt; 2012/12/28 12:19:40
&gt; 3.50
&gt; 5676182745146776819287501928735143928376891D
&gt; 3130504220202008000000010926155750100334380D
&gt; 158-271-426
&gt; 2012/12/28 12:19:33
&gt; running
&gt; 715
&gt; switch
&gt; 
&gt; \\*
&gt;
&gt; I made a test changing the date, removing the "/" and ":", it works
&gt; perfectly using riak\\_search.
&gt;
&gt; http://localhost:8098/solr/dg1\\_logs/select?q=started\\_at:[20121228122319 TO
&gt; 20121228200000]
&gt;
&gt; The thing is that I cannot change the way that the dates are saved, they
&gt; must have this format.
&gt;
&gt; I'm trying to make this work:
&gt;
&gt; http://localhost:8098/solr/dg1\\_logs/select?q=started\\_at:[2012/12/28
&gt; 12:23:19 TO 2012/12/28 
&gt; 20:00:00]
&gt;
&gt; Is it possible?
&gt;
&gt; Thanks in advance
&gt;
&gt; --
&gt; \\*
&gt; \\*
&gt; \\*Att\\*
&gt; \\*Daniel Gerep\\*
&gt; \\*
&gt; \\*
&gt; Live long and prosper
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;


-- 
\\*
\\*
\\*Att\\*
\\*Daniel Gerep\\*
\\*
\\*
Live long and prosper
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

