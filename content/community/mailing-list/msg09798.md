---
title: "Re: Missing SST File"
description: ""
project: community
lastmod: 2013-01-11T05:24:36-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09798"
mailinglist_parent_id: "msg09797"
author_name: "Matthew Von-Maszewski"
project_section: "mailinglistitem"
sent_date: 2013-01-11T05:24:36-08:00
---


What version of Riak?

Likely you need to take the node offline and run repair.

Matthew


On Jan 11, 2013, at 4:50 AM, Shane McEwan  wrote:

&gt; G'day!
&gt; 
&gt; I posted this to the LevelDB mailing list with little success. Apologies if 
&gt; you've already seen this from there.
&gt; 
&gt; We've started getting errors in a LevelDB LOG file about a missing SST file:
&gt; 
&gt; 2013/01/10-15:08:12.714525 7fb0767fa700 Compacting 14@0 + 7@1 files
&gt; 2013/01/10-15:08:25.121147 7fb0767fa700 compacted to: files[ 14 7 50 105 0 0 
&gt; 0 ]
&gt; 2013/01/10-15:08:25.121488 7fb0767fa700 Delete type=2 #111404
&gt; 2013/01/10-15:08:25.147976 7fb0767fa700 Compaction error: IO error: 
&gt; /data/riak/leveldb/902020541790166644828836732692080926193895866368/006558.sst:
&gt; No such file or directory
&gt; 
&gt; I assume it means we've got an SST file listed in the MANIFEST file that 
&gt; doesn't exist anymore. The SST in question doesn't exist in any of the 
&gt; snapshots I have around the time it was likely to have been created.
&gt; 
&gt; I saw mention of a bug fixed in the latest LevelDB[1] that could cause what 
&gt; we're seeing except that we haven't run out of disk space so I'm not sure 
&gt; we've hit that. I'm less interested in HOW it happened since we've moved to 
&gt; different hardware since then.
&gt; 
&gt; We haven't noticed any missing data in our database (perhaps Riak replicas 
&gt; are helping there?) and even if there is something missing the nature of our 
&gt; data means that we can probably live without it.
&gt; 
&gt; My question is, can we remove the offending file's entry out of the MANIFEST 
&gt; file somehow? Or will it sort itself out? Currently our idle test database is 
&gt; spinning at 100% CPU trying to compact a file that doesn't exist.
&gt; 
&gt; [1] https://groups.google.com/forum/#!msg/leveldb/Kc9JxuIUu5A/9P0N9RL4ar8J
&gt; 
&gt; Any advice would be greatly appreciated. Thanks!
&gt; 
&gt; Shane.
&gt; 
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

