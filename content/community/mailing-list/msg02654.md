---
title: "Re: riak search"
description: ""
project: community
lastmod: 2011-03-15T09:59:29-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02654"
mailinglist_parent_id: "msg02652"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2011-03-15T09:59:29-07:00
---

Riak only speaks JavaScript and erlang.

Iirc, riak will only index keys in a bucket that are added after the 
post commit hook. So one way to do it would be to script a solution to 
read from bucket A and write to indexed bucket B.

@siculars on twitter
http://siculars.posterous.com

Sent from my iPhone

On Mar 15, 2011, at 12:53, Saurabh Sehgal  wrote:


Hi Sean,

Please let me know if I am wrong - but according to my 
understanding, the documents to index should reside on disk (the 
example on the wiki indexes \\*.txt files in a directory). What if my 
data is not written to files, but exists in a riak bucket. Do I have 
to pull it out and store it in a file on disk to be able to index it ?


Also, do you know if there are any erlang clients/helper libs for 
solr. I could not find any. Can the post commit hooks in riak be 
written in Java ?


Thank you,

Saurabh

On Tue, Mar 15, 2011 at 5:27 AM, Sean Cribbs  wrote:
Saurabh,

If you want to go with Solr, you have a few options:

1) Use application code to post an  document to Solr when 
saving your data into Riak.
2) Implement a Riak post-commit hook in Erlang to do the same, or to 
queue the additions to another process that can submit them to Solr.


I think you'll find that while on-disk indexes sound bad, that's 
actually how Solr does them too, and not every index query will hit 
disk on either system. The primary difference is that Riak Search 
is tightly integrated with Riak KV and so you get a lot for free 
when you choose Riak Search, including auto-indexing and MapReduce 
queries that start with a search.


Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On Mar 15, 2011, at 2:08 AM, Saurabh Sehgal wrote:


Hi,

Since riak search is marked as "Beta Software" on the wiki, I am 
skeptical to use it in production.


Does riak offer any APIs or integration points that would allow me 
to index data into Solr ?
Specifically, I am storing key/value pairs in riak, where the value 
is a binary erlang term containing a tuple of text I would like to 
index.


Also, going through the riak search documentation, the erlang API 
seems to only have the capability of indexing documents
on disk as files (please correct me if this isn't true). Is there 
functionality to automatically retrieve and index documents already 
stored in riak ?

--

Saurabh


--
Saurabh Sehgal
E-mail: saurabh....@gmail.com
Phone: 425-269-1324
LinkedIn: http://www.linkedin.com/pub/1/7a3/436


--
Saurabh Sehgal
E-mail: saurabh....@gmail.com
Phone: 425-269-1324
LinkedIn: http://www.linkedin.com/pub/1/7a3/436

