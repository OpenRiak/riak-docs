---
title: "Re: Riak Search 0.14 Released"
description: ""
project: community
lastmod: 2011-01-25T04:56:08-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02111"
mailinglist_parent_id: "msg02095"
author_name: "Rusty Klophaus"
project_section: "mailinglistitem"
sent_date: 2011-01-25T04:56:08-08:00
---


Hi Scott,

Good points. We deviate from Lucene's Standard tokenizer in a few key ways.
I'll add more description to the wiki. Thanks for the input.

Best,
Rusty

On Mon, Jan 24, 2011 at 2:14 PM, Scott Gonyea  wrote:

&gt; One concern from me is calling it standard\\_analyzer\\_factory... That name
&gt; is semi-in-use by Solr:
&gt;
&gt;
&gt; http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters#solr.StandardTokenizerFactory
&gt;
&gt;
&gt; And
&gt; did not have the same behavior as the (previously) Default Tokenizer.
&gt; That'll have a lot of potential to confuse people coming from Solr. I'd
&gt; suggest calling it something like Generic Analyzer Factory--or at least
&gt; sticking some scary wording around it in the wiki.
&gt;
&gt; Scott
&gt;
&gt; On Monday, January 24, 2011 at 10:53 AM, Rusty Klophaus wrote:
&gt;
&gt; Hello Riak Users,
&gt;
&gt; We are excited to announce the release of Riak Search version 0.14!
&gt;
&gt; Pre-built installations and source tarballs are available at:
&gt; http://downloads.basho.com/
&gt;
&gt; Release notes are at (also copied below):
&gt;
&gt; https://github.com/basho/riak\\_search/raw/riak\\_search-0.14.0/releasenotes/riak\\_search-0.14.0.txt
&gt;
&gt; Thanks,
&gt; Basho
&gt;
&gt; -------------------------------
&gt; Riak Search 0.14.0 Release Notes
&gt; --------------------------------
&gt;
&gt; The majority of effort during development of Riak Search 0.14 went
&gt; toward rewriting the query parsing and planning system. This fixes all
&gt; known query planning bugs. We also managed to add quite a few new
&gt; features and performance improvements. See the highlights below for
&gt; details.
&gt;
&gt; Important Configuration and Interface Changes:
&gt;
&gt; - The system now uses the 'whitespace\\_analyzer\\_factory' by
&gt; default. (It previously used the 'default\\_analyzer\\_factory', which
&gt; has been renamed to 'standard\\_analyzer\\_factory'.)
&gt;
&gt; - Indexing and searching will fail with an error message if the
&gt; analyzer\\_factory configuration setting is not set at either a schema
&gt; or field level.
&gt;
&gt; - The method signature for custom Erlang and Javascript extractors has
&gt; changed.
&gt;
&gt; Highlights:
&gt;
&gt; - Fixed the query parser to properly respect field-level analyzer
&gt; settings.
&gt;
&gt; - Fixed the query parser to correctly handle escaped special
&gt; characters and terms within single-quotes and double-quotes.
&gt;
&gt; - Fixed the query parser's interpretation of inclusive and exclusive
&gt; ranges, allowing an inclusive range on one side, and an exclusive
&gt; range on the other (mimicking Lucene).
&gt;
&gt; - Fixed the execution engine to significantly speed up proximity
&gt; searches and phrase searches. (678)
&gt;
&gt; - By default new installations use all Erlang-based extractors, and
&gt; the JVM is not started. Setting the analysis\\_port in etc/app.config
&gt; will cause the JVM to start and allow the use of Java Lucene-based
&gt; analyzers.
&gt;
&gt; - System now aborts queries that would queue up too many documents in
&gt; a result set. This is controlled by a 'max\\_search\\_results' setting
&gt; in riak\\_search. Note that this only affects the Solr
&gt; interface. Searches through the Riak Client API that feed into a
&gt; Map/Reduce job are still allowed to execute because the system
&gt; streams those results.
&gt;
&gt; - Change handoff of Search data stored in merge\\_index to be more
&gt; memory efficient.
&gt;
&gt; - Added "\\*\\_date", "\\*\\_int", "\\*\\_text", and "\\*\\_txt" dynamic fields to the
&gt; default schema.
&gt;
&gt; ------------
&gt; Improvements
&gt; ------------
&gt;
&gt; 414 - ETS backend now fully functional (415, 795)
&gt; 592 - Make parser multi-schema aware
&gt; 783 - Pass Search Props as KeyData to Map/Reduce Query
&gt; 788 - Add support for indexing Erlang terms / proplists
&gt; 839 - Create a way to globally clear schema cache
&gt; 925 - Change search-cmd commands (set\\_schema, etc.) to use dashes.
&gt;
&gt; ----------
&gt; Fixed Bugs
&gt; ----------
&gt;
&gt; 186 - Qilr fails when parsing ISO8601 dates
&gt; 311 - Qilr does not correctly parse negative numbers
&gt; 363 - Range queries broken for negative numbers
&gt; 369 - Range queries broken for ALL integer fields
&gt; 405 - Update search:index\\_dir/N to de-index old documents first
&gt; 411 - Our handling of NOT is different from Solr - "NOT X", "AND NOT X", "AND 
&gt; (NOT X)"
&gt; 609 - Calling search:search or search:explain with a binary hangs shell
&gt; 611 - Error in inclusive/exclusive range building
&gt; 612 - Single term queries shouldn't include proximity clauses
&gt; 622 - schema and schemachange test fail after new parser
&gt; 711 - Update new #range operator to support negative integers
&gt; 729 - Make Qilr use analyzer specified in schema
&gt; 732 - Word Position is thrown off by Stopwords
&gt; 764 - The function search:delete\\_doc/2 blocks if run after search:index\\_dir/2
&gt; 797 - Ranges with quoted terms do not return correct results
&gt; 801 - Anonymous javascript extractors stored in Bucket/Keys validate but are 
&gt; not implemented
&gt; 802 - Schema allows default field that is not defined, but breaks when 
&gt; analyzing
&gt; 803 - Cannot use search m/r with riak\\_client:mapred
&gt; 832 - Query parser fails on escaped special characters
&gt; 833 - Proximity searching is currently broken for Whitespace Analyzer
&gt; 836 - Integer padding is ignored for dynamic fields
&gt; 837 - The parser interprets hyphens as negations (NOT)
&gt; 840 - JSON and raw extractors assumes a default field of "value"
&gt; 849 - Default Erlang Analyzer misses 'that' and 'then' as stop words
&gt; 850 - text\\_analyzers module is not tail-recursive
&gt; 864 - Solr output chokes on dates
&gt; 885 - Coordinating node exits if result set exceeds available memory
&gt; 886 - Query parser error when searching on terms that contain the @ symbol
&gt; 935 - Change merge\\_index fold to be unordered
&gt; 956 - Error when setting rs\\_extractfun through Curl/JSON
&gt;
&gt; ------------
&gt; Known Issues
&gt; ------------
&gt;
&gt; 362 - Sorting broken on negative numbers
&gt; 399 - Handoff can potentially lead to extraneous postings pointing to a 
&gt; missing or changed document
&gt; 790 - Indexing data too quickly can exhaust the ETS table limit
&gt; 814 - text\\_analyzer:default\\_analyzer\\_factory skips unicode code points beyond 
&gt; 0x7f
&gt; 861 - merge\\_index throws errors when data path contains a period
&gt; 866 - Sorting positions may change between Solr Searches
&gt; 867 - Solr "rows" and "start" parameters are applied too early
&gt; 908 - Solr q.op parameter is ignored (Regression)
&gt; 955 - Range searching and wildcards across UTF-8 data is broken
&gt; 957 - Error when viewing bucket properties with a set rs\\_extractfun
&gt;
