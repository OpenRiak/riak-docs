---
title: "Re: commit hooks and parameters"
description: ""
project: community
lastmod: 2011-04-26T07:04:18-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03145"
mailinglist_parent_id: "msg03144"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2011-04-26T07:04:18-07:00
---


Jon,

If you're using a precommit, it could easily strip those extra metadata headers 
from the object, since it is allowed to modify the object. Kresten has written 
some code in riak\\_link\\_index that captures extra information in a precommit and 
then acts on them in a postcommit. As long as your postcommit is structured 
properly, you could turn actions on and off with a bucket property or metadata 
header.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On Apr 26, 2011, at 9:58 AM, Jon Brisbin wrote:

&gt; Do commit hooks (pre/post/whatever) have any access to parameters of any kind 
&gt; (other than document metadata headers)? Can I get the webmachine parameters 
&gt; for a given request, for instance?
&gt; 
&gt; I'm wanting to find a way to alter behaviour of the hook for each request. 
&gt; The only way I can see to do that now is to pass metadata headers, which get 
&gt; stored with the document (in the case of a postcommit hook) which is not 
&gt; always what I want.
&gt; 
&gt; I'd really like the ability to temporarily suspend triggering of the hook for 
&gt; a "batch" of operations. The only way I can see to do that now is to actually 
&gt; remove the hook from the bucket completely and re-set it afterwards.
&gt; 
&gt; Is there a better way to go about this?
&gt; 
&gt; Thanks!
&gt; 
&gt; Jon Brisbin
&gt; 
&gt; http://jbrisbin.com
&gt; Twitter: @j\\_brisbin
&gt; 
&gt; 
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

