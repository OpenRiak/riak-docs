---
title: "Re: Riak failed to start within 15 seconds,"
description: ""
project: community
lastmod: 2012-07-25T19:42:37-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08070"
mailinglist_parent_id: "msg08062"
author_name: "Joe Caswell"
project_section: "mailinglistitem"
sent_date: 2012-07-25T19:42:37-07:00
---


We have seen this a couple times. A common cause is the riak user needs
write access to the $PIPE\\_DIR in order to start properly. PIPE\\_DIR is
usually /tmp/riak/, check your riak script to make sure. If the directory
doesn't exist, it will be created with unix perm 755. Verify that the
riak user owns that directory, and has write permission to the parent
directory.

On 7/25/12 10:19 PM, "Shuhao Wu"  wrote:

&gt;This seems to be a somewhat common issue nowadays. I have this under
&gt;one of my server as well, though it's a debian 6 64bit.
&gt;
&gt;Cheers,
&gt;Shuhao
&gt;
&gt;
&gt;On Wed, Jul 25, 2012 at 12:29 PM, David Montgomery
&gt; wrote:
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; I am new to riak.
&gt;&gt;
&gt;&gt; I followed the instructions for a cluster setup at
&gt;&gt; https://wiki.basho.com/Basic-Cluster-Setup.html. It did not work. I
&gt;&gt; am using ubuntu64
&gt;&gt;
&gt;&gt; I changed the ip in app.confing and vm.args and stoped the service.
&gt;&gt;
&gt;&gt; then I ran the below.
&gt;&gt;
&gt;&gt; riak-admin reip riak@127.0.0.1 r...@xxx.xxx.xxx.xxx
&gt;&gt; Attempting to restart script through sudo -u riak
&gt;&gt; Backed up existing ring file to
&gt;&gt; "/var/lib/riak/ring/riak\\_core\\_ring.default.20120724221850.BAK"
&gt;&gt; New ring file written to
&gt;&gt; "/var/lib/riak/ring/riak\\_core\\_ring.default.20120725161924"
&gt;&gt; root@i-157-16777-VM:~# sudo service riak start
&gt;&gt; Riak failed to start within 15 seconds,
&gt;&gt; see the output of 'riak console' for more information.
&gt;&gt; If you want to wait longer, set the environment variable
&gt;&gt; WAIT\\_FOR\\_ERLANG to the number of seconds to wait.
&gt;&gt;
&gt;&gt; riak-admin status | grep ring\\_members yield no resutls
&gt;&gt;
&gt;&gt; I am now at a deadend. How to resolve?
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;riak-users mailing list
&gt;riak-users@lists.basho.com
&gt;http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;



\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

