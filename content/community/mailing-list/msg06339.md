---
title: "Re: Binaries or Strings for Secondary Index in Erlang PB Client?"
description: ""
project: community
lastmod: 2012-01-20T10:17:38-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06339"
mailinglist_parent_id: "msg06338"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2012-01-20T10:17:38-08:00
---


Jeremy,

Binaries will more closely represent the internal representation on the
Riak side, so that would probably be the preferred method.

On Fri, Jan 20, 2012 at 11:14 AM, Jeremy Raymond wrote:

&gt; I assume the preferred type to be binaries?
&gt;
&gt; --
&gt; Jeremy
&gt;
&gt;
&gt;
&gt; On Fri, Jan 20, 2012 at 1:07 PM, Sean Cribbs  wrote:
&gt; &gt; Jeremy,
&gt; &gt;
&gt; &gt; We're sorry you ran into this! Please file a bug report or or send a
&gt; &gt; pull-request to the Github project:
&gt; &gt; https://github.com/basho/riak-erlang-client/issues. We will be working
&gt; to
&gt; &gt; resolve inconsistencies like these in the next dev cycle, across all our
&gt; &gt; supported clients.
&gt; &gt;
&gt; &gt; On Fri, Jan 20, 2012 at 9:51 AM, Jeremy Raymond 
&gt; wrote:
&gt; &gt;&gt;
&gt; &gt;&gt; The Erlang PB client gives and takes secondary index information as
&gt; &gt;&gt; binaries in some places and strings in others. For example
&gt; &gt;&gt; riakc\\_pb\\_socket:get\\_index/4 wants the Index and Key as binaries.
&gt; &gt;&gt; Retrieving the index information from the meta data of an object read
&gt; &gt;&gt; out of Riak gives the Index and Key as strings.
&gt; &gt;&gt;
&gt; &gt;&gt; Can strings and binaries be used interchangeable for indexes
&gt; &gt;&gt; throughout the API? Or is is such that the representation inside of a
&gt; &gt;&gt; riak\\_obj is a strings, but API functions want it as binaries?
&gt; &gt;&gt;
&gt; &gt;&gt; The inconsistency is a bit of a nuisance. In testing of some of my
&gt; &gt;&gt; application's logic I'm setting an index on a new object using binary
&gt; &gt;&gt; values, I query the index using the binary values, but when I read it
&gt; &gt;&gt; back they're strings.
&gt; &gt;&gt;
&gt; &gt;&gt; --
&gt; &gt;&gt; Jeremy
&gt; &gt;&gt;
&gt; &gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt;&gt; riak-users mailing list
&gt; &gt;&gt; riak-users@lists.basho.com
&gt; &gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; --
&gt; &gt; Sean Cribbs 
&gt; &gt; Software Engineer
&gt; &gt; Basho Technologies, Inc.
&gt; &gt; http://basho.com/
&gt; &gt;
&gt;

-- 
Sean Cribbs 
Software Engineer
Basho Technologies, Inc.
http://basho.com/
