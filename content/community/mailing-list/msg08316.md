---
title: "Re: Looking for a replacement datastore"
description: ""
project: community
lastmod: 2012-08-17T11:28:51-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08316"
mailinglist_parent_id: "msg08309"
author_name: "Parnell Springmeyer"
project_section: "mailinglistitem"
sent_date: 2012-08-17T11:28:51-07:00
---


I use Riak at my company primarily for time series data; I quickly learned that 
key filters were a bad idea (when I designed our data model, I had the uid's of 
the objects in MySQL plus the timestamp of the data piece) and once I moved to 
Map/Reduce using Erlang module/functions, it dramatically improved response 
time and stability. It works really well for me IMHO.

OpenTSDB is also a great option; but we use Riak for quite a few other things 
INCLUDING MySQL and Redis - so I didn't want 4 DBs running around (3 is 
enough). Riak is working very well for these needs.

On Aug 17, 2012, at 8:01 AM, Alexander Zhuravlev wrote:

&gt; On Thu, Aug 16, 2012 at 04:20:50PM -0600, Shawn Parrish wrote:
&gt;&gt; Howdy Riak folk,
&gt;&gt; 
&gt;&gt; We're looking for a possible datastore replacement for our server
&gt;&gt; monitoring check results. Maybe some of you can offer feedback if
&gt;&gt; Riak is a possible good solution.
&gt;&gt; 
&gt;&gt; Each ping, http request, etc has a result with various metadata that
&gt;&gt; we store. We're looking at about 250 million results a month and that
&gt;&gt; number continues to grow.
&gt;&gt; 
&gt;&gt; We query this data for:
&gt;&gt; 1. last result (is the server up or down?)
&gt;&gt; 2. if it's up, when was the last 'down' and inversely when it's down,
&gt;&gt; when was the last up?
&gt;&gt; 3. Full detail of the last 5 results (to show recent results)
&gt;&gt; 4. Last 24 hours results (usually ~1440 results) to graph
&gt;&gt; 5. Results in a date range (example: all results from July 1 through
&gt;&gt; July 31)... this can be very large.
&gt;&gt; 
&gt;&gt; We currently use bigcouch (Couchdb) but the views and built in
&gt;&gt; \\_all\\_docs slow down with so many results and especially when we call
&gt;&gt; them with 'include\\_docs', cause we need the details of the results as
&gt;&gt; well.
&gt;&gt; 
&gt;&gt; We're trying to trim down the total results stored by summarizing
&gt;&gt; older data and deleting it but that slows down Couchdb views even
&gt;&gt; farther.
&gt;&gt; 
&gt;&gt; Questions:
&gt;&gt; 1. Is Riak a possible datastore for this use case? Can I get so many
&gt;&gt; results, including all the details quickly enough?
&gt;&gt; 2. Do you know of another datastore that might be better?
&gt; 
&gt; I would recommend to take a look at OpenTSDB (http://opentsdb.net/).
&gt; -- 
&gt; Alexander Zhuravlev
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

