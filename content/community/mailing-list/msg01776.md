---
title: "Re: Ordered index in Riak"
description: ""
project: community
lastmod: 2010-12-11T13:44:27-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01776"
mailinglist_parent_id: "msg01774"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2010-12-11T13:44:27-08:00
---


As with all multi-object retrievals, you'll need to use MapReduce. Make the 
last phase of your query a "sort" phase. If the result of your map phase is a 
JSON object that contains the "timestamp" field, the reduce phase might look 
like this:

function(values){
 return values.sort(function(a,b){ return a.timestamp - b.timestamp; });
}

If your key includes the timestamp, you could return the whole object from the 
map phase, and sort by the key instead. This will be even easier if your 
timestamp is in a reasonable format, e.g. ISO8601, where lexical and numeric 
sorting are essentially equivalent. The function above assumes you're using a 
numerical timestamp value, like UNIX epoch time.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On Dec 11, 2010, at 4:17 PM, Joshua Partogi wrote:

&gt; Hi there,
&gt; 
&gt; As I have been told, there is no ordered index in riak. So my question is, 
&gt; how do you guys implement an ordered index or how do you order a set of data 
&gt; in riak i.e by timestamps?
&gt; 
&gt; Thanks for sharing.
&gt; 
&gt; -- 
&gt; http://twitter.com/jpartogi

