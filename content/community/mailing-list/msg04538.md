---
title: "Re: object not stored"
description: ""
project: community
lastmod: 2011-08-31T08:36:44-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04538"
mailinglist_parent_id: "msg04537"
author_name: "Giancarlo Frison"
project_section: "mailinglistitem"
sent_date: 2011-08-31T08:36:44-07:00
---


This is the bucket conf:

gfrison@gfw:~$ curl http://localhost:8098/riak/user
{"props":{"name":"user","n\\_val":3,"allow\\_mult":false,"last\\_write\\_wins":false,"precommit":[],"postcommit":[],"chash\\_keyfun":{"mod":"riak\\_core\\_util","fun":"chash\\_std\\_keyfun"},"linkfun":{"mod":"riak\\_kv\\_wm\\_link\\_walker","fun":"mapreduce\\_linkfun"},"old\\_vclock":86400,"young\\_vclock":20,"big\\_vclock":50,"small\\_vclock":10,"r":"quorum","w":"quorum","dw":"quorum","rw":"quorum"}}

the server is single instance, the configuration is the default, no changes.

I store the object as:

rc.store(ob, new StoreMeta(1, 1, true))
w=1,dw=1,returnbody=true


Can you help me?

Giancarlo Frison



On Wed, Aug 31, 2011 at 4:01 PM, Jonathan Langevin &lt;
jlange...@loomlearning.com&gt; wrote:

&gt; That could occur, depending on how many nodes are in your cluster, what
&gt; your r/w/dw settings are set to when fetching the object, how soon after
&gt; storing you attempt to fetch.
&gt; What is your configuration? i.e. - how many nodes in your cluster, what
&gt; settings are you using for reading & writing to Riak (r/w/dw, etc), what are
&gt; your bucket settings set to?
&gt;
&gt; I'm not advanced enough to help, but that info should hopefully help the
&gt; others on the list ;-)
&gt; \\*
&gt;
&gt; 
&gt; Jonathan Langevin
&gt; Systems Administrator
&gt; Loom Inc.
&gt; Wilmington, NC: (910) 241-0433 - jlange...@loomlearning.com -
&gt; www.loomlearning.com - Skype: intel352
&gt; \\*
&gt;
&gt;
&gt; On Wed, Aug 31, 2011 at 9:29 AM, Giancarlo Frison wrote:
&gt;
&gt;&gt; Hi all,
&gt;&gt;
&gt;&gt; Sometimes happen that storing object with PB client doesn't work, the
&gt;&gt; snippet is:
&gt;&gt;
&gt;&gt; IRiakObject ob =
&gt;&gt; RiakObjectBuilder.newBuilder(bucket,key).withContentType("application/json").withValue(json).build();
&gt;&gt; return rc.store(ob, new StoreMeta(1, 1, true)).getVclock().getBytes();
&gt;&gt;
&gt;&gt; below it is the snoop of storing action. As you can see the riak server is
&gt;&gt; invoked by the client and return the object:
&gt;&gt;
&gt;&gt; T 127.0.0.1:52015 -&gt; 127.0.0.1:8087 [AP]
&gt;&gt; .....
&gt;&gt; .user..gfrison"..
&gt;&gt;
&gt;&gt; G{"name":"Giancarlo","id":"gfrison","password":"pwd","surname":"frison"}..application/json;charset=utf-82"
&gt;&gt; .eclass-general\\_domain..User..iof(.0.8.
&gt;&gt; ##
&gt;&gt; T 127.0.0.1:8087 -&gt; 127.0.0.1:52015 [AP]
&gt;&gt; .....
&gt;&gt; ..
&gt;&gt;
&gt;&gt; G{"name":"Giancarlo","id":"gfrison","password":"pwd","surname":"frison"}..application/json;charset=utf-8\\*.4fXUimzXj3g0ukJHcpuxm32"
&gt;&gt; .eclass-general\\_domain..User..iof8.....@
&gt;&gt; ..).\\*k.a```.`..R,..E..L..y....W..A....L.
&gt;&gt; ?..g..
&gt;&gt;
&gt;&gt;
&gt;&gt; but when I try to get such object, I got not found:
&gt;&gt;
&gt;&gt; gfrison@ttw:~$ curl http://localhost:8098/riak/user/gfrison
&gt;&gt; not found
&gt;&gt;
&gt;&gt; Have you any hint on it?
&gt;&gt;
&gt;&gt; thanks!
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; Giancarlo Frison
&gt;&gt; @gfrison
&gt;&gt;
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

