---
title: "Re: Best way to \"refresh\" a riak server?"
description: ""
project: community
lastmod: 2012-06-18T16:20:30-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07710"
mailinglist_parent_id: "msg07709"
author_name: "Joseph Guhlin"
project_section: "mailinglistitem"
sent_date: 2012-06-18T16:20:30-07:00
---


It's not a machine I have root on but yeah, the obvious solution I
could just store it as a tar and rm the directory and untar. Sorry I
missed that!

Thanks!
--Joseph

On Mon, Jun 18, 2012 at 6:16 PM, Mark Rose  wrote:
&gt; Hi Joseph,
&gt;
&gt; The obvious solution that springs to mind is using a snapshot, either at the
&gt; block level (LVM), file system (ZFS, btrfs), or virtual machine level.
&gt;
&gt; -Mark
&gt;
&gt; On Mon, Jun 18, 2012 at 7:10 PM, Joseph Guhlin 
&gt; wrote:
&gt;&gt;
&gt;&gt; What is the best way to refresh a Riak server? I'm using it in a
&gt;&gt; different way in that I do not need any persistence of the data and in
&gt;&gt; fact need the data cleared out each restart(but the data is too large
&gt;&gt; to hold in RAM).
&gt;&gt;
&gt;&gt; Basically I am using riak(or a cluster of 4, depending on where I'm at
&gt;&gt; in the development stages) to store objects that are shared between 12
&gt;&gt; processes that are independent from each other and each given a chunk
&gt;&gt; to work on, in the end all the necessary data is exported to flat
&gt;&gt; textfiles.
&gt;&gt;
&gt;&gt; I've found when I restart riak I end up getting errors when I try to
&gt;&gt; re-input the data. I've tried rm -rf'ing the data directory and it
&gt;&gt; definitely does not like that.  So far make clean; make rel  has been
&gt;&gt; the best solution for me.
&gt;&gt;
&gt;&gt; I'm sure for my use case there is a better tool(or not, Riak works
&gt;&gt; great, gives me fast read/write support and let's me store the data in
&gt;&gt; encoded form to be passed to other processes for later mangling). Any
&gt;&gt; ideas?
&gt;&gt;
&gt;&gt; Sorry if this has been asked before, I tried searching and couldn't
&gt;&gt; come up with anything.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; --Joseph
&gt;
&gt;

