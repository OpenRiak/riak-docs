---
title: "Re: HTTP or PB cluster client issue"
description: ""
project: community
lastmod: 2012-09-24T05:24:40-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08663"
mailinglist_parent_id: "msg08626"
author_name: "Brian Roach"
project_section: "mailinglistitem"
sent_date: 2012-09-24T05:24:40-07:00
---


Agreed.

Unfortunately there's a number of issues with the ClusterClient that
are not easily solved; what you've discovered is one of them. As Guido
notes, HAProxy is a far better solution at the moment.

I'm looking at what I can do to address these issues but it's going to
take some fairly large scale changes.

Thanks,
Brian Roach

On Fri, Sep 21, 2012 at 9:43 AM, Guido Medina  wrote:
&gt; Hi,
&gt;
&gt; It is the Java client which to be honest, doesn't handle well one node
&gt; going down, so, for example, in my company we use HA proxy for that, here is
&gt; a starting configuration: https://gist.github.com/1507077
&gt;
&gt; Once we switched to HA proxy we just use a simple client without cluster
&gt; config, so the Java client doesn't know anything about the load balancing
&gt; going on. It works well, I can upgrade and restart servers without our Java
&gt; application be complaining.
&gt;
&gt; Regards,
&gt;
&gt; Guido.
&gt;
&gt;
&gt; On 21/09/12 16:36, Lei Gu wrote:
&gt;&gt;
&gt;&gt; Hi Brian,
&gt;&gt; We are moving past the performance testing and onto failover testing.
&gt;&gt; I have a five-node cluster and created a PB and HTTP clustered client
&gt;&gt; based on the cook book. I tested out and everything seems to be working.
&gt;&gt; Then I shutdown one node in the cluster and all my tests failed. It seems
&gt;&gt; like the PB and HTTP cluster client connects to all configured nodes
&gt;&gt; initially and will throw an exception if any node is down. Does this defeat
&gt;&gt; the purpose of clustering? In my test, I have 10 threads, each creates a PB
&gt;&gt; and HTTP cluster client and then goes on to execute a series of tests. From
&gt;&gt; the attached log file, you can see every test thread is failing at
&gt;&gt; connection the down node, even though there are four other nodes that can do
&gt;&gt; the work.
&gt;&gt;
&gt;&gt; Also, is the failover automatic or we have to catch the connection refused
&gt;&gt; exception and creating a new client or just re-execute the method?
&gt;&gt;
&gt;&gt; Is using a load balancer a better way to handle failover/load balancing
&gt;&gt; issue?
&gt;&gt; Appreciate you insights and help.
&gt;&gt; Best regards,
&gt;&gt; -- Lei
&gt;&gt;
&gt;&gt;
&gt;&gt; pbf clients =
&gt;&gt; r1-riak-lei.lm4.eng.e-dialog.com,r2-riak-lei.lm4.eng.e-dialog.com,r3-riak-lei.lm4.eng.e-dialog.com,r4-riak-lei.lm4.eng.e-dialog.com,r5-riak-lei.lm4.eng.e-dialog.com
&gt;&gt;
&gt;&gt; http clients =
&gt;&gt; r1-riak-lei.lm4.eng.e-dialog.com,r2-riak-lei.lm4.eng.e-dialog.com,r3-riak-lei.lm4.eng.e-dialog.com,r4-riak-lei.lm4.eng.e-dialog.com,r5-riak-lei.lm4.eng.e-dialog.com
&gt;&gt;
&gt;&gt; Looup patterns = folder\\_root\\_2\\_5\\_%s\\_%s
&gt;&gt;
&gt;&gt; SLF4J: Class path contains multiple SLF4J bindings.
&gt;&gt;
&gt;&gt; SLF4J: Found binding in
&gt;&gt; [jar:file:/Users/legu/.m2/repository/ch/qos/logback/logback-classic/0.9.30/logback-classic-0.9.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]
&gt;&gt;
&gt;&gt; SLF4J: Found binding in
&gt;&gt; [jar:file:/Users/legu/opensource-projects/logback-0.9.30/logback-classic-0.9.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]
&gt;&gt;
&gt;&gt; SLF4J: Found binding in
&gt;&gt; [jar:file:/Users/legu/opensource-projects/apache-tomcat-6.0.35/lib/logback-classic-0.9.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]
&gt;&gt;
&gt;&gt; SLF4J: See http://www.slf4j.org/codes.html#multiple\\_bindings for an
&gt;&gt; explanation.
&gt;&gt;
&gt;&gt; Exception in thread "Thread-11" java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt; Exception in thread "Thread-5" java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt; Exception in thread "Thread-9" java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt; Exception in thread "Thread-4" java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt; Exception in thread "Thread-2" java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt; Exception in thread "Thread-8" java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt; Exception in thread "Thread-10" java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt; Exception in thread "Thread-7" java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt; Exception in thread "Thread-3" java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt; Exception in thread "Thread-6" java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; The information contained in this electronic mail transmission is intended
&gt;&gt; only for the use of the individual or entity named in this transmission. If
&gt;&gt; you are not the intended recipient of this transmission, you are hereby
&gt;&gt; notified that any disclosure, copying or distribution of the contents of
&gt;&gt; this transmission is strictly prohibited and that you should delete the
&gt;&gt; contents of this transmission from your system immediately. Any comments or
&gt;&gt; statements contained in this transmission do not necessarily reflect the
&gt;&gt; views or position of GSI Commerce, Inc. or its subsidiaries and/or
&gt;&gt; affiliates.
&gt;
&gt;
&gt;

