---
title: "Add the riak_search_kv_hook precommit hook into app.config"
description: ""
project: community
lastmod: 2012-11-04T19:55:30-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09190"
author_name: "thefosk"
project_section: "mailinglistitem"
sent_date: 2012-11-04T19:55:30-08:00
---


Hi,

I'm not an Erlang developer but I'm having an hard time to add the
riak\\_search\\_kv\\_hook precommit hook directly into the app.config (to make it
global through every bucket). I'm typing:

{precommit, [{riak\\_search\\_kv\\_hook}]}

But I'm getting the following error (most probably due to a wrong syntax):

{error,badarg,
 [{erlang,iolist\\_to\\_binary,
 [{invalid\\_hook\\_def,{riak\\_search\\_kv\\_hook}}],
 []},
 {wrq,append\\_to\\_response\\_body,2,[{file,"src/wrq.erl"},{line,204}]},
 {riak\\_kv\\_wm\\_object,handle\\_common\\_error,3,
 [{file,"src/riak\\_kv\\_wm\\_object.erl"},{line,998}]},
 {webmachine\\_resource,resource\\_call,3,
 [{file,"src/webmachine\\_resource.erl"},{line,169}]},
 {webmachine\\_resource,do,3,
 [{file,"src/webmachine\\_resource.erl"},{line,128}]},
 {webmachine\\_decision\\_core,resource\\_call,1,
 [{file,"src/webmachine\\_decision\\_core.erl"},{line,48}]},
 {webmachine\\_decision\\_core,accept\\_helper,0,
 [{file,"src/webmachine\\_decision\\_core.erl"},{line,583}]},
 {webmachine\\_decision\\_core,decision,1,
 [{file,"src/webmachine\\_decision\\_core.erl"},{line,447}]}]}}

What's the correct syntax for setting it?

--
View this message in context: 
http://riak-users.197444.n3.nabble.com/Add-the-riak-search-kv-hook-precommit-hook-into-app-config-tp4025921.html
Sent from the Riak Users mailing list archive at Nabble.com.

