---
title: "Re: Any performance comparison / best practice advice for choosing a	riak backend ?"
description: ""
project: community
lastmod: 2010-08-29T07:59:26-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00971"
mailinglist_parent_id: "msg00968"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2010-08-29T07:59:26-07:00
---


I'm not certain the purpose of the gb\\_trees backend as opposed to ets, although 
I imagine it might have faster lookups (and slower inserts). The fs\\_backend 
uses one file per object, meaning that you will need lots of files open on a 
live system.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On Aug 29, 2010, at 3:33 AM, Neville Burnell wrote:

&gt; Thanks Sean,
&gt; 
&gt; Do riak\\_kv\\_gb\\_trees\\_backend and riak\\_kv\\_fs\\_backend have particular 
&gt; strengths/weaknesses?
&gt; 
&gt; Kind Regards
&gt; 
&gt; Neville
&gt; When would one use 
&gt; 
&gt; On 29 August 2010 01:02, Sean Cribbs  wrote:
&gt; Your choice should be dictated by your use-case. In most situations, 
&gt; "riak\\_kv\\_bitcask\\_backend" (the default) will work for you. It stores data on 
&gt; disk in a fast (append-only) log-structured file format. If your data is 
&gt; transient or doesn't need to persist across restarts (and needs to be fast), 
&gt; try "riak\\_kv\\_ets\\_backend" or "riak\\_kv\\_cache\\_backend"; the latter uses a 
&gt; global LRU timeout. If you want to use several of the backends in the same 
&gt; cluster (for different buckets), use the "riak\\_kv\\_multi\\_backend" and 
&gt; configure each backend separately.
&gt; 
&gt; Sean Cribbs 
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; http://basho.com/
&gt; 
&gt; On Aug 28, 2010, at 5:10 AM, Neville Burnell wrote:
&gt; 
&gt;&gt; Hi,
&gt;&gt; 
&gt;&gt; I'm new to riak, and have been busily reading though the wiki, watching the 
&gt;&gt; videos, and catching up on the mail list, so I will have lots of questions 
&gt;&gt; over the next few weeks - so sorry 
&gt;&gt; 
&gt;&gt; To begin, I'm curious about the characteristics of the seven backends for 
&gt;&gt; riak [1]
&gt;&gt; 
&gt;&gt; riak\\_kv\\_bitcask\\_backend - stores data to bitcask
&gt;&gt; riak\\_kv\\_fs\\_backend - stores data directly to files in a nested directory 
&gt;&gt; structure on disk
&gt;&gt; riak\\_kv\\_ets\\_backend - stores data in ETS tables (which makes it volatile 
&gt;&gt; storage, but great for debugging)
&gt;&gt; riak\\_kv\\_dets\\_backend - stores data on-disk in DETS tables
&gt;&gt; riak\\_kv\\_gb\\_trees\\_backend - stores data using Erlang gb\\_trees
&gt;&gt; riak\\_kv\\_cache\\_backend - turns a bucket into a memcached-type memory cache, 
&gt;&gt; and ejects the least recently used objects either when the cache becomes 
&gt;&gt; full or the object's lease expires
&gt;&gt; riak\\_kv\\_multi\\_backend - configure per-bucket backends
&gt;&gt; Unfortunately this amount of choice means I need to do my homework to make 
&gt;&gt; an informed decision ;-) so I'd love any pointers or to hear any advice on 
&gt;&gt; performance comparisons, best practices, backends for development vs 
&gt;&gt; deployment etc
&gt;&gt; 
&gt;&gt; Kind Regards
&gt;&gt; 
&gt;&gt; Neville
&gt;&gt; 
&gt;&gt; [1] http://wiki.basho.com/display/RIAK/How+Things+Work#HowThingsWork-Backends
&gt; 
&gt; 

