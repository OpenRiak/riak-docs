---
title: "Designing Your Buckets"
description: ""
project: community
lastmod: 2010-10-14T22:49:31-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01300"
author_name: "Cagdas Tulek"
project_section: "mailinglistitem"
sent_date: 2010-10-14T22:49:31-07:00
---


Hi,

I'm a newbie to Riak (and riak like databases) and unfortunately I am a long
time RDB user. So, my mind is very biased but I try to think differently and
this will take some time.

What I understand is that you try to avoid range queries and map/reduce
operations for live traffic. This part, I guess I understand better.

However, one thing that I don't understand is the needs on admin side.
Although on frontend you can play smart to limit the objects that a user
should interact, on the admin side you usually want to list all records and
usually you want them to be sorted by id or creation time. These are also
true for your stats etc.

How do you design your buckets in Riak to solve this problem? Or do you use
different approaches on admin side.

One (maybe dirty) solution with my RDB biased mind is to have auxiliary
buckets to list items:
books/book1..n
lists/list1..n
where list-i is an array of x keys (where x is a small number like 10, 20).
This way we can have features like pagination. Same thing maybe for days:
days/20101014

I try to find slides/documents about these topics but usually the
information I find is about dealing with individual items and their
relations, not a list of these items.

I would appreciate any resources addressing these problems.

Best,

Cagdas
