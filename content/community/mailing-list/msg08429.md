---
title: "Re: How Reduce RAM usage as much as possible"
description: ""
project: community
lastmod: 2012-09-01T02:41:03-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08429"
mailinglist_parent_id: "msg08428"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2012-09-01T02:41:03-07:00
---


David,

That restriction applies to the default Bitcask storage engine. The
LevelDB storage engine does not suffer the same restriction, but also
is not as fast. Even for a small amount of data, stored in LevelDB,
1GB is a bit small for decent performance. Riak will consume around
30MB when idle and empty and slightly more under load, but you need
plenty of OS buffers to keep your live data in RAM, so 1GB doesn't
give you much headroom.

That said, if your needs are modest, you can start with smaller
machines and get better ones later. It is much easier in Riak 1.2 to
replace existing nodes using the 'riak-admin cluster replace' command,
which will basically give all partitions from the old node to the new
node. Have a look at this page for more information:
http://wiki.basho.com/Command-Line-Tools---riak-admin.html#cluster

On Sat, Sep 1, 2012 at 10:34 AM, David Montgomery
 wrote:
&gt; Hi,
&gt;
&gt; From my understanding keys are stored in RAM.
&gt;
&gt; For the interim, I will have 5 nodes with one core each and 1 gig of RAM. I 
&gt; am not doing any big MR jobs for a while and when do, off hours.
&gt;
&gt; How do I configure riak to be RAM friendly? Are there knobs I can tweak?
&gt;
&gt; Thanks
&gt;
&gt; Sent from my iPad

-- 
Sean Cribbs 
Software Engineer
Basho Technologies, Inc.
http://basho.com/

