---
title: "Strange merge time variance"
description: ""
project: community
lastmod: 2011-12-15T09:51:50-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05967"
author_name: "Dmitry Groshev"
project_section: "mailinglistitem"
sent_date: 2011-12-15T09:51:50-08:00
---


I'm using standalone bitcask as a backend for our in-memory database
(not opensourced yet). I write ~1.5GB of data to it each 5 minutes
overwriting almost all keys and after that I run a merge as follows:
 case bitcask:needs\\_merge(BitcaskRef) of
 {true, Files} -&gt;
 bitcask\\_merge\\_worker:merge(DataDir, [], Files);
 false -&gt;
 ok
 end.
For now it runs for some days under test load and when I've analyzed
logs I saw something strange. Here
http://img804.imageshack.us/img804/1060/fromlogs.png the upper graph
depicts a durations of merges; as one can see, there at least 2 "saw"
forms with different time scales overlapped. Is there any reason why
it is so? I have a gut feeling that such a variance isn't so good :)

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

