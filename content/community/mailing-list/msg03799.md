---
title: "Re: Problem with deleting keys"
description: ""
project: community
lastmod: 2011-06-23T07:57:07-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03799"
mailinglist_parent_id: "msg03796"
author_name: "Andrew Thompson"
project_section: "mailinglistitem"
sent_date: 2011-06-23T07:57:07-07:00
---


On Thu, Jun 23, 2011 at 09:59:38AM +0200, Runar Jordahl wrote:
&gt; As this discussion shows, deleting objects in an eventual consistency
&gt; database is complicated. The concept of multiple APIs to do a delete,
&gt; and the possibility of having objects reappear, can scare new
&gt; customers away from Riak.
&gt; 
&gt; I understand delete is complicated, but Basho should make it as simple
&gt; as possible to understand. They should provide a single, simple,
&gt; well-documented delete API, and document how delete happens.
&gt; 
&gt; I find it unnatural to use the PUT operation to do a delete. I
&gt; understand the API compatibility issues, but for new users this can be
&gt; quite confusing: ?So you are telling me there are two APIs I can use
&gt; to delete an object? Why!?? In my mind, changing the DELETE API would
&gt; be far better. After all, Riak is still not legacy software.
&gt; 
&gt; A wiki page describing how delete is done in a Riak system should be
&gt; created. The wiki page should describe how delete happens internally:
&gt; Which API to use (PUT or DELETE), tombstone concepts, etc. It should
&gt; describe current bugs, and future plans. In addition the page should
&gt; describe how the client app should handle deletes: Can you configure
&gt; tombstone lifetime? Pros/cons of using own tombstones, when can
&gt; deleted objects reappear, and how to detect and handle that.
&gt; 

I agree that we should do a writeup on deletes, past present and future.
I'll try to put something together in the next few weeks.

Andrew

