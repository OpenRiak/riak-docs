---
title: "Re: Can't start riaksearch"
description: ""
project: community
lastmod: 2011-05-10T18:05:21-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03303"
mailinglist_parent_id: "msg03301"
author_name: "Greg Pascale"
project_section: "mailinglistitem"
sent_date: 2011-05-10T18:05:21-07:00
---


Thanks! This seems to work.

-Greg

On Tue, May 10, 2011 at 4:51 PM, Dan Reverri  wrote:

&gt; Try deleting the following folder and starting Riak Search again:
&gt; \\*
&gt; /Users/greg/gitclients/clipboard/deps/builds/riak\\_search-0.14.0/data/mr\\_queue
&gt; \\*
&gt; \\*
&gt; \\*
&gt; The mr\\_queue persists scheduled MapReduce jobs to disk but in this case the
&gt; requests that started the MapReduce jobs have likely ended.
&gt;
&gt; I've filed a bug to investigate this issue further:
&gt; https://issues.basho.com/show\\_bug.cgi?id=1096
&gt;
&gt; Thanks,
&gt; Dan
&gt; \\*
&gt; \\*Daniel Reverri
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; d...@basho.com
&gt;
&gt;
&gt; On Mon, May 9, 2011 at 12:29 PM, Greg Pascale  wrote:
&gt;
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; I seem to have wrangled riaksearch it into an inconsistent state where I
&gt;&gt; can't start it up. I've pasted the crash report I get - any ideas what might
&gt;&gt; be going on?
&gt;&gt; \\*
&gt;&gt; \\*
&gt;&gt; Thanks,
&gt;&gt; -Greg
&gt;&gt; \\*
&gt;&gt; \\*
&gt;&gt; \\*=ERROR REPORT==== 9-May-2011::12:15:42 ===\\*
&gt;&gt; \\*js\\_vm\\_count has been deprecated. Please use map\\_js\\_vm\\_count to configure
&gt;&gt; the map pool.\\*
&gt;&gt; \\*=ERROR REPORT==== 9-May-2011::12:15:42 ===\\*
&gt;&gt; \\*js\\_vm\\_count has been deprecated. Please use reduce\\_js\\_vm\\_count to
&gt;&gt; configure the reduce pool.\\*
&gt;&gt; \\*=ERROR REPORT==== 9-May-2011::12:15:42 ===\\*
&gt;&gt; \\*js\\_vm\\_count has been deprecated. Please use hook\\_js\\_vm\\_count to
&gt;&gt; configure the hook callback pool.\\*
&gt;&gt; \\*=SUPERVISOR REPORT==== 9-May-2011::12:15:42 ===\\*
&gt;&gt; \\* Supervisor: {local,riak\\_kv\\_sup}\\*
&gt;&gt; \\* Context: start\\_error\\*
&gt;&gt; \\* Reason:
&gt;&gt; {{badmatch,not\\_found},[{riak\\_kv\\_map\\_master,read\\_entry,2},{riak\\_kv\\_map\\_master,dequeue\\_mapper,1},{riak\\_kv\\_map\\_master,init,1},{gen\\_server2,init\\_it,6},{proc\\_lib,init\\_p\\_do\\_apply,3}]}
&gt;&gt; \\*
&gt;&gt; \\* Offender:
&gt;&gt; [{pid,undefined},{name,riak\\_kv\\_map\\_master},{mfa,{riak\\_kv\\_map\\_master,start\\_link,[]}},{restart\\_type,permanent},{shutdown,30000},{child\\_type,worker}]
&gt;&gt; \\*
&gt;&gt; \\*
&gt;&gt; \\*
&gt;&gt; \\*
&gt;&gt; \\*
&gt;&gt; \\*=CRASH REPORT==== 9-May-2011::12:15:42 ===\\*
&gt;&gt; \\* crasher:\\*
&gt;&gt; \\* initial call: gen:init\\_it/7\\*
&gt;&gt; \\* pid: &lt;0.172.0&gt;\\*
&gt;&gt; \\* registered\\_name: []\\*
&gt;&gt; \\* exception exit:
&gt;&gt; {{badmatch,not\\_found},[{riak\\_kv\\_map\\_master,read\\_entry,2},{riak\\_kv\\_map\\_master,dequeue\\_mapper,1},{riak\\_kv\\_map\\_master,init,1},{gen\\_server2,init\\_it,6},{proc\\_lib,init\\_p\\_do\\_apply,3}]}
&gt;&gt; \\*
&gt;&gt; \\* in function gen\\_server2:init\\_it/6\\*
&gt;&gt; \\* in call from proc\\_lib:init\\_p\\_do\\_apply/3\\*
&gt;&gt; \\* ancestors: [riak\\_kv\\_sup,&lt;0.135.0&gt;]\\*
&gt;&gt; \\* messages: []\\*
&gt;&gt; \\* links:
&gt;&gt; [#Port&lt;0.3428&gt;,#Port&lt;0.3432&gt;,&lt;0.136.0&gt;,#Port&lt;0.3433&gt;,#Port&lt;0.3430&gt;,#Port&lt;0.3424&gt;,#Port&lt;0.3426&gt;,#Port&lt;0.3422&gt;]
&gt;&gt; \\*
&gt;&gt; \\* dictionary:
&gt;&gt; [{#Ref&lt;0.0.0.447&gt;,{bc\\_state,"/Users/greg/gitclients/clipboard/deps/builds/riak\\_search-0.14.0/data/mr\\_queue",fresh,undefined,[{filestate,read\\_only,"/Users/greg/gitclients/clipboard/deps/builds/riak\\_search-0.14.0/data/mr\\_queue/1304808859.bitcask.data",1304808859,{file\\_descriptor,prim\\_file,{#Port&lt;0.3430&gt;,21}},undefined,0},{filestate,read\\_only,"/Users/greg/gitclients/clipboard/deps/builds/riak\\_search-0.14.0/data/mr\\_queue/1304844075.bitcask.data",1304844075,{file\\_descriptor,prim\\_file,{#Port&lt;0.3428&gt;,20}},undefined,0},{filestate,read\\_only,"/Users/greg/gitclients/clipboard/deps/builds/riak\\_search-0.14.0/data/mr\\_queue/1304872675.bitcask.data",1304872675,{file\\_descriptor,prim\\_file,{#Port&lt;0.3426&gt;,19}},undefined,0},{filestate,read\\_only,"/Users/greg/gitclients/clipboard/deps/builds/riak\\_search-0.14.0/data/mr\\_queue/1304964599.bitcask.data",1304964599,{file\\_descriptor,prim\\_file,{#Port&lt;0.3424&gt;,18}},undefined,0},{filestate,read\\_only,"/Users/greg/gitclients/clipboard/deps/builds/riak\\_search-0.14.0/data/mr\\_queue/1304965780.bitcask.data",1304965780,{file\\_descriptor,prim\\_file,{#Port&lt;0.3422&gt;,17}},undefined,0}],2147483648,[{expiry\\_secs,-1},read\\_write],&lt;&lt;&gt;&gt;}}]
&gt;&gt; \\*
&gt;&gt; \\* trap\\_exit: true\\*
&gt;&gt; \\* status: running\\*
&gt;&gt; \\* heap\\_size: 6765\\*
&gt;&gt; \\* stack\\_size: 24\\*
&gt;&gt; \\* reductions: 2267083\\*
&gt;&gt; \\* neighbours:\\*
&gt;
