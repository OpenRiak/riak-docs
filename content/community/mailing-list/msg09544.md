---
title: "Re: riak-erlang-client ping problem"
description: ""
project: community
lastmod: 2012-12-12T06:59:03-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09544"
mailinglist_parent_id: "msg09537"
author_name: "Olav Frengstad"
project_section: "mailinglistitem"
sent_date: 2012-12-12T06:59:03-08:00
---


Hey Pablo,

Are you trying to use the Erlang protobuf client on the http port? You
can validate which port riak is listening to by checking for pb\\_port
variable in your app.config[1]. By default protobuf listens on port
8087.

To resolve this we will need your app.config along with the output of netstat:

# netstat -nlt

[1] http://docs.basho.com/riak/latest/references/Configuration-Files/#app-config

Olav

2012/12/12 Pablo Vieytes :
&gt; Hi,
&gt; I'm new with Riak. I'm trying to use riak-erlang-client but I have some
&gt; problems.
&gt;
&gt; I can connect with the browser to localhost:8091
&gt;
&gt; http://localhost:8091/ping -&gt; ok
&gt;
&gt; But I can do a ping with the erlang client.
&gt;
&gt; 1&gt; {ok, Pid} = riakc\\_pb\\_socket:start\\_link("127.0.0.1", 8091).
&gt; {ok,&lt;0.34.0&gt;}
&gt; 2&gt; riakc\\_pb\\_socket:ping(Pid).
&gt;
&gt; =ERROR REPORT==== 12-Dec-2012::15:14:40 ===
&gt; \\*\\* Generic server &lt;0.34.0&gt; terminating
&gt; \\*\\* Last message in was {req\\_timeout,#Ref&lt;0.0.0.37&gt;}
&gt; \\*\\* When Server state == {state,"127.0.0.1",8091,false,false,undefined,
&gt; undefined,
&gt; {[],[]},
&gt; 1,[],infinity,100}
&gt; \\*\\* Reason for termination ==
&gt; \\*\\* disconnected
&gt; \\*\\* exception exit: disconnected
&gt; 3&gt;
&gt;
&gt;
&gt; I'm using riak-1.2.1
&gt;
&gt;
&gt; Thanks in advance.
&gt;


-- 
Med Vennlig Hilsen
Olav Frengstad

Systemutvikler // FWT
+47 920 42 090

