---
title: "Re: missing keys?"
description: ""
project: community
lastmod: 2012-09-14T09:11:29-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08542"
mailinglist_parent_id: "msg08539"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2012-09-14T09:11:29-07:00
---


Pat,

On Fri, Sep 14, 2012 at 11:08 AM, Pat Lynch  wrote:
&gt;
&gt;
&gt; So, if I write a key to a cluster and then try to query that key, it may
&gt; not find it unless I retry? Even if r=2 & w=2 ? I thought that at least 2
&gt; systems had to have that key (either in memory or disk) for the write to
&gt; have succeeded with those settings? If I had w=3, would you expect any
&gt; missed keys ?? (note that I didn't try that because I expected performance
&gt; issues).
&gt;

It's important to note that `w` is considered complete once the value is
queued in-memory waiting to be written do disk [1]. A read does not check
the queue but only on-disk data. The `dw` flag is what you want to know
that the value has made it to disk and can be seen by a read.

-Z

[1]: https://github.com/basho/riak\\_kv/blob/master/src/riak\\_kv\\_vnode.erl#L284
