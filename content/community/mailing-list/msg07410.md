---
title: "Re: Most efficient way to determine if 1000 specific keys exist?"
description: ""
project: community
lastmod: 2012-05-09T12:51:07-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07410"
mailinglist_parent_id: "msg07409"
author_name: "Shuhao Wu"
project_section: "mailinglistitem"
sent_date: 2012-05-09T12:51:07-07:00
---


Agreed. If you need something like that, it's time to combine technologies
or hack something together for now until you need the efficiency later,
then switch to something like redis.

Shuhao


On Wed, May 9, 2012 at 1:35 PM, Alexander Sicular wrote:

&gt; Or just do an exists set operation in redis.
&gt;
&gt; Or use a bloom filter. (that you kept in Riak)
&gt;
&gt; Or use your own binary encoding n keys long and flip bits. (that you kept
&gt; in Riak)
&gt;
&gt; Scanning a list of keys in Riak might be one of the most inefficient ways
&gt; to do it. Also I don't like to keep values in Riak that mutate in some
&gt; unbounded way due to compaction issues.
&gt;
&gt; -alexander
&gt;
&gt; @siculars
&gt; http://siculars.posterous.com
&gt;
&gt; Sent from my rotary phone.
&gt; On May 9, 2012 1:13 PM, "Shuhao Wu"  wrote:
&gt;
&gt;&gt; Without reading all the emails.. why can't you just cache the keys in an
&gt;&gt; object and maintain that list? The you could check against that list. This
&gt;&gt; way you don't have to go through every object in riak.
&gt;&gt;
&gt;&gt; Shuhao
&gt;&gt; On May 2, 2012 2:47 PM, "Tim Haines"  wrote:
&gt;&gt;
&gt;&gt;&gt; Hey guys,
&gt;&gt;&gt;
&gt;&gt;&gt; Still a relative newbie here.
&gt;&gt;&gt;
&gt;&gt;&gt; I was hoping to be able to setup a MapReduce job that I could feed 1000
&gt;&gt;&gt; keys to, and have it tell me of the 1000, which keys exist in the bucket.
&gt;&gt;&gt; I was hoping this could use the key index (such a thing exists right?)
&gt;&gt;&gt; without having to read the objects.
&gt;&gt;&gt;
&gt;&gt;&gt; The methods I've tried for doing this fail when the first non-existing
&gt;&gt;&gt; key is found though.
&gt;&gt;&gt;
&gt;&gt;&gt; Is there a way to do this?
&gt;&gt;&gt;
&gt;&gt;&gt; Or alternatively, is there a way to check for the presence of one key at
&gt;&gt;&gt; a time without riak having to read the object?
&gt;&gt;&gt;
&gt;&gt;&gt; Cheers,
&gt;&gt;&gt;
&gt;&gt;&gt; Tim.
&gt;&gt;&gt;
&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

