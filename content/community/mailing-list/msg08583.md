---
title: "preflist_exhausted"
description: ""
project: community
lastmod: 2012-09-18T09:27:21-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08583"
author_name: "Darrel Grant"
project_section: "mailinglistitem"
sent_date: 2012-09-18T09:27:21-07:00
---


I have about 10000 items in a bucket, and am getting this error a lot.

My app.config settings are already quite a lot higher than any values I've
come across while googling this issue:
 {map\\_js\\_vm\\_count, 4096 },
 {reduce\\_js\\_vm\\_count, 4096 },
 {hook\\_js\\_vm\\_count, 256 },
 {js\\_max\\_vm\\_mem, 256},

And just steadily increasing them doesn't seem good, because this bucket
could easily have millions of keys in it in a bit of time.

Interestingly, if I stop and start riak, I can get the results I expect
from the mapreduce, but if I then run it again, I get the
preflist\\_exhausted error. Is there some setting I am missing, which frees
up workers after a run, or perhaps causes them to be re-used in some way?
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

