---
title: "Re: Secondary Indexes - Feedback?"
description: ""
project: community
lastmod: 2011-11-16T11:53:40-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05610"
mailinglist_parent_id: "msg05608"
author_name: "Rusty Klophaus"
project_section: "mailinglistitem"
sent_date: 2011-11-16T11:53:40-08:00
---


Hi Gordon,

Thanks for your feedback! Some follow up questions below:

For example, with search I can specify something like this to generate my
&gt; input to map-reduce:
&gt;
&gt; p:foo AND t:bar (give me all the objects whose parent "p" is foo and that
&gt; hav tag "t" of bar).
&gt;
&gt; So that would get fed to map-reduce where additional processing (think
&gt; filtering, sorting, pagination) is done.
&gt;
&gt; I can do the same thing with secondary indexes but would have to move some
&gt; of that into map.
&gt;
&gt; So in this case I would use secondary indexes to grab all of the items
&gt; whose parent "p" is "foo". This would generate the input phase and at that
&gt; point I would have to use map to filter out all of the items that did not
&gt; contain the tag "t" of "bar".
&gt;
&gt; It is doable, but not as performant as I think it could be.
&gt;

So to be clear, this is mainly about performance, not convenience? In other
words, you don't mind writing your own map function, so long as it is fast?

Also, lets say that part 1 of the query is getting a list of keys where "p"
== "foo", part 2 is turning those keys into objects, and part 3 is
filtering those objects. Are all parts too slow for your application, or is
only a specific part of the query too slow?

Hope that makes sense, this is a nuanced point.

-- 
Rusty Klophaus (@rustyio)
\\*Basho Technologies, Inc.\\*
www.basho.com
