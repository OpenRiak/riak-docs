---
title: "Re: Links vs Key Filters for Performance"
description: ""
project: community
lastmod: 2011-05-05T15:50:02-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03250"
mailinglist_parent_id: "msg03249"
author_name: "Andrew Berman"
project_section: "mailinglistitem"
sent_date: 2011-05-05T15:50:02-07:00
---


Ah, that makes sense. So is it the case that using the link implementation
will always be faster? Or are there cases where it makes more sense to use
a key filter?

Thanks!

--Andrew

On Thu, May 5, 2011 at 3:44 PM, Aphyr  wrote:

&gt; The key filter still has to walk the entire keyspace, which will make
&gt; fetches an O(n) operation as opposed to O(1).
&gt;
&gt; --Kyle
&gt;
&gt;
&gt; On 05/05/2011 03:35 PM, Andrew Berman wrote:
&gt;
&gt;&gt; I was curious if anyone has any thoughts on what is more performant,
&gt;&gt; links or key filters in terms of secondary links. For example:
&gt;&gt;
&gt;&gt; I want to be able to look up a user by id and email:
&gt;&gt;
&gt;&gt; \\*Link implementation:\\*
&gt;&gt;
&gt;&gt; Two buckets: user and user\\_email, where id is the key of user and email
&gt;&gt; is the key of user\\_email. User\\_email contains no data but simply has a
&gt;&gt; link pointing back to the proper user.
&gt;&gt;
&gt;&gt; \\*Key Filter:\\*
&gt;&gt;
&gt;&gt; One bucket: user, where id\\_email is the key of the bucket. Lookups
&gt;&gt; would use a key filter tokenizing the id and then looking up the id or
&gt;&gt; email based on the proper token.
&gt;&gt;
&gt;&gt; Obviously both work, but I'm curious what the implications are from a
&gt;&gt; performance standpoint.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt;
&gt;&gt; Andrew
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

