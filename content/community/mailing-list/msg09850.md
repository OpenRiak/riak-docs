---
title: "Re: Multiple 'database' in Riak"
description: ""
project: community
lastmod: 2013-01-19T14:07:20-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09850"
mailinglist_parent_id: "msg09848"
author_name: "Guido Medina"
project_section: "mailinglistitem"
sent_date: 2013-01-19T14:07:20-08:00
---


We have a similar scenario, but for a different purpose, N developers, 
each developer PC add a prefix to the keys base on the host, with that, 
we can use on the development env the same 5 nodes cluster without 
conflicting between each other or overwriting anyone else's data, so far 
mistakes are only make when developing, that's what tests are for right? 
Also, if he is talking of 1 or 2 applications a couple of clusters could 
be easier, but if he is about to grow to 10 or 20, and every customer 
doesn't handle the same amount of data, would a whole cluster be worthy?


Hope that helps,

Guido.

On 19/01/13 18:05, Jimmy Ho wrote:

I see..

So we'd trust developers (well, just me at the moment), not mess the 
other app up?
As one can say, add a link to an /\\*app1\\*.user/johnsmith to 
/\\*app2\\*.posts/peterpan by mistake?


Different scenario, what about uat vs prod?
I suppose a separate cluster would make good sense? ie, 2 x 10 node 
cluster, buckets prefixed by app ?


Or would you have prefixes with  +  +  ?

Jimmy.

On Sat, Jan 19, 2013 at 5:47 PM, Guido Medina 
&gt; wrote:


 Neither or both mixed? You could have prefixes per buckets and
 have N applications per cluster and add a 5 nodes cluster as
 needed, so that you can host as many per cluster, that way you
 know each bucket prefix point to an specific app.

 Hope that helps,

 Guido.


 On 19/01/13 17:26, Jeremiah Peschka wrote:

 That really depends on what you hope to accomplish.

 If you want both applications to have the same performance
 characteristics, then go with option 1.
 If you want the fun of troubleshooting two applications to figure
 out why one application is having performance problems, go with
 option 2.

 Is there any reason you can't use different bucket names to run a
 single riak cluster?

 ---
 Jeremiah Peschka - Founder, Brent Ozar Unlimited
 MCITP: SQL Server 2008, MVP
 Cloudera Certified Developer for Apache Hadoop


 On Sat, Jan 19, 2013 at 9:07 AM, Jimmy Ho &gt; wrote:

 Hi guys,

 I knew a similar questions have been asked, but would like to
 find out what are some sensible ways to deploy riak for both
 for multiple applications, or even uat + prod environments.

 Let's assume I have a budget for 10 servers.

 I have two applications I wish to deploy into PROD (hence
 needing two 'databases').

 Would it make sense to,

 1. build two clusters, 5 nodes each, for each of the app,
 completely isolated.
 2. build two cluster, each host to have two instances of
 riak, ie forming a 2 x 10node clusters

 Another assumption: both apps have similar resource
 consumption at anyone time.

 Which would would benefit the most from riak's distributed
 architecture ?

 I suppose I am trying to explore ways to maximise server
 utilisation.

 Thanks.

 Jimmy
