---
title: "Re: Riak doesn't use consistent hashing."
description: ""
project: community
lastmod: 2011-05-26T07:37:51-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03424"
author_name: "Justin Sheehy"
project_section: "mailinglistitem"
sent_date: 2011-05-26T07:37:51-07:00
---


Hi, Greg.

Thanks for your thoughtful analysis and the pull request.

On Thu, May 26, 2011 at 1:54 AM, Greg Nelson  wrote:

&gt; However, the skipping bit isn't part of
&gt; Riak's preflist calculation.  Instead, nodes claim partitions in such a way
&gt; as to be spaced out by target\\_n\\_val, to obviate the need for skipping.

A fun bit of history here: once upon a time, Riak's claiming worked in
the same way as described by Amazon, with "skipping" and all. We
noticed that this approach caused a different set of operational
difficulties when hinted handoff due to node outages was occurring at
the same time as a membership change. That prompted changes to the
claim algorithm, which we still consider an area deserving of active
improvement.

Multiple people will be reading, analyzing, and testing your work to
contribute to this improvement. We very much appreciate your efforts,
and want to make sure that we incorporate them in the best possible
way.

Thanks,

-Justin

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

