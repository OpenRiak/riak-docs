---
title: "Re: Updating an index value using Java API"
description: ""
project: community
lastmod: 2012-07-25T10:08:31-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08063"
mailinglist_parent_id: "msg08060"
author_name: "Brian Roach"
project_section: "mailinglistitem"
sent_date: 2012-07-25T10:08:31-07:00
---


Sorry, I missed this one.

As Ryan notes, you simply rewrite the object to Riak with the new indexes. 
There's no need to delete the object beforehand. 

With the Java client you can do this via a Mutation that would be used when you 
call StoreObject.execute() 

Thanks,
- Roach

On Jul 25, 2012, at 10:01 AM, Ryan Zezeski wrote:

&gt; Kaspar,
&gt; 
&gt; I don't know the details of the Java API but re-writing the object should 
&gt; suffice. Riak will remove the old indexes for you and create the new ones.
&gt; 
&gt; -Z
&gt; 
&gt; On Wed, Jul 18, 2012 at 5:00 AM, Kaspar Thommen  
&gt; wrote:
&gt; Hi,
&gt; 
&gt; Say I have a 'users' bucket that stores user data (name, email) and I also 
&gt; have secondary index to access users by e-mail, how do I update the index in 
&gt; case a user's e-mail address changes?
&gt; 
&gt; The only approach I found so far was to completely delete the user object, 
&gt; which implies a deletion of the index entry, and then recreate the update 
&gt; object and add the new e-mail to the index. Is this the only way?
&gt; 
&gt; Thanks,
&gt; Kaspar
&gt; 
 
&gt; 
