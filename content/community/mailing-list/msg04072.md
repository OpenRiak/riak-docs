---
title: "Re: Connection Pool with Erlang PB Client Necessary?"
description: ""
project: community
lastmod: 2011-07-26T12:19:04-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04072"
mailinglist_parent_id: "msg04071"
author_name: "Andrew Berman"
project_section: "mailinglistitem"
sent_date: 2011-07-26T12:19:04-07:00
---


Thanks for all the replies guys!

I just want to make sure I'm totally clear on this. Bob's solution
would work well with my design. So basically, this would be the
workflow?

1. check out connection from the pool
2. set client id on connection (which would have some static and some
random component)
3. perform multiple operations (gets, puts, etc.) which would be seen
as a single "transaction"
4. check in the connection to the pool

This way once the connection is checked out from the pool, if another
user comes along he cannot get that same connection until it has been
checked back in, which would meet Justin's requirements. However,
each time it's checked out, a new client id is created.

Does this sound reasonable and in line with proper client id usage?

Thanks again!

Andrew


On Tue, Jul 26, 2011 at 11:55 AM, Justin Sheehy  wrote:
&gt; The simplest guidance on client IDs that I can give:
&gt;
&gt; If two mutation (PUT) operations could occur concurrently or without
&gt; awareness of each other, then they should have different client IDs.
&gt;
&gt; As a result of the above: if you are sharing a connection, then you
&gt; should use a different client ID for each separate user of that
&gt; connection.
&gt;
&gt; -Justin
&gt;

