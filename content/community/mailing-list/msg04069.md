---
title: "Re: Connection Pool with Erlang PB Client Necessary?"
description: ""
project: community
lastmod: 2011-07-26T11:51:31-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04069"
mailinglist_parent_id: "msg04068"
author_name: "Bryan O'Sullivan"
project_section: "mailinglistitem"
sent_date: 2011-07-26T11:51:31-07:00
---


On Tue, Jul 26, 2011 at 11:35 AM, Andrew Berman  wrote:

&gt; So, then, two more questions. I have used connection pools in Java
&gt; like C3P0 and they can ramp up connections and then cull connections
&gt; when there is a period of inactivity. The only pooler I've found that
&gt; does this is: https://github.com/seth/pooler . Do you have any other
&gt; recommendations on connection poolers?
&gt;

Sorry, I'm not an Erlang user, so can't help with that.


&gt; Second, I'm still a little confused on client ID. I thought client Id
&gt; represented an actual client, not a connection.


It's very hard to find documentation on what a client ID is for and why it
matters, so don't blame yourself :-)


&gt; After

seeing what you wrote and reading a bit more on it, it seems like
&gt; client Id should just be some random string (base64 encoded) that
&gt; should be generated on creating a connection.


That's not a bad plan. It can be helpful to prefix it with a human-readable
component so you have some idea which components in your system are
participating when something goes wrong. So part fixed, part random.

Also, if you're using a connection pool, it's not a bad idea to change the
client ID each time you take a connection from the pool. The downside to
this is that it adds a TCP roundtrip, and will thus increase latency. (As a
matter of safe interface design, client IDs arguably shouldn't be
per-connection entities; it might be better if they were per-request.)
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

