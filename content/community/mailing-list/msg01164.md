---
title: "Re: SELinux Error"
description: ""
project: community
lastmod: 2010-09-30T16:23:57-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01164"
mailinglist_parent_id: "msg01153"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2010-09-30T16:23:57-07:00
---


I've never seen that error message. It looks like you've built Riak from
source in "/livingcode/sandbox/riak/riak-0.12.0". Did you build Riak on that
machine or copy the built release from another machine? Has anything else on
the machine changed?

Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Wed, Sep 29, 2010 at 1:31 AM, Madireddy Samuel Vijaykumar &lt;
mad.vi...@gmail.com&gt; wrote:

&gt; When do a ...
&gt;
&gt; $ bin/riak start
&gt;
&gt; I get a SELinux Security Alert and the riak node is never started. The
&gt; following the SELinux error, has anyone looked into this?
&gt;
&gt; Summary:
&gt;
&gt; SELinux is preventing access to files with the label, file\\_t.
&gt;
&gt; Detailed Description:
&gt;
&gt; SELinux permission checks on files labeled file\\_t are being denied. file\\_t
&gt; is
&gt; the context the SELinux kernel gives to files that do not have a label.
&gt; This
&gt; indicates a serious labeling problem. No files on an SELinux box should
&gt; ever be
&gt; labeled file\\_t. If you have just added a disk drive to the system you can
&gt; relabel it using the restorecon command. For example if you saved the home
&gt; directory from a previous installation that did not use SELinux,
&gt; 'restorecon -R
&gt; -v /home' will fix the labels. Otherwise you should relabel the entire file
&gt; system.
&gt;
&gt; Allowing Access:
&gt;
&gt; You can execute the following command as root to relabel your computer
&gt; system:
&gt; "touch /.autorelabel; reboot"
&gt;
&gt; Additional Information:
&gt;
&gt; Source Context
&gt; unconfined\\_u:unconfined\\_r:unconfined\\_t:s0-s0:c0.c1
&gt; 023
&gt; Target Context unconfined\\_u:object\\_r:file\\_t:s0
&gt; Target Objects
&gt; /livingcode/sandbox/riak/riak-0.12.0/rel/riak/lib/
&gt; erlang\\_js-0.4/priv/erlang\\_js\\_drv.so [ file ]
&gt; Source beam.smp
&gt; Source Path
&gt; /livingcode/sandbox/riak/riak-0.12.0/rel/riak/erts
&gt; -5.8/bin/beam.smp
&gt; Port 
&gt; Host sam.csslabs
&gt; Source RPM Packages
&gt; Target RPM Packages
&gt; Policy RPM selinux-policy-3.7.19-57.fc13
&gt; Selinux Enabled True
&gt; Policy Type targeted
&gt; Enforcing Mode Enforcing
&gt; Plugin Name file
&gt; Host Name sam.csslabs
&gt; Platform Linux sam.csslabs 2.6.34.7-56.fc13.i686 #1
&gt; SMP Wed
&gt; Sep 15 03:33:58 UTC 2010 i686 i686
&gt; Alert Count 3
&gt; First Seen Wed 29 Sep 2010 01:42:12 PM IST
&gt; Last Seen Wed 29 Sep 2010 01:55:51 PM IST
&gt; Local ID fbfa8445-e6d3-42a8-9396-80d75f288650
&gt; Line Numbers
&gt;
&gt; Raw Audit Messages
&gt;
&gt; node=sam.csslabs type=AVC msg=audit(1285748751.47:24835): avc: denied {
&gt; execmod } for pid=5633 comm="beam.smp"
&gt; path="/livingcode/sandbox/riak/riak-0.12.0/rel/riak/lib/erlang\\_js-0.4/priv/erlang\\_js\\_drv.so"
&gt; dev=dm-2 ino=6938
&gt; scontext=unconfined\\_u:unconfined\\_r:unconfined\\_t:s0-s0:c0.c1023
&gt; tcontext=unconfined\\_u:object\\_r:file\\_t:s0 tclass=file
&gt;
&gt; node=sam.csslabs type=SYSCALL msg=audit(1285748751.47:24835): arch=40000003
&gt; syscall=125 success=no exit=-13 a0=4b6000 a1=c0000 a2=5 a3=b60cfd50 items=0
&gt; ppid=5599 pid=5633 auid=500 uid=0 gid=0 euid=0 suid=0 fsuid=0 egid=0 sgid=0
&gt; fsgid=0 tty=pts2 ses=1 comm="beam.smp"
&gt; exe="/livingcode/sandbox/riak/riak-0.12.0/rel/riak/erts-5.8/bin/beam.smp"
&gt; subj=unconfined\\_u:unconfined\\_r:unconfined\\_t:s0-s0:c0.c1023 key=(null)
&gt;
&gt;
&gt; """
&gt; Anyday...
&gt; Above the ground and vertical
&gt; ... is a good day!
&gt; """
&gt; http://megam.info
&gt; :)~
&gt;
&gt;
&gt;

