---
title: "Re: abstracted vs. opinionated,	object mapping (was: Re: Riak Recap for March 14 - 15)"
description: ""
project: community
lastmod: 2011-03-18T06:30:54-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02680"
mailinglist_parent_id: "msg02679"
author_name: "Russell Brown"
project_section: "mailinglistitem"
sent_date: 2011-03-18T06:30:54-07:00
---

On 18 Mar 2011, at 13:14, Jon Brisbin wrote:

&gt; As an aside: I'm wrapping up support for Grails GORM-style object mapping in 
&gt; the MongoDB Spring Data Document support. We haven't decided how to apply 
&gt; that mapping strategy to other NoSQL stores yet, but I suspect it'll only be 
&gt; a matter of a month or two before I can get full mapping support in the Riak 
&gt; Spring Data stuff.
&gt; 
&gt; It allows you to map entities al la JPA:
&gt; 
&gt; @Persistent
&gt; class Person {
&gt; @Id
&gt; private Integer ssn;
&gt; @Reference // &lt;- Externally-managed by using links, dbrefs, whatever
&gt; private List children;
&gt; }
&gt; 
&gt; There's a metadata model that's responsible for reading annotations and 
&gt; configuring the mapper to know how to marshall/unmarshall entities and what 
&gt; to do with externally-stored relationships (in the case of MongoDB, we use 
&gt; DBRefs). It also supports autowiring and bean post processors, so you can 
&gt; inject resources into your entities:
&gt; 
&gt; @Persistent
&gt; class Person {
&gt; ...
&gt; @Autowired
&gt; private DatastoreTemplate template;
&gt; }
&gt; 
&gt; 
&gt; It will be an interesting addition to the Riak support to have this same 
&gt; level of rich mapping, IMHO.

I was thinking about \\*exactly\\* that this morning (using riak's links to model 
references and collections in an ORM) I'm happy to pitch in getting the riak 
support up and running.

&gt; 
&gt; But on to the previous discussion...
&gt; 

