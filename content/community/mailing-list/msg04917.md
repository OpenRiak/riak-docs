---
title: "Re: What is the best way to model relationships in Riak from 1.0	forward?"
description: ""
project: community
lastmod: 2011-09-28T13:43:07-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04917"
mailinglist_parent_id: "msg04915"
author_name: "Jeremiah Peschka"
project_section: "mailinglistitem"
sent_date: 2011-09-28T13:43:07-07:00
---


It looks like a LinkWalk (through HTTP) won't get the originating Object, but 
here's where the magic of MapReduce comes in!

You can do a MR phase where you retrieve on object, set keep = true and then 
perform a link walk to get whatever other links you need, too. Your client, of 
course, will have to merge the get phase and the link walk results together, 
but it's better than making two separate requests :)
---
Jeremiah Peschka - Founder, Brent Ozar PLF, LLC
Microsoft SQL Server MVP

On Sep 28, 2011, at 3:36 PM, Les Mikesell wrote:

&gt; On Wed, Sep 28, 2011 at 1:39 PM, Jeremiah Peschka
&gt;  wrote:
&gt;&gt; If you want to perform some kind of ad hoc querying, your only real option 
&gt;&gt; is Map Reduce. Fun fact: you can perform Riak Search queries through Map 
&gt;&gt; Reduce.
&gt;&gt; 
&gt;&gt; You can also do this with HTPP requests for Riak Search or indexes (either 
&gt;&gt; HTTP or Protocol Buffers), but you'll probably end up doing something that 
&gt;&gt; looks like this:
&gt;&gt; 
&gt;&gt; Query objects from Riak Search
&gt;&gt; Collect relationship IDs from Riak Search results
&gt; 
&gt; Is it possible to use a key to request an object and the things linked
&gt; directly (linkname,1) in one operation?
&gt; 
&gt; -- 
&gt; Les Mikesell
&gt; lesmikes...@gmail.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

