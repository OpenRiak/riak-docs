---
title: "Re: Best practice for using erlang modules in riak?"
description: ""
project: community
lastmod: 2011-06-02T13:19:09-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03536"
mailinglist_parent_id: "msg03534"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2011-06-02T13:19:09-07:00
---


&gt; 
&gt; a. Any documentation that shows how to properly deploy your erlang
&gt; code with the riak cluster (I'm currently writing a module, storing it
&gt; with riak\\_core, adding it to riak\\_core.app, and it's building fine,
&gt; can call it from riak console.)

http://wiki.basho.com/Configuration-Files.html#add\\_paths

Assuming you compiled your Erlang module to an 'ebin' directory, a portion of 
your app.config might look like this:

%% other configs...
{riak\\_kv, [
 %% ...
 {add\\_paths, ["/path/to/your/ebin"]},
 %% ...
]},
 %% ...

Alternatively you can use the '-pz' switch in vm.args to add a path to the code 
loading directories. (See also: http://www.erlang.org/doc/man/erl.html)

&gt; b. The correct way to call an erlang function from the REST api or via
&gt; Ripple, specifically we are using the output of a Javascript Map to an
&gt; Erlang Reduce (If this is not supported, please let us know!)
&gt; 

Dan covered the proper way to do that in Ripple, but I might add that the 
output of your JavaScript phase must make sense to the Erlang phase; that bit 
is up to you.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/
