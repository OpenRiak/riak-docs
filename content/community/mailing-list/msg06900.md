---
title: "Re: Riak basho bench error when running http_raw driver"
description: ""
project: community
lastmod: 2012-03-06T08:07:00-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06900"
mailinglist_parent_id: "msg06879"
author_name: "David Smith"
project_section: "mailinglistitem"
sent_date: 2012-03-06T08:07:00-08:00
---


You need to wrap the key generator with int\\_to\\_str, I believe.

{key\\_generator, {int\\_to\\_str, {uniform\\_int, 10000}}}.

D.

On Mon, Mar 5, 2012 at 3:04 PM, Andrew Whang  wrote:
&gt; Hi,
&gt;
&gt; I'm trying to run the basho bench tool against my Riak cluster using the
&gt; http\\_raw driver, and am coming across the following error:
&gt;
&gt; =ERROR REPORT==== 5-Mar-2012::13:58:09 ===
&gt; \\*\\* Generic server &lt;0.430.0&gt; terminating
&gt; \\*\\* Last message in was {send\\_req,
&gt;                            {{url,undefined,"127.0.0.1",8098,undefined,
&gt;                                 undefined,"/riak/test/5526",undefined},
&gt;                             [],get,[],
&gt;                             [{response\\_format,binary}],
&gt;                             5000}}
&gt; \\*\\* When Server state == {state,"127.0.0.1",8098,undefined,#Ref&lt;0.0.0.1604&gt;,
&gt;                                false,undefined,[],false,undefined,false,[],
&gt;                                {[],[]},
&gt;
&gt;  undefined,idle,undefined,&lt;&lt;&gt;&gt;,0,0,[],undefined,
&gt;
&gt;  undefined,undefined,undefined,false,undefined,
&gt;                                undefined,&lt;&lt;&gt;&gt;,undefined,false,undefined,0,
&gt;                                undefined}
&gt; \\*\\* Reason for termination ==
&gt; \\*\\* {function\\_clause,
&gt;        [{ibrowse\\_http\\_client,send\\_req\\_1,
&gt;             [{&lt;0.65.0&gt;,#Ref&lt;0.0.0.1605&gt;},
&gt;              {url,undefined,"127.0.0.1",8098,undefined,undefined,
&gt;                  "/riak/test/5526",undefined},
&gt;              [],get,[],
&gt;              [{response\\_format,binary}],
&gt;              5000,
&gt;              {state,"127.0.0.1",8098,undefined,#Ref&lt;0.0.0.1604&gt;,false,
&gt;                  undefined,[],false,undefined,false,[],
&gt;                  {[],[]},
&gt;                  undefined,idle,undefined,&lt;&lt;&gt;&gt;,0,0,[],undefined,undefined,
&gt;
&gt;  undefined,undefined,false,undefined,undefined,&lt;&lt;&gt;&gt;,undefined,
&gt;                  false,undefined,0,undefined}],
&gt;             [{file,"src/ibrowse\\_http\\_client.erl"},{line,619}]},
&gt;         {gen\\_server,handle\\_msg,5,[{file,"gen\\_server.erl"},{line,578}]},
&gt;         {proc\\_lib,init\\_p\\_do\\_apply,3,[{file,"proc\\_lib.erl"},{line,227}]}]}
&gt;
&gt; My config:
&gt;
&gt; {mode, max}.
&gt; {duration, 1}.
&gt; {concurrent, 3}.
&gt; {driver, basho\\_bench\\_driver\\_http\\_raw}.
&gt; {key\\_generator, {uniform\\_int, 10000}}.
&gt; {value\\_generator, {fixed\\_bin, 10000}}.
&gt; {http\\_raw\\_path, "/riak/test"}.
&gt; {operations, [{get, 1}, {update, 1}]}.
&gt;
&gt; Any help debugging this error would be great.
&gt;
&gt; Thanks,
&gt; Andrew
&gt;


-- 
Dave Smith
VP, Engineering
Basho Technologies, Inc.
diz...@basho.com

