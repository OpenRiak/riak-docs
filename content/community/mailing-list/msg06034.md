---
title: "Re: Differing results from same index query"
description: ""
project: community
lastmod: 2011-12-22T05:24:59-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06034"
mailinglist_parent_id: "msg06032"
author_name: "Jeremy Raymond"
project_section: "mailinglistitem"
sent_date: 2011-12-22T05:24:59-08:00
---


The output from the commands all look normal (just running a single node).
I'm going to see if I can reproduce this outside of this setup.

$ bin/riak-admin ringready
TRUE All nodes agree on the ring ['dev1@127.0.0.1']
$ bin/riak-admin transfers
No transfers active
$ bin/riak-admin member\\_status
================================= Membership
==================================
Status Ring Pending Node
-------------------------------------------------------------------------------
valid 100.0% -- 'dev1@127.0.0.1'
-------------------------------------------------------------------------------
Valid:1 / Leaving:0 / Exiting:0 / Joining:0 / Down:0
$ bin/riak-admin ring\\_status
================================== Claimant
===================================
Claimant: 'dev1@127.0.0.1'
Status: up
Ring Ready: true

============================== Ownership Handoff
==============================
No pending changes.

============================== Unreachable Nodes
==============================
All nodes are up and reachable

--
Jeremy


On Wed, Dec 21, 2011 at 7:33 PM, Rusty Klophaus  wrote:

&gt; Hi Jeremy,
&gt;
&gt; That is strange. Can you try running "bin/riak-admin ringready",
&gt; "bin/riak-admin transfers", "bin/riak-admin member\\_status", and
&gt; "bin/riak-admin ring\\_status"? Does everything look normal?
&gt;
&gt; Also, if possible, a zip file of your ./data directory would help us
&gt; immensely while troubleshooting. (Feel free to email the link to me off
&gt; list.)
&gt;
&gt; Best,
&gt; Rusty
&gt;
&gt; On Wed, Dec 21, 2011 at 12:32 PM, Jeremy Raymond wrote:
&gt;
&gt;&gt; I'm seeing an issue where running the same index query multiple times
&gt;&gt; against an unchanging set of data returns a differing numbers of items.
&gt;&gt; Riak error and crash logs are empty.
&gt;&gt;
&gt;&gt; I've seen this on my dev machine (haven't noticed it in production, but
&gt;&gt; it could be happening). The production cluster is running Riak 1.0.2 and my
&gt;&gt; dev machine is running 1.0 (96d0b8011 from Oct 6) compiled from source. The
&gt;&gt; data on my dev machine is an import of the data from production (via
&gt;&gt; riak-admin backup/restore).
&gt;&gt;
&gt;&gt; Anyone seen this issue? Help on debugging the cause appreciated.
&gt;&gt;
&gt;&gt; --
&gt;&gt; Jeremy
&gt;
&gt;
&gt; --
&gt; Rusty Klophaus (@rustyio)
&gt; \\*Basho Technologies, Inc.\\*
&gt; www.basho.com
&gt;
&gt;
&gt;
