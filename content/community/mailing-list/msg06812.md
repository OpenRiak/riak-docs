---
title: "Re: Writing with PW=quorum"
description: ""
project: community
lastmod: 2012-03-01T07:56:39-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06812"
mailinglist_parent_id: "msg06791"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2012-03-01T07:56:39-08:00
---


Sorry that this didn't make it to the list, I accidentally sent to Daniel
privately.

In short, PR and PW are checked \\*before\\* any read or write is initiated,
so, in the case of a partitioned cluster, the write will never be sent to
the sole primary partition that is available if PW=quorum. On deletes, both
PR and PW will be used/checked, so a delete can also be interrupted by
insufficiently available primary partitions.

On Wed, Feb 29, 2012 at 6:13 PM, ivenhov  wrote:

&gt; Hi
&gt;
&gt; If I have N=3 and writing with PR=quorum, PW=quorum and there is network
&gt; partitioning so that 2 primary replicas are not available (or are down)
&gt; write will fail. But I guess it's still possible (or rather certain) that
&gt; 3rd primary replica have written that data. Is that correct?
&gt; If that's the case, what's the best way to deal with such a situation?
&gt; Ideally I would like to delete that entry and make sure it won't be visible
&gt; to other nodes.
&gt; Is that possible? Or would delete fail because PR's quorum is not met? If
&gt; one primary replica came back would next read (for example delete)
&gt; read-repair the entry?
&gt;
&gt; I've read:
&gt; http://riak-users.197444.n3.nabble.com/Absolute-consistency-td3635356.html
&gt;
&gt; but I'm still not sure what to expect.
&gt;
&gt; Thanks
&gt; Daniel
&gt;
&gt;
&gt; --
&gt; View this message in context:
&gt; http://riak-users.197444.n3.nabble.com/Writing-with-PW-quorum-tp3788974p3788974.html
&gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt;


-- 
Sean Cribbs 
Software Engineer
Basho Technologies, Inc.
http://basho.com/
