---
title: "Re: Ripple document NoMethodError: undefined method `all' for	Customer:Class"
description: ""
project: community
lastmod: 2011-10-28T17:21:19-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05354"
mailinglist_parent_id: "msg05331"
author_name: "Jeff Pollard"
project_section: "mailinglistitem"
sent_date: 2011-10-28T17:21:19-07:00
---


Hey Eric,

You're not doing anything wrong. That notice is purposely in the code to
alert you that calling Riak::Bucket#keys is an expensive operation and
should not be used in production. My understanding is that it's less
expensive in 1.0 (we're still on 0.14), but I would assume it's still an
expensive-enough call to not make in production.

On Thu, Oct 27, 2011 at 10:23 AM, Eric Chaves  wrote:

&gt; Hi Dan,
&gt;
&gt; Thanks for the help. I changed to list method but it seems I'm still doing
&gt; something wrong. Calling "Customer.list" raises an exception
&gt; "Riak::Bucket#keys is an expensive operation that should not be used in
&gt; production" with the results at the end of it.
&gt;
&gt; Letting ripple aside, what would be the recommended way to retrieve a list
&gt; of all documents/keys under a certain bucket? Should I use a map/reduce for
&gt; that?
&gt;
&gt; Cheers,
&gt;
&gt; Eric
&gt;
&gt;
&gt; 2011/10/27 Dan Reverri 
&gt;
&gt;&gt; Hi Eric,
&gt;&gt;
&gt;&gt; I believe the method was changed to `list`; I don't know what version of
&gt;&gt; Ripple changed the method name.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Dan
&gt;&gt;
&gt;&gt; Daniel Reverri
&gt;&gt; Developer Advocate
&gt;&gt; Basho Technologies, Inc.
&gt;&gt; d...@basho.com
&gt;&gt;
&gt;&gt;
&gt;&gt; On Thu, Oct 27, 2011 at 8:59 AM, Eric Chaves  wrote:
&gt;&gt;
&gt;&gt;&gt; Hi Guys,
&gt;&gt;&gt;
&gt;&gt;&gt; I'm trying to learn Riak using padrino + ripple and for that I created a
&gt;&gt;&gt; padrino project with one Customer model using the Ripple::Document model and
&gt;&gt;&gt; start playing around in the padrino console. The project setup seems to be
&gt;&gt;&gt; ok since I can create and save instance objects from padrino console however
&gt;&gt;&gt; whenever I call Customer.all I got a method undefined error.
&gt;&gt;&gt;
&gt;&gt;&gt; Am I doing something wrong here? Is there another way to retrieve all
&gt;&gt;&gt; documents within a bucket?
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks in advance,
&gt;&gt;&gt;
&gt;&gt;&gt; Eric
&gt;&gt;&gt;

&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;

