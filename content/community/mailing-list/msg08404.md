---
title: "Re: how to do a key filter using the python api for map reduce"
description: ""
project: community
lastmod: 2012-08-30T05:13:08-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08404"
mailinglist_parent_id: "msg08403"
author_name: "David Montgomery"
project_section: "mailinglistitem"
sent_date: 2012-08-30T05:13:08-07:00
---


I did not scroll down far enough in the api docs regarding python. Problem 
solved.

Sent from my iPad

On Aug 30, 2012, at 6:51 PM, David Montgomery  wrote:

&gt; Hi,
&gt; 
&gt; I am using the python api.
&gt; 
&gt; I need to do a key filter kinda like this.
&gt; 
&gt; 
&gt; "inputs":{
&gt; "bucket":"impressions"
&gt; "key\\_filters":[["tokenize", ":", 2],["starts\\_with", "2012"]]
&gt; },
&gt; 
&gt; 
&gt; But from the python api docs...I have a query that looks like this.
&gt; 
&gt; 
&gt; query = client.add('impressions')
&gt; query.map("""function(v) { 
&gt; var data = JSON.parse(v.values[0].data); 
&gt; return [[v.key, data]]; 
&gt; }""")
&gt; for result in query.run():
&gt; print "%s - %s" % (result[0], result[1])
&gt; 
&gt; 
&gt; Where and how do I place the key\\_filters[]? 
&gt; 
&gt; Thanks
&gt; 
&gt; Sent from my iPad

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

