---
title: "Re: Riak indexing issue with PBClient"
description: ""
project: community
lastmod: 2011-09-20T04:46:24-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04793"
mailinglist_parent_id: "msg04792"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2011-09-20T04:46:24-07:00
---


Hi Vijay,

For things like account IDs, which are not prose text, you should use the
whitespace or noop analyzers, not the standard analyzer. Generally the
standard analyzer will remove things that aren't words (punctuation, for
example) and stopwords (common ones like "the" or "a").

On Tue, Sep 20, 2011 at 6:39 AM, vijayakumar  wrote:

&gt; Hi,
&gt;
&gt; RiakSearch fails to index non-default fields when the records are inserted
&gt; into a bucket with java PBClient.
&gt; For the below mentioned schema definition and sample record, indexing
&gt; happens only for 'name' field and not for 'accountid'.
&gt; However, the same succeeds when records are inserted via curl. Help me
&gt; out if I am missing anything else.
&gt;
&gt; Schema Defintion:
&gt;
&gt; {
&gt; schema,
&gt; [
&gt; {version, "1.1"},
&gt; {default\\_field, "name"},
&gt; {default\\_op, "or"},
&gt; {n\\_val, 2},
&gt; {analyzer\\_factory, {erlang, text\\_analyzers,
&gt; whitespace\\_analyzer\\_factory}}
&gt; ],
&gt; [
&gt; %% Parse the field in preparation for full-text searching.
&gt; {field, [
&gt; {name, "accountid"},
&gt; {required, true},
&gt; {analyzer\\_factory, {erlang, text\\_analyzers,
&gt; standard\\_analyzer\\_factory}}
&gt; ]},
&gt; {field, [
&gt; {name, "name"},
&gt; {required, true},
&gt; {analyzer\\_factory, {erlang, text\\_analyzers,
&gt; standard\\_analyzer\\_factory}}
&gt; ]},
&gt;
&gt; {dynamic\\_field, [
&gt; {name, "\\*"},
&gt; {skip, true}
&gt; ]}
&gt; ]
&gt; }.
&gt;
&gt; Sample Record:
&gt; {"accountid":"testaccount","name":"testapplication","status":"activated"}
&gt;
&gt;
&gt; Thanks,
&gt; Vijayakumar
&gt;

-- 
Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://www.basho.com/
