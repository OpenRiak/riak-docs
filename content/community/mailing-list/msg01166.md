---
title: "Re: bitcask 42?"
description: ""
project: community
lastmod: 2010-09-30T16:34:24-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01166"
mailinglist_parent_id: "msg01165"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2010-09-30T16:34:24-07:00
---


Yes, that is true.

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Thu, Sep 30, 2010 at 4:27 PM, Alexander Sicular wrote:

&gt; Dan,
&gt; Is it true that "ring\\_creation\\_size" should only be altered at the
&gt; creation of a cluster? Once you already have physical nodes in a cluster you
&gt; shouldn't adjust the "ring\\_creation\\_size". True?
&gt;
&gt; Thanks, Alexander.
&gt;
&gt;
&gt; @siculars on twitter
&gt; http://siculars.posterous.com
&gt;
&gt; Sent from my iPhone
&gt;
&gt; On Sep 30, 2010, at 19:16, Dan Reverri  wrote:
&gt;
&gt; Hi Michael,
&gt;
&gt; There is no hard coded limit to the number of nodes that can belong to a
&gt; cluster. Depending on how quickly you are adding nodes to the cluster you
&gt; may be running into an issue with the ring not converging on a single state.
&gt;
&gt; Can you try using the "riak-admin ringready" command between each join of a
&gt; node? This command will return TRUE if the nodes all agree on a particular
&gt; ring state. You should run this command until it returns TRUE after each
&gt; join.
&gt;
&gt; Also, Alexander is correct; you should deploy your nodes with an increased
&gt; value for the "ring\\_creation\\_size" parameter in app.config. The typical
&gt; recommendation is to have a minimum of 10 partitions per node and the value
&gt; should be a power of 2 (64, 128, 256, 512, 1024). For a 63 node cluster a
&gt; value of 1024 would work well.
&gt;
&gt;
&gt; Thanks,
&gt; Dan
&gt;
&gt; Daniel Reverri
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; d...@basho.com
&gt;
&gt;
&gt; On Thu, Sep 30, 2010 at 12:02 PM, Alexander Sicular &lt; 
&gt; sicul...@gmail.com&gt; wrote:
&gt;
&gt;&gt; The default vnode number is 64. If you are connecting 63 physical nodes
&gt;&gt; togeter in one riak cluster than you really want to increase the number of
&gt;&gt; vnodes. There is some recommended metric for physical nodes to vnodes. I
&gt;&gt; think it's like a minimum of 4 vnodes per physical node. But I could be
&gt;&gt; totally making that up.
&gt;&gt;
&gt;&gt; -Alexander.
&gt;&gt;
&gt;&gt;
&gt;&gt; @siculars on twitter
&gt;&gt; http://siculars.posterous.com
&gt;&gt;
&gt;&gt; Sent from my iPhone
&gt;&gt;
&gt;&gt; On Sep 30, 2010, at 14:26, Michael Colussi &lt; 
&gt;&gt; mcolu...@gmail.com&gt; wrote:
&gt;&gt;
&gt;&gt; Hey guys,
&gt;&gt;
&gt;&gt; My team was trying to launch a 63 node Riak cluster yesterday, using
&gt;&gt; version 0.13rc3 and the bitcask backend.
&gt;&gt;
&gt;&gt; All 63 nodes agreed that the ring consisted of nodes 1-42 only.
&gt;&gt;
&gt;&gt; Any ideas? Is there a hardcoded limit to the number of nodes allowed?
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; 
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; 
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;&gt;

