---
title: "Re: error, all_nodes_unavailable"
description: ""
project: community
lastmod: 2011-07-17T17:19:31-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04025"
mailinglist_parent_id: "msg04024"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2011-07-17T17:19:31-07:00
---


Maria,

One more question to add to Kelly's: did you change the node name (-name) in
/etc/riak/vm.args \\*after\\* starting the node? It's possible in a one-node
setup for the node to think it's not a member of the cluster if its ring has
a different name.

On Sun, Jul 17, 2011 at 6:57 PM, Kelly McLaughlin  wrote:

&gt; Maria,
&gt;
&gt; An error with reason all\\_nodes\\_unavailable happens when you try do a key
&gt; listing on a bucket or a
&gt; full bucket MapReduce (which will do a key listing on the bucket) and Riak
&gt; is unable to start processes
&gt; to do the key listing work on any of the nodes in the cluster. Can you
&gt; provide some more information about your setup?
&gt; What version are you running? How many nodes in your cluster? Did you
&gt; verify in the process list that Riak was
&gt; running when you restarted and got errors? What are some of the exact
&gt; queries you were running and having
&gt; trouble with?
&gt;
&gt; Kelly
&gt;
&gt; On Sun, Jul 17, 2011 at 1:30 PM, Maria Neise 
&gt; wrote:
&gt;
&gt;&gt; Hey,
&gt;&gt; I inserted data into Riak and then stopped Riak. After I started Riak
&gt;&gt; again I can't access my Data. In the logfile I found:
&gt;&gt;
&gt;&gt; =ERROR REPORT==== 17-Jul-2011::18:56:46 ===
&gt;&gt; webmachine error: path="/riak/usertable"
&gt;&gt; {error,{error,{badmatch,{error,all\\_nodes\\_unavailable}},
&gt;&gt; [{riak\\_kv\\_wm\\_raw,produce\\_bucket\\_body,2},
&gt;&gt; {webmachine\\_resource,resource\\_call,3},
&gt;&gt; {webmachine\\_resource,do,3},
&gt;&gt; {webmachine\\_decision\\_core,resource\\_call,1},
&gt;&gt; {webmachine\\_decision\\_core,decision,1},
&gt;&gt; {webmachine\\_decision\\_core,handle\\_request,2},
&gt;&gt; {webmachine\\_mochiweb,loop,1},
&gt;&gt; {mochiweb\\_http,headers,5}]}}
&gt;&gt;
&gt;&gt; Can someone tell me what I did wrong or what the problem is?
&gt;&gt; I would appreciate any kind of help.
&gt;&gt; Cheers,
&gt;&gt; Maria
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;
&gt;
&gt;
&gt; --
&gt; Kelly McLaughlin
&gt; Engineer
&gt; Basho Technologies, Inc.
&gt; ke...@basho.com
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;


-- 
Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://www.basho.com/
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

