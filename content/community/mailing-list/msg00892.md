---
title: "Riak n00b, few questions"
description: ""
project: community
lastmod: 2010-08-16T03:57:42-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00892"
author_name: "Chris Herring"
project_section: "mailinglistitem"
sent_date: 2010-08-16T03:57:42-07:00
---


In an effort to move into the unknown and learn something new, I have
decided to use riak with my Rails 3 investigations. I am having a little
trouble wrapping my head around some stuff and so here I am.

I have just started playing with it and have a very trivial data model at
the moment consisting of:

class Project
 include Ripple::Document

 property :name, String, :presence =&gt; true
 property :created\\_at, Time
 property :updated\\_at, Time

 many :issues

end

class Issue
 include Ripple::Document

 property :name, String, :presence =&gt; true
 property :description, String, :presence =&gt; true
 property :project\\_key, String

end

In Riak I have one project represented by:

The questions I have are:

The relationship I am looking to implement is a simple has\\_many =&gt;
belongs\\_to kind of arrangement, is project\\_key the field I would need on my
Issue model, project\\_id?

Should my Issue class have:

one :project

as well?

Also with the Map Reduce functionality does a field need to be a key in
order to do a lookup on it? If it is not a key how complex is the query that
you could use to look up, by name for example, can you have more than one
key on class and how would I represent this in Ripple.

I am fairly comfortable in Ruby .... but feel a little out of my element
here and any pointers on where to start with this stuff would be hugely
appreciated.

Thanks,

Chris Herring.
