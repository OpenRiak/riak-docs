---
title: "Re: Why does ripple cloned object can change the state of original	object?"
description: ""
project: community
lastmod: 2011-02-24T07:19:47-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02440"
mailinglist_parent_id: "msg02439"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2011-02-24T07:19:47-08:00
---


Ripple::Document does not support cloning at the moment. Note that 
Object#clone simply copies the instance variables but doesn't clone them 
(unless the class overrides #initialize\\_copy to change that behavior).

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On Feb 24, 2011, at 5:47 AM, Joshua Partogi wrote:

&gt; Hi,
&gt; 
&gt; I cloned a ripple object and change the state of it. Unfortunately it
&gt; also change to state of the original object. How is this possible? Am
&gt; I doing something wrong? Here is the spec to show the example:
&gt; 
&gt; class Person
&gt; include Ripple::Document
&gt; 
&gt; property :name, String
&gt; end
&gt; 
&gt; class Dude
&gt; attr\\_accessor :name
&gt; end
&gt; 
&gt; describe 'test' do
&gt; it "should copy object" do
&gt; joe = Person.new
&gt; joe.name = 'Joe'
&gt; 
&gt; john = joe.clone
&gt; john.name = 'John'
&gt; 
&gt; joe.name.should == 'Joe'
&gt; john.name.should == 'John'
&gt; 
&gt; joe = Dude.new
&gt; joe.name = 'Joe'
&gt; 
&gt; john = joe.clone
&gt; john.name = 'John'
&gt; 
&gt; joe.name.should == 'Joe'
&gt; john.name.should == 'John'
&gt; 
&gt; end
&gt; end
&gt; 
&gt; The spec will fail when asserting Joe's (Person) name. Please advise
&gt; on how I can resolve this problem.
&gt; 
&gt; Thank you for your assistance.
&gt; 
&gt; Kind regards,
&gt; Joshua.
&gt; 
&gt; -- 
&gt; http://twitter.com/jpartogi
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

