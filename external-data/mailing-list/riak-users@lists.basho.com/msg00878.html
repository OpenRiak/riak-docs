<!DOCTYPE html>
<html lang="en">
<head>
<title>Limit the number of results for a query</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#00878" id="c">
<link rel="index" href="maillist.html#00878" id="i">
<link rel="prev" href="msg00877.html" id="p">
<link rel="next" href="msg00879.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg00878.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Limit+the+number+of+results+for+a+query%22&amp;o=newest" rel="nofollow"><span itemprop="name">Limit the number of results for a query</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Felix+Ritter%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Felix Ritter</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20100813" rel="nofollow">Fri, 13 Aug 2010 05:27:56 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hello,

I'm currently testing RIAK (on Mac OS X) and it looks really promising.
Currently I'm looking for a good way to implement something like
'LIMIT 10, 100' to retrieve 10 results starting at offset 100.
Most web applications have some sort of paging implemented for bigger
lists, and I'm interested to hear what's the best way to implement it
with RIAK.
Any ideas are really appreciated.</pre><pre>

And I have one data loss issue:
for testing I created one bucket with 10.000 JSON-Objects (really
small and simple objects) and run some MapReduce jobs.
Everything worked as expected.
Then I created another 90.000 Objects in the same bucket.
The first query after the data creation just returned a strange
'bucket not found' message, all following queries are now returning an
empty result list.
In the sasl-error.log file I found a message that points to a timeout problem:

=SUPERVISOR REPORT==== 13-Aug-2010::14:14:49 ===
     Supervisor: {local,luke_phase_sup}
     Context:    child_terminated
     Reason:     flow_timeout
     Offender:   [{pid,&lt;0.12957.21&gt;},
                  {name,undefined},
                  {mfa,
                   {luke_phase,start_link,
                    [riak_kv_map_phase,0,
                     [accumulate],
                     [&lt;0.12956.21&gt;,&lt;0.12955.21&gt;],
                     &lt;0.12954.21&gt;,66000,
                     [{javascript,
                       {map,
                        {jsanon,
                         &lt;&lt;&quot;function (value,keydata,arg) {
ejsLog('/riakcluster/mapred.log', JSON.stringify(arg)); var website =
 Riak.mapValuesJson(value)[0]; if (website.name.indexOf('12345')&gt;=0)
return [website]; else return []; }&quot;&gt;&gt;},
                        none,true}}]]}},
                  {restart_type,temporary},
                  {shutdown,brutal_kill},
                  {child_type,worker}]

Any idea? Are there any known limitations regarding the maximum bucket size?

Thanks,
Felix

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg00877.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#00878">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#00878">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg00879.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email tSliceCur"><span class="subject">Limit the number of results for a query</span> <span class="sender italic">Felix Ritter</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00879.html">Re: Limit the number of results for a query</a></span> <span class="sender italic">Damien Hardy</span></li>
<li class="icons-email"><span class="subject"><a href="msg00880.html">Re: Limit the number of results for a query</a></span> <span class="sender italic">Kevin Smith</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Limit the number of results for a query">
<input type="hidden" name="msgid" value="AANLkTimfbXBvU3Lu2xL6-qkL+5rvoUGBwvfUfShvP+6T@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg00878.html">
<input type="submit" value=" Felix Ritter ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Limit+the+number+of+results+for+a+query%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg00877.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg00879.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">AANLkTimfbXBvU3Lu2xL6-qkL+5rvoUGBwvfUfShvP+6T@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
