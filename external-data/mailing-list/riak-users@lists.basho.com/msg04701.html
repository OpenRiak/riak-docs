<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: [RFC] Python client: move to properties</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#04701" id="c">
<link rel="index" href="maillist.html#04701" id="i">
<link rel="prev" href="msg04698.html" id="p">
<link rel="next" href="msg04757.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg04701.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+%5C%5BRFC%5C%5D+Python+client%5C%3A+move+to+properties%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: [RFC] Python client: move to properties</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Russell+Brown%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Russell Brown</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20110914" rel="nofollow">Wed, 14 Sep 2011 07:40:42 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>
On 14 Sep 2011, at 12:37, Mathias Meyer wrote:

&gt; The short answer: yes, we can and we should. I had that on my radar for a 
&gt; while too, because it felt un-Pythonic. 
&gt; 
&gt; As for deprecation, there's no specific rule for the Python client yet. I'm 
&gt; happy to accept a patch for it for e.g. a version of the client 1.4.0 with an 
&gt; announcement that support for these getters/setters will be removed in said 
&gt; version. I'm not a fan of removing things in patch versions myself, but 
&gt; that's certainly up for discussion.</pre><pre>

I'd really like to see the python client be more pythonic. That said, I'd 
really like current production users to keep running their code, and take 
advantage of new features without recoding their use of existing features. For 
the Java client I've deprecated a lot of the API, but it will stay on for a 
couple of releases. No-one likes living with warts on software but deprecating 
is a good way to show that the  un-idiomatic stuff is on the way out, without 
pulling the rug from under users.

&gt; The Python client is quite old and has come a long way, so I'm all for 
&gt; getting rid of the cruft that came with it.
&gt; 

Me too, but after it has been deprecated for at least one release? That isn't 
an official policy, it is just the one I have set for the Java client. 
Deprecate for one release, remove in the next. Does that sound reasonable for 
the Python client, too?

Cheers

Russell

&gt; Cheers, Mathias
&gt; 
&gt; 
&gt; 
&gt; 
&gt; On Mittwoch, 14. September 2011 at 13:30, Greg Stein wrote:
&gt; 
&gt;&gt; Hi all,
&gt;&gt; 
&gt;&gt; There are some non-Pythonic patterns in riak-python-client that should
&gt;&gt; be pretty easy to switch. Things like client.get_r() and
&gt;&gt; client.set_r() are kinda silly. Python long ago moved past the
&gt;&gt; getter/setter paradigm, with the notion of directly exposing instance
&gt;&gt; attributes. As Guido has said numerous times, &quot;we're all adults here&quot;,
&gt;&gt; so we don't need to wrap simple attribute access/change in methods
&gt;&gt; which do exactly that anyways. Just allow apps to directly change it,
&gt;&gt; since the developers doing that *are* adults and know what they're
&gt;&gt; doing.
&gt;&gt; 
&gt;&gt; For something like bucket.get_r()... first: it should not have a
&gt;&gt; damned argument that is returned if you pass in a value. That is
&gt;&gt; nonsense. Don't call the function if you're going to pass an argument!
&gt;&gt; The remaining logic looks at a local value, or defers to the client
&gt;&gt; default value. We can make &quot;bucket.r&quot; a property, and create a getter
&gt;&gt; that does the right thing. Applications can then use &quot;bucket.r&quot; and
&gt;&gt; they will get the right logic, rather than the messier
&gt;&gt; &quot;bucket.get_r()&quot;.
&gt;&gt; 
&gt;&gt; There are similar changes throughout (eg. get_transport).
&gt;&gt; 
&gt;&gt; But... this goes back to a question that I've raised earlier: what
&gt;&gt; kinds of API guarantees are being made on the interface? Can we simply
&gt;&gt; get rid of the .get_r() method? If we choose to do so, is there a
&gt;&gt; deprecation policy? With a policy in place, then it would be easier
&gt;&gt; for me (and others) to provide patches, knowing that they conform to
&gt;&gt; compatibility requirements. As it stands, I'd be happy to code a
&gt;&gt; patch, but am wary that my effort would be rejected per some
&gt;&gt; (unstated) policy.
&gt;&gt; 
&gt;&gt; I don't know how much of a compatibility policy lies with Basho or the
&gt;&gt; community. Dunno how to help there.
&gt;&gt; 
&gt;&gt; And back to the start: can we get the code simplified, and move
&gt;&gt; towards properties?
&gt;&gt; 
&gt;&gt; Cheers,
&gt;&gt; -g
&gt;&gt; 
&gt;&gt; _______________________________________________
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com (<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>)
&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt; 
&gt; 
&gt; 
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>


_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg04698.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#04701">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#04701">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg04757.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg04693.html">[RFC] Python client: move to properties</a></span> <span class="sender italic">Greg Stein</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04694.html">Re: [RFC] Python client: move to properties</a></span> <span class="sender italic">Mathias Meyer</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04698.html">Re: [RFC] Python client: move to properties</a></span> <span class="sender italic">Kev Burns</span></li>
<li class="icons-email tSliceCur"><span class="subject">Re: [RFC] Python client: move to properties</span> <span class="sender italic">Russell Brown</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04757.html">Re: [RFC] Python client: move to properties</a></span> <span class="sender italic">Greg Stein</span></li>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: [RFC] Python client: move to properties">
<input type="hidden" name="msgid" value="B4F31A3F-F50B-4E4C-8200-C41A8A2B5901@basho.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg04701.html">
<input type="submit" value=" Russell Brown ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+%5C%5BRFC%5C%5D+Python+client%5C%3A+move+to+properties%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg04698.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg04757.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">B4F31A3F-F50B-4E4C-8200-C41A8A2B5901@basho.com</li>
</ul>
</div>
</body>
</html>
