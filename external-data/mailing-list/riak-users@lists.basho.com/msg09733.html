<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Atomicity of if_not_modified?</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#09733" id="c">
<link rel="index" href="maillist.html#09733" id="i">
<link rel="prev" href="msg09735.html" id="p">
<link rel="next" href="msg09734.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg09733.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Atomicity+of+if_not_modified%5C%3F%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Atomicity of if_not_modified?</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Les+Mikesell%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Les Mikesell</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20130104" rel="nofollow">Fri, 04 Jan 2013 10:25:10 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>On Fri, Jan 4, 2013 at 11:53 AM, Elias Levy &lt;fearsome.lucid...@gmail.com&gt; wrote:
&gt;&gt;&gt;
&gt;&gt; With your example of N=3, R=2 and W=2, if two clients are updating at the
&gt;&gt; same time to the same object, then it actually depends on the &quot;allow_mult&quot;
&gt;&gt; and &quot;last_write_wins&quot; variable.
&gt;
&gt;
&gt; Correct me if I am wrong, but the caveat here is that the R must be default
&gt; values for the bucket.  The internal get performed by the coordinating node
&gt; handing the INM request does not actually use the R and W value of the INM
&gt; request.  Correct?
&gt;
&gt; It would seem advisable to change this behavior.  Maybe the R value of the
&gt; internal get should match the W value of the INM request.</pre><pre>

And, doesn't every description of riak behavior have to include the
scenario where the network is partitioned and updates are
simultaneously performed by entities that can't contact each other?
If it weren't for that possibility, it could just elect a master and
do real atomic operations.

-- 
   Les Mikesell
     lesmikes...@gmail.com

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg09735.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#09733">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#09733">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg09734.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg09690.html">Atomicity of if_not_modified?</a></span> <span class="sender italic">qaspar</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09691.html">Re: Atomicity of if_not_modified?</a></span> <span class="sender italic">Daniil Churikov</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09725.html">Re: Atomicity of if_not_modified?</a></span> <span class="sender italic">qaspar</span></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg09730.html">Re: Atomicity of if_not_modified?</a></span> <span class="sender italic">Pavan Venkatesh</span></li>
<li class="icons-email"><span class="subject"><a href="msg09735.html">Re: Atomicity of if_not_modified?</a></span> <span class="sender italic">Elias Levy</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Atomicity of if_not_modified?</span> <span class="sender italic">Les Mikesell</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09734.html">Re: Atomicity of if_not_modified?</a></span> <span class="sender italic">Justin Sheehy</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09738.html">Re: Atomicity of if_not_modified?</a></span> <span class="sender italic">qaspar</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Atomicity of if_not_modified?">
<input type="hidden" name="msgid" value="CAOAgVpxMT3+q5kfD3VPo-pqBF25FAxMEQM4d8AawbMnih2zPNA@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg09733.html">
<input type="submit" value=" Les Mikesell ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Atomicity+of+if_not_modified%5C%3F%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg09735.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg09734.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAOAgVpxMT3+q5kfD3VPo-pqBF25FAxMEQM4d8AawbMnih2zPNA@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
