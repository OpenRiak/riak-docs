<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Setting up a Riak + Mongrel2 Stack</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#04452" id="c">
<link rel="index" href="maillist.html#04452" id="i">
<link rel="prev" href="msg04451.html" id="p">
<link rel="next" href="msg04454.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg04452.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Setting+up+a+Riak+%5C%2B+Mongrel2+Stack%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Setting up a Riak + Mongrel2 Stack</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Jeremiah+Peschka%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Jeremiah Peschka</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20110824" rel="nofollow">Wed, 24 Aug 2011 09:50:49 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Use whatever language on the server-side that you're comfortable working with. 
If you're into Ruby, Ripple is quite mature. The Java client is nice. I 
personally like the .NET client (of course I'm slightly biased on that front). 
I'd avoid exposing Riak to the open internet, even if it is through a proxy of 
some sort. Use a set of APIs so that you can abstract your data storage away 
from the calling application. A lot of people are reporting success with 
haproxy as the proxy for their Riak instances. </pre><pre>

OJ Reeves put together a bit of a tutorial on haproxy and Riak: 
<a  rel="nofollow" href="http://buffered.io/2010/09/12/webmachine-erlydtl-and-riak-part-2/">http://buffered.io/2010/09/12/webmachine-erlydtl-and-riak-part-2/</a>

You can drastically improve performance by avoiding the HTTP interface and 
using the Protocol Buffers interfaces to Riak, but that depends more on your 
language of choice than anything else (some libraries may not support the PB 
interface).
---
Jeremiah Peschka - Founder, Brent Ozar PLF, LLC
Microsoft SQL Server MVP

On Aug 24, 2011, at 9:43 AM, trevor stanhope wrote:

&gt; Beyond using Mongrel2 as a proxy, which webserver might be best suited
&gt; to work with Riak.
&gt; 
&gt; Also, let me give you a basic idea of the system I'm planning to test.
&gt; More or less I'm trying to set-up the proxy in front of the riak kvs and
&gt; will be making calls to the datastore from a mobile phone application,
&gt; that will be doing some basic JSON MPqueries on the system (I'm debating
&gt; the merit of link walking for new db information, though I hear that
&gt; riak get is faster for objects that are known to exists). These will be
&gt; either parsed and returned to the mobile app, or returned to the
&gt; webserver to view in an online application.
&gt; 
&gt; Otherwise, the webserver needs to make simple authenticated writes to
&gt; the kvs, mostly to add links to existing objects, which will ideally be
&gt; populated into the db via scripts built into the webserver front-end
&gt; (but for testing purposes I was planning to use bash scripts, or some
&gt; faster equivalent).
&gt; 
&gt; 
&gt; On Wed, 2011-08-24 at 11:38 -0400, Jonathan Langevin wrote:
&gt;&gt; I dunno about mongrel, but I know some of the guys at basho have
&gt;&gt; personally used a proxy in front of Riak (Matt Heitzenroder is one
&gt;&gt; that's mentioned it before, I've CC'd him).
&gt;&gt; 
&gt;&gt; 
&gt;&gt; My thought is that if you can find out the general configuration
&gt;&gt; method of how to set up a proxy in front of Riak (such as how it may
&gt;&gt; differ from a typical proxy, if there's any special headers you have
&gt;&gt; to pass, what settings to apply regarding caching, etc), you could
&gt;&gt; then take that info to the Mongrel community and get some specific
&gt;&gt; help there for implementing the proxy configuration with the general
&gt;&gt; information you've gleamed from the Basho guys.
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; Jonathan Langevin
&gt;&gt; Systems Administrator
&gt;&gt; 
&gt;&gt; Loom Inc.
&gt;&gt; Wilmington, NC: (910) 241-0433
&gt;&gt; - jlange...@loomlearning.com - www.loomlearning.com - Skype: intel352
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; On Tue, Aug 23, 2011 at 5:28 PM, trevor stanhope
&gt;&gt; &lt;tpstanh...@gmail.com&gt; wrote:
&gt;&gt;        exactly. I'm looking to setup mongrel2 as front-end to a Riak
&gt;&gt;        kvs.
&gt;&gt; 
&gt;&gt; 
&gt;&gt;        On Tue, 2011-08-23 at 14:25 -0400, Jonathan Langevin wrote:
&gt;&gt;&gt; Is your intention to use mongrel as a proxy for Riak?
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; Jonathan Langevin
&gt;&gt;&gt; Systems Administrator
&gt;&gt;&gt; 
&gt;&gt;&gt; Loom Inc.
&gt;&gt;&gt; Wilmington, NC: (910) 241-0433
&gt;&gt;&gt; - jlange...@loomlearning.com - www.loomlearning.com - Skype:
&gt;&gt;        intel352
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; On Thu, Aug 18, 2011 at 2:01 AM, trevor stanhope
&gt;&gt;&gt; &lt;tpstanh...@gmail.com&gt; wrote:
&gt;&gt;&gt;        Hey, I've been probing around for any existing
&gt;&gt;        examples of a
&gt;&gt;&gt;        Riak +
&gt;&gt;&gt;        Mongrel2 stack being deployed and haven't had any
&gt;&gt;        luck. I'm
&gt;&gt;&gt;        not familiar
&gt;&gt;&gt;        with Mongrel2 but it was recommended to me and I'm
&gt;&gt;        very
&gt;&gt;&gt;        interested in
&gt;&gt;&gt;        deploying on that platform. What recommendations or
&gt;&gt;        who would
&gt;&gt;&gt;        be best to
&gt;&gt;&gt;        speak with on that subject?
&gt;&gt;&gt; 
&gt;&gt;&gt;        Best Regards,
&gt;&gt;&gt;        Trev Stanhope
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt;        _______________________________________________
&gt;&gt;&gt;        riak-users mailing list
&gt;&gt;&gt;        riak-users@lists.basho.com
&gt;&gt;&gt; 
&gt;&gt;        <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt; 
&gt; 
&gt; 
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>


_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg04451.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#04452">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#04452">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg04454.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg04381.html">Setting up a Riak + Mongrel2 Stack</a></span> <span class="sender italic">trevor stanhope</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04430.html">Re: Setting up a Riak + Mongrel2 Stack</a></span> <span class="sender italic">Jonathan Langevin</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04447.html">Re: Setting up a Riak + Mongrel2 Stack</a></span> <span class="sender italic">Jonathan Langevin</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04449.html">Re: Setting up a Riak + Mongrel2 Stack</a></span> <span class="sender italic">Sean Cribbs</span></li>
<li class="icons-email"><span class="subject"><a href="msg04451.html">Re: Setting up a Riak + Mongrel2 Stack</a></span> <span class="sender italic">trevor stanhope</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Setting up a Riak + Mongrel2 Stack</span> <span class="sender italic">Jeremiah Peschka</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04454.html">Re: Setting up a Riak + Mongrel2 S...</a></span> <span class="sender italic">Jeremiah Peschka</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Setting up a Riak + Mongrel2 Stack">
<input type="hidden" name="msgid" value="4C8A9D38-E17D-47C4-9B1A-D82D18858488@gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg04452.html">
<input type="submit" value=" Jeremiah Peschka ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Setting+up+a+Riak+%5C%2B+Mongrel2+Stack%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg04451.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg04454.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">4C8A9D38-E17D-47C4-9B1A-D82D18858488@gmail.com</li>
</ul>
</div>
</body>
</html>
