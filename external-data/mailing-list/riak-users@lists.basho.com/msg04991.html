<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Retreiving data from an index</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="thrd2.html#04991" id="c">
<link rel="index" href="maillist.html#04991" id="i">
<link rel="prev" href="msg04747.html" id="p">
<link rel="next" href="msg04749.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg04991.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Retreiving+data+from+an+index%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Retreiving data from an index</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Ryan+Zezeski%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Ryan Zezeski</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20111003" rel="nofollow">Mon, 03 Oct 2011 08:24:49 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Antonio,

The reason the lowercase search doesn't work is because the default analyzer
(whitespace analyzer) is case sensitive [1].  You could use the &quot;standard&quot;
analyzer which will lowercase all terms but beware it's based off the
standard Lucene analyzer which is really meant for full text search.
 Another option, if you are comfortable with Erlang, is to augment the
whitespace analyzer to normalize all terms and add that module to your code
path.  Otherwise, your best bet is to probably normalize in
your application.</pre><pre>

Looking at your data it seems like you may be using Search as a secondary
index method.  You should know that in 1.0 Riak now has native secondary
index support which may fit your problem better.

-Ryan

[1]: <a  rel="nofollow" href="http://wiki.basho.com/Riak-Search---Schema.html#Analyzers">http://wiki.basho.com/Riak-Search---Schema.html#Analyzers</a>

2011/9/15 Antonio Fernández Vara &lt;antoniofernandezv...@gmail.com&gt;

&gt; Hi all,
&gt;
&gt; I'm performing queries to an index using riak client, indexing data from
&gt; models for a new Rails app. Making the first tests on the search I have
&gt; found that those queries must match the case that was used.
&gt;
&gt; Is there some option for make the queries indiferent of the case? Or, must
&gt; I take care of case indexing? (just downcase them or whatever) I saw at the
&gt; source code for search and just the options are for format of answer, sort,
&gt; start row and number of rows.
&gt;
&gt;
&gt; Just a sample I'm telling:
&gt;
&gt; ruby-1.9.2-p136 :049 &gt; client.search(&quot;users&quot;, &quot;name:ant*&quot;)
&gt;  =&gt; {&quot;responseHeader&quot;=&gt;{&quot;status&quot;=&gt;0, &quot;QTime&quot;=&gt;6,
&gt; &quot;params&quot;=&gt;{&quot;q&quot;=&gt;&quot;name:ant*&quot;, &quot;q.op&quot;=&gt;&quot;or&quot;, &quot;filter&quot;=&gt;&quot;&quot;, &quot;wt&quot;=&gt;&quot;json&quot;}},
&gt; &quot;response&quot;=&gt;{&quot;numFound&quot;=&gt;0, &quot;start&quot;=&gt;0, &quot;maxScore&quot;=&gt;&quot;0.0&quot;, &quot;docs&quot;=&gt;[]}}
&gt; ruby-1.9.2-p136 :050 &gt; client.search(&quot;users&quot;, &quot;name:Ant*&quot;)
&gt;  =&gt; {&quot;responseHeader&quot;=&gt;{&quot;status&quot;=&gt;0, &quot;QTime&quot;=&gt;6,
&gt; &quot;params&quot;=&gt;{&quot;q&quot;=&gt;&quot;name:Ant*&quot;, &quot;q.op&quot;=&gt;&quot;or&quot;, &quot;filter&quot;=&gt;&quot;&quot;, &quot;df&quot;=&gt;&quot;value&quot;,
&gt; &quot;wt&quot;=&gt;&quot;json&quot;, &quot;version&quot;=&gt;&quot;1.1&quot;, &quot;rows&quot;=&gt;1}}, &quot;response&quot;=&gt;{&quot;numFound&quot;=&gt;1,
&gt; &quot;start&quot;=&gt;0, &quot;maxScore&quot;=&gt;&quot;0.00000e+0&quot;, &quot;docs&quot;=&gt;[{&quot;id&quot;=&gt;&quot;1326d69a3bb001001&quot;,
&gt; &quot;index&quot;=&gt;&quot;users&quot;, &quot;fields&quot;=&gt;{&quot;name&quot;=&gt;&quot;Antonio Fernández&quot;,
&gt; &quot;slug&quot;=&gt;&quot;antonio-fernandez&quot;}, &quot;props&quot;=&gt;{}}]}}
&gt; ruby-1.9.2-p136 :051 &gt;
&gt;
&gt;
&gt; Also there is another question, since look for keys in buckets is just a
&gt; mistake, it could be nice to be able to query all the objects from an index,
&gt; just I could using 2 letters and * as minimum. (I used sunspot gem that
&gt; works with solr and without any query term it allows you to get all the
&gt; results. not sure is there is an option for that here)
&gt;
&gt; Thank you in advance,
&gt;
&gt; Antonio
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
&gt;
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg04747.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="thrd2.html#04991">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#04991">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg04749.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg04747.html">Retreiving data from an index</a></span> <span class="sender italic">Antonio Fernández Vara</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Retreiving data from an index</span> <span class="sender italic">Ryan Zezeski</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Retreiving data from an index">
<input type="hidden" name="msgid" value="CACZcpekaQq8-aqLpgXFj9=g6RwH-AAtbHtsrUxGPZYOaPxGLNA@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg04991.html">
<input type="submit" value=" Ryan Zezeski ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Retreiving+data+from+an+index%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg04747.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg04749.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CACZcpekaQq8-aqLpgXFj9=g6RwH-AAtbHtsrUxGPZYOaPxGLNA@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
