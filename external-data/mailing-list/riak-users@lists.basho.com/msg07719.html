<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Link walking with Erlang riak client</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#07719" id="c">
<link rel="index" href="maillist.html#07719" id="i">
<link rel="prev" href="msg07714.html" id="p">
<link rel="next" href="msg07718.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg07719.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Link+walking+with+Erlang+riak+client%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Link walking with Erlang riak client</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Morgan+Segalis%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Morgan Segalis</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20120620" rel="nofollow">Wed, 20 Jun 2012 05:01:00 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi Eric,

Thank you for your answer.</pre><pre>

Yeah apparently, Links are not the Eldorado I though it was.
In my head it was a pointer to another record, and accessing it would be faster 
than regular requests…

I'm not really looking for more than 100 friends in one user's list really. 
(Except the rare user that will have 1000 or more friends).
When you say &quot;a limited length&quot;, I'm not sure what you are referring… ?

Actually, more than checking if A and B are friends, I was looking for getting 
fast Information about friends, e.g. :

- retrieve all friend's information by Link Walking, like : A/B/name A/C/name 
A/D/name …

But it seems that I would not be as fast as I though ?

Thank you,

Morgan.

Le 19 juin 2012 à 19:48, Eric Moritz a écrit :

&gt; Links may not be the most appropriate way to model a set of associated
&gt; users.  They have a limited length and both the user data and the
&gt; links have to be saved at the same time.
&gt; 
&gt; What you can do is emulate a set using a separate bucket and secondary 
&gt; indexes.
&gt; 
&gt; So basically the bucket would look like this:
&gt; 
&gt; So if I'm a friend of yours,
&gt; 
&gt; PUT /buckets/friends/keys/eric-morgan
&gt; x-riak-index-friend_id_bin: morgan
&gt; x-riak-index-user_id_bin: eric
&gt; Content-Type: application/json
&gt; 
&gt; {&quot;user_id&quot;: &quot;eric&quot;, &quot;friend_id&quot;: &quot;morgan&quot;}
&gt; 
&gt; Then you can fetch a set of my friends by doing a 2i query for the
&gt; bucket friends and the index
&gt; user_id.
&gt; 
&gt; If you want to a set of all the people that have friended you, do a 2i
&gt; query on friend_id with the value &quot;morgan&quot;.
&gt; 
&gt; You can quickly see if we're mutual friends by fetching:
&gt; 
&gt; /buckets/friends/keys/eric-morgan and /buckets/friends/keys/morgan-eric.
&gt; 
&gt; If both are found, then we're mutual friends.
&gt; 
&gt; Eric.
&gt; 
&gt; On Tue, Jun 19, 2012 at 12:35 PM, Morgan Segalis &lt;msega...@gmail.com&gt; wrote:
&gt;&gt; Hi everyone !
&gt;&gt; 
&gt;&gt; I'm looking for a NoSQL solution to get ride of MySQL.
&gt;&gt; In this particular issue, I think that Riak is one of the top of my choices 
&gt;&gt; in order to do what I'm looking for.
&gt;&gt; 
&gt;&gt; I would like to store all my users into Riak.
&gt;&gt; I understand that Riak is document oriented, so that's great for getting 
&gt;&gt; every information really fast from one user.
&gt;&gt; One of the feature I'm really interested in, are Links.
&gt;&gt; 
&gt;&gt; Links seems to be a great way for me to create association between users…
&gt;&gt; 
&gt;&gt; When A adds B, I create a link from A to B.
&gt;&gt; When B accepts A's invitation, I create a link from B to A.
&gt;&gt; 
&gt;&gt; If links are not both ways, e.g. A to B to A, message can not go through (B 
&gt;&gt; who didn't accept A should not get its message yet)
&gt;&gt; 
&gt;&gt; My server is coded in Erlang, I have checked the Erlang riak client, and I 
&gt;&gt; didn't see something as simple as the HTTP use of Links in the demo.
&gt;&gt; 
&gt;&gt; 1 - Are Link walking in Erlang fast &amp; easy ?
&gt;&gt; 2 - Is it possible to check fast if A -&gt; B -&gt; A (still in Erlang)? ('-&gt;' 
&gt;&gt; represents Links)
&gt;&gt; 
&gt;&gt; Thank you for your help !
&gt;&gt; 
&gt;&gt; Morgan.
&gt;&gt; _______________________________________________
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>


_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg07714.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#07719">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#07719">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg07718.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg07713.html">Link walking with Erlang riak client</a></span> <span class="sender italic">Morgan Segalis</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg07714.html">Re: Link walking with Erlang riak client</a></span> <span class="sender italic">Eric Moritz</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Link walking with Erlang riak client</span> <span class="sender italic">Morgan Segalis</span></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg07718.html">Re: Link walking with Erlang riak client</a></span> <span class="sender italic">Bryan Fink</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg07720.html">Re: Link walking with Erlang riak client</a></span> <span class="sender italic">Morgan Segalis</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg07721.html">Re: Link walking with Erlang riak client</a></span> <span class="sender italic">Bryan Fink</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg07722.html">Re: Link walking with Erlang riak client</a></span> <span class="sender italic">Morgan Segalis</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Link walking with Erlang riak client">
<input type="hidden" name="msgid" value="F2C4445F-6B45-407F-A7F4-B6C9913E13B9@gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg07719.html">
<input type="submit" value=" Morgan Segalis ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Link+walking+with+Erlang+riak+client%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg07714.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg07718.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">F2C4445F-6B45-407F-A7F4-B6C9913E13B9@gmail.com</li>
</ul>
</div>
</body>
</html>
