<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Import tables/data from Microsoft SQL Server</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#09130" id="c">
<link rel="index" href="maillist.html#09130" id="i">
<link rel="prev" href="msg09145.html" id="p">
<link rel="next" href="msg09134.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg09130.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Import+tables%5C%2Fdata+from+Microsoft+SQL+Server%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Import tables/data from Microsoft SQL Server</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Dmitri+Zagidulin%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Dmitri Zagidulin</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20121101" rel="nofollow">Thu, 01 Nov 2012 11:56:39 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Excellent question.

Unfortunately, you're not going to find any universal/pushbutton tool to
migrate data from an SQL db to Riak.</pre><pre>

Fortunately, writing that migration tool that is specific to your
application is fairly straightforward. All of the variations out there boil
down to:
1) Export your data from one or more SQL tables into one or more CSV files,
XML files or JSON files.

2) Write a script in your preferred language (Python/Ruby/Java/etc) to read
each piece of data in the files, create an object that's appropriate to
store in Riak (a JSON blob, an XML snippet, a serialized binary string,
whatever), and:

3) Issue one or more write requests to Riak, storing that object. (I say
one or more write requests because, depending on your models/relationships,
you may need to update several riak objects with a key from a newly
inserted object).

The reason this can't really be done with automated tools at the moment is
-- migrating from a traditional relational database data model to a
Riak-appropriate model takes some rethinking and re-architecting. In many
cases, it will make sense to de-normalize data from many different tables
into one JSON object, for easy one-read retrieval. In other cases, you will
have to model RDBMS-style relational joins with Secondary Index queries,
search queries, link walking or Map/Reduce jobs.

So, my advice to you is to take it in several steps:
* Familiarize yourself with one of the Riak client libraries (see
<a  rel="nofollow" href="http://docs.basho.com/riak/1.2.0/references/Client-Libraries/">http://docs.basho.com/riak/1.2.0/references/Client-Libraries/</a> and
<a  rel="nofollow" href="http://docs.basho.com/riak/1.2.0/references/Community-Developed-Libraries-and-Projects/">http://docs.basho.com/riak/1.2.0/references/Community-Developed-Libraries-and-Projects/</a>).
 Write a simple test program where you can write a JSON blob or an XML
blob or an integer to a Riak cluster.

* Think about how you want to change your data model, in migrating from SQL
to Riak. For example, &quot;I'm migrating a simple web app session storage
table, with a SessionID and a big json blob SessionPayload. In Riak, I'll
store them in a 'sessions' bucket, using SessionID as a key, and the json
blob as the object value&quot;.  Or &quot;I'm migrating user accounts and email
preference data. I'll de-normalize the Account and EmailPreference table
into one XML object, and store that in a 'users' bucket, keyed by userId&quot;.
Some reading that will help with this step:
<a  rel="nofollow" href="http://basho.com/blog/technical/2010/03/19/schema-design-in-riak---introduction/">http://basho.com/blog/technical/2010/03/19/schema-design-in-riak---introduction/</a>
<a  rel="nofollow" href="http://docs.basho.com/riak/latest/cookbooks/use-cases/">http://docs.basho.com/riak/latest/cookbooks/use-cases/</a>

* Write your migration tool. Iterate over your existing SQL data, query one
or more relevant rows (or read them from an exported table dump), compose
your Riak object (json, xml, serialized object string, binary blob like an
image or an mp3, whatever), and write that object to the appropriate Riak
bucket.

Does that make sense?

Dmitri



On Thu, Nov 1, 2012 at 1:40 PM, Kevin Burton &lt;rkevinbur...@charter.net&gt;wrote:

&gt; I would like some scripts or programming tools that I could use to
&gt; transfer existing data held in Microsoft SQL Server databases into Riak. Do
&gt; such tools exist?****
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
&gt;
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg09145.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#09130">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#09130">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg09134.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li><ul>
<li><ul>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09129.html">RE: Import tables/data from Microsoft SQL Se...</a></span> <span class="sender italic">Kevin Burton</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09131.html">Re: Import tables/data from Microsoft SQ...</a></span> <span class="sender italic">Dmitri Zagidulin</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09132.html">RE: Import tables/data from Microso...</a></span> <span class="sender italic">Kevin Burton</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09133.html">Re: Import tables/data from Mic...</a></span> <span class="sender italic">Dmitri Zagidulin</span></li>
<li class="icons-email"><span class="subject"><a href="msg09136.html">RE: Import tables/data from Mic...</a></span> <span class="sender italic">Kevin Burton</span></li>
<li class="icons-email"><span class="subject"><a href="msg09137.html">Re: Import tables/data from Mic...</a></span> <span class="sender italic">Dmitri Zagidulin</span></li>
<li class="icons-email"><span class="subject"><a href="msg09138.html">Re: Import tables/data from Mic...</a></span> <span class="sender italic">Jeff Kirkell</span></li>
<li class="icons-email"><span class="subject"><a href="msg09140.html">Re: Import tables/data from Mic...</a></span> <span class="sender italic">Jayson Barley</span></li>
<li class="icons-email"><span class="subject"><a href="msg09142.html">Re: Import tables/data from Mic...</a></span> <span class="sender italic">Jeremiah Peschka</span></li>
<li class="icons-email"><span class="subject"><a href="msg09145.html">Re: Import tables/data from Mic...</a></span> <span class="sender italic">Jeremiah Peschka</span></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li class="icons-email tSliceCur"><span class="subject">Re: Import tables/data from Microsoft SQL Server</span> <span class="sender italic">Dmitri Zagidulin</span></li>
<li class="icons-email"><span class="subject"><a href="msg09134.html">Re: Import tables/data from Microsoft SQL Server</a></span> <span class="sender italic">Jayson Barley</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Import tables/data from Microsoft SQL Server">
<input type="hidden" name="msgid" value="CA+TO3kX5Uq0PeAUe444h2Fxa3bNAn9HzmY1Fm_7jd3QpnFe8pg@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg09130.html">
<input type="submit" value=" Dmitri Zagidulin ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Import+tables%5C%2Fdata+from+Microsoft+SQL+Server%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg09145.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg09134.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CA+TO3kX5Uq0PeAUe444h2Fxa3bNAn9HzmY1Fm_7jd3QpnFe8pg@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
