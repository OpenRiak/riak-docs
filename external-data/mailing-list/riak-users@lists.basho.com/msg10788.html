<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: The suitability of MapReduce</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#10788" id="c">
<link rel="index" href="maillist.html#10788" id="i">
<link rel="prev" href="msg10787.html" id="p">
<link rel="next" href="msg10791.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg10788.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+The+suitability+of+MapReduce%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: The suitability of MapReduce</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Guido+Medina%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Guido Medina</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20130409" rel="nofollow">Tue, 09 Apr 2013 03:00:43 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Rohman,

</pre><tt>  It is more complicated than that, most big data systems use more than 
</tt><tt>one DB engine (Including Facebook that uses like 5 different engines), 
</tt><tt>for example (And we are not as big as Facebook), we use a relational 
</tt><tt>SQL, a text search engine and Riak, you will have to balance each 
</tt><tt>weakness with a different tool, and use each tool at what it does best, 
</tt><tt>in the case of Riak:
</tt><pre style="margin: 0em;"></pre><pre>

 * JSON storage where you know your keys (And is easy for you to fetch
   keys concurrently)
 * If you need to &quot;reduce&quot;, lets say, out of a million keys find 100,
   then &quot;programatically&quot; reduce that 100 to 25, you can enable 2i.
 * If you need a sophisticated search, you could hook into Yokozuma
   which uses Solr (We use Solr separately)

</pre><tt>I would say there is no ideal solution, you use the best of it and 
</tt><tt>counter the worst with something else.
</tt><pre style="margin: 0em;">

Hope that helps,

Guido.

On 09/04/13 10:42, Antonio Rohman Fernandez wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">

</pre><tt>But... then... i wonder how to do the following task, as i assumed MR 
</tt><tt>would be the right thing to do:
</tt><pre style="margin: 0em;">

</pre><tt>- Imagine Facebook's &quot;news feed&quot;, that every little time recompile the 
</tt><tt>statuses, photos, comments, likes, etc... of all your contacts.
</tt><pre style="margin: 0em;">

</pre><tt>Shouldn't this be done by MR? and if so... shouldn't the user be able 
</tt><tt>to execute it by-demand if they want to refresh the news feed? ( or at 
</tt><tt>least refreshed in the background every X minutes ) and the user able 
</tt><tt>to GET the refreshed compiled data?
</tt><pre style="margin: 0em;">

Merci,
Rohman

On 09.04.2013 01:26, Matt Black wrote:

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><tt>I think an short and explicit discussion of using sequential GETs 
</tt><tt>would be good to add to the docs in [1]. It'll be helpful to put the 
</tt><tt>alternate option in the reader's head so they can evaluate as they're 
</tt><tt>going through the article.
</tt><pre style="margin: 0em;">
Cheers
Matt


</pre><tt>On 9 April 2013 02:02, Jeremiah Peschka &lt;jeremiah.pesc...@gmail.com 
</tt><tt>&lt;<a  rel="nofollow" href="mailto:jeremiah.pesc...@gmail.com">mailto:jeremiah.pesc...@gmail.com</a>&gt;&gt; wrote:
</tt><pre style="margin: 0em;">

    I want to follow up on the recent &quot;Map phase timeout&quot; thread [2].
    In part out of curiosity and in part as a documentation clean
    up... Should the documentation at [1] be changed? Specifically,
    the docs say MR should be used:

      * *When you know the set of objects you want to MapReduce over
        (the bucket-key pairs) *(emphasis added)
      * When you want to return actual objects or pieces of the
        object -- not just the keys, as do Search &amp; Secondary Indexes
      * When you need utmost flexibility in querying your data.
        MapReduce gives you full access to your object and lets you
        pick it apart any way you want.

    It seems to me that a lot of discussions around MR in Riak come
    down to &quot;You're close but this isn't the best use case of
    MapReduce in Riak.&quot; Would it be better, for the purposes of a
    general discussion, to say that MapReduce is the appropriate
    paradigm when you want to:

      * manipulate a large amount of data inside the Riak cluster in
        bulk - e.g. read all of my sales orders and where the version
        is 1, perform the changes necessary to update the order
        format to version 2.
      * burn a lot of I/O and make your admin sad
      * move data from one bucket to another
      * re-write an entire bucket so all data is indexed for 2i,
        search, etc
      * Anything where the query can be resumed with no knowledge of
        state at the time the last run of the query failed.

    Are there other use cases when MR is the better approach?
    [1]:
    
<a  rel="nofollow" href="http://docs.basho.com/riak/latest/tutorials/querying/MapReduce/#When-to-Use-MapReduce">http://docs.basho.com/riak/latest/tutorials/querying/MapReduce/#When-to-Use-MapReduce</a>
    [2]:
    
<a  rel="nofollow" href="http://riak.markmail.org/search/?q=#query:+page:1+mid:4o27v64qf55ejzwc+state:results">http://riak.markmail.org/search/?q=#query:+page:1+mid:4o27v64qf55ejzwc+state:results</a>

    ---
    Jeremiah Peschka - Founder, Brent Ozar Unlimited
    MCITP: SQL Server 2008, MVP
    Cloudera Certified Developer for Apache Hadoop

    _______________________________________________
    riak-users mailing list
    riak-users@lists.basho.com &lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt;
    <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>


_______________________________________________
riak-users mailing list
riak-users@lists.basho.com  &lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt;
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre></blockquote><pre style="margin: 0em;">

--
line
logo &lt;<a  rel="nofollow" href="http://mahalostudio.com">http://mahalostudio.com</a>&gt;            *Antonio Rohman Fernandez*
CEO, Founder &amp; Lead Engineer
roh...@mahalostudio.com &lt;<a  rel="nofollow" href="mailto:roh...@mahalostudio.com">mailto:roh...@mahalostudio.com</a>&gt;          *Projects*
MaruBatsu.es &lt;<a  rel="nofollow" href="http://marubatsu.es">http://marubatsu.es</a>&gt;
PupCloud.com &lt;<a  rel="nofollow" href="http://pupcloud.com">http://pupcloud.com</a>&gt;
Wedding Album &lt;<a  rel="nofollow" href="http://wedding.mahalostudio.com">http://wedding.mahalostudio.com</a>&gt;

line


_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre></blockquote><pre style="margin: 0em;">

</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg10787.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#10788">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#10788">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg10791.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg10756.html">The suitability of MapReduce</a></span> <span class="sender italic">Jeremiah Peschka</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10775.html">Re: The suitability of MapReduce</a></span> <span class="sender italic">Matt Black</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10787.html">Re: The suitability of MapReduce</a></span> <span class="sender italic">Antonio Rohman Fernandez</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: The suitability of MapReduce</span> <span class="sender italic">Guido Medina</span></li>
<li class="icons-email"><span class="subject"><a href="msg10791.html">Re: The suitability of MapReduce</a></span> <span class="sender italic">Jeremiah Peschka</span></li>
<li class="icons-email"><span class="subject"><a href="msg10793.html">Re: The suitability of MapReduce</a></span> <span class="sender italic">Dmitri Zagidulin</span></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg10792.html">Re: The suitability of MapReduce</a></span> <span class="sender italic">Dmitri Zagidulin</span></li>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: The suitability of MapReduce">
<input type="hidden" name="msgid" value="5163E67B.7030801@temetra.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg10788.html">
<input type="submit" value=" Guido Medina ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+The+suitability+of+MapReduce%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg10787.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg10791.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">5163E67B.7030801@temetra.com</li>
</ul>
</div>
</body>
</html>
