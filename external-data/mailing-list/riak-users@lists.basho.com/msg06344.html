<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Connection Pooling with the python-riak-client</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#06344" id="c">
<link rel="index" href="maillist.html#06344" id="i">
<link rel="prev" href="msg06343.html" id="p">
<link rel="next" href="msg06383.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg06344.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Connection+Pooling+with+the+python%5C-riak%5C-client%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Connection Pooling with the python-riak-client</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Sean+Cribbs%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Sean Cribbs</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20120120" rel="nofollow">Fri, 20 Jan 2012 16:28:27 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Shuhao and Michael,

I'm sorry I don't know the answer to your question, but please do not be
discouraged! We (Basho engineering) are committed to bring the Python
client up to speed within Q1 of this year, especially to make it have
feature-parity with the official Java and Ruby clients.  We are aware of a
number of differences between the official repository and its forks and
will be working to resolve those issues soon. We will also be instituting a
release process that keeps these client libraries in sync.</pre><pre>

As is the case with any of our open-source projects, if the feature or
bugfix you need is not there, we encourage you to fork the project and send
a pull-request on Github with your changes. We will review it as soon as we
can. Thank you for your patience!

On Fri, Jan 20, 2012 at 4:57 PM, Shuhao Wu &lt;ad...@thekks.net&gt; wrote:

&gt; I'm not the people who are building this but I just want to comment on the
&gt; subject. Riak-python-client is not being updated very frequently.. So I
&gt; think your best shot right now is fork it as you wish and take a look at
&gt; some other forks people have made and see what new things/fixes they have
&gt; included rather than basing yourself against basho's tree.
&gt;
&gt; Though, that may diverge the code significantly.. but it's the matter of
&gt; if you really need that feature right this second or not.
&gt;
&gt; Shuhao
&gt;
&gt;
&gt; On Fri, Jan 20, 2012 at 3:53 PM, Michael Clemmons &lt;glassresis...@gmail.com
&gt; &gt; wrote:
&gt;
&gt;&gt; Hey All,
&gt;&gt; FIrst time on the list, so go easy.  I've been working with the
&gt;&gt; python-riak-client for a while and one of the biggest blockers has been its
&gt;&gt; lack of connection pooling.  Until recently the fork maintained at
&gt;&gt; <a  rel="nofollow" href="https://github.com/bretthoerner/riak-python-client">https://github.com/bretthoerner/riak-python-client</a> has been sufficient
&gt;&gt; for my needs.  I'd been merging it in with the master branch privately up
&gt;&gt; until December.
&gt;&gt; I've decided to go back and cleanup that approach and reapply it to the
&gt;&gt; current master branch.  To my surprise I found that the ConnectionManager
&gt;&gt; supports multiple connections and has the tools to add and remove them.
&gt;&gt; Looking at the simple case of the RiakHttpTransport layer and the
&gt;&gt; http_request method it looks like it should grab a new connection(or an old
&gt;&gt; one) and try it and if it fails move on to the next putting the host port
&gt;&gt; pair at the bottom of the list.
&gt;&gt; So it looked like all I needed to do was update the client code to accept
&gt;&gt; a list of hostport pairs and it would just work, which sounded too easy to
&gt;&gt; be true.  I tested it anyways and if I use one hostport that is a working
&gt;&gt; riak node it connects and everything works.  If I include 2 nodes one
&gt;&gt; working and one a random port it fails no matter the order.  So its not
&gt;&gt; just trying to connect to the first and failing its connecting to them all
&gt;&gt; and failing if any fail.
&gt;&gt; Anyone have any idea of why its built this way and what other solutions
&gt;&gt; people have worked out on their own?  My intent is to do this so it merges
&gt;&gt; cleanly with the current master, and doesn't introduce unnecessary change,
&gt;&gt; to increase the likelyhood of a successful pull request.
&gt;&gt; -Michael
&gt;&gt;
&gt;&gt;
&gt;&gt; _______________________________________________
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;&gt;
&gt;&gt;
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
&gt;


-- 
Sean Cribbs &lt;s...@basho.com&gt;
Software Engineer
Basho Technologies, Inc.
<a  rel="nofollow" href="http://basho.com/">http://basho.com/</a>
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg06343.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#06344">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#06344">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg06383.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg06342.html">Connection Pooling with the python-riak-client</a></span> <span class="sender italic">Michael Clemmons</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg06343.html">Re: Connection Pooling with the python-riak-client</a></span> <span class="sender italic">Shuhao Wu</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Connection Pooling with the python-riak-clie...</span> <span class="sender italic">Sean Cribbs</span></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg06383.html">Re: Connection Pooling with the python-riak-client</a></span> <span class="sender italic">Greg Stein</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg06389.html">Re: Connection Pooling with the python-riak-clie...</a></span> <span class="sender italic">Michael Clemmons</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg06391.html">Re: Connection Pooling with the python-riak-...</a></span> <span class="sender italic">Greg Stein</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg06393.html">Re: Connection Pooling with the python-r...</a></span> <span class="sender italic">Michael Clemmons</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Connection Pooling with the python-riak-client">
<input type="hidden" name="msgid" value="CAHsw=e1GygtmAneWj09AS7T=7DwjnrzJe5kzCY5QZ88EZwsa5A@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg06344.html">
<input type="submit" value=" Sean Cribbs ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Connection+Pooling+with+the+python%5C-riak%5C-client%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg06343.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg06383.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAHsw=e1GygtmAneWj09AS7T=7DwjnrzJe5kzCY5QZ88EZwsa5A@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
