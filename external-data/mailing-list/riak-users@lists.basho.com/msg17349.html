<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Riak search on an index limited to only 1 bucket</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#17349" id="c">
<link rel="index" href="maillist.html#17349" id="i">
<link rel="prev" href="msg17348.html" id="p">
<link rel="next" href="msg17350.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg17349.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+search+on+an+index+limited+to+only+1+bucket%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Riak search on an index limited to only 1 bucket</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Alex+De+la+rosa%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Alex De la rosa</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20160513" rel="nofollow">Fri, 13 May 2016 12:20:30 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Yes, using Python client. I'm able to store sets without problem into Riak,
just wondered if indexing them in SOLR would be as simple as just adding
the multiValued attribute to the &quot;set&quot; field... seems is going to be that
way :)</pre><pre>

Thanks,
Alex

On Fri, May 13, 2016 at 11:15 PM, Vitaly &lt;13vitam...@gmail.com&gt; wrote:

&gt; In general, Riak/Solr is capable of indexing multi-valued properties (i.g.
&gt; lists). You're right thinking that multiValued = &quot;true&quot; should be used for
&gt; it. That said, check if it works with your client library (it's Python,
&gt; isn't it?). I believe it does.
&gt;
&gt; Regards,
&gt; Vitaly
&gt;
&gt; On Fri, May 13, 2016 at 9:59 PM, Alex De la rosa &lt;alex.rosa....@gmail.com&gt;
&gt; wrote:
&gt;
&gt;&gt; Another question... if I have a set of tags for the elements... like
&gt;&gt; photo.set['tags'] with things like: [&quot;holidays&quot;, &quot;Hawaii&quot;, &quot;2016&quot;]... will
&gt;&gt; it be indexed like this?
&gt;&gt;
&gt;&gt; &lt;field name=&quot;tags&quot; type=&quot;string&quot; indexed=&quot;true&quot; stored=&quot;false&quot;
&gt;&gt; multiValued=&quot;true&quot; /&gt;
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Alex
&gt;&gt;
&gt;&gt; On Fri, May 13, 2016 at 10:52 PM, Alex De la rosa &lt;
&gt;&gt; alex.rosa....@gmail.com&gt; wrote:
&gt;&gt;
&gt;&gt;&gt; Oh!! silly me... *_yz_rb* and *_yz_rt*... how didn't I think of that?...
&gt;&gt;&gt;
&gt;&gt;&gt; thanks also for the &quot;*:*&quot; tip ; )
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks!
&gt;&gt;&gt; Alex
&gt;&gt;&gt;
&gt;&gt;&gt; On Fri, May 13, 2016 at 10:50 PM, Vitaly &lt;13vitam...@gmail.com&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Hi Alex,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; 'likes_counter:[100 TO *] AND _yz_rb:photos' will limit query results
&gt;&gt;&gt;&gt; to the photos bucket only. Similarly, &quot;_yz_rt&quot; is for a bucket type.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Searching for anything in an index can be done with  &quot;*:*&quot; (any field,
&gt;&gt;&gt;&gt; any value).
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Regards,
&gt;&gt;&gt;&gt; Vitaly
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On Fri, May 13, 2016 at 9:40 PM, Alex De la rosa &lt;
&gt;&gt;&gt;&gt; alex.rosa....@gmail.com&gt; wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Hi all,
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Imaging I have an index called &quot;*posts*&quot; where I index the following
&gt;&gt;&gt;&gt;&gt; fields
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;     &lt;field name=&quot;date&quot; type=&quot;integer&quot; indexed=&quot;true&quot; stored=&quot;false&quot; /&gt;
&gt;&gt;&gt;&gt;&gt;     &lt;field name=&quot;likes&quot; type=&quot;integer&quot; indexed=&quot;true&quot; stored=&quot;false&quot; /&gt;
&gt;&gt;&gt;&gt;&gt;     &lt;field name=&quot;description&quot; type=&quot;string&quot; indexed=&quot;true&quot;
&gt;&gt;&gt;&gt;&gt; stored=&quot;false&quot; /&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; and I reuse the index in 3 buckets: &quot;status&quot;, &quot;photos&quot; and &quot;videos&quot;...
&gt;&gt;&gt;&gt;&gt; then I do the following:
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; *results = client.fulltext_search('posts', 'likes_counter:[100 TO *]',
&gt;&gt;&gt;&gt;&gt; sort='likes_counter desc', rows=10)*
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; This query would give me the top10 most liked items (can be statuses,
&gt;&gt;&gt;&gt;&gt; photos or videos) with at least 100 likes. But how could I limit the
&gt;&gt;&gt;&gt;&gt; resultset to only the &quot;photos&quot; bucket?? The goal is to get the Top10 liked
&gt;&gt;&gt;&gt;&gt; photos without creating an index for itself... as is good to also be able
&gt;&gt;&gt;&gt;&gt; to query the top10 items in general. Any way to do it?
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; In another hand... does somebody know how to do the same query but
&gt;&gt;&gt;&gt;&gt; without the [100 TO *]?? I leave it empty?
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; *results = client.fulltext_search('**posts**', '',
&gt;&gt;&gt;&gt;&gt; sort='likes_counter desc', rows=10)*
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;&gt;&gt; Alex
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; _______________________________________________
&gt;&gt;&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt;&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg17348.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#17349">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#17349">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg17350.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg17343.html">Riak search on an index limited to only 1 bucket</a></span> <span class="sender italic">Alex De la rosa</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17344.html">Re: Riak search on an index limited to only 1 bucket</a></span> <span class="sender italic">Vitaly</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17345.html">Re: Riak search on an index limited to only 1 buc...</a></span> <span class="sender italic">Alex De la rosa</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17346.html">Re: Riak search on an index limited to only 1...</a></span> <span class="sender italic">Alex De la rosa</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17348.html">Re: Riak search on an index limited to on...</a></span> <span class="sender italic">Vitaly</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Riak search on an index limited ...</span> <span class="sender italic">Alex De la rosa</span></li>
<li class="icons-email"><span class="subject"><a href="msg17350.html">Re: Riak search on an index limited ...</a></span> <span class="sender italic">Drew Kerrigan</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17351.html">Re: Riak search on an index limi...</a></span> <span class="sender italic">Alex De la rosa</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Riak search on an index limited to only 1 bucket">
<input type="hidden" name="msgid" value="CAPphDGrEttX3=comoy3pw=Sc9pBkfGXWG_sxw9XRKkuQWqzA1Q@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg17349.html">
<input type="submit" value=" Alex De la rosa ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+search+on+an+index+limited+to+only+1+bucket%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg17348.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg17350.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAPphDGrEttX3=comoy3pw=Sc9pBkfGXWG_sxw9XRKkuQWqzA1Q@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
