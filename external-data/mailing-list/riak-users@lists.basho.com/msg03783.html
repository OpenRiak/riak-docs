<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Riak KV ETS Backend?</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="thrd2.html#03783" id="c">
<link rel="index" href="maillist.html#03783" id="i">
<link rel="prev" href="msg03532.html" id="p">
<link rel="next" href="msg03787.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg03783.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+KV+ETS+Backend%5C%3F%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Riak KV ETS Backend?</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Ryan+Zezeski%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Ryan Zezeski</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20110622" rel="nofollow">Wed, 22 Jun 2011 07:43:39 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Jordon,

I used the ETS backend with success while working @ AOL.  In my case I was
using it to cache ~100K, short lived (hours), largish objects.</pre><pre>

I'm confused because you said you don't care if you lose data, but one of
Riak's main strengths is to do everything possible to avoid data loss.
 Perhaps something like memcached is more suitable?

-Ryan

On Thu, Jun 2, 2011 at 1:20 PM, Jordan West &lt;jw...@makingfun.com&gt; wrote:

&gt; Mark,
&gt;
&gt; Thanks for the reply. I saw couple other postings related to the ETS
&gt; backend on the list so I decided to start prototyping a bit with it but I
&gt; haven't decided if its the solution I'm looking for yet. I'll see you
&gt; tuesday at the IGN offices for the meetup.
&gt;
&gt; Jordan
&gt;
&gt;
&gt; On Thu, Jun 2, 2011 at 9:58 AM, Mark Phillips &lt;m...@basho.com&gt; wrote:
&gt;
&gt;&gt; Hey Jordan,
&gt;&gt;
&gt;&gt; To address a few of your questions:
&gt;&gt;
&gt;&gt; While it's not the most optimal memory-only backend, ETS is certainly
&gt;&gt; usable in production.  That said, if it runs out of gas on you at
&gt;&gt; larger scales, it wouldn't be that hard to write a better one using
&gt;&gt; the NIF interface.
&gt;&gt;
&gt;&gt; Hope that helps.
&gt;&gt;
&gt;&gt; Mark
&gt;&gt;
&gt;&gt; On Thu, May 26, 2011 at 11:15 AM, Jordan West &lt;jw...@makingfun.com&gt;
&gt;&gt; wrote:
&gt;&gt; &gt; Hi all,
&gt;&gt; &gt; I'm posting to the list for the first time after talking with Mark
&gt;&gt; &gt; (ironically, at MongoSF the other day), about a use-case I'm considering
&gt;&gt; &gt; Riak for. Quickly, I should probably say I've only played with Riak on a
&gt;&gt; &gt; side project or two, and dabbled with Riak Core thanks to the new GitHub
&gt;&gt; &gt; blog. Part of the reason I'm writing the list is to determine if for my
&gt;&gt; &gt; use-case its worth investing significant time learning and prototyping
&gt;&gt; some
&gt;&gt; &gt; possible implementations with Riak(-Core). Anyways, on to the question:
&gt;&gt; &gt; Is the ETS Backend in the riak_kv repo something maintained and endorsed
&gt;&gt; for
&gt;&gt; &gt; use by the Basho team? I have a dataset which is well suited for a k/v
&gt;&gt; store
&gt;&gt; &gt; and needs to be eventually consistent across a cluster of Erlang
&gt;&gt; nodes. Riak
&gt;&gt; &gt; crossed my mind because of those reasons. Also, being able to embed it
&gt;&gt; into
&gt;&gt; &gt; my application like Mnesia is a plus. However, I could care less in this
&gt;&gt; &gt; case about losing data. The data is ephemeral anyways as its a map of a
&gt;&gt; &gt; string assigned per connection to a couple erlang process ids, and hence
&gt;&gt; I
&gt;&gt; &gt; want to store it in-memory (also want it in memory for performance
&gt;&gt; reasons).
&gt;&gt; &gt; This data is very read-heavy, but must be available for writes or new
&gt;&gt; &gt; connections will begin to fail. I know this is not a typical use for
&gt;&gt; Riak,
&gt;&gt; &gt; since one of its most touted benefits is not losing data but would it be
&gt;&gt; too
&gt;&gt; &gt; far of a stretch to use Riak as an eventually consistent, in-memory
&gt;&gt; &gt; key-value store embedded into an Erlang application? If not, I figure
&gt;&gt; this
&gt;&gt; &gt; is something I could build with Riak Core. Does anyone know if there
&gt;&gt; already
&gt;&gt; &gt; is a OSS project I could contribute to instead of starting from scratch
&gt;&gt; in
&gt;&gt; &gt; that case?
&gt;&gt; &gt; Thanks for your help,
&gt;&gt; &gt; Jordan West
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; _______________________________________________
&gt;&gt; &gt; riak-users mailing list
&gt;&gt; &gt; riak-users@lists.basho.com
&gt;&gt; &gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt;
&gt;
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
&gt;
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg03532.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="thrd2.html#03783">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#03783">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg03787.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg03432.html">Riak KV ETS Backend?</a></span> <span class="sender italic">Jordan West</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03531.html">Re: Riak KV ETS Backend?</a></span> <span class="sender italic">Mark Phillips</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03532.html">Re: Riak KV ETS Backend?</a></span> <span class="sender italic">Jordan West</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Riak KV ETS Backend?</span> <span class="sender italic">Ryan Zezeski</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03787.html">Re: Riak KV ETS Backend?</a></span> <span class="sender italic">Jordan West</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Riak KV ETS Backend?">
<input type="hidden" name="msgid" value="BANLkTi=4rx_u2w0PnK5VDW8=CXhmFBBPFA@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg03783.html">
<input type="submit" value=" Ryan Zezeski ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+KV+ETS+Backend%5C%3F%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg03532.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg03787.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">BANLkTi=4rx_u2w0PnK5VDW8=CXhmFBBPFA@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
