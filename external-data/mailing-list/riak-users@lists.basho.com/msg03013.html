<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Large ring_creation_size</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#03013" id="c">
<link rel="index" href="maillist.html#03013" id="i">
<link rel="prev" href="msg03012.html" id="p">
<link rel="next" href="msg03014.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg03013.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Large+ring_creation_size%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Large ring_creation_size</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Anthony+Molinaro%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Anthony Molinaro</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20110413" rel="nofollow">Wed, 13 Apr 2011 12:53:26 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>My understanding is that it's not riak which ultimately limits the size of the
cluster but erlang distribution protocol.  By default erlang nodes are fully
connected, so if you have 1000 nodes you have about 999 outgoing connections
from each node, and with the net tick, they start to receive a lot of chatter.</pre><pre>

I believe that scalaris may be engineered for larger growth by not using erlang
distribution protocol but their own, and only have a few outgoing connections
per node.

I'm also interested in what basho has to say.

-Anthony

On Wed, Apr 13, 2011 at 12:41:09PM -0700, Greg Nelson wrote:
&gt; The largest known riak cluster != the largest possible riak cluster. ;-)
&gt; 
&gt; The inter node communication of the cluster depends on the data set and usage 
&gt; pattern, doesn't it? Or is there some constant overhead that tops out at a 
&gt; few hundred nodes? I should point out that we'll have big data, but not a 
&gt; huge number of keys.
&gt; 
&gt; The number of vnodes in the cluster should be equal to the ring_creation_size 
&gt; under normal circumstances, shouldn't it? So when I have a one node cluster, 
&gt; that node is running ring_creation_size vnodes... File descriptors probably 
&gt; isn't a problem -- these machines won't be doing anything else, and the 
&gt; limits are set to 65536.
&gt; 
&gt; Thinking about the internode communication you mentioned, that's probably 
&gt; where the resource hog is.. socket buffers, etc.
&gt; 
&gt; Anyway, I'd also love to hear more from basho. :)
&gt; On Wednesday, April 13, 2011 at 12:33 PM, sicul...@gmail.com wrote: 
&gt; &gt; Ill just chime in and say that this is not practical for a few reasons. The 
&gt; &gt; largest known riak cluster has like 50 or 60 nodes. Afaik, inter node 
&gt; &gt; communication of erlang clusters top out at a few hundred nodes. I'm also 
&gt; &gt; under the impression that each physical node has to have enough file 
&gt; &gt; descriptors to accommodate every virtual node in the cluster. 
&gt; &gt; 
&gt; &gt; I'd love to hear more from basho. 
&gt; &gt; 
&gt; &gt; -alexander 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; Sent from my Verizon Wireless BlackBerry
&gt; &gt; 
&gt; &gt; -----Original Message-----
&gt; &gt; From: Greg Nelson &lt;gro...@dropcam.com&gt;
&gt; &gt; Sender: riak-users-boun...@lists.basho.com
&gt; &gt; Date: Wed, 13 Apr 2011 12:13:34 
&gt; &gt; To: &lt;riak-users@lists.basho.com&gt;
&gt; &gt; Subject: Large ring_creation_size
&gt; &gt; 
&gt; &gt; _______________________________________________
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt; &gt; 

&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>


-- 
------------------------------------------------------------------------
Anthony Molinaro                           &lt;antho...@alumni.caltech.edu&gt;

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg03012.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#03013">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#03013">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg03014.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg03009.html">Large ring_creation_size</a></span> <span class="sender italic">Greg Nelson</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03011.html">Re: Large ring_creation_size</a></span> <span class="sender italic">siculars</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03012.html">Re: Large ring_creation_size</a></span> <span class="sender italic">Greg Nelson</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Large ring_creation_size</span> <span class="sender italic">Anthony Molinaro</span></li>
<li class="icons-email"><span class="subject"><a href="msg03014.html">Re: Large ring_creation_size</a></span> <span class="sender italic">Jon Meredith</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03015.html">Re: Large ring_creation_size</a></span> <span class="sender italic">Greg Nelson</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03023.html">Re: Large ring_creation_size</a></span> <span class="sender italic">Dave Barnes</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03024.html">Re: Large ring_creation_size</a></span> <span class="sender italic">Sean Cribbs</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03039.html">Re: Large ring_creation_siz...</a></span> <span class="sender italic">Greg Nelson</span></li>
<li class="icons-email"><span class="subject"><a href="msg03043.html">Re: Large ring_creation_siz...</a></span> <span class="sender italic">Jon Meredith</span></li>
<li class="icons-email"><span class="subject"><a href="msg03050.html">Re: Large ring_creation_siz...</a></span> <span class="sender italic">Dave Barnes</span></li>
<li class="icons-email"><span class="subject"><a href="msg03098.html">Re: Large ring_creation_siz...</a></span> <span class="sender italic">Jon Meredith</span></li>
<li class="icons-email"><span class="subject"><a href="msg03105.html">Re: Large ring_creation_siz...</a></span> <span class="sender italic">Greg Nelson</span></li>
<li class="icons-email"><span class="subject"><a href="msg03106.html">Re: Large ring_creation_siz...</a></span> <span class="sender italic">Jon Meredith</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Large ring_creation_size">
<input type="hidden" name="msgid" value="20110413195305.GA26954@alumni.caltech.edu">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg03013.html">
<input type="submit" value=" Anthony Molinaro ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Large+ring_creation_size%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg03012.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg03014.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">20110413195305.GA26954@alumni.caltech.edu</li>
</ul>
</div>
</body>
</html>
