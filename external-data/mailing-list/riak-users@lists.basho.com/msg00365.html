<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: CAP controls</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#00365" id="c">
<link rel="index" href="maillist.html#00365" id="i">
<link rel="prev" href="msg00362.html" id="p">
<link rel="next" href="msg00364.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg00365.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+CAP+controls%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: CAP controls</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Jeremy+Hinegardner%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Jeremy Hinegardner</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20100513" rel="nofollow">Thu, 13 May 2010 15:42:25 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Thanks Jon,

I was thinking in terms of what we have right now, which is many processes per
physical machine, each one of them managing a dedicated disk to optimize I/O
throughput.</pre><pre>

If I get a chance to do some prototyping on this, I'll try out the RAID0 option.
Although I'm a bit suspect at the moment because something like that, with 
say a 3TB RAID0 partition, it seems would store the data linearlly down that
stripe, instead of across all the disks evenly. Altough the RAID controller
might take care of that, not sure.

good idea, I appreciate it.

-jeremy

On Thu, May 13, 2010 at 03:11:43PM -0600, Jon Meredith wrote:
&gt; Hi Jeremy,
&gt;
&gt; If it were me I would start off with the simplest set up possible - one 
&gt; riak node per physical machine. It'll be easier to see what is going on and 
&gt; reason about performance if there are less moving parts.
&gt;
&gt; For the storage configuration - if you are using innostore then keep one 
&gt; for disk for logging (or use the drive the o/s is on if it is doing little 
&gt; else) and create a RAID0 disk out of the remaining disks.  Similar set up 
&gt; for bitcask except you don't need to worry about the log data.
&gt;
&gt; Try that as a baseline and benchmark it.  If it isn't up to the task then 
&gt; you can explore more complex options.
&gt;
&gt; Jon.
&gt;
&gt;
&gt; On 5/13/10 2:57 PM, Jeremy Hinegardner wrote:
&gt;&gt; I am thinking about how to possibly replace an existing system that has 
&gt;&gt; heavy
&gt;&gt; I/O load, low CPU usage, with riak.  Its a file storage system, with 
&gt;&gt; smallish
&gt;&gt; files, a few K normally, but billions of them.
&gt;&gt;
&gt;&gt; The architecture, I think, would be one riak node per disk on the 
&gt;&gt; hardware,
&gt;&gt; and probably run about 16 riak nodes per physical machine.  Say I had
&gt;&gt; 4 of these machines, which would be 64 riak nodes.
&gt;&gt;
&gt;&gt; With something like this, if I set W=3 as a CAP tuning, I would want to 
&gt;&gt; make
&gt;&gt; sure that at least 2 of those writes where on 2 physically different 
&gt;&gt; machines,
&gt;&gt; so in case I had a hardware failure, and it took out a physical machine, I 
&gt;&gt; could
&gt;&gt; still operate with the other 3 machines.
&gt;&gt;
&gt;&gt; Is something like this possible with riak?
&gt;&gt;
&gt;&gt; enjoy,
&gt;&gt;
&gt;&gt; -jeremy
&gt;&gt;
&gt;&gt;    
&gt;
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>

-- 
========================================================================
 Jeremy Hinegardner                              jer...@hinegardner.org 


_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg00362.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#00365">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#00365">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg00364.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg00360.html">CAP controls</a></span> <span class="sender italic">Jeremy Hinegardner</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00361.html">Re: CAP controls</a></span> <span class="sender italic">Justin Sheehy</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00363.html">Re: CAP controls</a></span> <span class="sender italic">Jeremy Hinegardner</span></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg00362.html">Re: CAP controls</a></span> <span class="sender italic">Jon Meredith</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: CAP controls</span> <span class="sender italic">Jeremy Hinegardner</span></li>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: CAP controls">
<input type="hidden" name="msgid" value="20100513224216.GB5429@hinegardner.org">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg00365.html">
<input type="submit" value=" Jeremy Hinegardner ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+CAP+controls%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg00362.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg00364.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">20100513224216.GB5429@hinegardner.org</li>
</ul>
</div>
</body>
</html>
