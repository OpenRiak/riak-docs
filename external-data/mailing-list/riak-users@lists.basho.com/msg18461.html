<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Riak KV performance in sensor data storage application</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#18461" id="c">
<link rel="index" href="maillist.html#18461" id="i">
<link rel="prev" href="msg18460.html" id="p">
<link rel="next" href="msg18464.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg18461.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+KV+performance+in+sensor+data+storage+application%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Riak KV performance in sensor data storage application</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Martin+Sumner%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Martin Sumner</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20171003" rel="nofollow">Tue, 03 Oct 2017 10:24:06 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>I suspect with the test environment having only 4GB of RAM and a single
slow disk per node - both Leveldb and Leveled are going to struggle in
terms of the write throughput.  As n=1 in this test, some of the advantages
of Leveled will be lost also (e.g. the n HEADs advantage).</pre><pre>

I thought the paper was really interesting though.  It highlights an area
of riak performance - merge effectiveness - that is not often discussed.
I've ignored merge effectiveness as a measure between leveldb and leveled,
but it is an area where leveldb is currently notably better (and may well
be better than Bitcask).

As DeadZen mentioned having awareness of file system space is interesting.
The &quot;fisherman's algorithm&quot; approach mentioned in the paper is a neat, I've
not thought about having a &quot;Target Usage Level&quot; - and I think this is
potentially a better way of tuning a backend merge process.  I will try and
put some effort in writing up the approach to tuning merge effectiveness
that is implemented in leveled sometime soon for comparison.


On 3 October 2017 at 17:32, DeadZen &lt;dead...@deadzen.com&gt; wrote:

&gt; This looks cool, and might give some indication that back pressure
&gt; should be aware of available file system space..
&gt; Any plans on LevelDB testing? A newer option Leveled might be cool to
&gt; compare with as well.
&gt;
&gt; On Tue, Oct 3, 2017 at 6:58 AM, Grigory Fateyev &lt;gfb...@gmail.com&gt; wrote:
&gt; &gt; Yury, thank you for sharing your investigations. It is very useful to
&gt; read!
&gt; &gt;
&gt; &gt; 2017-10-03 8:32 GMT+03:00 Yury Shevchuk &lt;si...@botik.ru&gt;:
&gt; &gt;&gt;
&gt; &gt;&gt; Greetings!
&gt; &gt;&gt;
&gt; &gt;&gt; We have published a paper on the subject.  It may be of interest for
&gt; &gt;&gt; Riak developers and users who put Riak under heavy write load.
&gt; &gt;&gt;
&gt; &gt;&gt;   English: <a  rel="nofollow" href="http://psta.psiras.ru/read/psta2017_3_61-85.pdf">http://psta.psiras.ru/read/psta2017_3_61-85.pdf</a>
&gt; &gt;&gt;   Russian (native): <a  rel="nofollow" href="http://psta.psiras.ru/read/psta2017_3_31-60.pdf">http://psta.psiras.ru/read/psta2017_3_31-60.pdf</a>
&gt; &gt;&gt;
&gt; &gt;&gt; Best,
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; -- Yury
&gt; &gt;&gt;
&gt; &gt;&gt; _______________________________________________
&gt; &gt;&gt; riak-users mailing list
&gt; &gt;&gt; riak-users@lists.basho.com
&gt; &gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; _______________________________________________
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt; &gt;
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;

-- 
***** Email confidentiality notice *****
This message is private and confidential.  If you have received this 
message in error, please let us know and remove it from your system.
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg18460.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#18461">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#18461">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg18464.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg18458.html">Riak KV performance in sensor data storage application</a></span> <span class="sender italic">Yury Shevchuk</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg18459.html">Re: Riak KV performance in sensor data storage applic...</a></span> <span class="sender italic">Grigory Fateyev</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg18460.html">Re: Riak KV performance in sensor data storage ap...</a></span> <span class="sender italic">DeadZen</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Riak KV performance in sensor data storag...</span> <span class="sender italic">Martin Sumner</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg18464.html">Re: Riak KV performance in sensor data st...</a></span> <span class="sender italic">Yury Shevchuk</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Riak KV performance in sensor data storage application">
<input type="hidden" name="msgid" value="CAJBhF9OY_06Yed6P+sOY-k=t9TBY8OLFDL-SFX5-NmXP5=0ocA@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg18461.html">
<input type="submit" value=" Martin Sumner ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+KV+performance+in+sensor+data+storage+application%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg18460.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg18464.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAJBhF9OY_06Yed6P+sOY-k=t9TBY8OLFDL-SFX5-NmXP5=0ocA@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
