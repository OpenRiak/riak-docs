<!DOCTYPE html>
<html lang="en">
<head>
<title>RE: Timeout when accessing a key in a strongly consistent bucket.	Please help.</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#14499" id="c">
<link rel="index" href="maillist.html#14499" id="i">
<link rel="prev" href="msg14422.html" id="p">
<link rel="next" href="msg14395.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg14499.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22RE%5C%3A+Timeout+when+accessing+a+key+in+a+strongly+consistent+bucket.%09Please+help.%22&amp;o=newest" rel="nofollow"><span itemprop="name">RE: Timeout when accessing a key in a strongly consistent bucket.	Please help.</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Zsolt+Laky%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Zsolt Laky</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20140715" rel="nofollow">Tue, 15 Jul 2014 14:36:13 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hello there,
</pre><pre>


The problem was caused by a wrong erlang installation. Most probable cause is 
the SSL part on OSX.



Fetched the dmg file from erlang solutions’ webpage and installed it. Riak then 
compiled perfectly from source.



Zsolt



Feladó: Zsolt Laky [<a  rel="nofollow" href="mailto:zsolt.l...@lamardan.com">mailto:zsolt.l...@lamardan.com</a>]
Küldve: Saturday, June 28, 2014 1:13 PM
Címzett: 'Riak Users Mailing List'
Tárgy: Timeout when accessing a key in a strongly consistent bucket. Please 
help.



Hello there,



Installed new 2.0beta, fired up 1 node. Config and status is attached. Strongly 
consistent bucket type seems to have timeouts.



Host is Mac OSX. Also tried on ubuntu with virtualbox. Same behavior.



Commands are bold, important replies are underlined for readability.



Please help.



Thanks and kind regards

Zsolt



bash-3.2$ ./riak-admin member-status

================================= Membership ==================================

Status     Ring    Pending    Node

-------------------------------------------------------------------------------

valid     100.0%      --      'riak@127.0.0.1'

-------------------------------------------------------------------------------

Valid:1 / Leaving:0 / Exiting:0 / Joining:0 / Down:0

bash-3.2$ ./riak-admin bucket-type list

default (active)

strong (active)

bash-3.2$ ./riak-admin bucket-type status strong

strong is active



young_vclock: 20

w: quorum

small_vclock: 50

rw: quorum

r: quorum

pw: 0

precommit: []

pr: 0

postcommit: []

old_vclock: 86400

notfound_ok: true

n_val: 3

linkfun: {modfun,riak_kv_wm_link_walker,mapreduce_linkfun}

last_write_wins: false

dw: quorum

dvv_enabled: true

chash_keyfun: {riak_core_util,chash_std_keyfun}

big_vclock: 50

basic_quorum: false

allow_mult: true

consistent: true

active: true

claimant: 'riak@127.0.0.1'

bash-3.2$ curl -v -XPOST -H 'Content-Type: text/plain' -d 'haho' 
<a  rel="nofollow" href="http://127.0.0.1:8098/types/default/buckets/test1/keys/user1?returnbody=true">http://127.0.0.1:8098/types/default/buckets/test1/keys/user1?returnbody=true</a>

* About to connect() to 127.0.0.1 port 8098 (#0)

*   Trying 127.0.0.1...

* Adding handle: conn: 0x7f95d3004400

* Adding handle: send: 0

* Adding handle: recv: 0

* Curl_addHandleToPipeline: length: 1

* - Conn 0 (0x7f95d3004400) send_pipe: 1, recv_pipe: 0

* Connected to 127.0.0.1 (127.0.0.1) port 8098 (#0)

&gt; POST /types/default/buckets/test1/keys/user1?returnbody=true HTTP/1.1

&gt; User-Agent: curl/7.30.0

&gt; Host: 127.0.0.1:8098

&gt; Accept: */*

&gt; Content-Type: text/plain

&gt; Content-Length: 4

&gt;

* upload completely sent off: 4 out of 4 bytes

&lt; HTTP/1.1 200 OK

&lt; X-Riak-Vclock: a85hYGBgzGDKBVIcypz/fgavmz0/gymRKY+VYaak8lm+LAA=

&lt; Vary: Accept-Encoding

* Server MochiWeb/1.1 WebMachine/1.10.5 (jokes are better explained) is not 
blacklisted

&lt; Server: MochiWeb/1.1 WebMachine/1.10.5 (jokes are better explained)

&lt; Link: &lt;/buckets/test1&gt;; rel=&quot;up&quot;

&lt; Last-Modified: Sat, 28 Jun 2014 10:48:57 GMT

&lt; ETag: &quot;4Cd4ejclOJPXjES2m3nxPi&quot;

&lt; Date: Sat, 28 Jun 2014 10:48:57 GMT

&lt; Content-Type: text/plain

&lt; Content-Length: 4

&lt;

* Connection #0 to host 127.0.0.1 left intact

hahobash-3.2$

bash-3.2$ curl -v -XPOST -H 'Content-Type: text/plain' -d 'haho' 
<a  rel="nofollow" href="http://127.0.0.1:8098/types/strong/buckets/test1/keys/user1">http://127.0.0.1:8098/types/strong/buckets/test1/keys/user1</a>

* About to connect() to 127.0.0.1 port 8098 (#0)

*   Trying 127.0.0.1...

* Adding handle: conn: 0x7fbee3804400

* Adding handle: send: 0

* Adding handle: recv: 0

* Curl_addHandleToPipeline: length: 1

* - Conn 0 (0x7fbee3804400) send_pipe: 1, recv_pipe: 0

* Connected to 127.0.0.1 (127.0.0.1) port 8098 (#0)

&gt; POST /types/strong/buckets/test1/keys/user1 HTTP/1.1

&gt; User-Agent: curl/7.30.0

&gt; Host: 127.0.0.1:8098

&gt; Accept: */*

&gt; Content-Type: text/plain

&gt; Content-Length: 4

&gt;

* upload completely sent off: 4 out of 4 bytes

&lt; HTTP/1.1 503 Service Unavailable

&lt; Vary: Accept-Encoding

* Server MochiWeb/1.1 WebMachine/1.10.5 (jokes are better explained) is not 
blacklisted

&lt; Server: MochiWeb/1.1 WebMachine/1.10.5 (jokes are better explained)

&lt; Date: Sat, 28 Jun 2014 10:49:25 GMT

&lt; Content-Type: text/plain

&lt; Content-Length: 18

&lt;

request timed out

* Connection #0 to host 127.0.0.1 left intact

bash-3.2$ curl -v 
<a  rel="nofollow" href="http://127.0.0.1:8098/types/default/buckets/test1/keys/?keys=true">http://127.0.0.1:8098/types/default/buckets/test1/keys/?keys=true</a>

* About to connect() to 127.0.0.1 port 8098 (#0)

*   Trying 127.0.0.1...

* Adding handle: conn: 0x7f8df1801800

* Adding handle: send: 0

* Adding handle: recv: 0

* Curl_addHandleToPipeline: length: 1

* - Conn 0 (0x7f8df1801800) send_pipe: 1, recv_pipe: 0

* Connected to 127.0.0.1 (127.0.0.1) port 8098 (#0)

&gt; GET /types/default/buckets/test1/keys/?keys=true HTTP/1.1

&gt; User-Agent: curl/7.30.0

&gt; Host: 127.0.0.1:8098

&gt; Accept: */*

&gt;

&lt; HTTP/1.1 200 OK

&lt; Vary: Accept-Encoding

* Server MochiWeb/1.1 WebMachine/1.10.5 (jokes are better explained) is not 
blacklisted

&lt; Server: MochiWeb/1.1 WebMachine/1.10.5 (jokes are better explained)

&lt; Date: Sat, 28 Jun 2014 11:03:44 GMT

&lt; Content-Type: application/json

&lt; Content-Length: 18

&lt;

* Connection #0 to host 127.0.0.1 left intact

{&quot;keys&quot;:[&quot;user1&quot;]}bash-3.2$ curl -v 
<a  rel="nofollow" href="http://127.0.0.1:8098/types/strong/buckets/test1/keys/?keys=true">http://127.0.0.1:8098/types/strong/buckets/test1/keys/?keys=true</a>

* About to connect() to 127.0.0.1 port 8098 (#0)

*   Trying 127.0.0.1...

* Adding handle: conn: 0x7fa1b0819400

* Adding handle: send: 0

* Adding handle: recv: 0

* Curl_addHandleToPipeline: length: 1

* - Conn 0 (0x7fa1b0819400) send_pipe: 1, recv_pipe: 0

* Connected to 127.0.0.1 (127.0.0.1) port 8098 (#0)

&gt; GET /types/strong/buckets/test1/keys/?keys=true HTTP/1.1

&gt; User-Agent: curl/7.30.0

&gt; Host: 127.0.0.1:8098

&gt; Accept: */*

&gt;

&lt; HTTP/1.1 200 OK

&lt; Vary: Accept-Encoding

* Server MochiWeb/1.1 WebMachine/1.10.5 (jokes are better explained) is not 
blacklisted

&lt; Server: MochiWeb/1.1 WebMachine/1.10.5 (jokes are better explained)

&lt; Date: Sat, 28 Jun 2014 11:03:58 GMT

&lt; Content-Type: application/json

&lt; Content-Length: 11

&lt;

* Connection #0 to host 127.0.0.1 left intact

{&quot;keys&quot;:[]}bash-3.2$

bash-3.2$



---
This email is free from viruses and malware because avast! Antivirus protection 
is active.
<a  rel="nofollow" href="http://www.avast.com">http://www.avast.com</a>
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg14422.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#14499">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#14499">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg14395.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg14390.html">Timeout when accessing a key in a strongly consistent ...</a></span> <span class="sender italic">zsolt.laky</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14393.html">Re: Timeout when accessing a key in a strongly co...</a></span> <span class="sender italic">Christian Dahlqvist</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14394.html">Re: Timeout when accessing a key in a strongl...</a></span> <span class="sender italic">Zsolt Laky</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14422.html">Re: Timeout when accessing a key in a str...</a></span> <span class="sender italic">bryan hunt</span></li>
<li class="icons-email tSliceCur"><span class="subject">RE: Timeout when accessing a key in a str...</span> <span class="sender italic">Zsolt Laky</span></li>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="RE: Timeout when accessing a key in a strongly consistent bucket.	Please help.">
<input type="hidden" name="msgid" value="000801cfa074$8a0b2370$9e216a50$@laky@lamardan.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg14499.html">
<input type="submit" value=" Zsolt Laky ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22RE%5C%3A+Timeout+when+accessing+a+key+in+a+strongly+consistent+bucket.%09Please+help.%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg14422.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg14395.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">000801cfa074$8a0b2370$9e216a50$@laky@lamardan.com</li>
</ul>
</div>
</body>
</html>
