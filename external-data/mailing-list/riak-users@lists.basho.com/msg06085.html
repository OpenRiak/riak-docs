<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Faceted Queries via Solr Interface</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#06085" id="c">
<link rel="index" href="maillist.html#06085" id="i">
<link rel="prev" href="msg06084.html" id="p">
<link rel="next" href="msg06086.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg06085.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Faceted+Queries+via+Solr+Interface%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Faceted Queries via Solr Interface</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Ryan+Zezeski%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Ryan Zezeski</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20111228" rel="nofollow">Wed, 28 Dec 2011 10:42:53 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Simeon,

I think the assumption is that if it's a precommit hook you &quot;know&quot; that if
an object was written then it has also been indexed.  Whereas if it's a
postcommit the object may be written but the indexing fails.  I think the
guiding decision would probably be what you favor, 1) that for any object
it's index will exist first, therefore your query results are &quot;consistent&quot;
with your data or 2) that data persistence is the foremost priority and
inconsistent or eventually consistent query results are acceptable (because
maybe objects are constantly updated and eventually they will get indexed).
 The thing to keep in mind is that the precommit will block the write, and
if you're using a persistent backend like bitcask or level you may not want
your data sitting in memory waiting for the indexing to finish.  Another
thing to think about is using a postcommit that fires off into a queue that
is indexed thus reducing latency on your clients writes to Riak.  My point
is that there are many factors and if you are going to go down the
Riak/Solr route you should take your applications requirements into
consideration.</pre><pre>

HTH,
-Ryan

On Wed, Dec 28, 2011 at 12:56 PM, Simeon F. Willbanks &lt;
s...@simeonfosterwillbanks.com&gt; wrote:

&gt; Ryan,
&gt;
&gt; Thanks for the timely answer.
&gt;
&gt; Yea, faceting in code doesn't sound like the right solution. :)
&gt;
&gt; In the talk 'Riak Search Explained,' Daniel Reverri described how Riak
&gt; Search integrates with Riak KV via a Pre-Commit Hook. If you were to
&gt; roll your own search (Solr Cluster), is the recommendation to initiate
&gt; a indexing process from a Pre-Commit Hook as opposed to a Post-Commit
&gt; Hook?
&gt;
&gt; Thanks again,
&gt; Simeon
&gt;
&gt;
&gt; On Wed, Dec 28, 2011 at 8:04 AM, Ryan Zezeski &lt;rzeze...@basho.com&gt; wrote:
&gt; &gt; Simeon,
&gt; &gt;
&gt; &gt; There are currently no plans to implement faceted queries.  The first
&gt; &gt; thought is that you pull back all results and do the faceting yourself,
&gt; but
&gt; &gt; what's the point of that, right?  I think other than that some Erlang
&gt; would
&gt; &gt; need to be written for Search to properly support faceting.
&gt; &gt;
&gt; &gt; -Ryan
&gt; &gt;
&gt; &gt; On Tue, Dec 27, 2011 at 4:54 PM, Simeon F. Willbanks
&gt; &gt; &lt;s...@simeonfosterwillbanks.com&gt; wrote:
&gt; &gt;&gt;
&gt; &gt;&gt; Are there plans to implement Faceted Queries?
&gt; &gt;&gt;
&gt; &gt;&gt; &quot;Facet querying through the Solr interface is not yet supported.&quot;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; <a  rel="nofollow" href="http://wiki.basho.com/Riak-Search---Querying.html#Faceted-Queries-via-the-Solr-Interface">http://wiki.basho.com/Riak-Search---Querying.html#Faceted-Queries-via-the-Solr-Interface</a>
&gt; &gt;&gt;
&gt; &gt;&gt; In the meantime, is there a recommended alternative way to build
&gt; &gt;&gt; facets with Riak-Search?
&gt; &gt;&gt;
&gt; &gt;&gt; Thanks,
&gt; &gt;&gt; Simeon
&gt; &gt;&gt;
&gt; &gt;&gt; _______________________________________________
&gt; &gt;&gt; riak-users mailing list
&gt; &gt;&gt; riak-users@lists.basho.com
&gt; &gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt; &gt;
&gt; &gt;
&gt;
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg06084.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#06085">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#06085">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg06086.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg06080.html">Faceted Queries via Solr Interface</a></span> <span class="sender italic">Simeon F. Willbanks</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg06081.html">Re: Faceted Queries via Solr Interface</a></span> <span class="sender italic">Ryan Zezeski</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg06084.html">Re: Faceted Queries via Solr Interface</a></span> <span class="sender italic">Simeon F. Willbanks</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Faceted Queries via Solr Interface</span> <span class="sender italic">Ryan Zezeski</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg06086.html">Re: Faceted Queries via Solr Interfac...</a></span> <span class="sender italic">Simeon F. Willbanks</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg06087.html">Re: Faceted Queries via Solr Int...</a></span> <span class="sender italic">Simeon F. Willbanks</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Faceted Queries via Solr Interface">
<input type="hidden" name="msgid" value="CACZcpekH3n6szZyC_-x0gcZnPq9qYfWNfAVG2CkGiUzeZ3GHsw@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg06085.html">
<input type="submit" value=" Ryan Zezeski ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Faceted+Queries+via+Solr+Interface%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg06084.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg06086.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CACZcpekH3n6szZyC_-x0gcZnPq9qYfWNfAVG2CkGiUzeZ3GHsw@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
