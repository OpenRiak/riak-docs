<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Getting all the Keys</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#10976" id="c">
<link rel="index" href="maillist.html#10976" id="i">
<link rel="prev" href="msg10970.html" id="p">
<link rel="next" href="msg10977.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg10976.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Getting+all+the+Keys%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Getting all the Keys</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Dmitri+Zagidulin%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Dmitri Zagidulin</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20130425" rel="nofollow">Thu, 25 Apr 2013 11:56:27 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>The feature to automatically index all of the objects in a bucket already
exists.</pre><pre>

If you choose the LevelDB backend and enable Secondary Indexes in the
config file, you automatically get the '$bucket' index (see the 'Special
Fields' section of
<a  rel="nofollow" href="http://docs.basho.com/riak/latest/cookbooks/Secondary-Indexes---Configuration/">http://docs.basho.com/riak/latest/cookbooks/Secondary-Indexes---Configuration/</a>
). You can then do 2i queries on that index to list all the keys in a
bucket.

However, whether or not this will get you a significant speed-up of listing
your keys, depends on your use case, data set, ring size, etc. Meaning,
it's worth testing. And it requires choosing the LevelDB backend versus the
Bitcask backend (which does not support indices), which comes with its own
set of trade-offs.



On Thu, Apr 25, 2013 at 1:32 PM, n6mac41717 &lt;c...@stanfordalumni.org&gt; wrote:

&gt; Thanks for the quick reply Dmitri!
&gt;
&gt; Given your insight below, I'm wondering in Riak v2.x, whether it would be
&gt; possible to include a feature that automatically creates the index for you
&gt; behind the scenes so that indeed GET url/bucket(s) would return the keys.
&gt; Just a thought...
&gt;
&gt;
&gt; Dmitri Zagidulin wrote
&gt; &gt; You're probably wondering what you should do instead of list keys, to
&gt; &gt; simulate the SELECT operation you're used to in relational databases.
&gt; &gt; The answer is - use an index of some sort. (Incidentally, with relational
&gt; &gt; databases, you're usually using an index, too -- very rare are the cases
&gt; &gt; where you're doing SELECT * on a table with no primary index).
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; --
&gt; View this message in context:
&gt; <a  rel="nofollow" href="http://riak-users.197444.n3.nabble.com/Getting-all-the-Keys-tp2308764p4027761.html">http://riak-users.197444.n3.nabble.com/Getting-all-the-Keys-tp2308764p4027761.html</a>
&gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg10970.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#10976">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#10976">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg10977.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg10966.html">Re: Getting all the Keys</a></span> <span class="sender italic">n6mac41717</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10968.html">Re: Getting all the Keys</a></span> <span class="sender italic">Dmitri Zagidulin</span></li>
<li class="icons-email"><span class="subject"><a href="msg10969.html">Re: Getting all the Keys</a></span> <span class="sender italic">Dmitri Zagidulin</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10970.html">Re: Getting all the Keys</a></span> <span class="sender italic">n6mac41717</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Getting all the Keys</span> <span class="sender italic">Dmitri Zagidulin</span></li>
<li class="icons-email"><span class="subject"><a href="msg10977.html">Re: Getting all the Keys</a></span> <span class="sender italic">Alexander Sicular</span></li>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Getting all the Keys">
<input type="hidden" name="msgid" value="CA+TO3kWEm70sR+edBEUF_k2KCk_uFig=Y+vys9fyJbSyVyLJOg@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg10976.html">
<input type="submit" value=" Dmitri Zagidulin ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Getting+all+the+Keys%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg10970.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg10977.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CA+TO3kWEm70sR+edBEUF_k2KCk_uFig=Y+vys9fyJbSyVyLJOg@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
