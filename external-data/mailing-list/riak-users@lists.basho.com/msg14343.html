<!DOCTYPE html>
<html lang="en">
<head>
<title>Error decodeing type with PBC API</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#14343" id="c">
<link rel="index" href="maillist.html#14343" id="i">
<link rel="prev" href="msg14342.html" id="p">
<link rel="next" href="msg14345.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg14343.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Error+decodeing+type+with+PBC+API%22&amp;o=newest" rel="nofollow"><span itemprop="name">Error decodeing type with PBC API</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22japhar81%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">japhar81</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20140622" rel="nofollow">Sun, 22 Jun 2014 19:57:26 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hello all,
I've been banging my head against the PBC API all weekend and I can't seem
to figure out why I'm getting an error. I'm able to call RpbListBuckets
(empty message) without issue, but when I try to call RpbListKeys I get an
error (pasted below in full) -- Error decodeing type with PBC API.</pre><pre>

I've pulled out the encoded message (trying to list the rekon bucket as a
test), it is:
00-00-00-0A-11-00-10-6E-6F-6B-65-72-05-0A

I've confirmed that the length (0x0A = 10) and message type (0x11 =
RpbListKeysReq) are correct. I'm unsure how I'd manually decode the message
itself, but it matches what protobuf is giving me, so I'm assuming it to be
correct as well.

I'd appreciate any pointers as to what I'm doing wrong, I'm completely
stumped.

The full error I'm getting:

Error processing incoming message: throw:{error,&quot;Error decodeing
type&quot;}:[{protobuffs,

read_field_num_and_wire_type,
                                                                          1,

[{file,

&quot;src/protobuffs.erl&quot;},

 {line,

203}]},

 {protobuffs,

next_field_num,
                                                                          1,

[{file,

&quot;src/protobuffs.erl&quot;},

 {line,

242}]},

 {riak_kv_pb,

decode,
                                                                          3,

[{file,

&quot;src/riak_kv_pb.erl&quot;},

 {line,

105}]},

 {riak_kv_pb,

decode,
                                                                          2,

[{file,

&quot;src/riak_kv_pb.erl&quot;},

 {line,

100}]},

 {riak_kv_pb_bucket,

decode,
                                                                          2,

[{file,

&quot;src/riak_kv_pb_bucket.erl&quot;},

 {line,

67}]},

 {riak_api_pb_server,

handle_message,
                                                                          3,

[{file,

&quot;src/riak_api_pb_server.erl&quot;},

 {line,

196}]},

 {riak_api_pb_server,

decode_buffer,
                                                                          1,

[{file,

&quot;src/riak_api_pb_server.erl&quot;},

 {line,

172}]},

 {gen_server,

handle_msg,
                                                                          5,

[{file,

&quot;gen_server.erl&quot;},

 {line,

607}]}]
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg14342.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#14343">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#14343">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg14345.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email tSliceCur"><span class="subject">Error decodeing type with PBC API</span> <span class="sender italic">japhar81</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14345.html">Re: Error decodeing type with PBC API</a></span> <span class="sender italic">Russell Brown</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14346.html">Re: Error decodeing type with PBC API</a></span> <span class="sender italic">japhar81</span></li>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Error decodeing type with PBC API">
<input type="hidden" name="msgid" value="CAKvk7_5CzjXtH7wXq-Y_PCkLsN4JstysHCbRxvTVdgbPO2q0vQ@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg14343.html">
<input type="submit" value=" japhar81 ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Error+decodeing+type+with+PBC+API%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg14342.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg14345.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAKvk7_5CzjXtH7wXq-Y_PCkLsN4JstysHCbRxvTVdgbPO2q0vQ@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
