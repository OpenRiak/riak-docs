<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: riak-erlang segfault</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#08952" id="c">
<link rel="index" href="maillist.html#08952" id="i">
<link rel="prev" href="msg08947.html" id="p">
<link rel="next" href="msg08844.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg08952.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+riak%5C-erlang+segfault%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: riak-erlang segfault</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Evan+Vigil%5C-McClanahan%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Evan Vigil-McClanahan</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20121017" rel="nofollow">Wed, 17 Oct 2012 09:10:07 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Sorry, Martin, I had a reply-all failure.  My reply to Tomas read:

I was incorrect: the HIPE issue only bites is on Solaris and FreeBSD.
That said: we don't test with HIPE on, so for the things that we know
about riak to be maximally useful to you, I generally suggest that
people build using the same configurations as we do.</pre><pre>

I'll make sure that the docs get updated, and I've let our build
manager know about the wrinkle for hardened kernels.  Unfortunately we
don't support any right now, so it might be a bit before anything gets
done.

If you'd open an issue here: <a  rel="nofollow" href="https://github.com/basho/node_package">https://github.com/basho/node_package</a>,
it'd be more likely to get addressed.

Of course, having said that, I haven't gotten the docs updated:

<a  rel="nofollow" href="https://github.com/basho/basho_docs/issues/27">https://github.com/basho/basho_docs/issues/27</a>


On Wed, Oct 17, 2012 at 3:49 AM, Martin Woods &lt;mw2...@gmail.com&gt; wrote:
&gt; Hi Evan - can you or someone at Basho provide any more information on the
&gt; question below regarding building Riak from source please? Does Riak really
&gt; need to be built from source with HIPE disabled? (We've been running with it
&gt; enabled for over a year now with no known issues...)
&gt;
&gt; Thanks and regards,
&gt; Martin.
&gt;
&gt;
&gt; On 9 October 2012 11:57, Martin Woods &lt;mw2...@gmail.com&gt; wrote:
&gt;&gt;
&gt;&gt; Hi Evan - below you state:
&gt;&gt;
&gt;&gt; &quot;The first thing that strikes me is that you have HIPE enabled on your
&gt;&gt; erlang, and the version isn't the one we build with.  This isn't
&gt;&gt; something riak is usually happy with&quot;
&gt;&gt;
&gt;&gt; So if we build Riak from source we MUST use R15B01 (and not R15B02?!) and
&gt;&gt; MUST disable Hipe? Why? Isn't Hipe normally on by default? What problems
&gt;&gt; does it cause Riak? Is the need to disable Hipe mentioned anywhere?
&gt;&gt;
&gt;&gt; Regards,
&gt;&gt; Martin.
&gt;&gt;
&gt;&gt;
&gt;&gt; On 7 October 2012 19:50, Evan Vigil-McClanahan &lt;emcclana...@basho.com&gt;
&gt;&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; The first thing that strikes me is that you have HIPE enabled on your
&gt;&gt;&gt; erlang, and the version isn't the one we build with.  This isn't
&gt;&gt;&gt; something riak is usually happy with.
&gt;&gt;&gt;
&gt;&gt;&gt; If you're doing 1.2, try rebuilding riak with R15B01 compiled with
&gt;&gt;&gt; --diable-hipe.
&gt;&gt;&gt;
&gt;&gt;&gt; The config file is usually called app.config, as well, but that might
&gt;&gt;&gt; have been a typo on your part.
&gt;&gt;&gt;
&gt;&gt;&gt; On Sun, Oct 7, 2012 at 3:28 AM, Tomas Charvat &lt;t...@excello.cz&gt; wrote:
&gt;&gt;&gt; &gt; Hallo, I have fresh system and Im getting segfaults with riak/erlang.
&gt;&gt;&gt; &gt; erl_crash.dump attached
&gt;&gt;&gt; &gt; Any tip what could be possible wrong ?
&gt;&gt;&gt; &gt; Bin /usr/lib64/riak/erts-5.9/bin/erlexec has same problem as
&gt;&gt;&gt; &gt; /usr/lib64/erlang/erts-5.9/bin/erlexec
&gt;&gt;&gt; &gt; Result is that riak cant find /etc/riak/app.conf
&gt;&gt;&gt; &gt; erl, erlc are working without any problem
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; cheers
&gt;&gt;&gt; &gt; Tomas
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; _______________________________________________
&gt;&gt;&gt; &gt; riak-users mailing list
&gt;&gt;&gt; &gt; riak-users@lists.basho.com
&gt;&gt;&gt; &gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;&gt;&gt; &gt;
&gt;&gt;&gt;
&gt;&gt;&gt; _______________________________________________
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg08947.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#08952">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#08952">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg08844.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg08815.html">Re: riak-erlang segfault</a></span> <span class="sender italic">Evan Vigil-McClanahan</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg08841.html">Re: riak-erlang segfault</a></span> <span class="sender italic">Martin Woods</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg08947.html">Re: riak-erlang segfault</a></span> <span class="sender italic">Martin Woods</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: riak-erlang segfault</span> <span class="sender italic">Evan Vigil-McClanahan</span></li>
</ul></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg08844.html">Re: riak-erlang segfault</a></span> <span class="sender italic">Tomas Charvat</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg08953.html">Re: riak-erlang segfault</a></span> <span class="sender italic">Jared Morrow</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg08955.html">Re: riak-erlang segfault</a></span> <span class="sender italic">Tomas Charvat</span></li>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: riak-erlang segfault">
<input type="hidden" name="msgid" value="CAN9Z=zjpd43LTSk33OPGBJqXDkiPdoxGb6vwa9ZFbcvgreKuMg@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg08952.html">
<input type="submit" value=" Evan Vigil-McClanahan ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+riak%5C-erlang+segfault%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg08947.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg08844.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAN9Z=zjpd43LTSk33OPGBJqXDkiPdoxGb6vwa9ZFbcvgreKuMg@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
