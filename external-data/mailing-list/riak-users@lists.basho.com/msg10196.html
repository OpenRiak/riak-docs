<!DOCTYPE html>
<html lang="en">
<head>
<title>RE: Tuning a Riak cluster.</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#10196" id="c">
<link rel="index" href="maillist.html#10196" id="i">
<link rel="prev" href="msg10195.html" id="p">
<link rel="next" href="msg10197.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg10196.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22RE%5C%3A+Tuning+a+Riak+cluster.%22&amp;o=newest" rel="nofollow"><span itemprop="name">RE: Tuning a Riak cluster.</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Kevin+Burton%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Kevin Burton</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20130221" rel="nofollow">Thu, 21 Feb 2013 19:38:22 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>This is has been most helpful. Thank you. Hopefully these &quot;knobs&quot; have been
added to the AWS EC2 instances. Since you us linode &lt;<a  rel="nofollow" href="http://www.linode.com/">http://www.linode.com/</a>&gt;
then you don't know whether AWS, Azure, Rackspace, Joyent, etc. policies are
on the hosting hardware.</pre><pre>

 

From: Alexander Sicular [<a  rel="nofollow" href="mailto:sicul...@gmail.com">mailto:sicul...@gmail.com</a>] 
Sent: Thursday, February 21, 2013 8:54 PM
To: Kevin Burton
Cc: 'Sean Carey'; riak-users@lists.basho.com
Subject: Re: Tuning a Riak cluster.

 

Well, I would say in any circumstance where you care about performance or
the availability of your data. Obviously the gold standard is bare metal. A
search on google for &quot;aws guaranteed different physical machines&quot; yielded
this aws forum thread from 2006,
<a  rel="nofollow" href="https://forums.aws.amazon.com/message.jspa?messageID=55112">https://forums.aws.amazon.com/message.jspa?messageID=55112</a>. Things may have
changed since then. But I use linode which tells you which physical hardware
your vm is on.

 

 

On Feb 21, 2013, at 9:43 PM, Kevin Burton &lt;rkevinbur...@charter.net&gt; wrote:





How strict is this &quot;Under no circumstances should you have more than one VM
(one logical node in a Riak cluster) on the same physical hardware&quot; rule? It
doesn't fit my situation but there has to be some leniency because Riak has
to work in a cloud and you are not guaranteed that your provisioned VM will
be on different physical hardware than the other nodes.

 

From: Alexander Sicular [<a  rel="nofollow" href="mailto:sicul...@gmail.com">mailto:sicul...@gmail.com</a>] 
Sent: Thursday, February 21, 2013 8:27 PM
To: Kevin Burton
Cc: 'Sean Carey'; riak-users@lists.basho.com
Subject: Re: Tuning a Riak cluster.

 

It can't be said enough times but the number one thing you can do to ensure
that you are getting true performance (not to mention redundancy) is to use
different physical hardware for each of your nodes. Under no circumstances
should you have more than one VM (one logical node in a Riak cluster) on the
same physical hardware. Also, use multiple
connections/threads/parallelism/whatever on client side and be sure to hit
all the nodes in the cluster haproxy roundrobin-esque when writing to Riak.
Everything else is in the noise.


-Alexander Sicular

 

@siculars

 

On Feb 21, 2013, at 9:04 PM, Kevin Burton &lt;
&lt;<a  rel="nofollow" href="mailto:rkevinbur...@charter.net">mailto:rkevinbur...@charter.net</a>&gt; rkevinbur...@charter.net&gt; wrote:






 

There each has about 20-30GB of disk space.  They each are a VM so I am not
sure how to specify the CPU. They all seem to be 64 bit Intel processors but
I could tell you the clock speed. The network is 1Gb Ethernet.

 

From: Sean Carey [<a  rel="nofollow" href="mailto:carey@">mailto:carey@</a> &lt;<a  rel="nofollow" href="http://basho.com">http://basho.com</a>&gt; basho.com] 
Sent: Thursday, February 21, 2013 7:59 PM
To: Kevin Burton
Cc:  &lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt; riak-users@lists.basho.com
Subject: Re: Tuning a Riak cluster.

 

Kevin,

Disk and CPU, and Network?

 


Sean Carey
@densone

On Thursday, February 21, 2013 at 20:31, Kevin Burton wrote:

 

I have a cluster of 4 machines (4 Linux VM machines each allocated about 1
Gb of memory - yea I know it isn't a lot). I would like to get some pointers
on getting the fastest query time possible given these meager resources.
Thank you.

_______________________________________________

riak-users mailing list

 &lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt; riak-users@lists.basho.com

 &lt;<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>&gt;
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>

 

_______________________________________________
riak-users mailing list
 &lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt; riak-users@lists.basho.com
 &lt;<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>&gt;
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>

 

</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg10195.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#10196">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#10196">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg10197.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg10188.html">Tuning a Riak cluster.</a></span> <span class="sender italic">Kevin Burton</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10189.html">Re: Tuning a Riak cluster.</a></span> <span class="sender italic">Sean Carey</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10190.html">RE: Tuning a Riak cluster.</a></span> <span class="sender italic">Kevin Burton</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10191.html">Re: Tuning a Riak cluster.</a></span> <span class="sender italic">Alexander Sicular</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10192.html">RE: Tuning a Riak cluster.</a></span> <span class="sender italic">Kevin Burton</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10193.html">Re: Tuning a Riak cluster.</a></span> <span class="sender italic">Alexander Sicular</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10195.html">Re: Tuning a Riak cluster.</a></span> <span class="sender italic">Jeremiah Peschka</span></li>
<li class="icons-email tSliceCur"><span class="subject">RE: Tuning a Riak cluster.</span> <span class="sender italic">Kevin Burton</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10197.html">Re: Tuning a Riak cluster.</a></span> <span class="sender italic">Jeremiah Peschka</span></li>
</ul></li>
</ul></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg10200.html">Re: Tuning a Riak cluster.</a></span> <span class="sender italic">Kevin Burton</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10208.html">Re: Tuning a Riak cluster.</a></span> <span class="sender italic">Tom Santero</span></li>
<li class="icons-email"><span class="subject"><a href="msg10213.html">Re: Tuning a Riak cluster.</a></span> <span class="sender italic">Richard Shaw</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10217.html">Re: Tuning a Riak cluster.</a></span> <span class="sender italic">Richard Shaw</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10218.html">Re: Tuning a Riak cluster.</a></span> <span class="sender italic">Kevin Burton</span></li>
<li class="icons-email"><span class="subject"><a href="msg10219.html">Re: Tuning a Riak cluster.</a></span> <span class="sender italic">Kevin Burton</span></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg10221.html">Re: Tuning a Riak cluster.</a></span> <span class="sender italic">rkevinburton</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10223.html">Re: Tuning a Riak cluster.</a></span> <span class="sender italic">Richard Shaw</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10225.html">RE: Tuning a Riak cluster.</a></span> <span class="sender italic">Kevin Burton</span></li>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="RE: Tuning a Riak cluster.">
<input type="hidden" name="msgid" value="027a01ce10ac$c661a370$5324ea50$@charter.net">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg10196.html">
<input type="submit" value=" Kevin Burton ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22RE%5C%3A+Tuning+a+Riak+cluster.%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg10195.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg10197.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">027a01ce10ac$c661a370$5324ea50$@charter.net</li>
</ul>
</div>
</body>
</html>
