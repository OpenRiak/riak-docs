<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Error starting riak server</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#14207" id="c">
<link rel="index" href="maillist.html#14207" id="i">
<link rel="prev" href="msg14206.html" id="p">
<link rel="next" href="msg14237.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg14207.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Error+starting+riak+server%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Error starting riak server</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Brian+Roach%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Brian Roach</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20140509" rel="nofollow">Fri, 09 May 2014 12:03:06 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Looking at your logs, they all show:

Error loading &quot;erlang_js_drv&quot;: &quot;Driver compiled with incorrect version
of erl_driver.h&quot;</pre><pre>

In your post you say you installed:

&quot;Erlang - First otp_src_R14B02 and then otp_src_R15B01&quot;

More than likely you've compiled Riak with the old version or erlang.

As Hector mentioned, you may want to use an RPM rather than building
from source. You also want to remove R14B02 or at the very least make
sure it's not in your path.

- Roach





On Fri, May 9, 2014 at 10:39 AM, Hector Castro &lt;hec...@basho.com&gt; wrote:
&gt; Hi Rachana,
&gt;
&gt; Is there any reason why you didn't elect to install via RPM? [0] That
&gt; path may be easier to get started with than compiling Erlang and Riak
&gt; from source, as we bundle Erlang into the RPM.
&gt;
&gt; --
&gt; Hector
&gt;
&gt; [0] <a  rel="nofollow" href="http://docs.basho.com/riak/latest/ops/building/installing/rhel-centos/">http://docs.basho.com/riak/latest/ops/building/installing/rhel-centos/</a>
&gt;
&gt; On Fri, May 9, 2014 at 5:47 AM, Rachana Shroff &lt;rshr...@tibco.com&gt; wrote:
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; I am exploring Riak 1.4.8 and facing issue starting riak server.
&gt;&gt; Additional details are-
&gt;&gt; OS - Linux
&gt;&gt; Red Hat Enterprise Linux Server release 6.1 (Santiago)
&gt;&gt; 2.6.32-131.0.15.el6.x86_64
&gt;&gt;
&gt;&gt; Erlang - First otp_src_R14B02 and then otp_src_R15B01
&gt;&gt;
&gt;&gt; I followed all installations steps from
&gt;&gt; <a  rel="nofollow" href="http://docs.basho.com/riak/1.3.0/tutorials/installation">http://docs.basho.com/riak/1.3.0/tutorials/installation</a>
&gt;&gt;
&gt;&gt; steps used for Erlang-
&gt;&gt;
&gt;&gt; wget <a  rel="nofollow" href="http://erlang.org/download/otp_src_R15B01.tar.gz">http://erlang.org/download/otp_src_R15B01.tar.gz</a>
&gt;&gt; tar zxvf otp_src_R15B01.tar.gz
&gt;&gt; cd otp_src_R15B01
&gt;&gt; ./configure &amp;&amp; make &amp;&amp; sudo make install
&gt;&gt;
&gt;&gt;
&gt;&gt; steps used for Riak-
&gt;&gt;
&gt;&gt; tar zxvf riak-1.4.8.tar.gz
&gt;&gt; cd riak-1.4.8
&gt;&gt; make rel
&gt;&gt;
&gt;&gt; After installation i am trying to start riak server but failing to do so.
&gt;&gt;
&gt;&gt; /../riak-1.4.8/rel/riak/bin&gt;riak start
&gt;&gt;
&gt;&gt; Error Ouput - Node 'riak@127.0.0.1' not responding to pings.
&gt;&gt;
&gt;&gt;
&gt;&gt; I tried all the below workarounds suggested on the foroums but no luck.
&gt;&gt;
&gt;&gt; 1-
&gt;&gt; ulimit -n
&gt;&gt; 100000
&gt;&gt; 2- change the ip to machine ip in vm.args and app.config.
&gt;&gt; riak stop # stop the node
&gt;&gt; riak-admin down riak@127.0.0.1 # take it down
&gt;&gt; sudo rm -rf /var/lib/riak/ring/* # delete the riak ring
&gt;&gt; sudo sed -i &quot;s/127.0.0.1/`hostname -i`/g&quot; /etc/riak/vm.args # Change the
&gt;&gt; name in config
&gt;&gt; riak-admin cluster force-replace riak@127.0.0.1 riak@&quot;`hostname -i`&quot; #
&gt;&gt; replace the name
&gt;&gt;
&gt;&gt; riak start # start the node
&gt;&gt;
&gt;&gt; 3- restart server
&gt;&gt;
&gt;&gt;
&gt;&gt; I have attached all log files.
&gt;&gt;
&gt;&gt;
&gt;&gt; Would appreciate your quick support on this.
&gt;&gt;
&gt;&gt;
&gt;&gt; Thanks &amp; Regards,
&gt;&gt; Rachana
&gt;&gt;
&gt;&gt;
&gt;&gt; _______________________________________________
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;&gt;
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg14206.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#14207">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#14207">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg14237.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg14206.html">Re: Error starting riak server</a></span> <span class="sender italic">Hector Castro</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Error starting riak server</span> <span class="sender italic">Brian Roach</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14237.html">Re: Error starting riak server</a></span> <span class="sender italic">Hector Castro</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14245.html">Re: Error starting riak server</a></span> <span class="sender italic">Hector Castro</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14248.html">Re: Error starting riak server</a></span> <span class="sender italic">bryan hunt</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Error starting riak server">
<input type="hidden" name="msgid" value="CAM+FMBuHkqtnbyN+yhoNt7WTJxVyPkNVaxBfNB7E5J-q9DvXpg@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg14207.html">
<input type="submit" value=" Brian Roach ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Error+starting+riak+server%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg14206.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg14237.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAM+FMBuHkqtnbyN+yhoNt7WTJxVyPkNVaxBfNB7E5J-q9DvXpg@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
