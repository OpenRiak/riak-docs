<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: API for Creation of Bucket Types</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="thrd4.html#15035" id="c">
<link rel="index" href="mail4.html#15035" id="i">
<link rel="prev" href="msg15033.html" id="p">
<link rel="next" href="msg15041.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg15035.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+API+for+Creation+of+Bucket+Types%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: API for Creation of Bucket Types</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22John+Kline%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">John Kline</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20141014" rel="nofollow">Tue, 14 Oct 2014 08:11:13 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Luke,

Docker interactive shells are only used when running a docker image locally
for testing. When running in production Docker images typically do not run
SSH server, making ssh connections to the running image impossible.</pre><pre>

Isaac,
What you may consider doing is looking at using nsenter. This utility
allows you to switch to the containers namespace and execute commands from
within the container without forcing you to run ssh server and and init
process just to try and do riak-admin.

<a  rel="nofollow" href="https://github.com/jpetazzo/nsenter">https://github.com/jpetazzo/nsenter</a>

Cheers,
John


*John Kline*
P:314-495-3391 | E: jkl...@riotgames.com | sh: :(){ :|:&amp; };:


On Tue, Oct 14, 2014 at 9:55 AM, Luke Bakken &lt;lbak...@basho.com&gt; wrote:

&gt; Hi Isaac,
&gt;
&gt; Is the lack of shell access due to how you've configured Docker? I'm
&gt; not familiar with it, however it does appear that access is possible:
&gt;
&gt; <a  rel="nofollow" href="https://docs.docker.com/articles/basics/#running-an-interactive-shell">https://docs.docker.com/articles/basics/#running-an-interactive-shell</a>
&gt;
&gt; Providing a bucket type API is planned for a future Riak 2.X release.
&gt;
&gt; --
&gt; Luke Bakken
&gt; Engineer / CSE
&gt; lbak...@basho.com
&gt;
&gt;
&gt; On Tue, Oct 14, 2014 at 12:41 AM, superstructor
&gt; &lt;isaac.johns...@joukou.com&gt; wrote:
&gt; &gt; Hi all,
&gt; &gt;
&gt; &gt; I am running Riak 2.0.1 in a Docker container on each physical host in
&gt; the
&gt; &gt; cluster.
&gt; &gt;
&gt; &gt; I need to programatically create bucket types from an application
&gt; running in
&gt; &gt; a separate Docker container.
&gt; &gt;
&gt; &gt; This was easy before using Docker, as I would just execute the riak-admin
&gt; &gt; tool from my application.
&gt; &gt;
&gt; &gt; With Docker there is now no direct shell access possible between the Riak
&gt; &gt; container and the application container, so I cannot run riak-admin.
&gt; &gt;
&gt; &gt; Each container in Docker has a virtual ethernet interface with its own IP
&gt; &gt; address, so obviously I can still access the HTTP and Protobuf APIs
&gt; remotely
&gt; &gt; from the application container.
&gt; &gt;
&gt; &gt; Is there any API available, or on the roadmap, to create bucket types ?
&gt; &gt;
&gt; &gt; If not how would you suggest I create bucket types in this situation ?
&gt; &gt;
&gt; &gt; Thanks,
&gt; &gt;
&gt; &gt; Isaac
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; --
&gt; &gt; View this message in context:
&gt; <a  rel="nofollow" href="http://riak-users.197444.n3.nabble.com/API-for-Creation-of-Bucket-Types-tp4031932.html">http://riak-users.197444.n3.nabble.com/API-for-Creation-of-Bucket-Types-tp4031932.html</a>
&gt; &gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt; &gt;
&gt; &gt; _______________________________________________
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg15033.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="thrd4.html#15035">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="mail4.html#15035">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg15041.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg15025.html">API for Creation of Bucket Types</a></span> <span class="sender italic">superstructor</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15032.html">Re: API for Creation of Bucket Types</a></span> <span class="sender italic">Luke Bakken</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15033.html">Re: API for Creation of Bucket Types</a></span> <span class="sender italic">Jon Meredith</span></li>
<li class="icons-email tSliceCur"><span class="subject">Re: API for Creation of Bucket Types</span> <span class="sender italic">John Kline</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15041.html">Re: API for Creation of Bucket Types</a></span> <span class="sender italic">superstructor</span></li>
</ul></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg15661.html">Re: Strong consistent buckets ready after starting a c...</a></span> <span class="sender italic">Sargun Dhillon</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15662.html">Re: Strong consistent buckets ready after starting...</a></span> <span class="sender italic">Zsolt Laky</span></li>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: API for Creation of Bucket Types">
<input type="hidden" name="msgid" value="CAFqLV=4bLiAAKmt8jcbwHnBHx4wF522mjvQgEeMKRbt1z0zNLw@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg15035.html">
<input type="submit" value=" John Kline ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+API+for+Creation+of+Bucket+Types%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg15033.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg15041.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAFqLV=4bLiAAKmt8jcbwHnBHx4wF522mjvQgEeMKRbt1z0zNLw@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
