<!DOCTYPE html>
<html lang="en">
<head>
<title>RE: Riak node down after ssd failure</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="thrd2.html#13843" id="c">
<link rel="index" href="mail2.html#13843" id="i">
<link rel="prev" href="msg13839.html" id="p">
<link rel="next" href="msg13845.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg13843.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22RE%5C%3A+Riak+node+down+after+ssd+failure%22&amp;o=newest" rel="nofollow"><span itemprop="name">RE: Riak node down after ssd failure</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Sajner%2C+Daniel+G%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Sajner, Daniel G</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20140319" rel="nofollow">Wed, 19 Mar 2014 06:14:57 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi.

I’ve had success replacing the server with the same name/ip and the identical 
configuration of the previous server (minus the data).  At that point start 
riak and join the node back into the cluster from the new server.  This will 
start a bunch of transfers of meta data to get the empty node to know about the 
data is should have.</pre><pre>

At that point you could wait for read repairs to eventually repopulate the node 
(not a great idea) or force a read repair. 
<a  rel="nofollow" href="http://docs.basho.com/riak/latest/ops/running/recovery/repairing-partitions/">http://docs.basho.com/riak/latest/ops/running/recovery/repairing-partitions/</a>

Regards,
Dan


From: riak-users [<a  rel="nofollow" href="mailto:riak-users-boun...@lists.basho.com">mailto:riak-users-boun...@lists.basho.com</a>] On Behalf Of Edgar 
Veiga
Sent: Tuesday, March 18, 2014 5:20 PM
To: Evan Vigil-McClanahan
Cc: riak-users@lists.basho.com
Subject: Re: Riak node down after ssd failure

Thanks Evan!

Is it really imperative that the name should be != than the old one?

Best regards
—
Sent from my iPhone


On Tue, Mar 18, 2014 at 8:47 PM, Evan Vigil-McClanahan 
&lt;emcclana...@basho.com&lt;<a  rel="nofollow" href="mailto:emcclana...@basho.com">mailto:emcclana...@basho.com</a>&gt;&gt; wrote:

Probably the easiest thing would be to wait until the new machine is
ready to join, add it with a nodename distinct from that of the last
one, and force-replace the new node for the old, dead one.

On Tue, Mar 18, 2014 at 1:03 PM, Edgar Veiga 
&lt;edgarmve...@gmail.com&lt;<a  rel="nofollow" href="mailto:edgarmve...@gmail.com">mailto:edgarmve...@gmail.com</a>&gt;&gt; wrote:
&gt; Hello all!
&gt;
&gt; I have a 6 machine cluster with leveldb as backend, using riak 1.4.8
&gt; version.
&gt;
&gt; Today, the ssd of one of the machine's has failed and is not recoverable, so
&gt; I have already ordered a new one that should arrive by thursday!
&gt;
&gt; In the meanwhile what should I do? I have no backup of the old ssd data...
&gt; Should I remove the machine of the cluster and when the new ssd arrives join
&gt; the machine again?
&gt;
&gt; Best regards!
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com&lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt;
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;


Confidentiality Notice: This electronic message transmission, including any 
attachment(s), may contain confidential, proprietary, or privileged information 
from Chemical Abstracts Service (&quot;CAS&quot;), a division of the American Chemical 
Society (&quot;ACS&quot;). If you have received this transmission in error, be advised 
that any disclosure, copying, distribution, or use of the contents of this 
information is strictly prohibited. Please destroy all copies of the message 
and contact the sender immediately by either replying to this message or 
calling 614-447-3600.

</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg13839.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="thrd2.html#13843">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="mail2.html#13843">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg13845.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg13837.html">Riak node down after ssd failure</a></span> <span class="sender italic">Edgar Veiga</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13838.html">Re: Riak node down after ssd failure</a></span> <span class="sender italic">Evan Vigil-McClanahan</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13839.html">Re: Riak node down after ssd failure</a></span> <span class="sender italic">Edgar Veiga</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">RE: Riak node down after ssd failure</span> <span class="sender italic">Sajner, Daniel G</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13845.html">Re: Riak node down after ssd failur...</a></span> <span class="sender italic">Evan Vigil-McClanahan</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="RE: Riak node down after ssd failure">
<input type="hidden" name="msgid" value="5276_1395234805_s2JDDP4A014303_1A0AA1F24E212D4DB44DC3D3D573420263B626BB@NTMAIL06.intra.cas.org">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg13843.html">
<input type="submit" value=" Sajner, Daniel G ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22RE%5C%3A+Riak+node+down+after+ssd+failure%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg13839.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg13845.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">5276_1395234805_s2JDDP4A014303_1A0AA1F24E212D4DB44DC3D3D573420263B626BB@NTMAIL06.intra.cas.org</li>
</ul>
</div>
</body>
</html>
