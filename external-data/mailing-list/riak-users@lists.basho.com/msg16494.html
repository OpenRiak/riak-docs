<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: A problem running Riak in a Docker image under Vagrant on	Windows 7,8 and 10</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#16494" id="c">
<link rel="index" href="maillist.html#16494" id="i">
<link rel="prev" href="msg16479.html" id="p">
<link rel="next" href="msg16495.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg16494.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+A+problem+running+Riak+in+a+Docker+image+under+Vagrant+on%09Windows+7%2C8+and+10%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: A problem running Riak in a Docker image under Vagrant on	Windows 7,8 and 10</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Pete+Slater%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Pete Slater</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20150903" rel="nofollow">Thu, 03 Sep 2015 07:44:51 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi,

Thanks for getting back to me.</pre><pre>

As for sharing the setup - I have cut the files down to the minimum needed to 
show the problem and popped them onto github,

<a  rel="nofollow" href="https://github.com/psl-trifork/riak-docker">https://github.com/psl-trifork/riak-docker</a>

The actual project is a lot more complicated but this one riak docker image is 
proving to be a pain when run on Windows and only Windows. Linux and MacOS are 
fine.

If you can spot any obvious gotchas then please do let me know.

Thanks in advance.
———————————————————————————
Pete Slater

Trifork Leeds Ltd, Round Foundry Media Centre, Foundry Street, Leeds LS11 5QP, 
UK

Skype ID: psl.trifork
E-Mail: p...@trifork.com&lt;<a  rel="nofollow" href="mailto:p...@trifork.com">mailto:p...@trifork.com</a>&gt;
www: www.trifork.com&lt;<a  rel="nofollow" href="http://www.trifork.com">http://www.trifork.com</a>&gt;




On 31 Aug 2015, at 19:38, Christopher Mancini 
&lt;cmanc...@basho.com&lt;<a  rel="nofollow" href="mailto:cmanc...@basho.com">mailto:cmanc...@basho.com</a>&gt;&gt; wrote:

Hey Pete,

If you want to share your setup, I will try to replicate the problem and see if 
I can help.

Chris

On Mon, Aug 31, 2015 at 2:08 PM Matthew Brender 
&lt;mbren...@basho.com&lt;<a  rel="nofollow" href="mailto:mbren...@basho.com">mailto:mbren...@basho.com</a>&gt;&gt; wrote:
Hey Pete,

That's an interesting situation that leads me to think its a Windows
Vagrant consideration, given that everything runs on OS X. Is your
Dockerfile in a place we could see it and/or run it?

FWIW, Hector has a project that works well. Maybe you can reference
his setup [0]. I'd also welcome a cross-post to StackOverflow in case
its a common Windows + Vagrant issue that our community may miss [1].

[0] <a  rel="nofollow" href="http://stackoverflow.com/questions/tagged/riak">http://stackoverflow.com/questions/tagged/riak</a>
[1] <a  rel="nofollow" href="https://github.com/hectcastro/vagrant-multi-docker-riak">https://github.com/hectcastro/vagrant-multi-docker-riak</a>

Matt Brender | Developer Advocacy Lead
Basho Technologies
t: @mjbrender


On Fri, Aug 28, 2015 at 3:49 AM, Pete Slater 
&lt;p...@trifork.com&lt;<a  rel="nofollow" href="mailto:p...@trifork.com">mailto:p...@trifork.com</a>&gt;&gt; wrote:
&gt;
&gt; I am having a problem with a Docker image running Riak which is causing me 
&gt; concern.
&gt;
&gt; I have a Docker image which is being run inside of a Vagrant container. The 
&gt; Docker image is running Riak in a CentOS 7 guest OS and is configured to 
&gt; start via a supervisor script.
&gt;
&gt; The issue I am having is that when running the Vagrant VM in a MacOS host OS, 
&gt; Riak in the Docker image starts fine.
&gt;
&gt; However when I run the same Vagrantfile in a Windows host OS, Riak fails to 
&gt; start with an error ‘Protocol: ~tp: the name 
&gt; riak@127.0.0.1&lt;<a  rel="nofollow" href="mailto:riak@127.0.0.1">mailto:riak@127.0.0.1</a>&gt;&lt;<a  rel="nofollow" href="mailto:riak@127.0.0.1">mailto:riak@127.0.0.1</a>&lt;<a  rel="nofollow" href="mailto:riak@127.0.0.1">mailto:riak@127.0.0.1</a>&gt;&gt;
&gt;  seems to be in use by another erlang node’
&gt;
&gt; I have tried changing the codename but the error persists.
&gt;
&gt; The strange thing is that Riak seems to be running as we can query it via the 
&gt; REST API. But when trying to communicate to it when logged into the Docker 
&gt; container and doing something like ‘riak ping’ we get Node 
&gt; ‘riak@127.0.0.1&lt;<a  rel="nofollow" href="mailto:riak@127.0.0.1">mailto:riak@127.0.0.1</a>&gt;&lt;<a  rel="nofollow" href="mailto:riak@127.0.0.1">mailto:riak@127.0.0.1</a>&lt;<a  rel="nofollow" href="mailto:riak@127.0.0.1">mailto:riak@127.0.0.1</a>&gt;&gt;’
&gt;  not responding to pings.
&gt;
&gt; Any help would be appreciated. If you need further information then please 
&gt; ask.
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com&lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt;
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com&lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt;
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg16479.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#16494">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#16494">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg16495.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg16469.html">A problem running Riak in a Docker image under Vagrant...</a></span> <span class="sender italic">Pete Slater</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg16478.html">Re: A problem running Riak in a Docker image unde...</a></span> <span class="sender italic">Matthew Brender</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg16479.html">Re: A problem running Riak in a Docker image ...</a></span> <span class="sender italic">Christopher Mancini</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: A problem running Riak in a Docker im...</span> <span class="sender italic">Pete Slater</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg16495.html">Re: A problem running Riak in a Docke...</a></span> <span class="sender italic">Luke Bakken</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg16496.html">Re: A problem running Riak in a ...</a></span> <span class="sender italic">Pete Slater</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg16497.html">Re: A problem running Riak i...</a></span> <span class="sender italic">Luke Bakken</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg16498.html">Re: A problem running Ri...</a></span> <span class="sender italic">Pete Slater</span></li>
<li class="icons-email"><span class="subject"><a href="msg16502.html">Re: A problem running Ri...</a></span> <span class="sender italic">Luke Bakken</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: A problem running Riak in a Docker image under Vagrant on	Windows 7,8 and 10">
<input type="hidden" name="msgid" value="93467E05-90F3-45D1-83A4-B7B60D4274D2@trifork.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg16494.html">
<input type="submit" value=" Pete Slater ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+A+problem+running+Riak+in+a+Docker+image+under+Vagrant+on%09Windows+7%2C8+and+10%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg16479.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg16495.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">93467E05-90F3-45D1-83A4-B7B60D4274D2@trifork.com</li>
</ul>
</div>
</body>
</html>
