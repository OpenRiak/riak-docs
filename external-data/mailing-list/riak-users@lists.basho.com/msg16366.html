<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: status of signature version 4 requests</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#16366" id="c">
<link rel="index" href="maillist.html#16366" id="i">
<link rel="prev" href="msg16350.html" id="p">
<link rel="next" href="msg16367.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg16366.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+status+of+signature+version+4+requests%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: status of signature version 4 requests</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Kota+Uenishi%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Kota Uenishi</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20150805" rel="nofollow">Wed, 05 Aug 2015 23:45:04 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Henrik,
Thank you for trying Riak CS. Besides, current status of v4
authentication is not yet GA, not all features implemented, and only
partially tested with boto (Python AWS library). I'm not sure what's
going on in your cluster, but can you find any error or warning logs
simaltenously happning your 500?</pre><pre>

On Tue, Aug 4, 2015 at 7:14 PM, Henrik Lund Kramshøj &lt;h...@krugercorp.dk&gt; wrote:
&gt; Hi There
&gt;
&gt; I am researching self-hosted alternatives to S3, and found Riak CS.
&gt; Setup was OK, and I currently can access the server fine with s3cmd
&gt;
&gt; Unfortunately I cannot make it work with AWS SDK PHP version 3, since it
&gt; uses signature version 4.
&gt;
&gt; I have done lots of trial and error, using PHP
&gt; define('AWS_KEY', 'xxx');
&gt; define('AWS_SECRET_KEY', 'xxx');
&gt; $client = new S3Client([
&gt;     'credentials' =&gt; [
&gt;         'key'    =&gt; AWS_KEY,
&gt;         'secret' =&gt; AWS_SECRET_KEY
&gt;     ],
&gt;     'region' =&gt; 'local',
&gt;     'version' =&gt; '2006-03-01',
&gt;     'endpoint' =&gt; '172.xx.x.xx:8080',
&gt; //    'signature_version' =&gt; 'v4'
&gt; ]);
&gt;
&gt; signature_version can only be v4 or anonymous.
&gt;
&gt; What is the expectation with v4 requests?
&gt;
&gt; I did find the option, auth_v4_enabled:
&gt; root@riaks2:/etc/riak-cs# cat advanced.config
&gt; [
&gt;  {riak_cs, [
&gt; %%    {auth_v4_enabled, true}
&gt;   ]}
&gt; ].
&gt;
&gt; but it ends up in error 500
&gt; &quot;&quot;&lt;h1&gt;Internal Server Error&lt;/h1&gt;&quot;&quot;
&gt;
&gt; Do I need more configuration, or is it not ready.
&gt;
&gt;
&gt;
&gt; root@riaks2:/etc/riak-cs# lsb_release -a
&gt; No LSB modules are available.
&gt; Distributor ID: Ubuntu
&gt; Description:    Ubuntu 14.04.2 LTS
&gt; Release:        14.04
&gt; Codename:       trusty
&gt; root@riaks2:/etc/riak-cs# dpkg -l | egrep &quot;riak|stanchion&quot;
&gt; ii  riak                                2.0.5-1
&gt;  amd64        Riak is a distributed data store
&gt; ii  riak-cs                             2.0.1-1
&gt;  amd64        Riak CS
&gt; ii  stanchion                           2.0.0-1
&gt;  amd64        Request Serialization Application
&gt;
&gt; Best regards
&gt;
&gt; Henrik
&gt; --
&gt; Henrik Lund Kramshøj, Follower of the Great Way of Unix
&gt; internet samurai cand.scient CISSP
&gt; h...@krugercorp.dk +45 2678 1919
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>



-- 
Kota UENISHI / @kuenishi
Basho Japan KK

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg16350.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#16366">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#16366">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg16367.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg16350.html">status of signature version 4 requests</a></span> <span class="sender italic">Henrik Lund Kramshøj</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: status of signature version 4 requests</span> <span class="sender italic">Kota Uenishi</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg16367.html">Re: status of signature version 4 requests</a></span> <span class="sender italic">Kazuhiro Suzuki</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg16373.html">Re: status of signature version 4 reque...</a></span> <span class="sender italic">Henrik Lund Kramshøj</span></li>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: status of signature version 4 requests">
<input type="hidden" name="msgid" value="CALhKnOSLjomNFOZgDVk45fWrD=mkiVgYKs=nq-CJZuDAknH7=A@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg16366.html">
<input type="submit" value=" Kota Uenishi ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+status+of+signature+version+4+requests%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg16350.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg16367.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CALhKnOSLjomNFOZgDVk45fWrD=mkiVgYKs=nq-CJZuDAknH7=A@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
