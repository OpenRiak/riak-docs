<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: 5-node low-cost, low-power Riak KV cluster -- this sound feasible?</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#18181" id="c">
<link rel="index" href="maillist.html#18181" id="i">
<link rel="prev" href="msg18180.html" id="p">
<link rel="next" href="msg18214.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg18181.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+5%5C-node+low%5C-cost%2C+low%5C-power+Riak+KV+cluster+%5C-%5C-+this+sound+feasible%5C%3F%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: 5-node low-cost, low-power Riak KV cluster -- this sound feasible?</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Magnus+Kessler%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Magnus Kessler</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20170427" rel="nofollow">Thu, 27 Apr 2017 09:11:19 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>On 27 April 2017 at 04:01, Lloyd R. Prentice &lt;ll...@writersglen.com&gt; wrote:</pre><pre>

&gt; Hello,
&gt;
&gt; I'd like to build a five-node low-cost, low-power Riak KV cluster. Use
&gt; case: learning Riak,  development, testing, storage of personal data.
&gt;
&gt; -- Based on pure hand-waving, I've plugged numbers that seem more than
&gt; adequate for my purposes into the Riak Cluster Capacity Planning
&gt; Calculator. Here's the recommendation:
&gt;
&gt; To manage your estimated 100.0 thousand key/bucket pairs where bucket
&gt; names are ~10 bytes, keys are ~36 bytes, values are ~97.7 KiB and you are
&gt; setting aside 2.0 GiB of RAM per-node for in-memory data management within
&gt; a cluster that is configured to maintain 3 replicas per key (N = 3) then
&gt; Riak, using the Bitcask storage engine, will require at least:
&gt;
&gt; 5 nodes
&gt; 6.4 MiB of RAM per node (31.9 MiB total across all nodes)
&gt; 5.6 GiB of storage space per node (28.0 GiB total storage space used
&gt; across all nodes)
&gt; Based on this, I'm considering the following hardware:
&gt;
&gt; 5 ODROID XU-4
&gt; <a  rel="nofollow" href="http://www.hardkernel.com/main/products/prdt_info.php?g_code=G143452239825">http://www.hardkernel.com/main/products/prdt_info.php?g_code=G143452239825</a>
&gt;
&gt; Each with 8 Gb eMMC storage
&gt;
&gt; This provides a 64-bit 2 GHz processor and 2 Gb RAM per day node running
&gt; Ubuntu 16.04 at total cost of something under total $65000 for the cluster.
&gt;
&gt; Does this sound like a feasible way to go? Any downsides?
&gt;
&gt; Many thanks,
&gt;
&gt; LRP
&gt;
&gt;
Hi Lloyd,

The hardware you've linked to is based on the ARM processor architecture.
Please be aware that Basho does not supply prebuilt binaries for this
architecture, and you would have to compile your own binaries.

If you simply want to learn how to operate a multi-node cluster you can
build a so-called DEVREL release from source. This will install a
configurable number of separately configured nodes on a standard OSX or
Linux work station and should be sufficient to experiment with most aspects
of operating a multi-node cluster.

As far as memory requirements for all but a small test work-load is
concerned, we recommend to provide at least 350 MB of memory per VNode if
using the leveldb backend in production. Typically, a Riak node should have
between 6 and 25 VNodes (depending on ring size), and a 5 node cluster in
its default configuration will have 13 or 12 VNodes per node. If you plan
to use Solr based search, add at least another 1 GB for Solr. I have
successfully run a test cluster with heavy Solr use on 8GB nodes.

That said, I am aware that with some extra work Riak can be built on ARM
hardware, such as RaspberryPI, and has been used for demonstration purposes
on this platform. You can certainly run a Riak cluster on constrained
hardware if needed for testing purposes. However, if you'd like to evaluate
performance characteristics, you should use a setup that mirrors an
eventual production setup more closely.

I hope this helps somewhat towards finding the best platform for you.

Kind Regards,

Magnus




-- 
Magnus Kessler
Client Services Engineer
Basho Technologies Limited

Registered Office - 8 Lincolnâ€™s Inn Fields London WC2A 3BP Reg 07970431
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg18180.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#18181">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#18181">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg18214.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg18180.html">5-node low-cost, low-power Riak KV cluster -- this sound...</a></span> <span class="sender italic">Lloyd R. Prentice</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: 5-node low-cost, low-power Riak KV cluster -- t...</span> <span class="sender italic">Magnus Kessler</span></li>
<li class="icons-email"><span class="subject"><a href="msg18214.html">Re: 5-node low-cost, low-power Riak KV cluster -- t...</a></span> <span class="sender italic">Toby Corkindale</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: 5-node low-cost, low-power Riak KV cluster -- this sound feasible?">
<input type="hidden" name="msgid" value="CAL3YJWYmqw4B1HmmEPTu6jcf39VcnBhaMe1ND6pgqo8oLzti-g@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg18181.html">
<input type="submit" value=" Magnus Kessler ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+5%5C-node+low%5C-cost%2C+low%5C-power+Riak+KV+cluster+%5C-%5C-+this+sound+feasible%5C%3F%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg18180.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg18214.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAL3YJWYmqw4B1HmmEPTu6jcf39VcnBhaMe1ND6pgqo8oLzti-g@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
