<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: How Riak Handle Request?</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#18155" id="c">
<link rel="index" href="maillist.html#18155" id="i">
<link rel="prev" href="msg18154.html" id="p">
<link rel="next" href="msg18160.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg18155.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+How+Riak+Handle+Request%5C%3F%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: How Riak Handle Request?</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Fred+Dushin%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Fred Dushin</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20170417" rel="nofollow">Mon, 17 Apr 2017 19:45:06 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>What do you mean by 'process'?

If you mean operating system process, then, No.  A Riak instance runs in a 
single OS process.  There is a Riak instance per &quot;node&quot; in the cluster, where a 
&quot;node&quot; is a machine, container, etc.  Probably what the OMG guys used to call a 
&quot;capsule&quot;  (cute)  There are typically many nodes in a Riak cluster; hence 
multiple OS processes, but in general it only makes sense to run each process 
on a separate node or machine, because things break.</pre><pre>

If you mean a lightweight Erlang process, then yes, there is an Erlang process 
per connection.  From that point on, it gets ... complicated.  There are 
process corresponding to coordinating finite state machines, processes (plural) 
corresponding to vnodes, and there is a long list of processes that run support 
for all things between.  But all of these Erlang processes (or &quot;actors&quot;) run in 
a single operating system process, the Erlang virtual machine, or abstract 
machine, if you learned how to computer before Java.

Does that help?

-Fred

&gt; On Apr 17, 2017, at 9:19 PM, Jing Liu &lt;jingliu...@gmail.com&gt; wrote:
&gt; 
&gt; Hey,
&gt; 
&gt; I'm specifically concerned about connection reading, data sending,
&gt; data encoding and decoding. Is that done by a single process, a
&gt; fixed-size process pool or does Riak spawns a new process for every
&gt; incoming request/connection?
&gt; 
&gt; Thanks very much !
&gt; Jing
&gt; 
&gt; On Mon, Apr 17, 2017 at 12:36 PM, Christopher Meiklejohn
&gt; &lt;christopher.meiklej...@gmail.com&gt; wrote:
&gt;&gt; On Sat, Apr 15, 2017 at 2:16 PM, Jing Liu &lt;jingliu...@gmail.com&gt; wrote:
&gt;&gt;&gt; Hi, I'm learning Riak. I'm wondering that if this is the case that on
&gt;&gt;&gt; each physical node, a single process is reading the connection,
&gt;&gt;&gt; decoding the buffer, spawning a new process to process the request and
&gt;&gt;&gt; then be able to handle next request from client?
&gt;&gt; 
&gt;&gt; Hi Jing,
&gt;&gt; 
&gt;&gt; Depending on what you're looking it, it might be handled differently.
&gt;&gt; Typically, a process pool is used to handle incoming requests, but
&gt;&gt; processing of the request itself is handled by several processes that
&gt;&gt; operate concurrently.
&gt;&gt; 
&gt;&gt; What specific operation are you referring to?
&gt;&gt; 
&gt;&gt; Thanks,
&gt;&gt; Christopher
&gt; 
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>


_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg18154.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#18155">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#18155">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg18160.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg18150.html">How Riak Handle Request?</a></span> <span class="sender italic">Jing Liu</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg18153.html">Re: How Riak Handle Request?</a></span> <span class="sender italic">Christopher Meiklejohn</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg18154.html">Re: How Riak Handle Request?</a></span> <span class="sender italic">Jing Liu</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: How Riak Handle Request?</span> <span class="sender italic">Fred Dushin</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg18160.html">Re: How Riak Handle Request?</a></span> <span class="sender italic">Carlo Pires</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg18161.html">Re: How Riak Handle Request?</a></span> <span class="sender italic">DeadZen</span></li>
<li class="icons-email"><span class="subject"><a href="msg18162.html">Re: How Riak Handle Request?</a></span> <span class="sender italic">Christopher Meiklejohn</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg18164.html">Re: How Riak Handle Reque...</a></span> <span class="sender italic">Matthew Von-Maszewski</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg18165.html">Re: How Riak Handle R...</a></span> <span class="sender italic">Christopher Meiklejohn</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: How Riak Handle Request?">
<input type="hidden" name="msgid" value="D4010D96-B53F-4812-974C-2F7044B8836C@basho.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg18155.html">
<input type="submit" value=" Fred Dushin ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+How+Riak+Handle+Request%5C%3F%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg18154.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg18160.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">D4010D96-B53F-4812-974C-2F7044B8836C@basho.com</li>
</ul>
</div>
</body>
</html>
