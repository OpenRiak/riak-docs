<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: CorrugatedIron v0.1.3 Released</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#04956" id="c">
<link rel="index" href="maillist.html#04956" id="i">
<link rel="prev" href="msg04946.html" id="p">
<link rel="next" href="msg04962.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg04956.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+CorrugatedIron+v0.1.3+Released%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: CorrugatedIron v0.1.3 Released</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22OJ+Reeves%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">OJ Reeves</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20110930" rel="nofollow">Fri, 30 Sep 2011 14:06:33 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi Kyle,

Thanks for the feedback on our .NET client. I'm sorry to hear that you've
had issues with it. I'm very keen on hearing more about the issues and
details of the level of complexity you're struggling with so that Jeremiah
and I can work on making it better.</pre><pre>

Configuration is one of those things that annoys everyone :) It's incredibly
hard to provide power, flexibility and simplicity all at the same time when
dealing with configuration. One thing that I think is important to bear in
mind is the target of the library is .NET. For many years this kind of
configuration has be done using app.config or web.config settings when
building .NET applications and that it something that we didn't want to fly
in the face of. While I do feel it's important to be able to configure the
library through code (in case you're using a REPL like FSI), I felt it was
more important to support the idiomatic .NET approach to configuration. Yes
that does come with a bit of XML configuration (which I also hate) but is in
many ways a necessary evil.

We had feedback on github and on HN from people indicating that they had
different preferences for the configuration and we sat up and listened. We
have since made some changes to the way you can configure CI, which can
completely do away with using the XML configuration if you so wish. This
does, however, mean you have to configure the client in code. If that's what
you decide to do you may have issues as you deploy to different
environments. I would still recommend using the XML configuration if you can
as managing that configuration for multiple environments is much easier.
YMMV :)

I'm not sure about the state of other clients, but CI supports talking to a
cluster both directly or via a proxy/loadbalancer and also has built-in
connection pooling. Having support for all of these things adds complexity.
This is the typical features vs simplicity tradeoff. Our feelings on the
topic were that we didn't want to limit .NET developers in their options. We
also felt that, at least in the short term, that .NET developers might not
want to deal with deploying a load balancer in front of their development
clusters, and hence built-in support for talking to a cluster was a must.
I'm fairly certain that there is at least one other client (for another
language) that doesn't have cluster/connection pooling support built-in and
the people in that community have asked for on a few occasions. A classic
case of damned if you do, damned if you don't :)

May I ask what issues in particular you have with getting the configuration
to work? Do you feel that the documentation on the topic is lacking? Are the
sample applications and code snippets not clear enough? Are the required
fields confusing in some way? Error handling is certainly something that we
can put a bit more work into.

As far as the API or object model is concerned, could you please elaborate
on what you found difficult or complicated? Is this another case of poor
documentation and bad examples? Do you feel that it doesn't do a good job of
being a .NET library and using the features of the languages where
appropriate? Jeremiah and I are obviously very keen to remove unnecessary
complexity and reduce the friction that people feel when using the lib, so
any detail here would be greatly appreciated.

Have you had a look at the Riak clients written in strongly-typed languages?
How do they compare for complexity? One of the &quot;pains&quot; when dealing with the
likes of .NET is dealing with types. The nature of the platform adds
constraints that languages like Ruby and dynamic languages like
Erlang/Python don't have. This is another thing that's hard to juggle while
building a Riak client. Any thoughts that you might have on this topic would
be well received.

&gt; My suggestion for anybody trying to design a new client library is to
mimic the API of
&gt; the existing official libraries first and then add fancy features :-)

While this sounds sensible and nice in theory, in practice it's actually not
that simple (or the right approach) for a few reasons. Languages vary a
great deal and not just in syntax. Attempting to &quot;port&quot; an existing client
to a language doesn't do the target language justice and can often fly in
the face of convention for that language. I would be rather disturbed if I
saw a direct port of the Erlang API in the .NET world. Why? Because they're
vastly different beasts and the .NET version of the API would be horrible
and nothing like any other .NET API. Also, it just wouldn't be possible
given the nature of Erlang's dynamic typing vs .NET strong typing. In short:
a library should fit the technical ecosystem of the language it's written
in. That, in my humble opinion, would be more of a negative influence on the
uptake of the library than anything else. I feel that a library should
respect the platform it's written for. Happy to hear your thoughts on this
too!

&gt; If it's too complicated (to understand and to setup) then
&gt; people will simply give up and go somewhere else.

Absolutely agree, which is why I'm very keen to hear about the issues you've
had and to figure out how we can make them better. So far the uptake of CI
has been quite strong and the feedback very positive. I'm super keen to help
you so that you become one of the happy users :)

One last question: are you aware of any other .NET clients which have a
similar set of features? I can only find two and they haven't been touched
for over a year.

Thanks again for the feedback, I look forward to hearing more and working
with you to make your experience with CI much better!
All the best.
OJ

On 1 October 2011 04:14, Kyle Quest &lt;kcq.li...@gmail.com&gt; wrote:

&gt; I looked at a lot of different Riak libraries in different languages
&gt; for my work with Riak and CorrugatedIron was one of them. This gave me
&gt; an opportunity to compare how each of them worked. CorrugatedIron was
&gt; one of the more complicated ones :-) It was also one of the hardest to
&gt; make it work because of the app config design (the library generated
&gt; exception when it tried to load the config data). My suggestion for
&gt; anybody trying to design a new client library is to mimic the API of
&gt; the existing official libraries first and then add fancy features :-)
&gt; This will help the adoption. If it's too complicated (to understand
&gt; and to setup) then people will simply give up and go somewhere else.
&gt;
&gt; On Fri, Sep 30, 2011 at 10:45 AM, Jeremiah Peschka
&gt; &lt;jeremiah.pesc...@gmail.com&gt; wrote:
&gt; &gt; Thanks. I can't take all the credit/blame - OJ Reeves has written massive
&gt; amounts of code, too.
&gt; &gt;
&gt; &gt; We're aware that many people like to complain about our use of config
&gt; files. When you write a piece of software, you make the choice between
&gt; shipping software or adding more features. We chose to ship CorrugatedIron
&gt; and see then what people liked and what they didn't like.
&gt; &gt;
&gt; &gt; People didn't like our use of .NET's crusty old config system that they
&gt; even created a github issue about it:
&gt; <a  rel="nofollow" href="https://github.com/DistributedNonsense/CorrugatedIron/issues/4">https://github.com/DistributedNonsense/CorrugatedIron/issues/4</a>
&gt; &gt;
&gt; &gt; We hear you and will be moving to get this out as soon as we can after we
&gt; get the Riak 1.0 feature compatibility ironed out.
&gt; &gt;
&gt; &gt; Is our use of .NET configuration files blocking adoption of
&gt; CorrugatedIron in your organization?
&gt; &gt; ---
&gt; &gt; Jeremiah Peschka - Founder, Brent Ozar PLF, LLC
&gt; &gt; Microsoft SQL Server MVP
&gt; &gt;
&gt; &gt; On Sep 30, 2011, at 1:40 PM, Kyle Quest wrote:
&gt; &gt;
&gt; &gt;&gt; Jeremiah, really nice job on CorrugatedIron! Some of it is a bit too
&gt; &gt;&gt; over-engineered and more complicated than it has to be. For example,
&gt; &gt;&gt; you can't just create a RiakClient object and interact with Riak (like
&gt; &gt;&gt; you can do with the official Riak client libraries)... To create a
&gt; &gt;&gt; RiakClient (in CorrugatedIron) you need to have a RiakCluster object
&gt; &gt;&gt; to pass to the RiakClient object constructor. And you can't easily
&gt; &gt;&gt; create a RiakCluster object either. You can only create it from a
&gt; &gt;&gt; config section (there's no way to explicitly provide the config values
&gt; &gt;&gt; directly in the API). Not every app uses .NET app config files and
&gt; &gt;&gt; it's also not uncommon for the app config code to cause exceptions
&gt; &gt;&gt; because it can be brittle...
&gt; &gt;&gt;
&gt; &gt;&gt; On Thu, Sep 22, 2011 at 3:33 PM, Jeremiah Peschka
&gt; &gt;&gt; &lt;jeremiah.pesc...@gmail.com&gt; wrote:
&gt; &gt;&gt;&gt; I just finished up v0.1.3 of CorrugatedIron, everyone's favorite .NET
&gt; 4.0 Riak client. There is no new functionality in this release, just a fix
&gt; from Matthew Whitfield:
&gt; <a  rel="nofollow" href="https://github.com/DistributedNonsense/CorrugatedIron/issues/18">https://github.com/DistributedNonsense/CorrugatedIron/issues/18</a>
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; Thanks Matt for helping us make CorrugatedIron better!
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; Binaries have been pushed to NuGet (
&gt; <a  rel="nofollow" href="http://nuget.org/List/Packages/CorrugatedIron">http://nuget.org/List/Packages/CorrugatedIron</a>) and source is available on
&gt; github (
&gt; <a  rel="nofollow" href="https://github.com/DistributedNonsense/CorrugatedIron/commit/e9c0af10465176f117bbbf04724087063f9b7fd2">https://github.com/DistributedNonsense/CorrugatedIron/commit/e9c0af10465176f117bbbf04724087063f9b7fd2</a>
&gt; )
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; Enjoy!
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; ---
&gt; &gt;&gt;&gt; Jeremiah Peschka - Founder, Brent Ozar PLF, LLC
&gt; &gt;&gt;&gt; Microsoft SQL Server MVP
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; _______________________________________________
&gt; &gt;&gt;&gt; riak-users mailing list
&gt; &gt;&gt;&gt; riak-users@lists.basho.com
&gt; &gt;&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt; &gt;&gt;&gt;
&gt; &gt;
&gt; &gt;
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;



-- 

OJ Reeves
<a  rel="nofollow" href="http://buffered.io/">http://buffered.io/</a>
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg04946.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#04956">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#04956">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg04962.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg04832.html">CorrugatedIron v0.1.3 Released</a></span> <span class="sender italic">Jeremiah Peschka</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04942.html">Re: CorrugatedIron v0.1.3 Released</a></span> <span class="sender italic">Kyle Quest</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04943.html">Re: CorrugatedIron v0.1.3 Released</a></span> <span class="sender italic">Jeremiah Peschka</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04945.html">Re: CorrugatedIron v0.1.3 Released</a></span> <span class="sender italic">Jeremiah Peschka</span></li>
<li class="icons-email"><span class="subject"><a href="msg04946.html">Re: CorrugatedIron v0.1.3 Released</a></span> <span class="sender italic">Kyle Quest</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: CorrugatedIron v0.1.3 Released</span> <span class="sender italic">OJ Reeves</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04962.html">Re: CorrugatedIron v0.1.3 Released</a></span> <span class="sender italic">Kyle Quest</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04963.html">Re: CorrugatedIron v0.1.3 Relea...</a></span> <span class="sender italic">OJ Reeves</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04970.html">Re: CorrugatedIron v0.1.3 R...</a></span> <span class="sender italic">Kyle Quest</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: CorrugatedIron v0.1.3 Released">
<input type="hidden" name="msgid" value="CAG63A8vniXmGeUgYZwrnw=e+h8H9Nz0Q34t_d4VXdw55UvDv9Q@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg04956.html">
<input type="submit" value=" OJ Reeves ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+CorrugatedIron+v0.1.3+Released%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg04946.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg04962.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAG63A8vniXmGeUgYZwrnw=e+h8H9Nz0Q34t_d4VXdw55UvDv9Q@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
