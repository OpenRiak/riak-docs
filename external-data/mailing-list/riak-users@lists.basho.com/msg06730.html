<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: weakest link</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#06730" id="c">
<link rel="index" href="maillist.html#06730" id="i">
<link rel="prev" href="msg06727.html" id="p">
<link rel="next" href="msg06731.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg06730.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+weakest+link%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: weakest link</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Jeremiah+Peschka%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Jeremiah Peschka</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20120224" rel="nofollow">Fri, 24 Feb 2012 07:25:43 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>---
Jeremiah Peschka
Managing Director, Brent Ozar PLF, LLC
</pre><pre>

On Fri, Feb 24, 2012 at 5:36 AM, gibraltar &lt;clgibral...@gmail.com&gt; wrote:

&gt; Hello,
&gt;
&gt; I'm founder of a very small startup (a.k.a one man show). Although I did
&gt; roll out a lot of critical piece of software to production environment
&gt; before, I was never responsible of the database or systems that it depended
&gt; on. Now, I'm responsible of those layers as well. Unlike many in this user
&gt; list I do not have any scaleability problem, nor huge data to deal with, at
&gt; least yet, and hopefully one day very soon. (It will have social aspect as
&gt; well, but later). However easy horizontal replication allows me to deploy
&gt; couple of Riak servers on a hosting site (to an environment I have no
&gt; control at all) so that I will have (relatively) peace of mind if I lose
&gt; one of the servers somehow. I am trying to relieve myself from admin work
&gt; as much as I if I can set up environment with correct choice of data
&gt; storage. This is the reason I have been considering riak seriously, since
&gt; my admin experience with any traditional databases are limited I am at the
&gt; same distance to SQL or NoSQL. I already developed my solution to almost
&gt; completion with Riak but now having doubts.
&gt;
&gt; 1) What should be the bare minimum number of Riak server to have that
&gt; security. (Sky is the limit for redundancy but I will limit myself only to
&gt; one site, multiple servers for now).
&gt;

You should have a minimum of 4 servers. When you increase the number of
servers, it's best practice to increase by powers of 2. You'll need to be
careful with your default ring size, though - see
<a  rel="nofollow" href="https://wiki.basho.com/Cluster-Capacity-Planning.html#Ring-Size-Number-of-Partitionsfor">https://wiki.basho.com/Cluster-Capacity-Planning.html#Ring-Size-Number-of-Partitionsfor</a>
more info. Planning this initial ring size is critical for long term
success - otherwise you'll end up migrating to a new ring (although this
isn't the worst thing in the world).



&gt;
&gt; 2) Would anyone in the list recommend setting up Mysql or Postgresql
&gt; instead a NoSQL given current small size of my venture. Am I optimizing
&gt; prematurely. Again I am looking for security, ease of administration, and a
&gt; future proof architecture. I am losing a lot (SQL) but it's ok. I do need
&gt; transactions here and there but I mitigated it storing all in one object
&gt; for atomicity.
&gt;

This depends entirely on your querying structure. If you're performing a
lot of ad hoc queries, performing ad hoc reporting, require referential
integrity, require ACID properties, or are building complex aggregations
then MySQL or PostgreSQL is going to offer you a lot. If you're mainly
doing primary key look-ups, then Riak is a better choice. An RDBMS is a
very tried and true solution (especially PostgreSQL).

If your application doesn't need any RDBMS style features, then Riak is a
good fit.

I can tell you that a knowledgeable expert can make an RDBMS scale to
stupefying levels - both in terms of utilization and raw data stored. It's
a question of how and where you want to scale. Riak makes this easy. Need
more performance? Add a node. Need more storage? Add a node.


&gt;
&gt; 3) I read that people in this list mostly store secondary/derivative data
&gt; or data that they can load again. Is Riak mature enough to store
&gt; critical/primary data? A chain is as strong as its weakest link. So in
&gt; Riak's case what is that weakest link? Backend storage choice? bitcask?
&gt; leveldb? or riak-js? (I need 2i so my only option is leveldb.) Is Riak
&gt; (NoSQL in general) for storing (lots of) secondary data and processing it?
&gt; I will be storing data for other institutions whose customers will
&gt; generate. Although it does not involve money it does mean monetary
&gt; transaction.
&gt;

I think some folks on this list store primary data in Riak, too. In Riak's
case, the weakest link is going to be your storage subsystem. Storage is
usually the bottleneck in most data intensive applications and Riak is no
exception.

Your ability to manipulate, process, and aggregated data is only limited by
your imagination. Riak is a solid data store. I don't think I'd go running
multi-hour MapReduce queries across a Riak cluster, but there aren't really
a lot of situations I can think of where you'd be running gigantic MR jobs.


&gt;
&gt; 4) I tried writing 500K objects to both Postgresql and Riak. I used
&gt; nodejs/riak-js(http). My experience is that a) Postgresql is storing faster
&gt; than Riak b) Riak interface sometimes reporting EADDRINUSE(see below) and
&gt; some other errors randomly. Postgresql test did not generate even one
&gt; error. This blemished my sense of security towards Riak a bit but it could
&gt; be library stack I used. I wonder if this experience unique to me, or are
&gt; there anyone else who had similar experience in the list? (This could also
&gt; be due to node.js, so I am not sure where exactly to put the blame).
&gt;
&gt; { [Error: connect EADDRINUSE] code: 'EADDRINUSE', errno: 'EADDRINUSE',
&gt; syscall: 'connect' }
&gt;
&gt; In brief, I am trying to understand where Riak will likely fail me in
&gt; production, if it does.
&gt;

If you're running all of your Riak tests on one node, then Riak may very
well be slower. Riak's performance and stability benefits come from having
multiple nodes running at the same time.

I have no idea about your specific error message, though.


&gt;
&gt; Sorry for the long post/questions and I appreciate if I could pick your
&gt; mind.
&gt;
&gt; Thanks,
&gt; Gibraltar
&gt;
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
&gt;
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg06727.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#06730">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#06730">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg06731.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg06727.html">weakest link</a></span> <span class="sender italic">gibraltar</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: weakest link</span> <span class="sender italic">Jeremiah Peschka</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: weakest link">
<input type="hidden" name="msgid" value="CACJEN2rgtMnNPx61DyeWTEYAvGqJWR5XFygpBivvmVxJqXmfFw@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg06730.html">
<input type="submit" value=" Jeremiah Peschka ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+weakest+link%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg06727.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg06731.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CACJEN2rgtMnNPx61DyeWTEYAvGqJWR5XFygpBivvmVxJqXmfFw@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
