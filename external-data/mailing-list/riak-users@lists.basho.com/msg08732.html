<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: indexing precommit hooks and the maximum number of buckets</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#08732" id="c">
<link rel="index" href="maillist.html#08732" id="i">
<link rel="prev" href="msg08661.html" id="p">
<link rel="next" href="msg08671.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg08732.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+indexing+precommit+hooks+and+the+maximum+number+of+buckets%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: indexing precommit hooks and the maximum number of buckets</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Alfonso+De+Gregorio%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Alfonso De Gregorio</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20120928" rel="nofollow">Fri, 28 Sep 2012 00:56:18 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>On Mon, Sep 24, 2012 at 1:27 PM, Alfonso De Gregorio &lt;a...@crypto.lo.gy&gt; wrote:
&gt; Hi All,
&gt;
&gt; Does the Search indexing precommit hook adversely affects the maximum
&gt; number of buckets a Riak cluster can handle?
&gt;
&gt; More specifically: as long as we don't change their properties,
&gt; buckets are namespaces for our keys and, theoretically, there is no
&gt; limit to their number [1,2]. At the same time, Search indexes Riak KV
&gt; objects as they're written using a precommit hook -- a bucket property
&gt; [3]. I was wondering if this specific change in bucket properties may
&gt; force Riak to gossip more data around the cluster and, in turn,
&gt; degrade the performance. I'm assuming a Bitcask backend. So, how many
&gt; buckets a Riak cluster can handle while using Riak Search?</pre><pre>

&gt;From a closer look at the architecture, I understand now that Riak
Search partitions the index entries by term across the cluster. So, I
guess some queries are slower than others, due to the increased
traffic between search nodes. Therefore I expect also the maximum
number of buckets to be affected.

Does anybody can provide me a rough estimate of how many bucket Riak
Search can handle, please?
Knowing the order of magnitude for this quantity would get me one step
closer to completing the preliminary design for a project, where I
would be more than happy to have Riak.

Thank you.

Ciao,
alfonso


&gt; Thank you for any insight on the above and kudos to all people at
&gt; Basho for all the work done on Riak.
&gt;
&gt; Ciao,
&gt; alfonso
&gt;
&gt; [1] <a  rel="nofollow" href="http://wiki.basho.com/Concepts.html">http://wiki.basho.com/Concepts.html</a>
&gt; [2] 
&gt; <a  rel="nofollow" href="http://lists.basho.com/pipermail/riak-users_lists.basho.com/2010-December/002569.html">http://lists.basho.com/pipermail/riak-users_lists.basho.com/2010-December/002569.html</a>
&gt; [3] <a  rel="nofollow" href="http://wiki.basho.com/Riak-Search.html">http://wiki.basho.com/Riak-Search.html</a>


--
  Alfonso De Gregorio
  <a  rel="nofollow" href="http://Plaintext.crypto.lo.gy">http://Plaintext.crypto.lo.gy</a>

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg08661.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#08732">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#08732">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg08671.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg08661.html">indexing precommit hooks and the maximum number of buc...</a></span> <span class="sender italic">Alfonso De Gregorio</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: indexing precommit hooks and the maximum numb...</span> <span class="sender italic">Alfonso De Gregorio</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: indexing precommit hooks and the maximum number of buckets">
<input type="hidden" name="msgid" value="CAEk7eQSJ15FufJ=JvZhSPBAbKLSapJk_VmW9S-OZxCMC5COdnQ@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg08732.html">
<input type="submit" value=" Alfonso De Gregorio ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+indexing+precommit+hooks+and+the+maximum+number+of+buckets%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg08661.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg08671.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAEk7eQSJ15FufJ=JvZhSPBAbKLSapJk_VmW9S-OZxCMC5COdnQ@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
