<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: InnoDB error</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#00371" id="c">
<link rel="index" href="maillist.html#00371" id="i">
<link rel="prev" href="msg00370.html" id="p">
<link rel="next" href="msg00374.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg00371.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+InnoDB+error%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: InnoDB error</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Germain+Maurice%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Germain Maurice</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20100514" rel="nofollow">Fri, 14 May 2010 09:31:25 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<tt>These errors occur when a node came back to the cluster or on a joining 
</tt><tt>a node to the cluster.
</tt><tt>They never occur when i wrote datas in the bucket. The biggest data i 
</tt><tt>put to a node had not exceeded 10MB, i write html pages in the bucket.
</tt><pre style="margin: 0em;">

Grant, i'm testing Riak, so all of my datas are &quot;test&quot; datas :)
</pre><tt>I have more than 1 600 000 docs that take more than 100GB space, only 
</tt><tt>for information.
</tt><pre style="margin: 0em;"></pre><pre>

Le 14/05/10 17:52, Grant Schofield a écrit :
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Are you writing a large amount of data to the node? What is the size of your 
write request?

The way to fix this would be to increase the number and size of the log files 
in your app.config. The relevant lines to add to the {innostore, []} section 
are:
{log_files_in_group,       6},             % How many files you need — usually, 3&lt; 
 x&lt;  6
{log_file_size, 268435456},      % No bigger than 256MB — otherwise recovery 
takes too long

You probably have issues with your Innostore now because there us data that 
didn't make it it into the filesystem when the log was overwritten. I would 
recommend starting with a new data  directory as well as moving your old Inno 
logs out of the way.  If this data isn't test data we can work with you to dump 
and load the data using the innodump and innoload utilities.

Grant Schofield
Developer Advocate
Basho Technologies

On May 14, 2010, at 10:27 AM, Germain Maurice wrote:

</pre><tt>   
</tt><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi all,

Another question...

I think i understand what does it mean, but how can i change it ?
What are the consequences of this kind error ?

</pre><tt>     
</tt></blockquote><tt>   
</tt><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
100513  1:13:21  InnoDB: ERROR: the age of the last checkpoint is 
140104147910808,
InnoDB: which exceeds the log group capacity 1.
InnoDB: If you are using big BLOB or TEXT rows, you must set the
InnoDB: combined size of log files at least 10 times bigger than the
InnoDB: largest such row.

Thank you for your answer.

Best regards,
Germain

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre><tt>     
</tt></blockquote><tt>   
</tt></blockquote><pre style="margin: 0em;">


_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg00370.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#00371">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#00371">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg00374.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg00369.html">InnoDB error</a></span> <span class="sender italic">Germain Maurice</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00370.html">Re: InnoDB error</a></span> <span class="sender italic">Grant Schofield</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: InnoDB error</span> <span class="sender italic">Germain Maurice</span></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg00374.html">InnoDB error</a></span> <span class="sender italic">Germain</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: InnoDB error">
<input type="hidden" name="msgid" value="4BED7C5D.4060703@linkfluence.net">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg00371.html">
<input type="submit" value=" Germain Maurice ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+InnoDB+error%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg00370.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg00374.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">4BED7C5D.4060703@linkfluence.net</li>
</ul>
</div>
</body>
</html>
