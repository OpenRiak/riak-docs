<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: uneven disk distribution</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#16138" id="c">
<link rel="index" href="maillist.html#16138" id="i">
<link rel="prev" href="msg16137.html" id="p">
<link rel="next" href="msg16139.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg16138.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+uneven+disk+distribution%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: uneven disk distribution</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Engel+Sanchez%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Engel Sanchez</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20150514" rel="nofollow">Thu, 14 May 2015 19:07:34 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi Johnny. Make sure that the configuration on that node is not different
to the others. For example, it could be configured to never merge Bitcask
files, so that space could never be reclaimed.</pre><pre>

<a  rel="nofollow" href="http://docs.basho.com/riak/latest/ops/advanced/backends/bitcask/#Configuring-Bitcask">http://docs.basho.com/riak/latest/ops/advanced/backends/bitcask/#Configuring-Bitcask</a>

On Thu, May 14, 2015 at 4:31 PM, Johnny Tan &lt;johnnyd...@gmail.com&gt; wrote:

&gt; We have a 6-node test riak cluster. One of the nodes seems to be using far
&gt; more disk:
&gt; staging-riak001.pp /dev/sda3              15G  6.3G  7.2G  47% /
&gt; staging-riak002.pp /dev/sda3              15G  6.4G  7.1G  48% /
&gt; staging-riak003.pp /dev/sda3              15G  6.1G  7.5G  45% /
&gt; staging-riak004.pp /dev/sda3              15G   14G  266M  99% /
&gt; staging-riak005.pp /dev/sda3              15G  5.8G  7.7G  44% /
&gt; staging-riak006.pp /dev/sda3              15G  6.3G  7.3G  47% /
&gt;
&gt; Specifically, /var/lib/riak/bitcask is using up most of that space. It
&gt; seems to have files in there that are much older than any of the other
&gt; nodes. We've done maintenance of various sort on this cluster -- as the
&gt; name indicates, we use it as a staging ground before we go to production. I
&gt; don't recall a specific issue per se, but I wouldn't rule it out.
&gt;
&gt; Is there a way to figure out if there's an underlying issue here, or
&gt; whether some of this disk space is not really current and can somehow be
&gt; purged?
&gt;
&gt; What info would help answer those questions?
&gt;
&gt; johnny
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
&gt;
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg16137.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#16138">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#16138">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg16139.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg16137.html">uneven disk distribution</a></span> <span class="sender italic">Johnny Tan</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: uneven disk distribution</span> <span class="sender italic">Engel Sanchez</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg16139.html">Re: uneven disk distribution</a></span> <span class="sender italic">Charlie Voiselle</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg16200.html">Re: uneven disk distribution</a></span> <span class="sender italic">Johnny Tan</span></li>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: uneven disk distribution">
<input type="hidden" name="msgid" value="CABx-oYzmpCFGoNt3ezefzXeviKTK=USJjLcub4AEJS+ZmuOX9g@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg16138.html">
<input type="submit" value=" Engel Sanchez ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+uneven+disk+distribution%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg16137.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg16139.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CABx-oYzmpCFGoNt3ezefzXeviKTK=USJjLcub4AEJS+ZmuOX9g@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
