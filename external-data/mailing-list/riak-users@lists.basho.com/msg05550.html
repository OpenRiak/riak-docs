<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Consistency in riak/luwak</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#05550" id="c">
<link rel="index" href="maillist.html#05550" id="i">
<link rel="prev" href="msg05473.html" id="p">
<link rel="next" href="msg05552.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg05550.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Consistency+in+riak%5C%2Fluwak%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Consistency in riak/luwak</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22vuleetu%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">vuleetu</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20111111" rel="nofollow">Fri, 11 Nov 2011 00:49:17 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>On Tue, Nov 8, 2011 at 10:28 PM, Jeremiah Peschka &lt;
jeremiah.pesc...@gmail.com&gt; wrote:</pre><pre>

&gt; A couple of things:
&gt;
&gt; I may be wrong on this (no being specifically familiar with Luwak's
&gt; internals), but when using RIak there's no guarantee that the data is
&gt; actually written to the node you connect to. If you connect to Node3, the
&gt; data may be written to Node6, Node9, and Node1.
&gt;
&gt; As far as the failures, you're most likely seeing a Luwak error because
&gt; it's still replicating data across the ring. I have no idea how you're
&gt; actually going to get around this because the Luwak API doesn't seem to
&gt; offer a way to tune eventual consistency and say that a read is good if
&gt; only 1 node responds.
&gt;
&gt; The question I'd ask is &quot;What is the likelihood that a user will
&gt; immediately try to access an object that they have just uploaded from their
&gt; own device?&quot;
&gt;
&gt;
&gt; ---
&gt; Jeremiah Peschka - Founder, Brent Ozar PLF, LLC
&gt; Microsoft SQL Server MVP
&gt;


Hello,

Regarding your question, the likelihook is extemely high because once we
put a file into Luwak, we fire off an event to several other connected
devices telling them to grab the file.  It's part of our design goals.

After a file is put into luwak, luwak says it's done and we fire of an
event for other clients to request this information.  Is there any way to
wait for the file to really be ready before we fire off this notification
to client applications to download the file?



On Tue, Nov 8, 2011 at 11:14 PM, Alexander Sicular &lt;sicul...@gmail.com&gt;
 wrote:

&gt; Build a retry into your client.
&gt;

We do have a retry in the client, but having it trigger all the time is not
as efficient as we'd like.


Any further insight into this would be helpful.

Thanks,

Fisher


&gt; On Nov 8, 2011, at 12:11 AM, vuleetu wrote:
&gt;
&gt; &gt; Hi, guys
&gt; &gt;
&gt; &gt;    I am using luwak as dfs, right now we have couple riak nodes like 10
&gt; there. Here is the problem we encountered, after write file success, the
&gt; next read operation always fail. it happens when that is a little bit big
&gt; file size. is there any way to get rid of that. because we want the user
&gt; can get that file which is uploaded by him real time. For example, write
&gt; file to riak node 3 should always guarantee the next read operation on that
&gt; file to riak node 3 should be success.
&gt; &gt;
&gt; &gt; thanks
&gt; &gt;
&gt; &gt; Fisher
&gt; &gt; _______________________________________________
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
&gt;
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg05473.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#05550">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#05550">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg05552.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg05469.html">Consistency in riak/luwak</a></span> <span class="sender italic">vuleetu</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg05473.html">Re: Consistency in riak/luwak</a></span> <span class="sender italic">Jeremiah Peschka</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Consistency in riak/luwak</span> <span class="sender italic">vuleetu</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg05552.html">Re: Consistency in riak/luwak</a></span> <span class="sender italic">Jeremiah Peschka</span></li>
</ul></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg05475.html">Re: Consistency in riak/luwak</a></span> <span class="sender italic">Alexander Sicular</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Consistency in riak/luwak">
<input type="hidden" name="msgid" value="CAD=Jkf8-rn6KPx-mTqzX21Lb28Ypjz8vFmj8Ky09suW6onW33g@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg05550.html">
<input type="submit" value=" vuleetu ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Consistency+in+riak%5C%2Fluwak%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg05473.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg05552.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAD=Jkf8-rn6KPx-mTqzX21Lb28Ypjz8vFmj8Ky09suW6onW33g@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
