<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: cannot connect to DB</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="thrd5.html#15474" id="c">
<link rel="index" href="mail5.html#15474" id="i">
<link rel="prev" href="msg15472.html" id="p">
<link rel="next" href="msg15475.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg15474.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+cannot+connect+to+DB%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: cannot connect to DB</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Charlie+Voiselle%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Charlie Voiselle</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20150112" rel="nofollow">Mon, 12 Jan 2015 06:25:26 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Since you changed the node name on a running node, you will not be able to stop 
it.  Two choices here. Reset the nodename in `/etc/riak/vm.args` back to 
`riak@127.0.0.1 &lt;<a  rel="nofollow" href="mailto:riak@127.0.0.1">mailto:riak@127.0.0.1</a>&gt;` long enough to run the `riak stop` 
command, or just `kill -9 beam.smp` which will forcibly shutdown the riak 
process.</pre><pre>

Once you have the node stopped, you will need to delete the contents of the 
`/var/lib/riak/ring` folder otherwise the node will not start up.  This only 
needs to be done once if the node has been renamed.  Once your cluster has been 
created properly, you will not want to delete the ring file without specific 
guidance to do so.  Verify that the node name is back to `riak@192.168.1.55 
&lt;<a  rel="nofollow" href="mailto:riak@192.168.1.55">mailto:riak@192.168.1.55</a>&gt;` in `/etc/riak/vm.args` and that all of the IPs in 
`/etc/riak/app.config` are set appropriately before restarting Riak

Once you have verified this, you should be able to start Riak and connect to it 
from other nodes.  As Siculars, pointed out, there is fairly comprehensive 
documentation of the config files, their locations, and all of the settings at 
the Riak Documentation website. Make sure you use the version selector to view 
the documentation for the version that you have installed

Cheers,
Charlie Voiselle
Basho Client Services




&gt; On Jan 12, 2015, at 8:58 AM, Ildar Alishev &lt;ildaralis...@gmail.com&gt; wrote:
&gt; 
&gt; i have changed nodename and now it says 
&gt; 
&gt; root@salo:~# riak stop
&gt; Node 'riak@192.168.1.55 &lt;<a  rel="nofollow" href="mailto:riak@192.168.1.55">mailto:riak@192.168.1.55</a>&gt;' not responding to pings.
&gt; Node is not running!
&gt; root@salo:~# 
&gt; 
&gt; 
&gt; 
&gt;&gt; 12 янв. 2015 г., в 16:53, Ciprian Manea &lt;cipr...@basho.com 
&gt;&gt; &lt;<a  rel="nofollow" href="mailto:cipr...@basho.com">mailto:cipr...@basho.com</a>&gt;&gt; написал(а):
&gt;&gt; 
&gt;&gt; Hi Ildar,
&gt;&gt; 
&gt;&gt; Please have a look at the configuration files: /etc/riak/app.config and 
&gt;&gt; /etc/riak/vm.config
&gt;&gt; 
&gt;&gt; By default Riak binds to localhost, but you can change that using the 
&gt;&gt; following snippet:
&gt;&gt; 
&gt;&gt; export riakIP=$(ifconfig eth0 | grep 'inet addr' | cut -d: -f2 | cut -d' ' 
&gt;&gt; -f1)
&gt;&gt; 
&gt;&gt; sudo sed -i &quot;s/127.0.0.1/$riakIP/ &lt;<a  rel="nofollow" href="http://127.0.0.1/$riakIP/">http://127.0.0.1/$riakIP/</a>&gt;&quot; 
&gt;&gt; /etc/riak/app.config /etc/riak/vm.args
&gt;&gt; 
&gt;&gt; 
&gt;&gt; Regards,
&gt;&gt; Ciprian
&gt;&gt; 
&gt;&gt; On Mon, Jan 12, 2015 at 3:51 PM, Ildar Alishev &lt;ildaralis...@gmail.com 
&gt;&gt; &lt;<a  rel="nofollow" href="mailto:ildaralis...@gmail.com">mailto:ildaralis...@gmail.com</a>&gt;&gt; wrote:
&gt;&gt; Also maybe someone can help me, i have installed riak using apt-get install 
&gt;&gt; riak, i don’t understand where did it installed? How i can create node there?
&gt;&gt; 
&gt;&gt; 
&gt;&gt; Thank you!
&gt;&gt; &gt; 12 янв. 2015 г., в 16:37, Alexander Sicular &lt;sicul...@gmail.com 
&gt;&gt; &gt; &lt;<a  rel="nofollow" href="mailto:sicul...@gmail.com">mailto:sicul...@gmail.com</a>&gt;&gt; написал(а):
&gt;&gt; &gt;
&gt;&gt; &gt; Hi Ildar,
&gt;&gt; &gt;
&gt;&gt; &gt; Please take a look at the docs, 
&gt;&gt; &gt; <a  rel="nofollow" href="http://docs.basho.com/riak/latest/ops/building/basic-cluster-setup/">http://docs.basho.com/riak/latest/ops/building/basic-cluster-setup/</a> 
&gt;&gt; &gt; &lt;<a  rel="nofollow" href="http://docs.basho.com/riak/latest/ops/building/basic-cluster-setup/">http://docs.basho.com/riak/latest/ops/building/basic-cluster-setup/</a>&gt; , 
&gt;&gt; &gt; you need to set up your IP address most likely.
&gt;&gt; &gt;
&gt;&gt; &gt; -Alexander
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; @siculars
&gt;&gt; &gt; <a  rel="nofollow" href="http://siculars.posthaven.com">http://siculars.posthaven.com</a> &lt;<a  rel="nofollow" href="http://siculars.posthaven.com/">http://siculars.posthaven.com/</a>&gt;
&gt;&gt; &gt;
&gt;&gt; &gt; Sent from my iRotaryPhone
&gt;&gt; &gt;
&gt;&gt; &gt;&gt; On Jan 12, 2015, at 06:56, Ildar Alishev &lt;ildaralis...@gmail.com 
&gt;&gt; &gt;&gt; &lt;<a  rel="nofollow" href="mailto:ildaralis...@gmail.com">mailto:ildaralis...@gmail.com</a>&gt;&gt; wrote:
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; Hello. Have started RIAK in UBUNTU64 14.04, trying to connect from 
&gt;&gt; &gt;&gt; another computer inside local network, but cannot connect. Maybe i should 
&gt;&gt; &gt;&gt; set up ipadress somewhere?
&gt;&gt; &gt;&gt; _______________________________________________
&gt;&gt; &gt;&gt; riak-users mailing list
&gt;&gt; &gt;&gt; riak-users@lists.basho.com &lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt;
&gt;&gt; &gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a> 
&gt;&gt; &gt;&gt; &lt;<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>&gt;
&gt;&gt; 
&gt;&gt; 
&gt;&gt; _______________________________________________
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com &lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt;
&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a> 
&gt;&gt; &lt;<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>&gt;
&gt;&gt; 
&gt; 
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>

</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg15472.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="thrd5.html#15474">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="mail5.html#15474">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg15475.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg15469.html">cannot connect to DB</a></span> <span class="sender italic">Ildar Alishev</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15470.html">Re: cannot connect to DB</a></span> <span class="sender italic">Alexander Sicular</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15473.html">Re: cannot connect to DB</a></span> <span class="sender italic">Ildar Alishev</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15471.html">Re: cannot connect to DB</a></span> <span class="sender italic">Ciprian Manea</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15472.html">Re: cannot connect to DB</a></span> <span class="sender italic">Ildar Alishev</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: cannot connect to DB</span> <span class="sender italic">Charlie Voiselle</span></li>
</ul></li>
</ul></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg15475.html">Re: cannot connect to DB</a></span> <span class="sender italic">Alexander Sicular</span></li>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: cannot connect to DB">
<input type="hidden" name="msgid" value="D431B49E-09D8-46B8-A060-C89E46C75BD0@basho.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg15474.html">
<input type="submit" value=" Charlie Voiselle ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+cannot+connect+to+DB%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg15472.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg15475.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">D431B49E-09D8-46B8-A060-C89E46C75BD0@basho.com</li>
</ul>
</div>
</body>
</html>
