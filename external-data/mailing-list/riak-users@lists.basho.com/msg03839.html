<!DOCTYPE html>
<html lang="en">
<head>
<title>Inconsistent results from Riak Search</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#03839" id="c">
<link rel="index" href="maillist.html#03839" id="i">
<link rel="prev" href="msg03838.html" id="p">
<link rel="next" href="msg03840.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg03839.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Inconsistent+results+from+Riak+Search%22&amp;o=newest" rel="nofollow"><span itemprop="name">Inconsistent results from Riak Search</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22James+Linder%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">James Linder</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20110627" rel="nofollow">Mon, 27 Jun 2011 15:44:35 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi,

I am getting inconsistent results using the Riak Search Solr
interface. Specifically, the number of results and ordering of results
is changing from one query to the next.</pre><pre>

The query that I am running is the following:

curl 
<a  rel="nofollow" href="http://localhost:8098/solr/locations/select?q=zip:\">http://localhost:8098/solr/locations/select?q=zip:\</a>(94108+OR+10003+OR+1002+OR+2OR+94501+OR+10016+OR+94704+OR+10012+OR+10001+OR+94117+OR+92706+OR+94109+OR+94104+OR+93711+OR+94133+OR+93726+OR+94111+OR+10011+OR+94105+OR+94116+OR+92845+OR+93710\)
| head -n 20

Here is an example of the results that I get:

&lt;response&gt;
&lt;lst name=&quot;responseHeader&quot;&gt;
&lt;int name=&quot;status&quot;&gt;0&lt;/int&gt;
&lt;int name=&quot;QTime&quot;&gt;43&lt;/int&gt;
&lt;lst name=&quot;params&quot;&gt;
&lt;str name=&quot;indent&quot;&gt;on&lt;/str&gt;
&lt;str name=&quot;start&quot;&gt;0&lt;/str&gt;
&lt;str name=&quot;q&quot;&gt;zip:(94108 OR 10003 OR 1002 OR 2OR 94501 OR 10016 OR
94704 OR 10012 OR 10001 OR 94117 OR 92706 OR 94109 OR 94104 OR 93711
OR 94133 OR 93726 OR 94111 OR 10011 OR 94105 OR 94116 OR 92845 OR
93710)&lt;/str&gt;
&lt;str name=&quot;q.op&quot;&gt;or&lt;/str&gt;
&lt;str name=&quot;df&quot;&gt;value&lt;/str&gt;
&lt;str name=&quot;wt&quot;&gt;standard&lt;/str&gt;
&lt;str name=&quot;version&quot;&gt;1.1&lt;/str&gt;
&lt;str name=&quot;rows&quot;&gt;168&lt;/str&gt;
&lt;/lst&gt;
&lt;/lst&gt;
&lt;result name=&quot;response&quot; numFound=&quot;168&quot; start=&quot;0&quot; maxScore=&quot;4.09607e-2&quot;&gt;
&lt;doc&gt;
&lt;str name=&quot;id&quot;&gt;Gold's Gym
&lt;/str&gt;


&lt;response&gt;
&lt;lst name=&quot;responseHeader&quot;&gt;
&lt;int name=&quot;status&quot;&gt;0&lt;/int&gt;
&lt;int name=&quot;QTime&quot;&gt;27&lt;/int&gt;
&lt;lst name=&quot;params&quot;&gt;
&lt;str name=&quot;indent&quot;&gt;on&lt;/str&gt;
&lt;str name=&quot;start&quot;&gt;0&lt;/str&gt;
&lt;str name=&quot;q&quot;&gt;zip:(94108 OR 10003 OR 1002 OR 2OR 94501 OR 10016 OR
94704 OR 10012 OR 10001 OR 94117 OR 92706 OR 94109 OR 94104 OR 93711
OR 94133 OR 93726 OR 94111 OR 10011 OR 94105 OR 94116 OR 92845 OR
93710)&lt;/str&gt;
&lt;str name=&quot;q.op&quot;&gt;or&lt;/str&gt;
&lt;str name=&quot;df&quot;&gt;value&lt;/str&gt;
&lt;str name=&quot;wt&quot;&gt;standard&lt;/str&gt;
&lt;str name=&quot;version&quot;&gt;1.1&lt;/str&gt;
&lt;str name=&quot;rows&quot;&gt;164&lt;/str&gt;
&lt;/lst&gt;
&lt;/lst&gt;
&lt;result name=&quot;response&quot; numFound=&quot;164&quot; start=&quot;0&quot; maxScore=&quot;4.09607e-2&quot;&gt;
&lt;doc&gt;
&lt;str name=&quot;id&quot;&gt;Super Cuts
&lt;/str&gt;


Details on our environment:

- We are running riak-search-0.14.0-1.el5 installed via the Basho provided RPM
- We have a cluster of three nodes with a couple gigs of data
- We have been seeing this both from the individual nodes in the
cluster and via riak-php-client


Does anyone have insight into what is causing this issue to happen?


Thanks!

James Linder

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg03838.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#03839">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#03839">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg03840.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email tSliceCur"><span class="subject">Inconsistent results from Riak Search</span> <span class="sender italic">James Linder</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03840.html">Re: Inconsistent results from Riak Search</a></span> <span class="sender italic">James Linder</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03843.html">Re: Inconsistent results from Riak Search</a></span> <span class="sender italic">Mike Oxford</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03844.html">Re: Inconsistent results from Riak Search</a></span> <span class="sender italic">Mike Oxford</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03846.html">Riak or Cassandra for this...</a></span> <span class="sender italic">Evans, Matthew</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03853.html">Re: Riak or Cassandra for this...</a></span> <span class="sender italic">David Smith</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03864.html">RE: Riak or Cassandra for this...</a></span> <span class="sender italic">Evans, Matthew</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03865.html">Re: Riak or Cassandra for thi...</a></span> <span class="sender italic">Dave Gardner</span></li>
</ul></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg03858.html">Re: Riak or Cassandra for this...</a></span> <span class="sender italic">Andrew Berman</span></li>
<li class="icons-email"><span class="subject"><a href="msg03862.html">Re: Riak or Cassandra for this...</a></span> <span class="sender italic">Nico Meyer</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03863.html">RE: Riak or Cassandra for this...</a></span> <span class="sender italic">Evans, Matthew</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Inconsistent results from Riak Search">
<input type="hidden" name="msgid" value="BANLkTimuTdJQkQh9C8nHO90eAis1aekbKA@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg03839.html">
<input type="submit" value=" James Linder ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Inconsistent+results+from+Riak+Search%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg03838.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg03840.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">BANLkTimuTdJQkQh9C8nHO90eAis1aekbKA@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
