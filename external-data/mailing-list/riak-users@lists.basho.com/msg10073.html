<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Implicit calls to ListKeys?</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#10073" id="c">
<link rel="index" href="maillist.html#10073" id="i">
<link rel="prev" href="msg10072.html" id="p">
<link rel="next" href="msg10074.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg10073.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Implicit+calls+to+ListKeys%5C%3F%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Implicit calls to ListKeys?</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22OJ+Reeves%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">OJ Reeves</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20130210" rel="nofollow">Sun, 10 Feb 2013 02:07:10 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>&gt; There must be another.
&gt;

If you look at the code you'll see the ListKeys and StreamingListKeys are
the only two functions that make the call to write this debug output.
DeleteBucket has to list keys to know what to delete, so it calls ListKeys
first.</pre><pre>

If you can provide a code sample that generates this output twice where
there is only one visible call I would be happy to fix the problem.

OJ




&gt; I am only calling ListKeys and DeleteBucket. Each once, so I expect to see
&gt; this warning twice. Which I do most of the time. But occasionally I see
&gt; this warning 2 or 3 more times.  Is it possible that there is some kind of
&gt; recursion going on that triggers this call?****
&gt;
&gt; ** **
&gt;
&gt; *From:* Alexander Moore [<a  rel="nofollow" href="mailto:moore.a...@gmail.com">mailto:moore.a...@gmail.com</a>]
&gt; *Sent:* Saturday, February 09, 2013 10:41 PM
&gt; *To:* Kevin Burton
&gt; *Cc:* riak-users@lists.basho.com
&gt; *Subject:* Re: Implicit calls to ListKeys?****
&gt;
&gt; ** **
&gt;
&gt; Hey Kevin,****
&gt;
&gt; ** **
&gt;
&gt; It looks like only RiakClient.ListKeys(), RiakClient.ListKeysStream(), and
&gt; RiakClient.DeleteBucket() will give you that warning.
&gt; You shouldn't see it popup from anywhere else in CorrugatedIron. ****
&gt;
&gt;
&gt; Thanks,****
&gt;
&gt; Alex****
&gt;
&gt; ** **
&gt;
&gt; ** **
&gt;
&gt; On Sat, Feb 9, 2013 at 11:19 PM, Kevin Burton &lt;rkevinbur...@charter.net&gt;
&gt; wrote:****
&gt;
&gt; One more question I have some code that specifically lists the keys in a
&gt; bucket. I am using Corrugated Iron so I get the warning:****
&gt;
&gt;  ****
&gt;
&gt; *** [CI] -&gt; ListKeys is an expensive operation and should not be used in
&gt; Production scenarios. *******
&gt;
&gt;  ****
&gt;
&gt; Then because again this is a test/development environment I am explicitly
&gt; removing the bucket. I get this same warning again and from what I
&gt; understand this is to be expected.****
&gt;
&gt; So I run this code with different data sets and every once and a while I
&gt; get two or three of these warnings again. Other than ListKeys and
&gt; DeleteBucket what other calls in CorrugatedIron implicitly call ListKeys
&gt; and would trigger generating this warning again?****
&gt;
&gt;  ****
&gt;
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com****">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com****</a>
&gt;
&gt; ** **
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
&gt;


-- 

OJ Reeves
+61 431 952 586
<a  rel="nofollow" href="http://buffered.io/">http://buffered.io/</a>
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg10072.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#10073">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#10073">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg10074.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg10065.html">Implicit calls to ListKeys?</a></span> <span class="sender italic">Kevin Burton</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10066.html">Re: Implicit calls to ListKeys?</a></span> <span class="sender italic">Alexander Moore</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10067.html">RE: Implicit calls to ListKeys?</a></span> <span class="sender italic">Kevin Burton</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10068.html">Re: Implicit calls to ListKeys?</a></span> <span class="sender italic">Jeremiah Peschka</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10069.html">RE: Implicit calls to ListKeys?</a></span> <span class="sender italic">Kevin Burton</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10070.html">Re: Implicit calls to ListKeys?</a></span> <span class="sender italic">Jeremiah Peschka</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10071.html">RE: Implicit calls to ListKeys?</a></span> <span class="sender italic">Kevin Burton</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10072.html">Re: Implicit calls to ListK...</a></span> <span class="sender italic">OJ Reeves</span></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li class="icons-email tSliceCur"><span class="subject">Re: Implicit calls to ListKeys?</span> <span class="sender italic">OJ Reeves</span></li>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Implicit calls to ListKeys?">
<input type="hidden" name="msgid" value="CAG63A8u-t-+pmnn_z0yNZ56RjhOp+O4n+Yu50H-30yTwa1LK8A@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg10073.html">
<input type="submit" value=" OJ Reeves ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Implicit+calls+to+ListKeys%5C%3F%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg10072.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg10074.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAG63A8u-t-+pmnn_z0yNZ56RjhOp+O4n+Yu50H-30yTwa1LK8A@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
