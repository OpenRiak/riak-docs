<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: replica is synchronized or asynchronized?</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#01794" id="c">
<link rel="index" href="maillist.html#01794" id="i">
<link rel="prev" href="msg01793.html" id="p">
<link rel="next" href="msg01796.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg01794.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+replica+is+synchronized+or+asynchronized%5C%3F%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: replica is synchronized or asynchronized?</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Jeremiah+Peschka%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Jeremiah Peschka</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20101215" rel="nofollow">Wed, 15 Dec 2010 04:16:11 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>On Wed, Dec 15, 2010 at 6:33 AM, Daniel Woo &lt;daniel.y....@gmail.com&gt; wrote:</pre><pre>

&gt; hi guys, want to ask you guys a question, when we write a datarum to a
&gt; cluster with N=3, does Riak write the 3 nodes synchronized and verify the
&gt; result &gt;= W? or just write to a single node then gossip the change to the
&gt; other two nodes asynchronuously? I guess it's synchronized because i don't
&gt; understand how we can verify write is successful (&gt;=W) if it's async, right?
&gt;

R and W are guaranteed reads and writes with a response from the node in the
cluster. There's some info in the wiki, but it took me a second to find it:
<a  rel="nofollow" href="http://wiki.basho.com/display/RIAK/Tunable+CAP+Controls+in+Riak#TunableCAPControlsinRiak-WValueandWriteFaultTolerance">http://wiki.basho.com/display/RIAK/Tunable+CAP+Controls+in+Riak#TunableCAPControlsinRiak-WValueandWriteFaultTolerance</a>

If your W is less than N, you've still told Riak that you want N copies of
the data, but you only care that W nodes responded that the write was
successful. Hopefully that data will get to the other nodes in time, but if
it doesn't then there are mechanisms in place to make sure that it does.
Check out the Replication &lt;<a  rel="nofollow" href="http://wiki.basho.com/display/RIAK/Replication">http://wiki.basho.com/display/RIAK/Replication</a>&gt; page
as well as the Hinted
Handoff&lt;<a  rel="nofollow" href="http://wiki.basho.com/display/RIAK/Riak+Glossary#RiakGlossary-HintedHandoff">http://wiki.basho.com/display/RIAK/Riak+Glossary#RiakGlossary-HintedHandoff</a>&gt;
for
more info.

The client connects to Riak and issues a write request. Riak then issues
write requests to N nodes and waits for W of them to respond before it tells
the client that the write succeeded.

Jeremiah
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg01793.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#01794">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#01794">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg01796.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg01793.html">replica is synchronized or asynchronized?</a></span> <span class="sender italic">Daniel Woo</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: replica is synchronized or asynchronized?</span> <span class="sender italic">Jeremiah Peschka</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: replica is synchronized or asynchronized?">
<input type="hidden" name="msgid" value="AANLkTinx2YY=paa-cGo8WNCxkHAUPVH9e4kJDFE9T5=g@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg01794.html">
<input type="submit" value=" Jeremiah Peschka ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+replica+is+synchronized+or+asynchronized%5C%3F%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg01793.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg01796.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">AANLkTinx2YY=paa-cGo8WNCxkHAUPVH9e4kJDFE9T5=g@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
