<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Basic Setup Question - Mac OS X</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#08268" id="c">
<link rel="index" href="maillist.html#08268" id="i">
<link rel="prev" href="msg08267.html" id="p">
<link rel="next" href="msg08269.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg08268.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Basic+Setup+Question+%5C-+Mac+OS+X%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Basic Setup Question - Mac OS X</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Alexander+Sicular%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Alexander Sicular</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20120811" rel="nofollow">Sat, 11 Aug 2012 11:40:20 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Not only do they all need unique names, like you've done already, but they will 
also need different ports. Look through the app.conf file and make all the 
ports unique between your local nodes (http/https/pb/etc.).</pre><pre>

-Alexander Sicular

@siculars

On Aug 11, 2012, at 5:00 AM, Michael Hergenrader wrote:

&gt; Hi everyone,
&gt; 
&gt; I'm new to Riak and am attempting to start up a 3-node cluster on one machine 
&gt; (Mac OS X Mountain Lion) for Riak via 
&gt; <a  rel="nofollow" href="http://wiki.basho.com/Basic-Cluster-Setup.html">http://wiki.basho.com/Basic-Cluster-Setup.html</a>
&gt; 
&gt; I downloaded and expanded the tarball for Riak 1.2 (no source to build, nice 
&gt; and clean expansion). I then was able to get a single node running no 
&gt; problem, with no special configuration. My Erlang version is R15B05, if 
&gt; you're curious, but I don't think this has anything to do with it, as 1.2 is 
&gt; fully supportive of this version.
&gt; 
&gt; I then recursively copied the directory riak-1.2.0 (the expanded tarball 
&gt; file) three times to create top level directories riak1, riak2, and riak3. I 
&gt; then proceeded to make the suggested changes from the link, changing the port 
&gt; numbers to be unique for each instance. However, when I changed the vm.args 
&gt; part (the name of the node from riak@127.0.0.1 to riak1@127.0.0.1 and the 
&gt; like) from the link, I received the following error in the error.log file:
&gt; 
&gt; 2012-08-09 01:21:04.288 [error] &lt;0.161.0&gt; gen_server riak_core_capability 
&gt; terminated with reason: no function clause matching 
&gt; orddict:fetch('riak1@127.0.0.1', 
&gt; [{'riak@127.0.0.1',[{{riak_core,staged_joins},[true,false]},{{riak_core,vnode_routing},[proxy,legacy]},...]}])
&gt;  line 72
&gt; 
&gt; When renaming the node in vm.args (the -name param) back to riak instead of 
&gt; riak[new_number], everything works fine. However, as specified in the link, 
&gt; the nodes need to have different names to cooperate with one another. As 
&gt; shown in the error log, it seems like there is a name mismatch with something 
&gt; else when I customize the name...? Is there some other config parameter that 
&gt; I haven't seen that must be changed? I tried &quot;raw_name&quot; in app.config, but 
&gt; this didn't make any difference. I appreciate any help I can get with this 
&gt; one. Thanks!
&gt; 
&gt; Michael
&gt; 
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>

</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg08267.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#08268">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#08268">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg08269.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg08267.html">Basic Setup Question - Mac OS X</a></span> <span class="sender italic">Michael Hergenrader</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Basic Setup Question - Mac OS X</span> <span class="sender italic">Alexander Sicular</span></li>
<li class="icons-email"><span class="subject"><a href="msg08269.html">Re: Basic Setup Question - Mac OS X</a></span> <span class="sender italic">Kelly McLaughlin</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Basic Setup Question - Mac OS X">
<input type="hidden" name="msgid" value="1DCC7438-B8DC-48E8-AECF-A55DD0BBD29D@gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg08268.html">
<input type="submit" value=" Alexander Sicular ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Basic+Setup+Question+%5C-+Mac+OS+X%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg08267.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg08269.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">1DCC7438-B8DC-48E8-AECF-A55DD0BBD29D@gmail.com</li>
</ul>
</div>
</body>
</html>
