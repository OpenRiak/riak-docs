<!DOCTYPE html>
<html lang="en">
<head>
<title>RE: [ANN] Riak 2.9.0 - Release Candidate 1 Available</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#18584" id="c">
<link rel="index" href="maillist.html#18584" id="i">
<link rel="prev" href="msg18583.html" id="p">
<link rel="next" href="msg18585.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg18584.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22RE%5C%3A+%5C%5BANN%5C%5D+Riak+2.9.0+%5C-+Release+Candidate+1+Available%22&amp;o=newest" rel="nofollow"><span itemprop="name">RE: [ANN] Riak 2.9.0 - Release Candidate 1 Available</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Nicholas+Adams%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Nicholas Adams</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20190201" rel="nofollow">Fri, 01 Feb 2019 05:51:05 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>If he has an extra node he can add then a replace would be much better. I 
provided this example under the assumption that he had no additional resources 
to play with.</pre><pre>

Nicholas

From: riak-users &lt;riak-users-boun...@lists.basho.com&gt; On Behalf Of Fred Dushin
Sent: 01 February 2019 22:47
To: riak-users@lists.basho.com
Subject: Re: [ANN] Riak 2.9.0 - Release Candidate 1 Available

Wouldn't it be better to do a `riak-admin replace`?  Leave could be problematic 
if there are other nodes in the cluster that are under-provisioned (disk space, 
for example).  Plus a leave and add would move the data around the cluster 
twice, for each node in the cluster, whereas a replace would just move the data 
to the new node once, no?

-Fred


On Feb 1, 2019, at 8:32 AM, Nicholas Adams 
&lt;nicholas.ad...@tiot.jp&lt;<a  rel="nofollow" href="mailto:nicholas.ad...@tiot.jp">mailto:nicholas.ad...@tiot.jp</a>&gt;&gt; wrote:

Hi Guido,
Although Martin would be the most qualified to comment on this, I believe you 
should be able to do a slow migration.


  1.  Choose target node.
  2.  Make target node leave cluster as in a full “riak-admin cluster leave”, 
commit and wait for transfers to finish.
  3.  Set up target node with leveled and TicTac AAE.
  4.  Have node rejoin cluster and wait for transfers to finish.
  5.  Repeat with every single node in the cluster until all have been done.

Unless you are using specific features restricted to your current backend then 
Riak will usually put up with multiple backends in the same cluster.

Failing that, I’d go with Bryan’s suggestion to use MDC to replicate from your 
existing cluster to a separate cluster that is using the leveled backend and 
TicTac AAE.

Either way, be sure to try in a dev environment first and only proceed when you 
are happy with the process.

Best regards,

Nicholas

From: riak-users 
&lt;riak-users-boun...@lists.basho.com&lt;<a  rel="nofollow" href="mailto:riak-users-boun...@lists.basho.com">mailto:riak-users-boun...@lists.basho.com</a>&gt;&gt; 
On Behalf Of Bryan Hunt
Sent: 01 February 2019 19:22
To: Guido Medina &lt;gmed...@temetra.com&lt;<a  rel="nofollow" href="mailto:gmed...@temetra.com">mailto:gmed...@temetra.com</a>&gt;&gt;
Cc: riak-users@lists.basho.com&lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt;
Subject: Re: [ANN] Riak 2.9.0 - Release Candidate 1 Available

Replication would be the optimum solution - in theory anything can be 
implemented - but it would be enormously painful in comparison to simply 
standing up a new cluster.



On 1 Feb 2019, at 10:14, Guido Medina 
&lt;gmed...@temetra.com&lt;<a  rel="nofollow" href="mailto:gmed...@temetra.com">mailto:gmed...@temetra.com</a>&gt;&gt; wrote:

Hi all,

Nice work on the upcoming 2.9.0 release, I have a quick question:
Will it be possible to switch from the eleveldb to the new leveled backend and 
Tictac AAE for an existing cluster?

In case it is not possible we are thinking to use the new replication and move 
to a brand new cluster.

Kind regards,
Guido.


On 30/01/2019 15:23, Nicholas Adams wrote:
Dear All,
Following on from Martin’s email, the initial builds of the KV 2.9.0rc1 
packages are complete. Currently we are limited to Redhat/CentOS 6 and 7 as 
well as Ubuntu Bionic. We shall be adding more packages over the next few days. 
Please see <a  rel="nofollow" href="https://files.tiot.jp/riak/kv/2.9/2.9.0rc1/">https://files.tiot.jp/riak/kv/2.9/2.9.0rc1/</a> to download.

Disclaimer: This is a release candidate. Please do not use in production as we 
expect bugs and abnormal functionality may occur in certain conditions. 
However, please test this lots and place any issues on github so that they can 
be fixed before the final release.

Best regards,

Nicholas

From: riak-users 
&lt;riak-users-boun...@lists.basho.com&gt;&lt;<a  rel="nofollow" href="mailto:riak-users-boun...@lists.basho.com">mailto:riak-users-boun...@lists.basho.com</a>&gt; 
On Behalf Of Martin Sumner
Sent: 30 January 2019 21:07
To: riak-users@lists.basho.com&lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt;
Subject: [ANN] Riak 2.9.0 - Release Candidate 1 Available

All,

There is now a publicly available release candidate for Riak 2.9.0 for users to 
test in their own environment.  The release candidate is available to build 
from source here - <a  rel="nofollow" href="https://github.com/basho/riak/tree/riak-2.9.0rc1">https://github.com/basho/riak/tree/riak-2.9.0rc1</a>

There is only one significant change to Riak 2.2.6 for users maintaining 
existing configuration settings.  The release adds the `vnode_soft_limits` 
feature that aims to reduce high percentile PUT latency, by checking the 
outstanding work queue for a vnode before selecting it as a coordinator of a 
PUT.

With additional configuration, there are two major features added in riak 2.9.0:

- Support for the leveled backend (as an alternative to bitcask or eleveldb), 
to provide for improved throughput in some use cases and lower tail latency in 
some use cases 
-<a  rel="nofollow" href="https://github.com/martinsumner/riak_testing_notes/blob/master/Release%202.9%20-%20Choosing%20a%20Backend.md">https://github.com/martinsumner/riak_testing_notes/blob/master/Release%202.9%20-%20Choosing%20a%20Backend.md</a>;
- Support for a new anti-entropy mechanism (Tictac AAE) as an alternative for 
the existing anti-entropy mechanism (to provide both intra-cluster and 
inter-cluster data repair, with greater flexibility and reliability).

The release also adds support for:
- The riak_core node_worker_pool - which provides a mechanism for queueing 
background jobs and queries to control the resource consumed on the node by 
different queries.  No pre-existing features will use the node-worker_pool.
- AAE folds which allow for both cluster-wide AAE queries (e.g. produce a 
merkle tree representing all or a partial range of the cluster data), and 
administrative queries (e.g. discovering object sizes and sibling counts within 
the database depending on bucket name, key range and last modified date).  AAE 
folds depend on the Tictac AAE feature being activated.
- An interface to request re-replication of an object (where variances between 
clusters have been discovered).

Further details of the release, and the release plan in general can be found 
here - 
<a  rel="nofollow" href="https://github.com/basho/riak/blob/develop-2.9/doc/Release%202.9%20Series%20-%20Overview.md">https://github.com/basho/riak/blob/develop-2.9/doc/Release%202.9%20Series%20-%20Overview.md</a>.

It is hoped that there will be a short period of about 1 month before the 
release candidate will be converted into a formal release.  The period will 
allow for more testing by Riak users, and also there will be further enhanced 
testing of the new modules with the help of Quviq (<a  rel="nofollow" href="http://www.quviq.com/">http://www.quviq.com/</a>).

There will follow additional releases under the 2.9 banner, targeted at 
enhancing both new and existing inter-cluster replication features.  In 
parallel to this, work will continue on Release 3.0 which is intended to 
modernise the OTP/rebar platform used by Riak.

Thanks to all those who contributed to the release.  Apologies to those who 
have been kept waiting over the past few months as finalising the changes and 
completing the testing has dragged on.

Regards

Martin







_______________________________________________

riak-users mailing list

riak-users@lists.basho.com&lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt;

<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com&lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt;
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com&lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt;
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>

</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg18583.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#18584">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#18584">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg18585.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg18578.html">[ANN] Riak 2.9.0 - Release Candidate 1 Available</a></span> <span class="sender italic">Martin Sumner</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg18579.html">RE: [ANN] Riak 2.9.0 - Release Candidate 1 Available</a></span> <span class="sender italic">Nicholas Adams</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg18580.html">Re: [ANN] Riak 2.9.0 - Release Candidate 1 Availab...</a></span> <span class="sender italic">Guido Medina</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg18581.html">Re: [ANN] Riak 2.9.0 - Release Candidate 1 Ava...</a></span> <span class="sender italic">Bryan Hunt</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg18582.html">RE: [ANN] Riak 2.9.0 - Release Candidate 1...</a></span> <span class="sender italic">Nicholas Adams</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg18583.html">Re: [ANN] Riak 2.9.0 - Release Candid...</a></span> <span class="sender italic">Fred Dushin</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">RE: [ANN] Riak 2.9.0 - Release Ca...</span> <span class="sender italic">Nicholas Adams</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg18585.html">Re: [ANN] Riak 2.9.0 - Releas...</a></span> <span class="sender italic">Fred Dushin</span></li>
<li class="icons-email"><span class="subject"><a href="msg18586.html">Re: [ANN] Riak 2.9.0 - Releas...</a></span> <span class="sender italic">Guido Medina</span></li>
<li class="icons-email"><span class="subject"><a href="msg18588.html">Re: [ANN] Riak 2.9.0 - Releas...</a></span> <span class="sender italic">Bryan Hunt</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="RE: [ANN] Riak 2.9.0 - Release Candidate 1 Available">
<input type="hidden" name="msgid" value="8a4b5129fda3473896c093847b114518@MBX04C-ORD1.mex06.mlsrvr.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg18584.html">
<input type="submit" value=" Nicholas Adams ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22RE%5C%3A+%5C%5BANN%5C%5D+Riak+2.9.0+%5C-+Release+Candidate+1+Available%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg18583.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg18585.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">8a4b5129fda3473896c093847b114518@MBX04C-ORD1.mex06.mlsrvr.com</li>
</ul>
</div>
</body>
</html>
