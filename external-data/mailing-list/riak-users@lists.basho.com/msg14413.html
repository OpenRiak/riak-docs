<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Riak for streaming video</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#14413" id="c">
<link rel="index" href="maillist.html#14413" id="i">
<link rel="prev" href="msg14412.html" id="p">
<link rel="next" href="msg14421.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg14413.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+for+streaming+video%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Riak for streaming video</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Alex+De+la+rosa%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Alex De la rosa</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20140630" rel="nofollow">Mon, 30 Jun 2014 00:12:28 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi Jared,

Thanks for your explanation and links... my next question is... Is
Stanchion not a single-point of failure? One of the things I like in
Standard Riak is that every node has the same level, there are no masters,
no slaves... if one fail it doesn't matter, the rest can do the job. If
Riak CS requires un especial node, what happens if that one fails? system
is down then? Can you configure the system with more than one Stanchion
node?</pre><pre>

Cheers,
Alex


On Mon, Jun 30, 2014 at 7:37 AM, Jared Morrow &lt;ja...@basho.com&gt; wrote:

&gt; Alex,
&gt;
&gt; That is correct.  There are some additional docs we have on load-balancing
&gt; and such on our docs page
&gt; <a  rel="nofollow" href="http://docs.basho.com/riakcs/latest/cookbooks/configuration/Load-Balancing-and-Proxy-Configuration/">http://docs.basho.com/riakcs/latest/cookbooks/configuration/Load-Balancing-and-Proxy-Configuration/</a>,
&gt; but generally it acts and feels like a Riak installation.  One additional
&gt; special node is required (Stanchion) and that is also described on our docs
&gt; page
&gt; <a  rel="nofollow" href="http://docs.basho.com/riakcs/latest/cookbooks/configuration/Configuring-Stanchion/">http://docs.basho.com/riakcs/latest/cookbooks/configuration/Configuring-Stanchion/</a>
&gt; .
&gt;
&gt; Keep the questions coming, if I don't know the details I'll hand off to
&gt; Engineers more knowledgable with RiakCS.
&gt;
&gt; -Jared
&gt;
&gt;
&gt;
&gt;
&gt; On Sun, Jun 29, 2014 at 5:58 AM, Alex De la rosa &lt;alex.rosa....@gmail.com&gt;
&gt; wrote:
&gt;
&gt;&gt; Hi there,
&gt;&gt;
&gt;&gt; One more question regarding Riak CS, does it behave like standard Riak?
&gt;&gt; storing 3 copies (default) and needing a minimum of 5 servers to operate?
&gt;&gt;
&gt;&gt; Cheers,
&gt;&gt; Alex
&gt;&gt;
&gt;&gt;
&gt;&gt; On Fri, Jun 27, 2014 at 2:43 AM, Jared Morrow &lt;ja...@basho.com&gt; wrote:
&gt;&gt;
&gt;&gt;&gt; Luwak is definitely EOL'd and RiakCS is our large object store going
&gt;&gt;&gt; forward.  It is a far superior design compared to Luwak and handles very
&gt;&gt;&gt; large file sizes.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Thursday, June 26, 2014, Jason Campbell &lt;xia...@xiaclo.net&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Riak CS is designed to be the same interface as Amazon S3.  It can be
&gt;&gt;&gt;&gt; run anywhere you can run Riak.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Think of it as a way to run your own S3.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I think the hard limit on Riak objects is 50MB, but the recommended
&gt;&gt;&gt;&gt; size is less than 1MB per object.  The main reason for that is latency.
&gt;&gt;&gt;&gt;  It's faster to get 100x1MB chunks from the entire cluster than it is to
&gt;&gt;&gt;&gt; get 1x100MB chunk from a single server.  It's also easier for disks to pull
&gt;&gt;&gt;&gt; a 1MB object without delaying any other requests than pulling a 100MB
&gt;&gt;&gt;&gt; object, which may end up queuing other requests made after.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; There used to be a project called luwak that was built into Riak and
&gt;&gt;&gt;&gt; handled chunking files like this, but it has been EOL'd.  Perhaps someone
&gt;&gt;&gt;&gt; can shed some light on this.  Is RiakCS the final solution for binary
&gt;&gt;&gt;&gt; storage?  Or is there another way to store larger objects in Riak?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; RiakCS is wonderful, but it does seem overkill for some uses where you
&gt;&gt;&gt;&gt; don't need to expose an S3 interface, don't need the S3 permission
&gt;&gt;&gt;&gt; structure, and really just want file storage.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; ----- Original Message -----
&gt;&gt;&gt;&gt; From: &quot;Alex De la rosa&quot; &lt;alex.rosa....@gmail.com&gt;
&gt;&gt;&gt;&gt; To: &quot;Hector Castro&quot; &lt;hec...@basho.com&gt;
&gt;&gt;&gt;&gt; Cc: &quot;riak-users&quot; &lt;riak-users@lists.basho.com&gt;
&gt;&gt;&gt;&gt; Sent: Friday, 27 June, 2014 6:55:13 AM
&gt;&gt;&gt;&gt; Subject: Re: Riak for streaming video
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Hi Hector,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Thanks for your response :) highly appreciated. I have more questions
&gt;&gt;&gt;&gt; though.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Riak CS has to be implemented in Amazon S3? Or can I house it myself
&gt;&gt;&gt;&gt; with own managed servers?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; What is the limit for an object in Standard Riak? Large objects should
&gt;&gt;&gt;&gt; go to Riak CS, but what would be a limit for the Standard Riak? I may want
&gt;&gt;&gt;&gt; to save pictures, for example, in binary data... not a RAW version, but
&gt;&gt;&gt;&gt; like processed photo uploads from users... I think Standard Riak can hold
&gt;&gt;&gt;&gt; that with no problem, but it would be good to know the size limit for a
&gt;&gt;&gt;&gt; key's content.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;&gt; Alex
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On Thu, Jun 26, 2014 at 10:45 PM, Hector Castro &lt; hec...@basho.com &gt;
&gt;&gt;&gt;&gt; wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Hey Alex,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; My response are inline below.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; --
&gt;&gt;&gt;&gt; Hector
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On Thu, Jun 26, 2014 at 4:26 PM, Alex De la rosa
&gt;&gt;&gt;&gt; &lt; alex.rosa....@gmail.com &gt; wrote:
&gt;&gt;&gt;&gt; &gt; Hi Hector,
&gt;&gt;&gt;&gt; &gt;
&gt;&gt;&gt;&gt; &gt; I see, I always thought that Riak CS was the same as Riak just that
&gt;&gt;&gt;&gt; you run
&gt;&gt;&gt;&gt; &gt; it in Amazon S3... they are actually different...
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Correct, but it is important to note that Riak is still at the core of
&gt;&gt;&gt;&gt; Riak CS.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; &gt; So... if I have a social network and one of the features is that they
&gt;&gt;&gt;&gt; can
&gt;&gt;&gt;&gt; &gt; share video, I would use a normal Riak cluster for the webapp and
&gt;&gt;&gt;&gt; data and a
&gt;&gt;&gt;&gt; &gt; Riak CS cluster for the video storage/streaming... am I right?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; That seems like a reasonable conclusion.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Riak is fundamentally a distributed key/value store for low latency
&gt;&gt;&gt;&gt; access to smaller pieces of data. Riak CS is an S3/Swift
&gt;&gt;&gt;&gt; API-compatible object storage platform with a little higher request
&gt;&gt;&gt;&gt; latency, but also the added ability to house very large objects
&gt;&gt;&gt;&gt; (backups, raw images, video).
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; &gt; By the way, couldn't this &quot;range header&quot; be implemented in standard
&gt;&gt;&gt;&gt; Riak?
&gt;&gt;&gt;&gt; &gt; might be a good thing to have so you don't need 2 clusters for this
&gt;&gt;&gt;&gt; matter.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; It could some day. Right now, separating the clusters is best because
&gt;&gt;&gt;&gt; tuning a single cluster for both use cases would be difficult.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; &gt; Thanks,
&gt;&gt;&gt;&gt; &gt; Alex
&gt;&gt;&gt;&gt; &gt;
&gt;&gt;&gt;&gt; &gt;
&gt;&gt;&gt;&gt; &gt; On Thu, Jun 26, 2014 at 9:28 PM, Hector Castro &lt; hec...@basho.com &gt;
&gt;&gt;&gt;&gt; wrote:
&gt;&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt;&gt; &gt;&gt; Hi Alex,
&gt;&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt;&gt; &gt;&gt; For this type of problem, you may want to look into Riak CS. [0] It
&gt;&gt;&gt;&gt; is
&gt;&gt;&gt;&gt; &gt;&gt; an object storage platform built on top of Riak.
&gt;&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt;&gt; &gt;&gt; When you GET an object from Riak CS, you can specify a Range header
&gt;&gt;&gt;&gt; to
&gt;&gt;&gt;&gt; &gt;&gt; get the object by its byte offset. [1]
&gt;&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt;&gt; &gt;&gt; --
&gt;&gt;&gt;&gt; &gt;&gt; Hector
&gt;&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt;&gt; &gt;&gt; [0] <a  rel="nofollow" href="http://docs.basho.com/riakcs/latest/">http://docs.basho.com/riakcs/latest/</a>
&gt;&gt;&gt;&gt; &gt;&gt; [1]
&gt;&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt;&gt; <a  rel="nofollow" href="http://docs.basho.com/riakcs/latest/references/apis/storage/s3/RiakCS-GET-Object/#Examples">http://docs.basho.com/riakcs/latest/references/apis/storage/s3/RiakCS-GET-Object/#Examples</a>
&gt;&gt;&gt;&gt; &gt;&gt;
&gt;&gt;&gt;&gt; &gt;&gt; On Thu, Jun 26, 2014 at 3:22 PM, Alex De la rosa
&gt;&gt;&gt;&gt; &gt;&gt; &lt; alex.rosa....@gmail.com &gt; wrote:
&gt;&gt;&gt;&gt; &gt;&gt; &gt; Hi there,
&gt;&gt;&gt;&gt; &gt;&gt; &gt;
&gt;&gt;&gt;&gt; &gt;&gt; &gt; Imagine that I want to use Riak for a video service like Youtube
&gt;&gt;&gt;&gt; and I
&gt;&gt;&gt;&gt; &gt;&gt; &gt; save
&gt;&gt;&gt;&gt; &gt;&gt; &gt; the video file in Riak... is there a way to stream the contents of
&gt;&gt;&gt;&gt; 1
&gt;&gt;&gt;&gt; &gt;&gt; &gt; key? I
&gt;&gt;&gt;&gt; &gt;&gt; &gt; know we can stream keys... but what about its content?
&gt;&gt;&gt;&gt; &gt;&gt; &gt;
&gt;&gt;&gt;&gt; &gt;&gt; &gt; It would be pretty troublesome to have to wait for the full data
&gt;&gt;&gt;&gt; to be
&gt;&gt;&gt;&gt; &gt;&gt; &gt; downloaded $bucket-&gt;get('myvideo') to be able to serve it... as
&gt;&gt;&gt;&gt; they can
&gt;&gt;&gt;&gt; &gt;&gt; &gt; be
&gt;&gt;&gt;&gt; &gt;&gt; &gt; pretty big files.
&gt;&gt;&gt;&gt; &gt;&gt; &gt;
&gt;&gt;&gt;&gt; &gt;&gt; &gt; Is there any recommendation to store/get big files like videos? or
&gt;&gt;&gt;&gt; it
&gt;&gt;&gt;&gt; &gt;&gt; &gt; would
&gt;&gt;&gt;&gt; &gt;&gt; &gt; be better to use some other system than Riak for the job?
&gt;&gt;&gt;&gt; &gt;&gt; &gt;
&gt;&gt;&gt;&gt; &gt;&gt; &gt; Thanks,
&gt;&gt;&gt;&gt; &gt;&gt; &gt; Alex
&gt;&gt;&gt;&gt; &gt;&gt; &gt;
&gt;&gt;&gt;&gt; &gt;&gt; &gt; _______________________________________________
&gt;&gt;&gt;&gt; &gt;&gt; &gt; riak-users mailing list
&gt;&gt;&gt;&gt; &gt;&gt; &gt; riak-users@lists.basho.com
&gt;&gt;&gt;&gt; &gt;&gt; &gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;&gt;&gt;&gt; &gt;&gt; &gt;
&gt;&gt;&gt;&gt; &gt;
&gt;&gt;&gt;&gt; &gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; _______________________________________________
&gt;&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; _______________________________________________
&gt;&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg14412.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#14413">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#14413">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg14421.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg14384.html">Riak for streaming video</a></span> <span class="sender italic">Alex De la rosa</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14385.html">Re: Riak for streaming video</a></span> <span class="sender italic">Hector Castro</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14387.html">Re: Riak for streaming video</a></span> <span class="sender italic">Alex De la rosa</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14388.html">Re: Riak for streaming video</a></span> <span class="sender italic">Hector Castro</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14389.html">Re: Riak for streaming video</a></span> <span class="sender italic">Alex De la rosa</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14391.html">Re: Riak for streaming video</a></span> <span class="sender italic">Jason Campbell</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14392.html">Re: Riak for streaming video</a></span> <span class="sender italic">Jared Morrow</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14408.html">Re: Riak for streaming video</a></span> <span class="sender italic">Alex De la rosa</span></li>
<li class="icons-email"><span class="subject"><a href="msg14412.html">Re: Riak for streaming video</a></span> <span class="sender italic">Jared Morrow</span></li>
<li class="icons-email tSliceCur"><span class="subject">Re: Riak for streaming video</span> <span class="sender italic">Alex De la rosa</span></li>
<li class="icons-email"><span class="subject"><a href="msg14421.html">Re: Riak for streaming video</a></span> <span class="sender italic">Brian Akins</span></li>
<li class="icons-email"><span class="subject"><a href="msg14426.html">Re: Riak for streaming video</a></span> <span class="sender italic">Kota Uenishi</span></li>
<li class="icons-email"><span class="subject"><a href="msg14427.html">Re: Riak for streaming video</a></span> <span class="sender italic">Alex De la rosa</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Riak for streaming video">
<input type="hidden" name="msgid" value="CAPphDGoxZztRkJJiVgOOht3KZ_R7XnMiyh41PNqMeBxBZDTbbg@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg14413.html">
<input type="submit" value=" Alex De la rosa ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+for+streaming+video%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg14412.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg14421.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAPphDGoxZztRkJJiVgOOht3KZ_R7XnMiyh41PNqMeBxBZDTbbg@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
