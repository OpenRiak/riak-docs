<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: help designing schemas</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#08438" id="c">
<link rel="index" href="maillist.html#08438" id="i">
<link rel="prev" href="msg08437.html" id="p">
<link rel="next" href="#" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg08438.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+help+designing+schemas%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: help designing schemas</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Parnell+Springmeyer%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Parnell Springmeyer</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20120903" rel="nofollow">Mon, 03 Sep 2012 10:43:06 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>You *could* use Riak for all of that, but I personally find retrieving objects 
linked to other objects remarkably painful in Riak; even with secondary indexes 
Riak is still more suitable for fast growing data, and keeping the relational 
data in Postgres or MySQL.</pre><pre>

Example of my setup:

MySQL is used for the majority of our user data (user object, user's billing 
profile object, and many many other objects that reference the user object) and 
Riak is used for only 3 pieces of *fast growing* data - a results bucket for 
one of the products we offer, a page cache bucket, and a stats bucket. The 
MySQL db is only, maybe, 300MB with all of the fast growing data moved into 
Riak. Riak, on our 5 node cluster is responsible for about 30GB of data, and 
it's growing pretty fast (for a really small startup).

On Sep 3, 2012, at 12:29 PM, Dan Milon wrote:

&gt; Hello,
&gt; 
&gt; I am developing a web feed reader, with Riak as the database. While i have 
&gt; read a few examples about designing schemas in Riak, i have come up with an 
&gt; idea about this but i dont feel very confident.
&gt; 
&gt; Its quite simple, there are Users, Feeds, and Articles. User logs in, sees 
&gt; feeds he is subscribed to, chooses one, and watches articles of that feed. 
&gt; The further he scrolls down, more feeds are fetched.
&gt; 
&gt; The schema i came up with is the following
&gt; 
&gt; * User is a JSON object with his credentials, and a list of keys to feeds he 
&gt; is subscribed to.
&gt; 
&gt; * Feeds are JSON objects with the basic information about the feed, 30 Links 
&gt; to the most recent articles, and another Link to an object containing Links 
&gt; to the next 30, and so on.
&gt; 
&gt; * Articles are JSON objects with meta info about the feed and a Link to a raw 
&gt; object containing the actual content (ok, this might be embedded in the json 
&gt; object)
&gt; 
&gt; Do you think this is the right way to go? Can you think of other designs with 
&gt; pros/cons?
&gt; 
&gt; Thank you,
&gt; danmilon.
&gt; 
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>


_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg08437.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#08438">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#08438">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright buttondisabled" accesskey="n" href="#">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg08437.html">help designing schemas</a></span> <span class="sender italic">Dan Milon</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: help designing schemas</span> <span class="sender italic">Parnell Springmeyer</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: help designing schemas">
<input type="hidden" name="msgid" value="6DFE3EC4-EF3C-4FA2-B15D-309E12E0DB09@gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg08438.html">
<input type="submit" value=" Parnell Springmeyer ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+help+designing+schemas%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg08437.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="#" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">6DFE3EC4-EF3C-4FA2-B15D-309E12E0DB09@gmail.com</li>
</ul>
</div>
</body>
</html>
