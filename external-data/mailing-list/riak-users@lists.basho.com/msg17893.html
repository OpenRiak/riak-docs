<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: How many keys inside a bucket ?</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#17893" id="c">
<link rel="index" href="maillist.html#17893" id="i">
<link rel="prev" href="msg17892.html" id="p">
<link rel="next" href="msg17889.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg17893.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+How+many+keys+inside+a+bucket+%5C%3F%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: How many keys inside a bucket ?</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Alexander+Sicular%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Alexander Sicular</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20170127" rel="nofollow">Fri, 27 Jan 2017 00:19:52 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hello Alex,

As long as each bucket does not have its own properties but rather shares one 
or a handful of bucket types you should be fine and it wouldn't make a 
difference. </pre><pre>

One way to record data temporally, aka in a time series fashion, from a data 
model perspective is via a pattern called deterministic materialized keys. You 
basically record the sensor name (known id) and a base time at some granularity 
into the key name and push all data captured in that time frame into that key. 
This works well if you expect to record data at regular intervals. If, however, 
your data is sparse you'll need some additional model to know when you've 
recorded data. 

-Alexander 


@siculars
<a  rel="nofollow" href="http://siculars.posthaven.com">http://siculars.posthaven.com</a>

Sent from my iRotaryPhone

&gt; On Jan 27, 2017, at 14:32, Alex Feng &lt;sweden.f...@gmail.com&gt; wrote:
&gt; 
&gt; Hi Alexander,
&gt; 
&gt; Yes, I should consider the possibility of switching to Riak TS.
&gt; But I guess the question still valid, does it ?  Should I divide millions of 
&gt; keys to different buckets, does it make any difference in performance, 
&gt; memory, space ?
&gt; 
&gt; 
&gt; Br,
&gt; Alex
&gt; 
&gt; 2017-01-27 2:50 GMT+01:00 Alexander Sicular &lt;sicul...@basho.com&gt;:
&gt;&gt; Hi, you should consider using Riak TS for this use case.
&gt;&gt; 
&gt;&gt; -Alexander
&gt;&gt; 
&gt;&gt; 
&gt;&gt; @siculars
&gt;&gt; <a  rel="nofollow" href="http://siculars.posthaven.com">http://siculars.posthaven.com</a>
&gt;&gt; 
&gt;&gt; Sent from my iRotaryPhone
&gt;&gt; 
&gt;&gt; &gt; On Jan 27, 2017, at 01:54, Alex Feng &lt;sweden.f...@gmail.com&gt; wrote:
&gt;&gt; &gt;
&gt;&gt; &gt; Hi,
&gt;&gt; &gt;
&gt;&gt; &gt; I am wondering if there are some best practice or recommendation for how 
&gt;&gt; &gt; many keys inside a single bucket?
&gt;&gt; &gt;
&gt;&gt; &gt; Let's say I have some sensors reporting data every 5 seconds, I can put 
&gt;&gt; &gt; all these data under one single bucket, or I can dynamically generate a 
&gt;&gt; &gt; bucket every day.
&gt;&gt; &gt;
&gt;&gt; &gt; My question is,   is there any performance difference for &quot;insert&quot;, 
&gt;&gt; &gt; &quot;query&quot; etc. between them?  for example,  1 million records under one 
&gt;&gt; &gt; bucket and 10k records under 100 buckets ?
&gt;&gt; &gt;
&gt;&gt; &gt; Thank you.
&gt;&gt; &gt;
&gt;&gt; &gt; Br,
&gt;&gt; &gt; Alex
&gt;&gt; &gt; _______________________________________________
&gt;&gt; &gt; riak-users mailing list
&gt;&gt; &gt; riak-users@lists.basho.com
&gt;&gt; &gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt; 
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg17892.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#17893">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#17893">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg17889.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg17888.html">How many keys inside a bucket ?</a></span> <span class="sender italic">Alex Feng</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17891.html">Re: How many keys inside a bucket ?</a></span> <span class="sender italic">Alexander Sicular</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17892.html">Re: How many keys inside a bucket ?</a></span> <span class="sender italic">Alex Feng</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: How many keys inside a bucket ?</span> <span class="sender italic">Alexander Sicular</span></li>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: How many keys inside a bucket ?">
<input type="hidden" name="msgid" value="3D6B68E0-D785-4200-A2DC-4AD6C199C26B@basho.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg17893.html">
<input type="submit" value=" Alexander Sicular ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+How+many+keys+inside+a+bucket+%5C%3F%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg17892.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg17889.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">3D6B68E0-D785-4200-A2DC-4AD6C199C26B@basho.com</li>
</ul>
</div>
</body>
</html>
