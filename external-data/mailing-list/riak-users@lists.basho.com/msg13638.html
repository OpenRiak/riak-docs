<!DOCTYPE html>
<html lang="en">
<head>
<title>RE: Timeout starting Riak</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="thrd3.html#13638" id="c">
<link rel="index" href="mail3.html#13638" id="i">
<link rel="prev" href="msg13634.html" id="p">
<link rel="next" href="msg13636.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg13638.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22RE%5C%3A+Timeout+starting+Riak%22&amp;o=newest" rel="nofollow"><span itemprop="name">RE: Timeout starting Riak</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Sahil+Verma%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Sahil Verma</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20140211" rel="nofollow">Tue, 11 Feb 2014 11:44:29 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi Sean
</pre><pre>

I’m sure I do not have any Riak processes running. I’m not sure what an ‘Erlang 
node’ means though, do not know how to troubleshoot Erlang, what the name 
registry is etc etc


Is there anything else I can look at? Is there a way to look at the equivalent 
of a stacktrace of the processes during startup? What log file can give me more 
info?


I’m guessing this has to be something really simple, because as I mentioned 
previously – the same riak version startsup on another server just fine.


Thank you

From: Sean Cribbs [<a  rel="nofollow" href="mailto:s...@basho.com">mailto:s...@basho.com</a>]
Sent: Tuesday, February 11, 2014 7:36 AM
To: Sahil Verma
Cc: riak-users@lists.basho.com
Subject: Re: Timeout starting Riak

Hi Sahil,

Please check that you don't have another Riak or Erlang node running with the 
same name. The error right in the middle, &quot;{error,duplicate_name}&quot; indicates 
trying to register a node name that is already registered.


On Tue, Feb 11, 2014 at 4:55 AM, Sahil Verma 
&lt;sahil.ve...@ericsson.com&lt;<a  rel="nofollow" href="mailto:sahil.ve...@ericsson.com">mailto:sahil.ve...@ericsson.com</a>&gt;&gt; wrote:
Version: 1.4.7-1.el6

riak start times out after 15 seconds. I can get the same version of riak to 
start on another server, but not this one. I do make sure no riak processes are 
running before doing riak start, so there shouldn’t be a port number conflict.

Anything else I can look at for finding the root cause?

riak console output is:

config is OK
Exec: /usr/lib64/riak/erts-5.9.1/bin/erlexec -boot 
/usr/lib64/riak/releases/1.4.7/riak              -config /etc/riak/app.config   
          -pa /usr/lib64/riak/lib/basho-patches             -args_file 
/etc/riak/vm.args
-- console
Root: /usr/lib64/riak
{error_logger,{{2014,2,10},{19,43,19}},&quot;Protocol: ~p: register error: 
~p~n&quot;,[&quot;inet_tcp&quot;,{{badmatch,{error,duplicate_name}},[{inet_tcp_dist,listen,1,[{file,&quot;inet_tcp_dist.erl&quot;},{line,70}]},{net_kernel,start_protos,4,[{fil
e,&quot;net_kernel.erl&quot;},{line,1314}]},{net_kernel,start_protos,3,[{file,&quot;net_kernel.erl&quot;},{line,1307}]},{net_kernel,init_node,2,[{file,&quot;net_kernel.erl&quot;},{line,1197}]},{net_kernel,init,1,[{file,&quot;net_kernel.erl&quot;},{line,357}]},
{gen_server,init_it,6,[{file,&quot;gen_server.erl&quot;},{line,304}]},{proc_lib,init_p_do_apply,3,[{file,&quot;proc_lib.erl&quot;},{line,227}]}]}]}
{error_logger,{{2014,2,10},{19,43,19}},crash_report,[[{initial_call,{net_kernel,init,['Argument__1']}},{pid,&lt;0.21.0&gt;},{registered_name,[]},{error_info,{exit,{error,badarg},[{gen_server,init_it,6,[{file,&quot;gen_server.erl&quot;},
{line,320}]},{proc_lib,init_p_do_apply,3,[{file,&quot;proc_lib.erl&quot;},{line,227}]}]}},{ancestors,[net_sup,kernel_sup,&lt;0.10.0&gt;]},{messages,[]},{links,[#Port&lt;0.205&gt;,&lt;0.18.0&gt;]},{dictionary,[{longnames,true}]},{trap_exit,true},{st
atus,running},{heap_size,610},{stack_size,24},{reductions,508}],[]]}
{error_logger,{{2014,2,10},{19,43,19}},supervisor_report,[{supervisor,{local,net_sup}},{errorContext,start_error},{reason,{'EXIT',nodistribution}},{offender,[{pid,undefined},{name,net_kernel},{mfargs,{net_kernel,start_li
nk,[['riak@10.116.52.49&lt;<a  rel="nofollow" href="mailto:riak@10.116.52.49">mailto:riak@10.116.52.49</a>&gt;',longnames]]}},{restart_type,permanent},{shutdown,2000},{child_type,worker}]}]}
{error_logger,{{2014,2,10},{19,43,20}},supervisor_report,[{supervisor,{local,kernel_sup}},{errorContext,start_error},{reason,shutdown},{offender,[{pid,undefined},{name,net_sup},{mfargs,{erl_distribution,start_link,[]}},{
restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]}]}
{error_logger,{{2014,2,10},{19,43,20}},std_info,[{application,kernel},{exited,{shutdown,{kernel,start,[normal,[]]}}},{type,permanent}]}
{&quot;Kernel pid 
terminated&quot;,application_controller,&quot;{application_start_failure,kernel,{shutdown,{kernel,start,[normal,[]]}}}&quot;}

Crash dump was written to: /var/log/riak/erl_crash.dump
Kernel pid terminated (application_controller) 
({application_start_failure,kernel,{shutdown,{kernel,start,[normal,[]]}}})


Thanks

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com&lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt;
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>



--
Sean Cribbs &lt;s...@basho.com&lt;<a  rel="nofollow" href="mailto:s...@basho.com">mailto:s...@basho.com</a>&gt;&gt;
Software Engineer
Basho Technologies, Inc.
<a  rel="nofollow" href="http://basho.com/">http://basho.com/</a>
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg13634.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="thrd3.html#13638">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="mail3.html#13638">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg13636.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg13633.html">Timeout starting Riak</a></span> <span class="sender italic">Sahil Verma</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13634.html">Re: Timeout starting Riak</a></span> <span class="sender italic">Sean Cribbs</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">RE: Timeout starting Riak</span> <span class="sender italic">Sahil Verma</span></li>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="RE: Timeout starting Riak">
<input type="hidden" name="msgid" value="F36E52F83D01024C9875A75900ABB476494CA6@eusaamb109.ericsson.se">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg13638.html">
<input type="submit" value=" Sahil Verma ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22RE%5C%3A+Timeout+starting+Riak%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg13634.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg13636.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">F36E52F83D01024C9875A75900ABB476494CA6@eusaamb109.ericsson.se</li>
</ul>
</div>
</body>
</html>
