<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Question about counters</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#14439" id="c">
<link rel="index" href="maillist.html#14439" id="i">
<link rel="prev" href="msg14438.html" id="p">
<link rel="next" href="msg14440.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg14439.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Question+about+counters%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Question about counters</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Sean+Cribbs%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Sean Cribbs</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20140701" rel="nofollow">Tue, 01 Jul 2014 07:04:51 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Alex,

As I might have mentioned before, the Python client is in a bit of flux
right now as we try to complete support for the Riak 2.0 features. In order
to support Riak 2.0's security capabilities, we have had to pull in
pyOpenSSL as a dependency (which has its own dependencies as well), which
explains the error you got. From within your git checkout, run this:</pre><pre>

./setup.py install

That should ensure that all the proper dependencies are installed.


On Tue, Jul 1, 2014 at 8:52 AM, Alex De la rosa &lt;alex.rosa....@gmail.com&gt;
wrote:

&gt; Uhm... I'm new to Python so that sounds like Chinese to me... I will have
&gt; to look online how to do all that, see if I can fix it.
&gt;
&gt; Cheers,
&gt; Alex
&gt;
&gt;
&gt; On Tue, Jul 1, 2014 at 3:50 PM, Luke Bakken &lt;lbak...@basho.com&gt; wrote:
&gt;
&gt;&gt; Alex,
&gt;&gt;
&gt;&gt; I did a Google search on the following string:
&gt;&gt;
&gt;&gt; &quot;ImportError: No module named
&gt;&gt; cryptography.hazmat.bindings.openssl.binding&quot;
&gt;&gt;
&gt;&gt; Your python2-pyopenssl module may be out of date. I would recommend
&gt;&gt; first uninstalling the Python Riak client from your global Python
&gt;&gt; libraries. Then, use virtualenv to create a testing environment so you
&gt;&gt; can work through these issues. Once you have everything working via
&gt;&gt; your virtualenv-environment, update your global environment.
&gt;&gt;
&gt;&gt; --
&gt;&gt; Luke Bakken
&gt;&gt; CSE
&gt;&gt; lbak...@basho.com
&gt;&gt;
&gt;&gt;
&gt;&gt; On Tue, Jul 1, 2014 at 6:40 AM, Alex De la rosa &lt;alex.rosa....@gmail.com&gt;
&gt;&gt; wrote:
&gt;&gt; &gt;
&gt;&gt; &gt; Ok... now is worse... i removed my old Python client EGG and cloned the
&gt;&gt; GIT repository, and after install it, I get the following error:
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; Traceback (most recent call last):
&gt;&gt; &gt;   File &quot;test.py&quot;, line 13, in &lt;module&gt;
&gt;&gt; &gt;     import riak
&gt;&gt; &gt;   File &quot;build/bdist.linux-x86_64/egg/riak/__init__.py&quot;, line 59, in
&gt;&gt; &lt;module&gt;
&gt;&gt; &gt;   File &quot;build/bdist.linux-x86_64/egg/riak/client/__init__.py&quot;, line 29,
&gt;&gt; in &lt;module&gt;
&gt;&gt; &gt;   File &quot;build/bdist.linux-x86_64/egg/riak/client/operations.py&quot;, line
&gt;&gt; 19, in &lt;module&gt;
&gt;&gt; &gt;   File &quot;build/bdist.linux-x86_64/egg/riak/client/transport.py&quot;, line
&gt;&gt; 20, in &lt;module&gt;
&gt;&gt; &gt;   File &quot;build/bdist.linux-x86_64/egg/riak/transports/pbc/__init__.py&quot;,
&gt;&gt; line 25, in &lt;module&gt;
&gt;&gt; &gt;   File &quot;build/bdist.linux-x86_64/egg/riak/transports/pbc/transport.py&quot;,
&gt;&gt; line 27, in &lt;module&gt;
&gt;&gt; &gt;   File
&gt;&gt; &quot;build/bdist.linux-x86_64/egg/riak/transports/pbc/connection.py&quot;, line 22,
&gt;&gt; in &lt;module&gt;
&gt;&gt; &gt;   File &quot;build/bdist.linux-x86_64/egg/riak/security.py&quot;, line 19, in
&gt;&gt; &lt;module&gt;
&gt;&gt; &gt;   File &quot;build/bdist.linux-x86_64/egg/OpenSSL/__init__.py&quot;, line 8, in
&gt;&gt; &lt;module&gt;
&gt;&gt; &gt;   File &quot;build/bdist.linux-x86_64/egg/OpenSSL/rand.py&quot;, line 11, in
&gt;&gt; &lt;module&gt;
&gt;&gt; &gt;   File &quot;build/bdist.linux-x86_64/egg/OpenSSL/_util.py&quot;, line 3, in
&gt;&gt; &lt;module&gt;
&gt;&gt; &gt; ImportError: No module named
&gt;&gt; cryptography.hazmat.bindings.openssl.binding
&gt;&gt; &gt;
&gt;&gt; &gt; Cheers,
&gt;&gt; &gt; Alex
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; On Tue, Jul 1, 2014 at 3:32 PM, Alex De la rosa &lt;
&gt;&gt; alex.rosa....@gmail.com&gt; wrote:
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; I actually have the latest version available (2.0.3), I got it like
&gt;&gt; this:
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; easy_install
&gt;&gt; <a  rel="nofollow" href="https://pypi.python.org/packages/2.7/r/riak/riak-2.0.3-py2.7.egg">https://pypi.python.org/packages/2.7/r/riak/riak-2.0.3-py2.7.egg</a>
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; If I clone the GIT repository, may I have problems as I have the
&gt;&gt; easy_install package already? would it conflict somehow?
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; Cheers,
&gt;&gt; &gt;&gt; Alex
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; On Tue, Jul 1, 2014 at 3:23 PM, Luke Bakken &lt;lbak...@basho.com&gt; wrote:
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; Hi Alex,
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; Search in Riak 2.0 does require a JVM to be installed as you found.
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; create_search_index is part of the master branch of the Python client:
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; lbakken ~/Projects/basho/riak-python-client (master=)
&gt;&gt; &gt;&gt;&gt; $ git grep create_search_index
&gt;&gt; &gt;&gt;&gt; riak/client/operations.py:461:    def create_search_index(self,
&gt;&gt; transport, index, schema=None, n_val=None):
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; Could you make a clone of the git repository and use the code from
&gt;&gt; there?
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; <a  rel="nofollow" href="https://github.com/basho/riak-python-client">https://github.com/basho/riak-python-client</a>
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; --
&gt;&gt; &gt;&gt;&gt; Luke Bakken
&gt;&gt; &gt;&gt;&gt; CSE
&gt;&gt; &gt;&gt;&gt; lbak...@basho.com
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; On Tue, Jul 1, 2014 at 2:10 AM, Alex De la rosa &lt;
&gt;&gt; alex.rosa....@gmail.com&gt; wrote:
&gt;&gt; &gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt; I found out on
&gt;&gt; <a  rel="nofollow" href="http://docs.basho.com/riak/2.0.0beta1/dev/using/search">http://docs.basho.com/riak/2.0.0beta1/dev/using/search</a> that in Riak 2.0
&gt;&gt; additional steps are needed... i fixed my code as follows, but still
&gt;&gt; crashing:
&gt;&gt; &gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;
&gt;&gt; -----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----
&gt;&gt; &gt;&gt;&gt;&gt; import riak
&gt;&gt; &gt;&gt;&gt;&gt; client = riak.RiakClient(protocol='pbc',
&gt;&gt; nodes=[{'host':'127.0.0.1','http_port':8098,'pb_port':8087}])
&gt;&gt; &gt;&gt;&gt;&gt; client.create_search_index('men') # NEW: Creating a search index
&gt;&gt; &gt;&gt;&gt;&gt; bucket = client.bucket('accounts')
&gt;&gt; &gt;&gt;&gt;&gt; bucket.enable_search()
&gt;&gt; &gt;&gt;&gt;&gt; bucket.set_property('search_index', 'men') # NEW: Setting the search
&gt;&gt; index to the bucket
&gt;&gt; &gt;&gt;&gt;&gt; key = bucket.new('alex',
&gt;&gt; data={&quot;username&quot;:&quot;Alex&quot;,&quot;age&quot;:25,&quot;sex&quot;:&quot;male&quot;},
&gt;&gt; content_type='application/json')
&gt;&gt; &gt;&gt;&gt;&gt; key.store()
&gt;&gt; &gt;&gt;&gt;&gt; print bucket.search('sex=male')
&gt;&gt; &gt;&gt;&gt;&gt;
&gt;&gt; -----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----
&gt;&gt; &gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt; this time seems the Python client is not fully updated again and
&gt;&gt; missing functionality (like &quot;counters&quot;):
&gt;&gt; &gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;
&gt;&gt; -----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----
&gt;&gt; &gt;&gt;&gt;&gt; Traceback (most recent call last):
&gt;&gt; &gt;&gt;&gt;&gt;   File &quot;test.py&quot;, line 3, in &lt;module&gt;
&gt;&gt; &gt;&gt;&gt;&gt;     client.create_search_index('men')
&gt;&gt; &gt;&gt;&gt;&gt; AttributeError: 'RiakClient' object has no attribute
&gt;&gt; 'create_search_index'
&gt;&gt; &gt;&gt;&gt;&gt;
&gt;&gt; -----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----
&gt;&gt; &gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt; Is a problem of the Python client? Or there is something wrong on my
&gt;&gt; code? When will it be a Python client update solving all these issues? is a
&gt;&gt; bit frustrating wanting to try the features and see you can not do it
&gt;&gt; because the client is not fully operational.
&gt;&gt; &gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt; Cheers,
&gt;&gt; &gt;&gt;&gt;&gt; Alex
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;
&gt;&gt;
&gt;
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
&gt;


-- 
Sean Cribbs &lt;s...@basho.com&gt;
Software Engineer
Basho Technologies, Inc.
<a  rel="nofollow" href="http://basho.com/">http://basho.com/</a>
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg14438.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#14439">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#14439">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg14440.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg14414.html">Re: Question about counters</a></span> <span class="sender italic">Alex De la rosa</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14415.html">Re: Question about counters</a></span> <span class="sender italic">Christian Dahlqvist</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14416.html">Re: Question about counters</a></span> <span class="sender italic">Alex De la rosa</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14430.html">Re: Question about counters</a></span> <span class="sender italic">Alex De la rosa</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14431.html">Re: Question about counters</a></span> <span class="sender italic">Alex De la rosa</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14434.html">Re: Question about counters</a></span> <span class="sender italic">Luke Bakken</span></li>
<li class="icons-email"><span class="subject"><a href="msg14435.html">Re: Question about counters</a></span> <span class="sender italic">Alex De la rosa</span></li>
<li class="icons-email"><span class="subject"><a href="msg14436.html">Re: Question about counters</a></span> <span class="sender italic">Alex De la rosa</span></li>
<li class="icons-email"><span class="subject"><a href="msg14437.html">Re: Question about counters</a></span> <span class="sender italic">Luke Bakken</span></li>
<li class="icons-email"><span class="subject"><a href="msg14438.html">Re: Question about counters</a></span> <span class="sender italic">Alex De la rosa</span></li>
<li class="icons-email tSliceCur"><span class="subject">Re: Question about counters</span> <span class="sender italic">Sean Cribbs</span></li>
<li class="icons-email"><span class="subject"><a href="msg14440.html">Re: Question about counters</a></span> <span class="sender italic">Alex De la rosa</span></li>
<li class="icons-email"><span class="subject"><a href="msg14441.html">Re: Question about counters</a></span> <span class="sender italic">Sean Cribbs</span></li>
<li class="icons-email"><span class="subject"><a href="msg14442.html">Re: Question about counters</a></span> <span class="sender italic">Alex De la rosa</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Question about counters">
<input type="hidden" name="msgid" value="CAHsw=e2RJ69x79xzscNFkoYV55ZRPSyZLn8fp0s8U-VAsBQyOg@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg14439.html">
<input type="submit" value=" Sean Cribbs ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Question+about+counters%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg14438.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg14440.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAHsw=e2RJ69x79xzscNFkoYV55ZRPSyZLn8fp0s8U-VAsBQyOg@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
