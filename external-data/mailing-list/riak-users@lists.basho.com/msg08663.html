<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: HTTP or PB cluster client issue</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#08663" id="c">
<link rel="index" href="maillist.html#08663" id="i">
<link rel="prev" href="msg08626.html" id="p">
<link rel="next" href="msg08627.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg08663.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+HTTP+or+PB+cluster+client+issue%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: HTTP or PB cluster client issue</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Brian+Roach%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Brian Roach</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20120924" rel="nofollow">Mon, 24 Sep 2012 05:24:40 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Agreed.

Unfortunately there's a number of issues with the ClusterClient that
are not easily solved; what you've discovered is one of them. As Guido
notes, HAProxy is a far better solution at the moment.</pre><pre>

I'm looking at what I can do to address these issues but it's going to
take some fairly large scale changes.

Thanks,
Brian Roach

On Fri, Sep 21, 2012 at 9:43 AM, Guido Medina &lt;guido.med...@temetra.com&gt; wrote:
&gt; Hi,
&gt;
&gt;   It is the Java client which to be honest, doesn't handle well one node
&gt; going down, so, for example, in my company we use HA proxy for that, here is
&gt; a starting configuration: <a  rel="nofollow" href="https://gist.github.com/1507077">https://gist.github.com/1507077</a>
&gt;
&gt;   Once we switched to HA proxy we just use a simple client without cluster
&gt; config, so the Java client doesn't know anything about the load balancing
&gt; going on. It works well, I can upgrade and restart servers without our Java
&gt; application be complaining.
&gt;
&gt; Regards,
&gt;
&gt; Guido.
&gt;
&gt;
&gt; On 21/09/12 16:36, Lei Gu wrote:
&gt;&gt;
&gt;&gt; Hi Brian,
&gt;&gt; We are moving past the performance testing and onto failover testing.
&gt;&gt; I have a five-node cluster and created a PB and HTTP clustered client
&gt;&gt; based on the cook book. I tested out and everything seems to be working.
&gt;&gt; Then I shutdown one node in the cluster and all my tests failed. It seems
&gt;&gt; like the PB and HTTP cluster client connects to all configured nodes
&gt;&gt; initially and will throw an exception if any node is down. Does this defeat
&gt;&gt; the purpose of clustering? In my test, I have 10 threads, each creates a PB
&gt;&gt; and HTTP cluster client and then goes on to execute a series of tests. From
&gt;&gt; the attached log file, you can see every test thread is failing at
&gt;&gt; connection the down node, even though there are four other nodes that can do
&gt;&gt; the work.
&gt;&gt;
&gt;&gt; Also, is the failover automatic or we have to catch the connection refused
&gt;&gt; exception and creating a new client or just re-execute the method?
&gt;&gt;
&gt;&gt; Is using a load balancer a better way to handle failover/load balancing
&gt;&gt; issue?
&gt;&gt; Appreciate you insights and help.
&gt;&gt; Best regards,
&gt;&gt; -- Lei
&gt;&gt;
&gt;&gt;
&gt;&gt; pbf clients =
&gt;&gt; r1-riak-lei.lm4.eng.e-dialog.com,r2-riak-lei.lm4.eng.e-dialog.com,r3-riak-lei.lm4.eng.e-dialog.com,r4-riak-lei.lm4.eng.e-dialog.com,r5-riak-lei.lm4.eng.e-dialog.com
&gt;&gt;
&gt;&gt; http clients =
&gt;&gt; r1-riak-lei.lm4.eng.e-dialog.com,r2-riak-lei.lm4.eng.e-dialog.com,r3-riak-lei.lm4.eng.e-dialog.com,r4-riak-lei.lm4.eng.e-dialog.com,r5-riak-lei.lm4.eng.e-dialog.com
&gt;&gt;
&gt;&gt; Looup patterns = folder_root_2_5_%s_%s
&gt;&gt;
&gt;&gt; SLF4J: Class path contains multiple SLF4J bindings.
&gt;&gt;
&gt;&gt; SLF4J: Found binding in
&gt;&gt; [jar:file:/Users/legu/.m2/repository/ch/qos/logback/logback-classic/0.9.30/logback-classic-0.9.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]
&gt;&gt;
&gt;&gt; SLF4J: Found binding in
&gt;&gt; [jar:file:/Users/legu/opensource-projects/logback-0.9.30/logback-classic-0.9.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]
&gt;&gt;
&gt;&gt; SLF4J: Found binding in
&gt;&gt; [jar:file:/Users/legu/opensource-projects/apache-tomcat-6.0.35/lib/logback-classic-0.9.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]
&gt;&gt;
&gt;&gt; SLF4J: See <a  rel="nofollow" href="http://www.slf4j.org/codes.html#multiple_bindings">http://www.slf4j.org/codes.html#multiple_bindings</a> for an
&gt;&gt; explanation.
&gt;&gt;
&gt;&gt; Exception in thread &quot;Thread-11&quot; java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt; Exception in thread &quot;Thread-5&quot; java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt; Exception in thread &quot;Thread-9&quot; java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt; Exception in thread &quot;Thread-4&quot; java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt; Exception in thread &quot;Thread-2&quot; java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt; Exception in thread &quot;Thread-8&quot; java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt; Exception in thread &quot;Thread-10&quot; java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt; Exception in thread &quot;Thread-7&quot; java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt; Exception in thread &quot;Thread-3&quot; java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt; Exception in thread &quot;Thread-6&quot; java.lang.RuntimeException:
&gt;&gt; com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)
&gt;&gt;
&gt;&gt; at java.lang.Thread.run(Thread.java:680)
&gt;&gt;
&gt;&gt; Caused by: com.basho.riak.client.http.response.RiakIORuntimeException:
&gt;&gt; org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)
&gt;&gt;
&gt;&gt; at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)
&gt;&gt;
&gt;&gt; at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)
&gt;&gt;
&gt;&gt; ... 2 more
&gt;&gt;
&gt;&gt; Caused by: org.apache.http.conn.HttpHostConnectException: Connection to
&gt;&gt; <a  rel="nofollow" href="http://r4-riak-lei.lm4.eng.e-dialog.com:8098">http://r4-riak-lei.lm4.eng.e-dialog.com:8098</a> refused
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)
&gt;&gt;
&gt;&gt; at
&gt;&gt; com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)
&gt;&gt;
&gt;&gt; ... 10 more
&gt;&gt;
&gt;&gt; Caused by: java.net.ConnectException: Connection refused
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.socketConnect(Native Method)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)
&gt;&gt;
&gt;&gt; at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)
&gt;&gt;
&gt;&gt; at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)
&gt;&gt;
&gt;&gt; at java.net.Socket.connect(Socket.java:529)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)
&gt;&gt;
&gt;&gt; at
&gt;&gt; org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)
&gt;&gt;
&gt;&gt; ... 18 more
&gt;&gt;
&gt;&gt;
&gt;&gt; ________________________________
&gt;&gt; The information contained in this electronic mail transmission is intended
&gt;&gt; only for the use of the individual or entity named in this transmission. If
&gt;&gt; you are not the intended recipient of this transmission, you are hereby
&gt;&gt; notified that any disclosure, copying or distribution of the contents of
&gt;&gt; this transmission is strictly prohibited and that you should delete the
&gt;&gt; contents of this transmission from your system immediately. Any comments or
&gt;&gt; statements contained in this transmission do not necessarily reflect the
&gt;&gt; views or position of GSI Commerce, Inc. or its subsidiaries and/or
&gt;&gt; affiliates.
&gt;&gt;
&gt;&gt; _______________________________________________
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
&gt;
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg08626.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#08663">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#08663">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg08627.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg08625.html">HTTP or PB cluster client issue</a></span> <span class="sender italic">Lei Gu</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg08626.html">Re: HTTP or PB cluster client issue</a></span> <span class="sender italic">Guido Medina</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: HTTP or PB cluster client issue</span> <span class="sender italic">Brian Roach</span></li>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: HTTP or PB cluster client issue">
<input type="hidden" name="msgid" value="CAM+FMBsovnFv624RSzN80Tmisk1xR68N0AUY+t5JeLksG4u-ZQ@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg08663.html">
<input type="submit" value=" Brian Roach ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+HTTP+or+PB+cluster+client+issue%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg08626.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg08627.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAM+FMBsovnFv624RSzN80Tmisk1xR68N0AUY+t5JeLksG4u-ZQ@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
