<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Structure of Erlang MR Arg</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#10244" id="c">
<link rel="index" href="maillist.html#10244" id="i">
<link rel="prev" href="msg10242.html" id="p">
<link rel="next" href="msg10245.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg10244.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Structure+of+Erlang+MR+Arg%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Structure of Erlang MR Arg</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Bryan+Fink%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Bryan Fink</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20130226" rel="nofollow">Tue, 26 Feb 2013 06:17:35 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Doh … sorry this thread ended up lost in the stack. Response below…

On Feb 14, 2013, at 10:58 AM, Jeremiah Peschka &lt;jeremiah.pesc...@gmail.com&gt; 
wrote:
&gt; In the MapReduce Implementation docs [1], it looks like the Arg parameter of 
&gt; an Erlang MR phase is not a single argument but is, in fact, a proplist of 
&gt; Erlang terms, am I correct in assuming that this is the case?
&gt; 
&gt; And, if this is the case, would the JSON submitted to Riak look something 
&gt; like this:
&gt; 
&gt; {&quot;reduce&quot;:{&quot;language&quot;:&quot;erlang&quot;,
&gt;            &quot;module&quot;:&quot;riak_kv_mapreduce&quot;,
&gt;            &quot;function&quot;:&quot;reduce_count_inputs&quot;, 
&gt;            &quot;arg&quot;:{&quot;do_prereduce&quot;:true,
&gt;                   &quot;reduce_phase_batch_size&quot;: 250
&gt;                  }
&gt;            }
&gt; }</pre><pre>

Your read of the doc is mostly correct. The arg is whatever you want it to be. 
However, the MR interface has recently begun to inspect the arg itself to find 
tuning parameters. What it's looking for is exactly what you suggested: a JSON 
object with those fields in it. The idea is that the object could also contain 
other fields, allowing other data to be passed to the function, as usual. Some 
of the built-in functions in riak_kv_mapreduce.erl need to be updated to 
support an arg in this format; sorry for the mixed message.

HTH,
Bryan


_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg10242.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#10244">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#10244">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg10245.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email tSliceCur"><span class="subject">Re: Structure of Erlang MR Arg</span> <span class="sender italic">Bryan Fink</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10245.html">Re: Structure of Erlang MR Arg</a></span> <span class="sender italic">Bryan Fink</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10246.html">Re: Structure of Erlang MR Arg</a></span> <span class="sender italic">Jeremiah Peschka</span></li>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Structure of Erlang MR Arg">
<input type="hidden" name="msgid" value="64CA8E61-CA33-46B3-8201-C30E32E0D062@basho.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg10244.html">
<input type="submit" value=" Bryan Fink ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Structure+of+Erlang+MR+Arg%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg10242.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg10245.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">64CA8E61-CA33-46B3-8201-C30E32E0D062@basho.com</li>
</ul>
</div>
</body>
</html>
