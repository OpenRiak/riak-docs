<!DOCTYPE html>
<html lang="en">
<head>
<title>Wrapping my thinking around vector clocks</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#03113" id="c">
<link rel="index" href="maillist.html#03113" id="i">
<link rel="prev" href="msg03112.html" id="p">
<link rel="next" href="msg03122.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg03113.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Wrapping+my+thinking+around+vector+clocks%22&amp;o=newest" rel="nofollow"><span itemprop="name">Wrapping my thinking around vector clocks</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Jeffrey+Kesselman%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Jeffrey Kesselman</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20110421" rel="nofollow">Thu, 21 Apr 2011 11:50:01 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi Guys,

I've been studying Riak and am considering a major technology base
shift in a project I've been working on for more then  a decade (the
Project Darkstar/RedDwarf game server.)  As may coming to this from a
strict RDBMS background I am sure, I am trying to wrap my head around
vector clocks.</pre><pre>

I read the &quot;Why vector clocks are reasy&quot; blog and think i follow that.
 My question is this: what if I have multiple data changes to multipel
data structures that all have to remain in sync (be atomic)? Which
data strictures are  involved in any one change is not predictable.  I
can allow for eventual resolution of that consistent state, and even
change from one consistent state to another, but the state must always
be consistant.  This is easy to do in a traitional transaction btu im
having trouble with the VC equivalent.

As a gedanken experiment picture two players trying to buy a limited
commodity of which there is only 1 available.  In both cases they are
attempting to decrement their money, remove the object from the store
inventory, and add it to their own inventory. Only one can succeed as
these 3 actions must be atomic.  It is okay for both to initially
think they succeeded as long as next time we go to look at these
states they resolve themselves. (Assume a resolution mechanism, for
argument we can say earliest timestamp wins.)

This needs to be a general solution, knowledge of what the data
structures are or do *cannot* be part of the solution.  This means
that the item cant itself have an &quot;owner&quot; field which is part of the
disambiguating logic.  Disambiguating all structures (the 2 player
inventories, the store  inventory and the two players money values)
must be done without any semantic knowledge of what the data is for.

Is this possible?  Can someone lay out the solution based on the
simpel case above?

Thanks

JK


Note that I need a general solutioso any

-- 
It's always darkest just before you are eaten by a grue.

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg03112.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#03113">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#03113">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg03122.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email tSliceCur"><span class="subject">Wrapping my thinking around vector clocks</span> <span class="sender italic">Jeffrey Kesselman</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03122.html">Re: Wrapping my thinking around vector clocks</a></span> <span class="sender italic">Ben Tilly</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Wrapping my thinking around vector clocks">
<input type="hidden" name="msgid" value="BANLkTin_2uhLk3b_TteVG9BQW9Yyya9w9A@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg03113.html">
<input type="submit" value=" Jeffrey Kesselman ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Wrapping+my+thinking+around+vector+clocks%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg03112.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg03122.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">BANLkTin_2uhLk3b_TteVG9BQW9Yyya9w9A@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
