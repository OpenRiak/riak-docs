<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: two-node cluster for riak?</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#10938" id="c">
<link rel="index" href="mail2.html#10938" id="i">
<link rel="prev" href="msg10937.html" id="p">
<link rel="next" href="msg10940.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg10938.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+two%5C-node+cluster+for+riak%5C%3F%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: two-node cluster for riak?</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Justin+Sheehy%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Justin Sheehy</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20130418" rel="nofollow">Thu, 18 Apr 2013 08:34:51 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi, Michael.

Your spidey-sense is absolutely correct.</pre><pre>

Recall for a moment that Riak by default will store 3 copies of everything. 
This means that in a two-node configuration any given value will be stored once 
on one node and twice on the other. Not only does this mean a whole lot of 
wasted work, it removes much of the safety and availability that people look to 
get from Riak. If one node goes down, then for half of your keys you have lost 
a majority of their replicas.

On only two nodes, you can't really get the kind of fault-tolerance Riak 
provides... with Riak or any other software.

-Justin



On Apr 18, 2013, at 11:26 AM, Michael Forrester wrote:

&gt; Greetings Everyone,
&gt; I am not sure if this is the right forum to ask this question, but here goes.
&gt; 
&gt; We are currently running a six-node cluster in Amazon AWS.   There has been 
&gt; some talk by our architects of going to a two-node configuration using 
&gt; SSD-backed instances with super fast hardware, but for some reason this is 
&gt; triggering &quot; this is not correct, but I don't remember why&quot; spidey sense.  
&gt; From my understanding, it is best to run riak with 5 nodes or at least N +2 
&gt; and that a two-node cluster (even though the hardware will be way faster) 
&gt; will not satisfy that.   
&gt; 
&gt; Any loose suggestions about how to approach this?   I am open to the two 
&gt; ultrafast nodes... I am not sure how to put riak on them to work in a 
&gt; fault-tolerant way.   
&gt; 
&gt; Articles, dirty limericks, and soliloquies are all appreciated.  
&gt; 
&gt; -- 
&gt;  Michael Forrester
&gt;  Director of Infrastructure
&gt;  WorthPoint Corporation
&gt; 
&gt; 404.996.1470 O)
&gt; 404.939.6499 C)
&gt; 
&gt; 
&gt; 
&gt; 
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>


_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg10937.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#10938">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="mail2.html#10938">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg10940.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg10937.html">two-node cluster for riak?</a></span> <span class="sender italic">Michael Forrester</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: two-node cluster for riak?</span> <span class="sender italic">Justin Sheehy</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: two-node cluster for riak?">
<input type="hidden" name="msgid" value="713C95BD-49A3-4095-9C90-C33E018A367C@basho.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg10938.html">
<input type="submit" value=" Justin Sheehy ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+two%5C-node+cluster+for+riak%5C%3F%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg10937.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg10940.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">713C95BD-49A3-4095-9C90-C33E018A367C@basho.com</li>
</ul>
</div>
</body>
</html>
