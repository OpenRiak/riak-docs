<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: noproc error on Map/Reduce</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#08919" id="c">
<link rel="index" href="maillist.html#08919" id="i">
<link rel="prev" href="msg08875.html" id="p">
<link rel="next" href="msg08876.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg08919.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+noproc+error+on+Map%5C%2FReduce%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: noproc error on Map/Reduce</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Bryan+Fink%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Bryan Fink</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20121015" rel="nofollow">Mon, 15 Oct 2012 08:38:46 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>On Thu, Oct 11, 2012 at 12:12 AM, Matt Black &lt;matt.bl...@jbadigital.com&gt; wrote:
&gt; When I run the query it fails with this error, with which I am unfamiliar..
&gt; Any thoughts on how to diagnose?</pre><pre>

Hi, Matt. The interesting part of that error is:

&gt; '{&quot;phase&quot;:0,&quot;error&quot;:&quot;{noproc,{gen_server,call,[riak_kv_js_map,{reserve_vm,&lt;0.23487.1151&gt;},infinity]}}&quot;

That `noproc` is saying that the process that gen_server:call/3 was
trying to contact wasn't there. The arguments indicate that it was
calling the riak_kv_js_map process, which is the riak_kv_js_manager of
the Javascript VMs used in evaluating map functions. If it's not
there, it must have crashed, which should have left a message in your
Riak node's logs. If it's there, you'll probably find it by searching
for riak_kv_js_manager, together with the phrase &quot;initial call&quot;.

It's also possible that it was not the manager, but instead the VM
process that was absent. This particular error can bubble up in this
way. If this is the problem, there may be a race condition in the
checkin/checkout of those VMs. We did fix one such condition earlier
this year â€¦ which Riak version are you using? If this is the problem,
you'll probably see errors in your Riak node's logs about
riak_kv_js_vm crashing/exiting.

I've opened a new issue to track this problem here:
<a  rel="nofollow" href="https://github.com/basho/riak_kv/issues/403">https://github.com/basho/riak_kv/issues/403</a> . If you learn more about
the root cause, please reply either here or there.

Thank you,
Bryan

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg08875.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#08919">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#08919">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg08876.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg08875.html">noproc error on Map/Reduce</a></span> <span class="sender italic">Matt Black</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: noproc error on Map/Reduce</span> <span class="sender italic">Bryan Fink</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: noproc error on Map/Reduce">
<input type="hidden" name="msgid" value="CAOLR_oYRDiHyy6BbY=yeKXNVAo=An9bgVe7Mo=DQ-aK3SJiqAw@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg08919.html">
<input type="submit" value=" Bryan Fink ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+noproc+error+on+Map%5C%2FReduce%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg08875.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg08876.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAOLR_oYRDiHyy6BbY=yeKXNVAo=An9bgVe7Mo=DQ-aK3SJiqAw@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
