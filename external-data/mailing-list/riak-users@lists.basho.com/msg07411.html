<!DOCTYPE html>
<html lang="en">
<head>
<title>Riak newbie,	need to know if I can switch from Cassandra for a messageQueue For	Erlang</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#07411" id="c">
<link rel="index" href="maillist.html#07411" id="i">
<link rel="prev" href="msg07404.html" id="p">
<link rel="next" href="msg07412.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg07411.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Riak+newbie%2C%09need+to+know+if+I+can+switch+from+Cassandra+for+a+messageQueue+For%09Erlang%22&amp;o=newest" rel="nofollow"><span itemprop="name">Riak newbie,	need to know if I can switch from Cassandra for a messageQueue For	Erlang</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Morgan+Segalis%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Morgan Segalis</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20120509" rel="nofollow">Wed, 09 May 2012 12:51:34 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi everyone !

I have followed with interest the riak evolution.</pre><pre>

I have a chat server written in Erlang from scratch with my own protocol.
Right now I'm using MySQL in order to store Users credentials and friend list.

I'm using Cassandra via thrift to store message that an offline user has got, 
until the user retrieves it.

My Cassandra data model, is quite simple, a Column Family, each row is an user, 
each column is a message (title = timestamp for getting time ordered data, 
value = message).

The thing is, despite the fact that I'm happy with Cassandra performance and 
TimeToLive feature, I would like to avoid the hassle of thrift to update my 
code.

Since Riak is (As I have seen on multiple website) the closer thing to 
cassandra (but simpler).

However Riak paradigm seems to be different somehow, with bucket which I'm not 
yet familiar with.

Before getting to know Riak better I would like to have some expert opinion on 
the matter.

I need to do several things : 

- Store from 1 to X messages per registered user.
- Get the number of stored messages per user. (may be stored on a variable)
- retrieve all messages from an user at once.
- delete all messages from an user at once.
- delete all messages that are older than X months no matter the user

I would really love your opinion on, is Riak fit my needs, and if so, what 
would be the data model ?
Is it realistic to have a bucket per user ? 

Best regards,



_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg07404.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#07411">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#07411">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg07412.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email tSliceCur"><span class="subject">Riak newbie,	need to know if I can switch from Cassandra fo...</span> <span class="sender italic">Morgan Segalis</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg07412.html">Re: Riak newbie,	need to know if I can switch from Cas...</a></span> <span class="sender italic">Morgan Segalis</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg07432.html">Re: Riak newbie, need to know if I can switch from...</a></span> <span class="sender italic">Eric Moritz</span></li>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Riak newbie,	need to know if I can switch from Cassandra for a messageQueue For	Erlang">
<input type="hidden" name="msgid" value="92C36B1C-BC92-4480-91CA-7E581CB1F246@gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg07411.html">
<input type="submit" value=" Morgan Segalis ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Riak+newbie%2C%09need+to+know+if+I+can+switch+from+Cassandra+for+a+messageQueue+For%09Erlang%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg07404.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg07412.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">92C36B1C-BC92-4480-91CA-7E581CB1F246@gmail.com</li>
</ul>
</div>
</body>
</html>
