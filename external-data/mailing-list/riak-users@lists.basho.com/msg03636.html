<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Question for Riak Developer Advocates</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="thrd6.html#03636" id="c">
<link rel="index" href="mail6.html#03636" id="i">
<link rel="prev" href="msg03635.html" id="p">
<link rel="next" href="msg03637.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg03636.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Question+for+Riak+Developer+Advocates%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Question for Riak Developer Advocates</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Ben+Tilly%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Ben Tilly</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20110609" rel="nofollow">Thu, 09 Jun 2011 20:02:01 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>It sounds like you understood perfectly.

Basically we are running a cluster of machines that are busy doing
lots of stuff.  We wanted to use Riak to keep configuration
information about those machines and the stuff they were doing.  So
Riak would be running on machines whose primary job is something else.
 A critical use case for us is to figure out what needs to be done on
which other machines after one of the machines goes down.  Therefore
having the potential to have our data unavailable during a failover
because of the failover kills the benefit that we wanted from a high
availability system.</pre><pre>

We've chosen to go with the simple approach of a relational database
on external hardware in a high availability setup.  We didn't want
that dependency, but we've done enough now that we're committed to it.

On Thu, Jun 9, 2011 at 7:33 PM, Ryan Zezeski &lt;rzeze...@basho.com&gt; wrote:
&gt; Ben,
&gt; I hate non-obvious behavior too, and it's something we constantly try to
&gt; fight at Basho.  That said, I don't think Riak is in as bad a position as
&gt; you think.  Lets see if I can convince you :)
&gt; If I'm understanding you correctly you are making two points here:
&gt; 1) When performing a join/leave under load most GETs return 404 until data
&gt; transfer has completed.
&gt; 2) A node in the cluster has failed and that is causing data to become
&gt; unavailable.
&gt; Assuming these are indeed your claims I counter...
&gt; 1) Yes, performing a join/leave **can** cause reads to return 404s.  Just
&gt; ask Greg Nelson and he can tell you all about it.  However, I want to
&gt; emphasize the **can** qualifier here.  It depends on the # of nodes you are
&gt; going from-&gt;to.  The reason this matters is b/c this number will affect how
&gt; the claim algorithm behaves and how much data actually shifts around.
&gt; Now I can hear you saying &quot;Yea, but that's still brittle/broken!&quot;  Yes, I
&gt; agree 100% with the words I just put in your mouth.  My point is simply that
&gt; there are shades of grey here and depending on how many nodes you have you
&gt; might never hit this case (note that 3-5 nodes **will** hit this case).  We
&gt; are actively working on a solution to this problem as we recognize it's
&gt; seriousness and very much want to see it fixed.
&gt; 2) This should absolutely not be happening.  This is Riak's bread and butter
&gt; use case, i.e. high availability.  My guess is I'm misunderstanding what you
&gt; are saying.
&gt; -Ryan
&gt;
&gt;
&gt;
&gt; On Thu, Jun 9, 2011 at 8:00 PM, Ben Tilly &lt;bti...@gmail.com&gt; wrote:
&gt;&gt;
&gt;&gt; I am not a developer advocate.  But my top hate is that when machines
&gt;&gt; leave/rejoin your data can be inaccessable for some time.
&gt;&gt;
&gt;&gt; We had a great case where we wanted to use Riak, but that was a
&gt;&gt; complete showstopper and we won't be using it because of that.  (We
&gt;&gt; wanted to store information which needed to be read in the event of a
&gt;&gt; machine failing.  But the machine that could fail would be on the same
&gt;&gt; cluster that was running Riak, so we'd be potentially trying to do
&gt;&gt; reads exactly when data was unavailable.)
&gt;&gt;
&gt;&gt; On Thu, Jun 9, 2011 at 10:25 AM, Srdjan Pejic &lt;spe...@gmail.com&gt; wrote:
&gt;&gt; &gt; What do you guys hate about Riak right now?
&gt;&gt; &gt; _______________________________________________
&gt;&gt; &gt; riak-users mailing list
&gt;&gt; &gt; riak-users@lists.basho.com
&gt;&gt; &gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt;
&gt;&gt; _______________________________________________
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
&gt;

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg03635.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="thrd6.html#03636">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="mail6.html#03636">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg03637.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg03619.html">Question for Riak Developer Advocates</a></span> <span class="sender italic">Srdjan Pejic</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03621.html">Re: Question for Riak Developer Advocates</a></span> <span class="sender italic">Scott Gonyea</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03622.html">Re: Question for Riak Developer Advocates</a></span> <span class="sender italic">John Hornbeck</span></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg03633.html">Re: Question for Riak Developer Advocates</a></span> <span class="sender italic">Ben Tilly</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03635.html">Re: Question for Riak Developer Advocates</a></span> <span class="sender italic">Ryan Zezeski</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Question for Riak Developer Advocates</span> <span class="sender italic">Ben Tilly</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg03637.html">Re: Question for Riak Developer Advocates</a></span> <span class="sender italic">Andrew Thompson</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Question for Riak Developer Advocates">
<input type="hidden" name="msgid" value="BANLkTintBBVPGpNr5AOJ=vS_FrrxnszTbw@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg03636.html">
<input type="submit" value=" Ben Tilly ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Question+for+Riak+Developer+Advocates%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg03635.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg03637.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">BANLkTintBBVPGpNr5AOJ=vS_FrrxnszTbw@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
