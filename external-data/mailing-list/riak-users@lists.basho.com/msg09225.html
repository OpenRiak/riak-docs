<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Cluster on startup.</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#09225" id="c">
<link rel="index" href="maillist.html#09225" id="i">
<link rel="prev" href="msg09224.html" id="p">
<link rel="next" href="msg09226.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg09225.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Cluster+on+startup.%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Cluster on startup.</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Jeremiah+Peschka%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Jeremiah Peschka</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20121107" rel="nofollow">Wed, 07 Nov 2012 06:16:54 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>To add a node to a cluster, you can execute riak-admin cluster join 
riak@192.168.0.1 See [1] for more details. There is no need to reboot for the 
cluster to be formed; the nodes will talk amongst themselves and once they find 
each other, the cluster is up.</pre><pre>

To start and stop my dev cluster, I wrote a quick bash function [2] to handle 
starting and stopping my local dev cluster. In production, you'd add Riak to 
the init scripts like you did with your single node. You could even tell init.d 
to not start the main cluster and instead execute your dev cluster if you'd 
prefer.

If I were you, I'd remove (or at the very least, stop) the Riak instance you've 
got and walk through the Fast Track/Quick Start.

[1]: <a  rel="nofollow" href="http://docs.basho.com/riak/latest/cookbooks/Adding-and-Removing-Nodes/">http://docs.basho.com/riak/latest/cookbooks/Adding-and-Removing-Nodes/</a>
[2]: <a  rel="nofollow" href="https://github.com/peschkaj/dotfiles/blob/master/bash/functions.sh#L4">https://github.com/peschkaj/dotfiles/blob/master/bash/functions.sh#L4</a>
---
Jeremiah Peschka
Founder, Brent Ozar Unlimited

On Nov 7, 2012, at 4:27 AM, &quot;Kevin Burton&quot; &lt;rkevinbur...@charter.net&gt; wrote:

&gt; On more question. The “Quick Start” shows manually starting each riak server 
&gt; then joining.  But when I start my Linux server I see that a riak server is 
&gt; started. I am assuming that this is the main riak server that was installed. 
&gt; How do I start three riak instances instead of just one or by starting one 
&gt; they all are started automatically? I understand the join cannot be 
&gt; configured. So after I have these three riak instances running (presumably 
&gt; after a reboot) then I join them into a cluster, reboot, and the cluster will 
&gt; be formed? After the cluster has been formed how do I “edit” it? I would 
&gt; foresee needing to add or remove nodes from the cluster.
&gt;  
&gt; From: Reid Draper [<a  rel="nofollow" href="mailto:reiddra...@gmail.com">mailto:reiddra...@gmail.com</a>] 
&gt; Sent: Tuesday, November 06, 2012 9:36 PM
&gt; To: Kevin Burton
&gt; Cc: riak-users@lists.basho.com
&gt; Subject: Re: Cluster on startup.
&gt;  
&gt;  
&gt; On Nov 6, 2012, at 5:43 PM, Kevin Burton &lt;rkevinbur...@charter.net&gt; wrote:
&gt; 
&gt; 
&gt; This is probably an FAQ but I was unable to find an answer so hopefully there 
&gt; will be some patient people.
&gt;  
&gt; The “Quick Start” builds a simple cluster all on the same machine (called 
&gt; dev1, dev2, and dev3). It assigns the ports, IP addresses, etc. I would like 
&gt; to do something similar but I would like the cluster to startup 
&gt; automatically. What do I need to add to the configuration file so that all of 
&gt; the joins etc. happen on startup? This would be a Ubuntu Server if it makes 
&gt; any difference.
&gt;  
&gt; There is no configuration option to do this. However, once the nodes have 
&gt; been joined to a cluster, they'll
&gt; remain part of the same cluster even if they're restarted. Hope this helps.
&gt;  
&gt; Reid
&gt;  
&gt;  
&gt; Thank you.
&gt;  
&gt; Kevin
&gt;  
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;  
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg09224.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#09225">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#09225">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg09226.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg09208.html">Cluster on startup.</a></span> <span class="sender italic">Kevin Burton</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09218.html">Re: Cluster on startup.</a></span> <span class="sender italic">Reid Draper</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09219.html">RE: Cluster on startup.</a></span> <span class="sender italic">Kevin Burton</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09222.html">Re: Cluster on startup.</a></span> <span class="sender italic">OJ Reeves</span></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg09224.html">RE: Cluster on startup.</a></span> <span class="sender italic">Kevin Burton</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Cluster on startup.</span> <span class="sender italic">Jeremiah Peschka</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09226.html">RE: Cluster on startup.</a></span> <span class="sender italic">Kevin Burton</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09230.html">Re: Cluster on startup.</a></span> <span class="sender italic">Jeremiah Peschka</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09231.html">RE: Cluster on startup.</a></span> <span class="sender italic">Kevin Burton</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09233.html">Re: Cluster on startup.</a></span> <span class="sender italic">Shane McEwan</span></li>
<li class="icons-email"><span class="subject"><a href="msg09234.html">RE: Cluster on startup.</a></span> <span class="sender italic">Kevin Burton</span></li>
<li class="icons-email"><span class="subject"><a href="msg09236.html">Re: Cluster on startup.</a></span> <span class="sender italic">Jeremiah Peschka</span></li>
<li class="icons-email"><span class="subject"><a href="msg09239.html">RE: Cluster on startup.</a></span> <span class="sender italic">Kevin Burton</span></li>
<li class="icons-email"><span class="subject"><a href="msg09252.html">RE: Cluster on startup.</a></span> <span class="sender italic">Kevin Burton</span></li>
<li class="icons-email"><span class="subject"><a href="msg09241.html">Re: Cluster on startup.</a></span> <span class="sender italic">Reid Draper</span></li>
<li class="icons-email"><span class="subject"><a href="msg09243.html">RE: Cluster on startup.</a></span> <span class="sender italic">Kevin Burton</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Cluster on startup.">
<input type="hidden" name="msgid" value="19649EBD-39F0-4235-8E2C-F87472D64BDE@gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg09225.html">
<input type="submit" value=" Jeremiah Peschka ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Cluster+on+startup.%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg09224.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg09226.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">19649EBD-39F0-4235-8E2C-F87472D64BDE@gmail.com</li>
</ul>
</div>
</body>
</html>
