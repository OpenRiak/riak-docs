<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Riak Intermittent Read Failures</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#18291" id="c">
<link rel="index" href="maillist.html#18291" id="i">
<link rel="prev" href="msg18285.html" id="p">
<link rel="next" href="msg18286.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg18291.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+Intermittent+Read+Failures%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Riak Intermittent Read Failures</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22sean+mcevoy%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">sean mcevoy</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20170626" rel="nofollow">Mon, 26 Jun 2017 03:01:06 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi Mark,

I've observed timeouts too but always on serach operation, you might have
seen my thread &quot;Solr search response time spikes&quot;.</pre><pre>

I'm getting stats by polling this every minute:
<a  rel="nofollow" href="http://docs.basho.com/riak/kv/2.2.3/developing/api/http/status/">http://docs.basho.com/riak/kv/2.2.3/developing/api/http/status/</a>

The 99 &amp; 100% response times are most interesting for debugging our
problems.
What client &amp; timeout value are you using? I'm using the erlang client
where the default timeout is 60 seconds, but I've over ridden that and am
using 2 seconds.

Interestingly, over the weekend I've started to see a few put &amp; get
timeouts on the application side, but the longest 100% response time is
just under a second which points to a network delay.

I'd start by polling these stats and then examining when you get an
application side timeout. Maybe check the size stats too, if you can catch
which key the operation timed out on it'd be worth checking the object size
&amp; sibling count for it. If nothing else this would eliminate the
possibility that it's unique to a particular object.

//Sean.


On Sat, Jun 24, 2017 at 12:57 PM, markrthomas &lt;mark.tho...@equifax.com&gt;
wrote:

&gt; Hello
&gt;
&gt; I'm getting intermiitent read failures in my cluster, i.e. timeout
&gt;
&gt; Sometimes an object returns immediately.
&gt;
&gt; Other times, nothing at all and I get a read-timeout.
&gt;
&gt; Any ideas on where I start debugging this issue?
&gt;
&gt; Thanks
&gt;
&gt; Mark
&gt;
&gt;
&gt;
&gt; --
&gt; View this message in context: <a  rel="nofollow" href="http://riak-users.197444.n3">http://riak-users.197444.n3</a>.
&gt; nabble.com/Riak-Intermittent-Read-Failures-tp4035229.html
&gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg18285.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#18291">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#18291">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg18286.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg18285.html">Riak Intermittent Read Failures</a></span> <span class="sender italic">markrthomas</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Riak Intermittent Read Failures</span> <span class="sender italic">sean mcevoy</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Riak Intermittent Read Failures">
<input type="hidden" name="msgid" value="CA+2Kyrpb0ZMQ9r3TyKxK33GCLOnyW1ubO5VUcugagS=wEwVuXw@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg18291.html">
<input type="submit" value=" sean mcevoy ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+Intermittent+Read+Failures%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg18285.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg18286.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CA+2Kyrpb0ZMQ9r3TyKxK33GCLOnyW1ubO5VUcugagS=wEwVuXw@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
