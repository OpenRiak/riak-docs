<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Riak CS - admin keys changing</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#17854" id="c">
<link rel="index" href="maillist.html#17854" id="i">
<link rel="prev" href="msg17853.html" id="p">
<link rel="next" href="msg17852.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg17854.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+CS+%5C-+admin+keys+changing%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Riak CS - admin keys changing</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Shaun+McVey%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Shaun McVey</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20170116" rel="nofollow">Mon, 16 Jan 2017 01:03:40 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi Toby,

If you put another user into the config, that's all it takes to make them
the admin user.  There's no special value that's set in the database
itself.  Any user can be an admin user, it doesn't even have to be the
first one created.  It's just whatever user you have set in the config.</pre><pre>

Kind Regards,
Shaun

On Mon, Jan 16, 2017 at 1:02 AM, Toby Corkindale &lt;t...@dryft.net&gt; wrote:

&gt; Hi,
&gt; I have a follow-up question around this security aspect.
&gt;
&gt; If the riak-cs.conf and stanchion.conf files are changed so that their
&gt; admin.key and admin.secret match a different user (eg. not that
&gt; first-created admin user) then will that user now have admin-like
&gt; privileges?
&gt;
&gt; Or are the admin-abilities determined by something set in the admin user's
&gt; data in Riak?
&gt;
&gt; Thanks,
&gt; Toby
&gt;
&gt; On Fri, 13 Jan 2017 at 16:38 Toby Corkindale &lt;t...@dryft.net&gt; wrote:
&gt;
&gt;&gt; Thanks, Luke!
&gt;&gt;
&gt;&gt; On Fri, 13 Jan 2017 at 12:10 Luke Bakken &lt;lbak...@basho.com&gt; wrote:
&gt;&gt;
&gt;&gt; Hi Toby,
&gt;&gt;
&gt;&gt; When you create the user, the data is stored in Riak (and is the
&gt;&gt; authoritative location). The values must match in the config files to
&gt;&gt; provide credentials used when connecting to various parts of your CS
&gt;&gt; cluster.
&gt;&gt;
&gt;&gt; --
&gt;&gt; Luke Bakken
&gt;&gt; Engineer
&gt;&gt; lbak...@basho.com
&gt;&gt;
&gt;&gt; On Thu, Jan 12, 2017 at 3:47 PM, Toby Corkindale &lt;t...@dryft.net&gt; wrote:
&gt;&gt; &gt; Hi,
&gt;&gt; &gt; In Riak CS, the admin key and secret is in the config files for both CS
&gt;&gt; and
&gt;&gt; &gt; Stanchion.
&gt;&gt; &gt; Is that the authoritative location for the secrets, or is the
&gt;&gt; &gt; initially-created admin user the source, and those just have to match?
&gt;&gt; &gt;
&gt;&gt; &gt; I tried to figure this out from the source code, but my Erlang really
&gt;&gt; isn't
&gt;&gt; &gt; up to scratch :(
&gt;&gt; &gt;
&gt;&gt; &gt; Toby
&gt;&gt; &gt;
&gt;&gt;
&gt;&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
&gt;
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg17853.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#17854">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#17854">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg17852.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg17849.html">Riak CS - admin keys changing</a></span> <span class="sender italic">Toby Corkindale</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17850.html">Re: Riak CS - admin keys changing</a></span> <span class="sender italic">Luke Bakken</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17851.html">Re: Riak CS - admin keys changing</a></span> <span class="sender italic">Toby Corkindale</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17853.html">Re: Riak CS - admin keys changing</a></span> <span class="sender italic">Toby Corkindale</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Riak CS - admin keys changing</span> <span class="sender italic">Shaun McVey</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Riak CS - admin keys changing">
<input type="hidden" name="msgid" value="CAEj3F5xF075ivTdTnh0v6fTP4+939ooOoONy3p_=b6aHaQcYTw@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg17854.html">
<input type="submit" value=" Shaun McVey ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+CS+%5C-+admin+keys+changing%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg17853.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg17852.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAEj3F5xF075ivTdTnh0v6fTP4+939ooOoONy3p_=b6aHaQcYTw@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
