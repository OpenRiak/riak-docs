<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: non-indexable SOLR schema</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#15981" id="c">
<link rel="index" href="maillist.html#15981" id="i">
<link rel="prev" href="msg15980.html" id="p">
<link rel="next" href="msg15982.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg15981.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+non%5C-indexable+SOLR+schema%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: non-indexable SOLR schema</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Shawn+Debnath%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Shawn Debnath</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20150404" rel="nofollow">Sat, 04 Apr 2015 08:56:38 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Riak does not in any way rely on solr for its KV operations. Not sure where you 
are seeing that or what code you are looking at but you can define bucket 
types, activate them without ever touching solr.  The basic bucket type set up 
instructions can be found here: 
<a  rel="nofollow" href="http://docs.basho.com/riak/latest/dev/advanced/bucket-types/">http://docs.basho.com/riak/latest/dev/advanced/bucket-types/</a>.</pre><pre>

On 4/4/15, 8:51 AM, &quot;Alex De la rosa&quot; 
&lt;alex.rosa....@gmail.com&lt;<a  rel="nofollow" href="mailto:alex.rosa....@gmail.com">mailto:alex.rosa....@gmail.com</a>&gt;&gt; wrote:

How to do that?

For what I have seen, to use these special data types you need to create a 
bucket under a bucket_type; and this bucket type is created following an index 
so data gets indexed in Solr.

On Saturday, April 4, 2015, Shawn Debnath 
&lt;sh...@debnath.net&lt;<a  rel="nofollow" href="mailto:sh...@debnath.net">mailto:sh...@debnath.net</a>&gt;&gt; wrote:
You do not have to set up Yokozuna (yz) to be able to use counters, sets, maps 
in Riak. Those types can be used independently via the Riak key value store. 
You only need to set up the indexes if you were to search for data via yz or 
search 2.0. And in that case, you can remove the generic mappings, keep the _yz 
specific ones and then explicitly add the fields you want to index/search on.

On 4/4/15, 7:25 AM, &quot;Alex De la rosa&quot; 
&lt;alex.rosa....@gmail.com&lt;javascript:_e(%7B%7D,'cvml','alex.rosa....@gmail.com');&gt;&gt;
 wrote:

Hi all,

To be able to use counters/sets/maps in Riak I have to store the object into a 
defined bucket_type indexed via SOLR.

However, this will require extra disk space as data will be indexed (if using 
the default schema). Can I create a custom schema &quot;ignoring&quot; all fields so 
nothing is indexed? I don't need to use Riak Search on these objects, as I 
always know the KEY to fetch them. A schema like this would work? ( I guess 
that I can not put [ indexed=&quot;false&quot; ] in the &quot;_yz*&quot; fields required by Riak, 
right? Or is it possible to not index that data either? )

—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;schema name=&quot;schedule&quot; version=&quot;1.5&quot;&gt;
 &lt;fields&gt;
   &lt;dynamicField name=&quot;*&quot; type=&quot;ignored&quot; /&gt;
   &lt;!-- All of these fields are required by Riak Search --&gt;
   &lt;field name=&quot;_yz_id&quot;   type=&quot;_yz_str&quot; indexed=&quot;true&quot; stored=&quot;true&quot;  
multiValued=&quot;false&quot; required=&quot;true&quot;/&gt;
   &lt;field name=&quot;_yz_ed&quot;   type=&quot;_yz_str&quot; indexed=&quot;true&quot; stored=&quot;false&quot; 
multiValued=&quot;false&quot;/&gt;
   &lt;field name=&quot;_yz_pn&quot;   type=&quot;_yz_str&quot; indexed=&quot;true&quot; stored=&quot;false&quot; 
multiValued=&quot;false&quot;/&gt;
   &lt;field name=&quot;_yz_fpn&quot;  type=&quot;_yz_str&quot; indexed=&quot;true&quot; stored=&quot;false&quot; 
multiValued=&quot;false&quot;/&gt;
   &lt;field name=&quot;_yz_vtag&quot; type=&quot;_yz_str&quot; indexed=&quot;true&quot; stored=&quot;false&quot; 
multiValued=&quot;false&quot;/&gt;
   &lt;field name=&quot;_yz_rk&quot;   type=&quot;_yz_str&quot; indexed=&quot;true&quot; stored=&quot;true&quot;  
multiValued=&quot;false&quot;/&gt;
   &lt;field name=&quot;_yz_rt&quot;   type=&quot;_yz_str&quot; indexed=&quot;true&quot; stored=&quot;true&quot;  
multiValued=&quot;false&quot;/&gt;
   &lt;field name=&quot;_yz_rb&quot;   type=&quot;_yz_str&quot; indexed=&quot;true&quot; stored=&quot;true&quot;  
multiValued=&quot;false&quot;/&gt;
   &lt;field name=&quot;_yz_err&quot;  type=&quot;_yz_str&quot; indexed=&quot;true&quot; stored=&quot;false&quot; 
multiValued=&quot;false&quot;/&gt;
 &lt;/fields&gt;

 &lt;uniqueKey&gt;_yz_id&lt;/uniqueKey&gt;

 &lt;types&gt;
    &lt;fieldtype name=&quot;ignored&quot; stored=&quot;false&quot; indexed=&quot;false&quot; multiValued=&quot;true&quot; 
class=&quot;solr.StrField&quot; /&gt;
    &lt;!-- YZ String: Used for non-analyzed fields --&gt;
    &lt;fieldType name=&quot;_yz_str&quot; class=&quot;solr.StrField&quot; sortMissingLast=&quot;true&quot; /&gt;
 &lt;/types&gt;
&lt;/schema&gt;
—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—

Another question, can I use the [ compressed=&quot;true&quot; ] to save disk space? in 
both &lt;dynamicField name=&quot;*&quot; type=&quot;ignored&quot; /&gt; and &quot;_yz*&quot; fields?

Thanks,
Alex
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg15980.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#15981">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#15981">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg15982.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg15978.html">non-indexable SOLR schema</a></span> <span class="sender italic">Alex De la rosa</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15979.html">Re: non-indexable SOLR schema</a></span> <span class="sender italic">Shawn Debnath</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15980.html">Re: non-indexable SOLR schema</a></span> <span class="sender italic">Alex De la rosa</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: non-indexable SOLR schema</span> <span class="sender italic">Shawn Debnath</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15982.html">Re: non-indexable SOLR schema</a></span> <span class="sender italic">Alex De la rosa</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: non-indexable SOLR schema">
<input type="hidden" name="msgid" value="F6BAA0B2-490B-45FB-8A80-A090AA51D5F7@debnath.net">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg15981.html">
<input type="submit" value=" Shawn Debnath ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+non%5C-indexable+SOLR+schema%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg15980.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg15982.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">F6BAA0B2-490B-45FB-8A80-A090AA51D5F7@debnath.net</li>
</ul>
</div>
</body>
</html>
