<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: ideas on how to implement a page refresh to pull geo location	data stored in riak</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#06784" id="c">
<link rel="index" href="maillist.html#06784" id="i">
<link rel="prev" href="msg06782.html" id="p">
<link rel="next" href="#" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg06784.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+ideas+on+how+to+implement+a+page+refresh+to+pull+geo+location%09data+stored+in+riak%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: ideas on how to implement a page refresh to pull geo location	data stored in riak</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Norman+Khine%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Norman Khine</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20120228" rel="nofollow">Tue, 28 Feb 2012 09:27:44 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>yes, i have a map <a  rel="nofollow" href="http://stats.zmgc.net">http://stats.zmgc.net</a></pre><pre>

if you open a second window and <a  rel="nofollow" href="http://stats.zmgc.net/stats/1.gif">http://stats.zmgc.net/stats/1.gif</a> on
the first window you will get the person icon

i have not yet implemented the storage of the data in riak, i am doing
this now, but i was wondering how to deal witha page refresh, i would
like to for example, load all the unique visitors persons who have
been added to the db in the last one hour for example.

and then any new persons who 'hits' <a  rel="nofollow" href="http://stats.zmgc.net/stats/1.gif">http://stats.zmgc.net/stats/1.gif</a>
is added from that point in time.

thanks

On Tue, Feb 28, 2012 at 6:08 PM, Nicholas Young
&lt;nicho...@nicholaswyoung.com&gt; wrote:
&gt; Norman,
&gt;
&gt; Could you explain what you're attempting to do? I can probably help, but I'm 
&gt; not exactly sure what problem you're trying to solve, or what feature you're 
&gt; looking to implement.
&gt;
&gt; You mentioned a &quot;page refresh&quot; and &quot;map&quot;. Do you need to construct a web page 
&gt; to display the results from your analytics system?
&gt;
&gt; Nicholas
&gt;
&gt; ___
&gt;
&gt; Nicholas Young
&gt; <a  rel="nofollow" href="http://nicholaswyoung.com">http://nicholaswyoung.com</a>
&gt;
&gt; On Feb 28, 2012, at 10:48 AM, Norman Khine &lt;nor...@khine.net&gt; wrote:
&gt;
&gt;&gt; thanks for the advise.
&gt;&gt;
&gt;&gt; On Tue, Feb 28, 2012 at 5:07 PM, Jeremiah Peschka
&gt;&gt; &lt;jeremiah.pesc...@gmail.com&gt; wrote:
&gt;&gt;&gt; You can create a secondary index 
&gt;&gt;&gt; (<a  rel="nofollow" href="https://wiki.basho.com/Secondary-Indexes.html">https://wiki.basho.com/Secondary-Indexes.html</a>) on the timestamp and 
&gt;&gt;&gt; perform a secondary index query to pull back a range of data that matches 
&gt;&gt;&gt; what you are looking for.
&gt;&gt;&gt;
&gt;&gt;&gt; As far as the node.js portions, I have just as much of an idea as you. 
&gt;&gt;&gt; Perhaps someone else on this list can point you in the appropriate 
&gt;&gt;&gt; directino.
&gt;&gt;&gt; ---
&gt;&gt;&gt; Jeremiah Peschka - Managing Director, Brent Ozar PLF, LLC
&gt;&gt;&gt; Microsoft SQL Server MVP
&gt;&gt;&gt;
&gt;&gt;&gt; On Feb 28, 2012, at 7:57 AM, Norman Khine wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Hello,
&gt;&gt;&gt;&gt; Not sure if this is the right forum to post this, but i am hoping you can 
&gt;&gt;&gt;&gt; help.
&gt;&gt;&gt;&gt; I have a livestats nodejs tracking site, code for it is here:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; <a  rel="nofollow" href="https://github.com/nkhine/livestats">https://github.com/nkhine/livestats</a>
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; which is based on the peepcode screencast, with some updates.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; i am planning to extend the
&gt;&gt;&gt;&gt; <a  rel="nofollow" href="https://github.com/nkhine/livestats/blob/master/lib/livestats.js">https://github.com/nkhine/livestats/blob/master/lib/livestats.js</a> to
&gt;&gt;&gt;&gt; include the riak-js library so as to store the data, something like:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; var db = require('riak-js').getClient({host: &quot;riak.myhost&quot;, port: &quot;8098&quot; 
&gt;&gt;&gt;&gt; });
&gt;&gt;&gt;&gt; db.save('user', 'lat', 'lon', 'city', 'timestamp'});
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; but, i was wondering how to implement a page refresh and for the map
&gt;&gt;&gt;&gt; to load all entries within a set period of elapsed time. and place the
&gt;&gt;&gt;&gt; entries within the map.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; any pointers much appreciated.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; norman
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; --
&gt;&gt;&gt;&gt; %&gt;&gt;&gt; &quot;&quot;.join( [ {'*':'@','^':'.'}.get(c,None) or
&gt;&gt;&gt;&gt; chr(97+(ord(c)-83)%26) for c in &quot;,adym,*)&amp;uzq^zqf&quot; ] )
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; _______________________________________________
&gt;&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; --
&gt;&gt; %&gt;&gt;&gt; &quot;&quot;.join( [ {'*':'@','^':'.'}.get(c,None) or
&gt;&gt; chr(97+(ord(c)-83)%26) for c in &quot;,adym,*)&amp;uzq^zqf&quot; ] )
&gt;&gt;
&gt;&gt; _______________________________________________
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>



-- 
%&gt;&gt;&gt; &quot;&quot;.join( [ {'*':'@','^':'.'}.get(c,None) or
chr(97+(ord(c)-83)%26) for c in &quot;,adym,*)&amp;uzq^zqf&quot; ] )

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg06782.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#06784">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#06784">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright buttondisabled" accesskey="n" href="#">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg06779.html">ideas on how to implement a page refresh to pull geo loca...</a></span> <span class="sender italic">Norman Khine</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg06780.html">Re: ideas on how to implement a page refresh to pull...</a></span> <span class="sender italic">Jeremiah Peschka</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg06781.html">Re: ideas on how to implement a page refresh to ...</a></span> <span class="sender italic">Norman Khine</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg06782.html">Re: ideas on how to implement a page refresh...</a></span> <span class="sender italic">Nicholas Young</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: ideas on how to implement a page ref...</span> <span class="sender italic">Norman Khine</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: ideas on how to implement a page refresh to pull geo location	data stored in riak">
<input type="hidden" name="msgid" value="CAKgQ7ULthquVLh0t1M+=9CDh=Y_UR-=gPZ1iALLOd-2GbzCRVQ@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg06784.html">
<input type="submit" value=" Norman Khine ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+ideas+on+how+to+implement+a+page+refresh+to+pull+geo+location%09data+stored+in+riak%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg06782.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="#" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAKgQ7ULthquVLh0t1M+=9CDh=Y_UR-=gPZ1iALLOd-2GbzCRVQ@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
