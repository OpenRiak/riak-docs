<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Riak Production cluster</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#09597" id="c">
<link rel="index" href="maillist.html#09597" id="i">
<link rel="prev" href="msg09580.html" id="p">
<link rel="next" href="msg09605.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg09597.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+Production+cluster%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Riak Production cluster</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Deepak+Balasubramanyam%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Deepak Balasubramanyam</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20121216" rel="nofollow">Sun, 16 Dec 2012 11:59:39 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>There is nothing in particular. Reading through loads of documentation and
user experiences on the riak-users list should give you some idea of what
to expect. I've been playing around with a production cluster of late. Here
are some salient points off the top of my head based on load tests I ran
recently.</pre><pre>

1. IO performance plays a huge role on how riak performs.
2. The more memory your machine has the better.
3. Prefer dedicated machines over virtualized machines. There is less
competition for IO.
4. Read through the performance tuning tips for linux ; the hard disk and
your riak back end and apply them.
5. Tuning your riak back end is a fine art. Keep a close eye on metrics for
each parameter change. Basho-bench and riak-control are your friends here.
Getting the values right is a process of trial and error. The guide lines
on the riak documentation should reduce the time for convergence.
6. Besides running load tests with basho bench, run one with your
production client against the production database. Your client will execute
a better variety of queries and thus simulate production traffic. Take
map-reduce queries as an example. Running too many of them will cause
errors since riak only allocates N VMs per map / reduce agent.
7, Use basho-bench first and tune riak. Then use your actual client that is
used in application code and tune riak again.
8. Watch out for firewall
configurations&lt;<a  rel="nofollow" href="http://docs.basho.com/riak/1.2.0/cookbooks/Network-Security-and-Firewall-Configurations/">http://docs.basho.com/riak/1.2.0/cookbooks/Network-Security-and-Firewall-Configurations/</a>&gt;
.
9. Go through the best
practices&lt;<a  rel="nofollow" href="http://docs.basho.com/riak/1.2.0/cookbooks/best-practices/">http://docs.basho.com/riak/1.2.0/cookbooks/best-practices/</a>&gt;
.
10. Search the riak-user &lt;<a  rel="nofollow" href="http://riak-users.197444.n3.nabble.com/">http://riak-users.197444.n3.nabble.com/</a>&gt; list for
experiences on setting up a cluster on rackspace. I found some interesting
quips about performance.
11. Take a look at the riak puppet
module&lt;<a  rel="nofollow" href="http://basho.com/blog/technical/2012/10/17/Riak-Puppet-Module-Now-Official/">http://basho.com/blog/technical/2012/10/17/Riak-Puppet-Module-Now-Official/</a>&gt;to
avoid snow flakes.

I'd write more and back it with some data, but it probably deserves a blog
post like you mentioned :)  Good luck with your deployment.

Thanks
-Deepak




On Fri, Dec 14, 2012 at 11:15 PM, Iouri Kostine &lt;io...@theablefew.com&gt;wrote:

&gt; Hello everyone,
&gt; Can someone share a blog post or some notes about setting up riak
&gt; production cluster at rackspace (RHEL 5)? I was wondering if there is some
&gt; additional steps, best practices etc. when installing from source. Any
&gt; additional information to help us get started would be much appreciated. We
&gt; did read though most of Basho documentation about installing riak, just
&gt; wondering if there are things that are specific to production setups.
&gt;
&gt; Thank you.
&gt;
&gt; iouri
&gt;
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
&gt;
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg09580.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#09597">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#09597">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg09605.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg09580.html">Riak Production cluster</a></span> <span class="sender italic">Iouri Kostine</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Riak Production cluster</span> <span class="sender italic">Deepak Balasubramanyam</span></li>
<li class="icons-email"><span class="subject"><a href="msg09605.html">Re: Riak Production cluster</a></span> <span class="sender italic">heffergm</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09623.html">Re: Riak Production cluster</a></span> <span class="sender italic">Iouri Kostine</span></li>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Riak Production cluster">
<input type="hidden" name="msgid" value="CAAerrx9yToBL5hYzPirW0KXa9D+P6jGVVwdJ-srxHUBmPBs0YA@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg09597.html">
<input type="submit" value=" Deepak Balasubramanyam ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+Production+cluster%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg09580.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg09605.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAAerrx9yToBL5hYzPirW0KXa9D+P6jGVVwdJ-srxHUBmPBs0YA@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
