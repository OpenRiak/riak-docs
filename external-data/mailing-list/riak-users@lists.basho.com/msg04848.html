<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Riak search and secondary indices in 1.0 clarification</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#04848" id="c">
<link rel="index" href="maillist.html#04848" id="i">
<link rel="prev" href="msg04846.html" id="p">
<link rel="next" href="msg04849.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg04848.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+search+and+secondary+indices+in+1.0+clarification%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Riak search and secondary indices in 1.0 clarification</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Sean+Cribbs%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Sean Cribbs</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20110923" rel="nofollow">Fri, 23 Sep 2011 10:20:28 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Replies inline.
</pre><pre>

&gt; - Riak search will work regardless of which backend your data is in because
&gt; it keeps its data in a separate bucket which uses merge_index as the backend
&gt;

Not really a separate bucket - more like an entirely differently-shaped
storage system. Riak Search has its own vnodes, for instance.

- In order for data to have a secondary index the backend for that bucket
&gt; needs to be leveldb because index data is kept in the same bucket as
&gt; key/value data[0]
&gt;

Again, not really the same bucket, but the same storage system.  Before the
1.0 stabilization branch, there was a storage backend that used bitcask for
k/v and merge_index for 2I. It was too brittle and confusing, so we
simplified things by requiring backends that are capable of 2I to support it
directly. The only one that was feasible for this release was LevelDB.


&gt; - in order for you to be able to use leveldb, you need to do one of the
&gt; following:
&gt; - either direct riak to use leveldb as the default backend here:
&gt; <a  rel="nofollow" href="https://github.com/basho/riak/blob/riak-1.0.0rc1/rel/files/app.config#L46">https://github.com/basho/riak/blob/riak-1.0.0rc1/rel/files/app.config#L46</a>
&gt; - or enable multiple backends in the config file
&gt; - or specifically indicate the backend in the bucket prop (which still
&gt; requires the backend to be made available in app.config)
&gt;
&gt;
Your last two points there are the same thing - multi_backend. Either way,
whichever backend receives the object, only the items stored in LevelDB will
be available via indexes.


&gt;
&gt; In short, is there a canonical reference somewhere that I'm jut missing?
&gt;
&gt;
We're working on getting the docs up-to-date now that the feature set has
been frozen. Watch for them over the next week.
 --
Sean Cribbs &lt;s...@basho.com&gt;
Developer Advocate
Basho Technologies, Inc.
<a  rel="nofollow" href="http://www.basho.com/">http://www.basho.com/</a>
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg04846.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#04848">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#04848">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg04849.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg04846.html">Riak search and secondary indices in 1.0 clarification</a></span> <span class="sender italic">Alexander Sicular</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Riak search and secondary indices in 1.0 clarif...</span> <span class="sender italic">Sean Cribbs</span></li>
<li class="icons-email"><span class="subject"><a href="msg04849.html">Re: Riak search and secondary indices in 1.0 clarif...</a></span> <span class="sender italic">Artem Kozarezov</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Riak search and secondary indices in 1.0 clarification">
<input type="hidden" name="msgid" value="CAHsw=e2Ww4rmOuMZ854cjLFWkm7H7KvYHRgp=SsrpRh7_CHJ+w@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg04848.html">
<input type="submit" value=" Sean Cribbs ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+search+and+secondary+indices+in+1.0+clarification%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg04846.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg04849.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAHsw=e2Ww4rmOuMZ854cjLFWkm7H7KvYHRgp=SsrpRh7_CHJ+w@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
