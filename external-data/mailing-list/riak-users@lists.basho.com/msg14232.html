<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Bash bench key/value generation strategies</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#14232" id="c">
<link rel="index" href="maillist.html#14232" id="i">
<link rel="prev" href="msg14231.html" id="p">
<link rel="next" href="msg14234.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg14232.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Bash+bench+key%5C%2Fvalue+generation+strategies%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Bash bench key/value generation strategies</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Christian+Dahlqvist%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Christian Dahlqvist</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20140519" rel="nofollow">Mon, 19 May 2014 07:06:45 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi Simon,

If you have a limited set of object types and your data model allow you to
estimate and express the raw size of your data using one of the default
value generators, using one of the standard drivers, e.g.
basho_bench_driver_riakc_pb, is the easiest way to get a benchmark up and
running. For many scenarios where data in Riak is reasonably uniform, this
can result in a quite accurate model and quickly allow you to evaluate
different configurations and see how the cluster responds to different load
and size distributions. As Riak treats all values as binary blobs, it is
most often not necessary to create realistic objects. The only exception I
am aware of is if Riak Search is used and benchmarked.</pre><pre>

The fact that Basho Bench writes to a single bucket is also, as long as you
have similar bucket properties for all buckets, usually not a problem
either as a bucket is just a namespace in Riak.

If your data model however is more complex, e.g. contains many different
objects types in buckets with different backends and properties, or you
require more accurate benchmarks, I would recommend creating a custom
driver based on one of the existing ones.

Best regards,

Christian





On Mon, May 19, 2014 at 2:13 PM, Simon Hartley &lt;
simon.hart...@williamhill.com&gt; wrote:

&gt;  Hi,
&gt;
&gt;
&gt;
&gt; I’m interested in using Basho bench to do some performance testing of a
&gt; Riak cluster we are proposing to use for an upcoming project.
&gt;
&gt;
&gt;
&gt; I’m interested in best practice  when configuring the basho bench
&gt; properties file, specifically the key and value generation strategies.
&gt;
&gt;
&gt;
&gt; Is it best to get an estimate of the raw sizes of your keys and values and
&gt; use one of the standard binary generators configured to create keys /
&gt; values of approximately those sizes, or is it better to create custom
&gt; generators to create actually representative keys / values?
&gt;
&gt;
&gt;
&gt; e.g. if we are intending to store values as JSON objects between 1 – 10K
&gt; is there any significant benefit to creating a generator to create sample
&gt; JSON objects  vs. using, for example, an exponential_bin generator
&gt; configured for 1 – 10K?
&gt;
&gt;
&gt;
&gt; Also, the default behaviour is to place all keys during the test into a
&gt; single bucket, obviously in practice we would be using many buckets, is
&gt; there are significance with respect to performance testing to this
&gt; difference?
&gt;
&gt;
&gt;
&gt; Many thanks for any assistance you can provide,
&gt;
&gt;
&gt;
&gt; Simon.
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;  Confidentiality: The contents of this e-mail and any attachments
&gt; transmitted with it are intended to be confidential to the intended
&gt; recipient; and may be privileged or otherwise protected from disclosure. If
&gt; you are not an intended recipient of this e-mail, do not duplicate or
&gt; redistribute it by any means. Please delete it and any attachments and
&gt; notify the sender that you have received it in error. This e-mail is sent
&gt; by a William Hill PLC group company. The William Hill group companies
&gt; include, among others, William Hill PLC (registered number 4212563),
&gt; William Hill Organization Limited (registered number 278208), William Hill
&gt; US HoldCo Inc, WHG (International) Limited (registered number 99191) and
&gt; WHG Trading Limited (registered number 101439). Each of William Hill PLC,
&gt; William Hill Organization Limited is registered in England and Wales and
&gt; has its registered office at Greenside House, 50 Station Road, Wood Green,
&gt; London N22 7TP. William Hill U.S. HoldCo, Inc. is 160 Greentree Drive,
&gt; Suite 101, Dover 19904, Kent, Delaware, United States of America. Each of
&gt; WHG (International) Limited and WHG Trading Limited is registered in
&gt; Gibraltar and has its registered office at 6/1 Waterport Place, Gibraltar.
&gt; Unless specifically indicated otherwise, the contents of this e-mail are
&gt; subject to contract; and are not an official statement, and do not
&gt; necessarily represent the views, of William Hill PLC, its subsidiaries or
&gt; affiliated companies. Please note that neither William Hill PLC, nor its
&gt; subsidiaries and affiliated companies can accept any responsibility for any
&gt; viruses contained within this e-mail and it is your responsibility to scan
&gt; any emails and their attachments. William Hill PLC, its subsidiaries and
&gt; affiliated companies may monitor e-mail traffic data and also the content
&gt; of e-mails for effective operation of the e-mail system, or for security,
&gt; purposes..
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
&gt;
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg14231.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#14232">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#14232">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg14234.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg14231.html">Bash bench key/value generation strategies</a></span> <span class="sender italic">Simon Hartley</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Bash bench key/value generation strategies</span> <span class="sender italic">Christian Dahlqvist</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14234.html">RE: Bash bench key/value generation strategie...</a></span> <span class="sender italic">Simon Hartley</span></li>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Bash bench key/value generation strategies">
<input type="hidden" name="msgid" value="CAGLZ9HMwRG4RZUBfsx1cuTTRUa9fPHh=r2-NOGE-vSW3=77dSQ@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg14232.html">
<input type="submit" value=" Christian Dahlqvist ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Bash+bench+key%5C%2Fvalue+generation+strategies%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg14231.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg14234.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAGLZ9HMwRG4RZUBfsx1cuTTRUa9fPHh=r2-NOGE-vSW3=77dSQ@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
