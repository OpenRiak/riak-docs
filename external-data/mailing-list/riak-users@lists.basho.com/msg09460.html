<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Filesystem choice (XFS vs EXT*)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#09460" id="c">
<link rel="index" href="maillist.html#09460" id="i">
<link rel="prev" href="msg09427.html" id="p">
<link rel="next" href="msg09428.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg09460.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Filesystem+choice+%5C%28XFS+vs+EXT%5C%2A%5C%29%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Filesystem choice (XFS vs EXT*)</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Seth+Thomas%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Seth Thomas</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20121206" rel="nofollow">Thu, 06 Dec 2012 16:01:10 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Anton,

For any given workload XFS and EXT4 are going give you comparable performance 
with EXT3 having been supplanted in every aspect by EXT4. Below are two 
informative links that compare XFS with EXT4 on both high[1] and low end[2] 
raid controllers. In general XFS exhibits lower CPU utilization, deals better 
with larger files, and has faster reads where EXT4 excels at writes and 
metadata operations (file creation/deletion).</pre><pre>

In my experience the additional tuning parameters around the IO schedulers 
(don't use the default CFQ, use deadline or noop depending on 
controller/disks), write barriers, block sizes, and other sysctl knobs are 
arguably more critical with regard to Riak performance than the filesystem 
chosen. I personally tend to lean toward XFS but I should probably do some 
basho_benching to validate my preference. I really do hate giving an &quot;it 
depends&quot; answer but with filesystems it's going to be come down to the workload 
and the Riak backend chosen - it's also worth noting that the filesystem likely 
won't be the _most_ crucial factor in a cluster's performance.

[1] 
<a  rel="nofollow" href="http://www.ilsistemista.net/index.php/linux-a-unix/14-ext4-vs-xfs-large-volumes-with-high-end-raid-controller.html?limitstart=0">http://www.ilsistemista.net/index.php/linux-a-unix/14-ext4-vs-xfs-large-volumes-with-high-end-raid-controller.html?limitstart=0</a>
[2] 
<a  rel="nofollow" href="http://www.ilsistemista.net/index.php/linux-a-unix/13-ext4-vs-xfs-large-volumes-with-low-end-raid-controller.html">http://www.ilsistemista.net/index.php/linux-a-unix/13-ext4-vs-xfs-large-volumes-with-low-end-raid-controller.html</a>


-- 
Seth Thomas


On Wednesday, December 5, 2012 at 7:02 AM, Anton wrote:

&gt; The documentation (briefly) mentions a preference of XFS over EXT
&gt; filesystems. I haven't seen any further explanation as of why that is.
&gt; Is there any significant difference?
&gt; 
&gt; I've managed to notice a significant difference between EXT3 and EXT4
&gt; - one of the machines in the benchmark cluster I was running had ext3
&gt; by accident and showed a greater load-average during the benchmark.
&gt; 
&gt; Does anyone have any tips or experiences?
&gt; 
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com (<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>)
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt; 
&gt; 


</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg09427.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#09460">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#09460">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg09428.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg09427.html">Filesystem choice (XFS vs EXT*)</a></span> <span class="sender italic">Anton</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Filesystem choice (XFS vs EXT*)</span> <span class="sender italic">Seth Thomas</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Filesystem choice (XFS vs EXT*)">
<input type="hidden" name="msgid" value="EB4CA82C76CF430EA605F079D8F5B3D1@basho.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg09460.html">
<input type="submit" value=" Seth Thomas ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Filesystem+choice+%5C%28XFS+vs+EXT%5C%2A%5C%29%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg09427.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg09428.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">EB4CA82C76CF430EA605F079D8F5B3D1@basho.com</li>
</ul>
</div>
</body>
</html>
