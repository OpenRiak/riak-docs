<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: No more disk space on a node of my Riak cluster</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="thrd2.html#10591" id="c">
<link rel="index" href="maillist.html#10591" id="i">
<link rel="prev" href="msg10567.html" id="p">
<link rel="next" href="msg10351.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg10591.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+No+more+disk+space+on+a+node+of+my+Riak+cluster%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: No more disk space on a node of my Riak cluster</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Mark+Phillips%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Mark Phillips</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20130325" rel="nofollow">Mon, 25 Mar 2013 15:21:51 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hey Godefroy,

What are you using to monitor disk space/usage?</pre><pre>

Mark

On Mon, Mar 25, 2013 at 5:33 AM, Godefroy de Compreignac
&lt;godef...@eklablog.com&gt; wrote:
&gt; Sorry I talked too soon...
&gt; My problem still exist: this morning 2 of my 4 nodes were down. No more disk
&gt; space. It happens 2 times a week, and each time I'm forced to move a vnode
&gt; on a separate disk. But I won't be able to do that much longer (no more disk
&gt; space on the other disks).
&gt; I really need your help to save the cluster. Any loss is serious.
&gt;
&gt; Here are the last errors I have. I didn't included all the &quot;busy_dist_port&quot;
&gt; info. Thank you in advance for your help!
&gt;
&gt; $ sudo grep -F &quot;[error]&quot; /var/log/riak/console.log | tail -20
&gt; 2013-03-25 10:25:13.166 [error] &lt;0.4173.584&gt; gen_server &lt;0.4173.584&gt;
&gt; terminated with reason: no function clause matching
&gt; riak_core_pb:encode({ts,{1363,975864,612168}},
&gt; {{ts,{1363,975864,612168}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,...&gt;&gt;})
&gt; line 40
&gt; 2013-03-25 10:25:13.166 [error]
&gt; &lt;0.21174.591&gt;@riak_core_handoff_sender:start_fold:226 hinted_handoff
&gt; transfer of riak_kv_vnode from 'riak@5.39.68.152'
&gt; 411047335499316445744786359201454599278231027712 to 'riak@5.135.137.208'
&gt; 411047335499316445744786359201454599278231027712 failed because of
&gt; error:{badmatch,{error,{worker_crash,{function_clause,[{riak_core_pb,encode,[{ts,{1363,975864,612168}},{{ts,{1363,975864,612168}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,108,97,98,108,111,103,45,99,97,99,104,101,109,0,0,0,35,45,86,54,67,117,116,115,122,74,75,53,97,50,74,45,79,102,73,53,119,95,73,80,109,112,71,99,64,50,53,48,120,49,54,55,108,0,0,0,1,104,3,100,0,9,114,95,99,111,110,116,101,110,116,104,9,100,0,4,100,105,99,116,97,6,97,16,97,16,97,8,97,80,97,48,104,16,106,106,106,106,106,106,106,106,106,106,106,106,106,106,106,106,104,1,104,16,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,5,76,105,110,107,115,106,106,106,106,106,106,106,106,106,108,0,0,0,2,108,0,0,0,11,109,0,0,0,12,99,111,110,116,101,110,116,45,116,121,112,101,97,105,97,109,97,97,97,103,97,101,97,47,97,106,97,112,97,101,97,103,106,108,0,0,0,22,109,0,0,0,11,88,45,82,105,97,107,45,86,84,97,103,97,104,97,113,97,87,97,116,97,53,97,76,97,72,97,108,97,74,97,52,97,121,97,86,97,83,97,83,97,104,97,57,97,75,97,116,97,67,97,50,97,85,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,5,105,110,100,101,120,106,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,20,88,45,82,105,97,107,45,76,97,115,116,45,77,111,100,105,102,105,101,100,104,3,98,0,0,5,83,98,0,14,227,248,98,0,9,86,237,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,11,88,45,82,105,97,107,45,77,101,116,97,106,106,109,0,0,93,140,255,216,255,224,0,16,74,70,73,70,0,1,1,1,0,72,0,72,0,0,255,219,0,67,0,3,2,2,3,2,2,3,3,2,3,3,3,3,3,4,7,5,4,4,4,4,9,6,7,5,7,10,9,11,11,10,9,10,10,12,13,17,14,12,12,16,12,10,10,14,20,15,16,17,18,19,19,19,11,14,20,22,20,18,22,17,18,19,18,255,219,0,67,1,3,3,3,4,4,4,8,5,5,8,18,12,10,12,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,255,192,0,17,8,0,167,0,250,3,1,17,0,2,17,1,3,17,1,255,196,0,29,0,0,1,4,3,1,1,0,0,0,0,0,0,0,0,0,0,6,3,4,5,7,1,2,8,0,9,255,196,...&gt;&gt;}],...},...]},...}}}
&gt; [{riak_core_handoff_sender,start_fold,5,[{file,&quot;src/riak_core_handoff_sender.erl&quot;},{line,170}]}]
&gt; 2013-03-25 10:25:13.167 [error] &lt;0.4173.584&gt; CRASH REPORT Process
&gt; &lt;0.4173.584&gt; with 0 neighbours exited with reason: no function clause
&gt; matching riak_core_pb:encode({ts,{1363,975864,612168}},
&gt; {{ts,{1363,975864,612168}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,...&gt;&gt;})
&gt; line 40 in gen_server:terminate/6 line 747
&gt; 2013-03-25 10:25:13.170 [error] &lt;0.25119.4&gt; Supervisor poolboy_sup had child
&gt; riak_core_vnode_worker started with
&gt; {riak_core_vnode_worker,start_link,undefined} at &lt;0.4173.584&gt; exit with
&gt; reason no function clause matching
&gt; riak_core_pb:encode({ts,{1363,975864,612168}},
&gt; {{ts,{1363,975864,612168}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,...&gt;&gt;})
&gt; line 40 in context child_terminated
&gt; 2013-03-25 10:25:17.128 [error]
&gt; &lt;0.21808.591&gt;@riak_core_handoff_sender:start_fold:226 hinted_handoff
&gt; transfer of riak_kv_vnode from 'riak@5.39.68.152'
&gt; 913438523331814323877303020447676887284957839360 to 'riak@5.135.137.208'
&gt; 913438523331814323877303020447676887284957839360 failed because of
&gt; error:{badmatch,{error,{worker_crash,{function_clause,[{riak_core_pb,encode,[{ts,{1363,975931,872486}},{{ts,{1363,975931,872486}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,108,97,98,108,111,103,45,99,97,99,104,101,109,0,0,0,35,49,114,71,115,114,67,120,88,81,104,88,102,85,78,67,104,72,48,49,115,111,116,100,49,114,51,111,64,53,48,48,120,52,48,52,108,0,0,0,1,104,3,100,0,9,114,95,99,111,110,116,101,110,116,104,9,100,0,4,100,105,99,116,97,6,97,16,97,16,97,8,97,80,97,48,104,16,106,106,106,106,106,106,106,106,106,106,106,106,106,106,106,106,104,1,104,16,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,5,76,105,110,107,115,106,106,106,106,106,106,106,106,106,108,0,0,0,2,108,0,0,0,11,109,0,0,0,12,99,111,110,116,101,110,116,45,116,121,112,101,97,105,97,109,97,97,97,103,97,101,97,47,97,106,97,112,97,101,97,103,106,108,0,0,0,23,109,0,0,0,11,88,45,82,105,97,107,45,86,84,97,103,97,51,97,106,97,100,97,56,97,88,97,85,97,77,97,66,97,87,97,106,97,104,97,83,97,117,97,50,97,122,97,79,97,69,97,88,97,104,97,102,97,107,97,117,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,5,105,110,100,101,120,106,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,20,88,45,82,105,97,107,45,76,97,115,116,45,77,111,100,105,102,105,101,100,104,3,98,0,0,5,83,98,0,14,228,59,98,0,13,78,101,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,11,88,45,82,105,97,107,45,77,101,116,97,106,106,109,0,0,115,82,255,216,255,224,0,16,74,70,73,70,0,1,1,1,0,96,0,96,0,0,255,219,0,67,0,7,5,5,6,5,4,7,6,5,6,8,7,7,8,10,17,11,10,9,9,10,21,15,16,12,17,24,21,26,25,24,21,24,23,27,30,39,33,27,29,37,29,23,24,34,46,34,37,40,41,43,44,43,26,32,47,51,47,42,50,39,42,43,42,255,219,0,67,1,7,8,8,10,9,10,20,11,11,20,42,28,24,28,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,42,255,192,0,17,8,1,148,1,244,3,1,34,0,2,17,1,3,17,1,255,196,0,28,0,1,0,2,3,1,1,1,0,0,0,0,0,0,0,...&gt;&gt;}],...},...]},...}}}
&gt; [{riak_core_handoff_sender,start_fold,5,[{file,&quot;src/riak_core_handoff_sender.erl&quot;},{line,170}]}]
&gt; 2013-03-25 10:25:17.128 [error] &lt;0.5408.584&gt; gen_server &lt;0.5408.584&gt;
&gt; terminated with reason: no function clause matching
&gt; riak_core_pb:encode({ts,{1363,975931,872486}},
&gt; {{ts,{1363,975931,872486}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,...&gt;&gt;})
&gt; line 40
&gt; 2013-03-25 10:25:17.131 [error] &lt;0.5408.584&gt; CRASH REPORT Process
&gt; &lt;0.5408.584&gt; with 0 neighbours exited with reason: no function clause
&gt; matching riak_core_pb:encode({ts,{1363,975931,872486}},
&gt; {{ts,{1363,975931,872486}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,...&gt;&gt;})
&gt; line 40 in gen_server:terminate/6 line 747
&gt; 2013-03-25 10:25:17.161 [error] &lt;0.9758.5&gt; Supervisor poolboy_sup had child
&gt; riak_core_vnode_worker started with
&gt; {riak_core_vnode_worker,start_link,undefined} at &lt;0.5408.584&gt; exit with
&gt; reason no function clause matching
&gt; riak_core_pb:encode({ts,{1363,975931,872486}},
&gt; {{ts,{1363,975931,872486}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,...&gt;&gt;})
&gt; line 40 in context child_terminated
&gt; 2013-03-25 10:25:19.966 [error] &lt;0.5968.584&gt; gen_server &lt;0.5968.584&gt;
&gt; terminated with reason: no function clause matching
&gt; riak_core_pb:encode({ts,{1363,975886,897088}},
&gt; {{ts,{1363,975886,897088}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,...&gt;&gt;})
&gt; line 40
&gt; 2013-03-25 10:25:19.966 [error]
&gt; &lt;0.22140.591&gt;@riak_core_handoff_sender:start_fold:226 hinted_handoff
&gt; transfer of riak_kv_vnode from 'riak@5.39.68.152'
&gt; 91343852333181432387730302044767688728495783936 to 'riak@5.135.137.208'
&gt; 91343852333181432387730302044767688728495783936 failed because of
&gt; error:{badmatch,{error,{worker_crash,{function_clause,[{riak_core_pb,encode,[{ts,{1363,975886,897088}},{{ts,{1363,975886,897088}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,108,97,98,108,111,103,45,99,97,99,104,101,109,0,0,0,35,51,81,51,112,78,86,88,79,84,106,57,66,110,90,49,97,65,103,122,45,114,83,67,99,110,53,52,64,50,53,48,120,51,54,48,108,0,0,0,1,104,3,100,0,9,114,95,99,111,110,116,101,110,116,104,9,100,0,4,100,105,99,116,97,6,97,16,97,16,97,8,97,80,97,48,104,16,106,106,106,106,106,106,106,106,106,106,106,106,106,106,106,106,104,1,104,16,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,5,76,105,110,107,115,106,106,106,106,106,106,106,106,106,108,0,0,0,2,108,0,0,0,11,109,0,0,0,12,99,111,110,116,101,110,116,45,116,121,112,101,97,105,97,109,97,97,97,103,97,101,97,47,97,106,97,112,97,101,97,103,106,108,0,0,0,23,109,0,0,0,11,88,45,82,105,97,107,45,86,84,97,103,97,52,97,112,97,110,97,66,97,87,97,104,97,50,97,72,97,48,97,48,97,101,97,84,97,75,97,102,97,50,97,100,97,98,97,75,97,100,97,72,97,88,97,90,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,5,105,110,100,101,120,106,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,20,88,45,82,105,97,107,45,76,97,115,116,45,77,111,100,105,102,105,101,100,104,3,98,0,0,5,83,98,0,14,228,14,98,0,13,175,214,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,11,88,45,82,105,97,107,45,77,101,116,97,106,106,109,0,0,113,109,255,216,255,224,0,16,74,70,73,70,0,1,1,1,0,100,0,100,0,0,255,219,0,67,0,2,1,1,1,1,1,2,1,1,1,2,2,2,2,2,4,3,2,2,2,2,5,4,4,3,4,6,5,6,6,6,5,6,6,6,7,9,8,6,7,9,7,6,6,8,11,8,9,10,10,10,10,10,6,8,11,12,11,10,12,9,10,10,10,255,219,0,67,1,2,2,2,2,2,2,5,3,3,5,10,7,6,7,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,255,192,0,17,8,1,104,0,250,3,1,34,0,2,17,1,3,17,1,255,196,0,30,0,0,2,2,3,1,1,1,1,0,0,0,0,0,0,0,0,4,5,3,6,2,7,8,0,1,9,10,255,196,0,84,16,0,1,3,...&gt;&gt;}],...},...]},...}}}
&gt; [{riak_core_handoff_sender,start_fold,5,[{file,&quot;src/riak_core_handoff_sender.erl&quot;},{line,170}]}]
&gt; 2013-03-25 10:25:19.968 [error] &lt;0.5968.584&gt; CRASH REPORT Process
&gt; &lt;0.5968.584&gt; with 0 neighbours exited with reason: no function clause
&gt; matching riak_core_pb:encode({ts,{1363,975886,897088}},
&gt; {{ts,{1363,975886,897088}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,...&gt;&gt;})
&gt; line 40 in gen_server:terminate/6 line 747
&gt; 2013-03-25 10:25:19.972 [error] &lt;0.27190.4&gt; Supervisor poolboy_sup had child
&gt; riak_core_vnode_worker started with
&gt; {riak_core_vnode_worker,start_link,undefined} at &lt;0.5968.584&gt; exit with
&gt; reason no function clause matching
&gt; riak_core_pb:encode({ts,{1363,975886,897088}},
&gt; {{ts,{1363,975886,897088}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,...&gt;&gt;})
&gt; line 40 in context child_terminated
&gt; 2013-03-25 10:25:27.003 [error]
&gt; &lt;0.23033.591&gt;@riak_core_handoff_sender:start_fold:226 hinted_handoff
&gt; transfer of riak_kv_vnode from 'riak@5.39.68.152'
&gt; 228359630832953580969325755111919221821239459840 to 'riak@5.135.137.208'
&gt; 228359630832953580969325755111919221821239459840 failed because of
&gt; error:{badmatch,{error,{worker_crash,{function_clause,[{riak_core_pb,encode,[{ts,{1363,976020,73012}},{{ts,{1363,976020,73012}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,108,97,98,108,111,103,45,99,97,99,104,101,109,0,0,0,35,51,108,97,88,112,68,87,54,51,49,99,49,51,97,48,50,103,106,115,70,50,56,72,109,54,74,77,64,49,53,48,120,50,54,54,108,0,0,0,1,104,3,100,0,9,114,95,99,111,110,116,101,110,116,104,9,100,0,4,100,105,99,116,97,6,97,16,97,16,97,8,97,80,97,48,104,16,106,106,106,106,106,106,106,106,106,106,106,106,106,106,106,106,104,1,104,16,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,5,76,105,110,107,115,106,106,106,106,106,106,106,106,106,108,0,0,0,2,108,0,0,0,11,109,0,0,0,12,99,111,110,116,101,110,116,45,116,121,112,101,97,105,97,109,97,97,97,103,97,101,97,47,97,106,97,112,97,101,97,103,106,108,0,0,0,23,109,0,0,0,11,88,45,82,105,97,107,45,86,84,97,103,97,54,97,56,97,77,97,109,97,122,97,115,97,83,97,76,97,114,97,105,97,98,97,82,97,71,97,71,97,68,97,120,97,117,97,75,97,107,97,57,97,56,97,104,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,5,105,110,100,101,120,106,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,20,88,45,82,105,97,107,45,76,97,115,116,45,77,111,100,105,102,105,101,100,104,3,98,0,0,5,83,98,0,14,228,148,98,0,1,28,212,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,11,88,45,82,105,97,107,45,77,101,116,97,106,106,109,0,0,24,216,255,216,255,224,0,16,74,70,73,70,0,1,1,1,0,72,0,72,0,0,255,226,2,28,73,67,67,95,80,82,79,70,73,76,69,0,1,1,0,0,2,12,108,99,109,115,2,16,0,0,109,110,116,114,82,71,66,32,88,89,90,32,7,220,0,1,0,25,0,3,0,41,0,57,97,99,115,112,65,80,80,76,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,108,99,109,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,10,100,101,115,99,0,0,0,252,0,0,0,94,99,112,114,116,0,0,1,92,0,0,0,11,119,116,112,116,0,0,1,104,0,0,0,20,98,107,112,116,0,0,1,124,...&gt;&gt;}],...},...]},...}}}
&gt; [{riak_core_handoff_sender,start_fold,5,[{file,&quot;src/riak_core_handoff_sender.erl&quot;},{line,170}]}]
&gt; 2013-03-25 10:25:27.003 [error] &lt;0.7134.584&gt; gen_server &lt;0.7134.584&gt;
&gt; terminated with reason: no function clause matching
&gt; riak_core_pb:encode({ts,{1363,976020,73012}},
&gt; {{ts,{1363,976020,73012}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,...&gt;&gt;})
&gt; line 40
&gt; 2013-03-25 10:25:27.018 [error] &lt;0.7134.584&gt; CRASH REPORT Process
&gt; &lt;0.7134.584&gt; with 0 neighbours exited with reason: no function clause
&gt; matching riak_core_pb:encode({ts,{1363,976020,73012}},
&gt; {{ts,{1363,976020,73012}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,...&gt;&gt;})
&gt; line 40 in gen_server:terminate/6 line 747
&gt; 2013-03-25 10:25:27.029 [error] &lt;0.13194.5&gt; Supervisor poolboy_sup had child
&gt; riak_core_vnode_worker started with
&gt; {riak_core_vnode_worker,start_link,undefined} at &lt;0.7134.584&gt; exit with
&gt; reason no function clause matching
&gt; riak_core_pb:encode({ts,{1363,976020,73012}},
&gt; {{ts,{1363,976020,73012}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,...&gt;&gt;})
&gt; line 40 in context child_terminated
&gt; 2013-03-25 10:25:28.767 [error]
&gt; &lt;0.23312.591&gt;@riak_core_handoff_sender:start_fold:226 hinted_handoff
&gt; transfer of riak_kv_vnode from 'riak@5.39.68.152'
&gt; 548063113999088594326381812268606132370974703616 to 'riak@5.135.137.208'
&gt; 548063113999088594326381812268606132370974703616 failed because of
&gt; error:{badmatch,{error,{worker_crash,{function_clause,[{riak_core_pb,encode,[{ts,{1363,975886,899793}},{{ts,{1363,975886,899793}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,108,97,98,108,111,103,45,99,97,99,104,101,109,0,0,0,35,54,77,54,103,67,78,84,75,55,109,80,117,101,81,119,52,65,104,111,48,52,77,117,69,113,111,119,64,53,48,48,120,53,48,48,108,0,0,0,1,104,3,100,0,9,114,95,99,111,110,116,101,110,116,104,9,100,0,4,100,105,99,116,97,6,97,16,97,16,97,8,97,80,97,48,104,16,106,106,106,106,106,106,106,106,106,106,106,106,106,106,106,106,104,1,104,16,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,5,76,105,110,107,115,106,106,106,106,106,106,106,106,106,108,0,0,0,2,108,0,0,0,11,109,0,0,0,12,99,111,110,116,101,110,116,45,116,121,112,101,97,105,97,109,97,97,97,103,97,101,97,47,97,106,97,112,97,101,97,103,106,108,0,0,0,23,109,0,0,0,11,88,45,82,105,97,107,45,86,84,97,103,97,51,97,89,97,121,97,90,97,107,97,116,97,118,97,88,97,122,97,101,97,103,97,112,97,69,97,117,97,55,97,55,97,75,97,71,97,88,97,108,97,48,97,52,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,5,105,110,100,101,120,106,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,20,88,45,82,105,97,107,45,76,97,115,116,45,77,111,100,105,102,105,101,100,104,3,98,0,0,5,83,98,0,14,228,14,98,0,13,186,58,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,11,88,45,82,105,97,107,45,77,101,116,97,106,106,109,0,0,249,56,255,216,255,224,0,16,74,70,73,70,0,1,1,1,0,72,0,72,0,0,255,219,0,67,0,3,2,2,3,2,2,3,3,3,3,4,3,3,4,5,8,5,5,4,4,5,10,7,7,6,8,12,10,12,12,11,10,11,11,13,14,18,16,13,14,17,14,11,11,16,22,16,17,19,20,21,21,21,12,15,23,24,22,20,24,18,20,21,20,255,219,0,67,1,3,4,4,5,4,5,9,5,5,9,20,13,11,13,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,255,192,0,17,8,1,244,1,244,3,1,34,0,2,17,1,3,17,1,255,196,0,29,0,0,2,1,5,1,1,0,0,0,0,0,0,0,0,0,0,0,1,6,2,3,4,5,...&gt;&gt;}],...},...]},...}}}
&gt; [{riak_core_handoff_sender,start_fold,5,[{file,&quot;src/riak_core_handoff_sender.erl&quot;},{line,170}]}]
&gt; 2013-03-25 10:25:28.767 [error] &lt;0.7652.584&gt; gen_server &lt;0.7652.584&gt;
&gt; terminated with reason: no function clause matching
&gt; riak_core_pb:encode({ts,{1363,975886,899793}},
&gt; {{ts,{1363,975886,899793}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,...&gt;&gt;})
&gt; line 40
&gt; 2013-03-25 10:25:28.770 [error] &lt;0.7652.584&gt; CRASH REPORT Process
&gt; &lt;0.7652.584&gt; with 0 neighbours exited with reason: no function clause
&gt; matching riak_core_pb:encode({ts,{1363,975886,899793}},
&gt; {{ts,{1363,975886,899793}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,...&gt;&gt;})
&gt; line 40 in gen_server:terminate/6 line 747
&gt; 2013-03-25 10:25:28.770 [error] &lt;0.29412.4&gt; Supervisor poolboy_sup had child
&gt; riak_core_vnode_worker started with
&gt; {riak_core_vnode_worker,start_link,undefined} at &lt;0.7652.584&gt; exit with
&gt; reason no function clause matching
&gt; riak_core_pb:encode({ts,{1363,975886,899793}},
&gt; {{ts,{1363,975886,899793}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,...&gt;&gt;})
&gt; line 40 in context child_terminated
&gt;
&gt;
&gt; $ sudo grep -F &quot;[error]&quot; /var/log/riak/console.log | tail -20
&gt; 2013-03-25 05:44:48.666 [error] &lt;0.9721.141&gt; gen_fsm &lt;0.9721.141&gt; in state
&gt; ready terminated with reason: no case clause matching
&gt; {error,bad_crc,{state,[{&lt;&lt;&quot;cache&quot;&gt;&gt;,riak_kv_memory_backend,{state,9404519,9396330,9388137,10737418240,2598492,43200}},{&lt;&lt;&quot;storage-kazeo&quot;&gt;&gt;,riak_kv_bitcask_backend,{state,#Ref&lt;0.0.202.98669&gt;,&quot;114179815416476790484662877555959610910619729920&quot;,[{data_root,&quot;/data/riak/bitcask/storage-kazeo&quot;},{read_write,true}],114179815416476790484662877555959610910619729920,&quot;/data/riak/bitcask/storage-kazeo&quot;}},{&lt;&lt;&quot;storage-laprovence&quot;&gt;&gt;,riak_kv_bitcask_backend,{state,#Ref&lt;0.0.202.98622&gt;,&quot;114179815416476790484662...&quot;,...}},...],...}}
&gt; in riak_kv_vnode:do_diffobj_put/3 line 1154
&gt; 2013-03-25 05:44:48.667 [error] &lt;0.9721.141&gt; CRASH REPORT Process
&gt; &lt;0.9721.141&gt; with 10 neighbours exited with reason: no case clause matching
&gt; {error,bad_crc,{state,[{&lt;&lt;&quot;cache&quot;&gt;&gt;,riak_kv_memory_backend,{state,9404519,9396330,9388137,10737418240,2598492,43200}},{&lt;&lt;&quot;storage-kazeo&quot;&gt;&gt;,riak_kv_bitcask_backend,{state,#Ref&lt;0.0.202.98669&gt;,&quot;114179815416476790484662877555959610910619729920&quot;,[{data_root,&quot;/data/riak/bitcask/storage-kazeo&quot;},{read_write,true}],114179815416476790484662877555959610910619729920,&quot;/data/riak/bitcask/storage-kazeo&quot;}},{&lt;&lt;&quot;storage-laprovence&quot;&gt;&gt;,riak_kv_bitcask_backend,{state,#Ref&lt;0.0.202.98622&gt;,&quot;114179815416476790484662...&quot;,...}},...],...}}
&gt; in riak_kv_vnode:do_diffobj_put/3 line 1154 in gen_fsm:terminate/7 line 611
&gt; 2013-03-25 05:44:48.668 [error] &lt;0.9722.141&gt; Supervisor poolboy_sup had
&gt; child riak_core_vnode_worker started with
&gt; riak_core_vnode_worker:start_link([{worker_module,riak_core_vnode_worker},{worker_args,[114179815416476790484662877555959610910619729920,...]},...])
&gt; at undefined exit with reason no case clause matching
&gt; {error,bad_crc,{state,[{&lt;&lt;&quot;cache&quot;&gt;&gt;,riak_kv_memory_backend,{state,9404519,9396330,9388137,10737418240,2598492,43200}},{&lt;&lt;&quot;storage-kazeo&quot;&gt;&gt;,riak_kv_bitcask_backend,{state,#Ref&lt;0.0.202.98669&gt;,&quot;114179815416476790484662877555959610910619729920&quot;,[{data_root,&quot;/data/riak/bitcask/storage-kazeo&quot;},{read_write,true}],114179815416476790484662877555959610910619729920,&quot;/data/riak/bitcask/storage-kazeo&quot;}},{&lt;&lt;&quot;storage-laprovence&quot;&gt;&gt;,riak_kv_bitcask_backend,{state,#Ref&lt;0.0.202.98622&gt;,&quot;114179815416476790484662...&quot;,...}},...],...}}
&gt; in riak_kv_vnode:do_diffobj_put/3 line 1154 in context shutdown_error
&gt; 2013-03-25 05:44:48.669 [error] &lt;0.9722.141&gt; gen_server &lt;0.9722.141&gt;
&gt; terminated with reason: no case clause matching
&gt; {error,bad_crc,{state,[{&lt;&lt;&quot;cache&quot;&gt;&gt;,riak_kv_memory_backend,{state,9404519,9396330,9388137,10737418240,2598492,43200}},{&lt;&lt;&quot;storage-kazeo&quot;&gt;&gt;,riak_kv_bitcask_backend,{state,#Ref&lt;0.0.202.98669&gt;,&quot;114179815416476790484662877555959610910619729920&quot;,[{data_root,&quot;/data/riak/bitcask/storage-kazeo&quot;},{read_write,true}],114179815416476790484662877555959610910619729920,&quot;/data/riak/bitcask/storage-kazeo&quot;}},{&lt;&lt;&quot;storage-laprovence&quot;&gt;&gt;,riak_kv_bitcask_backend,{state,#Ref&lt;0.0.202.98622&gt;,&quot;114179815416476790484662...&quot;,...}},...],...}}
&gt; in riak_kv_vnode:do_diffobj_put/3 line 1154
&gt; 2013-03-25 05:44:48.670 [error] &lt;0.9722.141&gt; CRASH REPORT Process
&gt; &lt;0.9722.141&gt; with 0 neighbours exited with reason: no case clause matching
&gt; {error,bad_crc,{state,[{&lt;&lt;&quot;cache&quot;&gt;&gt;,riak_kv_memory_backend,{state,9404519,9396330,9388137,10737418240,2598492,43200}},{&lt;&lt;&quot;storage-kazeo&quot;&gt;&gt;,riak_kv_bitcask_backend,{state,#Ref&lt;0.0.202.98669&gt;,&quot;114179815416476790484662877555959610910619729920&quot;,[{data_root,&quot;/data/riak/bitcask/storage-kazeo&quot;},{read_write,true}],114179815416476790484662877555959610910619729920,&quot;/data/riak/bitcask/storage-kazeo&quot;}},{&lt;&lt;&quot;storage-laprovence&quot;&gt;&gt;,riak_kv_bitcask_backend,{state,#Ref&lt;0.0.202.98622&gt;,&quot;114179815416476790484662...&quot;,...}},...],...}}
&gt; in riak_kv_vnode:do_diffobj_put/3 line 1154 in gen_server:terminate/6 line
&gt; 747
&gt; 2013-03-25 05:47:02.413 [error] &lt;0.2635.98&gt; gen_server &lt;0.2635.98&gt;
&gt; terminated with reason: no function clause matching
&gt; riak_core_pb:encode({ts,{1364,132523,595762}},
&gt; {{ts,{1364,132523,595762}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,...&gt;&gt;})
&gt; line 40
&gt; 2013-03-25 05:47:02.413 [error]
&gt; &lt;0.21086.140&gt;@riak_core_handoff_sender:start_fold:226 ownership_handoff
&gt; transfer of riak_kv_vnode from 'riak@5.39.74.55'
&gt; 924856504873462002925769308203272848376019812352 to 'riak@5.39.68.152'
&gt; 924856504873462002925769308203272848376019812352 failed because of
&gt; error:{badmatch,{error,{worker_crash,{function_clause,[{riak_core_pb,encode,[{ts,{1364,132523,595762}},{{ts,{1364,132523,595762}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,108,97,98,108,111,103,45,99,97,99,104,101,109,0,0,0,35,45,45,116,65,57,116,67,100,108,119,82,114,95,104,101,110,115,78,100,77,68,104,99,45,74,114,77,64,53,48,48,120,51,55,53,108,0,0,0,1,104,3,100,0,9,114,95,99,111,110,116,101,110,116,104,9,100,0,4,100,105,99,116,97,6,97,16,97,16,97,8,97,80,97,48,104,16,106,106,106,106,106,106,106,106,106,106,106,106,106,106,106,106,104,1,104,16,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,5,76,105,110,107,115,106,106,106,106,106,106,106,106,106,108,0,0,0,2,108,0,0,0,11,109,0,0,0,12,99,111,110,116,101,110,116,45,116,121,112,101,97,105,97,109,97,97,97,103,97,101,97,47,97,106,97,112,97,101,97,103,106,108,0,0,0,23,109,0,0,0,11,88,45,82,105,97,107,45,86,84,97,103,97,52,97,110,97,48,97,106,97,122,97,83,97,74,97,76,97,81,97,68,97,72,97,100,97,52,97,100,97,99,97,72,97,57,97,54,97,104,97,120,97,76,97,65,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,5,105,110,100,101,120,106,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,20,88,45,82,105,97,107,45,76,97,115,116,45,77,111,100,105,102,105,101,100,104,3,98,0,0,5,84,98,0,2,5,171,98,0,9,22,117,106,106,108,0,0,0,1,108,0,0,0,1,109,0,0,0,11,88,45,82,105,97,107,45,77,101,116,97,106,106,109,0,1,34,141,255,216,255,224,0,16,74,70,73,70,0,1,1,1,0,72,0,72,0,0,255,219,0,67,0,2,1,1,1,1,1,2,1,1,1,2,2,2,2,2,4,3,2,2,2,2,5,4,4,3,4,6,5,6,6,6,5,6,6,6,7,9,8,6,7,9,7,6,6,8,11,8,9,10,10,10,10,10,6,8,11,12,11,10,12,9,10,10,10,255,219,0,67,1,2,2,2,2,2,2,5,3,3,5,10,7,6,7,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,255,192,0,17,8,1,119,1,244,3,1,34,0,2,17,1,3,17,1,255,196,0,30,0,0,1,4,3,1,1,1,0,0,0,0,0,0,0,0,0,6,4,5,7,8,0,3,9,2,1,10,255,196,0,76,16,0,1,3,...&gt;&gt;}],...},...]},...}}}
&gt; [{riak_core_handoff_sender,start_fold,5,[{file,&quot;src/riak_core_handoff_sender.erl&quot;},{line,170}]}]
&gt; 2013-03-25 05:47:02.414 [error] &lt;0.2635.98&gt; CRASH REPORT Process &lt;0.2635.98&gt;
&gt; with 0 neighbours exited with reason: no function clause matching
&gt; riak_core_pb:encode({ts,{1364,132523,595762}},
&gt; {{ts,{1364,132523,595762}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,...&gt;&gt;})
&gt; line 40 in gen_server:terminate/6 line 747
&gt; 2013-03-25 05:47:02.416 [error] &lt;0.7449.0&gt; Supervisor poolboy_sup had child
&gt; riak_core_vnode_worker started with
&gt; {riak_core_vnode_worker,start_link,undefined} at &lt;0.2635.98&gt; exit with
&gt; reason no function clause matching
&gt; riak_core_pb:encode({ts,{1364,132523,595762}},
&gt; {{ts,{1364,132523,595762}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,107,...&gt;&gt;})
&gt; line 40 in context child_terminated
&gt; 2013-03-25 05:49:22.321 [error] &lt;0.17183.142&gt; Bad datafile entry,
&gt; discarding(3255/26661 bytes)
&gt; 2013-03-25 05:49:44.484 [error] &lt;0.17183.142&gt; Failed to merge
&gt; [&quot;/data/riak/bitcask/storage/114179815416476790484662877555959610910619729920&quot;,[{data_root,&quot;/data/riak/bitcask/storage&quot;},{read_write,true}],[&quot;/data/riak/bitcask/storage/114179815416476790484662877555959610910619729920/53.bitcask.data&quot;,&quot;/data/riak/bitcask/storage/114179815416476790484662877555959610910619729920/52.bitcask.data&quot;,&quot;/data/riak/bitcask/storage/114179815416476790484662877555959610910619729920/51.bitcask.data&quot;,&quot;/data/riak/bitcask/storage/114179815416476790484662877555959610910619729920/50.bitcask.data&quot;,&quot;/data/riak/bitcask/storage/114179815416476790484662877555959610910619729920/49.bitcask.data&quot;,&quot;/data/riak/bitcask/storage/114179815416476790484662877555959610910619729920/48.bitcask.data&quot;,&quot;/data/riak/bitcask/storage/114179815416476790484662877555959610910619729920/39.bitcask.data&quot;,&quot;/data/riak/bitcask/storage/114179815416476790484662877555959610910619729920/38.bitcask.data&quot;,&quot;/data/riak/bitcask/storage/114179815416476790484662877555959610910619729920/24.bitcask.data&quot;,&quot;/data/riak/bitcask/storage/114179815416476790484662877555959610910619729920/20.bitcask.data&quot;,&quot;/data/riak/bitcask/storage/114179815416476790484662877555959610910619729920/18.bitcask.data&quot;,&quot;/data/riak/bitcask/storage/114179815416476790484662877555959610910619729920/17.bitcask.data&quot;]]:
&gt; {{badmatch,{error,enospc}},[{bitcask_fileops,write,4,[{file,&quot;src/bitcask_fileops.erl&quot;},{line,154}]},{bitcask,inner_merge_write,6,[{file,&quot;src/bitcask.erl&quot;},{line,1064}]},{bitcask_fileops,fold_loop,8,[{file,&quot;src/bitcask_fileops.erl&quot;},{line,344}]},{bitcask,merge_files,1,[{file,&quot;src/bitcask.erl&quot;},{line,987}]},{bitcask,merge1,3,[{file,&quot;src/bitcask.erl&quot;},{line,584}]},{bitcask_merge_worker,do_merge,1,[{file,&quot;src/bitcask_merge_worker.erl&quot;},{line,133}]}]}
&gt; 2013-03-25 05:49:59.144 [error] &lt;0.16671.3&gt; gen_fsm &lt;0.16671.3&gt; in state
&gt; active terminated with reason: no match of right hand value {error,enospc}
&gt; in bitcask_fileops:write/4 line 154
&gt; 2013-03-25 05:49:59.150 [error] &lt;0.16671.3&gt; CRASH REPORT Process &lt;0.16671.3&gt;
&gt; with 1 neighbours exited with reason: no match of right hand value
&gt; {error,enospc} in bitcask_fileops:write/4 line 154 in gen_fsm:terminate/7
&gt; line 611
&gt; 2013-03-25 05:49:59.152 [error] &lt;0.137.0&gt; Supervisor riak_core_vnode_sup had
&gt; child undefined started with {riak_core_vnode,start_link,undefined} at
&gt; &lt;0.16671.3&gt; exit with reason no match of right hand value {error,enospc} in
&gt; bitcask_fileops:write/4 line 154 in context child_terminated
&gt; 2013-03-25 05:49:59.153 [error] &lt;0.18047.3&gt; gen_fsm &lt;0.18047.3&gt; in state
&gt; ready terminated with reason: no match of right hand value {error,enospc} in
&gt; bitcask_fileops:write/4 line 154
&gt; 2013-03-25 05:49:59.153 [error] &lt;0.18047.3&gt; CRASH REPORT Process &lt;0.18047.3&gt;
&gt; with 10 neighbours exited with reason: no match of right hand value
&gt; {error,enospc} in bitcask_fileops:write/4 line 154 in gen_fsm:terminate/7
&gt; line 611
&gt; 2013-03-25 05:49:59.154 [error] &lt;0.18048.3&gt; Supervisor poolboy_sup had child
&gt; riak_core_vnode_worker started with
&gt; riak_core_vnode_worker:start_link([{worker_module,riak_core_vnode_worker},{worker_args,[1107544209539824867701229912292808225833011380224,...]},...])
&gt; at undefined exit with reason no match of right hand value {error,enospc} in
&gt; bitcask_fileops:write/4 line 154 in context shutdown_error
&gt; 2013-03-25 05:49:59.156 [error] &lt;0.18048.3&gt; gen_server &lt;0.18048.3&gt;
&gt; terminated with reason: no match of right hand value {error,enospc} in
&gt; bitcask_fileops:write/4 line 154
&gt; 2013-03-25 05:49:59.157 [error] &lt;0.18048.3&gt; CRASH REPORT Process &lt;0.18048.3&gt;
&gt; with 0 neighbours exited with reason: no match of right hand value
&gt; {error,enospc} in bitcask_fileops:write/4 line 154 in gen_server:terminate/6
&gt; line 747
&gt; 2013-03-25 10:29:05.078 [error] &lt;0.32028.0&gt; Bad datafile entry,
&gt; discarding(3255/26661 bytes)
&gt;
&gt;
&gt;
&gt;
&gt; 2013/3/22 Evan Vigil-McClanahan &lt;emcclana...@basho.com&gt;
&gt;&gt;
&gt;&gt; Glad to have been able to help.
&gt;&gt;
&gt;&gt; On Fri, Mar 22, 2013 at 12:11 PM, Godefroy de Compreignac
&gt;&gt; &lt;godef...@eklablog.com&gt; wrote:
&gt;&gt; &gt; Thank you a lot for your help!
&gt;&gt; &gt;
&gt;&gt; &gt; I guess I forgot to restart one node after the configuration of a new
&gt;&gt; &gt; memory
&gt;&gt; &gt; backend.
&gt;&gt; &gt; Anyway, I upgraded all my nodes to Riak 1.3.1, and everything seems to
&gt;&gt; &gt; be
&gt;&gt; &gt; working great!
&gt;&gt; &gt;
&gt;&gt; &gt; Godefroy
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; 2013/3/22 Evan Vigil-McClanahan &lt;emcclana...@basho.com&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; OK, so there's a lot going on there.
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; &gt; 2013-03-22 12:02:18.719 [error] &lt;0.16959.2526&gt; gen_server
&gt;&gt; &gt;&gt; &gt; &lt;0.16959.2526&gt;
&gt;&gt; &gt;&gt; &gt; terminated with reason: no function clause matching
&gt;&gt; &gt;&gt; &gt; riak_core_pb:encode({ts,{1363,205559,674898}},
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; {{ts,{1363,205559,674898}},&lt;&lt;131,104,7,100,0,8,114,95,111,98,106,101,99,116,109,0,0,0,14,101,...&gt;&gt;})
&gt;&gt; &gt;&gt; &gt; line 40
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; This one is usually because you have different settings on the memory
&gt;&gt; &gt;&gt; backend on two nodes (one with a ttl, the other without).  Typically
&gt;&gt; &gt;&gt; the solution here is to make sure that the settings are the same
&gt;&gt; &gt;&gt; across the cluster and then do a rolling restart of the cluster.
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; &gt; 2013-03-22 11:28:53.379 [error] &lt;0.28559.1189&gt; gen_fsm &lt;0.28559.1189&gt;
&gt;&gt; &gt;&gt; &gt; in
&gt;&gt; &gt;&gt; &gt; state active terminated with reason: no case clause matching
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; {error,bad_crc,{state,[{&lt;&lt;&quot;cache&quot;&gt;&gt;,riak_kv_memory_backend,{state,57458783,57450590,57442397,10737418240,31415183,43200}},{&lt;&lt;&quot;storage-kazeo&quot;&gt;&gt;,riak_kv_bitcask_backend,{state,#Ref&lt;0.0.461.178788&gt;,&quot;79925870791533753339264014289171727637433810944&quot;,[{data_root,&quot;/data/riak/bitcask/storage-kazeo&quot;},{read_write,true}],79925870791533753339264014289171727637433810944,&quot;/data/riak/bitcask/storage-kazeo&quot;}},{&lt;&lt;&quot;storage-laprovence&quot;&gt;&gt;,riak_kv_bitcask_backend,{state,#Ref&lt;0.0.461.178779&gt;,&quot;79925870791533753339...&quot;,...}},...],...}}
&gt;&gt; &gt;&gt; &gt; in riak_kv_vnode:do_diffobj_put/3 line 1059
&gt;&gt; &gt;&gt; &gt; 2013-03-22 11:28:53.379 [error]
&gt;&gt; &gt;&gt; &gt; &lt;0.15853.1198&gt;@riak_core_handoff_receiver:handle_info:80 Handoff
&gt;&gt; &gt;&gt; &gt; receiver
&gt;&gt; &gt;&gt; &gt; for partition 79925870791533753339264014289171727637433810944 exited
&gt;&gt; &gt;&gt; &gt; abnormally after processing 5337 objects:
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt;
&gt;&gt; &gt;&gt; &gt; {{{case_clause,{error,bad_crc,{state,[{&lt;&lt;&quot;cache&quot;&gt;&gt;,riak_kv_memory_backend,{
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; This one looks like it might be because of some bad data left over
&gt;&gt; &gt;&gt; from your filling up of the disk.  It's possible that upgrading to 1.3
&gt;&gt; &gt;&gt; will help here, it has better handling of corrupted data in bitcask.
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; If that isn't an option right now, let me know, there may be some
&gt;&gt; &gt;&gt; other ways to get the corrupted values out of the cluster.
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;
&gt;

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg10567.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="thrd2.html#10591">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#10591">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg10351.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg10524.html">Re: No more disk space on a node of my Riak cluste...</a></span> <span class="sender italic">Evan Vigil-McClanahan</span></li>
<li class="icons-email"><span class="subject"><a href="msg10542.html">Re: No more disk space on a node of my Riak cluste...</a></span> <span class="sender italic">Evan Vigil-McClanahan</span></li>
<li class="icons-email"><span class="subject"><a href="msg10543.html">Re: No more disk space on a node of my Riak cluste...</a></span> <span class="sender italic">Godefroy de Compreignac</span></li>
<li class="icons-email"><span class="subject"><a href="msg10545.html">Re: No more disk space on a node of my Riak cluste...</a></span> <span class="sender italic">Evan Vigil-McClanahan</span></li>
<li class="icons-email"><span class="subject"><a href="msg10546.html">Re: No more disk space on a node of my Riak cluste...</a></span> <span class="sender italic">Godefroy de Compreignac</span></li>
<li class="icons-email"><span class="subject"><a href="msg10547.html">Re: No more disk space on a node of my Riak cluste...</a></span> <span class="sender italic">Evan Vigil-McClanahan</span></li>
<li class="icons-email"><span class="subject"><a href="msg10561.html">Re: No more disk space on a node of my Riak cluste...</a></span> <span class="sender italic">Godefroy de Compreignac</span></li>
<li class="icons-email"><span class="subject"><a href="msg10562.html">Re: No more disk space on a node of my Riak cluste...</a></span> <span class="sender italic">Evan Vigil-McClanahan</span></li>
<li class="icons-email"><span class="subject"><a href="msg10566.html">Re: No more disk space on a node of my Riak cluste...</a></span> <span class="sender italic">Godefroy de Compreignac</span></li>
<li class="icons-email"><span class="subject"><a href="msg10567.html">Re: No more disk space on a node of my Riak cluste...</a></span> <span class="sender italic">Evan Vigil-McClanahan</span></li>
<li class="icons-email tSliceCur"><span class="subject">Re: No more disk space on a node of my Riak cluste...</span> <span class="sender italic">Mark Phillips</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: No more disk space on a node of my Riak cluster">
<input type="hidden" name="msgid" value="CAE8zJQHe5bOXQe2hgiSJdARqX_chmwygw+EDXCTg7a-Ub3XVJw@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg10591.html">
<input type="submit" value=" Mark Phillips ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+No+more+disk+space+on+a+node+of+my+Riak+cluster%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg10567.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg10351.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAE8zJQHe5bOXQe2hgiSJdARqX_chmwygw+EDXCTg7a-Ub3XVJw@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
