<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: cannot start solr, no logs</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="thrd2.html#17189" id="c">
<link rel="index" href="maillist.html#17189" id="i">
<link rel="prev" href="msg17188.html" id="p">
<link rel="next" href="msg17190.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg17189.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+cannot+start+solr%2C+no+logs%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: cannot start solr, no logs</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Robert+Latko%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Robert Latko</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20160404" rel="nofollow">Mon, 04 Apr 2016 22:48:44 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi Saran,

</pre><tt>I have a  5 node AWS c3.2xlarge instance cluster  running ubuntu 
</tt><tt>14.04lts and I have my solr set to the below (yeah I know, but -Xmx will 
</tt><tt>never get the full 16g's!) ;
</tt><pre style="margin: 0em;"></pre><pre>

</pre><tt>search.solr.jvm_options = -d64 -Xms1g -Xmx16g -XX:+UseG1GC 
</tt><tt>-XX:+ParallelRefProcEnabled -XX:G1HeapRegionSize=8m 
</tt><tt>-XX:MaxGCPauseMillis=200
</tt><pre style="margin: 0em;">
    -XX:+UseLargePages -XX:+AggressiveOpts

I changed out the default Java and load  1.8.45 (jdk-8u45-linux-x64.tar.gz)

</pre><tt>Solr will spin up just find and process heavy queries under load like a 
</tt><tt>champ.
</tt><pre style="margin: 0em;">

</pre><tt>Maybe on a smaller instances changing out the the default Java to 
</tt><tt>1.8.45+ and setting -Xms and -Xmx accordingly would work for you?
</tt><pre style="margin: 0em;">

Also, check console.log for errors regarding solr.

</pre><tt>Lastly, make sure the proper ports are open for solr to communicate 
</tt><tt>across your nodes. ( search.solr.jmx_port = 8985 )
</tt><pre style="margin: 0em;">


Robert





On 04/04/2016 09:52 PM, Vitaly E wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi Saran,

</pre><tt>Just noticed the link at the bottom. You should have given the context 
</tt><tt>in your message.
</tt><pre style="margin: 0em;">

</pre><tt>In any case, I would check the total memory your machine has and how 
</tt><tt>much of it is utilized by other processes.
</tt><tt> Try DECREASING the heap allocation for Solr, just to see it it starts 
</tt><tt>- it looks like the requested memory just is not available.
</tt><pre style="margin: 0em;">

Regards,
Vitaly

</pre><tt>On Tue, Apr 5, 2016 at 7:45 AM, Vitaly E &lt;13vitam...@gmail.com 
</tt><tt>&lt;<a  rel="nofollow" href="mailto:13vitam...@gmail.com">mailto:13vitam...@gmail.com</a>&gt;&gt; wrote:
</tt><pre style="margin: 0em;">

    Hi,

    Could you give some more details? Which version of Riak? Your
    subject line suggests that you cannot start Solr, but what do you
    mean by this? Can you start Riak successfully? Where are you
    looking for logs?

    Do you have search enabled in riak.conf (search = on)?

    Regards,
    Vitaly

    On Tue, Apr 5, 2016 at 7:32 AM, saran &lt;saran.mostlyli...@gmail.com
    &lt;<a  rel="nofollow" href="mailto:saran.mostlyli...@gmail.com">mailto:saran.mostlyli...@gmail.com</a>&gt;&gt; wrote:

        Hello,

        I have same problem.
        I increased -d64 -Xms2.5g -Xmx2.5g still having same problem.
        My ulimit is also good.
        ulimit -Sn 4096
        ulimit -Hn 65536

        Please assist.

        Thanks





        --
        View this message in context:
        
<a  rel="nofollow" href="http://riak-users.197444.n3.nabble.com/cannot-start-solr-no-logs-tp4033816p4034114.html">http://riak-users.197444.n3.nabble.com/cannot-start-solr-no-logs-tp4033816p4034114.html</a>
        Sent from the Riak Users mailing list archive at Nabble.com.

        _______________________________________________
        riak-users mailing list
        riak-users@lists.basho.com &lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt;
        <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>





_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre></blockquote><pre style="margin: 0em;">

</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg17188.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="thrd2.html#17189">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#17189">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg17190.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg16889.html">cannot start solr, no logs</a></span> <span class="sender italic">Hao</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg16890.html">Re: cannot start solr, no logs</a></span> <span class="sender italic">Bryan Hunt</span></li>
<li class="icons-email"><span class="subject"><a href="msg17186.html">Re: cannot start solr, no logs</a></span> <span class="sender italic">saran</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17187.html">Re: cannot start solr, no logs</a></span> <span class="sender italic">Vitaly E</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17188.html">Re: cannot start solr, no logs</a></span> <span class="sender italic">Vitaly E</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: cannot start solr, no logs</span> <span class="sender italic">Robert Latko</span></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg17190.html">Re: cannot start solr, no logs</a></span> <span class="sender italic">saran</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17191.html">Re: cannot start solr, no logs</a></span> <span class="sender italic">saran</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17192.html">Re: cannot start solr, no logs</a></span> <span class="sender italic">saran</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17193.html">Re: cannot start solr, no logs</a></span> <span class="sender italic">saran</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17194.html">Re: cannot start solr, no logs</a></span> <span class="sender italic">saran</span></li>
<li class="icons-email"><span class="subject"><a href="msg17195.html">Re: cannot start solr, no logs</a></span> <span class="sender italic">saran</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: cannot start solr, no logs">
<input type="hidden" name="msgid" value="5703514D.9000604@lmi-global.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg17189.html">
<input type="submit" value=" Robert Latko ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+cannot+start+solr%2C+no+logs%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg17188.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg17190.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">5703514D.9000604@lmi-global.com</li>
</ul>
</div>
</body>
</html>
