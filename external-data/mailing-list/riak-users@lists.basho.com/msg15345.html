<!DOCTYPE html>
<html lang="en">
<head>
<title>issues with bucket types and corrugatediron</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#15345" id="c">
<link rel="index" href="maillist.html#15345" id="i">
<link rel="prev" href="msg15343.html" id="p">
<link rel="next" href="msg15346.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg15345.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22issues+with+bucket+types+and+corrugatediron%22&amp;o=newest" rel="nofollow"><span itemprop="name">issues with bucket types and corrugatediron</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Paige+Thompson%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Paige Thompson</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20141210" rel="nofollow">Wed, 10 Dec 2014 07:46:51 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre><a  rel="nofollow" href="https://github.com/basho-labs/CorrugatedIron/issues/212">https://github.com/basho-labs/CorrugatedIron/issues/212</a></pre><pre>

I may not be understanding this correctly but I'm about to test this in
a sec, maybe I can create the bucket with a shell script to make sure
its created with the specified bucket type, but thats assuming that it
won't maintain two different buckets with the same name &quot;Sessions&quot; when
I try to put objects (IE if I don't put objects and specify the bucket
type in Corrugated Iron.)

As for the rest of the config stuff:

Konsole output
storage_backend = multi

multi_backend.bitcask_mult.storage_backend = bitcask
multi_backend.bitcask_mult.bitcask.data_root = ../data/riak/bitcask_mult

multi_backend.leveldb_mult.storage_backend = leveldb
multi_backend.leveldb_mult.leveldb.data_root = ../data/riak/leveldb_mult

multi_backend.leveldb_mult.storage_backend = memory

multi_backend.default = bitcask_mult


Because of the amount of trouble I had to go through to get that
configuration figured out in the first place, I want to say it's
probably better if I just have 3 different riak servers, one for memory,
one for bitcask, and one for leveldb. This way I wouldn't even have to
mess with bucket types, but I can't even begin to tell you how
unacceptable that is for someone trying to setup riak for development
purposes;

- yeah ok sure just start 3 docker instances because docker totally
doesn't have problems either.

- I guess I could also just have 3 instances of riak running all of
which use different listening ports but thats... fughhhhgly.

I'm having logistical hangups about this in terms of what I have to
support in order to facilitate development efforts led by other people.
I could use some advice as maybe just reading the documentation isn't
doing me any favors? I do have a purpose in in wanting to use all 3 of
these backends, let me describe why I want these things, feel free to
tell me where I'm wrong:

Memory:
session: self expiring objects, fast. Object footprint is predictably
measurable (has a sane maximum size, small)


Bitcask:
user account: no secondary indexes required, items are always retrieved
by the same key, object footprint is predictably measurable (has a sane
maximum size, only needs to be accessed once and the name and location
of the user's data bucket is cached in the session object.) Since keys
are in memory this would mean that authentication should be pretty fast,
and the overhead on the server should be pretty minimal since it's only
needed once every time the user logs in.


leveldb:
user account data buckets: each user has it's own bucket, may have
secondary indexes for searching, bucket/data size is somewhat
invariable; I'm also planning to index each bucket (as per the
documentation for solr, indexing can be done on bucket types and I would
like to set up solr so that it finds all user data buckets by bucket
type.) I've established creating a bucket per user is an ok way to
manage stuff, though I'm wondering what sort of implications this will
have in how partitioning works/doesn't work; will each buckets data be
&quot;partitioned&quot; (seems like in the context of replicas partitioning just
means that each node is responsible for queries to specific items in the
bucket vs specific items only exist in those parititons.)

Any advice appreciated,

-Paige


_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg15343.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#15345">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#15345">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg15346.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email tSliceCur"><span class="subject">issues with bucket types and corrugatediron</span> <span class="sender italic">Paige Thompson</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15346.html">Re: issues with bucket types and corrugatediron</a></span> <span class="sender italic">Paige Thompson</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="issues with bucket types and corrugatediron">
<input type="hidden" name="msgid" value="54886A1C.8040208@yourstruly.sx">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg15345.html">
<input type="submit" value=" Paige Thompson ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22issues+with+bucket+types+and+corrugatediron%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg15343.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg15346.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">54886A1C.8040208@yourstruly.sx</li>
</ul>
</div>
</body>
</html>
