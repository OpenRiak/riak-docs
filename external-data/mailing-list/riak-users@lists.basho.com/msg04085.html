<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: riak-ql</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#04085" id="c">
<link rel="index" href="maillist.html#04085" id="i">
<link rel="prev" href="msg04084.html" id="p">
<link rel="next" href="msg04090.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg04085.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+riak%5C-ql%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: riak-ql</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Kev+Burns%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Kev Burns</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20110726" rel="nofollow">Tue, 26 Jul 2011 20:12:23 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Francisco - How's performance on riak-ql?

The problem I see with riak-ql and Antonio's thing is that they're
invariably going to be slow.
Javascript Map/Reduce over an entire bucket is just not suitable for inline
requests.</pre><pre>

Take PodCrazy
<a  rel="nofollow" href="http://podcrazy.net/">http://podcrazy.net/</a>

It's backed entirely by RiakSearch and memcached.
That episode listing on the homepage is a map/reduce that calculates
popularity based on votes over time.
But right now this simple javascript map/reduce over less than a thousand
items takes about 2 seconds to run.
It totally makes sense as a map/reduce because it's calculating popularity
based on several decaying attributes.
But it has to happen in a background process.

The site is powered by this port of Ripple to PHP
<a  rel="nofollow" href="http://ripple-php.hackyhack.net/test/?test=document">http://ripple-php.hackyhack.net/test/?test=document</a>

Right now ripple-php has remained pretty basic and for good reason.
I've put off creating something more full-featured until secondary indexes
makes it into master.
The shape of the native secondary index mechanism will heavily influence the
design of any Riak ODM.

Lastly, in my experience Riak Search is not very memory efficient as a
non-fulltext index mechanism.
Also sort of useless without support for ranges on anything other than keys.
You wind up selecting limit 0,999 and doing the slice yourself.

I suppose I see the value of a tool like riak-ql for reporting.
And I imagine this sort of tool will continue to be useful to add the sort
of features that Secondary Indexes will not support.
And I also imagine a tool like this would be faster if implemented in
Erlang.

- Kev
c: +001 (650) 521-7791
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg04084.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#04085">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#04085">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg04090.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg04049.html">riak-ql</a></span> <span class="sender italic">francisco treacy</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04051.html">Re: riak-ql</a></span> <span class="sender italic">Mark Phillips</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04053.html">Re: riak-ql</a></span> <span class="sender italic">francisco treacy</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04078.html">Re: riak-ql</a></span> <span class="sender italic">Jonathan Langevin</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04080.html">Re: riak-ql</a></span> <span class="sender italic">Antonio Rohman Fernandez</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04081.html">Re: riak-ql</a></span> <span class="sender italic">Kev Burns</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04082.html">Re: riak-ql</a></span> <span class="sender italic">Jonathan Langevin</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04084.html">Re: riak-ql</a></span> <span class="sender italic">Antonio Rohman Fernandez</span></li>
<li class="icons-email tSliceCur"><span class="subject">Re: riak-ql</span> <span class="sender italic">Kev Burns</span></li>
<li class="icons-email"><span class="subject"><a href="msg04090.html">Re: riak-ql</a></span> <span class="sender italic">francisco treacy</span></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg04083.html">Re: riak-ql</a></span> <span class="sender italic">Antonio Rohman Fernandez</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04086.html">Re: riak-ql</a></span> <span class="sender italic">Antonio Rohman Fernandez</span></li>
<li class="icons-email"><span class="subject"><a href="msg04087.html">Re: riak-ql</a></span> <span class="sender italic">Kev Burns</span></li>
<li class="icons-email"><span class="subject"><a href="msg04088.html">Re: riak-ql</a></span> <span class="sender italic">Antonio Rohman Fernandez</span></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg04091.html">Re: riak-ql</a></span> <span class="sender italic">francisco treacy</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04092.html">Re: riak-ql</a></span> <span class="sender italic">Antonio Rohman Fernandez</span></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg04100.html">Re: riak-ql</a></span> <span class="sender italic">Kev Burns</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: riak-ql">
<input type="hidden" name="msgid" value="CAG3Aiu5ssekt=3k9sGz3STRBtQEtP=i2Zt9cVgVGcfHS5y6saA@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg04085.html">
<input type="submit" value=" Kev Burns ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+riak%5C-ql%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg04084.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg04090.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAG3Aiu5ssekt=3k9sGz3STRBtQEtP=i2Zt9cVgVGcfHS5y6saA@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
