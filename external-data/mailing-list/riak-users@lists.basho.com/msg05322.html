<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Difference between 2I and Search</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="thrd2.html#05322" id="c">
<link rel="index" href="mail2.html#05322" id="i">
<link rel="prev" href="msg05332.html" id="p">
<link rel="next" href="msg05294.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg05322.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Difference+between+2I+and+Search%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Difference between 2I and Search</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Elias+Levy%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Elias Levy</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20111026" rel="nofollow">Wed, 26 Oct 2011 09:28:04 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>On Wed, Oct 26, 2011 at 9:00 AM, &lt;riak-users-requ...@lists.basho.com&gt; wrote:</pre><pre>

&gt; From: Kresten Krab Thorup &lt;k...@trifork.com&gt;
&gt;
&gt; Perhaps as follow-up FAQ-style questions, you could also answer these
&gt; questions:
&gt;
&gt; 1. What is the typical execution profile of 2i vs solr queries?  Do all
&gt; queries go to all nodes in the cluster, or does it depend on the query?  I
&gt; imagine that range-queries need to go to all vnodes, whereas simple
&gt; &quot;prop=value&quot; queries may be more directly to a node holding the given index.
&gt;
&gt; 2. What is the reliability N,R,W / replication / failover properties of
&gt; these indexes?  How do the two different index types reconcile after a
&gt; netsplit / crash?
&gt;

That is a good question.  My understanding is that Riak Search essentially
operates with R=1, N=3, and W=0 by default.  But since Riak does not
automatically replicate data if you loose a node, in that situation, even if
you bring a new node into the cluster to replace a lost one, it would imply
that in a three node cluster, 1/3 of times a query may find no answers, if
the query is routed to the new nodes added to the cluster that should have
but does not have one replica.

Is that correct?

If so, it would seem the default W=3 gives a false sense of security.  Yes,
you got replicas of the data, but by default there is on guarantee you'll
use one of them after loosing a node and replacing it.

Is there a way to set the R value for search?
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg05332.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="thrd2.html#05322">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="mail2.html#05322">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg05294.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg05292.html">Difference between 2I and Search</a></span> <span class="sender italic">Soren Hansen</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg05315.html">Re: Difference between 2I and Search</a></span> <span class="sender italic">Rusty Klophaus</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg05321.html">Re: Difference between 2I and Search</a></span> <span class="sender italic">Kresten Krab Thorup</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg05324.html">Re: Difference between 2I and Search</a></span> <span class="sender italic">Soren Hansen</span></li>
<li class="icons-email"><span class="subject"><a href="msg05332.html">Re: Difference between 2I and Search</a></span> <span class="sender italic">Ryan Zezeski</span></li>
</ul></li>
</ul></li>
<li class="icons-email tSliceCur"><span class="subject">Re: Difference between 2I and Search</span> <span class="sender italic">Elias Levy</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Difference between 2I and Search">
<input type="hidden" name="msgid" value="CAFDmHdPyjDqvmgZwVz=d15gOWtUu=bUtYU1Bw57YN_+ZQY-vLg@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg05322.html">
<input type="submit" value=" Elias Levy ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Difference+between+2I+and+Search%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg05332.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg05294.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAFDmHdPyjDqvmgZwVz=d15gOWtUu=bUtYU1Bw57YN_+ZQY-vLg@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
