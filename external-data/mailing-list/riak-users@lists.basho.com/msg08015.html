<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Riak 1.2.0 RC2</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#08015" id="c">
<link rel="index" href="maillist.html#08015" id="i">
<link rel="prev" href="msg08002.html" id="p">
<link rel="next" href="msg08016.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg08015.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+1.2.0+RC2%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Riak 1.2.0 RC2</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Joseph+Blomstedt%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Joseph Blomstedt</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20120721" rel="nofollow">Sat, 21 Jul 2012 19:09:13 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Riak Users,

A critical bug has been identified in the Riak 1.2 RC2 build that was
not in the earlier RC1 build. If you restart an RC2 node, it will
overwrite it's ring file with a fresh ring, therefore removing any
history that the node was part of an existing cluster. In other words,
if you build a cluster of Riak nodes, and then restart a node, that
node will no longer be a member of the cluster. Same will happen if
you upgrade a node, and then restart it.</pre><pre>

Since we know that some users try out RC builds on their staging
clusters, and sometimes as 1 or 2 nodes out of many on their
production clusters, we wanted to let everyone know about this bug as
soon as it was identified. We are going to be pulling the RC2 packages
later today. A patch for this bug has been created and is being vetted
right now, an RC3 build should land on Monday.

If you have run into this issue, you can issue 'riak-admin join -f
&lt;node-still-in-cluster&gt;' on the node that believes it is no longer a
member of the cluster and the node should re-integrate into the
cluster without issue.

For the curious, this bug was quickly identified by the testing
process we use to qualify RC builds before eventually promoting an RC
build to an actual release. It just turns out that our process has
always been to publicly release an RC build as soon as it's cut, and
then run our QA tests in parallel. Thus, allowing maximum time for
both Basho internal testing and testing from the community. Before
releasing the first RC (RC1) build, there are multiple internal
pre-release builds that are tested using the same process.
Unfortunately, this particular regression arose in between RC1 and
RC2.

Regards,
Joe

On Fri, Jul 20, 2012 at 2:21 PM, Jared Morrow &lt;ja...@basho.com&gt; wrote:
&gt; Riak Users,
&gt;
&gt; Riak 1.2.0 RC2 has been built and uploaded with changes reported both by
&gt; users on this list and internal testing.
&gt;
&gt; The downloads page has been updated with the new build:
&gt; <a  rel="nofollow" href="http://basho.com/resources/downloads/">http://basho.com/resources/downloads/</a>
&gt;
&gt; Also, the release notes have been updated with bugs fixed in RC2:
&gt; <a  rel="nofollow" href="https://github.com/basho/riak/blob/1.2/RELEASE-NOTES.md">https://github.com/basho/riak/blob/1.2/RELEASE-NOTES.md</a>
&gt;
&gt; The new set of bugs fixed are the following:
&gt;
&gt; riak_api - Add riak_core as application dep to riak_api.app
&gt; riak_api - Register riak_api_stat mod with riak_core at start up
&gt; Add eleveldb:close - Fixes MANIFEST file missing bug
&gt; riak_kv - Call eleveldb:close before destroy
&gt; riak_control - Resolve base64 cookie truncation race condition.
&gt; Fix FreeBSD package permissions on sbin
&gt; Create SmartOS SMF service for epmd
&gt;
&gt; Thanks as always for the feedback!
&gt;
&gt; -Basho
&gt;
&gt;
&gt;
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;



-- 
Joseph Blomstedt &lt;j...@basho.com&gt;
Senior Software Engineer
Basho Technologies, Inc.
<a  rel="nofollow" href="http://www.basho.com/">http://www.basho.com/</a>

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg08002.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#08015">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#08015">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg08016.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg08002.html">Riak 1.2.0 RC2</a></span> <span class="sender italic">Jared Morrow</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Riak 1.2.0 RC2</span> <span class="sender italic">Joseph Blomstedt</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg08016.html">Re: Riak 1.2.0 RC2</a></span> <span class="sender italic">Jared Morrow</span></li>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Riak 1.2.0 RC2">
<input type="hidden" name="msgid" value="CANvk2KTgjGVJtgRcLWPwQiOHiZox8HCxguNvobHbeFgogTAAqA@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg08015.html">
<input type="submit" value=" Joseph Blomstedt ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+1.2.0+RC2%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg08002.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg08016.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CANvk2KTgjGVJtgRcLWPwQiOHiZox8HCxguNvobHbeFgogTAAqA@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
