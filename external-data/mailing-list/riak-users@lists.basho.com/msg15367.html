<!DOCTYPE html>
<html lang="en">
<head>
<title>RiakSearch with java-client</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#15367" id="c">
<link rel="index" href="maillist.html#15367" id="i">
<link rel="prev" href="msg15362.html" id="p">
<link rel="next" href="msg15376.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg15367.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22RiakSearch+with+java%5C-client%22&amp;o=newest" rel="nofollow"><span itemprop="name">RiakSearch with java-client</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Santi+Kumar%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Santi Kumar</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20141215" rel="nofollow">Mon, 15 Dec 2014 02:08:15 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi
I'm tying to use Riak Search 2.0 with java client. Couldn't find any good
documentation around that so I'm trying on my own. I've created my own
custom schema and want to setup this to my index. While executing the
StoreSchema command, was getting below error with some message bits.</pre><pre>

com.basho.riak.client.core.netty.RiakResponseException: Error processing
incoming message: error:function_clause:xxxxxxx


Here is how I'm adding the Custom schema and adding index. Let me know If
I'm doing something wrong

public static void buildSearchIndex(String bucketName,String indexName)
throws Exception{

    InputStream systemResourceAsStream =
ClassLoader.getSystemResourceAsStream(&quot;./veradocs-solr-schema.xml&quot;);

    String schema = IOUtils.toString(systemResourceAsStream,&quot;UTF-8&quot;);

    RiakClient client = RiakClientUtil.getClient();

    YokozunaSchema yschema = new YokozunaSchema(&quot;veradocs-rs&quot;, schema);

    StoreSchema storeSchemaOp = new StoreSchema.Builder(yschema).build();

    client.execute(storeSchemaOp);

    YokozunaIndex vdIndex = new YokozunaIndex(indexName,schema);

    StoreIndex storeIndex =

        new StoreIndex.Builder(vdIndex).build();

    client.execute(storeIndex);

    Namespace catsBucket = new Namespace(bucketName);

    StoreBucketProperties storeBucketProps = new
StoreBucketProperties.Builder(catsBucket)

     .withSearchIndex(indexName)

     .build();

    RiakFuture&lt;Void,Namespace&gt; executeAsync = client.executeAsync(
storeBucketProps);

    executeAsync.get();

    }
Thanks
Santi
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg15362.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#15367">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#15367">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg15376.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email tSliceCur"><span class="subject">RiakSearch with java-client</span> <span class="sender italic">Santi Kumar</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15376.html">Re: RiakSearch with java-client</a></span> <span class="sender italic">Luke Bakken</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15378.html">Re: RiakSearch with java-client</a></span> <span class="sender italic">Santi Kumar</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15379.html">Re: RiakSearch with java-client</a></span> <span class="sender italic">Luke Bakken</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15380.html">Re: RiakSearch with java-client</a></span> <span class="sender italic">Santi Kumar</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="RiakSearch with java-client">
<input type="hidden" name="msgid" value="CADY+tZXFhRimZYcLu6O2tAQb=wR-3hUL5obvEvnWaHVHUMi-Fw@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg15367.html">
<input type="submit" value=" Santi Kumar ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22RiakSearch+with+java%5C-client%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg15362.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg15376.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CADY+tZXFhRimZYcLu6O2tAQb=wR-3hUL5obvEvnWaHVHUMi-Fw@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
