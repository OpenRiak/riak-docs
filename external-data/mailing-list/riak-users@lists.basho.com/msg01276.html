<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Upgrade procedure from 0.12 to 0.13</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#01276" id="c">
<link rel="index" href="maillist.html#01276" id="i">
<link rel="prev" href="msg01273.html" id="p">
<link rel="next" href="msg01275.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg01276.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Upgrade+procedure+from+0.12+to+0.13%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Upgrade procedure from 0.12 to 0.13</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Mojito+Sorbet%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Mojito Sorbet</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20101013" rel="nofollow">Wed, 13 Oct 2010 13:46:39 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>To me, inability to upgrade a large Riak cluster incrementally would be
a major factor against choosing it.  The evolution of the protocols must
be constrained so that this is possible.   Now is the time to work that
out, while the version number still starts with &quot;0&quot;.</pre><pre>

On Wed, 2010-10-13 at 11:34 -0600, David Smith wrote:
&gt; To the best of my knowledge, there are no changes between 0.12-&gt;0.13
&gt; that would prevent a rolling upgrade. That said, we have not tested
&gt; that specific use-case yet -- it's in the pipeline to be part of our
&gt; pre-release automated testing.
&gt; 
&gt; I'd recommend you'd try it on a QA cluster before doing it live...but
&gt; it should generally work. :)
&gt; 
&gt; D.
&gt; 
&gt; On Wed, Oct 13, 2010 at 11:30 AM, Alexander Sicular &lt;sicul...@gmail.com&gt; 
&gt; wrote:
&gt; &gt; Well it sounds to me that there are three primary considerations. 
&gt; &gt; Riak_core, Riak_kv and bitcask (assuming you are using that backend). If 
&gt; &gt; either of those change in some incompatible way you could end up doing 
&gt; &gt; damage to your data. I dunno, sounds possible to me. That said, rolling 
&gt; &gt; upgrades would be ... desirable. Personally I would not do it unless Basho 
&gt; &gt; said it was kosher.
&gt; &gt;
&gt; &gt; -Alexander
&gt; &gt;
&gt; &gt;
&gt; &gt; On Oct 13, 2010, at 1:23 PM, Wilson MacGyver wrote:
&gt; &gt;
&gt; &gt;&gt; I thought it's possible to do &quot;rolling upgrade&quot;. ie, shutdown 1 node,
&gt; &gt;&gt; upgrade it, and reconnect the
&gt; &gt;&gt; node to the cluster.
&gt; &gt;&gt;
&gt; &gt;&gt; otherwise you'd need 2X of the nodes in production.
&gt; &gt;&gt;
&gt; &gt;&gt; On Wed, Oct 13, 2010 at 1:21 PM, Alexander Sicular &lt;sicul...@gmail.com&gt; 
&gt; &gt;&gt; wrote:
&gt; &gt;&gt;&gt; I'm pretty sure that Baho would recommend that all nodes in a cluster 
&gt; &gt;&gt;&gt; should be running the same version. An upgrade would probably require 
&gt; &gt;&gt;&gt; doing a full database backup and a full database restore on a *new* 
&gt; &gt;&gt;&gt; cluster.
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; -Alexander
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; On Oct 13, 2010, at 10:06 AM, SKester wrote:
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; Hey folks,
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; What is the proper way to upgrade a cluster from 0.12 to 0.13?  Our 4 
&gt; &gt;&gt;&gt;&gt; node cluster was originally created by installing the 0.12 rpms.  Is the 
&gt; &gt;&gt;&gt;&gt; process as simple as stopping  riak on a node, installing the new rpm 
&gt; &gt;&gt;&gt;&gt; and re-starting?  Is it possible to roll through each node one at a time 
&gt; &gt;&gt;&gt;&gt; while the others are still available, or do all nodes need to be halted 
&gt; &gt;&gt;&gt;&gt; and upgraded at the same time?  I have backed up the /etc/riak directory 
&gt; &gt;&gt;&gt;&gt; to save the initial config data.  Are the 0.12 config files fully 
&gt; &gt;&gt;&gt;&gt; compatible with 0.13?
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; Thanks,
&gt; &gt;&gt;&gt;&gt; Scott
&gt; &gt;&gt;&gt;&gt; _______________________________________________
&gt; &gt;&gt;&gt;&gt; riak-users mailing list
&gt; &gt;&gt;&gt;&gt; riak-users@lists.basho.com
&gt; &gt;&gt;&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; -Alexander Sicular
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; @siculars
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; _______________________________________________
&gt; &gt;&gt;&gt; riak-users mailing list
&gt; &gt;&gt;&gt; riak-users@lists.basho.com
&gt; &gt;&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; --
&gt; &gt;&gt; Omnem crede diem tibi diluxisse supremum.
&gt; &gt;&gt;
&gt; &gt;&gt; _______________________________________________
&gt; &gt;&gt; riak-users mailing list
&gt; &gt;&gt; riak-users@lists.basho.com
&gt; &gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt; &gt;
&gt; &gt;
&gt; &gt; -Alexander Sicular
&gt; &gt;
&gt; &gt; @siculars
&gt; &gt;
&gt; &gt;
&gt; &gt; _______________________________________________
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt; &gt;
&gt; 
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>



_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg01273.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#01276">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#01276">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg01275.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg01268.html">Upgrade procedure from 0.12 to 0.13</a></span> <span class="sender italic">SKester</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg01269.html">Re: Upgrade procedure from 0.12 to 0.13</a></span> <span class="sender italic">Alexander Sicular</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg01270.html">Re: Upgrade procedure from 0.12 to 0.13</a></span> <span class="sender italic">Wilson MacGyver</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg01271.html">Re: Upgrade procedure from 0.12 to 0.13</a></span> <span class="sender italic">Jesse Newland</span></li>
<li class="icons-email"><span class="subject"><a href="msg01272.html">Re: Upgrade procedure from 0.12 to 0.13</a></span> <span class="sender italic">Alexander Sicular</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg01274.html">Re: Upgrade procedure from 0.12 to 0.13</a></span> <span class="sender italic">David Smith</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg01273.html">Re: Upgrade procedure from 0.12 to...</a></span> <span class="sender italic">Wilson MacGyver</span></li>
<li class="icons-email tSliceCur"><span class="subject">Re: Upgrade procedure from 0.12 to...</span> <span class="sender italic">Mojito Sorbet</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Upgrade procedure from 0.12 to 0.13">
<input type="hidden" name="msgid" value="1287002786.2360.3.camel@crescendo">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg01276.html">
<input type="submit" value=" Mojito Sorbet ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Upgrade+procedure+from+0.12+to+0.13%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg01273.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg01275.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">1287002786.2360.3.camel@crescendo</li>
</ul>
</div>
</body>
</html>
