<!DOCTYPE html>
<html lang="en">
<head>
<title>RE: Having trouble setting up riak-cs using s3cmd to test</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#18613" id="c">
<link rel="index" href="maillist.html#18613" id="i">
<link rel="prev" href="msg18612.html" id="p">
<link rel="next" href="msg18614.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg18613.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22RE%5C%3A+Having+trouble+setting+up+riak%5C-cs+using+s3cmd+to+test%22&amp;o=newest" rel="nofollow"><span itemprop="name">RE: Having trouble setting up riak-cs using s3cmd to test</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Nicholas+Adams%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Nicholas Adams</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20190423" rel="nofollow">Tue, 23 Apr 2019 07:58:16 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi Greg,
I’m guessing that something isn’t running. Try the following (without the back 
checks) and see if you get “pong” for each one:
`riak ping`
`riak-cs ping`
`stanchion ping`</pre><pre>

You may or may not need `sudo` to execute the above depending on the user you 
are using.

Incidentally, your s3cfg file looks incredibly short. Here is my standard one:

                        access_key = admin.key
                        bucket_location = US
                        cloudfront_host = cloudfront.amazonaws.com
                        cloudfront_resource = /2010-07-15/distribution
                        default_mime_type = binary/octet-stream
                        delete_removed = False
                        dry_run = False
                        encoding = UTF-8
                        encrypt = False
                        follow_symlinks = False
                        force = False
                        get_continue = False
                        gpg_command = /usr/bin/gpg
                        gpg_decrypt = %(gpg_command)s -d --verbose 
--no-use-agent --batch --yes --passphrase-fd %(passphrase_fd)s -o 
%(output_file)s %(input_file)s
                        gpg_encrypt = %(gpg_command)s -c --verbose 
--no-use-agent --batch --yes --passphrase-fd %(passphrase_fd)s -o 
%(output_file)s %(input_file)s
                        gpg_passphrase =
                        guess_mime_type = True
                        host_base = s3.amazonaws.com
                        host_bucket = %(bucket)s.s3.amazonaws.com
                        human_readable_sizes = False
                        list_md5 = False
                        log_target_prefix =
                        preserve_attrs = True
                        progress_meter = True
                        proxy_host = 127.0.0.1
                        proxy_port = 18080
                        recursive = False
                        recv_chunk = 4096
                        reduced_redundancy = False
                        secret_key = admin.secret
                        send_chunk = 4096
                        simpledb_host = sdb.amazonaws.com
                        skip_existing = False
                        socket_timeout = 10
                        urlencoding_mode = normal
                        use_https = False
                        verbosity = WARNING
                        signature_v2 = True

Of course, the admin.key and admin.secret are substituted out for appropriate 
values.

Finally, what version of s3cmd are you using? If 1.x then you should be fine. 
2.x is known to have a few difficulties with some functions but usually works. 
We are hoping to rectify that in Riak CS 2.2.0.

Hope this helps,

Nicholas

From: riak-users &lt;riak-users-boun...@lists.basho.com&gt; On Behalf Of Greg Zoller
Sent: 23 April 2019 23:43
To: riak-users@lists.basho.com
Subject: Having trouble setting up riak-cs using s3cmd to test

Hello,

I'm following the instructions for the Docker-ized riak-cs.  The Docker 
container runs and (appears) healthy.

I am now testing the install with s3cmd as described in the instructions.  I 
installed s3cmd and am using this .s3cfg file:  (the 2 keys I got from the 
running container's log output as instructed)

[default]
access_key = Q9NKDXZJGAD2CZF3T4B7
host_base = s3.amazonaws.dev&lt;<a  rel="nofollow" href="http://s3.amazonaws.dev">http://s3.amazonaws.dev</a>&gt;
host_bucket = %(bucket)s.s3.amazonaws.dev&lt;<a  rel="nofollow" href="http://s.s3.amazonaws.dev">http://s.s3.amazonaws.dev</a>&gt;
proxy_host = localhost
proxy_port = 8080
secret_key = 2aR_IthHHYQpFGx8xP0z46ZyoQUsfzvSsTl4bA==
signature_v2 = True

When I run a simple command like &quot;s3cmd ls&quot; I get this output:

WARNING: Retrying failed request: / (No status line received - the server has 
closed the connection)
WARNING: Waiting 3 sec...
WARNING: Retrying failed request: / (No status line received - the server has 
closed the connection)
WARNING: Waiting 6 sec...
^CSee ya!

Any ideas what I'm doing wrong?
Thanks,
Greg
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg18612.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#18613">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#18613">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg18614.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg18612.html">Having trouble setting up riak-cs using s3cmd to test</a></span> <span class="sender italic">Greg Zoller</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">RE: Having trouble setting up riak-cs using s3cmd to t...</span> <span class="sender italic">Nicholas Adams</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="RE: Having trouble setting up riak-cs using s3cmd to test">
<input type="hidden" name="msgid" value="cd5dc51a761a46f0a1a2af0282067b84@MBX04C-ORD1.mex06.mlsrvr.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg18613.html">
<input type="submit" value=" Nicholas Adams ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22RE%5C%3A+Having+trouble+setting+up+riak%5C-cs+using+s3cmd+to+test%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg18612.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg18614.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">cd5dc51a761a46f0a1a2af0282067b84@MBX04C-ORD1.mex06.mlsrvr.com</li>
</ul>
</div>
</body>
</html>
