<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: change keys after user admin created</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#16977" id="c">
<link rel="index" href="maillist.html#16977" id="i">
<link rel="prev" href="msg16973.html" id="p">
<link rel="next" href="msg16978.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg16977.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+change+keys+after+user+admin+created%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: change keys after user admin created</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Shunichi+Shinohara%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Shunichi Shinohara</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20160117" rel="nofollow">Sun, 17 Jan 2016 23:43:06 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi Diego,

Sorry for late reply. It's difficult or rather tricky to modify the key
of existing user.
If your requirement can be fulfilled by getting the user from existing
cluster and putting it to newly created cluster, it's easier.
In Riak KV sense (NOT Riak S2/CS sense), CS user is an Riak KV object
under the bucket &quot;moss.user&quot;, its key is user key. Get and Put of KV
objects can be done as described in KV doc [1].</pre><pre>

Another way is to create user in newly created cluster by specifying
key and secret in the existing user. This process has one downside,
canonical ID is dynamically generated and will be different in two
clusters. If you don't use canonical ID in any operation, it will work
but otherwise not.

[1] For example, <a  rel="nofollow" href="http://docs.basho.com/riak/latest/dev/using/basics/">http://docs.basho.com/riak/latest/dev/using/basics/</a>
   Riak S2/CS does not use bucket types.
[2] <a  rel="nofollow" href="https://github.com/basho/riak_cs/issues/1074#issuecomment-111110461">https://github.com/basho/riak_cs/issues/1074#issuecomment-111110461</a>

Thanks,
Shino


2016-01-15 21:32 GMT+09:00 buahho &lt;bua...@gmail.com&gt;:
&gt; Hi everyone,
&gt;
&gt; I'm using riak-cs in a distributed cluster and i'm trying to clone the
&gt; cluster to another that needs to be identical. The case is that I need to
&gt; put the same key to the user admin in the cloned cluster after riak has been
&gt; installed.
&gt;
&gt; So, my question is very simple: is there a way to modify the key of the user
&gt; admin after is created?
&gt;
&gt; Thanks at all!!
&gt;
&gt; Diego Mart√≠nez.
&gt;
&gt;
&gt;
&gt; --
&gt; View this message in context: 
&gt; <a  rel="nofollow" href="http://riak-users.197444.n3.nabble.com/change-keys-after-user-admin-created-tp4033901.html">http://riak-users.197444.n3.nabble.com/change-keys-after-user-admin-created-tp4033901.html</a>
&gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg16973.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#16977">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#16977">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg16978.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg16973.html">change keys after user admin created</a></span> <span class="sender italic">buahho</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: change keys after user admin created</span> <span class="sender italic">Shunichi Shinohara</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: change keys after user admin created">
<input type="hidden" name="msgid" value="CAMe3p=Re0a3w9B-WJSX4cP1FaYQHV6FtCi+zWswB9bmbXqqWhQ@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg16977.html">
<input type="submit" value=" Shunichi Shinohara ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+change+keys+after+user+admin+created%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg16973.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg16978.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAMe3p=Re0a3w9B-WJSX4cP1FaYQHV6FtCi+zWswB9bmbXqqWhQ@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
