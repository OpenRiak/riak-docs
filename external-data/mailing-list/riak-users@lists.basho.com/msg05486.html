<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: riak ubuntu 11 building problems</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#05486" id="c">
<link rel="index" href="maillist.html#05486" id="i">
<link rel="prev" href="msg05485.html" id="p">
<link rel="next" href="msg05489.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg05486.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+riak+ubuntu+11+building+problems%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: riak ubuntu 11 building problems</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Ivan+Trajkovic%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Ivan Trajkovic</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20111108" rel="nofollow">Tue, 08 Nov 2011 15:47:10 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>hi Jared, thank you for your fast response...
interestingly riak 1.0.1 does build now, from source (github)... unlike
before... not really sure what changed.
but the old errors are coming up again, when trying to start riak:</pre><pre>

~/Desktop/riak/rel/riak$ bin/riak start
escript: Failed to open file: ~/Desktop/riak/rel/riak/erts-5.9/bin/nodetool
escript: Failed to open file: ~/Desktop/riak/rel/riak/erts-5.9/bin/nodetool
Error reading ~/Desktop/riak/rel/riak/etc/app.config


erts-5.9/bin/nodetool really isnt there
app.config however is present, but Im guessing that error is dependent on
the nodetool failure error coming up

On Tue, Nov 8, 2011 at 6:09 PM, Jared Morrow &lt;ja...@basho.com&gt; wrote:

&gt;
&gt; In an effort to reproduce the problem, I started with a fresh ubuntu 11.10
&gt; image to build riak.   First off you'll need these dependencies for ubuntu
&gt; 11: make, binutils (really ubuntu, no gnu make by default?),
&gt; libncurses5-dev, libssl-dev (or libssl-dev-0.9.8 if you are using riak deb
&gt; package), libstdc++, g++.
&gt; Here are the steps I did:
&gt;
&gt; Download erlang R14B03 from erlang.org and download riak-1.0.1 source
&gt; tar.gz file from downloads.basho.com.
&gt;
&gt; jared@dev-ubuntu-01:~$ ls
&gt; otp_src_R14B03  otp_src_R14B03.tar.gz  riak-1.0.1  riak-1.0.1.tar.gz
&gt; jared@dev-ubuntu-01:~$ uname -a
&gt; Linux dev-ubuntu-01 3.0.0-12-server #20-Ubuntu SMP Fri Oct 7 16:36:30 UTC
&gt; 2011 x86_64 x86_64 x86_64 GNU/Linux
&gt; &lt;snip&gt;
&gt; build erlang from source (configure / make / make install)
&gt; &lt;snip&gt;
&gt; jared@dev-ubuntu-01:~/riak-1.0.1$ make rel
&gt; make: git: Command not found
&gt; ./rebar get-deps
&gt; make: git: Command not found
&gt; make: git: Command not found
&gt; make: git: Command not found
&gt; ==&gt; cluster_info (get-deps)
&gt; ==&gt; skerl (get-deps)
&gt; ==&gt; lager (get-deps)
&gt; ==&gt; poolboy (get-deps)
&gt; ==&gt; protobuffs (get-deps)
&gt; ==&gt; basho_stats (get-deps)
&gt; ==&gt; riak_sysmon (get-deps)
&gt; ==&gt; mochiweb (get-deps)
&gt; ==&gt; webmachine (get-deps)
&gt; ==&gt; riak_core (get-deps)
&gt; ==&gt; riakc (get-deps)
&gt; ==&gt; luke (get-deps)
&gt; ==&gt; erlang_js (get-deps)
&gt; ==&gt; bitcask (get-deps)
&gt; ==&gt; merge_index (get-deps)
&gt; ==&gt; ebloom (get-deps)
&gt; ==&gt; eper (get-deps)
&gt; ==&gt; eleveldb (get-deps)
&gt; ==&gt; edown (get-deps)
&gt; ==&gt; sext (get-deps)
&gt; ==&gt; riak_pipe (get-deps)
&gt; ==&gt; basho_metrics (get-deps)
&gt; ==&gt; riak_kv (get-deps)
&gt; ==&gt; luwak (get-deps)
&gt; ==&gt; lucene_parser (get-deps)
&gt; ==&gt; riak_search (get-deps)
&gt; ==&gt; rel (get-deps)
&gt; ==&gt; riak-1.0.1 (get-deps)
&gt; ./rebar compile generate
&gt; make: git: Command not found
&gt; make: git: Command not found
&gt; make: git: Command not found
&gt; ==&gt; cluster_info (compile)
&gt; Compiled src/cluster_info_ex.erl
&gt; Compiled src/cluster_info.erl
&gt; Compiled src/cluster_info_basic.erl
&gt; ==&gt; skerl (compile)
&gt; Compiled src/hex.erl
&gt; Compiled src/skerl.erl
&gt; Compiling c_src/skein.c
&gt; Compiling c_src/skein_api.c
&gt; Compiling c_src/skein_block.c
&gt; Compiling c_src/skein_debug.c
&gt; Compiling c_src/skerl_nifs.c
&gt; ==&gt; lager (compile)
&gt; Compiled src/lager_util.erl
&gt; Compiled src/lager_transform.erl
&gt; Compiled src/lager_handler_watcher.erl
&gt; Compiled src/lager_trunc_io.erl
&gt; Compiled src/lager_file_backend.erl
&gt; Compiled src/lager_sup.erl
&gt; Compiled src/lager_crash_log.erl
&gt; Compiled src/lager_console_backend.erl
&gt; Compiled src/lager_app.erl
&gt; Compiled src/error_logger_lager_h.erl
&gt; Compiled src/lager.erl
&gt; Compiled src/lager_stdlib.erl
&gt; Compiled src/lager_handler_watcher_sup.erl
&gt; Compiled src/lager_mochiglobal.erl
&gt; ==&gt; poolboy (compile)
&gt; Compiled src/poolboy_sup.erl
&gt; Compiled src/poolboy.erl
&gt; ==&gt; protobuffs (compile)
&gt; Compiled src/protobuffs_scanner.xrl
&gt; Compiled src/protobuffs_parser.yrl
&gt; Compiled src/pokemon_pb.erl
&gt; Compiled src/protobuffs.erl
&gt; Compiled src/protobuffs_compile.erl
&gt; Compiled src/protobuffs_scanner.erl
&gt; Compiled src/protobuffs_parser.erl
&gt; ==&gt; basho_stats (compile)
&gt; Compiled src/basho_stats_rv.erl
&gt; Compiled src/basho_stats_utils.erl
&gt; Compiled src/basho_stats_sample.erl
&gt; Compiled src/basho_stats_histogram.erl
&gt; ==&gt; riak_sysmon (compile)
&gt; Compiled src/riak_sysmon_sup.erl
&gt; Compiled src/riak_sysmon_testhandler.erl
&gt; Compiled src/riak_sysmon_app.erl
&gt; Compiled src/riak_sysmon_example_handler.erl
&gt; Compiled src/riak_sysmon_filter.erl
&gt; ==&gt; mochiweb (compile)
&gt; Compiled src/mochifmt_std.erl
&gt; Compiled src/mochilists.erl
&gt; Compiled src/mochiweb_charref.erl
&gt; Compiled src/mochiweb_acceptor.erl
&gt; Compiled src/mochihex.erl
&gt; Compiled src/mochiweb_headers.erl
&gt; Compiled src/mochifmt_records.erl
&gt; Compiled src/mochifmt.erl
&gt; Compiled src/mochijson2.erl
&gt; Compiled src/mochiweb_sup.erl
&gt; Compiled src/mochiweb_echo.erl
&gt; Compiled src/mochiweb_skel.erl
&gt; Compiled src/mochiweb_app.erl
&gt; Compiled src/mochiweb.erl
&gt; Compiled src/mochilogfile2.erl
&gt; Compiled src/mochiutf8.erl
&gt; Compiled src/mochiweb_io.erl
&gt; Compiled src/mochiweb_cookies.erl
&gt; Compiled src/mochiweb_util.erl
&gt; Compiled src/mochiweb_cover.erl
&gt; Compiled src/mochiweb_mime.erl
&gt; Compiled src/mochinum.erl
&gt; Compiled src/mochitemp.erl
&gt; Compiled src/mochiweb_request.erl
&gt; Compiled src/mochiweb_multipart.erl
&gt; Compiled src/mochiweb_request_tests.erl
&gt; Compiled src/mochiweb_response.erl
&gt; Compiled src/mochiweb_socket.erl
&gt; Compiled src/mochiweb_http.erl
&gt; Compiled src/mochiglobal.erl
&gt; Compiled src/reloader.erl
&gt; Compiled src/mochiweb_socket_server.erl
&gt; Compiled src/mochijson.erl
&gt; Compiled src/mochiweb_html.erl
&gt; ==&gt; webmachine (compile)
&gt; Compiled src/webmachine_error_handler.erl
&gt; Compiled src/webmachine_sup.erl
&gt; Compiled src/webmachine_logger.erl
&gt; Compiled src/webmachine_perf_logger.erl
&gt; Compiled src/wmtrace_resource.erl
&gt; Compiled src/webmachine.erl
&gt; Compiled src/webmachine_deps.erl
&gt; Compiled src/webmachine_multipart.erl
&gt; Compiled src/webmachine_resource.erl
&gt; Compiled src/webmachine_mochiweb.erl
&gt; Compiled src/webmachine_router.erl
&gt; Compiled src/webmachine_app.erl
&gt; Compiled src/webmachine_util.erl
&gt; Compiled src/wrq.erl
&gt; Compiled src/webmachine_decision_core.erl
&gt; Compiled src/webmachine_dispatcher.erl
&gt; Compiled src/webmachine_request.erl
&gt; ==&gt; riak_core (compile)
&gt; Compiling src/riak_core.proto
&gt; =INFO REPORT==== 8-Nov-2011::15:56:33 ===
&gt; Writing header file to &quot;riak_core_pb.hrl&quot;
&gt; =INFO REPORT==== 8-Nov-2011::15:56:33 ===
&gt; Writing beam file to &quot;riak_core_pb.beam&quot;
&gt; Compiled src/gen_nb_server.erl
&gt; Compiled src/gen_server2.erl
&gt; Compiled src/riak_core_vnode_worker.erl
&gt; Compiled src/riak_core_coverage_fsm.erl
&gt; Compiled src/supervisor_pre_r14b04.erl
&gt; Compiled src/riak_core_vnode.erl
&gt; Compiled src/riak_core_vnode_sup.erl
&gt; Compiled src/riak_core_handoff_receiver.erl
&gt; Compiled src/riak_core_claim.erl
&gt; Compiled src/riak_core_stat.erl
&gt; Compiled src/riak_core_ring_events.erl
&gt; Compiled src/process_proxy.erl
&gt; Compiled src/riak_core_test_util.erl
&gt; Compiled src/riak_core_vnode_worker_pool.erl
&gt; Compiled src/riak_core_handoff_sender.erl
&gt; Compiled src/riak_core_coverage_plan.erl
&gt; Compiled src/spiraltime.erl
&gt; Compiled src/riak_core_sup.erl
&gt; Compiled src/riak_core_node_watcher.erl
&gt; Compiled src/riak_core_cinfo_core.erl
&gt; Compiled src/app_helper.erl
&gt; Compiled src/riak_core_handoff_manager.erl
&gt; Compiled src/bloom.erl
&gt; Compiled src/riak_core_new_claim.erl
&gt; Compiled src/vclock.erl
&gt; Compiled src/riak_core_eventhandler_sup.erl
&gt; Compiled src/riak_core_vnode_master.erl
&gt; Compiled src/riak_core_console.erl
&gt; Compiled src/riak_core_sysmon_minder.erl
&gt; Compiled src/priority_queue.erl
&gt; Compiled src/riak_core_tracer.erl
&gt; Compiled src/riak_core_gossip.erl
&gt; Compiled src/riak_core_util.erl
&gt; Compiled src/riak_core.erl
&gt; Compiled src/riak_core_bucket.erl
&gt; Compiled src/riak_core_sysmon_handler.erl
&gt; Compiled src/riak_core_status.erl
&gt; Compiled src/riak_core_ring_util.erl
&gt; Compiled src/riak_core_ring.erl
&gt; Compiled src/riak_core_handoff_listener.erl
&gt; Compiled src/riak_core_web.erl
&gt; Compiled src/riak_core_ring_handler.erl
&gt; Compiled src/chash.erl
&gt; Compiled src/riak_core_node_watcher_events.erl
&gt; Compiled src/json_pp.erl
&gt; Compiled src/riak_core_ring_manager.erl
&gt; Compiled src/riak_core_apl.erl
&gt; Compiled src/riak_core_config.erl
&gt; Compiled src/riak_core_nodeid.erl
&gt; Compiled src/riak_core_gossip_legacy.erl
&gt; Compiled src/riak_core_eventhandler_guard.erl
&gt; Compiled src/riak_core_wm_urlmap.erl
&gt; Compiled src/riak_core_vnode_manager.erl
&gt; Compiled src/riak_core_app.erl
&gt; Compiled src/slide.erl
&gt; Compiled src/merkerl.erl
&gt; ==&gt; riakc (compile)
&gt; Compiling src/riakclient.proto
&gt;
&gt; =INFO REPORT==== 8-Nov-2011::15:56:36 ===
&gt; Writing header file to &quot;riakclient_pb.hrl&quot;
&gt;
&gt; =INFO REPORT==== 8-Nov-2011::15:56:36 ===
&gt; Writing beam file to &quot;riakclient_pb.beam&quot;
&gt; Compiled src/riakc_obj.erl
&gt; Compiled src/riakc_pb.erl
&gt; Compiled src/riakc_pb_socket.erl
&gt; ==&gt; luke (compile)
&gt; Compiled src/luke_phase.erl
&gt; Compiled src/luke_phase_sup.erl
&gt; Compiled src/luke_flow_cache.erl
&gt; Compiled src/luke.erl
&gt; Compiled src/luke_sup.erl
&gt; Compiled src/luke_phases.erl
&gt; Compiled src/luke_flow_sup.erl
&gt; Compiled src/luke_flow.erl
&gt; ==&gt; erlang_js (compile)
&gt;
&gt; &lt;snip&gt;
&gt;
&gt; Compiled src/riak_kv_put_core.erl
&gt; Compiled src/riak_kv_reduce_phase.erl
&gt; Compiled src/riak_kv_worker.erl
&gt; Compiled src/riak_kv_w_reduce.erl
&gt; Compiled src/riak_kv_wm_index.erl
&gt; Compiled src/riak_kv_keys_fsm.erl
&gt; Compiled src/riak_kv_mapred_json.erl
&gt; Compiled src/riak_kv_buckets_fsm.erl
&gt; Compiled src/riak_kv_mapred_query.erl
&gt; Compiled src/riak_kv_legacy_vnode.erl
&gt; Compiled src/riak_kv_backup.erl
&gt; Compiled src/lk.erl
&gt; Compiled src/riak_kv_wm_mapred.erl
&gt; Compiled src/riak_kv_keys_fsm_legacy.erl
&gt; Compiled src/riak_kv_keys_fsm_sup.erl
&gt; Compiled src/riak_kv_mapred_cache.erl
&gt; Compiled src/riak_kv_delete.erl
&gt; Compiled src/riak_kv_put_fsm_sup.erl
&gt; Compiled src/riak_kv_buckets_fsm_sup.erl
&gt; Compiled src/riak_kv_pb_socket.erl
&gt; Compiled src/riak_kv_stat.erl
&gt; Compiled src/riak_kv_eleveldb_backend.erl
&gt; ==&gt; luwak (compile)
&gt; Compiled src/luwak_app.erl
&gt; Compiled src/luwak_block.erl
&gt; Compiled src/luwak_file.erl
&gt; Compiled src/luwak_io.erl
&gt; Compiled src/luwak_tree.erl
&gt; Compiled src/luwak_tree_utils.erl
&gt; Compiled src/luwak_get_stream.erl
&gt; Compiled src/luwak_checksum.erl
&gt; Compiled src/luwak_wm_file.erl
&gt; Compiled src/luwak_put_stream.erl
&gt; ==&gt; lucene_parser (compile)
&gt; Compiled src/lucene_scan.xrl
&gt; Compiled src/lucene_parse.yrl
&gt; Compiled src/lucene_parser.erl
&gt; Compiled src/lucene_scan_test.erl
&gt; Compiled src/lucene_parse_test.erl
&gt; Compiled src/lucene_parse.erl
&gt; Compiled src/lucene_scan.erl
&gt; ==&gt; riak_search (compile)
&gt; Compiled src/riak_search_backend.erl
&gt; Compiled src/riak_search_operators_qc.erl
&gt; Compiled src/riak_search_kv_json_extractor.erl
&gt; Compiled src/riak_search_vnode.erl
&gt; Compiled src/riak_search_basic_qc.erl
&gt; Compiled src/riak_search_test.erl
&gt; Compiled src/riak_search_schema.erl
&gt; Compiled src/riak_search_op_intersection.erl
&gt; Compiled src/riak_search_utils.erl
&gt; Compiled src/riak_search_dir_indexer.erl
&gt; Compiled src/riak_solr_qc.erl
&gt; Compiled src/riak_search_ring_utils.erl
&gt; Compiled src/riak_search_op_range_worker.erl
&gt; Compiled src/riak_indexed_doc.erl
&gt; Compiled src/riak_search_kv_extractor.erl
&gt; Compiled src/riak_search_kv_xml_extractor.erl
&gt; Compiled src/riak_search_app.erl
&gt; Compiled src/riak_search_op_range_sized.erl
&gt; Compiled src/riak_search_kv_erlang_extractor.erl
&gt; Compiled src/riak_search_op_group.erl
&gt; Compiled src/riak_solr_sup.erl
&gt; Compiled src/riak_search_op.erl
&gt; Compiled src/riak_solr_indexer_wm.erl
&gt; Compiled src/riak_search_client.erl
&gt; Compiled src/riak_solr_xml.erl
&gt; Compiled src/riak_search_op_utils.erl
&gt; Compiled src/riak_search_cinfo.erl
&gt; Compiled src/riak_search_kv_hook.erl
&gt; Compiled src/riak_solr_search_client.erl
&gt; Compiled src/riak_search_op_mockterm.erl
&gt; Compiled src/riak_solr_xml_xform.erl
&gt; Compiled src/riak_search_op_term.erl
&gt; Compiled src/riak_search_inlines.erl
&gt; Compiled src/riak_search_ets_backend.erl
&gt; Compiled src/riak_search_config.erl
&gt; Compiled src/riak_search_schema_parser.erl
&gt; Compiled src/riak_search_op_range.erl
&gt; Compiled src/riak_solr_searcher_wm.erl
&gt; Compiled src/riak_solr_output.erl
&gt; Compiled src/riak_search_vnode_sup.erl
&gt; Compiled src/riak_search.erl
&gt; Compiled src/riak_search_op_string.erl
&gt; Compiled src/riak_search_op_proximity.erl
&gt; Compiled src/merge_index_backend.erl
&gt; Compiled src/riak_search_op_scope.erl
&gt; Compiled src/riak_search_kv_raw_extractor.erl
&gt; Compiled src/riak_search_kv_erlang_binary_extractor.erl
&gt; Compiled src/riak_search_op_node.erl
&gt; Compiled src/solr_search.erl
&gt; Compiled src/riak_search_sup.erl
&gt; Compiled src/riak_search_op_union.erl
&gt; Compiled src/riak_search_cmd.erl
&gt; Compiled src/riak_search_op_negation.erl
&gt; Compiled src/basho_bench_driver_riaksearch.erl
&gt; Compiled src/riak_solr_sort.erl
&gt; Compiled src/text_analyzers.erl
&gt; Compiled src/search.erl
&gt; ==&gt; rel (compile)
&gt; ==&gt; riak-1.0.1 (compile)
&gt; ==&gt; rel (generate)
&gt; jared@dev-ubuntu-01:~/riak-1.0.1$
&gt;
&gt;
&gt;
&gt; As you can see, riak does compile fine on ubuntu 11.   Your issue really
&gt; looks like stale dependencies, so it might be as easy as &quot;rm -rf deps&quot; to
&gt; clean out the deps directory and try to do another 'make rel'
&gt;
&gt; Hope this helps,
&gt; -Jared
&gt;
&gt;
&gt; On Tue, Nov 8, 2011 at 12:37 PM, Ivan Trajkovic &lt;ivan.e...@gmail.com&gt;wrote:
&gt;
&gt;&gt; any idea on why this might be happening?
&gt;&gt; for now Im using Ubuntu 10.04 for my riak development, but would really
&gt;&gt; love to have it running on my Ubuntu 11.04 machines...
&gt;&gt;
&gt;&gt;
&gt;&gt; ps. by accident I see I sent the last email reply to Jared personally
&gt;&gt; instead of to the riak list...
&gt;&gt;
&gt;&gt; On Wed, Nov 2, 2011 at 4:05 PM, Ivan Trajkovic &lt;ivan.e...@gmail.com&gt;wrote:
&gt;&gt;
&gt;&gt;&gt; hello Jared
&gt;&gt;&gt; thank you for getting back to me
&gt;&gt;&gt;
&gt;&gt;&gt; Im compiling against erlang R14B03
&gt;&gt;&gt; here is the output of running &quot;make rel&quot; in the riak source base dir.
&gt;&gt;&gt;
&gt;&gt;&gt; $ make rel
&gt;&gt;&gt; ./rebar get-deps
&gt;&gt;&gt; ==&gt; cluster_info (get-deps)
&gt;&gt;&gt; ==&gt; rel (get-deps)
&gt;&gt;&gt; ==&gt; riak (get-deps)
&gt;&gt;&gt; ERROR: Dependency dir /media/data/installs/riak/deps/luwak failed
&gt;&gt;&gt; application validation with reason:
&gt;&gt;&gt; {version_mismatch,{&quot;/media/data/installs/riak/deps/luwak/ebin/luwak.app&quot;,
&gt;&gt;&gt;                    {expected,&quot;1.1.1&quot;},
&gt;&gt;&gt;                    {has,&quot;1.1.0&quot;}}}.
&gt;&gt;&gt; make: *** [deps] Error 1
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; I think I got passed these errors a few days ago by manually
&gt;&gt;&gt; 1. &quot;git fetch&quot;
&gt;&gt;&gt; 2. &quot;git reset --hard origin/master&quot;
&gt;&gt;&gt; in each of the dependency sub-folders(repos)...
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Mon, Oct 31, 2011 at 2:30 PM, Jared Morrow &lt;ja...@basho.com&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Ivan,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; We build the Riak 1.0 packages with Erlang R14B03 currently.   We build
&gt;&gt;&gt;&gt; on both Ubuntu 10 and Ubuntu 11 based machines with erlang compiled from
&gt;&gt;&gt;&gt; source from erlang.org.   I can take a look at your issues, can you
&gt;&gt;&gt;&gt; put the following output in a gist or pastebin for me?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; $ which erl
&gt;&gt;&gt;&gt; $ erl -version
&gt;&gt;&gt;&gt; $ git clone g...@github.com:basho/riak
&gt;&gt;&gt;&gt; $ cd riak
&gt;&gt;&gt;&gt; $ make rel
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;&gt; Jared
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;  On Mon, Oct 31, 2011 at 12:06 PM, Ivan Trajkovic 
&gt;&gt;&gt;&gt; &lt;ivan.e...@gmail.com&gt;wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;  so yes the build on ubuntu 11.04 is definitely broken. I tried
&gt;&gt;&gt;&gt;&gt; multiple machines.
&gt;&gt;&gt;&gt;&gt; ubuntu 10.04 builds without a glitch.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; online I see no tutorials on building on 11.04
&gt;&gt;&gt;&gt;&gt; is this something thats not a common case?
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; On Sat, Oct 29, 2011 at 2:08 AM, Ivan Trajkovic 
&gt;&gt;&gt;&gt;&gt; &lt;ivan.e...@gmail.com&gt;wrote:
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; hello all
&gt;&gt;&gt;&gt;&gt;&gt; Im having some problems with building riak from the github sources,
&gt;&gt;&gt;&gt;&gt;&gt; on ubuntu 11
&gt;&gt;&gt;&gt;&gt;&gt; Ive reproduced this issue on one of my home computers and a linode
&gt;&gt;&gt;&gt;&gt;&gt; virtual server, both running ubuntu 11
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; first of all riak 1.0.1 checkout requires me to have erlang R14B3,
&gt;&gt;&gt;&gt;&gt;&gt; which is confusing to me since the riak_1.0.1_i386.deb seems to be 
&gt;&gt;&gt;&gt;&gt;&gt; working
&gt;&gt;&gt;&gt;&gt;&gt; off of erlang R15A.
&gt;&gt;&gt;&gt;&gt;&gt; the requirement is manifested in a message being spit out half way
&gt;&gt;&gt;&gt;&gt;&gt; through the riak &quot;make rel&quot;, about erlang not being of the correct 
&gt;&gt;&gt;&gt;&gt;&gt; version.
&gt;&gt;&gt;&gt;&gt;&gt; so I compiled a older R14B3 version of erlang and restarted the riak
&gt;&gt;&gt;&gt;&gt;&gt; build process...
&gt;&gt;&gt;&gt;&gt;&gt; it does finish &quot;make rel&quot; then but goes on to require &quot;nodetools&quot;
&gt;&gt;&gt;&gt;&gt;&gt; which are not present in the erts-5.9 which is whats being checked, and 
&gt;&gt;&gt;&gt;&gt;&gt; is
&gt;&gt;&gt;&gt;&gt;&gt; instead hiding in erts-5.8.4 folder (which is not whats used by riak). 
&gt;&gt;&gt;&gt;&gt;&gt; so I
&gt;&gt;&gt;&gt;&gt;&gt; went ahead and copied nodetools from 5.8.4 and put it in 5.9... it doesnt
&gt;&gt;&gt;&gt;&gt;&gt; complain about that anymore after that... however then the new memsup
&gt;&gt;&gt;&gt;&gt;&gt; issues pop up, with the Erlang VM dying each time I run &quot;riak start&quot;
&gt;&gt;&gt;&gt;&gt;&gt; without any messages except mentioning memsup as the final issue...
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; for the memsup issue I did check that ulimit is allowing 1024 file
&gt;&gt;&gt;&gt;&gt;&gt; handles, and have increased that limit further as well, but no luck.
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; please let me know if you need some more info about my setup, or
&gt;&gt;&gt;&gt;&gt;&gt; thoughts/ideas about what I might be dealing with.
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt; help is appreciated
&gt;&gt;&gt;&gt;&gt;&gt; thanks
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; _______________________________________________
&gt;&gt;&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt;&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; _______________________________________________
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;&gt;
&gt;&gt;
&gt;
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg05485.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#05486">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#05486">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg05489.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg05362.html">riak ubuntu 11 building problems</a></span> <span class="sender italic">Ivan Trajkovic</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg05389.html">Re: riak ubuntu 11 building problems</a></span> <span class="sender italic">Ivan Trajkovic</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg05391.html">Re: riak ubuntu 11 building problems</a></span> <span class="sender italic">Jared Morrow</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg05483.html">Re: riak ubuntu 11 building problems</a></span> <span class="sender italic">Ivan Trajkovic</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg05485.html">Re: riak ubuntu 11 building problems</a></span> <span class="sender italic">Jared Morrow</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: riak ubuntu 11 building problem...</span> <span class="sender italic">Ivan Trajkovic</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg05489.html">Re: riak ubuntu 11 building pro...</a></span> <span class="sender italic">Jared Morrow</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg05490.html">Re: riak ubuntu 11 building...</a></span> <span class="sender italic">Ivan Trajkovic</span></li>
<li class="icons-email"><span class="subject"><a href="msg05491.html">Re: riak ubuntu 11 building...</a></span> <span class="sender italic">Andrew Musselman</span></li>
<li class="icons-email"><span class="subject"><a href="msg05494.html">Re: riak ubuntu 11 building...</a></span> <span class="sender italic">Ivan Trajkovic</span></li>
<li class="icons-email"><span class="subject"><a href="msg05495.html">Re: riak ubuntu 11 building...</a></span> <span class="sender italic">Andrew Musselman</span></li>
<li class="icons-email"><span class="subject"><a href="msg05496.html">Re: riak ubuntu 11 building...</a></span> <span class="sender italic">Ivan Trajkovic</span></li>
<li class="icons-email"><span class="subject"><a href="msg05505.html">Re: riak ubuntu 11 building...</a></span> <span class="sender italic">Andrew Musselman</span></li>
<li class="icons-email"><span class="subject"><a href="msg05512.html">Re: riak ubuntu 11 building...</a></span> <span class="sender italic">Jared Morrow</span></li>
<li class="icons-email"><span class="subject"><a href="msg05522.html">Re: riak ubuntu 11 building...</a></span> <span class="sender italic">Ivan Trajkovic</span></li>
<li class="icons-email"><span class="subject"><a href="msg05531.html">Re: riak ubuntu 11 building...</a></span> <span class="sender italic">Ivan Trajkovic</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: riak ubuntu 11 building problems">
<input type="hidden" name="msgid" value="CA+CJyp5G+5S73H73xXmbLrKjmEGjV0eWmFKJakWbM-fMQY_0Zw@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg05486.html">
<input type="submit" value=" Ivan Trajkovic ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+riak+ubuntu+11+building+problems%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg05485.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg05489.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CA+CJyp5G+5S73H73xXmbLrKjmEGjV0eWmFKJakWbM-fMQY_0Zw@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
