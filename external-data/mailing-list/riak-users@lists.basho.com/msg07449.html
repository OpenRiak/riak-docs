<!DOCTYPE html>
<html lang="en">
<head>
<title>Riak Overload Behavior</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#07449" id="c">
<link rel="index" href="maillist.html#07449" id="i">
<link rel="prev" href="msg07448.html" id="p">
<link rel="next" href="msg07450.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg07449.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Riak+Overload+Behavior%22&amp;o=newest" rel="nofollow"><span itemprop="name">Riak Overload Behavior</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Sean+O%27Connor%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Sean O'Connor</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20120514" rel="nofollow">Mon, 14 May 2012 14:45:56 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hello, 

I've been seeing some strange behavior from Riak and any help or feedback would 
be very welcome.</pre><pre>

In particular, we've been seeing pseudo-radom 400 errors from Riak when we run 
our test suite.  Our test suite hits riak pretty hard to test various queries 
and situations in our app and the errors seem to happen a few seconds after the 
CPUs on the testing machine get saturated. I say psuodo-random as the errors 
tends to happen in a particularly riak heavy portion of our test suite but the 
specific call to riak that errors is often different (reads, writes, map/reduce 
jobs, 2i queries).  The thing that is really baffling about these errors is 
there doesn't seem to be any information attached other than the 400 message 
and nothing shows up in any of the riak logs.

If we introduce a 2 second delay between tests in our test suite, the problem 
goes away but obviously slows down our test suite quite a bit.  Aside from 
that, I am concerned about this potentially happening in our production cluster.

Is this more or less the expected behavior of Riak when it gets overwhelmed or 
does it sound like there is something that should be investigated further here? 
 I suspect that I can create a script to replicate the problem but if this is 
somewhat expected then I won't waste the time writing it.

Thanks! 

-- 
Sean O'Connor
Co-Founder/CTO

FocusLab (<a  rel="nofollow" href="http://www.focuslab.io">http://www.focuslab.io</a>)
(845)669-0883

</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg07448.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#07449">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#07449">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg07450.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email tSliceCur"><span class="subject">Riak Overload Behavior</span> <span class="sender italic">Sean O'Connor</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg07450.html">Re: Riak Overload Behavior</a></span> <span class="sender italic">Sean Cribbs</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg07451.html">Re: Riak Overload Behavior</a></span> <span class="sender italic">Sean O'Connor</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg07452.html">Re: Riak Overload Behavior</a></span> <span class="sender italic">Sean O'Connor</span></li>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Riak Overload Behavior">
<input type="hidden" name="msgid" value="FE3AF6F16B2D4B9C9CC20A7B313DE6EC@focuslab.io">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg07449.html">
<input type="submit" value=" Sean O'Connor ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Riak+Overload+Behavior%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg07448.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg07450.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">FE3AF6F16B2D4B9C9CC20A7B313DE6EC@focuslab.io</li>
</ul>
</div>
</body>
</html>
