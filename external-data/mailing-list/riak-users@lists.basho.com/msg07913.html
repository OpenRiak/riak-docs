<!DOCTYPE html>
<html lang="en">
<head>
<title>reg. storageon Localfile system</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#07913" id="c">
<link rel="index" href="maillist.html#07913" id="i">
<link rel="prev" href="msg07912.html" id="p">
<link rel="next" href="msg07915.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg07913.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22reg.+storageon+Localfile+system%22&amp;o=newest" rel="nofollow"><span itemprop="name">reg. storageon Localfile system</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Sangeetha.PattabiRaman2%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Sangeetha.PattabiRaman2</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20120711" rel="nofollow">Wed, 11 Jul 2012 23:23:55 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>
</pre><pre>

Thanks Sicular,

Supervisor riak_core_vnode_sup had child undefined started with 
riak_core_vnode:start_link() at undefined exit with reason 
{timeout,{gen_server,call,[&lt;0.1164.0&gt;,stop]}} in context shutdown_error...


trying to insert csv data of 434 MB onto 2 node riak cluster....iam getting the 
following error ..could you please share the reason for the same
...Thanks In advance . attached app.config for your reference .



This is my another quest need your  valuable suggestion please

Dear team,

&gt;

&gt;

&gt;

&gt;

&gt; FYI:we have a 4 quad core intel processor on each server on 2 node cluster 
&gt; with more than 1 TB of storage

&gt;

&gt;

&gt; I Ihave constructed the 2 node physical machine riak cluster with n_val 2 and 
&gt; my app.config ,vm.args are attached for your reference..

&gt;

&gt;

&gt;

&gt;

&gt; Please tell me where the bulk inserted data onto riak db gets stored on Local 
&gt; file system...its taking huge time to load small size itself...how to tune it 
&gt; to perform to large scale since we deal wit hbigdata of in few hungred 
&gt; GB's?????????????????

&gt;

&gt;

&gt;

&gt;

&gt; Cmd used:time ./load_data1m Customercalls1m.csv

&gt;

&gt;

&gt;

&gt;

&gt; ./load_data100m CustomerCalls100m(got this error so changed default config of 
&gt; app.config...from 8 MB to 3072 MB

&gt;

&gt;

&gt; escript: exception error: no match of right hand side value {error,enoent}

&gt;

&gt;

&gt;

&gt;

&gt;

&gt;

&gt; size

&gt;

&gt;

&gt;

&gt; Load time

&gt;

&gt;

&gt;

&gt; No of mappersonapp.config

&gt;

&gt;

&gt;

&gt; Js-max-vm-mem on app.config

&gt;

&gt;

&gt;

&gt; Js-thread-stack

&gt;

&gt;

&gt;  y this much time for small data

&gt;

&gt; 100k(10,lakhrows)-5 MB takes

&gt;

&gt;

&gt;

&gt; 20m39.625 seconds

&gt;

&gt;

&gt;

&gt; 48

&gt;

&gt;

&gt;

&gt; 3 GB 3072MB(changedfromdefault 8MB)since i/p data is large)

&gt;

&gt;

&gt;

&gt; 3 GB 3072MB(changedfromdefault 8MB)since i/p data is large)

&gt;

&gt;

&gt;

&gt;

&gt; 1millionrows---54 MB   takes

&gt;

&gt;

&gt;

&gt; 198m42.375seconds

&gt;

&gt;

&gt;

&gt; 48

&gt;

&gt;

&gt;

&gt; 3 GB 3072MB(changedfromdefault 8MB)since i/p data is large)

&gt;

&gt;

&gt;

&gt; 3 GB 3072MB(changedfromdefault 8MB)since i/p data is large)

&gt;

&gt;

&gt;

&gt;

&gt;

&gt;

&gt; .

&gt;

&gt;

&gt;

&gt;

&gt;

&gt;

&gt; ./load_data script used:

&gt;

&gt;

&gt;

&gt;

&gt; #!/usr/local/bin/escript

&gt;

&gt;

&gt; main([Filename]) -&gt;

&gt;

&gt;

&gt; {ok, Data} = file:read_file(Filename),

&gt;

&gt;

&gt; Lines = tl(re:split(Data, &quot;\r?\n&quot;, [{return, binary},trim])),

&gt;

&gt;

&gt; lists:foreach(fun(L) -&gt; LS = re:split(L, &quot;,&quot;), format_and_insert(LS) end, 
&gt; Lines).

&gt;

&gt;

&gt;

&gt;

&gt; format_and_insert(Line) -&gt;

&gt;

&gt;

&gt; JSON = 
&gt; io_lib:format(&quot;{\&quot;id\&quot;:\&quot;~s\&quot;,\&quot;phonenumber\&quot;:~s,\&quot;callednumber\&quot;:~s,\&quot;starttime\&quot;:~s,\&quot;endtime\&quot;:~s,\&quot;status\&quot;:~s}&quot;,
&gt;  Line),

&gt;

&gt;

&gt; Command = io_lib:format(&quot;curl -X PUT 
&gt; <a  rel="nofollow" href="http://10.232.5.169:8098/riak/CustomerCalls100k/~s">http://10.232.5.169:8098/riak/CustomerCalls100k/~s</a> -d '~s' -H 'content-type: 
&gt; application/json'&quot;, [hd(Line),JSON]),

&gt;

&gt;

&gt; io:format(&quot;Inserting: ~s~n&quot;, [hd(Line)]),

&gt;

&gt;

&gt; os:cmd(Command).

&gt;

&gt;

&gt;

&gt;

&gt;

&gt;

&gt;

&gt;

&gt; Thanks in advance!!!!!!!!!!waiting fr the reply...plz anyone help..struck u 
&gt; pwit hbulk loading.....and make me clear how riak splits the data and gets 
&gt; loaded on cluster

&gt;

&gt;

&gt; Thanks &amp; regards

&gt;

&gt;

&gt; sangeetha

&gt;

&gt;

&gt;

&gt;

&gt; This e-mail and any files transmitted with it are for the sole use of the 
&gt; intended recipient(s) and may contain confidential and privileged 
&gt; information. If you are not the intended recipient(s), please reply to the 
&gt; sender and destroy all copies of the original message. Any unauthorized 
&gt; review, use, disclosure, dissemination, forwarding, printing or copying of 
&gt; this email, and/or any action taken in reliance on the contents of this 
&gt; e-mail is strictly prohibited and may be unlawful.

&gt;

&gt;


Regards
Sangeetha

From: Alexander Sicular [<a  rel="nofollow" href="mailto:sicul...@gmail.com">mailto:sicul...@gmail.com</a>]
Sent: Thursday, July 12, 2012 11:30 AM
To: Pattabi Raman, Sangeetha (Cognizant)
Cc: riak-users@lists.basho.com
Subject: Re: reg. storageon Localfile system


check your installations app.config file in the etc folder.

@siculars
<a  rel="nofollow" href="http://siculars.posterous.com">http://siculars.posterous.com</a>

Sent from my rotary phone.
On Jul 11, 2012 11:18 PM, 
&lt;sangeetha.pattabiram...@cognizant.com&lt;<a  rel="nofollow" href="mailto:sangeetha.pattabiram...@cognizant.com">mailto:sangeetha.pattabiram...@cognizant.com</a>&gt;&gt;
 wrote:



Hi team,

                Iam very new to riak ,can anyone say on loading onto riak db 2 
node cluster ...where does it puts the data on the Local file system.like we 
see on autosharding of mongodb or hadoop-hdfs over shards in the cluster mode 
....as in which of riak........................
FYI:
I use curl in loading the same

-module(time).
-export([starttime/0]).
-export([main/1]).
-export([format_and_insert/1]).
-export([endtime/0]).
starttime() -&gt;
starttime = {{Year,Month,Day},{Hour,Min,Sec}} = erlang:localtime().
main([Filename]) -&gt;
    {ok, Data} = file:read_file(Filename),
    Lines = tl(re:split(Data, &quot;\r?\n&quot;, [{return, binary},trim])),
    lists:foreach(fun(L) -&gt; LS = re:split(L, &quot;,&quot;), format_and_insert(LS) end, 
Lines).

format_and_insert(Line) -&gt;
    JSON = 
io_lib:format(&quot;{\&quot;id\&quot;:\&quot;~s\&quot;,\&quot;phonenumber\&quot;:~s,\&quot;callednumber\&quot;:~s,\&quot;starttime\&quot;:~s,\&quot;endtime\&quot;:~s,\&quot;status\&quot;:~s}&quot;,
 Line),
    Command = io_lib:format(&quot;curl -X PUT <a  rel="nofollow" href="http://10.232.5.169:8098/riak/goog1/~s">http://10.232.5.169:8098/riak/goog1/~s</a> 
-d '~s' -H 'content-type: application/json'&quot;, [hd(Line),JSON]),
    io:format(&quot;Inserting: ~s~n&quot;, [hd(Line)]),
    os:cmd(Command).


Thanks &amp; regards
sangeetha

This e-mail and any files transmitted with it are for the sole use of the 
intended recipient(s) and may contain confidential and privileged information. 
If you are not the intended recipient(s), please reply to the sender and 
destroy all copies of the original message. Any unauthorized review, use, 
disclosure, dissemination, forwarding, printing or copying of this email, 
and/or any action taken in reliance on the contents of this e-mail is strictly 
prohibited and may be unlawful.

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com&lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt;
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
This e-mail and any files transmitted with it are for the sole use of the 
intended recipient(s) and may contain confidential and privileged information. 
If you are not the intended recipient(s), please reply to the sender and 
destroy all copies of the original message. Any unauthorized review, use, 
disclosure, dissemination, forwarding, printing or copying of this email, 
and/or any action taken in reliance on the contents of this e-mail is strictly 
prohibited and may be unlawful.
</pre>
<p><strong><a href="msg07913/app.config" ><img src="../attachment.png" alt="Attachment:" width=27 height=28></a>
<a href="msg07913/app.config" >app.config</a></strong><br>
<em>Description:</em> app.config</p>
<pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg07912.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#07913">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#07913">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg07915.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg07880.html">reg. storageon Localfile system</a></span> <span class="sender italic">Sangeetha.PattabiRaman2</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg07887.html">Re: reg. storageon Localfile system</a></span> <span class="sender italic">David Smith</span></li>
<li class="icons-email"><span class="subject"><a href="msg07909.html">reg. storageon Localfile system</a></span> <span class="sender italic">Sangeetha.PattabiRaman2</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg07911.html">Re: reg. storageon Localfile system</a></span> <span class="sender italic">Alexander Sicular</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg07912.html">RE: reg. storageon Localfile system</a></span> <span class="sender italic">Sangeetha.PattabiRaman2</span></li>
<li class="icons-email tSliceCur"><span class="subject">reg. storageon Localfile system</span> <span class="sender italic">Sangeetha.PattabiRaman2</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg07915.html">Re: reg. storageon Localfile syst...</a></span> <span class="sender italic">Alexander Sicular</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="reg. storageon Localfile system">
<input type="hidden" name="msgid" value="EA4741BA839367458A5A4FC4E5C3C0C91E576568@CTSINCHNSXMBH.cts.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg07913.html">
<input type="submit" value=" Sangeetha.PattabiRaman2 ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22reg.+storageon+Localfile+system%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg07912.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg07915.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">EA4741BA839367458A5A4FC4E5C3C0C91E576568@CTSINCHNSXMBH.cts.com</li>
</ul>
</div>
</body>
</html>
