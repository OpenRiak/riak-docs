<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: MapReduce scalability</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#10266" id="c">
<link rel="index" href="maillist.html#10266" id="i">
<link rel="prev" href="msg10241.html" id="p">
<link rel="next" href="msg10283.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg10266.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+MapReduce+scalability%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: MapReduce scalability</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Boris+Okner%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Boris Okner</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20130226" rel="nofollow">Tue, 26 Feb 2013 18:19:58 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Thanks Christian,

The problem I'm trying to solve is to find the way to retrieve values for
limited number of keys with the best possible latency (or maybe with decent
latency which is balanced with decent throughput). Let's say we have keys
stored in some cache
on top of Riak, and want to retrieve values, 20 at the time, to be able to
implement pagination. Another alternative to mapreduce would to send
multiple asynchronous gets, but then we'd have to worry about connection
pool being exhausted if there's too many such &quot;page&quot; requests. So what
would be the proper way to deal with the situation when we need to emulate
multiple key retrieval?</pre><pre>

On Tue, Feb 26, 2013 at 1:57 AM, Christian Dahlqvist &lt;christ...@basho.com&gt;wrote:

&gt; Hi Boris,
&gt;
&gt; MapReduce is a very flexible and powerful way of querying Riak and allows
&gt; processing to be performed locally where the data resides, which allows for
&gt; efficient processing of larger data sets. A result of this is that every
&gt; mapreduce job requires a covering set of vnodes (all vnodes that hold the
&gt; data required for processing) to participate, meaning that it puts
&gt; considerable more load on the system compared to straight K/V access and
&gt; therefore does not scale quite as well. It is primarily designed for batch
&gt; type processing over reasonably large amounts of data and scales well with
&gt; increased data volumes as new nodes are added. We do however usually not
&gt; recommended using it as an interface for realtime queries where low and
&gt; predictable latencies are required and the concurrency level, and therefore
&gt; load level on the cluster, can not be controlled.
&gt;
&gt; I am not sure I understand what you mean by the performance degrading with
&gt; the number of nodes, unless you are strictly measuring latency rather than
&gt; throughput. As the number of nodes increase, it gets more and more likely
&gt; that multiple physical nodes will be involved in the job, which will add to
&gt; the amount of communication and coordination required between the nodes,
&gt; thereby increasing latency. Could you please explain in more detail what
&gt; you are trying to achieve?
&gt;
&gt; Best regards,
&gt;
&gt; Christian
&gt;
&gt;
&gt; On 25 Feb 2013, at 16:41, Boris Okner &lt;boris.ok...@gmail.com&gt; wrote:
&gt;
&gt; Hello,
&gt;
&gt; I'm experimenting with 2 Riak 1.3.0 nodes (both are &quot;bare metal&quot;), and it
&gt; looks like mapreduce performs better when one of the nodes is down. The
&gt; mapreduce requests are running on 20-key blocks. So am I doing something
&gt; wrong, or is it an expected behaviour, i.e. mapreduce degrades with the the
&gt; number of nodes increased? If the former, could
&gt; you give me some pointers on how to set up it to get advantage of multiple
&gt; nodes?
&gt;
&gt; Thanks in advance for your help,
&gt; Boris
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
&gt;
&gt;
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg10241.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#10266">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#10266">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg10283.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg10237.html">MapReduce scalability</a></span> <span class="sender italic">Boris Okner</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10241.html">Re: MapReduce scalability</a></span> <span class="sender italic">Christian Dahlqvist</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: MapReduce scalability</span> <span class="sender italic">Boris Okner</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10283.html">Re: MapReduce scalability</a></span> <span class="sender italic">Christian Dahlqvist</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10284.html">Re: MapReduce scalability</a></span> <span class="sender italic">Bernard Fouché</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10285.html">Re: MapReduce scalability</a></span> <span class="sender italic">Christian Dahlqvist</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10289.html">Re: MapReduce scalability</a></span> <span class="sender italic">Rune Skou Larsen</span></li>
<li class="icons-email"><span class="subject"><a href="msg10292.html">Re: MapReduce scalability</a></span> <span class="sender italic">Bernard Fouché</span></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg10290.html">Re: MapReduce scalability</a></span> <span class="sender italic">Elias Levy</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: MapReduce scalability">
<input type="hidden" name="msgid" value="CAA37AyRccP5ud_83xb3FEN_7tAD3p7Tcr_0oQWECXZ9iFdwkZg@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg10266.html">
<input type="submit" value=" Boris Okner ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+MapReduce+scalability%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg10241.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg10283.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAA37AyRccP5ud_83xb3FEN_7tAD3p7Tcr_0oQWECXZ9iFdwkZg@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
