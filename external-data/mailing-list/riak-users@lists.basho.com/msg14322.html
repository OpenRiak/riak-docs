<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: AAE problems</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#14322" id="c">
<link rel="index" href="maillist.html#14322" id="i">
<link rel="prev" href="msg14320.html" id="p">
<link rel="next" href="msg14323.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg14322.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+AAE+problems%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: AAE problems</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Jordan+West%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Jordan West</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20140617" rel="nofollow">Tue, 17 Jun 2014 10:59:38 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>On Tue, Jun 17, 2014 at 9:46 AM, István &lt;lecc...@gmail.com&gt; wrote:
</pre><pre>

&gt; Is there any reason to let AAE running if we don't mutate the data in
&gt; place?
&gt;

Yes. If your data is infrequently accessed after being written then no
read-repair will take place. While values may not conflict, values may be
missing (e.g. a write only successfully reached 2 of 3 nodes) or corrupt
(bit rot on disk).


&gt; Is there any way knowing what is causing the difference according to
&gt; AAE between two nodes?


This information is not currently exposed, unfortunately. Given the minimal
number of repaired keys its likely a write failed to one node or raced with
an AAE exchange between two pairs of nodes.


&gt; I was thinking about how this could potentially
&gt; happen and I am wondering if the Java client pb interface supports R
&gt; and W values, so I could make sure that a write goes in with W=(the
&gt; number of nodes we have).
&gt;

While this is possible, although you'd want to set W=N, where N=number of
replicas (n_val), it will affect the performance of your writes -- although
that may not matter given the boost from turning AAE off. In the end, it is
the operators decision whether or not the storage and performance overhead
of AAE is worth the added safety*. If you are frequently accessing 100% of
your data set then there is less need to increase the W per request or use
AAE. However, many data sets have a large amount of data that is
infrequently accessed and the added safety is worth the cost.

Hope that helps. Cheers,
Jordan

* In the upcoming Riak 2.0 release,  in order to write data to buckets w/
the consistent property set to true enabling AAE will be required
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg14320.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#14322">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#14322">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg14323.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg14320.html">AAE problems</a></span> <span class="sender italic">István</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: AAE problems</span> <span class="sender italic">Jordan West</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg14323.html">Re: AAE problems</a></span> <span class="sender italic">István</span></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg14328.html">Re: AAE problems</a></span> <span class="sender italic">Ryan Zezeski</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: AAE problems">
<input type="hidden" name="msgid" value="CANvRNdec40kHVaph70Uv6rA3Uy8gjQDDWRYZcEb0OSjVJC8uTg@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg14322.html">
<input type="submit" value=" Jordan West ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+AAE+problems%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg14320.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg14323.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CANvRNdec40kHVaph70Uv6rA3Uy8gjQDDWRYZcEb0OSjVJC8uTg@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
