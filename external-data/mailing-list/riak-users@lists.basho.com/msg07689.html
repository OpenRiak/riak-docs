<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: riak_core nodes on Heroku?</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#07689" id="c">
<link rel="index" href="maillist.html#07689" id="i">
<link rel="prev" href="msg07684.html" id="p">
<link rel="next" href="msg07698.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg07689.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+riak_core+nodes+on+Heroku%5C%3F%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: riak_core nodes on Heroku?</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Samuel+Elliott%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Samuel Elliott</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20120614" rel="nofollow">Thu, 14 Jun 2012 06:37:39 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>It's actually very much not possible.

Erlang nodes need to listen on one port for the EPMD, and then another
for HTTP (and maybe more for other coordination). Heroku only lets you
listen on a single node per process, and you can't guarantee scaled
processes occur on the same dyno or even machine to another, so you
can't explicitly run epmd separately.</pre><pre>

Yes, distribution via other means seems sensible.

As for the routing mesh issues, they seem to have support for
websockets etc in the proxy, so presumably it is possible somehow to
route TCP messages through.

Sam

On Wed, Jun 13, 2012 at 9:51 PM, Jonathan Baudanza &lt;j...@jonb.org&gt; wrote:
&gt; Getting dynos to communicate might be tricky.  When you make an HTTP request
&gt; to heroku, the request first hits the heroku &quot;routing mesh&quot;.  The mesh is
&gt; responsible for deciding which dyno will service the request. I don't know
&gt; of any way to explicitly send a request to a specific dyno.
&gt;
&gt; Dynos are also expected to use no more than 512MB of memory.
&gt;
&gt; This article gives more information on how dynos operate and their
&gt; restrictions.
&gt; <a  rel="nofollow" href="https://devcenter.heroku.com/articles/dynos">https://devcenter.heroku.com/articles/dynos</a>
&gt;
&gt; Despite all of this, it might be fun to try anyway just to see the results!
&gt; Let us know how it goes.
&gt;
&gt; On Wed, Jun 13, 2012 at 1:01 PM, Jon Brisbin &lt;j...@jbrisbin.com&gt; wrote:
&gt;&gt;
&gt;&gt; So long as the dynos can communicate with one another and cooperate via
&gt;&gt; node communication, the stateless nature of the application doesn't really
&gt;&gt; matter. I don't need to persist anything once a dyno is shut down.
&gt;&gt;
&gt;&gt; The thing that makes me curious is whether the things riak_core (not
&gt;&gt; riak_kv) depends on (handoff particularly) could be shoehorned into this
&gt;&gt; environment using the stock tools. I suspect not but wanted to scratch an
&gt;&gt; intellectual itch. :)
&gt;&gt;
&gt;&gt; Thanks!
&gt;&gt;
&gt;&gt; Jon Brisbin
&gt;&gt; <a  rel="nofollow" href="http://about.me/jbrisbin">http://about.me/jbrisbin</a>
&gt;&gt;
&gt;&gt; On Jun 13, 2012, at 2:44 PM, Jonathan Baudanza wrote:
&gt;&gt;
&gt;&gt; Hi Jeff,
&gt;&gt;
&gt;&gt; Dynos on Heroku don't have access to any permanent disk storage.  They can
&gt;&gt; read and write to /tmp, but that is not guaranteed to stick around.
&gt;&gt;
&gt;&gt; Dynos are also restricted to only accept HTTP connections.  This would
&gt;&gt; rule out any ProtocolBuffer connections.
&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Curious if anyone is able to use clustered nodes on Heroku using the
&gt;&gt;&gt; Erlang buildpack [1]? Seems like it should at least be theoretically
&gt;&gt;&gt; possible to launch new dynos that become part of your node cluster. How
&gt;&gt;&gt; reliable/easy/hard is node communication on EC2?
&gt;&gt;&gt; [1] - <a  rel="nofollow" href="https://github.com/heroku/heroku-buildpack-erlang">https://github.com/heroku/heroku-buildpack-erlang</a>
&gt;&gt;
&gt;&gt; _______________________________________________
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; _______________________________________________
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;&gt;
&gt;
&gt;
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;



-- 
Samuel Elliott
s...@lenary.co.uk
<a  rel="nofollow" href="http://lenary.co.uk/">http://lenary.co.uk/</a>
+44 (0)7891 993 664

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg07684.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#07689">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#07689">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg07698.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg07680.html">riak_core nodes on Heroku?</a></span> <span class="sender italic">Jon Brisbin</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg07681.html">Re: riak_core nodes on Heroku?</a></span> <span class="sender italic">Jonathan Baudanza</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg07682.html">Re: riak_core nodes on Heroku?</a></span> <span class="sender italic">Jon Brisbin</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg07683.html">Re: riak_core nodes on Heroku?</a></span> <span class="sender italic">Jonathan Baudanza</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg07684.html">Re: riak_core nodes on Heroku?</a></span> <span class="sender italic">Kresten Krab Thorup</span></li>
<li class="icons-email tSliceCur"><span class="subject">Re: riak_core nodes on Heroku?</span> <span class="sender italic">Samuel Elliott</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg07698.html">Re: riak_core nodes on Heroku?</a></span> <span class="sender italic">Ciprian Dorin Craciun</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg07700.html">Re: riak_core nodes on Her...</a></span> <span class="sender italic">Samuel Elliott</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: riak_core nodes on Heroku?">
<input type="hidden" name="msgid" value="CAAw5PY=9yM-N-PMFg3jKA0-M=oeupAnaJmM1MBv_21OEimQcEg@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg07689.html">
<input type="submit" value=" Samuel Elliott ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+riak_core+nodes+on+Heroku%5C%3F%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg07684.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg07698.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAAw5PY=9yM-N-PMFg3jKA0-M=oeupAnaJmM1MBv_21OEimQcEg@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
