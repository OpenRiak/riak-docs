<!DOCTYPE html>
<html lang="en">
<head>
<title>Clarification questions re bucket types</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#17795" id="c">
<link rel="index" href="maillist.html#17795" id="i">
<link rel="prev" href="msg17792.html" id="p">
<link rel="next" href="msg17796.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg17795.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Clarification+questions+re+bucket+types%22&amp;o=newest" rel="nofollow"><span itemprop="name">Clarification questions re bucket types</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Henning+Verbeek%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Henning Verbeek</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20161205" rel="nofollow">Mon, 05 Dec 2016 06:42:17 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi guys,

I still struggle with bucket types and have some questions. Going back
a year I could not find many threads about it, but forgive me if I
missed something and am asking already-answered questions.</pre><pre>

## Cluster-awareness

I've understood so far that bucket types are used as part of the
namespace, and that they can also hold additional configuration
properties (such as datatypes). I've also read that they are
&quot;lightweight&quot;, and are not being &quot;gossiped around the cluster&quot;
compared to properties set on buckets directly. Because of this they
are recommended for bucket configuration; in fact configuration of
newer properties (CRDT) are only available via bucket types.

The statement about &quot;not gossiped around the cluster&quot; makes me wonder:
does that mean that the bucket types must be defined (and activated?)
on each cluster node? The documentation at
[<a  rel="nofollow" href="http://docs.basho.com/riak/kv/2.2.0/using/cluster-operations/bucket-types/">http://docs.basho.com/riak/kv/2.2.0/using/cluster-operations/bucket-types/</a>]
does not explain this.

I find the example at this link actually really confusing: A bucket
type is created _without properties_, and then a property is set on
the individual bucket. I thought, you're exactly not supposed to do
that but rather use plenty of bucket types...?! (Yes, the example
further down explains that the bucket type could be defined with the
property; but why is it shown here as if this is the exception?)

## API-availability of bucket type creation

I've seen [this
thread](<a  rel="nofollow" href="http://lists.basho.com/pipermail/riak-users_lists.basho.com/2016-July/018574.html">http://lists.basho.com/pipermail/riak-users_lists.basho.com/2016-July/018574.html</a>)
about programatically creating bucket-types. Is there any progress on
this? I really really struggle with the concept that bucket types are
supposed to be created _manually_, _on the node(s)_ themselves. How
would the application know if this has happened or not? And what
should it do if not - fail?

In my eyes, the application is responsible for ensuring &quot;data
definition&quot;, not an admin. At startup the application should check the
environment against its expectations and make the necessary changes.
An example of this is schema versioning in relational databases. If
this would require administrator interaction, the synchronisation
required is immense. How do others deal with this situation?

I couldn't find anything regarding bucket-types in
[javadoc](<a  rel="nofollow" href="http://basho.github.io/riak-java-client/2.1.0/">http://basho.github.io/riak-java-client/2.1.0/</a>), so I assume
this is not available yet.


Thank you for your help and information!
Cheers,
Henning

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg17792.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#17795">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#17795">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg17796.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email tSliceCur"><span class="subject">Clarification questions re bucket types</span> <span class="sender italic">Henning Verbeek</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17796.html">Re: Clarification questions re bucket types</a></span> <span class="sender italic">Shaun McVey</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Clarification questions re bucket types">
<input type="hidden" name="msgid" value="CAOVDbHZtFjv5YfJnKUdr4S038a3PgUCBFASwhw6GUzJTACtv8w@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg17795.html">
<input type="submit" value=" Henning Verbeek ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Clarification+questions+re+bucket+types%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg17792.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg17796.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAOVDbHZtFjv5YfJnKUdr4S038a3PgUCBFASwhw6GUzJTACtv8w@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
