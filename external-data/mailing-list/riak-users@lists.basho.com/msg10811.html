<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: RiakCS configs and quoting of backends</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#10811" id="c">
<link rel="index" href="maillist.html#10811" id="i">
<link rel="prev" href="msg10796.html" id="p">
<link rel="next" href="msg10812.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg10811.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+RiakCS+configs+and+quoting+of+backends%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: RiakCS configs and quoting of backends</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Toby+Corkindale%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Toby Corkindale</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20130409" rel="nofollow">Tue, 09 Apr 2013 17:37:32 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
On 10/04/13 01:04, Reid Draper wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hey Toby, comments inline:</pre><pre>

On Apr 8, 2013, at 9:45 PM, Toby Corkindale
&lt;toby.corkind...@strategicdata.com.au&gt; wrote:

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Hi, I think I've spotted an issue with the configuration snippets
given on both these pages, relating to configuring Riak CS.. but it
might just be my misunderstanding of Erlang configuration formats.

<a  rel="nofollow" href="http://docs.basho.com/riakcs/latest/tutorials/fast-track/Building-a-Local-Test-Environment/">http://docs.basho.com/riakcs/latest/tutorials/fast-track/Building-a-Local-Test-Environment/</a>



</pre></blockquote></blockquote><pre style="margin: 0em;">
<a  rel="nofollow" href="http://docs.basho.com/riakcs/latest/cookbooks/configuration/Configuring-Riak/">http://docs.basho.com/riakcs/latest/cookbooks/configuration/Configuring-Riak/</a>
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">

On those pages, none of the names of backends are quoted. ie. We
have {be_blocks, riak_kv_bitcask_backend, rather than:
{&lt;&lt;&quot;be_blocks&quot;&quot;&gt;, riak_kv_bitcask_backend,
</pre></blockquote><pre style="margin: 0em;">

Both of those links look correct to me.
</pre></blockquote><pre style="margin: 0em;">

</pre><tt>And I agree that they do work as given.. just you lose the ability to 
</tt><tt>refer to backends by name when setting bucket properties.
</tt><pre style="margin: 0em;">

</pre><tt>Which you're not going to do for RiakCS buckets, but you would if you 
</tt><tt>want to have other buckets for use by your app.
</tt><pre style="margin: 0em;">

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
However in the regular Riak configuration section, backend names
are always quoted.
</pre></blockquote><pre style="margin: 0em;">

Can you provide a link to this?
</pre></blockquote><pre style="margin: 0em;">

Sure, it was from here:
<a  rel="nofollow" href="http://docs.basho.com/riak/latest/tutorials/choosing-a-backend/Multi/">http://docs.basho.com/riak/latest/tutorials/choosing-a-backend/Multi/</a>

{multi_backend_default, &lt;&lt;&quot;bitcask_mult&quot;&gt;&gt;},
    {multi_backend, [
        %% Here's where you set the individual multiplexed backends
        {&lt;&lt;&quot;bitcask_mult&quot;&gt;&gt;,  riak_kv_bitcask_backend, [
                         %% bitcask configuration
                         {config1, ConfigValue1},
                         {config2, ConfigValue2}
        ]},


</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Now, I note that if you use the entire configuration snippet
verbatim, that it all works. However if you want to set more
backends and to select them via REST bucket properties, then you
find that none of the backends can be found.
</pre></blockquote><pre style="margin: 0em;">

Can you elaborate what you mean here? It's also worth mentioning
that, if you're using Riak CS, you shouldn't need to add or 'select'
more backends for the underlying Riak cluster.
</pre></blockquote><pre style="margin: 0em;">

</pre><tt>Not for RiakCS, but what if you want to have a different backend 
</tt><tt>available for your app to use - eg. Memory or expiring Bitcask?
</tt><pre style="margin: 0em;">

</pre><tt>(You can use the backend prefix option, but that's not available in 
</tt><tt>regular Riak)
</tt><pre style="margin: 0em;">

</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
Things only seemed to work as expected once I went through and
quoted all the backend names - in the multi_backend{} part, and
also for the prefix_list and default options.
</pre></blockquote></blockquote><pre style="margin: 0em;">

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg10796.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#10811">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#10811">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg10812.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg10784.html">RiakCS configs and quoting of backends</a></span> <span class="sender italic">Toby Corkindale</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10796.html">Re: RiakCS configs and quoting of backends</a></span> <span class="sender italic">Reid Draper</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: RiakCS configs and quoting of backends</span> <span class="sender italic">Toby Corkindale</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg10812.html">Re: RiakCS configs and quoting of backends</a></span> <span class="sender italic">Reid Draper</span></li>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: RiakCS configs and quoting of backends">
<input type="hidden" name="msgid" value="5164B3FF.3030302@strategicdata.com.au">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg10811.html">
<input type="submit" value=" Toby Corkindale ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+RiakCS+configs+and+quoting+of+backends%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg10796.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg10812.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">5164B3FF.3030302@strategicdata.com.au</li>
</ul>
</div>
</body>
</html>
