<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: May allow_mult cause DoS?</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="thrd5.html#13314" id="c">
<link rel="index" href="mail5.html#13314" id="i">
<link rel="prev" href="msg13313.html" id="p">
<link rel="next" href="msg13315.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg13314.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+May+allow_mult+cause+DoS%5C%3F%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: May allow_mult cause DoS?</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22John+Daily%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">John Daily</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20131220" rel="nofollow">Fri, 20 Dec 2013 15:07:15 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>I could be wrong, but I believe there’s metadata overhead for each sibling, so 
even if all data in all siblings needs to be retained, it’s still more 
efficient to merge and save them as one object.</pre><pre>

-John

On Dec 20, 2013, at 6:01 PM, Andrew Stone &lt;ast...@basho.com&gt; wrote:

&gt; Think of an object with thousands of siblings. That's an object that has 1 
&gt; copy of the data for each sibling. That object could be on the order of 100s 
&gt; of megabytes. Everytime an object is read off disk and returned to the client 
&gt; 100mb is being transferred. Furthermore leveldb must rewrite the entire 100mb 
&gt; to disk everytime a new sibling is added. And it just got larger with that 
&gt; write. If a merge occurs, the amount of data is a single copy of the data at 
&gt; that key instead of what ammounts to approximately 10000 copies of the same 
&gt; sized data, when all you care about is one of those 10,000.
&gt; 
&gt; -Andrew
&gt; 
&gt; 
&gt; On Fri, Dec 20, 2013 at 5:41 PM, Jason Campbell &lt;xia...@xiaclo.net&gt; wrote:
&gt; 
&gt; From: &quot;Sean Cribbs&quot; &lt;s...@basho.com&gt;
&gt; To: &quot;Jason Campbell&quot; &lt;xia...@xiaclo.net&gt;
&gt; Sent: Saturday, 21 December, 2013 3:17:57 AM
&gt; 
&gt; Subject: Re: May allow_mult cause DoS?
&gt; 
&gt; &gt; No, the behavior in LevelDB is no different than the behavior of any of our 
&gt; &gt; other backends, namely, all siblings occupy the same key. Every write 
&gt; &gt; involves a fetch from the backend so that the existing value can be 
&gt; &gt; superseded by or merged with the incoming write.
&gt; 
&gt; I'm confused then, why is reading hundreds or thousands of siblings a problem 
&gt; if they are stored in the same object anyway?  What is the difference between 
&gt; reading a large number of siblings and a merged object?
&gt; 
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt; 
&gt; 
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>

</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg13313.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="thrd5.html#13314">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="mail5.html#13314">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg13315.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13280.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">Viable Nisei</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13281.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">Russell Brown</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13289.html">Fwd: May allow_mult cause DoS?</a></span> <span class="sender italic">Viable Nisei</span></li>
</ul></li>
</ul></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg13292.html">SV: May allow_mult cause DoS?</a></span> <span class="sender italic">Rune Skou Larsen</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13297.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">Viable Nisei</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13298.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">Andy Gross</span></li>
</ul></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg13302.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">Jason Campbell</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13307.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">Sean Cribbs</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13312.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">Jason Campbell</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13313.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">Andrew Stone</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: May allow_mult cause DoS?</span> <span class="sender italic">John Daily</span></li>
<li class="icons-email"><span class="subject"><a href="msg13315.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">Jason Campbell</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13319.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">Russell Brown</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13320.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">Jason Campbell</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: May allow_mult cause DoS?">
<input type="hidden" name="msgid" value="FBA99896-913C-4AF6-BC0F-AF0212C20DA1@basho.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg13314.html">
<input type="submit" value=" John Daily ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+May+allow_mult+cause+DoS%5C%3F%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg13313.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg13315.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">FBA99896-913C-4AF6-BC0F-AF0212C20DA1@basho.com</li>
</ul>
</div>
</body>
</html>
