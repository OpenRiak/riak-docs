<!DOCTYPE html>
<html lang="en">
<head>
<title>Improved capacity planning for Bitcask deployments</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#05216" id="c">
<link rel="index" href="maillist.html#05216" id="i">
<link rel="prev" href="msg05208.html" id="p">
<link rel="next" href="msg05218.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg05216.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Improved+capacity+planning+for+Bitcask+deployments%22&amp;o=newest" rel="nofollow"><span itemprop="name">Improved capacity planning for Bitcask deployments</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Greg+Burd%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Greg Burd</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20111020" rel="nofollow">Thu, 20 Oct 2011 13:03:13 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre> A while ago on this list Nico Meyer did an amazingly detailed job of examining 
the overhead required when storing data in Riak using Bitcask 
(<a  rel="nofollow" href="http://lists.basho.com/pipermail/riak-users_lists.basho.com/2011-May/004292.html">http://lists.basho.com/pipermail/riak-users_lists.basho.com/2011-May/004292.html</a>).
  That post inspired me to redo our wiki page, which I just published about an 
hour ago.</pre><pre>

<a  rel="nofollow" href="http://wiki.basho.com/Bitcask-Capacity-Planning.html">http://wiki.basho.com/Bitcask-Capacity-Planning.html</a>

Nico, thanks!

The new page provides straight forward recommendations such as:

&quot;&quot;&quot;
To manage your estimated 183.9 million key/bucket pairs where bucket names are 
~10 bytes, keys are ~36 bytes, values are ~36 bytes and you are setting aside 
16.0 GiB of RAM per-node for in-memory data management within a cluster that is 
configured to maintain 3 replicas per key (N = 3) then Riak, using the Bitcask 
storage engine, will require at least 3 nodes each with at least 15.2 GiB of 
RAM and 120.6 GiB of storage space (361.8 GiB total storage space used across 
all nodes).

&quot;&quot;&quot;

I'd be interested in feedback as to how close the estimates are to real 
deployments.  The calculator doesn't (yet) take into account overhead due to 
links, tombstones, search, 2i, etc. all of which will increase the on disk 
space.  Also not accounted for is the way Bitcask files grow until merges are 
triggered.  That's a bit tricky to model, but I think I can project the upper 
bound.

cheers,

@gregburd
Developer Advocate, Basho Technologies | <a  rel="nofollow" href="http://basho.com">http://basho.com</a> | @basho
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg05208.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#05216">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#05216">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg05218.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">

</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Improved capacity planning for Bitcask deployments">
<input type="hidden" name="msgid" value="D015C5827C264199869746A2433249DE@basho.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg05216.html">
<input type="submit" value=" Greg Burd ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Improved+capacity+planning+for+Bitcask+deployments%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg05208.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg05218.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">D015C5827C264199869746A2433249DE@basho.com</li>
</ul>
</div>
</body>
</html>
