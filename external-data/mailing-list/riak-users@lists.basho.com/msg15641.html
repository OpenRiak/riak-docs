<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Riak Search Production Configuration</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#15641" id="c">
<link rel="index" href="maillist.html#15641" id="i">
<link rel="prev" href="msg15639.html" id="p">
<link rel="next" href="msg15643.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg15641.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+Search+Production+Configuration%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Riak Search Production Configuration</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Nirav+Shah%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Nirav Shah</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20150205" rel="nofollow">Thu, 05 Feb 2015 09:45:57 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi Shawn,Thanks for the response. To give you some background
1. We are using custom schema with default bucket type2. I have the search set 
to on:)3. I have associated BucketProperties/Index to my buckets..4. What i am 
seeing is, i am getting data back, but for some reason i am not getting the 
entire set. When i query RIAK i see the data, however when i query the solr 
indexes, its missing that data. At this point, i don't know what can cause this 
 and am looking for people who might have faced similar issues.
My default config is just changing search=on in riak.conf, changed the JVM 
settings in riak.conf for Solr. </pre><pre>

Would appreciate any pointers and best practice around settings for Riak Search 
and AAE in production cluster that i should add that folks have running in 
production cluster. 


Regards,Nirav

      From: Shawn Debnath &lt;sh...@debnath.net&gt;
 To: Nirav Shah &lt;niravis...@yahoo.com&gt;; &quot;riak-users@lists.basho.com&quot; 
&lt;riak-users@lists.basho.com&gt; 
 Sent: Thursday, February 5, 2015 9:13 AM
 Subject: Re: Riak Search Production Configuration
   
Hi Nirav,
About your last point. Just yesterday I started playing with Search 2.0 (solr) 
and riak. Basho did a good job at integrating the solr platform but docs are 
sometimes misleading. One thing I found out was the using the default schema 
provided by Basho, if you are using CRDTs, your fields are suffixed with 
_register, _counter, _set. This link 
(<a  rel="nofollow" href="http://docs.basho.com/riak/latest/dev/search/search-data-types/">http://docs.basho.com/riak/latest/dev/search/search-data-types/</a>) has a good 
set of examples but best is to experiment. I ended up diving into the data dir 
of solar and grep’ed for parts of my field names to figure out what it actually 
was. When running queries, solr/riak will not let you know that fields are 
incorrect, it just doesn’t have any data for those so it returns no search 
results.
Good luck.
Shawn
PS. Be sure to have search=on in riak.conf :)


On 2/5/15, 7:34 AM, &quot;Nirav Shah&quot; &lt;niravis...@yahoo.com&gt; wrote:

Hi All,Just wanted to check what kind of configuration settings does everyone 
use in production clustered environment for Riak Search/AAE and if someone can 
share some experience over it? We currently have a 2g memory allocated to Solr 
and are currently just using the default parameters from riak.conf.  
What we have seen so far is that there is data in RIAK but somehow, Solr/Riak 
search does not return it. I am trying to find out what can cause this and am i 
missing some kind of configuration settings. 


Any response would be appreciated.  

Regards,Nirav


  </pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg15639.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#15641">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#15641">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg15643.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg15637.html">Riak Search Production Configuration</a></span> <span class="sender italic">Nirav Shah</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15639.html">Re: Riak Search Production Configuration</a></span> <span class="sender italic">Shawn Debnath</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Riak Search Production Configuration</span> <span class="sender italic">Nirav Shah</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15643.html">Re: Riak Search Production Configuration</a></span> <span class="sender italic">Luc Perkins</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15645.html">Re: Riak Search Production Configuration</a></span> <span class="sender italic">Nirav Shah</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15648.html">Re: Riak Search Production Configurati...</a></span> <span class="sender italic">Shawn Debnath</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15649.html">Re: Riak Search Production Configu...</a></span> <span class="sender italic">Nirav Shah</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg15651.html">Re: Riak Search Production Con...</a></span> <span class="sender italic">Shawn Debnath</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Riak Search Production Configuration">
<input type="hidden" name="msgid" value="73045899.206429.1423158161452.JavaMail.yahoo@mail.yahoo.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg15641.html">
<input type="submit" value=" Nirav Shah ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Riak+Search+Production+Configuration%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg15639.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg15643.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">73045899.206429.1423158161452.JavaMail.yahoo@mail.yahoo.com</li>
</ul>
</div>
</body>
</html>
