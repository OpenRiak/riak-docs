<!DOCTYPE html>
<html lang="en">
<head>
<title>RE: LucidWorks Banana Integration</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#16833" id="c">
<link rel="index" href="maillist.html#16833" id="i">
<link rel="prev" href="msg16830.html" id="p">
<link rel="next" href="msg16821.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg16833.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22RE%5C%3A+LucidWorks+Banana+Integration%22&amp;o=newest" rel="nofollow"><span itemprop="name">RE: LucidWorks Banana Integration</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Mark+Schmidt%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Mark Schmidt</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20151129" rel="nofollow">Sun, 29 Nov 2015 22:16:12 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi Dams, I appreciate the assistance.

 </pre><pre>

I was able to turn up Banana fairly easily using the steps you laid out
below, but I have a few questions regarding communicating with my Riak
environment.

 

We have a 6 Riak nodes sitting behind a proxy that handles both HTTP and
protocol buffer load balancing. I've turned up a new standalone Riak node
(hosts Banana/Nginx) outside of the cluster.

 

1)      Should the Nginx config file be pointed at my HAProxy IP that
handles the Riak node load balancing, or do I need to incorporate additional
settings in the config to handle the 6 Riak Solr nodes?

2)      Should I use the Riak HTTP interface port (8098) or the Solr
interface port (8093) in the Nginx config file?  

3)      Is there any way to perform faceted queries or other more advanced
query functionality against the Riak Solr nodes? Searching through the
conversation archives, it sounds like we may be able to query the Solr nodes
themselves outside of the Riak API.

 

Thanks again Dams,

 

-          Mark Schmidt 

 

From: Damien Krotkine [<a  rel="nofollow" href="mailto:dam...@krotkine.com">mailto:dam...@krotkine.com</a>] 
Sent: Saturday, November 28, 2015 5:50 AM
To: Mark Schmidt &lt;mschm...@orcawave.net&gt;
Cc: 'riak-users' &lt;riak-users@lists.basho.com&gt;
Subject: Re: LucidWorks Banana Integration

 

Hi Mark,

I have successfully integrated Banana with Riak 2.0 Solr implementation. I
simply configured a nginx to act as proxy between Riak Search / Solr / What
banana expects. So basically:
- Install Riak 2, java, and enable Riak Search (follow basho doc)
- Install banana
- install nginx and use this as a base :
<a  rel="nofollow" href="https://github.com/glickbot/riak-banana/blob/b9bd32242ee0a6ee133fb2804b1976a">https://github.com/glickbot/riak-banana/blob/b9bd32242ee0a6ee133fb2804b1976a</a>
4fcd73f82/puppet/modules/riakbanana/templates/nginx.conf.erb
- configure banana to point to the solr on your riak search.

If you need more help, feel free to ask,

dams


Mark Schmidt wrote:



Has anyone successfully integrated Banana with the Riak 2.0 Solr
implementation? 

 

Regards,

 

-          Mark Schmidt

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com &lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt; 
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>

 

</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg16830.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#16833">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#16833">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg16821.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg16820.html">LucidWorks Banana Integration</a></span> <span class="sender italic">Mark Schmidt</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg16824.html">Fwd: LucidWorks Banana Integration</a></span> <span class="sender italic">Brian Sparrow</span></li>
<li class="icons-email"><span class="subject"><a href="msg16830.html">Re: LucidWorks Banana Integration</a></span> <span class="sender italic">Damien Krotkine</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">RE: LucidWorks Banana Integration</span> <span class="sender italic">Mark Schmidt</span></li>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="RE: LucidWorks Banana Integration">
<input type="hidden" name="msgid" value="028401d12b36$356b0710$a0411530$@orcawave.net">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg16833.html">
<input type="submit" value=" Mark Schmidt ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22RE%5C%3A+LucidWorks+Banana+Integration%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg16830.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg16821.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">028401d12b36$356b0710$a0411530$@orcawave.net</li>
</ul>
</div>
</body>
</html>
