<!DOCTYPE html>
<html lang="en">
<head>
<title>Riak and Distributed Image Processing</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#05458" id="c">
<link rel="index" href="maillist.html#05458" id="i">
<link rel="prev" href="msg05453.html" id="p">
<link rel="next" href="msg05459.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg05458.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Riak+and+Distributed+Image+Processing%22&amp;o=newest" rel="nofollow"><span itemprop="name">Riak and Distributed Image Processing</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22andrew+cooke%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">andrew cooke</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20111107" rel="nofollow">Mon, 07 Nov 2011 13:23:11 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>
Hi,

Apologies if this is a dumb idea, or I am asking in the wrong place.  I'm
muddling around trying to understand various bits of technology while piecing
together a possible project.  So feel free to tell me I'm wrong :o)</pre><pre>

I am considering how best to design a system that processes data from
telescopes.  A typical &quot;step&quot; in the processing might involve combining a
small number of calibration images with a (possibly large) set of observation
images in some way and then adding the result.  To do this in a distributed
manner you would have the observations on various machines, broadcast the
calibrations, then do a map (the per-observation processing) followed by a
reduce (the summing).

So, in very vague terms, this fits roughly into map-reduce territory.  What I
am doing now is seeing how the details work out with various &quot;nosql&quot; systems.

So my basic question is: how would the above fit with Riak?  Alternatively,
what else should I consider?

Some more details and speculation:

 - A typical image might contain 10 million 16 bit values, so is of around
   20MB in size (and will get bigger as technology improves).

 - A typical process could involve anything from 1 to hundreds of images.

 - I have no problem with using Erlang for high level code, but would expect
   to delegate image processing to C, Fortran, or OpenCL (if GPUs were
   available on nodes; I know an OpenCL package exists for Erlang).

 - Integration with numerical Python or IDL or Matlab or similar would be an
   unexpected plus.

 - I imagine (but have done no tests so have no real idea how much time would
   be spent in number-crunching, compared to data movement) that for
   efficiency it might (sometimes) be best to have mutable, memory mapped
   access to the images in a map-reduce &quot;task&quot;.

 - But exactly when processes would mutate image data, and when they would
   create new images, is not yet clear.

 - If images awere immutable then you could consider the data processing as a
   directed graph of images.  Re-processing with modified parameters (a common
   occurence as the astronomer &quot;tweaks&quot; the reduction) might re-use some
   points in the graph to avoid duplicating previous work.  Some kind of
   &quot;garbage collection&quot; could then be required to delete older images.

 - Some processing will require combining images on different nodes.

 - Something must preserve a history of the processing required to generate
   each image.  I assume this would be managed by the high-level code, but
   it's possible &quot;data provenance&quot; is already available in Riak, or supported
   by some library?

 - Most tasks would be expressed in terms of kernel operations (eg add two
   images) taken from some library, but astronomers may want to add completely
   new code.

If you've read this far I'd love to hear of any thoughts that pop into your
head in response to the above.  Possible problems?  Technical details of Riak
that might help?  Similar projects?

Thanks,
Andrew

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg05453.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#05458">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#05458">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg05459.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email tSliceCur"><span class="subject">Riak and Distributed Image Processing</span> <span class="sender italic">andrew cooke</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg05459.html">Re: Riak and Distributed Image Processing</a></span> <span class="sender italic">Alexander Sicular</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg05461.html">Re: Riak and Distributed Image Processing</a></span> <span class="sender italic">andrew cooke</span></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg05460.html">Re: Riak and Distributed Image Processing</a></span> <span class="sender italic">Nate Lawson</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Riak and Distributed Image Processing">
<input type="hidden" name="msgid" value="20111107212301.GD24043@acooke.org">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg05458.html">
<input type="submit" value=" andrew cooke ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Riak+and+Distributed+Image+Processing%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg05453.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg05459.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">20111107212301.GD24043@acooke.org</li>
</ul>
</div>
</body>
</html>
