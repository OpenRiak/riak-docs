<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: DETS vs Innostore</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#00191" id="c">
<link rel="index" href="maillist.html#00191" id="i">
<link rel="prev" href="msg00185.html" id="p">
<link rel="next" href="msg00198.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg00191.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+DETS+vs+Innostore%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: DETS vs Innostore</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22David+Smith%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">David Smith</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20100428" rel="nofollow">Wed, 28 Apr 2010 05:48:24 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi Abe,

On Mon, Apr 26, 2010 at 11:31 PM, Abeming Sf &lt;abeming...@gmail.com&gt; wrote:</pre><pre>

&gt; Hi,
&gt;
&gt; Data example : [{field, &quot;value&quot;}, {field, &quot;value&quot;}, {field, &quot;value&quot;}]
&gt;

First observation -- that's only ~61 bytes of data  when encoded into binary
-- which is pretty small. If you start storing larger chunks of data (say
10k), you'll find that dets starts running into significant iowait issues as
it tries to flush the data to disk.


&gt; I found out that storing 200k of data sequentially into dets is a lot more
&gt; faster than storing into innodb and dets only use around 350MB space while
&gt; innodb use around 1.1GB.
&gt;

Yes, inno does introduce expansion, particularly when you are using very
small piece of data. I believe this has something to do with the way that
Inno allocates a 8 KB page per BLOB.


&gt; Also, in my other test which store 1 million data into dets, it only use
&gt; around 700MB++ of space (same data structure above).
&gt;
&gt; It is recommended to use innostore for production right?What should I do to
&gt; make it better.
&gt;

Whether or not you should use innostore vs. dets in production depends
heavily on what your access pattern is and how much data you plan to store.
If you've going to be storing many gigabytes of data, innostore will do much
better than dets as the dataset grows large. Innostore has better durability
mechanisms that dets as well, so that's something to consider too.

Dets is very fast in situations where you have a small-ish amount of data
and reads predominate your access pattern.

Hope that helps.

D.



&gt;
&gt; Regards,
&gt; Abe
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
&gt;
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg00185.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#00191">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#00191">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg00198.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg00185.html">DETS vs Innostore</a></span> <span class="sender italic">Abeming Sf</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: DETS vs Innostore</span> <span class="sender italic">David Smith</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00198.html">Re: DETS vs Innostore</a></span> <span class="sender italic">Abeming Sf</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00199.html">Re: DETS vs Innostore</a></span> <span class="sender italic">Abeming Sf</span></li>
</ul></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg00189.html">Re: DETS vs Innostore</a></span> <span class="sender italic">wde</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: DETS vs Innostore">
<input type="hidden" name="msgid" value="s2obe616d3e1004280548s3166a929g254912811123f9ef@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg00191.html">
<input type="submit" value=" David Smith ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+DETS+vs+Innostore%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg00185.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg00198.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">s2obe616d3e1004280548s3166a929g254912811123f9ef@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
