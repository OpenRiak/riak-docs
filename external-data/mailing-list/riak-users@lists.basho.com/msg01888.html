<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Using multiple disks with Riak</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#01888" id="c">
<link rel="index" href="maillist.html#01888" id="i">
<link rel="prev" href="msg01887.html" id="p">
<link rel="next" href="msg01889.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg01888.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Using+multiple+disks+with+Riak%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Using multiple disks with Riak</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Karsten+Thygesen%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Karsten Thygesen</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20110105" rel="nofollow">Wed, 05 Jan 2011 05:24:09 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi Yusuf

On Jan 5, 2011, at 13:28 , yusuf şahin wrote:</pre><pre>

&gt; Hello Riak Users!
&gt; 
&gt; 
&gt; I am working on a testing Riak cluster and have some questions about disks on 
&gt; nodes.
&gt; 
&gt; 1 - How big or small disk arrays we should use with riak nodes when we have 
&gt; 1GBS network between nodes and have 8GB ram on each nodes. Does nodes have 
&gt; limitations like ram cpu, bandwith while storing too big data consist of many 
&gt; small files. 

Many small files will require many keys and keys are in memory when using 
Bitcask as backend. So memory will probably be your limitation.

&gt; 
&gt; 2 - Is it ok to use different size of disks with riak nodes. For exaple, 
&gt; 100GB for 1st node , 300GB for second node, 500GB for third node etc. How 
&gt; will Riak handle the data distrubition and replication in this situation in a 
&gt; large cluster of nodes.  (if we have 20 or 50 nodes in the cluster)

Yes, it is OK, but Riak does not take available diskspace into consideration 
when distributing data. All nodes gets a fair chunk of vnodes and thereby the 
approximate same amount of data to handle. So capacity wise, you are limited by 
the smallest server.

&gt; 
&gt; 3- When disk on one of nodes become full, what will happen ?

&gt; 
&gt;     Node will continue serving files but it will not accept any new data, 
&gt; Node will accept any read, delete request but will not accept any write 
&gt; request so new files will be written to another node with enough disk space ?
&gt;     Node will stop serving files and will go dead. So the files in that node 
&gt; will replicated to another node ?
&gt;    We can mount new disks to that node to increase total disk volume ?    
&gt;    Which condition is ture ?

The node will die and others will take over.

&gt; 
&gt; 4- Is Riak support multiple disks for data storage, if yes have can we make 
&gt; this?

Bitcask is a single directory of directories of files - the easiest way to use 
multiple disks is to use the native raid feature of your operatingsystem. We 
use Solaris and ZFS to handle raid among multiple disks - this also gives us 
the opportunity to make snapshots for backup purposes and we can extend the 
filesystem on the run...

Best regards,
Karsten</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg01887.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#01888">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#01888">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg01889.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg01887.html">Using multiple disks with Riak</a></span> <span class="sender italic">yusuf şahin</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Using multiple disks with Riak</span> <span class="sender italic">Karsten Thygesen</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Using multiple disks with Riak">
<input type="hidden" name="msgid" value="B2F3C296-5597-45C8-A261-3EE50C6FC7A8@netic.dk">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg01888.html">
<input type="submit" value=" Karsten Thygesen ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Using+multiple+disks+with+Riak%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg01887.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg01889.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">B2F3C296-5597-45C8-A261-3EE50C6FC7A8@netic.dk</li>
</ul>
</div>
</body>
</html>
