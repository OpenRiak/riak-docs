<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Is Riak the right software for me?</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#06863" id="c">
<link rel="index" href="maillist.html#06863" id="i">
<link rel="prev" href="msg06861.html" id="p">
<link rel="next" href="msg06866.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg06863.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Is+Riak+the+right+software+for+me%5C%3F%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Is Riak the right software for me?</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Shekhar+Vemuri%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Shekhar Vemuri</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20120304" rel="nofollow">Sun, 04 Mar 2012 09:14:59 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Are you looking for something like this? 

<a  rel="nofollow" href="https://help.basho.com/entries/358219-can-riak-be-used-to-build-a-secure-s3-alternative">https://help.basho.com/entries/358219-can-riak-be-used-to-build-a-secure-s3-alternative</a></pre><pre>

Ideally you would run a reverse proxy in front of riak. So riak would be your 
store and the reverse proxy would serve files directly to the client...

Sent from my iPhone.

On Mar 4, 2012, at 6:54 AM, Philip &lt;flip...@googlemail.com&gt; wrote:

&gt; It looks like these high wait times occur when the request hits a node
&gt; which does not store the requested file. The node will download the
&gt; whole file into memory and after that he will send the data to the
&gt; client. How about directly pipe'ing the download to the output stream
&gt; or (even better) redirect the client to a node with the file so the
&gt; overall network usage decreases?
&gt; 
&gt; Am 4. MÃ¤rz 2012 11:40 schrieb Philip &lt;flip...@googlemail.com&gt;:
&gt;&gt; I am looking for a software to host millions of files in the order of
&gt;&gt; 2-20MB for web serving. A few (~5%) files are &quot;hot&quot; and accessed
&gt;&gt; heavily but most of the files are cold. The system is going to work
&gt;&gt; like a big cache and therefore I need to make sure that the cluster
&gt;&gt; won't go out of space while new files are beeing added. I'd like to
&gt;&gt; store the last time a file was accessed and delete the least accessed
&gt;&gt; files to make sure there is always 20-30% free space in the cluster.
&gt;&gt; This system is currently spread across alot of different standalone
&gt;&gt; servers and serves a few gbit of bandwidth.
&gt;&gt; 
&gt;&gt; Is this possible with riak? Is there anything I should take into 
&gt;&gt; consideration?
&gt;&gt; 
&gt;&gt; I did a little testing with a 4 node cluster. Basically with the
&gt;&gt; default configuration, I've only changed the ip addresses and disabled
&gt;&gt; nagle buffering for http. When I want to access a 20MB file through
&gt;&gt; the REST API it sometimes takes 4-8 seconds until any data is beeing
&gt;&gt; sent to the client. I've made use of the &quot;r&quot; parameter (r=1) and the
&gt;&gt; wait time improved a little bit but is still unacceptable for
&gt;&gt; production use. Is there some config option I am missing here to get
&gt;&gt; the requested file without such high wait times?
&gt;&gt; 
&gt;&gt; Best Regards
&gt;&gt; Philip
&gt; 
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg06861.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#06863">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#06863">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg06866.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg06859.html">Is Riak the right software for me?</a></span> <span class="sender italic">Philip</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg06861.html">Re: Is Riak the right software for me?</a></span> <span class="sender italic">Philip</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Is Riak the right software for me?</span> <span class="sender italic">Shekhar Vemuri</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg06866.html">Questions on configuring public and private...</a></span> <span class="sender italic">Tim Robinson</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg06867.html">Re: Questions on configuring public and...</a></span> <span class="sender italic">Alexander Sicular</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg06868.html">Re: Questions on configuring publi...</a></span> <span class="sender italic">Tim Robinson</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg06869.html">Re: Questions on configuring p...</a></span> <span class="sender italic">Tim Robinson</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg06870.html">Re: Questions on configuri...</a></span> <span class="sender italic">Aphyr</span></li>
<li class="icons-email"><span class="subject"><a href="msg06876.html">Re: Questions on configuri...</a></span> <span class="sender italic">Tim Robinson</span></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg06862.html">Re: Is Riak the right software for me?</a></span> <span class="sender italic">Philip</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Is Riak the right software for me?">
<input type="hidden" name="msgid" value="94B6F7AA-15B7-42CB-B5EE-15CE67C9BEF3@gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg06863.html">
<input type="submit" value=" Shekhar Vemuri ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Is+Riak+the+right+software+for+me%5C%3F%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg06861.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg06866.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">94B6F7AA-15B7-42CB-B5EE-15CE67C9BEF3@gmail.com</li>
</ul>
</div>
</body>
</html>
