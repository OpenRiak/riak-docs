<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: riak source build error.</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#16143" id="c">
<link rel="index" href="maillist.html#16143" id="i">
<link rel="prev" href="msg16142.html" id="p">
<link rel="next" href="msg16144.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg16143.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+riak+source+build+error.%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: riak source build error.</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Jon+Meredith%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Jon Meredith</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20150521" rel="nofollow">Thu, 21 May 2015 05:20:21 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi Atul,

It's probably because it's just a tarball of the git source tree.  It's
easy to generate the autoconf, but would be better if we provided it with
the tarball.  Instructions should be included on how to build in
HOWTO/Install.md, here's the section on how to generate the configure
script (you'll need to export an environment variable ERL_TOP pointing to
the top of the erlang source tree).</pre><pre>

### Building in Git ###


When building in a Git working directory you also have to have a GNU
`autoconf`

of at least version 2.59 on your system, because you need to generate the

`configure` scripts before you can start building.


The `configure` scripts are generated by invoking `./otp_build autoconf` in

the `$ERL_TOP` directory. The `configure` scripts also have to be
regenerated

when a `configure.in` or `aclocal.m4` file has been modified. Note that when

checking out a branch a `configure.in` or `aclocal.m4` file may change

content, and you may therefore have to regenerate the `configure` scripts

when checking out a branch. Regenerated `configure` scripts imply that you

have to run `configure` and build again.


&gt; *NOTE*: Running `./otp_build autoconf` is **not** needed when building

&gt; an unmodified version of the released source.


Other useful information can be found at our github wiki:

&lt;<a  rel="nofollow" href="http://wiki.github.com/erlang/otp">http://wiki.github.com/erlang/otp</a>&gt;



On Wed, May 20, 2015 at 11:27 PM, Atul Sowani &lt;sow...@gmail.com&gt; wrote:

&gt; Hi!
&gt;
&gt; While waiting for some help, I wanted to try to compile Riak code with the
&gt; recommended Erlang version R16B02. On my system I had R17. So I downloaded
&gt; Basho's Erlang distribution as described on
&gt; <a  rel="nofollow" href="http://docs.basho.com/riak/latest/ops/building/installing/erlang/">http://docs.basho.com/riak/latest/ops/building/installing/erlang/</a>
&gt;
&gt; One thing I noticed after extracting OTP_R16B02_basho8 is that configure
&gt; script is missing. I generated configure script using autoconf. Is this the
&gt; correct procedure, or the configure script should have been there to start
&gt; with?
&gt;
&gt; After generating configure myself, I executed it. However, it seems that
&gt; it also expects a &quot;configure&quot; script under directory
&gt; OTP_R16B02_basho8/erts/autoconf/configure
&gt;
&gt; This script is missing. My question is should this script get
&gt; auto-generated or am I supposed to generate one? If it is supposed to get
&gt; auto-generated, for some reason it is not getting generated.
&gt;
&gt; Has anybody faced these problems earlier? Am I doing the right thing or
&gt; missing something important?
&gt;
&gt; Thanks,
&gt; Atul.
&gt;
&gt; On Wed, May 20, 2015 at 11:49 AM, Atul Sowani &lt;sow...@gmail.com&gt; wrote:
&gt;
&gt;&gt; Hi Clay and Rob,
&gt;&gt;
&gt;&gt; Thank for responding to my query. Rob, sorry for combining reply for
&gt;&gt; your mail here but I guess following information will be useful for both of
&gt;&gt; you.
&gt;&gt;
&gt;&gt; My current interaction with Riak is only for evaluation and to see how
&gt;&gt; easy/difficult it is to use it for different Linux distributions. Hence I
&gt;&gt; obtained the Riak source code from GitHub and tried to compile it. I am no
&gt;&gt; expert in Erlang and have never used it before. So I am worried about the
&gt;&gt; error I got while compiling Riak. I tried to search for similar error on
&gt;&gt; Google, but it did not lead me to any definitive solution. I am using
&gt;&gt; Erlang 17.1 version.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Atul.
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; On Tue, May 19, 2015 at 6:29 PM, Clay Price &lt;cpr...@basho.com&gt; wrote:
&gt;&gt;
&gt;&gt;&gt; Hey Atul,
&gt;&gt;&gt;
&gt;&gt;&gt; I'd like to connect you with one of our solutions architects, who should
&gt;&gt;&gt; be able to help with your issue. Do you have some availability on Thursday
&gt;&gt;&gt; to discuss your issue? Also, if you could send over to me your use case for
&gt;&gt;&gt; Riak, I can get some information prepared that you might find beneficial.
&gt;&gt;&gt;
&gt;&gt;&gt; Looking forward to hearing back.
&gt;&gt;&gt;
&gt;&gt;&gt; Clay
&gt;&gt;&gt;
&gt;&gt;&gt; On Tue, May 19, 2015 at 7:23 AM, Atul Sowani &lt;sow...@gmail.com&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Hi,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I am new to this mailing list. I am trying to build riak from source on
&gt;&gt;&gt;&gt; Ubuntu 14.10. I cloned riak code from GitHub and as given in &quot;Building
&gt;&gt;&gt;&gt; Riak&quot; section of README.org file, issued &quot;make rel&quot; command. Everything
&gt;&gt;&gt;&gt; seemed to compile fine, until I received following error as in the log
&gt;&gt;&gt;&gt; snippet below:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; ==&gt; riak (compile)
&gt;&gt;&gt;&gt; ./rebar generate
&gt;&gt;&gt;&gt; ==&gt; rel (generate)
&gt;&gt;&gt;&gt; ERROR: Unable to generate spec: read file info
&gt;&gt;&gt;&gt; /usr/lib/erlang/man/man1/gem.1.gz failed
&gt;&gt;&gt;&gt; ERROR: Unexpected error: rebar_abort
&gt;&gt;&gt;&gt; ERROR: generate failed while processing /home/test/riak/rel: rebar_abort
&gt;&gt;&gt;&gt; Makefile:34: recipe for target 'generate' failed
&gt;&gt;&gt;&gt; make: *** [generate] Error 1
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; /usr/lib/erlang/man/man1/gem.1.gz file is present and is a valid file
&gt;&gt;&gt;&gt; (meaning not an empty file, inaccessible file etc.)
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I have no idea how to get around this error. Any help is highly
&gt;&gt;&gt;&gt; appreciated.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;&gt; Atul.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; _______________________________________________
&gt;&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; --
&gt;&gt;&gt; Clay Price
&gt;&gt;&gt; 571-732-2502
&gt;&gt;&gt; www.basho.com
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;
&gt;


-- 
Jon Meredith
Chief Architect
Basho Technologies, Inc.
jmered...@basho.com
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg16142.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#16143">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#16143">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg16144.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg16140.html">riak source build error.</a></span> <span class="sender italic">Atul Sowani</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg16142.html">Re: riak source build error.</a></span> <span class="sender italic">Atul Sowani</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: riak source build error.</span> <span class="sender italic">Jon Meredith</span></li>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: riak source build error.">
<input type="hidden" name="msgid" value="CAGgQeSuurHQzLMeYtXdBFkWaHR1pVvrojigfSHn4UwBv3nhHtA@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg16143.html">
<input type="submit" value=" Jon Meredith ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+riak+source+build+error.%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg16142.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg16144.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAGgQeSuurHQzLMeYtXdBFkWaHR1pVvrojigfSHn4UwBv3nhHtA@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
