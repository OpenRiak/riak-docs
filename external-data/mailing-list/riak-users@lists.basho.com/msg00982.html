<!DOCTYPE html>
<html lang="en">
<head>
<title>Riak on EC2, security etc</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#00982" id="c">
<link rel="index" href="maillist.html#00982" id="i">
<link rel="prev" href="msg00981.html" id="p">
<link rel="next" href="msg00989.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg00982.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Riak+on+EC2%2C+security+etc%22&amp;o=newest" rel="nofollow"><span itemprop="name">Riak on EC2, security etc</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22John+Axel+Eriksson%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">John Axel Eriksson</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20100831" rel="nofollow">Tue, 31 Aug 2010 08:53:55 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>We're in the process of migrating our webapps to Rails 3 (some from PHP to 
Rails 3 even). I'm the one responsible
for our new Amazon EC2 setup.</pre><pre>

We've been looking at new ways of storing our data (quite alot of files but 
also data which was previously in a MySQL DB).

So, I've been trying out MongoDB for a while and quite liked it, though we've 
had some doubts on the security of our
data among other things. The ease of replication in Riak made me look at it 
closer. I really like how replication is in the
core of Riak and how data is just data regardless of what it consists of 
(files, json, xml whatever). I'm also looking at Riak
since we've discussed saving things to S3 but here Riak could be used instead I 
think.

One thing that is very important to us is the security of all communication 
within our cluster, so I'm wondering how the
riak nodes exchange data between each other - is that encrypted or could 
someone potentially listen in on it?

Could we easily encrypt it through stunnel (as we've done with some other 
protocols) and would that affect the performance
of Riak alot?

We're not entirely sure whether we want or need replication between EC2 US and 
EC2 Europe (and possibly Asia as
well) but if we do - would Riak work well over such distances?

Is Riak suited to run on XEN VMs like on EC2? What would be a recommended 
instance size (i.e does Riak require LOTS
of ram and processors?) Anyone have experience with Riak running on EC2?

So far, most of the files we store are somewhere between 500 k and 50 megs but 
might get larger than that as we
expand our business to many more clients with different needs. I know there's 
supposed to be a limit around 50 megs
currently... Is this being actively worked on?

Backups... well, we've done all kinds of 'em. The latest, and in my opinion 
most straightforward, is to put all data on an XFS
volume and freeze it (incl. &quot;FLUSH TABLES WITH READ LOCK&quot; on mysql) and then 
just do an EBS snapshot of the volume,
how would something like that apply to Riak (even though the data might be 
safer in a Riak cluster). If we run a cluster of say
10 nodes - how would we get back to a point in time? And if a DELETE was done 
erroneously, how could we get that data back?
Is riak-admin backup really an option (i.e backing up the entire cluster) if 
the dataset is very large? If we do restore using such
data would the whole cluster get &quot;reset&quot; to that point in time?

One of the things I'm quite excited about is how we could get away with nodes 
that are exactly alike and load-balancing
between them - each having a riak node running so we could have our app and the 
riak node on the same machine and
just add more such instances if we need to. Today we've separated clients onto 
different databases and machines (NOT load-balanced
and NOT replicated). This has worked ok but I think having a load-balanced 
cluster would make things easier and configuration
of machines simpler (we use chef so it's not THAT bad today). Now we add 
clients by adding a CNAME entry in DNS for a specific
machine/ip - adding configuration and databases using nanite but much of that 
could perhaps disappear with a single load-balanced
cluster I think...


Thanks for taking your time to look at my questions!

Kind regards,
John
_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg00981.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#00982">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#00982">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg00989.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg00979.html">Riak Recap for 8/27 - 8/29</a></span> <span class="sender italic">Mark Phillips</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00981.html">Re: Riak Recap for 8/27 - 8/29</a></span> <span class="sender italic">Doug Tangren</span></li>
<li class="icons-email tSliceCur"><span class="subject">Riak on EC2, security etc</span> <span class="sender italic">John Axel Eriksson</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00989.html">Re: Riak on EC2, security etc</a></span> <span class="sender italic">Sean Cribbs</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00991.html">Re: Riak on EC2, security etc</a></span> <span class="sender italic">Timothy Perrett</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00993.html">Re: Riak on EC2, security etc</a></span> <span class="sender italic">Sean Cribbs</span></li>
<li class="icons-email"><span class="subject"><a href="msg00994.html">Re: Riak on EC2, security etc</a></span> <span class="sender italic">francisco treacy</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00995.html">Re: Riak on EC2, security etc</a></span> <span class="sender italic">Timothy Perrett</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Riak on EC2, security etc">
<input type="hidden" name="msgid" value="1D098D3D-F51E-4706-9274-D9AF67DF9799@insane.se">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg00982.html">
<input type="submit" value=" John Axel Eriksson ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Riak+on+EC2%2C+security+etc%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg00981.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg00989.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">1D098D3D-F51E-4706-9274-D9AF67DF9799@insane.se</li>
</ul>
</div>
</body>
</html>
