<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: map reduce on multiple buckets</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#17011" id="c">
<link rel="index" href="maillist.html#17011" id="i">
<link rel="prev" href="msg17002.html" id="p">
<link rel="next" href="msg17004.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg17011.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+map+reduce+on+multiple+buckets%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: map reduce on multiple buckets</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Alex+Moore%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Alex Moore</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20160208" rel="nofollow">Mon, 08 Feb 2016 08:25:40 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>One possibility would be to get the intermediate results from each bucket,
and then compute the final results on the client. How much data would be
involved in the initial MR, and at the point where you would have to
combine the results?</pre><pre>

--Alex

On Thu, Jan 28, 2016 at 12:10 PM, Eugene Shubin &lt;ev.sh...@gmail.com&gt; wrote:

&gt; I want to keep daily and weekly data in different buckets, and generate
&gt; monthly report using map reduce on these two.
&gt; so 2 buckets and MR operations are custom.
&gt;
&gt; Best,
&gt; Eugene
&gt;
&gt; 2016-01-28 17:29 GMT+01:00 Alex Moore &lt;amo...@basho.com&gt;:
&gt;
&gt;&gt; Hi Eugene,
&gt;&gt;
&gt;&gt; MR is limited to one bucket for inputs, and the Solr inputs to a map
&gt;&gt; phase have this restriction too.
&gt;&gt;
&gt;&gt; How many buckets are you trying to MR across, and also what type of MR
&gt;&gt; operation are you trying to do? There may be another way to get around this
&gt;&gt; restriction.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Alex
&gt;&gt;
&gt;&gt; On Thu, Jan 28, 2016 at 8:10 AM, Eugene Shubin &lt;ev.sh...@gmail.com&gt;
&gt;&gt; wrote:
&gt;&gt;
&gt;&gt;&gt; Is it possible to run mapreduce job on two or more buckets?
&gt;&gt;&gt; I see from documentation that it might be possible if I specify inputs
&gt;&gt;&gt; as list of {bucket, key} pairs,
&gt;&gt;&gt; although list of secondary index inputs causes an error:
&gt;&gt;&gt; riakc_pb_socket:mapred(P, [
&gt;&gt;&gt;     {index, Bucket1, Index1, From, To},
&gt;&gt;&gt;     {index, Bucket2, Index2, From, To}
&gt;&gt;&gt;   ], ...
&gt;&gt;&gt;  {error,&lt;&lt;&quot;{inputs,{\&quot;Inputs target tuples must be {B,K} or
&gt;&gt;&gt; {{B,K},KeyData}:\&quot;,\n
&gt;&gt;&gt;
&gt;&gt;&gt; Is it possible using Solr (riak search) indexes?
&gt;&gt;&gt;
&gt;&gt;&gt; Evgenii Shubin
&gt;&gt;&gt;
&gt;&gt;&gt; _______________________________________________
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg17002.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#17011">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#17011">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg17004.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg16999.html">map reduce on multiple buckets</a></span> <span class="sender italic">Eugene Shubin</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17001.html">Re: map reduce on multiple buckets</a></span> <span class="sender italic">Alex Moore</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17002.html">Re: map reduce on multiple buckets</a></span> <span class="sender italic">Eugene Shubin</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: map reduce on multiple buckets</span> <span class="sender italic">Alex Moore</span></li>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: map reduce on multiple buckets">
<input type="hidden" name="msgid" value="CADjd2TctEw_PxAiHKHn_r17LKWH8_oE8Hy2nwMqf0GG5CPTuaQ@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg17011.html">
<input type="submit" value=" Alex Moore ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+map+reduce+on+multiple+buckets%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg17002.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg17004.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CADjd2TctEw_PxAiHKHn_r17LKWH8_oE8Hy2nwMqf0GG5CPTuaQ@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
