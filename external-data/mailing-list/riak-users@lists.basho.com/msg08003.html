<!DOCTYPE html>
<html lang="en">
<head>
<title>Is it possible/wise to modify riak search index objects?</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#08003" id="c">
<link rel="index" href="maillist.html#08003" id="i">
<link rel="prev" href="msg08002.html" id="p">
<link rel="next" href="msg08006.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg08003.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Is+it+possible%5C%2Fwise+to+modify+riak+search+index+objects%5C%3F%22&amp;o=newest" rel="nofollow"><span itemprop="name">Is it possible/wise to modify riak search index objects?</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Metin+Akat%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Metin Akat</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20120720" rel="nofollow">Fri, 20 Jul 2012 14:49:51 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi,

I am using riak to store (relatively large) text files. I store them as
normal riak objects where the value is the text of the file. Now I want to
index and search them. All is fine, I just enabled the &quot;standard&quot; search
pre-commit hook for that bucket and they get indexed nicely. But, there is
one tricky requirement. I need to be able to index and search some metadata
about these files. For example date of submission, size of file, type
(internal business logic) of file etc.</pre><pre>

I have been thinking quite a lot about this recently. Asked several times
on #riak. I got one answer suggesting that I create a second &quot;metadata&quot;
riak object for each file, link it to the &quot;file object&quot; and index it
separately. That's not really what I want, because I need to be able to
execute &quot;combined&quot; queries, like value:&lt;some word&gt; AND date:&lt;some date&gt;.

So, here is the ideal solution that I'm thinking about.... It would be
great if it's possible to modify the riak search index object. After the
file is submitted, and after it's indexed, I could just fetch the index and
just add some more fields to it.
I see there is a bucket with the search index objects that's automatically
created by riak search. So I guess it is indeed possible, though I don't
know what to expect. Is it a good idea? If not, what else could I do in
order to solve the problem?

Regards,
Metin
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg08002.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#08003">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#08003">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg08006.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email tSliceCur"><span class="subject">Is it possible/wise to modify riak search index objects?</span> <span class="sender italic">Metin Akat</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg08006.html">Re: Is it possible/wise to modify riak search index...</a></span> <span class="sender italic">Alexander Sicular</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg08007.html">Re: Is it possible/wise to modify riak search i...</a></span> <span class="sender italic">Metin Akat</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg08008.html">Re: Is it possible/wise to modify riak sear...</a></span> <span class="sender italic">Alexander Sicular</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg08009.html">Re: Is it possible/wise to modify riak ...</a></span> <span class="sender italic">Metin Akat</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg08010.html">Re: Is it possible/wise to modify ...</a></span> <span class="sender italic">Alexander Sicular</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg08011.html">Re: Is it possible/wise to mod...</a></span> <span class="sender italic">Metin Akat</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Is it possible/wise to modify riak search index objects?">
<input type="hidden" name="msgid" value="CAEk80b=p+kmDMXmtVtOdHHuSZ9nCWgKiYJ1p-uS1g=rq-_zaTA@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg08003.html">
<input type="submit" value=" Metin Akat ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Is+it+possible%5C%2Fwise+to+modify+riak+search+index+objects%5C%3F%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg08002.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg08006.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAEk80b=p+kmDMXmtVtOdHHuSZ9nCWgKiYJ1p-uS1g=rq-_zaTA@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
