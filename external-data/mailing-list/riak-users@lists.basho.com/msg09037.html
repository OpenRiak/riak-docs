<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: riak fails to start on Ubtunu Precise</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#09037" id="c">
<link rel="index" href="maillist.html#09037" id="i">
<link rel="prev" href="msg09045.html" id="p">
<link rel="next" href="msg09042.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg09037.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+riak+fails+to+start+on+Ubtunu+Precise%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: riak fails to start on Ubtunu Precise</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22John+E.+Vincent%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">John E. Vincent</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20121024" rel="nofollow">Wed, 24 Oct 2012 10:30:52 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Brian,

Can you please contact enstratus about this. I'm not sure why this is
even happening since our installer is tested on precise but these
requests should come through enStratus as the installer creates a
working Riak install that shouldn't need any changes.</pre><pre>

You can either email supp...@enstratus.com, your internal contact here
or me directly.

On Wed, Oct 24, 2012 at 12:26 PM, brian.thoma...@gmail.com
&lt;brian.thoma...@gmail.com&gt; wrote:
&gt; I installed enstratus which makes use of riak and unfortunately, i can't get
&gt; riak to start.  Here is the console output:
&gt;
&gt; Attempting to restart script through sudo -H -u riak
&gt; Exec: /usr/lib/riak/erts-5.9.1/bin/erlexec -boot
&gt; /usr/lib/riak/releases/1.2.0/riak             -embedded -config
&gt; /etc/riak/app.config             -pa /usr/lib/riak/basho-patches
&gt; -args_file /etc/riak/vm.args -- console
&gt; Root: /usr/lib/riak
&gt; Erlang R15B01 (erts-5.9.1) [source] [64-bit] [smp:2:2] [async-threads:64]
&gt; [kernel-poll:true]
&gt;
&gt;
&gt; =INFO REPORT==== 24-Oct-2012::12:25:46 ===
&gt;     alarm_handler: {set,{system_memory_high_watermark,[]}}
&gt; ** /usr/lib/riak/lib/observer-1.1/ebin/etop_txt.beam hides
&gt; /usr/lib/riak/lib/basho-patches/etop_txt.beam
&gt; ** Found 1 name clashes in code paths
&gt; 12:25:46.667 [info] Application lager started on node 'riak@127.0.0.1'
&gt; 12:25:46.762 [info] Upgrading legacy ring
&gt; 12:25:46.991 [error] gen_server riak_core_capability terminated with reason:
&gt; no function clause matching orddict:fetch('riak@127.0.0.1', []) line 72
&gt; Erlang has closed
&gt;
&gt; =INFO REPORT==== 24-Oct-2012::12:25:47 ===
&gt;     alarm_handler: {clear,system_memory_high_watermark}
&gt; /usr/lib/riak/lib/os_mon-2.2.9/priv/bin/memsup: Erlang has closed.
&gt;                                                                    {&quot;Kernel
&gt; pid
&gt; terminated&quot;,application_controller,&quot;{application_start_failure,riak_core,{bad_return,{{riak_core_app,start,[normal,[]]},{'EXIT',{{function_clause,[{orddict,fetch,['riak@127.0.0.1',[]],[{file,[111,114,100,100,105,99,116,46,101,114,108]},{line,72}]},{riak_core_capability,renegotiate_capabilities,1,[{file,[115,114,99,47,114,105,97,107,95,99,111,114,101,95,99,97,112,97,98,105,108,105,116,121,46,101,114,108]},{line,414}]},{riak_core_capability,handle_call,3,[{file,[115,114,99,47,114,105,97,107,95,99,111,114,101,95,99,97,112,97,98,105,108,105,116,121,46,101,114,108]},{line,208}]},{gen_server,handle_msg,5,[{file,[103,101,110,95,115,101,114,118,101,114,46,101,114,108]},{line,588}]},{proc_lib,init_p_do_apply,3,[{file,[112,114,111,99,95,108,105,98,46,101,114,108]},{line,227}]}]},{gen_server,call,[riak_core_capability,{register,{riak_core,vnode_routing},{capability,[proxy,legacy],legacy,{riak_core,legacy_vnode_routing,[{true,legacy},{false,proxy}]}}},infinity]}}}}}}&quot;}
&gt;
&gt; Crash dump was written to: /var/log/riak/erl_crash.dump
&gt; Kernel pid terminated (application_controller)
&gt; ({application_start_failure,riak_core,{bad_return,{{riak_core_app,start,[normal,[]]},{'EXIT',{{function_clause,[{orddict,fetch,['riak@127.0.0.1',[]],[{
&gt;
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
&gt;

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg09045.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#09037">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#09037">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg09042.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg09036.html">Re: riak fails to start on Ubtunu Precise</a></span> <span class="sender italic">Evan Vigil-McClanahan</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09041.html">Re: riak fails to start on Ubtunu Precise</a></span> <span class="sender italic">brian.thoma...@gmail.com</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09043.html">Re: riak fails to start on Ubtunu Precis...</a></span> <span class="sender italic">Jared Morrow</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09045.html">Re: riak fails to start on Ubtunu Pr...</a></span> <span class="sender italic">brian.thoma...@gmail.com</span></li>
</ul></li>
</ul></li>
<li class="icons-email tSliceCur"><span class="subject">Re: riak fails to start on Ubtunu Precise</span> <span class="sender italic">John E. Vincent</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09042.html">Re: riak fails to start on Ubtunu Precis...</a></span> <span class="sender italic">brian.thoma...@gmail.com</span></li>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: riak fails to start on Ubtunu Precise">
<input type="hidden" name="msgid" value="CAPy8of+bUq_rwJU-GQXGw7B==KOyVDed_FH4xfAbQq3Zyoddow@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg09037.html">
<input type="submit" value=" John E. Vincent ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+riak+fails+to+start+on+Ubtunu+Precise%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg09045.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg09042.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAPy8of+bUq_rwJU-GQXGw7B==KOyVDed_FH4xfAbQq3Zyoddow@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
