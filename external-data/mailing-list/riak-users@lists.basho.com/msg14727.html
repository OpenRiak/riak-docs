<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Hardware recommendations?</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#14727" id="c">
<link rel="index" href="maillist.html#14727" id="i">
<link rel="prev" href="msg14685.html" id="p">
<link rel="next" href="msg14686.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg14727.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Hardware+recommendations%5C%3F%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Hardware recommendations?</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Kota+Uenishi%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Kota Uenishi</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20140818" rel="nofollow">Mon, 18 Aug 2014 19:19:06 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>All three plans would be good choice, depending on what you need. RAM
and disk size seems enough. It's just tradeoff - assuming your
software configuration is correct.</pre><pre>

If you want high I/O throughput, faster disk and more nodes to
distribute I/O load. Or if you want cost efficiency per data capacity,
I'll recommend fewer nodes with high density. The size of each node's
disk might be related to the time of handoff, which is, time to get
back to healthy state after node/disk failure.

I would recommend to keep the number of buckets fewer, say at most hundreds [1].

[1] <a  rel="nofollow" href="https://github.com/basho/riak_cs/issues/940">https://github.com/basho/riak_cs/issues/940</a>

On Mon, Aug 18, 2014 at 2:46 PM, Anton Khalikov &lt;an...@khalikov.ru&gt; wrote:
&gt; Hello there
&gt;
&gt; As our Riak CS cluster grows, we went through several performance problems
&gt; which caused me to think we went a wrong way with planning our hardware
&gt; nodes configuration probably.
&gt;
&gt; If we want to have an s3 cluster with 30-40 Tb capacity, 50-100 millions of
&gt; keys (files) stored on few thousands of buckets with n_val=3 which way to
&gt; choose hardware configuration for nodes would be better:
&gt;
&gt; 1. more nodes with less memory and hdd capacity each. Let's say 18 nodes
&gt; with 40 gb ram and 8 tb storage per node
&gt; 2. less nodes with more memory and hdd capacity each. Let's say 12 nodes
&gt; with 64 gb ram and 12 tb storage per node
&gt; 3. even less nodes with even more memory and hdd capacity each. Well, for
&gt; example 6 nodes with 128 gb ram and 24 tb storage each
&gt;
&gt; Or is there a dependency between total cluster memory and total cluster
&gt; storage capacity? What is our maximum storage capacity if we have 768 gb ram
&gt; in total in our cluster in other words?
&gt;
&gt; --
&gt; Best regards
&gt; Anton Khalikov
&gt;
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>



-- 
Kota UENISHI / @kuenishi
Basho Japan KK

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg14685.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#14727">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#14727">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg14686.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg14685.html">Hardware recommendations?</a></span> <span class="sender italic">Anton Khalikov</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Hardware recommendations?</span> <span class="sender italic">Kota Uenishi</span></li>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Hardware recommendations?">
<input type="hidden" name="msgid" value="CALhKnOQ5FamaFYKH6_2m-iwzaA_EkTip3286b-YHFc6jajtPmg@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg14727.html">
<input type="submit" value=" Kota Uenishi ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Hardware+recommendations%5C%3F%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg14685.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg14686.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CALhKnOQ5FamaFYKH6_2m-iwzaA_EkTip3286b-YHFc6jajtPmg@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
