<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Multiple 'database' in Riak</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#09850" id="c">
<link rel="index" href="maillist.html#09850" id="i">
<link rel="prev" href="msg09848.html" id="p">
<link rel="next" href="msg09854.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg09850.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Multiple+%27database%27+in+Riak%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Multiple 'database' in Riak</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Guido+Medina%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Guido Medina</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20130119" rel="nofollow">Sat, 19 Jan 2013 14:07:20 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<tt>We have a similar scenario, but for a different purpose, N developers, 
</tt><tt>each developer PC add a prefix to the keys base on the host, with that, 
</tt><tt>we can use on the development env the same 5 nodes cluster without 
</tt><tt>conflicting between each other or overwriting anyone else's data, so far 
</tt><tt>mistakes are only make when developing, that's what tests are for right? 
</tt><tt>Also, if he is talking of 1 or 2 applications a couple of clusters could 
</tt><tt>be easier, but if he is about to grow to 10 or 20, and every customer 
</tt><tt>doesn't handle the same amount of data, would a whole cluster be worthy?
</tt><pre style="margin: 0em;">

Hope that helps,</pre><pre>

Guido.

On 19/01/13 18:05, Jimmy Ho wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
I see..

</pre><tt>So we'd trust developers (well, just me at the moment), not mess the 
</tt><tt>other app up?
</tt><tt>As one can say, add a link to an /*app1*.user/johnsmith  to 
</tt><tt>/*app2*.posts/peterpan by mistake?
</tt><pre style="margin: 0em;">

Different scenario, what about uat vs prod?
</pre><tt>I suppose a separate cluster would make good sense?  ie, 2 x 10 node 
</tt><tt>cluster, buckets prefixed by app ?
</tt><pre style="margin: 0em;">

Or would you have prefixes with &lt;env&gt; + &lt;app&gt; + &lt;bucket&gt; ?

Jimmy.

</pre><tt>On Sat, Jan 19, 2013 at 5:47 PM, Guido Medina 
</tt><tt>&lt;guido.med...@temetra.com &lt;<a  rel="nofollow" href="mailto:guido.med...@temetra.com">mailto:guido.med...@temetra.com</a>&gt;&gt; wrote:
</tt><pre style="margin: 0em;">

    Neither or both mixed? You could have prefixes per buckets and
    have N applications per cluster and add a 5 nodes cluster as
    needed, so that you can host as many per cluster, that way you
    know each bucket prefix point to an specific app.

    Hope that helps,

    Guido.


    On 19/01/13 17:26, Jeremiah Peschka wrote:
</pre><blockquote style="border-left: #5555EE solid 0.2em; margin: 0em; padding-left: 0.85em"><pre style="margin: 0em;">
    That really depends on what you hope to accomplish.

    If you want both applications to have the same performance
    characteristics, then go with option 1.
    If you want the fun of troubleshooting two applications to figure
    out why one application is having performance problems, go with
    option 2.

    Is there any reason you can't use different bucket names to run a
    single riak cluster?

    ---
    Jeremiah Peschka - Founder, Brent Ozar Unlimited
    MCITP: SQL Server 2008, MVP
    Cloudera Certified Developer for Apache Hadoop


    On Sat, Jan 19, 2013 at 9:07 AM, Jimmy Ho &lt;j...@jimmyho.com
    &lt;<a  rel="nofollow" href="mailto:j...@jimmyho.com">mailto:j...@jimmyho.com</a>&gt;&gt; wrote:

        Hi guys,

        I knew a similar questions have been asked, but would like to
        find out what are some sensible ways to deploy riak for both
        for multiple applications, or even uat + prod environments.

        Let's assume I have a budget for 10 servers.

        I have two applications I wish to deploy into PROD (hence
        needing two 'databases').

        Would it make sense to,

         1. build two clusters, 5 nodes each, for each of the app,
            completely isolated.
         2. build two cluster, each host to have two instances of
            riak, ie forming a 2 x 10node clusters

        Another assumption: both apps have similar resource
        consumption at anyone time.

        Which would would benefit the most from riak's distributed
        architecture ?

        I suppose I am trying to explore ways to maximise server
        utilisation.

        Thanks.

        Jimmy

        _______________________________________________
        riak-users mailing list
        riak-users@lists.basho.com &lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt;
        <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>




    _______________________________________________
    riak-users mailing list
    riak-users@lists.basho.com  &lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt;
    <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">

</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg09848.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#09850">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#09850">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg09854.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg09845.html">Multiple 'database' in Riak</a></span> <span class="sender italic">Jimmy Ho</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09846.html">Re: Multiple 'database' in Riak</a></span> <span class="sender italic">Jeremiah Peschka</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09847.html">Re: Multiple 'database' in Riak</a></span> <span class="sender italic">Guido Medina</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg09848.html">Re: Multiple 'database' in Riak</a></span> <span class="sender italic">Jimmy Ho</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Multiple 'database' in Riak</span> <span class="sender italic">Guido Medina</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Multiple 'database' in Riak">
<input type="hidden" name="msgid" value="50FB0E08.2070204@temetra.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg09850.html">
<input type="submit" value=" Guido Medina ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Multiple+%27database%27+in+Riak%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg09848.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg09854.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">50FB0E08.2070204@temetra.com</li>
</ul>
</div>
</body>
</html>
