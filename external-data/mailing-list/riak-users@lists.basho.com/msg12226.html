<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Should content-type not be required?</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="thrd10.html#12226" id="c">
<link rel="index" href="mail10.html#12226" id="i">
<link rel="prev" href="msg12225.html" id="p">
<link rel="next" href="msg12227.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg12226.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Should+content%5C-type+not+be+required%5C%3F%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Should content-type not be required?</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Sam+Elliott%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Sam Elliott</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20130910" rel="nofollow">Tue, 10 Sep 2013 15:23:18 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>The content-type is important for Riak KV: Various clients will use it to 
identify the difference between a response where the whole body is the key, or 
a response that contains siblings (if you have allow_mult=true).</pre><pre>

I suggest finding or creating a content type, so that this is clearer to your 
app. It will also allow you to version your objects better. Here are a few 
suggestions (of course replace the text between the &lt; &gt;):
- application/octet-stream - this is usually used for binary data, and is the 
easiest thing to set the content-type to.
- application/vnd.&lt;company name&gt;.&lt;useful type name here&gt; - a vendor-specific 
type, which you can create yourself
- application/vnd.&lt;company name&gt;.&lt;useful type name here&gt;.v&lt;version number&gt; - 
another vendor-specific type, which supports versioning.

You don't have to use the information in your final app, but it is used by riak 
and riak clients, so that's why we require it.  

--  
Sam Elliott
Engineer
sam.elli...@basho.com
--


On Tuesday, 10 September 2013 at 5:03PM, Vincenzo Vitale wrote:

&gt; Suppose I want to just store keys in a bucket without any body, this make 
&gt; sense in scenarios where the key completely identify the entity. Is it 
&gt; possible to use the riak http api without including the content-type header?
&gt; Looking at the http specifications, content–type is not mandatory or 
&gt; suggested when the body is empty:
&gt; <a  rel="nofollow" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec7.html#sec7.2.1">http://www.w3.org/Protocols/rfc2616/rfc2616-sec7.html#sec7.2.1</a>
&gt; and it's probably a good argument to say that if the entity message is empty 
&gt; then the content type doesn't really make sense.  
&gt; Personally I think that just the existence of an http entity - body or not 
&gt; body – is sufficient to justify a &quot;type&quot;; it's unfortunate that any other 
&gt; higher type (entity type maybe?) - decoupled from what is defined as content 
&gt; - exist in the spec.  
&gt; Framework like spray are quite strict about this, not setting any content 
&gt; type when the content is empty:
&gt; <a  rel="nofollow" href="https://github.com/spray/spray/blob/master/spray-http/src/main/scala/spray/http/HttpEntity.scala#L74">https://github.com/spray/spray/blob/master/spray-http/src/main/scala/spray/http/HttpEntity.scala#L74</a>
&gt; how to deal with such situation? Adding a fake content because of this data 
&gt; store constraint doesn't seems right.
&gt;  
&gt;  
&gt; Thanks,
&gt; Vincenzo.
&gt;  
&gt; --  
&gt; If your e-mail inbox is out of control, check out <a  rel="nofollow" href="http://sanebox.com/t/mmzve">http://sanebox.com/t/mmzve</a>. 
&gt; I love it.
&gt; _______________________________________________
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com (<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>)
&gt; <a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>




_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg12225.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="thrd10.html#12226">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="mail10.html#12226">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg12227.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg12225.html">Should content-type not be required?</a></span> <span class="sender italic">Vincenzo Vitale</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Should content-type not be required?</span> <span class="sender italic">Sam Elliott</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg12227.html">Re: Should content-type not be required?</a></span> <span class="sender italic">Vincenzo Vitale</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg12229.html">Re: Should content-type not be required...</a></span> <span class="sender italic">Sam Elliott</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg12230.html">Re: Should content-type not be requ...</a></span> <span class="sender italic">Vincenzo Vitale</span></li>
</ul></li>
</ul></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg12236.html">Re: Should content-type not be required?</a></span> <span class="sender italic">Evan Vigil-McClanahan</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg12249.html">Re: Should content-type not be required?</a></span> <span class="sender italic">Vincenzo Vitale</span></li>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Should content-type not be required?">
<input type="hidden" name="msgid" value="9D49435B29734EAFA8E655041E000EEF@basho.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg12226.html">
<input type="submit" value=" Sam Elliott ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Should+content%5C-type+not+be+required%5C%3F%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg12225.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg12227.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">9D49435B29734EAFA8E655041E000EEF@basho.com</li>
</ul>
</div>
</body>
</html>
