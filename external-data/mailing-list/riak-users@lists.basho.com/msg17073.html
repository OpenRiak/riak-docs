<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Testing On A Single Node</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#17073" id="c">
<link rel="index" href="maillist.html#17073" id="i">
<link rel="prev" href="msg17072.html" id="p">
<link rel="next" href="msg17075.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg17073.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Testing+On+A+Single+Node%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Testing On A Single Node</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Vitaly+E%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Vitaly E</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20160225" rel="nofollow">Thu, 25 Feb 2016 21:39:07 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi Joe,

A standalone node should behave similarly to a clustered node in terms of
data persistence. Actually, I use single-node Riak setups (inside a VM) a
lot for testing. The only differences are ring_size=8 and n_val=1, for
performance reasons.</pre><pre>

So, it must be your Riak or VM configuration. Also make sure you don't
delete Riak data directories by mistake when restarting your VM. Another
reason could be that you restart the VM before all the writes have been
flushed to the disk, for example when using Bitcask (
docs.basho.com/riak/latest/ops/advanced/backends/bitcask/), but in that
case you should have lost only the most recent writes.

Hope this helps
Vitaly
I am trying to set up a simple test environment. This environment consists
of a single Riak KV node which has not joined a cluster.

I can populate the single un-clustered node with KV pairs just fine using
curl.

However, when I stop the node, and then restart it, all the KV pairs that
were written before the stop are gone.

Is there a way to get a non-cluster joined single node to reload KV data
from disk, or is the only way for a restarted node to re-populate KV pairs
from other nodes in a cluster?

I realize this is an edge case, and I only use it for Virtualbox testing.




_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg17072.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#17073">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#17073">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg17075.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg17072.html">Testing On A Single Node</a></span> <span class="sender italic">Joe Olson</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: Testing On A Single Node</span> <span class="sender italic">Vitaly E</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg17075.html">Re: Testing On A Single Node</a></span> <span class="sender italic">Christopher Mancini</span></li>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Testing On A Single Node">
<input type="hidden" name="msgid" value="CAG57SfOm9xT7HWC1dyF2YopuhZuTPAvdKoH_9u477=vUNNFS6g@mail.gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg17073.html">
<input type="submit" value=" Vitaly E ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Testing+On+A+Single+Node%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg17072.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg17075.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">CAG57SfOm9xT7HWC1dyF2YopuhZuTPAvdKoH_9u477=vUNNFS6g@mail.gmail.com</li>
</ul>
</div>
</body>
</html>
