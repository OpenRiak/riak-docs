<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: Mac OS X install error</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#00571" id="c">
<link rel="index" href="maillist.html#00571" id="i">
<link rel="prev" href="msg00570.html" id="p">
<link rel="next" href="msg00572.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg00571.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Mac+OS+X+install+error%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: Mac OS X install error</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Allen+Kim%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Allen Kim</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20100611" rel="nofollow">Fri, 11 Jun 2010 13:27:07 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Dan,

try &quot;sudo port install tsung&quot;, it will install all tsung modules into your 
erlang lib directory.
I think it will reproduce the error.(hope so)</pre><pre>

Yes, I have .erlang to use lm(),to load all module updated.
Here are the contents

~$cat .erlang
code:load_abs(&quot;/Users/allen/user_default&quot;).
~$

Here is my path to erl.

/opt/local$which erl
/opt/local/bin/erl
/opt/local$ls -al /opt/local/bin/er*
-rwxr-xr-x  2 root  admin  3882  8 Dec  2009 /opt/local/bin/erb
lrwxr-xr-x  1 root  admin    21  4 Jun 18:11 /opt/local/bin/erl -&gt; 
../lib/erlang/bin/erl
lrwxr-xr-x  1 root  admin    22  4 Jun 18:11 /opt/local/bin/erlc -&gt; 
../lib/erlang/bin/erlc

erlang directory is not a sym link
/opt/local/lib$ls -al
total 460128
drwxr-xr-x  719 root  admin     24446 11 Jun 14:18 .
drwxr-xr-x   15 root  admin       510  4 Jan 14:10 ..
-rw-r--r--    1 root  admin         0 28 Sep  2009 .turd_MacPorts
drwxr-xr-x    4 root  admin       136  4 Jan 16:02 ImageMagick-6.5.8
drwxr-xr-x    3 root  admin       102  4 Jun 18:28 X11
drwxr-xr-x    3 root  admin       102 20 Oct  2009 ao
drwxr-xr-x   14 root  admin       476 20 Oct  2009 apr-util-1
-rw-r--r--    2 root  admin      8367  4 Jun 17:50 apr.exp
-rw-r--r--    2 root  admin      5165 20 Oct  2009 aprutil.exp
-rwxr-xr-x    2 root  admin      9040  4 Jun 18:16 bindtextdomain.so
drwxr-xr-x    3 root  admin       102  3 Dec  2009 bjam
drwxr-xr-x   21 root  admin       714  4 Jan 14:42 db46
drwxr-xr-x    3 root  admin       102 21 Oct  2009 dbus-1.0
drwxr-xr-x   12 root  admin       408  3 Dec  2009 engines
drwxr-xr-x   14 root  admin       476  4 Jun 18:11 erlang
...

Let me know if you need more.

Allen kim


On 2010-06-11, at 2:54 PM, Dan Reverri wrote:

Hi Allen,

Is there anything of note about your system that might help us reproduce the 
build error here? Are you using an symlinks in your Erlang libs folder? Do you 
have a &quot;.erlang&quot; file defined in your home directory?

Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com&lt;<a  rel="nofollow" href="mailto:d...@basho.com">mailto:d...@basho.com</a>&gt;


On Fri, Jun 11, 2010 at 11:35 AM, Sean Cribbs 
&lt;s...@basho.com&lt;<a  rel="nofollow" href="mailto:s...@basho.com">mailto:s...@basho.com</a>&gt;&gt; wrote:
Allen,

The best answer we've come up with internally is that reltool (what's used 
internally to rebar for part of the build process) tends to follow certain 
symlinks blindly.  If it's not critical for you to stay on Riak tip, you should 
be able to use the binary packages without a hitch.

Sean Cribbs &lt;s...@basho.com&lt;<a  rel="nofollow" href="mailto:s...@basho.com">mailto:s...@basho.com</a>&gt;&gt;
Developer Advocate
Basho Technologies, Inc.
<a  rel="nofollow" href="http://basho.com/">http://basho.com/</a>

On Jun 11, 2010, at 2:29 PM, Allen Kim wrote:

I removed tsung
$&gt;sudo port uninstall tsung
$&gt;sudo port clean tsung

then, ran &quot;make rel&quot; command, it WORKS

...
Compiled src/riak_kv_wm_stats.erl
Compiled src/riak_kv_wm_link_walker.erl
Compiled src/riak_object.erl
Compiled src/riak_kv_wm_raw.erl
WARNING: 'generate' command does not apply to directory 
/Users/allen/riak-0.11.0/apps/riak_kv
==&gt; rel (compile)
==&gt; rel (generate)
==&gt; riak-0.11.0 (compile)
WARNING: 'generate' command does not apply to directory /Users/allen/riak-0.11.0
~/riak-0.11.0$

However when I installed  tsung(which installs tsung, tsung_recorder, and 
tsung_controller) again, a part of erlang, it does not work(the same error)

I personally use tsung for load testing and riak will be the perfect example of 
it, and I will need to install tsung later.

I will not use tsung for a while until you fix it, and please let me know when 
it is fixed.

Thanks for your hard work

Allen Kim

On 2010-06-11, at 1:40 PM, Dan Reverri wrote:

Hi Allen,

When generating a release package with rebar the intention is to create a fully 
independent release package that runs without any external dependencies. During 
the release generation rebar will analyze the specification of an application 
to determine dependencies. The tool will then collect all the dependencies 
(including those from the system level Erlang installation) and package them 
into a release. Tsung is not part of the riak dependency specification and 
should not be pulled into the release. My guess is that macports has configured 
Erlang in such a way that the Tsung library is included in all releases. We 
have to look into this a bit further and try to reproduce the issue locally.

Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com&lt;<a  rel="nofollow" href="mailto:d...@basho.com">mailto:d...@basho.com</a>&gt;


On Fri, Jun 11, 2010 at 10:11 AM, Allen Kim 
&lt;allen....@epicadvertising.com&lt;<a  rel="nofollow" href="mailto:allen....@epicadvertising.com">mailto:allen....@epicadvertising.com</a>&gt;&gt; wrote:
If it helps, ts_client_proxy.beam file is not in tsung-1.3.1 folder but in 
tsung_recorder-1.3.1, Don't know how to fix it though

/opt/local/lib/erlang/lib/tsung_recorder-1.3.1/ebin$ls
ts_client_proxy.beam     ts_client_proxy_sup.beam ts_proxy_http.beam       
ts_proxy_listener.beam   ts_proxy_pgsql.beam      ts_proxy_recorder.beam   
ts_proxy_webdav.beam     ts_recorder_sup.beam     tsung_recorder.app       
tsung_recorder.beam

Allen Kim

==&gt; rel (generate)
ERROR: Failed to generate target from spec: &quot;copy file 
/opt/local/lib/erlang/lib/tsung-1.3.1/ebin/ts_client_proxy.beam -&gt; 
/Users/allen/riak-0.11.0/rel/riak/lib/tsung-1.3.1/ebin/ts_client_proxy.beam: no 
such file or directory\n&quot;

On 2010-06-11, at 12:31 PM, Allen Kim wrote:

information of erlang installed if helps

/opt/local/lib/erlang/bin$port installed erlang
The following ports are currently installed:
  erlang @R13B02_2+darwin_10
  erlang @R13B02_3+darwin_10
  erlang @R13B03_0+darwin_10
  erlang @R13B04_0+darwin_10 (active)

On 2010-06-11, at 12:20 PM, Dan Reverri wrote:

Hi Allen,

Sorry for not being more clear. You have to run the generate command against a 
compiled folder.
make all
./rebar -v generate

Thanks,
Dan

Daniel Reverri &lt;d...@basho.com&lt;<a  rel="nofollow" href="mailto:d...@basho.com">mailto:d...@basho.com</a>&gt;&gt;
Developer Advocate
Basho Technologies, Inc.
<a  rel="nofollow" href="http://basho.com/">http://basho.com/</a>




_______________________________________________
riak-users mailing list
riak-users@lists.basho.com&lt;<a  rel="nofollow" href="mailto:riak-users@lists.basho.com">mailto:riak-users@lists.basho.com</a>&gt;
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>



</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg00570.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#00571">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#00571">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg00572.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg00558.html">Re: Mac OS X install error</a></span> <span class="sender italic">Alexander Sicular</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00559.html">Re: Mac OS X install error</a></span> <span class="sender italic">Allen Kim</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00560.html">Re: Mac OS X install error</a></span> <span class="sender italic">Dan Reverri</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00561.html">Re: Mac OS X install error</a></span> <span class="sender italic">Dan Reverri</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00562.html">Re: Mac OS X install error</a></span> <span class="sender italic">Allen Kim</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00563.html">Re: Mac OS X install error</a></span> <span class="sender italic">Allen Kim</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg00564.html">Re: Mac OS X install error</a></span> <span class="sender italic">Dan Reverri</span></li>
<li class="icons-email"><span class="subject"><a href="msg00567.html">Re: Mac OS X install error</a></span> <span class="sender italic">Allen Kim</span></li>
<li class="icons-email"><span class="subject"><a href="msg00568.html">Re: Mac OS X install error</a></span> <span class="sender italic">Sean Cribbs</span></li>
<li class="icons-email"><span class="subject"><a href="msg00570.html">Re: Mac OS X install error</a></span> <span class="sender italic">Dan Reverri</span></li>
<li class="icons-email tSliceCur"><span class="subject">Re: Mac OS X install error</span> <span class="sender italic">Allen Kim</span></li>
<li class="icons-email"><span class="subject"><a href="msg00572.html">Re: Mac OS X install error</a></span> <span class="sender italic">Dan Reverri</span></li>
<li class="icons-email"><span class="subject"><a href="msg00573.html">Re: Mac OS X install error</a></span> <span class="sender italic">Allen Kim</span></li>
<li class="icons-email"><span class="subject"><a href="msg00574.html">Re: Mac OS X install error</a></span> <span class="sender italic">Dan Reverri</span></li>
<li class="icons-email"><span class="subject"><a href="msg00575.html">Re: Mac OS X install error</a></span> <span class="sender italic">Allen Kim</span></li>
</ul></li>
</ul></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg00582.html">Re: Mac OS X install error</a></span> <span class="sender italic">Dan Reverri</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: Mac OS X install error">
<input type="hidden" name="msgid" value="24DD1152-B942-4BAF-8EA8-F8BFFCFA908B@epicads.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg00571.html">
<input type="submit" value=" Allen Kim ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+Mac+OS+X+install+error%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg00570.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg00572.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">24DD1152-B942-4BAF-8EA8-F8BFFCFA908B@epicads.com</li>
</ul>
</div>
</body>
</html>
