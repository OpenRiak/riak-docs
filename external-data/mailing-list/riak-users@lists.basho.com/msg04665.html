<!DOCTYPE html>
<html lang="en">
<head>
<title>riaksearch 0.14.2 via solr: sort desc</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#04665" id="c">
<link rel="index" href="maillist.html#04665" id="i">
<link rel="prev" href="msg04663.html" id="p">
<link rel="next" href="msg04666.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg04665.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22riaksearch+0.14.2+via+solr%5C%3A+sort+desc%22&amp;o=newest" rel="nofollow"><span itemprop="name">riaksearch 0.14.2 via solr: sort desc</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Fredrik+Lindstr%C3%B6m%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Fredrik Lindström</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20110912" rel="nofollow">Mon, 12 Sep 2011 06:08:53 -0700</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>Hi everyone,
does the &quot;sort=myfieldname desc&quot; parameter in riaksearch 0.14.2 (via solr) only 
sort within the current result set dictated by rows=x and start =y?</pre><pre>

I can get my search results in the correct ASC order regardless of the rows and 
start parameters.
Sorting in DESC with rows=1 and start=0 I get one (obviously) result but the 
result actually appears to be in ASC order. The doc returned in the search 
result is the one with the lowest integer value in the field used for sorting.

I'm quite new to Riak and Riak Search and therefore I assume that the error is 
on my part.

Some technical details:

Total objects in &quot;order&quot; bucket: 187

Query with DESC sort:
<a  rel="nofollow" href="http://riak/solr/order/select?rows=1&amp;start=0&amp;sort=Order_OrderNumber%20desc&amp;q=Order_Contact_Email:firstname.lastn...@company.com">http://riak/solr/order/select?rows=1&amp;start=0&amp;sort=Order_OrderNumber%20desc&amp;q=Order_Contact_Email:firstname.lastn...@company.com</a>
Result: 1 doc with Order_OrderNumber = 362982 (Expected result in my world of 
fantasy would be 621738 which is currently the highest value)

Query with ASC sort:
<a  rel="nofollow" href="http://riak/solr/order/select?rows=1&amp;start=0&amp;sort=Order_OrderNumber%20asc&amp;q=Order_Contact_Email:firstname.lastn...@company.com">http://riak/solr/order/select?rows=1&amp;start=0&amp;sort=Order_OrderNumber%20asc&amp;q=Order_Contact_Email:firstname.lastn...@company.com</a>&lt;<a  rel="nofollow" href="http://riak/solr/order/select?rows=1&amp;start=0&amp;sort=Order_OrderNumber%20desc&amp;q=Order_Contact_Email:firstname.lastn...@company.com">http://riak/solr/order/select?rows=1&amp;start=0&amp;sort=Order_OrderNumber%20desc&amp;q=Order_Contact_Email:firstname.lastn...@company.com</a>&gt;
Result: 1 doc with Order_OrderNumber = 362982

I have a custom schema where I have defined the field I want to sort by in the 
following way:
        {field, [
            {name, &quot;Order_OrderNumber&quot;},
            {type, integer},
            {analyzer_factory, {erlang, text_analyzers, 
integer_analyzer_factory}}
        ]},

If I run the DESC query with rows=187 the results are ordered in the correct 
descending order.

/F

</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg04663.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#04665">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#04665">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg04666.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email tSliceCur"><span class="subject">riaksearch 0.14.2 via solr: sort desc</span> <span class="sender italic">Fredrik Lindström</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04666.html">Re: riaksearch 0.14.2 via solr: sort desc</a></span> <span class="sender italic">Sean Cribbs</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04667.html">RE: riaksearch 0.14.2 via solr: sort desc</a></span> <span class="sender italic">Fredrik Lindström</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04669.html">Re: riaksearch 0.14.2 via solr: sort desc</a></span> <span class="sender italic">Sean Cribbs</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg04670.html">Re: riaksearch 0.14.2 via solr: sort d...</a></span> <span class="sender italic">Sean Cribbs</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="riaksearch 0.14.2 via solr: sort desc">
<input type="hidden" name="msgid" value="E59E28245D943A47A424FC2C4497822079A33F4F@qbmail01.ad.qbranch.se">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg04665.html">
<input type="submit" value=" Fredrik Lindström ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22riaksearch+0.14.2+via+solr%5C%3A+sort+desc%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg04663.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg04666.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">E59E28245D943A47A424FC2C4497822079A33F4F@qbmail01.ad.qbranch.se</li>
</ul>
</div>
</body>
</html>
