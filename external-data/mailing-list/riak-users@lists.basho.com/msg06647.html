<!DOCTYPE html>
<html lang="en">
<head>
<title>questions about search</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="index.html#06647" id="c">
<link rel="index" href="maillist.html#06647" id="i">
<link rel="prev" href="msg06646.html" id="p">
<link rel="next" href="msg06661.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg06647.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22questions+about+search%22&amp;o=newest" rel="nofollow"><span itemprop="name">questions about search</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Jason+Toy%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Jason Toy</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20120219" rel="nofollow">Sun, 19 Feb 2012 22:08:43 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre> I'm considering moving a fairly large data instance to riak because of the 
distributed nature and because of full integration with search. Avoiding the 
work of keeping solr and a datastore in sync sounds great.
I've gone through the wiki pages regarding search and I have a couple of 
questions.</pre><pre>


-  Are the search scores returned from the solr/search interface accessible to 
the client running the search? 

- Is the scoring system built to be modifying by developers? In our current 
system, we have a modified solr scoring system to model our needs.  If I did 
want to modify it, would it coded in java or erlang?


- I have searched around and I have not seen many case studies of using riak 
search with large amounts of keys.  I'm not even sure what large means for 
riak.  Our total data size of indexed data is about 500 million docs and 
growing. Most docs are small, about 64kb in size, but we also have a couple 
million docs that are multi mbs.


-  According to this page: 
<a  rel="nofollow" href="http://wiki.basho.com/Riak-Search---Querying.html#Query-Scoring">http://wiki.basho.com/Riak-Search---Querying.html#Query-Scoring</a>  there is no 
actual idf score?  How are documents actually ranked then if no idf is used?  
if docs get matched on a query on different nodes, how is the order of results 
reassembled without using know the total number of documents in a collection?



- does riak search have the ability to do a join?  A feature we heavily use 
from the lucene unstable branch is the ability to do a &quot;hash join&quot; 
(<a  rel="nofollow" href="https://issues.apache.org/jira/browse/SOLR-2272">https://issues.apache.org/jira/browse/SOLR-2272</a>).    
Our use case is we have documents of type User    who have  BlogPosts.      We 
want to match all the BlogPosts that mentioned &quot;tires&quot; and where their  User's 
description mentions  &quot; taxi driver&quot;.    We can't index all the User data into 
each Blog Post because we have ~400+  million blog posts and  ~2+ millions of 
Users with both growing.    We need the search to be in realtime so its not a 
situation where we could do background processing.  Is there a way to model 
this with  riak search?

- Is this a bug in riak search and has this been solved? 
<a  rel="nofollow" href="http://lists.basho.com/pipermail/riak-users_lists.basho.com/2012-January/007114.html">http://lists.basho.com/pipermail/riak-users_lists.basho.com/2012-January/007114.html</a>
        
- can indexing and indexes be used together? I see there is support for doing 
exact/range queries in search if riak already can index dates?

-finally is there a way to measure what kind of ram/hardware will be needed to 
support the indexes?


I'd love to hear how other people are using  riak and search together.  



Jason</pre><pre>_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg06646.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="index.html#06647">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="maillist.html#06647">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg06661.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email tSliceCur"><span class="subject">questions about search</span> <span class="sender italic">Jason Toy</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg06661.html">Re: questions about search</a></span> <span class="sender italic">Ryan Zezeski</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg06703.html">Re: questions about search</a></span> <span class="sender italic">Jason Toy</span></li>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="questions about search">
<input type="hidden" name="msgid" value="BD1583D3-EC8D-49BC-BAC9-058815AA763E@gmail.com">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg06647.html">
<input type="submit" value=" Jason Toy ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22questions+about+search%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg06646.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg06661.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">BD1583D3-EC8D-49BC-BAC9-058815AA763E@gmail.com</li>
</ul>
</div>
</body>
</html>
