<!DOCTYPE html>
<html lang="en">
<head>
<title>Re: May allow_mult cause DoS?</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="contents" href="thrd5.html#13320" id="c">
<link rel="index" href="mail5.html#13320" id="i">
<link rel="prev" href="msg13319.html" id="p">
<link rel="next" href="msg13269.html" id="n">
<link rel="canonical" href="https://www.mail-archive.com/riak-users@lists.basho.com/msg13320.html">
<link rel="stylesheet" href="/normalize.css" media="screen">
<link rel="stylesheet" href="/master.css" media="screen">

<!--[if lt IE 9]>
<link rel="stylesheet" href="/ie.css" media="screen">
<![endif]-->
</head>
<body>
<script language="javascript" type="text/javascript">
document.onkeydown = NavigateThrough;
function NavigateThrough (event)
{
  if (!document.getElementById) return;
  if (window.event) event = window.event;
  if (event.target.tagName == 'INPUT') return;
  if (event.ctrlKey || event.metaKey) return;
  var link = null;
  switch (event.keyCode ? event.keyCode : event.which ? event.which : null) {
    case 74:
    case 80:
      link = document.getElementById ('p');
      break;
    case 75:
    case 78:
      link = document.getElementById ('n');
      break;
    case 69:
      link = document.getElementById ('e');
      break;
    }
  if (link && link.href) document.location = link.href;
}
</script>
<div itemscope itemtype="http://schema.org/Article" class="container">
<div class="skipLink">
<a href="#nav">Skip to site navigation (Press enter)</a>
</div>
<div class="content" role="main">
<div class="msgHead">
<h1>
<span class="subject"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+May+allow_mult+cause+DoS%5C%3F%22&amp;o=newest" rel="nofollow"><span itemprop="name">Re: May allow_mult cause DoS?</span></a></span>
</h1>
<p class="darkgray font13">
<span class="sender pipe"><a href="/search?l=riak-users@lists.basho.com&amp;q=from:%22Jason+Campbell%22" rel="nofollow"><span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Jason Campbell</span></span></a></span>
<span class="date"><a href="/search?l=riak-users@lists.basho.com&amp;q=date:20131221" rel="nofollow">Sat, 21 Dec 2013 05:18:40 -0800</a></span>
</p>
</div>
<div itemprop="articleBody" class="msgBody">
<!--X-Body-of-Message-->
<pre>----- Original Message -----
From: &quot;Russell Brown&quot; &lt;russell.br...@me.com&gt;
To: &quot;Jason Campbell&quot; &lt;xia...@xiaclo.net&gt;
Cc: &quot;riak-users&quot; &lt;riak-users@lists.basho.com&gt;, &quot;Viable Nisei&quot; 
&lt;vsni...@gmail.com&gt;
Sent: Saturday, 21 December, 2013 8:25:01 PM
Subject: Re: May allow_mult cause DoS?</pre><pre>

&gt;Hi,

&gt;What is a &quot;sibling with no parent object”? I think I understand what you’re 
&gt;getting at, when each sibling is some fragment of the whole, is that it?

Within Riak, siblings created with a supplied vclock, usually with no related 
data to any other sibling.

&gt;This is similar, i suppose, to Riak 2.0 data types. We send an operation to 
&gt;Riak, and apply that inside the database rather then fetching, mutating, 
&gt;writing at the client. Think of adding to a Set, you just send the thing to be 
&gt;added and Riak merges it for you. For your use case would a user defined merge 
&gt;function in the database be a valuable feature? It would be every better if 
&gt;Riak stored data differently (incrementally, append-only rather than 
&gt;read-merge-write at the vnode.) These are things we’re going to be working on 
&gt;soon (I hope!) I had no idea that people used siblings this way. It’s 
&gt;interesting.

I actually wrote a reply that was a few pages, but it probably doesn't belong 
on this mailing list.  I'll write up a blog post and share it when I get some 
time about the problems I was trying to solve, and why I chose Riak despite not 
fitting the best.

I haven't tried Riak sets yet, it's on my to-do list.  I think it will replace 
siblings if it works the way I expect it to, but that needs to be validated.  
As far as a custom merge, I'm not sure I would want my Riak cluster doing that. 
 Personally, I would rather the memory and CPU time of my database be used to 
service requests and not mangle data that should be done in the application 
(once per object usually, not every write).  I'm sure some people would find it 
useful, but I wouldn't use it, even if it was there.

For things like logging and time-series data though, an append-only set would 
be helpful.  It would be easier to implement in Riak than the current CRDT set, 
require much less metadata, and fit certain use cases better.  Entire object 
keys can still be deleted when data expires, but data would never be updated or 
deleted with a single object.

Thanks,
Jason

_______________________________________________
riak-users mailing list
riak-users@lists.basho.com
<a  rel="nofollow" href="http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com">http://lists.basho.com/mailman/listinfo/riak-users_lists.basho.com</a>
</pre>

</div>
<div class="msgButtons margintopdouble">
<ul class="overflow">
<li class="msgButtonItems"><a class="button buttonleft " accesskey="p" href="msg13319.html">Previous message</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="c" href="thrd5.html#13320">View by thread</a></li>
<li class="msgButtonItems textaligncenter"><a class="button" accesskey="i" href="mail5.html#13320">View by date</a></li>
<li class="msgButtonItems textalignright"><a class="button buttonright " accesskey="n" href="msg13269.html">Next message</a></li>
</ul>
</div>
<a name="tslice"></a>
<div class="tSliceList margintopdouble">
<ul class="icons monospace">
<li class="icons-email"><span class="subject"><a href="msg13292.html">SV: May allow_mult cause DoS?</a></span> <span class="sender italic">Rune Skou Larsen</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13297.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">Viable Nisei</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13298.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">Andy Gross</span></li>
</ul></li>
</ul></li>
<li class="icons-email"><span class="subject"><a href="msg13302.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">Jason Campbell</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13307.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">Sean Cribbs</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13312.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">Jason Campbell</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13313.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">Andrew Stone</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13314.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">John Daily</span></li>
<li class="icons-email"><span class="subject"><a href="msg13315.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">Jason Campbell</span></li>
<li><ul>
<li class="icons-email"><span class="subject"><a href="msg13319.html">Re: May allow_mult cause DoS?</a></span> <span class="sender italic">Russell Brown</span></li>
<li><ul>
<li class="icons-email tSliceCur"><span class="subject">Re: May allow_mult cause DoS?</span> <span class="sender italic">Jason Campbell</span></li>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</ul>
</div>
<div class="overflow msgActions margintopdouble">
<div class="msgReply" >
<h2>
					Reply via email to
</h2>
<form method="POST" action="/mailto.php">
<input type="hidden" name="subject" value="Re: May allow_mult cause DoS?">
<input type="hidden" name="msgid" value="14527983.1012.1387631846194.JavaMail.Jason@JasonWin8">
<input type="hidden" name="relpath" value="riak-users@lists.basho.com/msg13320.html">
<input type="submit" value=" Jason Campbell ">
</form>
</div>
</div>
</div>
<div class="aside" role="complementary">
<div class="logo">
<a href="/"><img src="/logo.png" width=247 height=88 alt="The Mail Archive"></a>
</div>
<form class="overflow" action="/search" method="get">
<input type="hidden" name="l" value="riak-users@lists.basho.com">
<label class="hidden" for="q">Search the site</label>
<input class="submittext" type="text" id="q" name="q" placeholder="Search riak-users">
<input class="submitbutton" name="submit" type="image" src="/submit.png" alt="Submit">
</form>
<div class="nav margintop" id="nav" role="navigation">
<ul class="icons font16">
<li class="icons-home"><a href="/">The Mail Archive home</a></li>
<li class="icons-list"><a href="/riak-users@lists.basho.com/">riak-users - all messages</a></li>
<li class="icons-about"><a href="/riak-users@lists.basho.com/info.html">riak-users - about the list</a></li>
<li class="icons-expand"><a href="/search?l=riak-users@lists.basho.com&amp;q=subject:%22Re%5C%3A+May+allow_mult+cause+DoS%5C%3F%22&amp;o=newest&amp;f=1" title="e" id="e">Expand</a></li>
<li class="icons-prev"><a href="msg13319.html" title="p">Previous message</a></li>
<li class="icons-next"><a href="msg13269.html" title="n">Next message</a></li>
</ul>
</div>
<div class="listlogo margintopdouble">

</div>
<div class="margintopdouble">

</div>
</div>
</div>
<div class="footer" role="contentinfo">
<ul>
<li><a href="/">The Mail Archive home</a></li>
<li><a href="/faq.html#newlist">Add your mailing list</a></li>
<li><a href="/faq.html">FAQ</a></li>
<li><a href="/faq.html#support">Support</a></li>
<li><a href="/faq.html#privacy">Privacy</a></li>
<li class="darkgray">14527983.1012.1387631846194.JavaMail.Jason@JasonWin8</li>
</ul>
</div>
</body>
</html>
