---
title: "Re: Installed Riak via ssh. Now can/should I test *remotely* from a	browser?"
description: ""
project: community
lastmod: 2010-12-02T06:08:41-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01699"
mailinglist_parent_id: "msg01698"
author_name: "Stefan Scott Alexander"
project_section: "mailinglistitem"
sent_date: 2010-12-02T06:08:41-08:00
---


Hi Sean -

Thanks for this pointer.

I haven't thought everything through yet, but my initial plan would be to
eventually set up something like the following overall architecture:

nginx (front end) <===> nitrogen (web framework) <===> riak (data
store)

where nitrogen could use a RESTful AJAX library (say, ExtJS) to talk to riak
over HTTP.

http://dev.extjs.com/deploy/dev/examples/restful/restful.html
http://dev.extjs.com/deploy/dev/examples/

http://www.sencha.com/learn/Manual:RESTful\_Web\_Services

In this case, I assume that nginx's lack of full support HTTP 1.1 semantics
would not be a problem - as nginx would be a proxy talking only to nitrogen
(not to riak directly), and nitrogen in turn would be making RESTful HTTP
calls to riak.

Would this kind of architecture make sense?

- Scott


On Thu, Dec 2, 2010 at 10:18 AM, Sean Cribbs  wrote:

> Be aware that nginx's reverse-proxy configuration may not fully support
> HTTP 1.1 semantics. If you need those semantics, you might be better off
> using a dedicated reverse proxy like haproxy or pound.
>
> Sean Cribbs 
> Developer Advocate
> Basho Technologies, Inc.
> http://basho.com/
>
> On Dec 2, 2010, at 7:55 AM, Stefan Scott Alexander wrote:
>
> To Sven: Thanks for the nginx.conf file tailored to Riak - this will come
> in handy.
>
> - Stefan Scott
>
> Sven Reidel wrote:
> Hi, there's a nice nginx config for loadbalancing a riak cluster at:
>
> http://rigelgroupllc.com/wp/blog/using-nginx-as-a-front-end-for-riak
>
> Personally, even with that in place I wouldn't open those ports up to the
> public without, some access control system in front of it :).
>
> On Thu, Dec 2, 2010 at 1:43 AM, Andrew Stone 
> wrote:
>
>> I second that actually and should have put it in my initial response.
>>
>> -Andrew
>>
>>
>> On Wed, Dec 1, 2010 at 10:33 PM, Alexander Sicular wrote:
>>
>>> Testing aside, I would not bind a production riak to an external
>>> interface. The recommended method is to access riak via an
>>> intermediary like nginx.
>>>
>>> -alexander
>>>
>>> On 2010-12-01, Andrew Stone  wrote:
>>> > Hi Stefan,
>>> >
>>> > You need to configure Riak to listen on the right interface. You are
>>> trying
>>> > to hit it from 127.0.0.1 which is only available from the local
>>> machine.
>>> >
>>> > If you set web\_ip to 0.0.0.0 in app.config for riak\_core it will listen
>>> on
>>> > all interfaces. Then you can try to hit it with a curl remotely using
>>> > myhost.com from your browser.
>>> >
>>> > -Andrew
>>> >
>>> > On Wed, Dec 1, 2010 at 9:27 PM, Stefan Scott Alexander <
>>> > stefanscottal...@gmail.com> wrote:
>>> >
>>> >> Hi -
>>> >>
>>> >> SUMMARY:
>>> >> This may be a silly question but... after installing Riak via ssh, can
>>> I
>>> >> (or should I) test \*remotely\* it from a browser?
>>> >>
>>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

