---
title: "Riak or Riak CS for a Video Streaming CDN"
description: ""
project: community
lastmod: 2013-06-11T02:02:15-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11248"
author_name: "Andre Lohmann"
project_section: "mailinglistitem"
sent_date: 2013-06-11T02:02:15-07:00

---


Hi, I'm in the need of a comodity hardware driven CDN for Video Streaming.

The Files that are uploaded can be up to serveral Gig in size (each). I
need this system to be automatically replicated and horizontal skalable, to
have a round-robin on all Servers (for a simple loadbalancing algorithm).

As far as I tested, riak does match the replicating and skalability needs.

I allready did some testinstallations on some virtualservers (riak v 1.3.1,
riak cs I had problems with following the installation instructions on
Ubuntu 12.04, it didn't worked, but I will try some more). I noticed, that
the "accept-ranges: bytes" HTTP Header is not set. Also, compared to an
apache box, the range requests (initiated by VLC) didn't seem to work on
riak (when seeking to the mid of the video, all previous Data was
downloaded by the client, jumping backward always crashed).

So now I have a few questions about my case and which seems to be the best
System (pure riak or riak cs)? Also some questions about how it internally
works?

For Example, I have 5 Boxes with replication to 3 Copies (which means each
file is stored at least on 4 Boxes). When uploading a file to Box 1, this
will be copied to Boxes 2-4. When fetching this file from Box 5, this box
itself needs to fetch the the file internally from box 1-4. Does it select
the Box by load, randomly, or does it fetch parts by all boxes? Will the
file this way also get cached/replicated to Box 5 too?

Am I able to set a nginx Proxy in front of each riak box, to masquerade the
filename and still be able to handover the range requests to the riak box?

while riak is totally save against failing boxes what about riak cs and the
stanchion instance?

kind regards
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

