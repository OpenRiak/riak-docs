---
title: "Re: Having N replicas more than nodes in the cluster"
description: ""
project: community
lastmod: 2010-05-11T10:43:22-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00321"
mailinglist_parent_id: "msg00312"
author_name: "Randall Leeds"
project_section: "mailinglistitem"
sent_date: 2010-05-11T10:43:22-07:00
---


On Tue, May 11, 2010 at 08:20, Grant Schofield  wrote:
>> I have a two nodes cluster and a bucket with n\_val = 3.
>> I put more than 1 600 000 documents in the bucket and it takes less than 200 
>> GB with Innostore.
>> I shut down the second node with "q()." in a "riak console".
>> Firstly, there was no synchronisation of data on the first node, i assume 
>> it's better because very similar to a node crash.
>> Secondly, when i did a read request on a document with :
>> - ?r=1 -> success
>> - ?r=2 -> success
>> - ?r=3 -> fail
>
> This is due to the fact that 2 of the 3 vnodes were able to respond with your 
> data, but not the third because your took down the node that had 1 of the 3 
> partitions.

After the next round of gossip, will the remaining Riak node attempt
to reclaim these vnodes or does the ring structure persist until the
node has explicitly left?

-Randall

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

