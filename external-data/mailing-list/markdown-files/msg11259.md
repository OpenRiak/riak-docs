---
title: "Re: 0 byte images saved to riak cluster"
description: ""
project: community
lastmod: 2013-06-12T17:28:35-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11259"
author_name: "Mark Phillips"
project_section: "mailinglistitem"
sent_date: 2013-06-12T17:28:35-07:00

---


Hello,


On Wed, May 22, 2013 at 10:57 AM, kzhang  wrote:

> Update -- we found the issue. There were some post requests coming in from
> a
> form, obviously not using image content type. We tried:
>
> curl -v -s -o/dev/null http://xxxxxx:8098/riak/45/21601\_7803328\_3.jpg -->
> Fails
> curl -v -s -o/dev/null -H "Accept: image/\*"
> http://xxxxxxx:8098/riak/45/21601\_7803328\_3.jpg --> Works
>
> my question though -- is the same key 21601\_7803328\_3 associated with
> different values of different content types? We set in our config:
>
>
> {allow\_mult,false},
> {last\_write\_wins,true},
>
>
> I'd imagine one would overwrite the other, depending on which one comes in
> late?
>
>
Correct. With lww = true, the vector clocks will be ignored and the
most-recent timestamp will win. Is this not what you're seeing?

Mark


>
>
> --
> View this message in context:
> http://riak-users.197444.n3.nabble.com/0-byte-images-saved-to-riak-cluster-tp4027932p4027945.html
> Sent from the Riak Users mailing list archive at Nabble.com.
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

