---
title: "Re: Inconsistent results from Riak Search"
description: ""
project: community
lastmod: 2011-06-28T22:26:36-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03854"
mailinglist_parent_id: "msg03849"
author_name: "Sylvain Niles"
project_section: "mailinglistitem"
sent_date: 2011-06-28T22:26:36-07:00
---


I had to re-index a bucket and used the erlang bucket export/import in
the riak function contrib. One minor gotcha is the export function
takes a binary string arg: <<"bucketname">> while the bucket importer
uses a normal string "bucketname". Feel free to ping me if you have
any questions about how to get it going.

-Sylvain


On Tue, Jun 28, 2011 at 2:28 PM, James Linder  wrote:
> On Tue, Jun 28, 2011 at 11:01 AM, Scott Lystig Fritchie
>  wrote:
>> James Linder  wrote:
>>
>> jl> I am getting inconsistent results using the Riak Search Solr
>> jl> interface. Specifically, the number of results and ordering of
>> jl> results is changing from one query to the next.
>> jl> [...]
>> jl> - We are running riak-search-0.14.0-1.el5 installed via the Basho
>> jl> provided RPM
>>
>> James, does the same thing happen with the 0.14.2 release?  Earlier 0.14
>> releases used a sort that wasn't stable and so result ordering could be
>> (and frequently were) different.
>
> We upgraded to 14.2, using the RPM for riak search, and are continuing
> to see the following issue:
>
> - the number of results found by a solr query to riak search is
>  changing from one call to the next, even when run against
>  the same server.
>
> One thought I have is that the index got corrupted somehow.? and thus,
> perhaps re-indexing the contents of the bucket I am searching would
> fix the issue. I haven't been able to find any information on how to
> accomplish that.
>
> How would I re-index all the contents of a bucket?
>
> Thanks,
>
> James
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

