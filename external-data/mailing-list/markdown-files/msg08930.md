---
title: "Re: Re: Riak performance problems when LevelDB database grows beyond 16GB"
description: ""
project: community
lastmod: 2012-10-16T03:17:52-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08930"
mailinglist_parent_id: "msg08927"
author_name: "Jan.Evangelista"
project_section: "mailinglistitem"
sent_date: 2012-10-16T03:17:52-07:00
---


You are right! Riak was killed by the oom killer on all nodes except the one I 
was looking at.

Oct 14 18:34:01 gr-node03 kernel: [ pid ] uid tgid total\_vm rss cpu 
oom\_adj oom\_score\_adj name
Oct 14 18:34:01 gr-node03 kernel: [31808] 106 31808 5178811 3884730 0 
 0 0 beam.smp
...
Oct 14 18:34:01 gr-node03 kernel: Out of memory: Kill process 31808 (beam.smp) 
score 955 or sacrifice child

(I found that the node I was looking at was made temporarily unreachable by a 
hosting provider's configuration error and then restarted.)

Thanks, Jan

---------- Původní zpráva ----------
Od: Eli Janssen 
Datum: 16. 10. 2012
Předmět: Re: Riak performance problems when LevelDB database grows beyond 16GB
Anything in the system logs or dmesg?
With vm.swappiness set to the defaults, the oom-killer could be doing its job a 
bit too well.


On Oct 15, 2012, at 12:10 PM, jan.evangeli...@seznam.cz wrote:

> Hi Evan,
> 
> regarding the swappiness and disk scheduling: these were set to default, I 
> will correct it and run another test. 
> 
> The hosting provider sets the computer with software RAID1 over 2 physical 
> disks, do you think it is useful with Riak?
> 
...

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

