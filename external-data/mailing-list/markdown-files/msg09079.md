---
title: "Migrating cluster from 1.1.1 to 1.2.1"
description: ""
project: community
lastmod: 2012-10-29T19:43:06-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09079"
author_name: "Matt Black"
project_section: "mailinglistitem"
sent_date: 2012-10-29T19:43:06-07:00

---


Hello list,

I just started a cluster migration, and encountered a problem with
introducing the first replacement node :)

I'm not able to either "cluster plan" or "cluster commit" with the new node:

root@ip-10-138-x-221:~# riak-admin cluster join riak@10.130.x.125
Attempting to restart script through sudo -H -u riak
Success: staged join request for 'riak@10.138.x.221' to 'riak@10.130.x.125'

root@ip-10-138-x-221:~# riak-admin cluster plan
Attempting to restart script through sudo -H -u riak
RPC to 'riak@10.138.x.221' failed: {'EXIT',
 {noproc,
 {gen\_server,call,
 [{riak\_core\_claimant,
 'riak@10.128.x.82'},
 plan,infinity]}}}

root@ip-10-138-x-221:~# riak-admin cluster commit
Attempting to restart script through sudo -H -u riak
RPC to 'riak@10.138.x.221' failed: {'EXIT',
 {noproc,
 {gen\_server,call,
 [{riak\_core\_claimant,
 'riak@10.128.x.82'},
 commit,infinity]}}}

Now, since the cluster group of commands were new in 1.2 - should I be
using the older join commands for this migration?

Thanks
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

