---
title: "Re: Forcing Siblings to Occur"
description: ""
project: community
lastmod: 2013-11-12T08:03:30-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12952"
mailinglist_parent_id: "msg12951"
author_name: "John Daily"
project_section: "mailinglistitem"
sent_date: 2013-11-12T08:03:30-08:00
---


Forcing siblings other than for testing purposes is not typically a good idea; 
as you indicate, the object size can easily become a problem as all siblings 
will live inside the same Riak value.

Your counter-example sounds a lot like a use case for server-side CRDTs; data 
structures that allow the application to add values without retrieving the 
server-side content first, and siblings are resolved by Riak.

These will arrive with Riak 2.0; see 
https://gist.github.com/russelldb/f92f44bdfb619e089a4d for an overview.

-John

On Nov 12, 2013, at 7:13 AM, Olav Frengstad  wrote:

> Do you consider forcing siblings a good idea? I would like to get some input 
> on possible use cases and pitfalls.
> For instance i have considered to force siblings and then merge them on read 
> instead of fetching an object every time i want to update it (especially with 
> larger objects).
> 
> It's not clear from the docs if there are any limitations, will the maximum 
> object size be the limitation:?
> 
> A section of the docs[1] comees comes to mind:
> 
> "Having an enormous object in your node can cause reads of that object to 
> crash the entire node. Other issues are increased cluster latency as the 
> object is replicated and out of memory errors."
> 
> [1] http://docs.basho.com/riak/latest/theory/concepts/Vector-Clocks/#Siblings
> 
> 2013/11/9 Brian Roach 
> On Fri, Nov 8, 2013 at 11:38 AM, Russell Brown  wrote:
> 
> > If youâ€™re using a well behaved client like the Riak-Java-Client, or any 
> > other that gets a vclock before doing a put, use whatever option stops that.
> 
> for (int i = 0; i < numReplicasWanted; i++) {
> bucket.store("key", "value").withoutFetch().execute();
> }
> 
> :)
> 
> - Roach
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

