---
title: "Re: Put failure: too many siblings"
description: ""
project: community
lastmod: 2016-06-03T08:44:29-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17451"
mailinglist_parent_id: "msg17449"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2016-06-03T08:44:29-07:00
---


Hi Vladyslav,

If you recognize the full name of the object raising the sibling
warning, it is most likely a manifest object. Sometimes, during hinted
handoff, you can see these messages. They should resolve after handoff
completes.

Please see the documentation for the transfer-limit command as well:

http://docs.basho.com/riak/kv/2.1.4/using/admin/riak-admin/#transfer-limit

--
Luke Bakken
Engineer
lbak...@basho.com


On Fri, Jun 3, 2016 at 2:55 AM, Vladyslav Zakhozhai
 wrote:
> Hi.
>
> I have a trouble with PUT to Riak CS cluster. During this process I
> periodically see the following message in Riak error.log:
>
> 2016-06-03 11:15:55.201 [error]
> <0.15536.142>@riak\_kv\_vnode:encode\_and\_put:2253 Put failure: too many
> siblings for object OBJECT\_NAME (101)
>
> and also
>
> 2016-06-03 12:41:50.678 [error]
> <0.20448.515>@riak\_api\_pb\_server:handle\_info:331 Unrecognized message
> {7345880,{error,{too\_many\_siblings,101}}}
>
> Here OBJECT\_NAME - is the name of object in Riak which has too many
> siblings.
>
> I definitely sure that this objects are static. Nobody deletes is, nobody
> rewrites it. I have no idea why more than 100 siblings of this object
> occurs.
>
> The following effect of this issue occurs:
>
> Great amount of keys are loaded to RAM. I almost out of RAM (Do each sibling
> has it own key or key duplicate?).
> Nodes are slow - adding new nodes are too slow
> Presence of "too many siblings" affects ownership handoffs
>
> So I have several questions:
>
> Do hinted or ownership handoffs can affect siblings count (I mean can
> siblings be created during ownership of hinted handoffs)
> Is there any workaround of this issue. Do I need remove siblings manually or
> it removes during merges, read repairs and so on
>
>
> My configuration:
>
> riak from basho's packages - 2.1.3-1
> riak cs from basho's packages - 2.1.0-1
> 24 riak/riak-cs nodes
> 32 GB RAM per node
> AAE is disabled
>
>
> I appreciate you help.
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

