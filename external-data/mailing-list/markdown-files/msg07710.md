---
title: "Re: Best way to "refresh" a riak server?"
description: ""
project: community
lastmod: 2012-06-18T16:20:30-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07710"
mailinglist_parent_id: "msg07709"
author_name: "Joseph Guhlin"
project_section: "mailinglistitem"
sent_date: 2012-06-18T16:20:30-07:00
---


It's not a machine I have root on but yeah, the obvious solution I
could just store it as a tar and rm the directory and untar. Sorry I
missed that!

Thanks!
--Joseph

On Mon, Jun 18, 2012 at 6:16 PM, Mark Rose  wrote:
> Hi Joseph,
>
> The obvious solution that springs to mind is using a snapshot, either at the
> block level (LVM), file system (ZFS, btrfs), or virtual machine level.
>
> -Mark
>
> On Mon, Jun 18, 2012 at 7:10 PM, Joseph Guhlin 
> wrote:
>>
>> What is the best way to refresh a Riak server? I'm using it in a
>> different way in that I do not need any persistence of the data and in
>> fact need the data cleared out each restart(but the data is too large
>> to hold in RAM).
>>
>> Basically I am using riak(or a cluster of 4, depending on where I'm at
>> in the development stages) to store objects that are shared between 12
>> processes that are independent from each other and each given a chunk
>> to work on, in the end all the necessary data is exported to flat
>> textfiles.
>>
>> I've found when I restart riak I end up getting errors when I try to
>> re-input the data. I've tried rm -rf'ing the data directory and it
>> definitely does not like that. Â So far make clean; make rel Â has been
>> the best solution for me.
>>
>> I'm sure for my use case there is a better tool(or not, Riak works
>> great, gives me fast read/write support and let's me store the data in
>> encoded form to be passed to other processes for later mangling). Any
>> ideas?
>>
>> Sorry if this has been asked before, I tried searching and couldn't
>> come up with anything.
>>
>> Thanks,
>> --Joseph
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

