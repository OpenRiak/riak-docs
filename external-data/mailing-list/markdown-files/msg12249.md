---
title: "Re: Should content-type not be required?"
description: ""
project: community
lastmod: 2013-09-12T03:14:02-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12249"
mailinglist_parent_id: "msg12236"
author_name: "Vincenzo Vitale"
project_section: "mailinglistitem"
sent_date: 2013-09-12T03:14:02-07:00
---


Yep, if money are involved I guess eventual consistency can also be painful
if there are not other checks in place.

In our real use case this should not be a big issue.


On Wed, Sep 11, 2013 at 6:46 PM, Evan Vigil-McClanahan <
emcclana...@basho.com> wrote:

> It does make sense, but it isn't an ideal use-case for riak. Eventual
> consistency means that existence checking under partition is always
> going to be a bit fraught.
>
> On Tue, Sep 10, 2013 at 2:03 PM, Vincenzo Vitale
>  wrote:
> > Suppose I want to just store keys in a bucket without any body, this make
> > sense in scenarios where the key completely identify the entity. Is it
> > possible to use the riak http api without including the content-type
> header?
> >
> > Looking at the http specifications, content–type is not mandatory or
> > suggested when the body is empty:
> >
> > http://www.w3.org/Protocols/rfc2616/rfc2616-sec7.html#sec7.2.1
> >
> > and it's probably a good argument to say that if the entity message is
> empty
> > then the content type doesn't really make sense.
> >
> > Personally I think that just the existence of an http entity - body or
> not
> > body – is sufficient to justify a "type"; it's unfortunate that any other
> > higher type (entity type maybe?) - decoupled from what is defined as
> content
> > - exist in the spec.
> >
> > Framework like spray are quite strict about this, not setting any content
> > type when the content is empty:
> >
> >
> https://github.com/spray/spray/blob/master/spray-http/src/main/scala/spray/http/HttpEntity.scala#L74
> >
> > how to deal with such situation? Adding a fake content because of this
> data
> > store constraint doesn't seems right.
> >
> >
> >
> > Thanks,
> >
> > Vincenzo.
> >
> >
> > --
> > If your e-mail inbox is out of control, check out
> > http://sanebox.com/t/mmzve. I love it.
> >
> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > riak-users mailing list
> > riak-users@lists.basho.com
> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> >
>



-- 
If your e-mail inbox is out of control, check out http://sanebox.com/t/mmzve.
I love it.
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

