---
title: "failed get after successful put"
description: ""
project: community
lastmod: 2014-04-30T14:48:59-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14156"
author_name: "Oleksiy Krivoshey"
project_section: "mailinglistitem"
sent_date: 2014-04-30T14:48:59-07:00

---


Hi guys,

can someone please suggest what can be the reason for 'get' immediately
following successful 'put' to fail?

I'm running a fully connected, healthy, 5 node Riak 2.0-beta1 cluster.
Using a multiple backend feature, so the order of operations is:

1. 'SetBucket' for a new bucket with a backend name. Wait for successful
reply
2. 'Put' object to bucket. Wait for successful reply (return\_head: true, so
I get clock, vtag, etc back)
3. 'Get' object from step 2. Returns empty response (missing object)

If I repeat 'Get' after just few moments - I will successfully retrieve the
object.

CAP options are all defaults (n: 3, etc). Happens with both custom bitcask
and custom leveldb backends.

There are no errors in riak logs, but a lot of the following:

2014-04-30 21:41:05.656 [info]
<0.95.0>@riak\_core\_sysmon\_handler:handle\_event:92 monitor large\_heap
<0.10689.74>
[{initial\_call,{erlang,apply,2}},{almost\_current\_function,{eval\_bits,expr\_grp,4}},{message\_queue\_len,0}]
[{old\_heap\_block\_size,0},{heap\_block\_size,79467343},{mbuf\_size,0},{stack\_size,394},{old\_heap\_size,0},{heap\_size,28858704}]

-- 
Oleksiy
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

