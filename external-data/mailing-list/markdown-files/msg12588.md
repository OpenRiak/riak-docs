---
title: "riak 1.2.0-1 / Failed to merge"
description: ""
project: community
lastmod: 2013-10-10T06:07:41-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12588"
author_name: "Sebastian Gerlach"
project_section: "mailinglistitem"
sent_date: 2013-10-10T06:07:41-07:00

---


Hello,

we have a 12 node riak cluster. Since a while we have a log of messages
like this:

"2013-10-10 00:22:04.725 [error] <0.5743.2160> Failed to merge
["/var/lib/riak/bitcask/276886052384956216925307478073202056458252845056",[{async\_folds,true},{vnode\_vclocks,true},{included\_applications,[]},{allow\_strfun,false},{reduce\_js\_vm\_count,6},{storage\_backend,riak\_kv\_bitcask\_backend},{legacy\_keylisting,false},{hook\_js\_vm\_count,2},{listkeys\_backpressure,true},{mapred\_name,"mapred"},{stats\_urlpath,"stats"},{legacy\_stats,true},{js\_thread\_stack,16},{add\_paths,[]},{http\_url\_encoding,on},{map\_js\_vm\_count,8},{mapred\_2i\_pipe,true},{mapred\_system,pipe},{js\_max\_vm\_mem,8},{read\_write,true}],["/var/lib/riak/bitcask/276886052384956216925307478073202056458252845056/29.bitcask.data","/var/lib/riak/bitcask/276886052384956216925307478073202056458252845056/4.bitcask.data"]]:
{{badrecord,mstate},[{bitcask,merge\_files,1,[{file,"src/bitcask.erl"},{line,835}]},{bitcask,merge1,3,[{file,"src/bitcask.erl"},{line,509}]},{bitcask\_merge\_worker,do\_merge,1,[{file,"src/bitcask\_merge\_worker.erl"},{line,130}]}]}
"

The provides directory have a lot of files with a size of zero. And the
number of files is much higher (2821 files) than in other directorys (30
files).

Does anyone has a solution or a hint.

Thanks a lot an best regards
Sebastian

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

