---
title: "vclock, vtag, entity tag"
description: ""
project: community
lastmod: 2012-12-25T22:08:41-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09675"
author_name: "Shuhao"
project_section: "mailinglistitem"
sent_date: 2012-12-25T22:08:41-08:00

---



Hi,

I'm just browsing through the API documentations for Riak and I just 
noticed a couple of things that's pretty confusing:


It's my understanding that with the HTTP fetch request, each 
object/sibling returned will have its own vclock in the form of the HTTP 
header `X-Riak-Vclock` and an entity tag under the header `ETag`. There 
is also a vtag url parameter specified by the HTTP fetch request which I 
assume fetches specific sibling with that entity tag. [1]


[1]: 
http://docs.basho.com/riak/latest/references/apis/http/HTTP-Fetch-Object/


However, the protobuf client will return a list of siblings but only 
with 1 vclock with `optional bytes vclock = 2;` for all the siblings 
returned under `content`. For each sibling, there will be a `vtag` 
attribute, which I assume is the entity tag as specified in the HTTP 
document. [2]


[2]: 
http://docs.basho.com/riak/latest/references/apis/protocol-buffers/PBC-Fetch-Object/


So the confusion is that why is it that in the HTTP request, each 
sibling has its own vclock and entity tag/vtag while in the PBC request, 
the entire response only has 1 vclock and each object has its own 
vtag/entity tag. I'm not too sure if my understanding is complete.


Thanks,

Shuhao

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

