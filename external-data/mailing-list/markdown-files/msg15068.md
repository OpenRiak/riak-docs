---
title: "Adjust ulimit, as needed, start Riak on Mac OS X"
description: ""
project: community
lastmod: 2014-10-23T20:50:20-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15068"
author_name: "David James"
project_section: "mailinglistitem"
sent_date: 2014-10-23T20:50:20-07:00

---


I recently learned a nice way to bump maxfiles on Mac OS X. This works for
me on Yosemite.

#!/usr/bin/env bash
MAXFILES=$(launchctl limit maxfiles | sed -e 's/[[:space:]]+/ /g' | xargs)
if [ "$MAXFILES" != "maxfiles 65536 65536" ]; then
 set -x
 sudo launchctl limit maxfiles 65536 65536
fi
set -x
ulimit -n 65536
riak start

I save the file to ~/bin/start-riak and use it instead of `riak start`.

Gist here:
https://gist.github.com/xpe/9d14db8884bcf67f9388
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

