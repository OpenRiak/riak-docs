---
title: "Re: riak hangs after after a lot of map reduce queries"
description: ""
project: community
lastmod: 2010-11-18T06:26:14-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01568"
mailinglist_parent_id: "msg01566"
author_name: "Jan Metzner"
project_section: "mailinglistitem"
sent_date: 2010-11-18T06:26:14-08:00
---


Ok Same testcase with more traffic and riak crashes after 4 hours.
It seems some internal service timed out - is this right because real
reasons don't show up in the logs.

Regards
Jan

=CRASH REPORT==== 18-Nov-2010::13:29:48 ===
 crasher:
 initial call: luke\_phase:init/1
 pid: <0.18442.17>
 registered\_name: []
 exception exit: {error,timeout}
 in function gen\_fsm:terminate/7
 ancestors: [luke\_phase\_sup,luke\_sup,<0.85.0>]
 messages: []
 links: [<0.18438.17>,<0.88.0>]
 dictionary: []
 trap\_exit: false
 status: running
 heap\_size: 6765
 stack\_size: 24
 reductions: 188
 neighbours:

=SUPERVISOR REPORT==== 18-Nov-2010::13:29:48 ===
 Supervisor: {local,luke\_phase\_sup}
 Context: child\_terminated
 Reason: {error,timeout}
 Offender: [{pid,<0.18442.17>},
 {name,undefined},
 {mfa,
 {luke\_phase,start\_link,
 [riak\_kv\_reduce\_phase,2,
 [converge],
 [<0.18440.17>,<0.18439.17>],
 <0.18438.17>,66000,
 [{javascript,
 {reduce,
 {jsfun,<<"Riak.filterNotFound">>},
 none,false}}]]}},
 {restart\_type,temporary},
 {shutdown,brutal\_kill},
 {child\_type,worker}]

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

