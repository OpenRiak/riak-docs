---
title: "Re: Bitcask - large keydirs"
description: ""
project: community
lastmod: 2011-03-11T14:40:44-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02621"
mailinglist_parent_id: "msg02605"
author_name: "David Smith"
project_section: "mailinglistitem"
sent_date: 2011-03-11T14:40:44-08:00
---


TLDR: Yes, good idea. We'd welcome any patches/pull requests you have.... ;)

There are significant tradeoffs here, particularly as the accesses
devolve into a uniformly random pattern. The rebalancing and secondary
disk hits would also have some interesting impacts to the
predictability of our latency profile. Speaking solely for myself, I
think if we want to really solve the problem of keys in memory, a more
traditiona, append-onlyl b-tree based structure would be more
desirable, have similar tradeoffs and yield the ability to more
cheaply traverse ranges of keys. However, I would note that there are
a number of deployments where "all the keys in memory!!" was a big
deal in theory, but a reasonable tradeoff in reality. It also was less
of an issue when people started looking at the very boring latency
profiles. :)

\_Should\_ we do something about the issue? Yes, that would be very,
very nice. I'm just adding some color to the conversation. :)

D.

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

