---
title: "Re: Connection multiplexing in the Erlang client"
description: ""
project: community
lastmod: 2015-12-31T00:49:26-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16905"
mailinglist_parent_id: "msg16903"
author_name: "Paulo Almeida"
project_section: "mailinglistitem"
sent_date: 2015-12-31T00:49:26-08:00
---


Hi,

A poolboy or other connection pool based solution still means 1 open tcp
connection per worker. I'm exploring the option of having a single TCP
connection (actually 1 for each Riak node) and then multiplex concurrent
requests to a DB node in a single TCP connection (think HTTP/2 TCP
connection multiplexing).

Thanks.

Paulo

On Thu, Dec 31, 2015 at 2:59 AM, Bryan Hunt 
wrote:

> Paulo,
>
> You can find a list of community maintained PBC pooling ‎libraries in the
> Erlang sub-section of this page:
>
> ‎
> http://docs.basho.com/riak/latest/dev/using/libraries/#Community-Libraries
>
> II was under the impression that Riak Erlang client ships with poolboy ‎so
> I'm uncertain of the distinction between the different libraries listed.
>
> Perhaps someone could comment to clarify?
>
> Bryan
>
>
>
> \*From: \*Paulo Almeida
> \*Sent: \*Wednesday, December 30, 2015 10:40 PM
> \*To: \*riak-users@lists.basho.com
> \*Subject: \*Connection multiplexing in the Erlang client
>
> Hi,
>
> Does the Erlang Riak client support multiplexing multiple concurrent calls
> in a single TCP connection? Specifically when using the PB interface
> (riakc\_pb\_socket:start\_link).
>
> Thanks.
>
> Regards,
>
> Paulo
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

