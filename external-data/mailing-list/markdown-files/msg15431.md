---
title: "Objects visibility in Riak Serch immediately after storage"
description: ""
project: community
lastmod: 2014-12-30T04:26:10-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15431"
author_name: "Santi Kumar"
project_section: "mailinglistitem"
sent_date: 2014-12-30T04:26:10-08:00

---


HI I'm having some consistency issues with Riak Search.

I have configured Riak Search and enabled search for a specific bucket. In
one of the service layer methods, I"m storing the object into the Riak and
doing some more updates and immediately trying to search on a attribute of
 the object. It's intended to return the same object which I stored, but
RiakSearch in not returning object.

If I run in the debug mode, and give some time, then search is able to
return the object. I tried storing the object with Quoram ALL, but still
have this consistency issues.

I'm using JAVA Client for storing like below.

StoreValue storeUserOp = new StoreValue.Builder(value)

 .withLocation(user\_locaiton)

 .withOption(StoreValue.Option.W, Quorum.allQuorum())

 .build();

What is the best way to handle such cases? While using RDBMS, we didn't
these issues, but when we are migrating to Riak we start getting into these
issues more often.

Let me know your inputs


Thanks

Santi
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

