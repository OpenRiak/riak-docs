---
title: "Re: Setting read quorum for map reduce jobs"
description: ""
project: community
lastmod: 2010-05-04T08:21:08-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00244"
mailinglist_parent_id: "msg00243"
author_name: "Johnathan Loggie"
project_section: "mailinglistitem"
sent_date: 2010-05-04T08:21:08-07:00
---


Hi,

OK Thanks, I thought as much. Its was more of an academic question really.

Johnno


On 04/05/2010 15:27, "Sean Cribbs"  wrote:

> The read quorum doesn't apply to map-reduce - the value from the first vnode
> in the preflist will be tried, followed by the others if it is not available.
> If an input is completely unavailable (as may be the case with 1/2 of the
> nodes down), the job will fail. 2 nodes is a bit of degenerate case anyway -
> especially if you use the default N value of 3. When the size of the cluster
> smaller than N, there's a chance that some data could become unavailable when
> a node goes down.
> 
> Sean Cribbs 
> Developer Advocate
> Basho Technologies, Inc.
> http://basho.com/
> 
> On May 4, 2010, at 10:13 AM, Johnathan Loggie wrote:
> 
>> Hi,
>> 
>> I¹m struggling to find how to set the the read quorum for a map reduce job
>> via the REST api.
>> 
>> The documentation doesn¹t mention that this is even possible.
>> I¹m using ripple, and tried forcing r=1 onto the end of the query string (e.g
>> with @client = Riak::Client.new(:mapred = /mapred?r=1¹)) to see if this
>> resource worked like the others, but had no luck.
>> 
>> I have 2 riak nodes and have deliberately stopped one as if it were down or
>> disconnected.
>> In this state my map reduce jobs fail to run on the node that is up and
>> running.
>> 
>> Can anybody help?
>> Have I completely got the wrong end of the stick on this one?
>> 
>> Johnno 
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> 
> 

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

