---
title: "link limitations"
description: ""
project: community
lastmod: 2010-06-29T19:07:46-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00667"
author_name: "francisco treacy"
project_section: "mailinglistitem"
sent_date: 2010-06-29T19:07:46-07:00

---


Hi all,

We're developing social features in our app that involve Twitter-like
relations between users.

As we have a 'users' bucket, the initial implementation is to add
links to following users (and link followers back) in order to create
a two-way relationship.

User A ==== following ====> User B
User B ==== follower ====> User A

This makes sense and turns out to work perfectly fine, but I am
concerned with hitting limits rather soon. For some reason (webmachine
related?) there is an 8k limit for the Link header. I verified this
(documents with 8192b+ Link headers won't be persisted).

Considering average key sizes and the typical usecase of our app, this
means we can store somewhere between 100 and 150 links - max. Given we
store different types of links (not only to other users), it'll
definitely won't work for us.

So I guess my question is two-fold:
(a) is this limit intended? if not, how can it be eluded?
(b) are there better ways of modeling this scenario?

I was thinking along the lines of storing this 'followers/following'
data in an associated document instead, and feeding a link phase keys
coming from a map function.

Those of you who tried implementing Twitter in Riak :) ...how did you
approach the problem?

Francisco

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

