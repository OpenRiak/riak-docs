---
title: "Efficiency of RIAK"
description: ""
project: community
lastmod: 2012-10-24T08:35:22-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09035"
author_name: "Денис Мельник"
project_section: "mailinglistitem"
sent_date: 2012-10-24T08:35:22-07:00

---


Dear team,

 

In order to compare the efficiency of 'put' operation for RIAK where 
storage\_backend=riak\_kv\_eleveldb\_backend with eleveldb itself I ran several 
tests. 

Tests were made under basho\_bench.



Please comment the results – the average efficiency of RIAK is 4 times smaller 
than average efficiency of eleveldb!

 

Data were placed into empty base. Entry configuration in basho\_bench:

{key\_generator, {int\_to\_bin,{uniform\_int, 1000000000}}}.

{value\_generator, {fixed\_bin, 50}}.

 

Tests were made on one server:

8 Core Intel(R) Xeon(R) CPU E5450 @ 3.00GHz

16 Gb memory

 

elevelDB

 basho\_bench configuration:

 --------------------------

 {driver, basho\_bench\_driver\_eldb\_ps}. (driver 
basho\_bench\_driver\_eldb taken from installation package of eleveldb, 
complemented by parameter write\_buffer\_size set to different instances of 
eleveldb) 

 {mode = {rate, 2800}}. (number was taken to level out the 
efficiency on load)

 {duration = 10}.

 {concurrent = 4} (as amount of vnode in RIAK)

 {operations, [{put,10}]}.

 

 eleveldb configuration:

 --------------------------

 write\_buffer\_size = 30-60 mb (according to documentation it’s 
in RIAK)

 max\_open\_files = 50

 

 Results:

 --------------------------

 total = 14658677

 req/sec min = 1081

 req/sec max = 32390

 req/sec average = 24431

 

RIAK

 basho\_bench configuration:

 --------------------------

 {driver, basho\_bench\_driver\_riakc\_pb}.

 {mode, max}.

 {duration, 10}.

 {concurrent, 10}. (number was taken to get the highest 
efficiency)

 {operations, [{put,100}]}.

 {riakc\_pb\_replies, 0}.

 

 RIAK configuration:

 --------------------------

 version 1.2.0

 {ring\_creation\_size, 4},

 {default\_bucket\_props, [{n\_val,1}]}

 {storage\_backend, riak\_kv\_eleveldb\_backend}

 

 eleveldb configuration: default RIAK settings

 

 Results:

 --------------------------

 total = 3981611

 req/sec min = 5214

 req/sec max = 7645

 req/sec average = 6636

 

 

Denis.\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

