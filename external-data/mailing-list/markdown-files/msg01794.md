---
title: "Re: replica is synchronized or asynchronized?"
description: ""
project: community
lastmod: 2010-12-15T04:16:11-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01794"
mailinglist_parent_id: "msg01793"
author_name: "Jeremiah Peschka"
project_section: "mailinglistitem"
sent_date: 2010-12-15T04:16:11-08:00
---


On Wed, Dec 15, 2010 at 6:33 AM, Daniel Woo  wrote:

> hi guys, want to ask you guys a question, when we write a datarum to a
> cluster with N=3, does Riak write the 3 nodes synchronized and verify the
> result >= W? or just write to a single node then gossip the change to the
> other two nodes asynchronuously? I guess it's synchronized because i don't
> understand how we can verify write is successful (>=W) if it's async, right?
>

R and W are guaranteed reads and writes with a response from the node in the
cluster. There's some info in the wiki, but it took me a second to find it:
http://wiki.basho.com/display/RIAK/Tunable+CAP+Controls+in+Riak#TunableCAPControlsinRiak-WValueandWriteFaultTolerance

If your W is less than N, you've still told Riak that you want N copies of
the data, but you only care that W nodes responded that the write was
successful. Hopefully that data will get to the other nodes in time, but if
it doesn't then there are mechanisms in place to make sure that it does.
Check out the Replication  page
as well as the Hinted
Handoff
for
more info.

The client connects to Riak and issues a write request. Riak then issues
write requests to N nodes and waits for W of them to respond before it tells
the client that the write succeeded.

Jeremiah
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

