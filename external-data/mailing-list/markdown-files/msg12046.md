---
title: "Re: Riak 2 Node cluster"
description: ""
project: community
lastmod: 2013-08-15T09:37:12-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12046"
mailinglist_parent_id: "msg12044"
author_name: "Nico Huysamen"
project_section: "mailinglistitem"
sent_date: 2013-08-15T09:37:12-07:00
---


Hi EricYeah, that was exactly what I thought. All things 
considered though, the 4GB RAM requirements is only an recommendation 
correct? For example, if we do not expect very high volumes of key/value
 pairs in our application initially (probably around 3-5 million), then 
would the 5x 2GB RAM VPS server cluster be a viable option until the 
volumes grow? The Bitcask calculator seems to think that for our setup 
(5 million keys, 10 byte bucket, 42 byte keys, 1024 byte values, n=3) we
 only need about 270MB RAM on each node. That seems to leave ample space
 for map reduce functions etc. Or am I missing the point here? 
(Apologies, fairly new to Riak).Regards,-- Nico Huysamen

 
Eric Redmond 
15 August 2013 
3:27 PMIt's hard to answer that, 
because both configurations are below Riak's recommended specifications.
 You should have at least 5 servers, and they should have at least 4GB 
RAM each. The minimums are for different reasons.The
 minimum RAM is clear: keeping things like keys resident reduces the 
chances of disk swap, which can destroy any database.The
 minimum 5 nodes is because the major reason for using Riak is high 
availability. If you don't have a good distribution of objects across 
several physical machines, you are less able to deal with any particular
 one going down. If you only have two servers, you really can't survive a
 single outage. Any less than 4 makes the odds that a value is 
replicated multiple times on the same machine quite high, so we 
recommend 5 since you can at least handle 1 downed node.Eric 
Nico Huysamen 
15 August 2013 
1:42 PM
I am also interested in the answer to this. If I had to 
choose between having 2 dedicated servers, each with 32GB RAM, or 5 
virtual servers each with 2GB RAM (which just happens to be the case for
 us at the moment), my gut feel is go with the 2 dedicated servers. But 
Basho seems pretty fixed on having at least 5 nodes. Would a 2 node 
system be viable?Regards, 
Баканов Дмитрий 
12 August 2013 
4:32 PMHello,I need to 
decide what database we will choose for our project. Certainly, we need 
only 2 physical nodes (active-standby). Riak is good for us, becase it 
is Erlang-based, as our project. But is's known that riak cluster should
 have at least five nodes. I have some problems with my cluster, same as
 in this E-mail: 
http://lists.basho.com/pipermail/riak-users\_lists.basho.com/2012-March/007988.htmlCould
 you cleraly explain, please, is it possible to tune riak to work 
correctly with only 2 physical nodes, or we need to choose another DBMS?Dmitry\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_riak-users
 mailing listriak-users@lists.basho.comhttp://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

