---
title: "Re: RiakTS Query Question"
description: ""
project: community
lastmod: 2017-03-29T12:18:54-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18107"
mailinglist_parent_id: "msg18106"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2017-03-29T12:18:54-07:00
---


I'm not 100% certain but I do not believe that is the case. Part of the reason 
for structured data is efficient retrieval. I believe the data is read but only 
the data selected leaves the leveldb backend, unselected data never leaves 
leveldb so there's no overhead when passing data from level to Riak or on the 
network. 

I defer to the engineering folks working on TS tho. 

-Alexander 

@siculars
http://siculars.posthaven.com

Sent from my iRotaryPhone

> On Mar 29, 2017, at 15:08, Joe Olson  wrote:
> 
> Suppose I have the following table in RiakTS:
> 
> 
> CREATE TABLE T1 (
> 
> id VARCHAR NOT NULL, 
> 
> eventtime TIMESTAMP NOT NULL,
> 
> field2 SINT64,
> 
> data BLOB NOT NULL, 
> 
> primary key (id, QUANTUM(eventtime, 365, 'd')),id)
> 
> )
> 
> 
> Assume the BLOB field is close to the max size for a RiakTS BLOB value (~1MB)
> 
> 
> Suppose I want to execute the following query:
> 
> 
> Select id, eventtime, field2 from T1 where ((id = ID1) and (eventtime >= T1 
> and eventtime < T2))
> 
> 
> I only want the SINT64 field, not the 1MB BLOB.
> 
> 
> Am I paying for the bandwidth for the RiakTS cluster to pass around 
> (internally) the 1MB BLOB field just to get the SINT64 field?
> 
> 
> If so, is there a way to avoid this, besides creating a second table without 
> the BLOB field?
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

