---
title: "RIAK, RAID, Redundancy and Raccoons"
description: ""
project: community
lastmod: 2012-01-13T05:41:32-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06270"
author_name: "Sam R"
project_section: "mailinglistitem"
sent_date: 2012-01-13T05:41:32-08:00

---


(not actually raccoons but I wanted a fourth R)

We have (not yet, but we will soon) 4 servers with 24x1TB raw data drives
(OS on ssd). These servers will be providing static object storage
(specifically, photos). Performance isn't important since all the data will
be stored by a CDN sitting in front of the servers, were predicting low
read levels <1 reads per second, and reads don't need to be fast since
they'll be background jobs from our CDN (CDNs will pre-cache all data and
will only require origin reads when the object becomes invalid, if user
accesses a server without an object they will be routed to a different
server or an error page, basically users will never be waiting on our
origin servers). I've been evaluating lots of solutions and RIAK (with
commercial support) seemed the best option, but I'm not fully decided yet.

We want N=2 redundancy on objects (CDN loses about 5% of objects per month
so we have a 3rd copy of 95% of objects), with the object on two servers.
We want servers to survive a disk failure but we don't care about copies of
objects since objects will be on another server. The object should never
have all of its copies on the same server.

If we use RAID0, a disk failure would take out an entire server. With
RAID5/6 we reduce our avaliable capacity and have object level redundancy
on each single server (which we don't care about). The only other option I
can see is running 24 RIAK nodes per server keeping each disk separate and
putting a single nodes data on each disk, then somehow getting RIAK to make
sure it never stores the same object on the same server but I'm not sure if
that's possible.

Any other suggestions?

-Sam
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

