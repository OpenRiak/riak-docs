---
title: "Re: Tuning a Riak cluster."
description: ""
project: community
lastmod: 2013-02-22T13:49:18-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10213"
mailinglist_parent_id: "msg10200"
author_name: "Richard Shaw"
project_section: "mailinglistitem"
sent_date: 2013-02-22T13:49:18-08:00
---


Hi Kevin,

What kind of benchmarking have you done on your VMs and what did you use ?

Kind Regards

Richard


On Fri, Feb 22, 2013 at 9:49 AM, Kevin Burton wrote:

> Ok I suspected as much. This will give me more ammo when requesting more
> resources. Thank you.
> Now, back to the original question. Given that the physical hardware is
> taken care of. What parameters are most important when tuning a cluster.
> Again for arguments sake assume the same 4 node cluster with a read-write
> ratio of about 75 percent.
>
> On Feb 21, 2013, at 8:26 PM, Alexander Sicular  wrote:
>
> It can't be said enough times but the number one thing you can do to
> ensure that you are getting true performance (not to mention redundancy) is
> to use different physical hardware for each of your nodes. Under no
> circumstances should you have more than one VM (one logical node in a Riak
> cluster) on the same physical hardware. Also, use multiple
> connections/threads/parallelism/whatever on client side and be sure to hit
> all the nodes in the cluster haproxy roundrobin-esque when writing to Riak.
> Everything else is in the noise.
>
> -Alexander Sicular
>
> @siculars
>
> On Feb 21, 2013, at 9:04 PM, Kevin Burton 
> wrote:
>
>
> There each has about 20-30GB of disk space. They each are a VM so I am
> not sure how to specify the CPU. They all seem to be 64 bit Intel
> processors but I could tell you the clock speed. The network is 1Gb
> Ethernet.\*\*\*\*
>
> \*From:\* Sean Carey [mailto:ca...@basho.com]
> \*Sent:\* Thursday, February 21, 2013 7:59 PM
> \*To:\* Kevin Burton
> \*Cc:\* riak-users@lists.basho.com
> \*Subject:\* Re: Tuning a Riak cluster.\*\*\*\*
> \*\* \*\*
> Kevin,\*\*\*\*
> Disk and CPU, and Network?\*\*\*\*
> \*\* \*\*
>
>
> Sean Carey
> @densone\*\*\*\*
>
> On Thursday, February 21, 2013 at 20:31, Kevin Burton wrote:\*\*\*\*
>
> \*\*\*\*
> I have a cluster of 4 machines (4 Linux VM machines each allocated about 1
> Gb of memory â€“ yea I know it isnâ€™t a lot). I would like to get some
> pointers on getting the fastest query time possible given these meager
> resources. Thank you.\*\*\*\*
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\*\*\*\*
> riak-users mailing list\*\*\*\*
> riak-users@lists.basho.com\*\*\*\*
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com\*\*\*\*
>
> \*\* \*\*
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

