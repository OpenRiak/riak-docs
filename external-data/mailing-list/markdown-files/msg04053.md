---
title: "Re: riak-ql"
description: ""
project: community
lastmod: 2011-07-25T06:40:59-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04053"
mailinglist_parent_id: "msg04051"
author_name: "francisco treacy"
project_section: "mailinglistitem"
sent_date: 2011-07-25T06:40:59-07:00
---


It's awesome for ad-hoc querying, at least. An example can better explain.

Consider this:

db.add('users').map('query', '.address .street where
.weight:expr(x<180), .exempt && .acl .state:val("1101") &&
!.expired').run()

as opposed to:

db.add('users').map(function(v) {
 v = Riak.mapValuesJson(v)[0];
 var result = [];
 if ((v.weight < 180 || v.exempt) && v.acl && v.acl.state === '1101'
&& !v.expired) {
 if (v.address) {
 result.push(v.address.street);
 }
 }
 return result;
}).run()


riak-ql is basically adding some query sugar (where, &&) on top of
JSONSelect... which you can try it out here:
http://jsonselect.org/#tryit


2011/7/25 Mark Phillips :
> Hey Francisco,
>
> I for one would be interested in learning some more specifics on how
> you're using it. I suspect others might be, too...
>
> Mark
>
> On Sat, Jul 23, 2011 at 4:40 PM, francisco treacy
>  wrote:
>> Hey all,
>>
>> Just wondering... is anyone using, or have tried out riak-ql?
>> https://github.com/frank06/riak-ql
>>
>> Not because I developed it -- but I'm regularly making use of it and I
>> think it kicks ass. Especially in the repl in combo with riak-js.
>>
>> What do you guys think?
>>
>> Francisco
>>
>> ps: really curious/excited about the upcoming Secondary Indices functionality
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

