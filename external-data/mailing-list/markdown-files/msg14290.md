---
title: "Upgraded riak 1.4.9 is pegging the CPU"
description: ""
project: community
lastmod: 2014-06-05T08:23:14-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14290"
author_name: "Alain Rodriguez"
project_section: "mailinglistitem"
sent_date: 2014-06-05T08:23:14-07:00

---


Hi all,

I upgraded 1 of 9 riak nodes in a cluster last night from 1.4.0 to 1.4.9.
The rest are running 1.4.0.

Ever since I am seeing the upgraded node, riak01 consuming a significantly
larger percent of CPU and the PUT times on it have gotten worse. htop
indicicates one particular process pegging the CPU, and many many more
processes running than I was used to seeing before.

Has anyone seen this before? Do I have to retune something for 1.4.9?

I am attaching htop, cpu and put graphs, and my app.config used across all
servers.

Thanks!

htop:
https://s3.amazonaws.com/uploads.hipchat.com/17604/95038/vEznS9gh6BRRNMR/htop.png
cpu:
https://s3.amazonaws.com/uploads.hipchat.com/17604/95038/21jilAfIwn8L5zC/cpu.png
put:
https://s3.amazonaws.com/uploads.hipchat.com/17604/95038/wX36crPiMeRg8kb/put.png


app.config.erb
Description: Binary data

vm.args.erb
Description: Binary data
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

