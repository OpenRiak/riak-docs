---
title: "adding auth user not valid"
description: ""
project: community
lastmod: 2015-09-14T21:23:06-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16528"
author_name: "Outback Dingo"
project_section: "mailinglistitem"
sent_date: 2015-09-14T21:23:06-07:00

---


seems the docs with auth creds is invalid... or im still broken...



curl -XPOST http://localhost:8080/riak-cs/user \
 -H 'Content-Type: application/json' \
 -d '{"email":"ad...@admin.com", "name":"admin"}'


returns

curl -H 'Content-Type: application/json' -X POST
http://localhost:8080/riak-cs/user --data '{"email":"ad...@admin.com",
"name":"admin"}'

500 Internal Server
ErrorInternal Server Error
=====================

The server
encountered an error while processing this
requestroot@vmbsd:/usr/local/etc/riak-cs
#

and the log shows
2015-09-15 14:20:33.678 [error] <0.9846.4> Webmachine error at path
"/riak-cs/user" :
{error,{error,{badmatch,{error,malformed\_xml}},[{riak\_cs\_s3\_response,xml\_error\_code,1,[{file,"src/riak\_cs\_s3\_response.erl"},{line,335}]},{riak\_cs\_s3\_r
esponse,error\_response,1,[{file,"src/riak\_cs\_s3\_response.erl"},{line,249}]},{riak\_cs\_wm\_user,accept\_json,2,[{file,"src/riak\_cs\_wm\_user.erl"},{line,119}]},{webmachine\_resource,resource\_call,3,[{file,"src/webmachine\_resource.erl"},{line,1
86}]},{webmachine\_resource,do,3,[{file,"src/webmachine\_resource.erl"},{line,142}]},{webmachine\_decision\_core,resource\_call,...},...]}}
in riak\_cs\_s3\_response:xml\_error\_code/1 line 335
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

