---
title: "Re: Is Riak the right software for me?"
description: ""
project: community
lastmod: 2012-03-04T09:14:59-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06863"
mailinglist_parent_id: "msg06861"
author_name: "Shekhar Vemuri"
project_section: "mailinglistitem"
sent_date: 2012-03-04T09:14:59-08:00
---


Are you looking for something like this? 

https://help.basho.com/entries/358219-can-riak-be-used-to-build-a-secure-s3-alternative

Ideally you would run a reverse proxy in front of riak. So riak would be your 
store and the reverse proxy would serve files directly to the client...

Sent from my iPhone.

On Mar 4, 2012, at 6:54 AM, Philip  wrote:

> It looks like these high wait times occur when the request hits a node
> which does not store the requested file. The node will download the
> whole file into memory and after that he will send the data to the
> client. How about directly pipe'ing the download to the output stream
> or (even better) redirect the client to a node with the file so the
> overall network usage decreases?
> 
> Am 4. MÃ¤rz 2012 11:40 schrieb Philip :
>> I am looking for a software to host millions of files in the order of
>> 2-20MB for web serving. A few (~5%) files are "hot" and accessed
>> heavily but most of the files are cold. The system is going to work
>> like a big cache and therefore I need to make sure that the cluster
>> won't go out of space while new files are beeing added. I'd like to
>> store the last time a file was accessed and delete the least accessed
>> files to make sure there is always 20-30% free space in the cluster.
>> This system is currently spread across alot of different standalone
>> servers and serves a few gbit of bandwidth.
>> 
>> Is this possible with riak? Is there anything I should take into 
>> consideration?
>> 
>> I did a little testing with a 4 node cluster. Basically with the
>> default configuration, I've only changed the ip addresses and disabled
>> nagle buffering for http. When I want to access a 20MB file through
>> the REST API it sometimes takes 4-8 seconds until any data is beeing
>> sent to the client. I've made use of the "r" parameter (r=1) and the
>> wait time improved a little bit but is still unacceptable for
>> production use. Is there some config option I am missing here to get
>> the requested file without such high wait times?
>> 
>> Best Regards
>> Philip
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

