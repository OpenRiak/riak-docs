---
title: "Re: Tip for Nginx with Riak CS"
description: ""
project: community
lastmod: 2013-05-06T02:21:39-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11031"
mailinglist_parent_id: "msg11030"
author_name: "Joshua Muzaaya"
project_section: "mailinglistitem"
sent_date: 2013-05-06T02:21:39-07:00
---


Thanks so much for this.


On Mon, May 6, 2013 at 9:03 AM, Toby Corkindale <
toby.corkind...@strategicdata.com.au> wrote:

> Sharing a tip with the list, in case it saves a future person an hour of
> their time..
>
> If you use Nginx to loadbalance to Riak CS, be sure that you set this in
> your site configuration:
>
> proxy\_set\_header Host $http\_host;
>
> This ensures that the HTTP Host: header is passed through as it is
> received, rather than replaced by the IP address or hostname of the
> back-end server that nginx proxied the request to.
>
> Also ensure that the domain name fully matches the one in
> /etc/riak-cs/app.config, and that you have wildcard DNS records configured
> against it.
>
> -Toby
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\*\*\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/\*\*mailman/listinfo/riak-users\_\*\*lists.basho.com
>



-- 
\*Muzaaya Joshua
Systems Engineer
+256774115170\*
\*"Through it all, i have learned to trust in Jesus. To depend upon His Word"
\*
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

