---
title: "Re: Wildcard search issues in Riak Search"
description: ""
project: community
lastmod: 2010-12-21T17:31:39-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01835"
mailinglist_parent_id: "msg01829"
author_name: "Xiaopong Tran"
project_section: "mailinglistitem"
sent_date: 2010-12-21T17:31:39-08:00
---


Rusty, 

Thanks for the reply. Yes I read the wiki, but unless I
misunderstood it, I was under the impression that those
rules apply when the system was "indexing". But it seems
the rules also apply to the query statement.

In my case, all my userid are longer than 3 characters.
Therefore, they should not have been discarded during
the analyze/tokenize process. Only my query criterion
has less than 3 characters, plus a wildcard symbol.
That's why I was expecting it to return some results,
and not an empty result.

Best,

Xiaopong



On Tue, 2010-12-21 at 08:27 -0500, Rusty Klophaus wrote:
> Hi Xiaopong,
> 
> 
> Out of the box, Riak Search uses the "DefaultAnalyzer" which tokenizes
> words as follows:
> 1. Split on spaces and punctuation.
> 2. Lowercases the tokens.
> 3. Strips out common English words (and, the, then, etc.) 
> 4. Remove any tokens smaller than 3 characters.
> You are seeing the effects of #4 in your tests. 
> 
> 
> You can read a little more about the different analyzers and learn how
> to set which analyzer is used in the links below: 
> 
> 
> - http://www.mail-archive.com/riak-users@lists.basho.com/msg01322.html
> - http://wiki.basho.com/display/RIAK/Riak+Search+-+Schema
> 
> 
> Best,
> Rusty
> 
> 
> 
> On Wed, Dec 15, 2010 at 10:40 PM, Xiaopong Tran
>  wrote:
> I have put a few objects in the database, and the object looks
> like this:
> 
> {
> "userid" : "jane",
> "first\_name" : "Jane",
> "last\_name" : "Doe",
> "gender" : "F",
> "joined\_date" : "Wed, 15 Dec 2010 09:15:20 GMT"
> }
> 
> I have 3 users whose id starts with the letter 'j':
> jane, jenny, john.
> 
> When I use wildcard search, such as:
> 
> "userid:j\*"
> 
> it returns an empty result. I did several tests, and it seems
> that there must be at least 3 characters before the wildcard
> in order to get any result. And
> 
> "userid:ja\*"
> 
> also returns empty.
> 
> Is this normal? In Lucene, as long as the wildcard is not the
> first character in the query statement, it should work.
> 
> Best
> 
> Xiaopong
> 
> 
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> 
> 



\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

