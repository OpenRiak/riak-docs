---
title: "Using /etc/hosts entry and not ip in configuration files .."
description: ""
project: community
lastmod: 2013-09-19T15:52:15-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12326"
author_name: "Mike Nathe"
project_section: "mailinglistitem"
sent_date: 2013-09-19T15:52:15-07:00

---


hi.

we are trying to run Riak in the Amazon cloud (using OpsWorks).
With every restart of the servers the ip addresses change so using an entry
in the /etc/hosts instead of an IP looks like a great idea.

Google's answer is:
http://lists.basho.com/pipermail/riak-users\_lists.basho.com/2011-December/006912.html

Just to make sure: Riak only supports IP addresses and not DNS names in the
config files.
Though in your docs it still says:
"Riak identifies other machines in the ring using Erlang identifiers
(, ex: riak@10.9.8.7)."


The error logged when changing our config from something like 172.31.41.138
to riaknode2-ext is:

2013-09-19 21:49:53.383 [error] <0.113.0> Supervisor riak\_core\_sup had
child "http\_riaknode2-ext:8098" started with
webmachine\_mochiweb:start([{name,"http\_riaknode2-ext:8098"},{ip,"riaknode2-ext"},{port,8098},{nodelay,true},{log\_dir,"log"},...])
at undefined exit with reason
{'EXIT',{{badmatch,{error,einval}},[{mochiweb\_socket\_server,parse\_options,2},{mochiweb\_socket\_server,start,1},{supervisor,do\_start\_child,2},{supervisor,start\_children,3},{supervisor,init\_children,2},{gen\_server,init\_it,6},{proc\_lib,init\_p\_do\_apply,3}]}}
in context start\_error

Thanks a bunch.

Have a great day.
Michael
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

