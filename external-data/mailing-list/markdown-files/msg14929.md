---
title: "Small bug in riak/riak-cs debian init script"
description: ""
project: community
lastmod: 2014-09-26T04:52:15-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14929"
author_name: "Anton Khalikov"
project_section: "mailinglistitem"
sent_date: 2014-09-26T04:52:15-07:00

---



Hello Basho guys

I think we have found a small bug in riak/riak-cs debian init scripts 
(/etc/init.d/riak{,-cs}). When used in CRON, ie for restarting riak 
process on a schedule, init scripts fail because they don't set PATH 
variable to recommended value. Without setting proper PATH, init script 
is unable to find start-stop-daemon.


Recommended value for PATH for debian init scripts can be found in 
/etc/init.d/ssh and many other debian init scripts and looks like:


export PATH="${PATH:+$PATH:}/usr/sbin:/sbin"
or
PATH=/sbin:/bin:/usr/sbin:/usr/bin

--
Best regards
Anton Khalikov

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

