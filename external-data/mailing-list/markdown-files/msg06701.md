---
title: "MapReduceResult to JSON format"
description: ""
project: community
lastmod: 2012-02-22T22:29:07-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06701"
author_name: "Rajat Mathur"
project_section: "mailinglistitem"
sent_date: 2012-02-22T22:29:07-08:00

---


On running following query

 IntIndex intIndex;
 intIndex=IntIndex.named("points");
 IndexQuery iQuery = new IntRangeQuery(intIndex,"fkUsers",1100,1300);
 MapReduceResult result=client.mapReduce(iQuery).addMapPhase(new
NamedErlangFunction("riak\_kv\_mapreduce", "map\_object\_value")).execute();
-----> Collection lists=result.getResult(List.class);
 Iterator iterator = lists.iterator();
 while(iterator.hasNext()){
 String allData = iterator.next().toString();
 JSONObject jsonObject = new JSONObject(allData);
 Iterator it=jsonObject.keys();
 while (it.hasNext()){
 String key=it.next().toString();
 log("Key : "+key+" Value : "+ jsonObject.get(key));
 }
 }

 The above code is giving :

com.basho.riak.client.convert.ConversionException:
org.codehaus.jackson.map.JsonMappingException: Can not deserialize instance
of java.util.ArrayList out of VALUE\_STRING token

Am I doing anymistake in assuming what,

-----> Collection lists=result.getResult(List.class);

the getResult method inthe above code is returning ?
-- 
\*Rajat Mathur
B.Tech (IT) Final Year
IIIT Allahabad

09945990291

Find me @ Facebook 
Follow me @ Twitter \*
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

