---
title: "Re: Question about counters"
description: ""
project: community
lastmod: 2014-07-01T06:34:18-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14435"
mailinglist_parent_id: "msg14431"
author_name: "Alex De la rosa"
project_section: "mailinglistitem"
sent_date: 2014-07-01T06:34:18-07:00
---


I actually have the latest version available (2.0.3), I got it like this:

easy\_install
https://pypi.python.org/packages/2.7/r/riak/riak-2.0.3-py2.7.egg

If I clone the GIT repository, may I have problems as I have the
easy\_install package already? would it conflict somehow?

Cheers,
Alex


On Tue, Jul 1, 2014 at 3:23 PM, Luke Bakken  wrote:

> Hi Alex,
>
> Search in Riak 2.0 does require a JVM to be installed as you found.
>
> create\_search\_index is part of the master branch of the Python client:
>
> lbakken ~/Projects/basho/riak-python-client (master=)
> $ git grep create\_search\_index
> riak/client/operations.py:461: def create\_search\_index(self, transport,
> index, schema=None, n\_val=None):
>
> Could you make a clone of the git repository and use the code from there?
>
> https://github.com/basho/riak-python-client
>
> --
> Luke Bakken
> CSE
> lbak...@basho.com
>
>
> On Tue, Jul 1, 2014 at 2:10 AM, Alex De la rosa 
> wrote:
>
>> I found out on http://docs.basho.com/riak/2.0.0beta1/dev/using/search
>> that in Riak 2.0 additional steps are needed... i fixed my code as follows,
>> but still crashing:
>>
>> -----+-----+-----+-----+-----+-----+-----+-----+-----+-----+
>> -----+-----+-----+-----+-----
>> import riak
>> client = riak.RiakClient(protocol='pbc',
>> nodes=[{'host':'127.0.0.1','http\_port':8098,'pb\_port':8087}])
>> client.create\_search\_index('men') # NEW: Creating a search index
>> bucket = client.bucket('accounts')
>> bucket.enable\_search()
>> bucket.set\_property('search\_index', 'men') # NEW: Setting the search
>> index to the bucket
>> key = bucket.new('alex', data={"username":"Alex","age":25,"sex":"male"},
>> content\_type='application/json')
>> key.store()
>> print bucket.search('sex=male')
>>
>> -----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----
>>
>> this time seems the Python client is not fully updated again and missing
>> functionality (like "counters"):
>>
>>
>> -----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----
>> Traceback (most recent call last):
>> File "test.py", line 3, in 
>> client.create\_search\_index('men')
>> AttributeError: 'RiakClient' object has no attribute 'create\_search\_index'
>>
>> -----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+-----
>>
>> Is a problem of the Python client? Or there is something wrong on my
>> code? When will it be a Python client update solving all these issues? is a
>> bit frustrating wanting to try the features and see you can not do it
>> because the client is not fully operational.
>>
>> Cheers,
>> Alex
>>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

