---
title: "force foreign node to leave?"
description: ""
project: community
lastmod: 2010-12-20T00:52:55-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01822"
author_name: "Rudy X. Desjardins"
project_section: "mailinglistitem"
sent_date: 2010-12-20T00:52:55-08:00

---


Hello Riak devs (and users)... is there any way to remove an 'old'
node from a ring, without issuing 'riak-admin leave' on the node
itself? I have a cluster running on AWS and one of the machines needed
to reboot, and the cluster was pointed to it's (volatile) dynamic AWS
1918 ip address, vs a public ip/dns name... so, now the node is back
up and I've re-added it after doing a 'riak-admin reip ... ...' on it,
but the other nodes still see the old node name/ip as a ring member.

Ie: ri...@11.22.33.44 used to be a member, it was re-booted and now
has ip 11.22.33.55... so I've re-ip'ed it and re-added it to the
cluster, and it's up and running fine, but now I have both the new and
old node name as ring members and no way of re-acquiring the old ip...
ri...@11.22.33.44 \*and\* ri...@11.22.33.55 are both listed as ring
members.

What's the best approach/practice here? Is it safe/typical to just
leave the 'dead' ring member listed, or is there another way to get
rid of it?

Thanks in advance...

-- 
Rudy X. Desjardins
pgp: 96FFA628

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

