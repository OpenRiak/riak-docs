---
title: "Re: A question about Riak search 2 delete values from index"
description: ""
project: community
lastmod: 2014-08-26T16:18:37-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14797"
mailinglist_parent_id: "msg14796"
author_name: "Kevin Chan"
project_section: "mailinglistitem"
sent_date: 2014-08-26T16:18:37-07:00
---


Thank you, Luke! I inserted values followed examples in
http://docs.basho.com/riak/2.0.0/dev/using/search/

curl -XPUT "$RIAK\_HOST/types/animals/buckets/cats/keys/liono" \ -H
'content-type:application/json' \ -d'{"name\_s":"Lion-o", "age\_i":30,
"leader\_b":true}'

However, it is not clear to remove this key. I tried this:

curl -v -X DELETE http://127.0.0.1:8098/buckets/cats/keys/liono

< HTTP/1.1 404 Object Not Found
\* Server MochiWeb/1.1 WebMachine/1.10.5 (jokes are better explained) is not
blacklisted
< Server: MochiWeb/1.1 WebMachine/1.10.5 (jokes are better explained)
< Date: Tue, 26 Aug 2014 23:14:40 GMT
< Content-Type: text/plain
< Content-Length: 10




On Tue, Aug 26, 2014 at 3:44 PM, Luke Bakken  wrote:

> Hi Kevin,
>
> The top of the document you reference has this disclaimer:
>
> "This document refers to the now deprecated Riak Search."
>
> Please use this document as a reference (you link to it earlier in your
> email):
>
> http://docs.basho.com/riak/2.0.0/dev/using/search/
>
> Finally, if you inserted objects using Riak's Key/Value operations,
> you should delete them that way as well. Have you tried that?
>
> --
> Luke Bakken
> CSE
> lbak...@basho.com
>
>
> On Tue, Aug 26, 2014 at 3:30 PM, Kevin Chan  wrote:
> > Hi there,
> >
> > I am trying riak search 2, and have followed instructions on
> > http://docs.basho.com/riak/2.0.0/dev/using/search/
> > to create an index and query an index without any problems.
> >
> > However, I could not delete values from the index by either i) using the
> > solr interface, or ii) search-cmd, I followed instructions on
> > http://docs.basho.com/riak/2.0.0/dev/references/search-indexing/
> >
> > Could you please help?
> >
> >
> > The error from the solr interface is as follows:
> >
> >
> > curl -XPOST http://localhost:8098/solr/famous/update -H
> > 'content-type:text/xml' --data-binary @delete.xml
> >
> > 404 Not FoundNot
> Found
===========

The
> > requested document was not found on this
> > server.

---

mochiweb+webmachine web
> > server


> >
> >
> >
> > The following is the error by search-cmd:
> >
> > search-cmd show-schema famous
> > \*\* The search-cmd tool is for a deprecated version of Riak Search.
> > \*\* Please upgrade to the new version of Riak Search.
> >
> > %% Schema for 'famous'
> > RPC to 'riak@127.0.0.1' failed: {'EXIT',
> > {noproc,
> > {gen\_server,call,
> > [riak\_search\_config,
> > {get\_raw\_schema,<<"famous">>},
> > infinity]}}}
> >
> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > riak-users mailing list
> > riak-users@lists.basho.com
> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> >
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

