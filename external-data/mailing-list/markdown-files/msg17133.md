---
title: "Re: 2i indexes and keys request inconsistencies"
description: ""
project: community
lastmod: 2016-03-08T11:23:19-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17133"
mailinglist_parent_id: "msg17131"
author_name: "Matthew Von-Maszewski"
project_section: "mailinglistitem"
sent_date: 2016-03-08T11:23:19-08:00
---


Is the database being actively modified during your queries? 

Queries can lock down a "snapshot" within leveldb. The query operation can 
return keys that existed at the time of the snapshot, but have been 
subsequently deleted by normal operations.

In such a case, the query is correct in giving you the key and the 404 
afterward is also correct. They represent two different versions of the 
database over time.

Not sure if this is a valid scenario for you or not.

Matthew


> On Mar 8, 2016, at 1:22 PM, Alexander Popov  wrote:
> 
> Noticied that sometimes 2i query and all keys requesrs returns extra records 
> ~2% of all records.
> 
> When call this items by get request after, it returns 404 and after that key 
> stops to returns in 2i and keys requests.
> 
> Does it normally or my database is corrupted?
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

