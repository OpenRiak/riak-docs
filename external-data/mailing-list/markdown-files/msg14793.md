---
title: "Re: Riak ring cached anywhere?"
description: ""
project: community
lastmod: 2014-08-22T20:15:40-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14793"
mailinglist_parent_id: "msg14792"
author_name: "Jordan West"
project_section: "mailinglistitem"
sent_date: 2014-08-22T20:15:40-07:00
---


Hi Sebastian,

Is the node still running? If so, not only is the ring cached in memory,
Riak will rewrite it to disk again if its changed. If you attach to the
Riak node in question and run the following from the erlang shell provided
(including the period!) you should find the ringfile written back (you will
need to ensure /var/lib/riak/ring directory exists on the node first):

riak\_core\_ring\_manager:ring\_trans(fun(R, \_) -> {new\_ring, R} end, []).

Cheers,
Jordan


On Fri, Aug 22, 2014 at 1:50 PM, Sebastian Wittenkamp <
swittenk...@vmware.com> wrote:

> Hi all, if I nuke /var/lib/riak/\* - is there anywhere else on the system
> that contains ring data?
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

