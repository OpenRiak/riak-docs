---
title: "What is this...?"
description: ""
project: community
lastmod: 2012-01-21T08:43:07-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06355"
author_name: "Mike Oxford"
project_section: "mailinglistitem"
sent_date: 2012-01-21T08:43:07-08:00

---


3 node cluster of 1.0.2, level\_db backend, pb interface. Build up a
store of 9 connections (3 to each node) and pull one out randomly.

--snip
62> 
riakc\_pb\_socket:list\_keys(gen\_server:call(forum\_store:get\_random\_pid(alliance),
get\_connector\_pid), <<"alliance\_overview">>
{ok,[]}

63> 
riakc\_pb\_socket:list\_keys(gen\_server:call(forum\_store:get\_random\_pid(alliance),
get\_connector\_pid), <<"alliance\_overview">>).
{ok,[]}

64> 
riakc\_pb\_socket:list\_keys(gen\_server:call(forum\_store:get\_random\_pid(alliance),
get\_connector\_pid), "alliance\_overview").
{ok,[]}

65> 
riakc\_pb\_socket:list\_keys(gen\_server:call(forum\_store:get\_random\_pid(alliance),
get\_connector\_pid), "alliance\_overview").
=ERROR REPORT==== 21-Jan-2012::08:23:11 ===
\*\* Generic server <0.24647.5> terminating
\*\* Last message in was {tcp,#Port<0.5820>,[255|<<"unknown\_msg">>]}
\*\* When Server state == {state,"127.0.0.1",2010,false,false,#Port<0.5820>,
 {request,#Ref<0.0.4.159143>,
 {rpblistkeysreq,"alliance\_overview"},
 undefined,
 {106931976,<0.25063.5>},
 60000,#Ref<0.0.4.159144>},
 {[],[]},
 1,[],infinity,100}
\*\* Reason for termination ==
\*\* {function\_clause,[{riakclient\_pb,decode,[undefined,<<"unknown\_msg">>]},
 {riakc\_pb\_socket,handle\_info,2},
 {gen\_server,handle\_msg,5},
 {proc\_lib,init\_p\_do\_apply,3}]}
{error,{timeout,[]}}

66> 
riakc\_pb\_socket:list\_keys(gen\_server:call(forum\_store:get\_random\_pid(alliance),
get\_connector\_pid), "alliance\_overview").
{ok,[]}
--end snip

Riak console spits out the following at the same time...

--snip
nodes().08:23:11.154 [info] Handoff receiver for partition undefined
exited after processing 0 objects
--end snip

Error condition does not seem to follow any specific node and the
connections die when the error is thrown so its constantly building
new ones.

TIA.

-mox

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

