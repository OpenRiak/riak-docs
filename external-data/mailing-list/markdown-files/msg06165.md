---
title: "riak-erlang-client write, riak-java-client read problem"
description: ""
project: community
lastmod: 2012-01-07T09:16:45-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06165"
author_name: "Marcel MÃ¼ller"
project_section: "mailinglistitem"
sent_date: 2012-01-07T09:16:45-08:00

---


Hi Guys, 

it looks like we have a conversation problem between both APIs. 

First i wrote with riak-erlang-client to the riak:

 {ok,Pid} = riakc\_pb\_socket:start\_link("127.0.0.1", 8087),
 Tuple = "{\"id\",22}",
 Obj = riakc\_obj:new("mm","1",Tuple),
 riakc\_pb\_socket:put(Pid,Obj),

After then we try to read from risk-java-client:

 RiakClient httpClient = new RiakClient("http://10.10.10.61:8098/riak");
 IRiakClient client = RiakFactory.httpClient(httpClient);
 Bucket b = client.fetchBucket("mm").execute();
 IRiakObject fetched = b.fetch("1").execute();
 String decodedString = new String(fetched.getValue());
 System.out.println(decodedString);

I convert the Object to an HexString: 83 6B 00 05 7B 22 6E 22 7D

My question is: 

1. What are the first 4 bytes ? 
2. how can i receive a string with out the 4 bytes ? 
3. How can i convert the string into a JSON Object ? 

Thanks for your help 

Best 
Marcel 

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

