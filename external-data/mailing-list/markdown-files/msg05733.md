---
title: "Riak node crash"
description: ""
project: community
lastmod: 2011-11-24T09:25:57-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05733"
author_name: "Nitish Sharma"
project_section: "mailinglistitem"
sent_date: 2011-11-24T09:25:57-08:00

---


Hi,
I have a Riak cluster setup consisting of 3 nodes. While running a simple
HTTP query to list the buckets or list the keys in a bucket, one of nodes
crashes. I've tried variations of query and the node crashes every time.
Following is the console.log error:

2011-11-24 18:16:29.878 [error] <0.3455.0> CRASH REPORT Process <0.3455.0>
with 0 neighbours crashed with reason: no case clause matching ok in
riak\_core\_vnode:init/1.
2011-11-24 18:16:29.878 [error]
<0.3441.0>@riak\_core\_handoff\_receiver:handle\_info:82 Handoff receiver for
partition undefined exited abnormally after processing 0 objects:
{{{badmatch,{error,{{case\_clause,ok},[{riak\_core\_vnode,init,1},{gen\_fsm,init\_it,6},{proc\_lib,init\_p\_do\_apply,3}]}}},[{riak\_core\_vnode\_master,get\_vnode,2},{riak\_core\_vnode\_master,handle\_call,3},{gen\_server,handle\_msg,5},{proc\_lib,init\_p\_do\_apply,3}]},{gen\_server,call,[riak\_kv\_vnode\_master,{756441277134158736960891563808232422282855710720,get\_vnode},infinity]}}
2011-11-24 18:16:29.885 [info] <0.557.0>@riak\_kv\_js\_vm:terminate:228
Spidermonkey VM (pool: riak\_kv\_js\_hook) host stopping (<0.557.0>)
2011-11-24 18:16:31.906 [error] <0.96.0> Supervisor riak\_core\_vnode\_sup had
child undefined started with {riak\_core\_vnode,start\_link,undefined} at
<0.3455.0> exit with reason no case clause matching ok in
riak\_core\_vnode:init/1 in context child\_terminated
2011-11-24 18:16:34.995 [error] <0.3426.0> gen\_server riak\_kv\_vnode\_master
terminated with reason: no match of right hand value
{error,{{case\_clause,ok},[{riak\_core\_vnode,init,1},{gen\_fsm,init\_it,6},{proc\_lib,init\_p\_do\_apply,3}]}}
in riak\_core\_vnode\_master:get\_vnode/22011-11-24 18:16:44.310 [error]
<0.3426.0> CRASH REPORT Process riak\_kv\_vnode\_master with 0 neighbours
crashed with reason: no match of right hand value
{error,{{case\_clause,ok},[{riak\_core\_vnode,init,1},{gen\_fsm,init\_it,6},{proc\_lib,init\_p\_do\_apply,3}]}}
in riak\_core\_vnode\_master:get\_vnode/2
2011-11-24 18:16:47.202 [error] <0.178.0> Supervisor riak\_kv\_sup had child
riak\_kv\_vnode\_master started with
riak\_core\_vnode\_master:start\_link(riak\_kv\_vnode, riak\_kv\_legacy\_vnode) at
<0.3426.0> exit with reason no match of right hand value
{error,{{case\_clause,ok},[{riak\_core\_vnode,init,1},{gen\_fsm,init\_it,6},{proc\_lib,init\_p\_do\_apply,3}]}}
in riak\_core\_vnode\_master:get\_vnode/2 in context child\_terminated
2011-11-24 18:16:49.498 [error] <0.2762.0> gen\_fsm <0.2762.0> in state
active terminated with reason: {timeout,{gen\_server,call,[<0.2763.0>,stop]}}
2011-11-24 18:16:49.719 [error] <0.2762.0> CRASH REPORT Process <0.2762.0>
with 0 neighbours crashed with reason:
{timeout,{gen\_server,call,[<0.2763.0>,stop]}}

Any Suggestions?

Cheers
Nitish
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

