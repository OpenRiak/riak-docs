---
title: "Re: Consistency in riak/luwak"
description: ""
project: community
lastmod: 2011-11-08T06:36:52-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05473"
mailinglist_parent_id: "msg05469"
author_name: "Jeremiah Peschka"
project_section: "mailinglistitem"
sent_date: 2011-11-08T06:36:52-08:00
---


A couple of things:

I may be wrong on this (no being specifically familiar with Luwak's internals), 
but when using RIak there's no guarantee that the data is actually written to 
the node you connect to. If you connect to Node3, the data may be written to 
Node6, Node9, and Node1.

As far as the failures, you're most likely seeing a Luwak error because it's 
still replicating data across the ring. I have no idea how you're actually 
going to get around this because the Luwak API doesn't seem to offer a way to 
tune eventual consistency and say that a read is good if only 1 node responds.

The question I'd ask is "What is the likelihood that a user will immediately 
try to access an object that they have just uploaded from their own device?"


---
Jeremiah Peschka - Founder, Brent Ozar PLF, LLC
Microsoft SQL Server MVP

On Nov 8, 2011, at 12:11 AM, vuleetu wrote:

> Hi, guys
> 
> I am using luwak as dfs, right now we have couple riak nodes like 10 
> there. Here is the problem we encountered, after write file success, the next 
> read operation always fail. it happens when that is a little bit big file 
> size. is there any way to get rid of that. because we want the user can get 
> that file which is uploaded by him real time. For example, write file to riak 
> node 3 should always guarantee the next read operation on that file to riak 
> node 3 should be success.
> 
> thanks
> 
> Fisher
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

