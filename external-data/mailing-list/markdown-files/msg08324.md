---
title: "Riak Search. Indexing special chars. Internal Server Error."
description: ""
project: community
lastmod: 2012-08-20T03:24:49-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08324"
author_name: "Vladimir Shapovalov"
project_section: "mailinglistitem"
sent_date: 2012-08-20T03:24:49-07:00

---


Hi all,

I'm trying to put some data in a bucket, witch has indexing enabled.
One key value has a special char ÃŸ (geman
S-sharp).
It is UTF-8 encoded.

The errror message i get:
---------------------------------------------------------------------------------------------

Internal Server ErrorThe server encountered an error while processing
this request:

{error,
 {error,badarg,
 [{erlang,iolist\_to\_binary,
 [{hook\_crashed,
 {riak\_search\_kv\_hook,precommit,error,function\_clause}}]},
 {wrq,append\_to\_response\_body,2},
 {riak\_kv\_wm\_object,handle\_common\_error,3},
 {webmachine\_resource,resource\_call,3},
 {webmachine\_resource,do,3},
 {webmachine\_decision\_core,resource\_call,1},
 {webmachine\_decision\_core,accept\_helper,0},
 {webmachine\_decision\_core,decision,1}]}}

------------------------------
mochiweb+webmachine web server

---------------------------------------------------------------------------------------------

Could anyone tell me please, how to store data special chars included correctly?

How to deal with non ASCII chars in Riak, say coming from Russian or
German languages?

And why it causes riak\_search\_kv\_hook to crash?


Thanks in Advance!

Vladimir
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

