---
title: "Re: 330 Errors"
description: ""
project: community
lastmod: 2010-12-05T19:27:23-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01727"
mailinglist_parent_id: "msg01726"
author_name: "David Smith"
project_section: "mailinglistitem"
sent_date: 2010-12-05T19:27:23-08:00
---


This was discussed earlier today:

http://lists.basho.com/pipermail/riak-users\_lists.basho.com/2010-December/002602.html

D.

On Sun, Dec 5, 2010 at 7:26 PM, Jeremiah Peschka
 wrote:
> Just a quick update - this works beautifully in 0.13.0, so I'm even more
> confused than ever before. I realize, too, that you'd probably like to see
> the output of riak-admin status:
> 1-minute stats for 'd...@127.0.0.1'
> -------------------------------------------
> vnode gets : 0
> vnode\_puts : 0
> read\_repairs : 0
> vnode\_gets\_total : 0
> vnode\_puts\_total : 0
> node\_gets : 0
> node\_gets\_total : 0
> node\_get\_fsm\_time\_mean : undefined
> node\_get\_fsm\_time\_median : undefined
> node\_get\_fsm\_time\_95 : undefined
> node\_get\_fsm\_time\_99 : undefined
> node\_get\_fsm\_time\_100 : undefined
> node\_puts : 0
> node\_puts\_total : 0
> node\_put\_fsm\_time\_mean : undefined
> node\_put\_fsm\_time\_median : undefined
> node\_put\_fsm\_time\_95 : undefined
> node\_put\_fsm\_time\_99 : undefined
> node\_put\_fsm\_time\_100 : undefined
> read\_repairs\_total : 0
> cpu\_nprocs : 116
> cpu\_avg1 : 108
> cpu\_avg5 : 95
> cpu\_avg15 : 90
> mem\_total : 6809560000
> mem\_allocated : 4084760000
> disk : [{"/",249723184,35},
>         {"/Volumes/InternalStorage",379584512,64},
>         {"/Volumes/XStorage",488050672,61}]
> nodename : 'd...@127.0.0.1'
> connected\_nodes : []
> sys\_driver\_version : <<"1.5">>
> sys\_global\_heaps\_size : 0
> sys\_heap\_type : private
> sys\_logical\_processors : 4
> sys\_otp\_release : <<"R14B">>
> sys\_process\_count : 169
> sys\_smp\_support : true
> sys\_system\_version : <<"Erlang R14B (erts-5.8.1) [source] [64-bit] [smp:4:4]
> [rq:4] [async-threads:64] [hipe] [kernel-poll:true]">>
> sys\_system\_architecture : <<"i386-apple-darwin10.5.0">>
> sys\_threads\_enabled : true
> sys\_thread\_pool\_size : 64
> sys\_wordsize : 8
> ring\_members : ['d...@127.0.0.1','d...@127.0.0.1','d...@127.0.0.1']
> ring\_num\_partitions : 64
> ring\_ownership :
> <<"[{'d...@127.0.0.1',21},{'d...@127.0.0.1',21},{'d...@127.0.0.1',22}]">>
> ring\_creation\_size : 64
> storage\_backend : riak\_kv\_bitcask\_backend
> pbc\_connects\_total : 0
> pbc\_connects : 0
> pbc\_active : 0
> riak\_err\_version : <<"0.1.0">>
> runtime\_tools\_version : <<"1.8.4.1">>
> luwak\_version : <<"1.0">>
> skerl\_version : <<"0.1">>
> riak\_kv\_version : <<"0.13.0">>
> bitcask\_version : <<"1.1.4">>
> riak\_core\_version : <<"0.13.0">>
> luke\_version : <<"0.2.2">>
> erlang\_js\_version : <<"0.4.1">>
> mochiweb\_version : <<"1.7.1">>
> webmachine\_version : <<"1.7.3">>
> crypto\_version : <<"2.0.1">>
> os\_mon\_version : <<"2.2.5">>
> sasl\_version : <<"2.1.9.2">>
> stdlib\_version : <<"1.17.1">>
> kernel\_version : <<"2.14.1">>
> executing\_mappers : 0
> Jeremiah Peschka
> Microsoft SQL Server MVP
> MCITP: Database Developer, DBA
>
>
> On Sun, Dec 5, 2010 at 9:09 PM, Jeremiah Peschka
>  wrote:
>>
>> I recently switched from 0.12 to the latest and greatest from github and
>> I'm running into an HTTP 330 error when I attempt to read from a bucket. I
>> uploaded this picture using `curl -X PUT
>> HTTP://127.0.0.1:8091/riak/images/1.jpg -H "Content-type: image/jpeg"
>> --data-binary @nixon.jpg`
>> when I go to view the image, I get "Error 330
>> (net::ERR\_CONTENT\_DECODING\_FAILED): Unknown error."
>> When I use `riak attach` to take a look at what's going on, I can see that
>> the image is in there:
>> (d...@127.0.0.1)5> C:get(<<"images">>, <<"1.jpg">>, 1).
>> {ok,{r\_object,<<"images">>,<<"1.jpg">>,
>>               [{r\_content,{dict,5,16,16,8,80,48,
>>                                 {[],[],[],[],[],[],[],[],[],[],[],[],...},
>>                                 {{[],[],
>>                                   [[<<"Links">>]],
>>                                   [],[],
>>                                   [[<<"X-Riak-T"...>>,49,75|...]],
>>                                   [],[],[],[],...}}},
>>
>>  <<255,216,255,224,0,16,74,70,73,70,0,1,2,1,0,72,0,
>>                             72,0,...>>}],
>>               [{<<5,249,52,160>>,{1,63458817684}},
>>                {<<131,98,5,150,94,114>>,{1,63458818215}},
>>                {<<5,248,163,2>>,{1,63458818215}},
>>                {<<4,211,21,247>>,{1,63458818516}},
>>                {<<131,98,7,237,200,144>>,{1,63458818532}},
>>                {<<131,98,4,225,148,161>>,{1,63458818532}},
>>                {<<131,98,0,18,233,187>>,{1,63458818532}},
>>                {<<5,113,110,142>>,{1,63458819383}},
>>                {<<131,98,5,43,155,126>>,{1,63458819383}}],
>>               {dict,1,16,16,8,80,48,
>>                     {[],[],[],[],[],[],[],[],[],[],[],[],[],...},
>>                     {{[],[],[],[],[],[],[],[],[],[],[],...}}},
>>               undefined}}
>>
>> However, I end up with this error streaming across the console:
>> =ERROR REPORT==== 5-Dec-2010::21:04:25 ===
>> webmachine error: path="/riak/images/1.jpg"
>> [{webmachine\_util,escape\_quotes,
>>      [{error,
>>           {error,badarg,
>>               [{dict,fetch,
>>                    [<<"X-Riak-VTag">>,
>>                     {dict,5,16,16,8,80,48,
>>                         {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
>>                         {{[],[],
>>                           [[<<"Links">>]],
>>                           [],[],
>>
>>  [[<<"X-Riak-Tag">>,49,75,109,90,107,122,79,79,120,
>>                             86,102,56,75,110,53,68,80,82,68,70,101,49]],
>>                           [],[],[],[],
>>
>>  [[<<"content-type">>,105,109,97,103,101,47,106,112,
>>                             101,103]],
>>                           [],[],
>>
>>  [[<<"X-Riak-Last-Modified">>|{1291,600183,525348}]],
>>                           [],
>>                           [[<<"X-Riak-Meta">>]]}}}]},
>>                {riak\_kv\_wm\_raw,generate\_etag,2},
>>                {webmachine\_resource,resource\_call,3},
>>                {webmachine\_resource,do,3},
>>                {webmachine\_decision\_core,resource\_call,1},
>>                {webmachine\_decision\_core,decision,1},
>>                {webmachine\_decision\_core,handle\_request,2},
>>                {webmachine\_mochiweb,loop,1}]}},
>>       "\""]},
>>  {webmachine\_decision\_core,decision,1},
>>  {webmachine\_decision\_core,handle\_request,2},
>>  {webmachine\_mochiweb,loop,1},
>>  {mochiweb\_http,headers,5},
>>  {proc\_lib,init\_p\_do\_apply,3}]
>>
>>
>>
>> Jeremiah Peschka
>> Microsoft SQL Server MVP
>> MCITP: Database Developer, DBA
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

