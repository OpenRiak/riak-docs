---
title: "Riak Disk Usage"
description: ""
project: community
lastmod: 2012-04-17T06:20:52-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07212"
author_name: "Fábio Sato"
project_section: "mailinglistitem"
sent_date: 2012-04-17T06:20:52-07:00

---


Hello all,

I've started using Riak as a data store for images and documents and I'm
having trouble understanding its disk usage behaviour.

We developed a web system and unfortunately it went into production without
the appropriate hardware infrastructure, and we are currently running only
one instance of Riak right now (I know this is dead wrong but I'm waiting
for more hardware).

Currently we have like 100 keys and update their content every 5 minutes.
Every image has approximately 300kB so I would expect a disk usage around
 300MB-1GB and also that riak would keep it constant. But every 2 weeks we
get a full filesystem (10GB) and have to restart Riak (or temporally add
another instance) to make it release space.

To me it seems like it is maintaining the previous values for each key like
a versioning system, but can't confirm that based on what I've read on the
documentation.

Could someone give me a hint why the disk space grows even if I'm not
adding no new keys?

Any feedback would be appreciated.

Thanks!
-- 
Fábio Sato
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

