---
title: "git://github.com/basho/riak.git - master branch - 2 questions"
description: ""
project: community
lastmod: 2011-08-09T03:54:56-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04277"
author_name: "Joseph Wayne Norton"
project_section: "mailinglistitem"
sent_date: 2011-08-09T03:54:56-07:00

---




Hello.

I recently built and installed riak from source using the master branch 
and R14B03. I have 2 questions regarding the riak repository.


Q1 - For a new installation, is there a missing mkdir for the data dir?
 OR is somewhere else the data directory being created before the 
automatic creation of the ssl\_distribution.args\_file file?


Q2 - I'm curious to learn of the reasons for keeping the pipe\_dir 
underneath the /tmp/ directory by default. I find it odd that it is not 
underneath the RUNNER\_BASE\_DIR like other directories.



thanks,

- Joe N.




diff --git a/rel/files/riak b/rel/files/riak
index 4fa6830..46d8210 100755
--- a/rel/files/riak
+++ b/rel/files/riak
@@ -37,6 +37,9 @@ cd $RUNNER\_BASE\_DIR
 # Make sure log directory exists
 mkdir -p $RUNNER\_LOG\_DIR

+# Make sure data directory exists
+mkdir -p {{platform\_data\_dir}}
+
 # Extract the target node name from node.args
 NAME\_ARG=`grep '\-[s]\*name' $RUNNER\_ETC\_DIR/vm.args`
 if [ -z "$NAME\_ARG" ]; then



diff --git a/rel/vars.config b/rel/vars.config
index 3be32f0..162ff70 100644
--- a/rel/vars.config
+++ b/rel/vars.config
@@ -46,5 +46,5 @@
 {runner\_base\_dir, "${RUNNER\_SCRIPT\_DIR%/\*}"}.
 {runner\_etc\_dir, "$RUNNER\_BASE\_DIR/etc"}.
 {runner\_log\_dir, "$RUNNER\_BASE\_DIR/log"}.
-{pipe\_dir, "/tmp/$RUNNER\_BASE\_DIR/"}.
+{pipe\_dir, "$RUNNER\_BASE\_DIR/tmp/"}.
 {runner\_user, ""}.


--
nor...@alum.mit.edu

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

