---
title: "Re: Riak search - Possible to update one specific field of given doc?"
description: ""
project: community
lastmod: 2011-10-26T08:18:36-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05320"
mailinglist_parent_id: "msg05313"
author_name: "Rusty Klophaus"
project_section: "mailinglistitem"
sent_date: 2011-10-26T08:18:36-07:00
---


Hi Alex,

Good question. Internally, Riak treats the document as one large blob. There
is currently no way to update only a single field independently of the other
fields.

Best,
Rusty

On Tue, Oct 25, 2011 at 3:39 PM, Alex Dong  wrote:

> Hi list,
>
> We're evaluating the riak search to see whether we can replace our solr
> cluster with riak search. I'm wondering whether it's possible to update
> only specified field for a given document.
>
> Here is the use case. For each document, we have a field called "users"
> which is a whitespace separated list of integer user ids. The doc might look
> like this:
>
> {
> doc\_id: 182,
> title: 'Riak search explained',
> url: '
> http://basho.com/blog/technical/2011/05/09/Riak-Search-Explained/',
> users: 1 23 32 1998
> }
>
> This enables us to do a global search as well as scoped searches by
> specifying only documents coming out from one or a few users. Like this
>
> /?q="Riak+search"
> /?q="Riak+search"+users:1
> /?q="Riak+search"+users:1+users:1998
>
> In solr, one has to reindex the whole document everytime a new user needs
> to be added to it. This has brought some unnecessary burden to the indexer
> for super popular documents.
>
> Now with Riak's search infrastructure, I'm wondering how easy it is to
> support "update only one field"?
>
> Best,
> Alex
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>



-- 
Rusty Klophaus (@rustyio)

\*Basho Technologies, Inc.\*
www.basho.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

