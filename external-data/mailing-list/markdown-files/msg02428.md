---
title: "Re: tuning riak for 100s of concurrent connections"
description: ""
project: community
lastmod: 2011-02-23T15:39:18-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02428"
mailinglist_parent_id: "msg02427"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2011-02-23T15:39:18-08:00
---


May I also suggest in a heavy GET scenario where the data doesn't change often 
or can be slightly stale that you also make use of some sort of shortly lived, 
in-memory cache. You could also make use of HTTPs conditional GET which avoids 
passing the data over the wire if it hasn't changed.

-Ryan

[Sent from my iPhone]

On Feb 23, 2011, at 3:08 PM, Bob Feldbauer  wrote:

> After importing data into Riak, I'm in a basically 100% GET scenario. I 
> haven't done much load testing other than throwing live traffic at it, but 
> with that I've seen ~150 concurrent connections.
> 
> I'm using Jetty app servers (Riak Java client) which are using protobufs to 
> hit an HAProxy server, which load balances my 7 Riak nodes. I really haven't 
> done anything special, other than using protobufs and fronting Riak with 
> HAProxy.
> 
> Other than that, I would just say "use fast disks" and/or add nodes as needed 
> to hit your capacity targets -- because with that traffic and 7 nodes with 1 
> 1TB disk per node, I'm seeing ~0.5-<1.0 load average on Riak nodes as iowait.
> 
> Feel free to hop on the #riak IRC channel and I'd be happy to try to answer 
> any other questions about our setup.
> 
> - Bob Feldbauer
> 
>> ---------- Forwarded message ----------
>> From: Wilson MacGyver
>> Date: Tue, Feb 22, 2011 at 7:15 PM
>> Subject: tuning riak for 100s of concurrent connections
>> To: riak-users Users
>> 
>> 
>> Are there any guidelines/howtos on tuning riak nodes for 100s
>> (200-500) of concurrent connections
>> which are 99.9% HTTP GET?
>> 
>> Thanks,
>> 
>> --
>> Omnem crede diem tibi diluxisse supremum.
>> 
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> 
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

