---
title: "2i Reindex Strategy"
description: ""
project: community
lastmod: 2012-02-28T07:34:30-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06777"
author_name: "Jeremy Raymond"
project_section: "mailinglistitem"
sent_date: 2012-02-28T07:34:30-08:00

---


Hi,

I need to reindex a bucket with a ~4 million items. If I do a
streaming list keys using the Erlang client and then read/write the
items as they keys come in it puts too much load on the cluster and
other mapred queries that get run timeout. I already have a date based
index on the items and was thinking getting items based on hourly
chunks and update them in batches that way as the times should be
relatively evenly distributed in time. I can then better control the
flow and load of the reindexing operations.

Anyone have any better ideas or use any other strategies when having to reindex?

--
Jeremy

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

