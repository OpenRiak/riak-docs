---
title: "Re: Binary data in keys"
description: ""
project: community
lastmod: 2010-08-23T15:50:42-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00937"
mailinglist_parent_id: "msg00936"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2010-08-23T15:50:42-07:00
---


Hi Tony,

The REST API can only access bucket and keys that are UTF-8 strings. A
request for "foo/%00%0009" is the same as:
{ok, C} = riak:local\_client().
C:get(<<"foo">>, <<"%00%0009">>).

The protobuffs and native Erlang clients do not have this restriction which
may lead to scenarios where data cannot be accessed by the REST API. Bucket
and key values should be chosen appropriately when REST API access is
required.

Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Mon, Aug 23, 2010 at 3:05 PM, Tony Novak  wrote:

> Hi there,
>
> Quick newbie question: is there a restriction on what bytes can appear in
> keys, or can they consist of arbitrary binary data? Using the Java
> protocol-buffers client, I seem to be able to use arbitrary binary data in
> both keys and values, but I'm having trouble retrieving this data via REST.
> As an example, suppose my key consists of the bytes (0x00, 0x00, 0x30,
> 0x39). How can I access this key via REST? The following doesn't seem to
> work:
>
> curl http://localhost:8098/riak/foo/%00%0009
>
> Am I encoding the URL incorrectly?
>
> Thanks!
> Tony
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

