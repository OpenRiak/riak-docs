---
title: "concurrent updates / lock-handling"
description: ""
project: community
lastmod: 2010-09-27T18:29:11-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01147"
author_name: "Jan Zimmek"
project_section: "mailinglistitem"
sent_date: 2010-09-27T18:29:11-07:00

---


hello,

i am currently evaluating riak as data-storage for out upcoming project. the 
wiki provides a lot of informations and is really good - most of my questions 
are answered, but i did not find much information about how riak handles 
concurrent client updates on the same key (i know riak uses vclocks, but i am 
not sure what this means in practise).

for example:

-------------------

having a key "X" with a given value of 100.

clientA and clientB both load "X" in parallel, increment it by 10 and store it 
back into riak.

will "X" have a value of 110, 120 or do we get something like a "concurrent 
modification"-error ?

(in my case i want riak to store the value as 120 or give me same "concurrent 
modification"-error)

does it matter if clientA and clientB are connected to the same/different 
physical riak-node ?

-------------------

does riak support some kind of lock-handling like "lock table(bucket)" / 
"select for update" as in sql or do i have to implement this in my 
application-layer ?

any help would be really appreciated.

regards
jan zimmek
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

