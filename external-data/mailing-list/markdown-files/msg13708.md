---
title: "Re: Deleting entire buckets"
description: ""
project: community
lastmod: 2014-02-25T12:20:08-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13708"
mailinglist_parent_id: "msg13707"
author_name: "John Caprice"
project_section: "mailinglistitem"
sent_date: 2014-02-25T12:20:08-08:00
---


Istvan,

This can be performed using the method described in that comment by Randall
on stackoverflow, which performs a keylisting, or via a MapReduce job. I
recommend doing this type of administrative work during off peak hours
regardless of whether you go the keylisting or MapReduce route.

It's also important to keep in mind that if you're performing these deletes
to reclaim disk space, you will likely increase disk usage in the short
term. Both Bitcask and LevelDB are append only backends, with merging /
compaction processes that are triggered in the background.

Thanks,

John Caprice


On Tue, Feb 25, 2014 at 1:57 PM, IstvÃ¡n  wrote:

> Hi,
>
> What is the recommended way of deleting all of the keys in a bucket?
>
> Is there a way to delete all the keys without impacting the read
> performance of the cluster, like a low priority clean up job?
>
> I found the following script so far (I guess running it at off peak
> would be solving the priority problem):
>
> http://stackoverflow.com/a/14531820/127508
>
> Is this good, bad approach?
>
> Thanks in advance,
> Istvan
>
> --
> the sun shines for all
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

