---
title: "Vector clocks"
description: ""
project: community
lastmod: 2013-09-04T14:16:45-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12194"
author_name: "Gints"
project_section: "mailinglistitem"
sent_date: 2013-09-04T14:16:45-07:00

---


Is there a way to do the following:
1) Get vector clocks of the object being processed in a map-reduce query?
(For example, I'm fetching some objects using a map-reduce request based on
a 2i range, filtering them further in the map phase, and would like to
include the vclocks in the output, so that the client can properly modify
any objects returned.)
2) Tell riak not to store the object I'm trying to store, unless the vclock
I'm updating (the one I read the object with) matches the latest vclock
known to riak at the time of the store operation. (Of course, simultaneous
writes would still cause siblings assuming allow\_mult=true or make riak
store just one of the objects while reporting success on both write
operations if allow\_mult=false, but I'm ok with that.) Basically, I would
just like the store operation to fail if a sibling would detectably be
created, instead of creating the sibling. It seems I can achieve almost the
same effect with the If-Unmodified-Since header, but can I do it with vector
clocks?

Thanks,
Gints




--
View this message in context: 
http://riak-users.197444.n3.nabble.com/Vector-clocks-tp4029019.html
Sent from the Riak Users mailing list archive at Nabble.com.

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

