---
title: "RE: Cluster on startup."
description: ""
project: community
lastmod: 2012-11-07T08:39:29-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09237"
mailinglist_parent_id: "msg09231"
author_name: "Kevin Burton"
project_section: "mailinglistitem"
sent_date: 2012-11-07T08:39:29-08:00
---


Thank you. What about do\_stop, do\_reload, and do\_status?

-----Original Message-----
From: riak-users [mailto:riak-users-boun...@lists.basho.com] On Behalf Of
Shane McEwan
Sent: Wednesday, November 07, 2012 9:54 AM
To: riak-users@lists.basho.com
Subject: Re: Cluster on startup.

If you edit /etc/init.d/riak you should see a line like:

 su - riak -c "$DAEMON $DAEMON\_ARGS" || return 2

in the "do\_start" function.

If you change that line into the following 4 lines:

 su - riak -c "/path/to/your/riak/dev1/bin/riak $DAEMON\_ARGS" ||
return 2
 su - riak -c "/path/to/your/riak/dev2/bin/riak $DAEMON\_ARGS" ||
return 2
 su - riak -c "/path/to/your/riak/dev3/bin/riak $DAEMON\_ARGS" ||
return 2
 su - riak -c "/path/to/your/riak/dev4/bin/riak $DAEMON\_ARGS" ||
return 2

it should start all your Riak nodes on boot.

On 07/11/12 15:28, Kevin Burton wrote:
> The problem I see is that since this script is just functions if I run 
> it then it will do nothing as the functions are not called. Is there 
> some kind of "include" that I am missing?
>
> Thank you for the link for the tutorial. I am still not sure what the 
> sequence should be for calling your script on startup. All of the 
> examples that I have seen startup a single executable. It looks like I 
> need to either include your script into another script and start it or .
> . . .

>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

