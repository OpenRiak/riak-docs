---
title: "ETS lookup failures"
description: ""
project: community
lastmod: 2014-06-30T22:22:24-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14428"
author_name: "Istv√°n"
project_section: "mailinglistitem"
sent_date: 2014-06-30T22:22:24-07:00

---


I am wondering why this might be happening when I am trying to delete
a bunch of keys from this bucket.

Bucket: <<"60-1393657839507">>

2014-06-30 17:43:59 =SUPERVISOR REPORT====
 Supervisor: {<0.930.0>,poolboy\_sup}
 Context: child\_terminated
 Reason:
{badarg,[{ets,lookup,[ets\_riak\_core\_ring\_manager,{bucket,<<"60-1393657839507">>}],[]},{riak\_core\_ring\_manager,get\_bucket\_meta,1,[{file,"src/riak\_core\_ring\_manager.erl"},{line,179}]},{riak\_core\_bucket,get\_bucket,1,[{file,"src/riak\_core\_bucket.erl"},{line,101}]},{riak\_kv\_util,get\_index\_n,1,[{file,"src/riak\_kv\_util.erl"},{line,170}]},{riak\_kv\_index\_hashtree,'-object\_fold\_fun/1-fun-0-',4,[{file,"src/riak\_kv\_index\_hashtree.erl"},{line,435}]},{riak\_kv\_index\_hashtree,'-fold\_fun/2-fun-1-',5,[{file,"src/riak\_kv\_index\_hashtree.erl"},{line,427}]},{eleveldb,fold\_loop,4,[{file,"src/eleveldb.erl"},{line,316}]},{eleveldb,do\_fold,4,[{file,"src/eleveldb.erl"},{line,303}]}]}
 Offender:
[{pid,<0.935.0>},{name,riak\_core\_vnode\_worker},{mfargs,{riak\_core\_vnode\_worker,start\_link,undefined}},{restart\_type,temporary},{shutdown,5000},{child\_type,worker}]

 heap\_size: 2584
 stack\_size: 24
 reductions: 2300913061
 neighbours:
2014-06-30 18:24:11 =SUPERVISOR REPORT====
 Supervisor: {<0.976.0>,poolboy\_sup}
 Context: child\_terminated
 Reason:
{badarg,[{ets,lookup,[ets\_riak\_core\_ring\_manager,{bucket,<<"60-1393657839507">>}],[]},{riak\_core\_ring\_manager,get\_bucket\_meta,1,[{file,"src/riak\_core\_ring\_manager.erl"},{line,179}]},{riak\_core\_bucket,get\_bucket,1,[{file,"src/riak\_core\_bucket.erl"},{line,101}]},{riak\_kv\_util,get\_index\_n,1,[{file,"src/riak\_kv\_util.erl"},{line,170}]},{riak\_kv\_index\_hashtree,'-object\_fold\_fun/1-fun-0-',4,[{file,"src/riak\_kv\_index\_hashtree.erl"},{line,435}]},{riak\_kv\_index\_hashtree,'-fold\_fun/2-fun-1-',5,[{file,"src/riak\_kv\_index\_hashtree.erl"},{line,427}]},{eleveldb,fold\_loop,4,[{file,"src/eleveldb.erl"},{line,316}]},{eleveldb,do\_fold,4,[{file,"src/eleveldb.erl"},{line,303}]}]}
 Offender:
[{pid,<0.977.0>},{name,riak\_core\_vnode\_worker},{mfargs,{riak\_core\_vnode\_worker,start\_link,undefined}},{restart\_type,temporary},{shutdown,5000},{child\_type,worker}]

 Context: child\_terminated
 Reason:
{badarg,[{ets,lookup,[ets\_riak\_core\_ring\_manager,{bucket,<<"60-1393657839507">>}],[]},{riak\_core\_ring\_manager,get\_bucket\_meta,1,[{file,"src/riak\_core\_ring\_manager.erl"},{line,179}]},{riak\_core\_bucket,get\_bucket,1,[{file,"src/riak\_core\_bucket.erl"},{line,101}]},{riak\_kv\_util,get\_index\_n,1,[{file,"src/riak\_kv\_util.erl"},{line,170}]},{riak\_kv\_index\_hashtree,'-object\_fold\_fun/1-fun-0-',4,[{file,"src/riak\_kv\_index\_hashtree.erl"},{line,435}]},{riak\_kv\_index\_hashtree,'-fold\_fun/2-fun-1-',5,[{file,"src/riak\_kv\_index\_hashtree.erl"},{line,427}]},{eleveldb,fold\_loop,4,[{file,"src/eleveldb.erl"},{line,316}]},{eleveldb,do\_fold,4,[{file,"src/eleveldb.erl"},{line,303}]}]}
 Offender:
[{pid,<0.1450.0>},{name,riak\_core\_vnode\_worker},{mfargs,{riak\_core\_vnode\_worker,start\_link,undefined}},{restart\_type,temporary},{shutdown,5000},{child\_type,worker}]

2014-06-30 18:21:30 =SUPERVISOR REPORT====
 Supervisor: {<0.1501.0>,poolboy\_sup}
 Context: child\_terminated
 Reason:
{badarg,[{ets,lookup,[ets\_riak\_core\_ring\_manager,{bucket,<<"60-1393657839507">>}],[]},{riak\_core\_ring\_manager,get\_bucket\_meta,1,[{file,"src/riak\_core\_ring\_manager.erl"},{line,179}]},{riak\_core\_bucket,get\_bucket,1,[{file,"src/riak\_core\_bucket.erl"},{line,101}]},{riak\_kv\_util,get\_index\_n,1,[{file,"src/riak\_kv\_util.erl"},{line,170}]},{riak\_kv\_index\_hashtree,'-object\_fold\_fun/1-fun-0-',4,[{file,"src/riak\_kv\_index\_hashtree.erl"},{line,435}]},{riak\_kv\_index\_hashtree,'-fold\_fun/2-fun-1-',5,[{file,"src/riak\_kv\_index\_hashtree.erl"},{line,427}]},{eleveldb,fold\_loop,4,[{file,"src/eleveldb.erl"},{line,316}]},{eleveldb,do\_fold,4,[{file,"src/eleveldb.erl"},{line,303}]}]}
 Offender:
[{pid,<0.1505.0>},{name,riak\_core\_vnode\_worker},{mfargs,{riak\_core\_vnode\_worker,start\_link,undefined}},{restart\_type,temporary},{shutdown,5000},{child\_type,worker}]

Has anybody seen something like that before?

-- 
the sun shines for all

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

