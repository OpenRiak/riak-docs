---
title: "Re: riaksearch memory growth issues"
description: ""
project: community
lastmod: 2011-05-27T19:22:51-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03468"
mailinglist_parent_id: "msg03467"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2011-05-27T19:22:51-07:00
---


What are the steps to reproduce the issue?

Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Fri, May 27, 2011 at 6:44 PM, Gordon Tillman  wrote:

> Gilbert I will do that and post the results. Have restarted the cluster
> but it is really easy to reproduce the issue.
>
> Thanks!
>
> --gordon
>
>
> On May 27, 2011, at 20:10 , Gilbert GlÃ¥ns wrote:
>
> > Gordon,
> > Could you try:
> >
> > erlang:process\_info(list\_to\_pid("<0.16614.32>"), [messages,
> > current\_function, initial\_call, links, memory, status]).
> >
> > in a riak search console for one/some of those mailboxes and share the
> > results? I am curious to see if you are having the same systemic
> > memory consumption I am experiencing.
> >
> > Gilbert
> >
> > On Fri, May 27, 2011 at 5:15 PM, Gordon Tillman 
> wrote:
> >>
> >> Howdy Gang,
> >>
> >> We are having a bit of an issue with our 3-node riaksearch cluster.
> What is happing is this:
> >>
> >> Cluster is up and running. We start testing our application against it.
> As the application runs the erlang process consumes more and more memory
> without ever releasing it.
> >>
> >> In trying to investigate the issue we ran the riaksearch-admin
> cluster\_info command. It appears that the bulk of this memory is being
> consumed by a bunch of mailboxes.
> >>
> >> I have posted both the output of the cluster\_info command and the
> app.config from one of the nodes here:
> >>
> >> https://gist.github.com/996419
> >>
> >> I would be very grateful if someone from Basho would take a look at the
> cluster\_info and see if they can spot anything obvious.
> >>
> >> Each machine in the cluster has an 8-core Xeon and 16GB RAM. I believe
> all of the platform details, etc., are in the cluster\_info dump.
> >>
> >> Many thanks,
> >>
> >> --gordon
> >> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> >> riak-users mailing list
> >> riak-users@lists.basho.com
> >> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

