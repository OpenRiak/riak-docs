---
title: "A put is not put in Riak"
description: ""
project: community
lastmod: 2015-12-30T09:08:42-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16893"
author_name: "Patrice Bruno"
project_section: "mailinglistitem"
sent_date: 2015-12-30T09:08:42-08:00

---



Good-Evening everyone,

I'm reading this maling for minths now wioth great interest, and now we 
are using Riak, I have a question to not say an issue that I can not 
figure out.


We have migrated leveldb files from Riak 1.3.1 to Riak 2.1.1.
The clusters has 6 Nodes and 6 computers.
We are running now on CentOS Linux release 7.1.1503 (Core) (we were 
under Fedora when we are under Riak 1.3.1).


We have kept the default Riak paramaters. We are not using 
'bucket\_type'. The only paramaters we have tuned are:

erlang.distribution\_buffer\_size = 128MB
erlang.async\_threads = 128

My issue is on a Bucket without sibling (default settings) I'm making a 
put and when I do the get the value has not been changed, and old value 
stayed under the key. So, I have made a test: I've made a put of an 
objet A, I can see in the precommit hook that it's well the object A, 
but in the postcommit the object (argument passed) is an old one.
I thought that I'm not sending the right object, but when I see it in 
precommit hook, I'm sure now that I send what I expect to send.


It's not for all the objects, but it appears time to time under load.

Do you already seen this issue ?
Do you have an idea or something I can enhance/tune ?


Help me mailing list, you are my only hope :-) (dixit Princess Leia).

--

Best Reagrds,

 Patrice Bruno
 Kuantic
---


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

