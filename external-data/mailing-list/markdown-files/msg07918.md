---
title: "About second parameter of riakc_pb_socket:mapred"
description: ""
project: community
lastmod: 2012-07-12T20:10:46-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07918"
author_name: "郎咸武"
project_section: "mailinglistitem"
sent_date: 2012-07-12T20:10:46-07:00

---


Hi guys.

To test mapred\_inputs() in the program, These parameters
([\*{\*\*bucket()
, 
key()}
| 
{bucket()
, 
key(),
term()}] | 
bucket()
 | {index, 
bucket(),
Index::binary(),
key()}
| 
{index,bucket(),
Index::binary(),
StartKey::key(),
EndKey::key()
\*\*} \*) is ok.
The "Inputs" parameter({modfun, Module::atom(), Function::atom(), [term()]}
 ) {modfun, riak\_search, mapred\_search, [ <<"Bucket">>,
<<"SearchQuery">>]} is ok.
But myself function is can not work(Inputs = {modfun, trend\_riak, test,
[<<"a">>, <<"b">>]}). The "trend\_riak" module is added riak path.
There are errors in the following:
{error,<<"Error sending inputs: [{<<\"my\">>,<<\"bu\">>}]">>}

The trend\_riak module code.
 1 -module(trend\_riak).
 2
 3 -export([test/3]).
 4 [{<<"my">>, <<"bu">>}].

Where is wrong?

Best wish ,thank you.
Jason
mapred\_inputs()

mapred\_inputs() =
[{bucket()
, 
key()}
| 
{bucket()
, 
key(),
term()}] | {modfun, Module::atom(), Function::atom(), [term()]} |
bucket()
|
{index, 
bucket(),
Index::binary(),
key()}
| 
{index,bucket(),
Index::binary(),
StartKey::key(),
EndKey::key()
}
mapred/3

mapred(Pid::pid(),
Inputs::mapred\_inputs(),
Query::[mapred\_queryterm()])
-> {ok, 
mapred\_result()}
| {error, {badqterm,
mapred\_queryterm()}}
| {error, timeout} | {error, term()}

Equivalent to mapred(Inputs, Query,
default\_timeout(mapred))
.

-- 
只为成功找方法，不为失败找理由
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

