---
title: "Re: How much memory for 20GB of data?"
description: ""
project: community
lastmod: 2011-07-14T16:19:42-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04015"
mailinglist_parent_id: "msg04014"
author_name: "Will Moss"
project_section: "mailinglistitem"
sent_date: 2011-07-14T16:19:42-07:00
---


In that case, Riak adds a minimum of around 500 bytes of overhead per
record, but that can grow as the size of the vector clock grows. As Justin
mentioned, if N = 3 you'll be storing three copies of the data, so you need
at least 60G, but probably closer to 90G.


On Thu, Jul 14, 2011 at 4:13 PM, Maria Neise wrote:

> Yes, I meant disk space. Sorry -.-
>
> Cheers,
> Maria
>
> 2011/7/15 Justin Sheehy :
> > Do you perhaps mean disk space instead of memory?
> >
> > If so, and if you have left the N-val at the default of 3, then you
> > will need at least 60G of space before any other overhead is accounted
> > for.
> >
> > -Justin
> >
> >
> >
> > On Thu, Jul 14, 2011 at 7:04 PM, Maria Neise
> >  wrote:
> >> Hey,
> >> thank you a lot for your hints.
> >> I have 20000000 records Ã  1KB. The key is a string like
> >> "user123456789". I am using the default backend bitcask. There is just
> >> one machine in the cluster and I didn't change the N-val. I already
> >> tried to insert the 20GB of data, but 40GB of memory were obviously
> >> not enough, because only 7000000 records were inserted. So I thought
> >> mybe 150GB should be enough?
> >>
> >> Cheers,
> >> Maria
> >>
> >> 2011/7/15 Justin Sheehy :
> >>> Hi, Maria.
> >>>
> >>> In addition to what others have said, I would note that (at least) the
> >>> following issues matter quite a bit for such planning:
> >>>
> >>> - how many items the data is broken up into
> >>> - how large the keys will be (especially if they are very large due to
> >>> embedded structure)
> >>> - what storage engine ("backend") is in use
> >>> - how many machines are in the cluster
> >>> - the N-val, or how many replicas are being stored (default is 3)
> >>>
> >>> If you know those things, then you can make a more meaningful
> estimation.
> >>>
> >>> I hope that this helps.
> >>>
> >>> -Justin
> >>>
> >>>
> >>>
> >>>
> >>> On Thu, Jul 14, 2011 at 6:02 PM, Maria Neise
> >>>  wrote:
> >>>> Hey,
> >>>> I would like to store 20GB of data with Riak. Does anyone know how
> >>>> much memory Riak would need for that?
> >>>>
> >>>> Cheers,
> >>>> Maria
> >>>>
> >>>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> >>>> riak-users mailing list
> >>>> riak-users@lists.basho.com
> >>>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> >>>>
> >>>
> >>
> >
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

