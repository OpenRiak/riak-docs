---
title: "preflist_exhausted error"
description: ""
project: community
lastmod: 2012-04-24T10:07:37-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07307"
author_name: "Sati, Mohit"
project_section: "mailinglistitem"
sent_date: 2012-04-24T10:07:37-07:00

---


Hello All,

I'm getting the below error in my queries. I'm using riak 1.1.1

Riak Version:
============
$rpm -qa | grep riak
riak-1.1.1-1.el6.x86\_64

Riak Error:
========
HTTP/1.1 100 Continue
HTTP/1.1 500 Internal Server Error
Server: MochiWeb/1.1 WebMachine/1.9.0 (someone had painted it blue)
Date: Tue, 24 Apr 2012 16:58:53 GMT
Content-Type: application/json
Content-Length: 625
{"phase":0,"error":"[preflist\_exhausted]"

Query:
==========
My query is doing a range scan. I can only get data for 1 day. For 2 or more 
days it is throwing the error posted above.

{"inputs":{ "bucket":"tagg\_dsquery",
 "key\_filters":[["and",
 [["starts\_with", "dsquery-us\_prm"]],
 [["and",
 [["tokenize", "-", 5], ["greater\_than\_eq", "20120312"]],
 [["tokenize", "-", 5], ["less\_than\_eq", "20120314"]]
 ]]
 ]]},
...
...


app.config changes:
=============
map\_js\_vm\_count - increased to 32,64,128 and 256 but not helping
js\_max\_vm\_mem - increased to 32,64,128,256,512 and 1024.
js\_thread\_stack - increased to 64,128,256,512,1024 and 2048 (cannot go beyond) 
- riak would not start

Can anyone help me to debug this issue. My queries cannot go beyond 1 day

Thanks
Mohit
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

