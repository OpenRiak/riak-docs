---
title: "Re: debugging basic http curl operations"
description: ""
project: community
lastmod: 2013-03-13T11:03:27-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10417"
mailinglist_parent_id: "msg10412"
author_name: "Brian Shumate"
project_section: "mailinglistitem"
sent_date: 2013-03-13T11:03:27-07:00
---


Hi Aatish,

One issue that I can immediately see is that you appear to be accessing Riak's
default protocol buffers interface port 8087 with HTTP The default
HTTP port for Riak is 8098.

Can you modify your request to use port 8098 so that it resembles the
following example and try it?

curl -v -H "Content-Type: application/json" -d '{"bar":"baz"}' -XPUT 
http://10.151.99.77:8098/riak/test/doc?returnbody=true

That should work as expected.

Hope this helps!

Regards,

Brian

On Mar 13, 2013, at 2:59 AM, Aatish wrote:

> Hello everyone ,
> 
> I'm relatively new to riak and am just in the process of exploring things
> I seem to have this recurring problem thats an on again ..off again thing ..
> 
> NOTE: This issue started after i tried setting up a mulit backend setup but
> reverted back to this one for now
> 
> Everytime i start a riak node(i clear all the data in /var/lib/riak/) and
> try to perform a basic curl insertion on it ..
> 
> curl -v -XPUT http://10.151.99.77:8087/riak/test/doc?returnbody=true 
> -H "Content-Type: application/json" -d '{"bar":"baz"}'
> (Taken from riaks tutorial)
> 
> The command just seems to halt or not return .. it has this message till the
> point it halts
> 
> \* About to connect() to 10.151.99.77 port 8087 (#0)
> \* Trying 10.151.93.77... connected
> \* Connected to 10.151.93.77 (10.151.93.77) port 8087 (#0)
>> PUT /riak/test/doc?returnbody=true HTTP/1.1
>> User-Agent: curl/7.21.6 (x86\_64-pc-linux-gnu) libcurl/7.21.6
>> OpenSSL/1.0.0e zlib/1.2.3.4 libidn/1.22 librtmp/2.3
>> Host: 10.151.93.77:8087
>> Accept: \*/\*
>> Content-Type: application/json
>> Content-Length: 13
> my app.config is pretty basic with the exceptions .. - Changed port to 8087
> - and i think this is default but the storage backend is {storage\_backend,
> riak\_kv\_memory\_backend}
> 
> and the vm.args has custom name with the ip of 10.151.99.77 ...
> What i really want to know ..
> - is there some logs i can see for the curl commands ?
> - is there something im missing in the app.config ?
> 
> 
> -Thanks ! :)
> 
> 
> 
> 
> --
> View this message in context: 
> http://riak-users.197444.n3.nabble.com/debugging-basic-http-curl-operations-tp4027173.html
> Sent from the Riak Users mailing list archive at Nabble.com.
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

