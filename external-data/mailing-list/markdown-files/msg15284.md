---
title: "Re: Yokozuna - inconsistent number of documents found for the same	query"
description: ""
project: community
lastmod: 2014-12-01T10:37:15-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15284"
mailinglist_parent_id: "msg15283"
author_name: "Oleksiy Krivoshey"
project_section: "mailinglistitem"
sent_date: 2014-12-01T10:37:15-08:00
---


Thank you!

p.s.
That github issue mentions 5 node cluster, however I can replicate it on a
single node Riak setup.

On 1 December 2014 at 20:26, Eric Redmond  wrote:

> This is a known issue, and we're still working on a fix.
>
> https://github.com/basho/yokozuna/issues/426
>
> Eric
>
>
> On Nov 29, 2014, at 9:26 AM, Oleksiy Krivoshey  wrote:
>
> Hi,
>
> I get inconsistent number of documents returned for the same search query
> when index keys are repaired by search AAE. The prerequisites are:
>
> 1. Create a bucket, insert some keys (10 keys - KeysA)
> 2. Create Yokozuna Index, associate it with the bucket
> 3. Add or update some new keys in the bucket (10 keys - KeysB)
> 4. Wait for Search AAE to build and exchange the trees
>
> Now when I issue a search query I will always get all 10 KeysB but a
> random amount of KeysA, for example the same query repeated 5 times may
> return:
>
> 10 KeysB + 2 KeysA
> 10 KeysB + 0 KeysA
> 10 KeysB + 7 KeysA
> 10 KeysB + 1 KeysA
> 10 KeysB + 10 KeysA
>
> Why is this happening?
>
> --
> Oleksiy Krivoshey
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
>


-- 
Oleksiy Krivoshey
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

