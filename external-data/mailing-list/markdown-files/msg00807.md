---
title: "Re: Protocol Buffer Timeouts"
description: ""
project: community
lastmod: 2010-07-30T11:56:50-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00807"
mailinglist_parent_id: "msg00805"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2010-07-30T11:56:50-07:00
---


Hi Misha,

Justin was kind enough to point me in the right direction regarding your
question. You are referring to the default timeout applied to
gen\_server:call/2. This does appear to be a bug in the client; I will file a
ticket in Bugzilla.

Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Fri, Jul 30, 2010 at 11:11 AM, Dan Reverri  wrote:

> Hi Misha,
>
> Where in riakc\_pb\_socket do you see a 5 second timeout? Are you using the
> 0.2.0 or the latest tip? There is an issue in 0.2.0 where map reduce
> messages are not handled correctly which is fixed in the latest tip.
>
> Thanks,
> Dan
>
> Daniel Reverri
> Developer Advocate
> Basho Technologies, Inc.
> d...@basho.com
>
>
>
> On Fri, Jul 30, 2010 at 9:48 AM, Misha Gorodnitzky wrote:
>
>> Hello all,
>>
>> We're doing some load testing using Riak erlang protocol buffers
>> interface and are running into timeouts. From the looks of it, the
>> timeouts are coming from the gen\_server:calls in riakc\_pb\_socket.erl
>> which don't specify a timeout, meaning that they timeout after 5
>> seconds and we lose any reply that may come back from Riak (in our
>> case, the request to Riak typically completes despite the timeout).
>>
>> What's the best way to handle these timeouts? We could just increase
>> the timeout period in the calls, it seems odd to only give the Riak
>> client code 5 seconds when Riak could potentially take longer to
>> respond. Is this a bug?
>>
>>
>> --Misha
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

