---
title: "Re: Riak Search Solr API rows and sort interaction"
description: ""
project: community
lastmod: 2011-10-25T12:58:50-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05314"
mailinglist_parent_id: "msg05306"
author_name: "Elias Levy"
project_section: "mailinglistitem"
sent_date: 2011-10-25T12:58:50-07:00
---


Thanks to the issue you pointed me to, I found out that Riak search
implements a presort option that is not documented that allows me to sort by
key. As the my key is timestamp based, it allows me to sort by time. Alas,
it does not allow you to select the direction for sorting (only ascending
for key). But by issuing an initial query to the Solr API requesting zero
rows, I can find out the number of results, then issue a new query using
presort=key, start and rows to obtain either to earliest or more recent
results matching my query. That is sufficient to implement paging.

You may want to document the presort Solr query option in the Wiki.


On Tue, Oct 25, 2011 at 9:35 AM, Elias Levy wrote:

> Rusty,
>
> Thanks for the reply. Glad to hear its documented. BTW, I am attempting
> to sort on an inline field, so that partial solution would at least be
> useful to me. But for the time being we'll go with a MR job.
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

