---
title: "Re: Riak S2 error"
description: ""
project: community
lastmod: 2016-01-07T15:13:39-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16929"
mailinglist_parent_id: "msg16928"
author_name: "Charlie Voiselle"
project_section: "mailinglistitem"
sent_date: 2016-01-07T15:13:39-08:00
---


Michael:

If that is the entire contents of your advanced.config file, you will need to 
wrap all of that in an erlang list delimiter. []. For example

[
{riak\_kv, [
 {add\_paths, "/usr/lib64/riak-cs/lib/riak\_cs-2.1.0/ebin"},
 {storage\_backend, riak\_cs\_kv\_multi\_backend},
 {multi\_backend\_prefix\_list, [{<<"0b:">>, be\_blocks}]},
 {multi\_backend\_default, be\_default},
 {multi\_backend, [
 {be\_default, riak\_kv\_eleveldb\_backend, [
 {total\_leveldb\_mem\_percent, 30},
 {data\_root, "/var/lib/riak/leveldb"}
 ]},
 {be\_blocks, riak\_kv\_bitcask\_backend, [
 {data\_root, "/var/lib/riak/bitcask"}
 ]}
 ]}
]}
].


Give that a shot and let us know if it works for you!

Thanks,
Charlie Voiselle

> On Jan 7, 2016, at 11:53 AM, Michael Walsh  wrote:
> 
> Sure thing.
> 
> And thanks!
> 
> 
> advanced.config:
> {riak\_kv, [
> {add\_paths, "/usr/lib64/riak-cs/lib/riak\_cs-2.1.0/ebin"},
> {storage\_backend, riak\_cs\_kv\_multi\_backend},
> {multi\_backend\_prefix\_list, [{<<"0b:">>, be\_blocks}]},
> {multi\_backend\_default, be\_default},
> {multi\_backend, [
> {be\_default, riak\_kv\_eleveldb\_backend, [
> {total\_leveldb\_mem\_percent, 30},
> {data\_root, "/var/lib/riak/leveldb"}
> ]},
> {be\_blocks, riak\_kv\_bitcask\_backend, [
> {data\_root, "/var/lib/riak/bitcask"}
> ]}
> ]}
> ]}.
> 
> On Wed, Jan 6, 2016 at 5:44 PM, Shunichi Shinohara  > wrote:
> Hi Michael,
> 
> Could you provide all the result of "riak config generate -l debug" as well as
> riak.conf and advanced.config?
> 
> Thanks,
> Shino
> 
> 2016-01-07 9:05 GMT+09:00 Michael Walsh  >:
> > All,
> >
> > I'm trying to set up a RIak S2 instance to integrate with KV and I'm getting
> > the following cuttlefish error out of advanced.config. Any suggestions on
> > where I'm going wrong?
> >
> > notes: erlang error was fixed. All paths are correct.
> >
> > Thanks!
> >
> > -Michael Walsh
> >
> > $riak config generate -l debug
> >
> > ...
> > {riak\_kv,
> > [{add\_paths,
> >
> > "/usr/lib64/riak-cs/lib/riak\_cs-2.1.0/ebin"},
> > {storage\_backend,riak\_cs\_kv\_multi\_backend},
> > {multi\_backend\_prefix\_list,
> > [{<<"0b:">>,be\_blocks}]},
> > {multi\_backend\_default,be\_default},
> > {multi\_backend,
> > [{be\_default,riak\_kv\_eleveldb\_backend,
> > [{total\_leveldb\_mem\_percent,30},
> > {data\_root,"/var/lib/riak/leveldb"}]},
> > {be\_blocks,riak\_kv\_bitcask\_backend,
> >
> > [{data\_root,"/var/lib/riak/bitcask"}]}]}]}) (lists.erl, line 1247)
> > in function cuttlefish\_escript:engage\_cuttlefish/1
> > (src/cuttlefish\_escript.erl, line 375)
> > in call from cuttlefish\_escript:generate/1 (src/cuttlefish\_escript.erl,
> > line 258)
> > in call from escript:run/2 (escript.erl, line 747)
> > in call from escript:start/1 (escript.erl, line 277)
> > in call from init:start\_it/1
> > in call from init:start\_em/1
> >
> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > riak-users mailing list
> > riak-users@lists.basho.com 
> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com 
> > 
> >
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com 
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com 
> 
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

