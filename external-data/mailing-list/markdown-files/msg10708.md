---
title: "Re: Can Bitcask expiry_secs vary between backends?"
description: ""
project: community
lastmod: 2013-04-04T19:44:07-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10708"
mailinglist_parent_id: "msg10707"
author_name: "Tom Santero"
project_section: "mailinglistitem"
sent_date: 2013-04-04T19:44:07-07:00
---


Hey Toby,

Your conclusions are correct.

Tom

On Thu, Apr 4, 2013 at 10:39 PM, Toby Corkindale <
toby.corkind...@strategicdata.com.au> wrote:

> On 04/04/13 17:43, Toby Corkindale wrote:
>
>> Hi,
>> Can we set Bitcask's expiry\_secs value to be different per backend, in a
>> Multi-backend scenario?
>>
>> Eg.
>>
>> {multi\_backend, [
>> {<<"bitcask\_short\_ttl">>, riak\_kv\_bitcask\_backend, [
>> {expiry\_secs, 3600}, %% Expire items after one hour
>> {expiry\_grace\_time, 600}
>> ]},
>> {<<"bitcask\_long\_ttl">>, riak\_kv\_bitcask\_backend, [
>> {expiry\_secs, 86400}, %% Expire items after one day
>> {expiry\_grace\_time, 3600}
>> ]},
>> {<<"eleveldb\_mult">>, riak\_kv\_eleveldb\_backend, [
>> ]}
>> ]},
>>
>>
>> And if we're re-using bitcask in this way, do we need to specify
>> anything else, such as different data directories per backend?
>>
>
>
> Answering my own question here, but..
> Experimentation seems to indicate that
> a) You can set different expiry periods per bitcask backend.
> b) You must set a unique data\_dir for each backend, or else
> everything crashes after a while.
>
> -Toby
>
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\*\*\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/\*\*mailman/listinfo/riak-users\_\*\*lists.basho.com
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

