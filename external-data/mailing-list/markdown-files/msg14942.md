---
title: "Re: Many "Unrecognized message" errors in the logs while nodes are	leaving"
description: ""
project: community
lastmod: 2014-09-27T06:41:01-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14942"
mailinglist_parent_id: "msg14940"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2014-09-27T06:41:01-07:00
---


Hi Chris,

Those log messages are mostly harmless -- they don't indicate any
specific thing going wrong. They only indicate that the process
handling the client connection decided to stop waiting for additional
internal protocol messages and replied to the client. Since the
protocol state machine is now outside of the request handler, it
doesn't recognize those internal responses any more.

Those log messages were added so that we (Basho) could tell if we had
egregiously missed some message in an internal protocol, but again,
other than being a little spammy they are harmless.

It would be nice to know what your request mix looks like, i.e. are
you doing list-keys, mapreduce, search, etc? How much of each? How
often do you get those log messages?

On Fri, Sep 26, 2014 at 4:03 PM, Chris Read  wrote:
> Greetings...
>
> I started removing a few nodes from a cluster today, and started to
> get a lot of the following errors in the logs:
>
> @riak\_api\_pb\_server:handle\_info:331 Unrecognized message
>
> Message is either '{,ok}' or '{,{error,timeout}}'
>
> We're running Riak 2.0 on Erlang R16B02-basho5, both built from
> source. A quick Google hinted that it may be a regression of
> https://github.com/basho/riak\_kv/pull/366
>
> Chris
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com



-- 
Sean Cribbs 
Software Engineer
Basho Technologies, Inc.
http://basho.com/

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

