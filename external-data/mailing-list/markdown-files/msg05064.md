---
title: "application_start_failure,wriaki,{{{badmatch,{error,econnrefused}"
description: ""
project: community
lastmod: 2011-10-05T23:56:17-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05064"
author_name: "Norman Khine"
project_section: "mailinglistitem"
sent_date: 2011-10-05T23:56:17-07:00

---


hello, i am trying to run the Wriaki wiki, but get this crash:

my riak cluster is up and running:

http://pastie.org/2648028

Here is my procedure...

aqoon:riak khinester$ cd ~/Sandboxes/riak

aqoon:riak khinester$ git log
commit d5d3cbbf9c036c144ae57797cf45742120b3080a
Merge: 1ca939d bf28217
Author: Jared Morrow 
Date: Fri Sep 30 12:21:38 2011 -0600

 Merge branch '1.0'


aqoon:riak khinester$ cd ~/Sandboxes/wriaki

aqoon:wriaki khinester$ git log
commit 630a6d3b8a65d747a7996543d1f558fc05060b30
Author: Bryan Fink 
Date: Tue Mar 29 11:09:07 2011 -0400

 correct literal syntax, for github rendering

aqoon:wriaki khinester$ cd deps/riakc

aqoon:riakc khinester$ git diff rebar.config
diff --git a/rebar.config b/rebar.config
index ca0bbc6..4b66e08 100644
--- a/rebar.config
+++ b/rebar.config
@@ -1,5 +1,5 @@
 {cover\_enabled, true}.
 {erl\_opts, [debug\_info, fail\_on\_warning]}.
 {deps, [
- {protobuffs, "0.5.0", {git,
"git://github.com/basho/erlang\_protobuffs", "HEAD"}}
+ {protobuffs, "0.6.\*", {git,
"git://github.com/basho/erlang\_protobuffs", "HEAD"}}
 ]}.

aqoon:riakc khinester$ cd ../../
aqoon:wriaki khinester$ vim rel/wriaki/etc/app.config

modified the web\_port to {web\_port, 8098}

aqoon:wriaki khinester$ rel/wriaki/bin/wriaki console

Exec: /Users/khinester/Sandboxes/wriaki/rel/wriaki/erts-5.8.3/bin/erlexec
-boot /Users/khinester/Sandboxes/wriaki/rel/wriaki/releases/2/wriaki
-embedded -config
/Users/khinester/Sandboxes/wriaki/rel/wriaki/etc/app.config -args\_file
/Users/khinester/Sandboxes/wriaki/rel/wriaki/etc/vm.args -- console
Root: /Users/khinester/Sandboxes/wriaki/rel/wriaki
Erlang R14B02 (erts-5.8.3) [source] [64-bit] [smp:2:2] [rq:2]
[async-threads:5] [hipe] [kernel-poll:true]

\*\* Found 0 name clashes in code paths

=INFO REPORT==== 6-Oct-2011::08:37:47 ===
 application: wriaki
 exited: {{{badmatch,{error,econnrefused}},
 [{wrc,connect\_pb,2},
 {wriaki,set\_bucket\_props,0},
 {wriaki\_sup,init,1},
 {supervisor,init,1},
 {gen\_server,init\_it,6},
 {proc\_lib,init\_p\_do\_apply,3}]},
 {wriaki\_app,start,[normal,[]]}}
 type: permanent
{"Kernel pid 
terminated",application\_controller,"{application\_start\_failure,wriaki,{{{badmatch,{error,econnrefused}},[{wrc,connect\_pb,2},{wriaki,set\_bucket\_props,0},{wriaki\_sup,init,1},{supervisor,init,1},{gen\_server,init\_it,6},{proc\_lib,init\_p\_do\_apply,3}]},{wriaki\_app,start,[normal,[]]}}}"}

Crash dump was written to: erl\_crash.dump
Kernel pid terminated (application\_controller)
({application\_start\_failure,wriaki,{{{badmatch,{error,econnrefused}},[{wrc,connect\_pb,2},{wriaki,set\_bucket\_props,0},{wriaki\_sup,init,1},{supervisor,in


any advice much appreciated

norman

-- 
%>>> "".join( [ {'\*':'@','^':'.'}.get(c,None) or
chr(97+(ord(c)-83)%26) for c in ",adym,\*)&uzq^zqf" ] )

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

