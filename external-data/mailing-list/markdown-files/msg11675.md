---
title: "Performance problem: put operation takes seconds"
description: ""
project: community
lastmod: 2013-07-22T04:42:48-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11675"
author_name: "ks"
project_section: "mailinglistitem"
sent_date: 2013-07-22T04:42:48-07:00

---


Hi there,

We're using Riak 1.3.1 cluster with 3 nodes (CentOS 64-bit, Intel® Xeon®
E3-1245 Quadcore, 16 GB DDR3 RAM ECC, 2 x 3 TB SATA 6 Gb/s HDD 7200 rpm
(Software-RAID 1)) connected to the same 10 Gb router.

We hold lot of small key-value pairs in the database and do about 500 get
operations and about 500 put requests per second via Java client library
from different client machines.

The problem is that 95% percentile (according to Riak statistics) often
jumps up to 50000 ms for a couple of minutes. This is something quite far
from we expected in terms of performance.

We've tried setting the options in
http://docs.basho.com/riak/latest/cookbooks/Linux-Performance-Tuning/
(except for noatime flag). But anyway, 50 seconds put timeout is something
outstanding and I hardly believe noatime is a remedy.

Log files appeared to be somewhat unclear to track down the problem. 

Is there anything else we can try?

Thanks a lot!



--
View this message in context: 
http://riak-users.197444.n3.nabble.com/Performance-problem-put-operation-takes-seconds-tp4028478.html
Sent from the Riak Users mailing list archive at Nabble.com.

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

