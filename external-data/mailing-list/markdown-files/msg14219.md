---
title: "Problem with r_object and riak-erlang-client compatibility"
description: ""
project: community
lastmod: 2014-05-14T06:17:41-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14219"
author_name: "Alex Turkin"
project_section: "mailinglistitem"
sent_date: 2014-05-14T06:17:41-07:00

---


Hello guys, 

I have following case:

I get the list of objects from riak by mapreduce, and then want to change
some of them, and update it via riakc\_pb\_socket:put.

But the problem is, that 

riakc\_pb\_socket:mapred( 
 Conn, 
 Index
 [{map, {modfun, riak\_kv\_mapreduce, map\_identity}, undefined, true}] 
).

returns list of #r\_object{}, when riakc\_pb\_socket:put requires #riakc\_obj{}. 


What's the best way to solve the problem? 
Is there some convenient way to do it rather than writing my own convertion
function? I don't want to be dependent on riak internal data structures in
my code...


PS I've seen the thread with the same question
http://riak-users.197444.n3.nabble.com/MapReduce-returned-value-can-t-be-processed-by-riakc-obj-get-value-td3862992.html
but there's no appropriate solution for me.



--
View this message in context: 
http://riak-users.197444.n3.nabble.com/Problem-with-r-object-and-riak-erlang-client-compatibility-tp4031118.html
Sent from the Riak Users mailing list archive at Nabble.com.

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

