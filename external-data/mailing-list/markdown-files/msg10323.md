---
title: "basho_bench's http raw client constantly crashes"
description: ""
project: community
lastmod: 2013-03-05T10:31:40-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10323"
author_name: "Denis Zhdanov"
project_section: "mailinglistitem"
sent_date: 2013-03-05T10:31:40-08:00

---


Hi All,

Could someone answer is basho\_bench's basho\_bench\_driver\_http\_raw driver
working or not now?
I'm trying to benchmark my Riak node using basho\_bench,
using basho\_bench\_driver\_http\_raw driver. But when i'm trying to run it all
instances of basho\_bench\_driver\_http\_raw clients instantly crashes with
error:

18:22:59.877 [debug] Driver basho\_bench\_driver\_http\_raw crashed:
{function\_clause,[{basho\_bench\_driver\_http\_raw,run,[delete,#Fun,#Fun,{state,{'X-Riak-ClientId',<<"AAAAAg==">>},{{url,undefined,"10.1.12.12",8098,undefined,undefined,"/riak/test",undefined,undefined}},2,undefined,[],"/solr/test",undefined}],[{file,"src/basho\_bench\_driver\_http\_raw.erl"},{line,123}]},{basho\_bench\_worker,worker\_next\_op2,2,[{file,"src/basho\_bench\_worker.erl"},{line,233}]},{basho\_bench\_worker,worker\_next\_op,1,[{file,"src/basho\_bench\_worker.erl"},{line,239}]},{basho\_bench\_worker,max\_worker\_run\_loop,1,[{file,"src/basho\_bench\_worker.erl"},{line,292}]}]}

basho\_bench is from github repo, fetched yesterday, Erlang is 15B01, config
is below -

---------------- CUT -----------------------------------------------
{mode, max}.

{duration, 1}.

{concurrent, 3}.

{key\_generator, {uniform\_int, 35000000}}.
{value\_generator, {exponential\_bin, 256, 10240}}.

{driver, basho\_bench\_driver\_http\_raw}.
{http\_raw\_ips, ["10.1.1.12"]}.
{http\_raw\_port, 8098}.
{http\_raw\_path, "/riak/test"}.
%%{driver, basho\_bench\_driver\_riakc\_pb}.
%%{riakc\_pb\_ips, [{10,1,1,12}]}.

{operations, [{get, 4}, {put, 4}, {update, 1}, {delete, 1}]}.
-------------- END ---------------------------------------------------

Thank for help in advance!
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

