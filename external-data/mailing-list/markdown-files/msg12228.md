---
title: "Re: Download stops at certain megabyte boundary (RiakCS)"
description: ""
project: community
lastmod: 2013-09-10T19:05:18-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12228"
mailinglist_parent_id: "msg12218"
author_name: "Shunichi Shinohara"
project_section: "mailinglistitem"
sent_date: 2013-09-10T19:05:18-07:00
---


Martin,

I think you have already read this page:
http://docs.basho.com/riakcs/latest/cookbooks/configuration/Configuring-Riak/#Setting-up-the-Proper-Riak-Backend

As it says, you can use "add\_paths" to set load path.
--
Shunichi Shinohara
Basho Japan KK


On Wed, Sep 11, 2013 at 2:05 AM, Martin Alpers  wrote:
> Thank you Shino for your patient assistance.
>
> I did follow Seth's advice, and upgrading resulted in smooth downloads, as 
> stated in my reply to his mail.
> Additionally, I upgraded the one noed I am working on to the very recent 
> 1.4.1 version. (Riak is 1.4.2)
> I still use the packages for Debian Squeeze.
>
> Outputs of console.log and crash.log are attached to this email.
> Although I am not an expert with these, the term "invalid\_storage\_backend" 
> appears in both of them, and riak used to start just fine before.
>
> I also tried to find the files:
> root@riak2:~# find /usr/lib/riak -name "\*kv\_multi\*"
> /usr/lib/riak/lib/riak\_kv-1.4.2-0-g61ac9d8/ebin/riak\_kv\_multi\_backend.beam
> root@riak2:~# find /usr/lib/riak-cs -name "\*kv\_multi\*"
> /usr/lib/riak-cs/lib/riak\_cs-1.4.1/ebin/riak\_cs\_kv\_multi\_backend.beam
>
> So is adding "-pz /usr/lib/riak-cs/lib/riak\_cs-1.4.1/ebin/" to 
> /etc/riak/vm.args, as suggested here:
> http://lists.basho.com/pipermail/riak-users\_lists.basho.com/2010-October/002211.html
> the right thing to do?
>
> Kind regards,
> Martin
>
> On 13/09/10.10:48:1378806537, Shunichi Shinohara wrote:
>> Martin,
>>
>> Thank you for more information.
>> I found a mis-configuration of riak's app.config. The backend of riak for
>> Riak CS is riak\_cs\_kv\_multi\_backend (look out for \_cs\_). This is the custom
>> riak\_kv backend for Riak CS. The error of "s3cmd ls" was caused by this.
>>
>> As for MB boundary stop, the issue 
>> https://github.com/basho/riak\_cs/issues/613
>> may be related. Although not direct way to treat it, some points which may 
>> help:
>>
>> - As Seth said, upgrade to 1.4, which can reduce network communication
>> between riak nodes
>> - Set pb\_backlog to 256 or higher in riak\_api section of riak's app.config
>>
>> Regards,
>> Shino
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
> --
> Greetings, Martin Alpers
> --
> martin-alp...@web.de
> Mobile: 0176/66185173, but I prefer typing to talking (:
> Jabber: martin.alp...@jabber.org
> My mails are signed using GPG to verify their origin; request my public key 
> (10216CFB).
> See also: http://apps.opendatacity.de/stasi-vs-nsa/

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

