---
title: "increasing N value"
description: ""
project: community
lastmod: 2014-11-03T01:58:22-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15113"
author_name: "Max Vernimmen"
project_section: "mailinglistitem"
sent_date: 2014-11-03T01:58:22-08:00

---


Hi,

I’d like to increase our cluster’s n value from 2 to n=3. The documentation 
says this is ‘not recommended’ but it doesn’t say why and the functionality is 
there so… ☺
Once I change the setting for a specific bucket There seem to be 2 ways of 
making sure existing objects in the bucket get a 3rd copy:

- Force a read repair

- Wait for the Active Anti-Entropy to resolve all missing replicas

Some questions about this:

- Is there a way to know that AAE is done with a bucket and all 
content is now stored with n=3?

- If I do a read with r=1 (default?), is there a chance that a node 
will respond with ‘content not found’ and will it be left at that, or will riak 
continue searching for the object on a different node?

- Will it automatically do a repair when a ‘not found’ is triggered?

I guess what I’m trying to find out is…. What ways are there to make sure all 
content has achieved 3 replica’s after changing to n=3?

Best regards,


Max
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

