---
title: "HTTP or PB cluster client issue"
description: ""
project: community
lastmod: 2012-09-21T08:36:56-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08625"
author_name: "Lei Gu"
project_section: "mailinglistitem"
sent_date: 2012-09-21T08:36:56-07:00

---


Hi Brian,
We are moving past the performance testing and onto failover testing.
I have a five-node cluster and created a PB and HTTP clustered client based on 
the cook book. I tested out and everything seems to be working. Then I shutdown 
one node in the cluster and all my tests failed. It seems like the PB and HTTP 
cluster client connects to all configured nodes initially and will throw an 
exception if any node is down. Does this defeat the purpose of clustering? In 
my test, I have 10 threads, each creates a PB and HTTP cluster client and then 
goes on to execute a series of tests. From the attached log file, you can see 
every test thread is failing at connection the down node, even though there are 
four other nodes that can do the work.

Also, is the failover automatic or we have to catch the connection refused 
exception and creating a new client or just re-execute the method?

Is using a load balancer a better way to handle failover/load balancing issue?
Appreciate you insights and help.
Best regards,
-- Lei


pbf clients = 
r1-riak-lei.lm4.eng.e-dialog.com,r2-riak-lei.lm4.eng.e-dialog.com,r3-riak-lei.lm4.eng.e-dialog.com,r4-riak-lei.lm4.eng.e-dialog.com,r5-riak-lei.lm4.eng.e-dialog.com

http clients = 
r1-riak-lei.lm4.eng.e-dialog.com,r2-riak-lei.lm4.eng.e-dialog.com,r3-riak-lei.lm4.eng.e-dialog.com,r4-riak-lei.lm4.eng.e-dialog.com,r5-riak-lei.lm4.eng.e-dialog.com

Looup patterns = folder\_root\_2\_5\_%s\_%s

SLF4J: Class path contains multiple SLF4J bindings.

SLF4J: Found binding in 
[jar:file:/Users/legu/.m2/repository/ch/qos/logback/logback-classic/0.9.30/logback-classic-0.9.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]

SLF4J: Found binding in 
[jar:file:/Users/legu/opensource-projects/logback-0.9.30/logback-classic-0.9.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]

SLF4J: Found binding in 
[jar:file:/Users/legu/opensource-projects/apache-tomcat-6.0.35/lib/logback-classic-0.9.30.jar!/org/slf4j/impl/StaticLoggerBinder.class]

SLF4J: See http://www.slf4j.org/codes.html#multiple\_bindings for an explanation.

Exception in thread "Thread-11" java.lang.RuntimeException: 
com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)

at 
com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)

at java.lang.Thread.run(Thread.java:680)

Caused by: com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)

at com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)

at 
com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)

at com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)

at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)

... 2 more

Caused by: org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)

at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)

at 
org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)

at 
org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)

at 
org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)

... 10 more

Caused by: java.net.ConnectException: Connection refused

at java.net.PlainSocketImpl.socketConnect(Native Method)

at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)

at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)

at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)

at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)

at java.net.Socket.connect(Socket.java:529)

at 
org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)

... 18 more

Exception in thread "Thread-5" java.lang.RuntimeException: 
com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)

at 
com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)

at java.lang.Thread.run(Thread.java:680)

Caused by: com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)

at com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)

at 
com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)

at com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)

at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)

... 2 more

Caused by: org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)

at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)

at 
org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)

at 
org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)

at 
org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)

... 10 more

Caused by: java.net.ConnectException: Connection refused

at java.net.PlainSocketImpl.socketConnect(Native Method)

at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)

at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)

at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)

at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)

at java.net.Socket.connect(Socket.java:529)

at 
org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)

... 18 more

Exception in thread "Thread-9" java.lang.RuntimeException: 
com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)

at 
com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)

at java.lang.Thread.run(Thread.java:680)

Caused by: com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)

at com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)

at 
com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)

at com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)

at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)

... 2 more

Caused by: org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)

at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)

at 
org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)

at 
org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)

at 
org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)

... 10 more

Caused by: java.net.ConnectException: Connection refused

at java.net.PlainSocketImpl.socketConnect(Native Method)

at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)

at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)

at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)

at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)

at java.net.Socket.connect(Socket.java:529)

at 
org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)

... 18 more

Exception in thread "Thread-4" java.lang.RuntimeException: 
com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)

at 
com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)

at java.lang.Thread.run(Thread.java:680)

Caused by: com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)

at com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)

at 
com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)

at com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)

at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)

... 2 more

Caused by: org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)

at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)

at 
org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)

at 
org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)

at 
org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)

... 10 more

Caused by: java.net.ConnectException: Connection refused

at java.net.PlainSocketImpl.socketConnect(Native Method)

at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)

at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)

at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)

at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)

at java.net.Socket.connect(Socket.java:529)

at 
org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)

... 18 more

Exception in thread "Thread-2" java.lang.RuntimeException: 
com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)

at 
com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)

at java.lang.Thread.run(Thread.java:680)

Caused by: com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)

at com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)

at 
com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)

at com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)

at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)

... 2 more

Caused by: org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)

at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)

at 
org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)

at 
org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)

at 
org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)

... 10 more

Caused by: java.net.ConnectException: Connection refused

at java.net.PlainSocketImpl.socketConnect(Native Method)

at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)

at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)

at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)

at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)

at java.net.Socket.connect(Socket.java:529)

at 
org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)

... 18 more

Exception in thread "Thread-8" java.lang.RuntimeException: 
com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)

at 
com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)

at java.lang.Thread.run(Thread.java:680)

Caused by: com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)

at com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)

at 
com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)

at com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)

at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)

... 2 more

Caused by: org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)

at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)

at 
org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)

at 
org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)

at 
org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)

... 10 more

Caused by: java.net.ConnectException: Connection refused

at java.net.PlainSocketImpl.socketConnect(Native Method)

at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)

at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)

at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)

at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)

at java.net.Socket.connect(Socket.java:529)

at 
org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)

... 18 more

Exception in thread "Thread-10" java.lang.RuntimeException: 
com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)

at 
com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)

at java.lang.Thread.run(Thread.java:680)

Caused by: com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)

at com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)

at 
com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)

at com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)

at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)

... 2 more

Caused by: org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)

at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)

at 
org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)

at 
org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)

at 
org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)

... 10 more

Caused by: java.net.ConnectException: Connection refused

at java.net.PlainSocketImpl.socketConnect(Native Method)

at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)

at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)

at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)

at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)

at java.net.Socket.connect(Socket.java:529)

at 
org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)

... 18 more

Exception in thread "Thread-7" java.lang.RuntimeException: 
com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)

at 
com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)

at java.lang.Thread.run(Thread.java:680)

Caused by: com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)

at com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)

at 
com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)

at com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)

at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)

... 2 more

Caused by: org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)

at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)

at 
org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)

at 
org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)

at 
org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)

... 10 more

Caused by: java.net.ConnectException: Connection refused

at java.net.PlainSocketImpl.socketConnect(Native Method)

at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)

at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)

at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)

at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)

at java.net.Socket.connect(Socket.java:529)

at 
org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)

... 18 more

Exception in thread "Thread-3" java.lang.RuntimeException: 
com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)

at 
com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)

at java.lang.Thread.run(Thread.java:680)

Caused by: com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)

at com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)

at 
com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)

at com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)

at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)

... 2 more

Caused by: org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)

at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)

at 
org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)

at 
org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)

at 
org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)

... 10 more

Caused by: java.net.ConnectException: Connection refused

at java.net.PlainSocketImpl.socketConnect(Native Method)

at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)

at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)

at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)

at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)

at java.net.Socket.connect(Socket.java:529)

at 
org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)

... 18 more

Exception in thread "Thread-6" java.lang.RuntimeException: 
com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:457)

at 
com.edialog.riak.persistence.RiakPerfTest$PerfClient.run(RiakPerfTest.java:86)

at java.lang.Thread.run(Thread.java:680)

Caused by: com.basho.riak.client.http.response.RiakIORuntimeException: 
org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:499)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:526)

at com.basho.riak.client.http.util.ClientHelper.walk(ClientHelper.java:289)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:334)

at com.basho.riak.client.http.RiakClient.walk(RiakClient.java:347)

at 
com.basho.riak.client.raw.http.HTTPClientAdapter.linkWalk(HTTPClientAdapter.java:374)

at com.basho.riak.client.raw.ClusterClient.linkWalk(ClusterClient.java:225)

at com.basho.riak.client.query.LinkWalk.execute(LinkWalk.java:63)

at com.edialog.persistence.riak.RiakClient.walk(RiakClient.java:437)

... 2 more

Caused by: org.apache.http.conn.HttpHostConnectException: Connection to 
http://r4-riak-lei.lm4.eng.e-dialog.com:8098 refused

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:158)

at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:149)

at 
org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:121)

at 
org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:561)

at 
org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:415)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)

at 
org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:732)

at 
com.basho.riak.client.http.util.ClientHelper.executeMethod(ClientHelper.java:474)

... 10 more

Caused by: java.net.ConnectException: Connection refused

at java.net.PlainSocketImpl.socketConnect(Native Method)

at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:351)

at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:213)

at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:200)

at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)

at java.net.Socket.connect(Socket.java:529)

at 
org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:123)

at 
org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:148)

... 18 more


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
The information contained in this electronic mail transmission is intended only 
for the use of the individual or entity named in this transmission. If you are 
not the intended recipient of this transmission, you are hereby notified that 
any disclosure, copying or distribution of the contents of this transmission is 
strictly prohibited and that you should delete the contents of this 
transmission from your system immediately. Any comments or statements contained 
in this transmission do not necessarily reflect the views or position of GSI 
Commerce, Inc. or its subsidiaries and/or affiliates.

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

