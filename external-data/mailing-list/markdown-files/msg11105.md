---
title: "Best way to query geo hashed data?"
description: ""
project: community
lastmod: 2013-05-19T11:49:27-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11105"
author_name: "Ryan Chazen"
project_section: "mailinglistitem"
sent_date: 2013-05-19T11:49:27-07:00

---


Hi

I'm looking at Riak as a solution for handling this type of data:

A map is divided into sectors, and on the map there are many objects with
each object being in 1 or more sectors. (An object can be in more than 1
sector if it is larger than the sector). Objects can move, so object 323
could move from sector 5 to sector 10.

Queries come in of the form : Retrieve all objects in a list of sectors. eg
Sectors[55, 378, 272, ...] - maximum ~50 sectors per request.

>From looking through Riak docs, 2i indexes would be perfect but they only
seem to allow range queries, and not a list of ids.
Multiple range queries could be used, but I'm guessing this will be heavy
on the servers?

Map-Reduce looked like a good fit, but the warning on the page states "When
you want to query data of an entire bucket. MapReduce uses a list of keys,
which can place a lot of demand on the cluster." - so I guess MapReduce is
out?

The fulltext search seems possible, but I'm a bit confused if it will work
for this.


Any recommendations, or is Riak not a good fit for this type of data?

Regards,
Ryan
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

