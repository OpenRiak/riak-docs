---
title: "Re: Incorect Input to Reduce"
description: ""
project: community
lastmod: 2011-11-30T07:02:02-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05805"
mailinglist_parent_id: "msg05802"
author_name: "Jonathan Langevin"
project_section: "mailinglistitem"
sent_date: 2011-11-30T07:02:02-08:00
---


The reduce phase receives data in batches. Per the docs, the default size
is for every 20 inputs, reduce.
The batch size can be tuned via config or per m/r request.

Re: 13, likely what you're seeing is the length of the last phase sent to
reduce. It seems if I return [values.length], I get just the last set that
processed, whereas returning [values] gives me all results concatenated.
I'd expect that I'd get length concatenated multiple times, but I must not
be formatting the response properly.

Regarding tuning (batch size):
http://wiki.basho.com/MapReduce.html#Configuration-Tuning-for-Reduce-Phases

 
\* Jonathan Langevin
Manager, Information Technology
Loom Inc.
Wilmington, NC: (910) 241-0433 - jlange...@loomlearning.com -
www.loomlearning.com - Skype: intel352 \*



On Wed, Nov 30, 2011 at 9:03 AM, Yehuda Zargrov  wrote:

> Hi,\*\*\*\*
>
> \*\* \*\*
>
> I’ve posted a mail on this few days ago, but went a bit further since then.
> \*\*\*\*
>
> \*\* \*\*
>
> I’m using ripple, running a map function on some input and getting a list
> of about 50 items.\*\*\*\*
>
> \*\* \*\*
>
> Right after that, I’m running a reduce function. The first thing I do in
> it is putting the length of v (the input) as an item in a list.\*\*\*\*
>
> \*\* \*\*
>
> When printing the result I see that the length is 13.\*\*\*\*
>
> \*\* \*\*
>
> It’s like something has happened between the map and reduce phases.\*\*\*\*
>
> \*\* \*\*
>
> Any ideas?\*\*\*\*
>
> \*\* \*\*
>
> \*\*\*\*
>
> [image: Description:
> C:\Users\Yehuda\AppData\Roaming\Microsoft\Signatures\logo.gif]\*\*\*\*
>
> \*Yehuda Zargrov\*\*
> \*Software Engineer\*\*\*\*
>
> \*Conduit Your Site\* \*\*\*\*
>
> \*t:\* 972.8.9461713 ext +314 | \*m:\* +972503473119 | \*f:\* +97286382140
> \*\*\*\*
>
>
> This message may contain confidential and/or privileged information. It is
> intended to be read only by the individual or entity to whom it is
> addressed or by their designee.
> If the reader of this message is not the intended recipient, you are on
> notice that any uses, copy, disclose or distribution of this message, in
> any form, is strictly prohibited.
> If you have received this message in error, please notify the sender by
> reply email or by telephone and delete or destroy any copy of this message.
> Thank you.
>
> \*\*\*\*
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

