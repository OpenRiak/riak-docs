---
title: "Re: Riak on Mac OSX 10.7.5"
description: ""
project: community
lastmod: 2013-10-08T14:49:24-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12551"
mailinglist_parent_id: "msg12550"
author_name: "Arun Gupta"
project_section: "mailinglistitem"
sent_date: 2013-10-08T14:49:24-07:00
---


No quotes and "echo $IFS" shows a blank line.

The sequence of commands succeeded and I could start the server. But
it gave a message as:

!!!!
!!!! WARNING: ulimit -n is 256; 4096 is the recommended minimum.
!!!!

Is that normal ?

How do I know if the server has started properly or not ?

log/server.log shows ...

2013-10-08 14:46:36.394 [info] <0.356.0>@riak\_kv\_js\_vm:terminate:240
Spidermonkey VM (pool: riak\_kv\_js\_map) host stopping (<0.356.0>)
2013-10-08 14:46:36.396 [info] <0.288.0>@riak\_kv\_app:stop:231 Stopped
application riak\_kv.
2013-10-08 14:46:36.408 [info] <0.142.0>@riak\_core\_app:prep\_stop:103
Stopping application riak\_core - disabling web services.
2013-10-08 14:46:36.426 [info] <0.142.0>@riak\_core\_app:stop:112
Stopped application riak\_core.

Arun

On Tue, Oct 8, 2013 at 12:27 PM, Steve Vinoski  wrote:
> Strange. I assume you didn't put quotes around the whole command, and that
> you don't have your IFS shell variable set to something unusual?
>
> You might try this instead:
>
> export CFLAGS=-O0
> ./configure --disable-hipe --enable-smp-support --enable-threads
> --enable-kernel-poll --enable-darwin-64bit
> unset CFLAGS
> make
> make install
>
> Note that you might need to use sudo with that last command, depending on
> where you're installing to.
>
> --steve
>
>
>
> On Tue, Oct 8, 2013 at 1:25 PM, Arun Gupta  wrote:
>>
>> bash
>>
>> Any recommendation on how the command needs to be broken apart ?
>>
>> Arun
>>
>> On Tue, Oct 8, 2013 at 10:09 AM, Steve Vinoski  wrote:
>> > Arun, what shell are you using? It looks like your setting of CFLAGS as
>> > part
>> > of your very first command ended up taking the entire configure command
>> > as
>> > the value, rather than just -O0, and then when the C compiler later
>> > tries to
>> > use that whole command line, it unsurprisingly fails.
>> >
>> > --steve
>> >
>> >
>> > On Tue, Oct 8, 2013 at 12:33 PM, Arun Gupta 
>> > wrote:
>> >>
>> >> I gave the command:
>> >>
>> >> CFLAGS=-O0 ./configure --disable-hipe --enable-smp-support
>> >> --enable-threads --enable-kernel-poll --enable-darwin-64bit
>> >>
>> >> and it showed a whole bunch of lines as shown below ...
>> >>
>> >> -- start here --
>> >> Ignoring the --cache-file argument since it can cause the system to be
>> >> erroneously configured
>> >> Disabling caching
>> >> checking build system type... i386-apple-darwin11.4.2
>> >> checking host system type... i386-apple-darwin11.4.2
>> >> checking for gcc... gcc
>> >> checking for C compiler default output file name... a.out
>> >> checking whether the C compiler works... yes
>> >> checking whether we are cross compiling... no
>> >> checking for suffix of executables...
>> >> checking for suffix of object files... o
>> >>
>> >> ...
>> >>
>> >> config.status: creating i386-apple-darwin11.4.2/config.h
>> >> config.status: creating
>> >> include/internal/i386-apple-darwin11.4.2/ethread\_header\_config.h
>> >> config.status: creating
>> >> include/i386-apple-darwin11.4.2/erl\_int\_sizes\_config.h
>> >> \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
>> >> \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* APPLICATIONS INFORMATION \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
>> >> \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
>> >>
>> >> wx : wxWidgets not found, wx will NOT be usable
>> >>
>> >> \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
>> >> \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
>> >> \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* DOCUMENTATION INFORMATION \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
>> >> \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
>> >>
>> >> documentation :
>> >> fop is missing.
>> >> Using fakefop to generate placeholder PDF files.
>> >>
>> >> \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
>> >> -- end here --
>> >>
>> >> This was followed by the command:
>> >>
>> >> make && sudo make install
>> >> test X"$ERTS\_SKIP\_DEPEND" = X"true" || (cd erts/emulator &&
>> >> ERL\_TOP=/Users/arungup/code/workspaces/riak/otp\_src\_R15B01 make
>> >> generate)
>> >> make -f i386-apple-darwin11.4.2/Makefile generate
>> >> LANG=C /usr/bin/perl utils/beam\_makeops \
>> >> -wordsize 64 \
>> >> -outdir i386-apple-darwin11.4.2/opt/plain \
>> >> -DUSE\_VM\_PROBES=0 \
>> >>
>> >> ...
>> >>
>> >> which failed with the message:
>> >>
>> >> adding: com/ericsson/otp/erlang/OtpServer.class(in = 681) (out=
>> >> 374)(deflated 45%)
>> >> adding: com/ericsson/otp/erlang/OtpSystem.class(in = 738) (out=
>> >> 438)(deflated 40%)
>> >> make[3]: Nothing to be done for `opt'.
>> >> === Leaving application jinterface
>> >> === Entering application ic
>> >> make[3]: Nothing to be done for `opt'.
>> >> make -f i386-apple-darwin11.4.2/Makefile TYPE=opt
>> >> gcc -m64 -O0
>> >>
>> >> -I/Users/arungup/code/workspaces/riak/otp\_src\_R15B01/erts/i386-apple-darwin11.4.2
>> >> -D\_XOPEN\_SOURCE -fPIC -fno-common -c -o
>> >> ../priv/obj/i386-apple-darwin11.4.2/ic.o -m64 -O0
>> >>
>> >>
>> >> -I/Users/arungup/code/workspaces/riak/otp\_src\_R15B01/erts/i386-apple-darwin11.4.2
>> >> -D\_XOPEN\_SOURCE -DHAVE\_CONFIG\_H -I../include
>> >>
>> >>
>> >> -I/Users/arungup/code/workspaces/riak/otp\_src\_R15B01/lib/erl\_interface/include
>> >>
>> >> -I/Users/arungup/code/workspaces/riak/otp\_src\_R15B01/lib/erl\_interface/src
>> >> -O0 ./configure --disable-hipe --enable-smp-support --enable-threads
>> >> --enable-kernel-poll --enable-darwin-64bit ic.c
>> >> i686-apple-darwin11-llvm-gcc-4.2: ./configure: No such file or
>> >> directory
>> >> cc1: error: unrecognized command line option "-fdisable-hipe"
>> >> cc1: error: unrecognized command line option "-fenable-smp-support"
>> >> cc1: error: unrecognized command line option "-fenable-threads"
>> >> cc1: error: unrecognized command line option "-fenable-kernel-poll"
>> >> cc1: error: unrecognized command line option "-fenable-darwin-64bit"
>> >> make[4]: \*\*\* [../priv/obj/i386-apple-darwin11.4.2/ic.o] Error 1
>> >> make[3]: \*\*\* [opt] Error 2
>> >> make[2]: \*\*\* [opt] Error 2
>> >> make[1]: \*\*\* [opt] Error 2
>> >> make: \*\*\* [tertiary\_bootstrap\_build] Error 2
>> >>
>> >> An idea ?
>> >>
>> >> Arun
>> >>
>> >>
>> >> On Mon, Oct 7, 2013 at 6:34 PM, Jared Morrow  wrote:
>> >> > As Steve said, this package is for 10.8+. If you would like to build
>> >> > from
>> >> > source, you can follow the instructions here:
>> >> >
>> >> > http://docs.basho.com/riak/latest/ops/building/installing/from-source/
>> >> > If
>> >> > you would like to build a package to use on other machines, follow
>> >> > the
>> >> > same
>> >> > instructions, except call 'make package' instead of 'make rel' in the
>> >> > instructions.
>> >> >
>> >> > -Jared
>> >> >
>> >> >
>> >> > On Mon, Oct 7, 2013 at 6:04 PM, Steve Vinoski 
>> >> > wrote:
>> >> >>
>> >> >> As indicated in the URL for the tarball you downloaded, Riak 1.4.2
>> >> >> for
>> >> >> OS
>> >> >> X was built for 10.8.x, but you're running 10.7.5 so that build
>> >> >> won't
>> >> >> work
>> >> >> there.
>> >> >>
>> >> >> --steve
>> >> >>
>> >> >>
>> >> >> On Mon, Oct 7, 2013 at 7:34 PM, Arun Gupta 
>> >> >> wrote:
>> >> >>>
>> >> >>> Downloaded Riak 1.4.2 from:
>> >> >>>
>> >> >>>
>> >> >>>
>> >> >>>
>> >> >>> http://s3.amazonaws.com/downloads.basho.com/riak/1.4/1.4.2/osx/10.8/riak-1.4.2-OSX-x86\_64.tar.gz
>> >> >>>
>> >> >>> Starting Riak as bin/riak gives the error:
>> >> >>>
>> >> >>> Error reading
>> >> >>> /Users/arungup/tools/nosql/riak/riak-1.4.2/bin/../etc/app.config
>> >> >>>
>> >> >>> And then a dialog box pops up with the following details:
>> >> >>>
>> >> >>> Process: sh [75679]
>> >> >>> Path: /bin/sh
>> >> >>> Identifier: sh
>> >> >>> Version: ??? (???)
>> >> >>> Code Type: X86-64 (Native)
>> >> >>> Parent Process: sh [75678]
>> >> >>>
>> >> >>> Date/Time: 2013-10-07 16:29:08.889 -0700
>> >> >>> OS Version: Mac OS X 10.7.5 (11G63b)
>> >> >>> Report Version: 9
>> >> >>> Sleep/Wake UUID: 233B3AEC-827F-4D69-92BB-3F6579F3BC4B
>> >> >>>
>> >> >>> Anonymous UUID:
>> >> >>> D3AD0D73-8375-41A9-8DF2-7AD38536906E
>> >> >>>
>> >> >>> Crashed Thread: Unknown
>> >> >>>
>> >> >>> Exception Type: EXC\_BAD\_ACCESS (SIGSEGV)
>> >> >>> Exception Codes: KERN\_INVALID\_ADDRESS at 0x00007fff5fc01028
>> >> >>>
>> >> >>> Backtrace not available
>> >> >>>
>> >> >>> Unknown thread crashed with X86 Thread State (64-bit):
>> >> >>> rax: 0x0000000000000055 rbx: 0x0000000000000000 rcx:
>> >> >>> 0x0000000000000000 rdx: 0x0000000000000000
>> >> >>> rdi: 0x0000000000000000 rsi: 0x0000000000000000 rbp:
>> >> >>> 0x0000000000000000 rsp: 0x0000000000000000
>> >> >>> r8: 0x0000000000000000 r9: 0x0000000000000000 r10:
>> >> >>> 0x0000000000000000 r11: 0x0000000000000000
>> >> >>> r12: 0x0000000000000000 r13: 0x0000000000000000 r14:
>> >> >>> 0x0000000000000000 r15: 0x0000000000000000
>> >> >>> rip: 0x00007fff5fc01028 rfl: 0x0000000000010203 cr2:
>> >> >>> 0x00007fff5fc01028
>> >> >>> Logical CPU: 2
>> >> >>>
>> >> >>> Binary images description not available
>> >> >>>
>> >> >>>
>> >> >>> External Modification Summary:
>> >> >>> Calls made by other processes targeting this process:
>> >> >>> task\_for\_pid: 0
>> >> >>> thread\_create: 0
>> >> >>> thread\_set\_state: 0
>> >> >>> Calls made by this process:
>> >> >>> task\_for\_pid: 0
>> >> >>> thread\_create: 0
>> >> >>> thread\_set\_state: 0
>> >> >>> Calls made by all processes on this machine:
>> >> >>> task\_for\_pid: 318497
>> >> >>> thread\_create: 2
>> >> >>> thread\_set\_state: 0
>> >> >>>
>> >> >>> Model: MacBookPro8,2, BootROM MBP81.0047.B27, 4 processors, Intel
>> >> >>> Core
>> >> >>> i7, 2 GHz, 16 GB, SMC 1.69f4
>> >> >>> Graphics: AMD Radeon HD 6490M, AMD Radeon HD 6490M, PCIe, 256 MB
>> >> >>> Graphics: Intel HD Graphics 3000, Intel HD Graphics 3000, Built-In,
>> >> >>> 512
>> >> >>> MB
>> >> >>> Memory Module: BANK 0/DIMM0, 8 GB, DDR3, 1333 MHz, 0x029E,
>> >> >>> 0x434D5341384758334D314131333333433920
>> >> >>> Memory Module: BANK 1/DIMM0, 8 GB, DDR3, 1333 MHz, 0x029E,
>> >> >>> 0x434D5341384758334D314131333333433920
>> >> >>> AirPort: spairport\_wireless\_card\_type\_airport\_extreme (0x14E4,
>> >> >>> 0xD6),
>> >> >>> Broadcom BCM43xx 1.0 (5.106.198.19.22)
>> >> >>> Bluetooth: Version 4.0.8f17, 2 service, 18 devices, 1 incoming
>> >> >>> serial
>> >> >>> ports
>> >> >>> Network Service: Wi-Fi, AirPort, en1
>> >> >>> Serial ATA Device: ST9500325ASG, 500.11 GB
>> >> >>> Serial ATA Device: MATSHITADVD-R UJ-8A8
>> >> >>> USB Device: FaceTime HD Camera (Built-in), apple\_vendor\_id, 0x8509,
>> >> >>> 0xfa200000 / 3
>> >> >>> USB Device: hub\_device, 0x0424 (SMSC), 0x2513, 0xfa100000 / 2
>> >> >>> USB Device: BRCM2070 Hub, 0x0a5c (Broadcom Corp.), 0x4500,
>> >> >>> 0xfa110000
>> >> >>> /
>> >> >>> 5
>> >> >>> USB Device: Bluetooth USB Host Controller, apple\_vendor\_id, 0x821a,
>> >> >>> 0xfa113000 / 8
>> >> >>> USB Device: Apple Internal Keyboard / Trackpad, apple\_vendor\_id,
>> >> >>> 0x0252, 0xfa120000 / 4
>> >> >>> USB Device: hub\_device, 0x0424 (SMSC), 0x2513, 0xfd100000 / 2
>> >> >>> USB Device: IR Receiver, apple\_vendor\_id, 0x8242, 0xfd110000 / 3
>> >> >>>
>> >> >>>
>> >> >>> Any idea what is wrong ?
>> >> >>>
>> >> >>> Arun
>> >> >>>
>> >> >>> --
>> >> >>> Java EE 7 Essentials:
>> >> >>> http://shop.oreilly.com/product/0636920030614.do
>> >> >>> Java EE 6 Pocket Guide from OReilly:
>> >> >>> http://shop.oreilly.com/product/0636920026464.do
>> >> >>>
>> >> >>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> >> >>> riak-users mailing list
>> >> >>> riak-users@lists.basho.com
>> >> >>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>> >> >>
>> >> >>
>> >> >>
>> >> >> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> >> >> riak-users mailing list
>> >> >> riak-users@lists.basho.com
>> >> >> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>> >> >>
>> >> >
>> >>
>> >>
>> >>
>> >> --
>> >> Java EE 7 Essentials: http://shop.oreilly.com/product/0636920030614.do
>> >> Java EE 6 Pocket Guide from OReilly:
>> >> http://shop.oreilly.com/product/0636920026464.do
>> >
>> >
>>
>>
>>
>> --
>> Java EE 7 Essentials: http://shop.oreilly.com/product/0636920030614.do
>> Java EE 6 Pocket Guide from OReilly:
>> http://shop.oreilly.com/product/0636920026464.do
>
>



-- 
Java EE 7 Essentials: http://shop.oreilly.com/product/0636920030614.do
Java EE 6 Pocket Guide from OReilly:
http://shop.oreilly.com/product/0636920026464.do

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

