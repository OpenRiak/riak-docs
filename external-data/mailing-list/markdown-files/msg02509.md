---
title: "Re: Key Expiry in Riak"
description: ""
project: community
lastmod: 2011-03-02T06:13:14-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02509"
mailinglist_parent_id: "msg02508"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2011-03-02T06:13:14-08:00
---


Abhishek,

Mostly answered here: 
https://help.basho.com/entries/466512-how-can-i-automatically-expire-a-key-from-riak

If you use multi\_backend with several bitcask setups you can have both expiring 
data and normal persistent data. Here's an example of what you might put in 
app.config (inside the riak\_kv section):

{storage\_backend, riak\_kv\_multi\_backend},
{multi\_backend\_default, <<"bitcask">>},
{multi\_backend, [
 {<<"bitcask">>, riak\_kv\_bitcask\_backend, []},
 {<<"sessions>>, riak\_kv\_bitcask\_backend, [{expiry\_secs, 7200}, 
{data\_root, "data/sessions"}]}
]},

The key pieces there is expiry\_secs = 7200 (2 hours), and the separate root for 
the data files.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/


P.S. If you haven't seen the Knowledge Base yet, check it out: 
https://help.basho.com/forums/270314-riak. You can also search the KB from the 
#riak IRC channel using "!kb ".

On Mar 2, 2011, at 8:21 AM, Abhishek Kona wrote:

> Hi
> 
> Is it possible to have a expiry (ttl) on RIAK keys per bucket (or per key).
> Or is there any other way that I am missing.
> 
> This would be greatly useful for maintaining Session data in RIAK, as expired 
> session data can be auto cleared.
> 
> -Abhishek Kona
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

