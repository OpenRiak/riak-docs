---
title: "Re: Problem with deleting keys"
description: ""
project: community
lastmod: 2011-06-16T10:34:09-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03729"
mailinglist_parent_id: "msg03727"
author_name: "Greg Nelson"
project_section: "mailinglistitem"
sent_date: 2011-06-16T10:34:09-07:00
---


In 0.14, would it be reasonable for the application to write its own special 
tombstone marker while at the same time setting an expiry time (== now) on the 
object? (Assuming bitcask backend...)

On Thursday, June 16, 2011 at 10:24 AM, Andrew Thompson wrote:

> On Thu, Jun 16, 2011 at 09:24:28AM -0700, David Leimbach wrote:
> > Riak doesn't have tombstones (as far as I know) so, you have to make sure
> > all your nodes are up to do a delete. This, to me, seems like a misfeature.
> 
> Please read my other responses in this thread, riak absolutely \*does\*
> have tombstones. And if you don't have all the primary nodes for a key
> up at the time of a delete, you'll write tombstones they just won't be
> able to trigger an actual removal of the key.
> 
> Now, that said. 0.14 has several bugs in how delete works and so the
> behaviour is probably going to be unpredictable. To be perfectly honest,
> I recommend avoiding deletes where possible on 0.14. As you suggested,
> implementing tombstones at the application layer might be a better
> strategy until the next major riak release. Unfortunately, the changes
> were too extensive to be backported into the 0.14 branch.
> 
> Andrew
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

