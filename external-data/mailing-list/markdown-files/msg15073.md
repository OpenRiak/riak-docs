---
title: "Re: riak_pipe_fitting error"
description: ""
project: community
lastmod: 2014-10-25T23:21:59-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15073"
mailinglist_parent_id: "msg15070"
author_name: "Oleksiy Krivoshey"
project_section: "mailinglistitem"
sent_date: 2014-10-25T23:21:59-07:00
---


Thanks! The map/reduce function being executed
is map\_get\_old\_processed\_files/3:

https://gist.github.com/oleksiyk/abdb48ebd4554d3a40e1

The request is (in Javascript):

var request = {
 inputs: ['fs\_files', accountId + '.processed.files'],
 query: [{
 map: {
 module: 'riakfs\_storage\_stats',
 function: 'map\_get\_old\_processed\_files',
 language: 'erlang',
 keep: true,
 arg: from.toDate().toISOString()
 }
 }]
 };

The bucket is of a custom type, but nothing special, just sets a LevelDB
backend with default options.

On 26 October 2014 02:28, Christopher Meiklejohn <
christopher.meiklej...@gmail.com> wrote:

> Hi,
>
> Can you please send the map-reduce job you tried to run and I would be
> happy to debug it.
>
> Chris
>
> > On Oct 25, 2014, at 22:51, Oleksiy Krivoshey  wrote:
> >
> > Hi!
> >
> > Once in a few days I got the following error in my Riak cluster:
> >
> > 2014-10-25 03:01:23.731 [error] <0.221.0> Supervisor
> riak\_pipe\_fitting\_sup had child undefined started with
> riak\_pipe\_fitting:start\_link() at <0.22692.2455> exit with reason noproc in
> context shutdown\_err
> > or
> > 2014-10-25 05:00:09.896 [error] <0.221.0> Supervisor
> riak\_pipe\_fitting\_sup had child undefined started with
> riak\_pipe\_fitting:start\_link() at <0.27111.2457> exit with reason noproc in
> context shutdown\_err
> > or
> >
> > The client application exits with a connection timeout error when
> hitting this error.
> >
> > Please suggest what does this mean and how to fix it?
> >
> > Thanks!
> >
> > --
> > Oleksiy
> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > riak-users mailing list
> > riak-users@lists.basho.com
> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>



-- 
Oleksiy Krivoshey
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

