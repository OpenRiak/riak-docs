---
title: "Re: Difference between riakc_obj and riak_object"
description: ""
project: community
lastmod: 2011-02-16T05:41:27-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02335"
mailinglist_parent_id: "msg02217"
author_name: "Florian Odronitz"
project_section: "mailinglistitem"
sent_date: 2011-02-16T05:41:27-08:00
---


Hi Dan,

I forked and re-factored the erlang client so the record definitions of 
riak\_object (server) and riakc\_obj (client) match, removing the client side 
discrepancy between the results from get and the results from mapred. The 
changes should be backwards compatible but a critical look is very welcomed.

You can find at at: https://github.com/odo/riak-erlang-client

I tried to extend riakc\_obj with riak\_object but that would have made the 
client vulnerable to changes in the core application, so I decided to copy the 
functions.
When running 'make; make test' 58 tests are passing but two are still failing. 
I can't put my finger on what is going wrong here and any suggestions would be 
greatly appreciated.

Thanks,
Florian

On 07.02.2011, at 23:12, Dan Reverri wrote:

> Hi Florian,
> 
> riak\_object is the module used by the native Erlang client and was used 
> before the protocol buffers interface existed.
> 
> riakc\_obj is used by the Erlang protocol buffers client and does not depend 
> on any Riak KV code.
> 
> Re-factoring the code to use a single module seems like a good idea; pull 
> requests are always welcome if you want to give it a shot.
> 
> Thanks,
> Dan
> 
> Daniel Reverri
> Developer Advocate
> Basho Technologies, Inc.
> d...@basho.com
> 
> 
> On Sat, Feb 5, 2011 at 7:43 AM, Florian Odronitz  wrote:
> Hi All,
> 
> I am using the erlang protocol buffers client which uses riakc\_obj to handle 
> riak objects. As I understand riak uses riak\_object internally.
> Looking at the functions the modules look almost identical. Why is it done 
> that way?
> 
> Thanks,
> Florian
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> 
> 



smime.p7s
Description: S/MIME cryptographic signature
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

