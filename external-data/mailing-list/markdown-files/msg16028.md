---
title: "Re: riak 2.0 + riak-cs 2.0 trouble"
description: ""
project: community
lastmod: 2015-04-17T05:46:17-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16028"
mailinglist_parent_id: "msg16027"
author_name: "Stanislav Vlasov"
project_section: "mailinglistitem"
sent_date: 2015-04-17T05:46:17-07:00
---


2015-04-17 17:31 GMT+05:00 John Daily :
> Thanks, that helps. You’re right that the documentation is a bit buggy, or at 
> least incomplete.

> The problem is that the example provided in the docs is just a snippet. To 
> make a fully-functional advanced.config file requires a bit more syntactical 
> structure.

> You’ll need to wrap what you provided in an Erlang array, with square 
> brackets and a period terminating it.

> See http://pastebin.com/90gh6amg.

Thank you.

Please, add template for this config to next riak package.

> -John
>
> On Apr 17, 2015, at 8:24 AM, Stanislav Vlasov  wrote:
>
>> 2015-04-17 17:04 GMT+05:00 John Daily :
>>> Unfortunately it’s very easy to introduce syntax errors into Erlang 
>>> configuration files (and tricky to diagnose them without Erlang 
>>> experience), which is why we’re moving toward the newer sysctl-style files 
>>> like riak.conf.
>>>
>>> The example in the documentation looks ok; can we see a copy of your 
>>> advanced.config file? Please redact any sensitive information, and I’d 
>>> suggest Pastebin or a GitHub gist.
>>
>> It was copied from site by cut-n-paste, no any additions:
>> http://pastebin.com/Hyv3tvMS
>>
>> Last comma in line before second '%%' removed by me.
>>
>>> -John
>>>
>>> On Apr 17, 2015, at 7:57 AM, Stanislav Vlasov  
>>> wrote:
>>>
>>>> I have troubles setting up a test riak node for riak-cs. Here's how to
>>>> reproduce my problem:
>>>>
>>>> 1) install on Debian 7 riak 2.0.5 and riak 2.0.0 from apt repository
>>>> as in 
>>>> http://docs.basho.com/riak/latest/ops/building/installing/debian-ubuntu/
>>>> and 
>>>> http://docs.basho.com/riakcs/latest/cookbooks/installing/Installing-Riak-CS/
>>>> 2) create advanced.config in /etc/riak as in
>>>> http://docs.basho.com/riakcs/latest/cookbooks/configuration/Configuring-Riak/#Setting-up-the-Proper-Riak-Backend
>>>>
>>>> After that I get an error in advanced.config
>>>>
>>>> last lines of 'riak config generate -l debug':
>>>> 10:54:47.488 [info] /etc/riak/advanced.config detected, overlaying 
>>>> proplists
>>>> 10:54:47.488 [error] Error parsing /etc/riak/advanced.config: 17:
>>>> syntax error before: ']'
>>>>
>>>> If i remove last comma in advanced.config, I get another error:
>>>>
>>>> 10:58:21.398 [info] /etc/riak/advanced.config detected, overlaying 
>>>> proplists
>>>> 10:58:21.399 [error] Error parsing /etc/riak/advanced.config: 17:
>>>> syntax error before:
>>>>
>>>> I think, it is a bug either in documentation or in config generator
>>>>
>>>> --
>>>> Stanislav
>>>>
>>>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>>> riak-users mailing list
>>>> riak-users@lists.basho.com
>>>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>>
>>
>>
>>
>> --
>> Stanislav
>



-- 
Stanislav

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

