---
title: "Re: ripple doesn't find Boolean"
description: ""
project: community
lastmod: 2010-06-06T04:30:17-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00507"
mailinglist_parent_id: "msg00488"
author_name: "francisco treacy"
project_section: "mailinglistitem"
sent_date: 2010-06-06T04:30:17-07:00
---


Hi Sean,

I'd appreciate if you could look into it - my Ruby-fu is not good
enough yet. ::Boolean didn't make the trick.

Thanks,

Francisco


2010/6/2 Sean Cribbs :
> Frank,
>
> It's probably a combination of two things that I need to investigate. First, 
> 1.9 is much more picky about resolving namespaces (try ::Boolean?). Second, I 
> probably need to make sure that the casting.rb file is eagerly loaded and not 
> lazily.
>
> Sean Cribbs 
> Developer Advocate
> Basho Technologies, Inc.
> http://basho.com/
>
> On Jun 2, 2010, at 5:59 AM, francisco treacy wrote:
>
>> My User model has some properties
>>
>>  property :name, String
>>  property :email, String, :presence => true
>>  property :items, Array, :default => []
>>  (...)
>>
>> Now when I want to use a Boolean:
>>  property :admin, Boolean
>>
>> I get the following:
>>
>> ruby-1.9.1-p378 > user = User.find('t...@gmail.com')
>> NameError: uninitialized constant User::Boolean
>>       from /Users/ftreacy/Documents/work/projects/ws/app/models/user.rb:30:in
>> `'
>>       from /Users/ftreacy/Documents/work/projects/ws/app/models/user.rb:20:in
>> `'
>>
>> Why isn't Ripple's Boolean not being found? What am I missing?
>>
>> Francisco
>>
>> ps: my current workaround: copy/paste the Module into user.rb - this works
>>
>> module Boolean
>>  def self.ripple\_cast(value)
>>    case value
>>    when NilClass
>>      nil
>>    when Numeric
>>      !value.zero?
>>    when TrueClass, FalseClass
>>      value
>>    when /^\s\*t/i
>>      true
>>    when /^\s\*f/i
>>      false
>>    else
>>      value.present?
>>    end
>>  end
>> end
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

