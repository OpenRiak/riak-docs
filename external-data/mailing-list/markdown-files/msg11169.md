---
title: "Unable to compile Riak from source (Ubuntu precise 32bit)"
description: ""
project: community
lastmod: 2013-05-24T17:30:39-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11169"
author_name: "khoi pham cao"
project_section: "mailinglistitem"
sent_date: 2013-05-24T17:30:39-07:00

---


Hi all,

Riak version used is 1.2.1. I tried spinning up 4 nodes with 'make devrel'
but it failed at compiling deps and returned some errors about erlang\_js
trying to use 64bit operations on 32bit machine. Unfortunately I no longer
hold the error log. I then erased riak folder and run 'make devrel' from a
fresh copy. This time it still failed at compiling deps but instead stops
at erlang\_protobuffs:

==> cluster\_info (get-deps)
==> lager (get-deps)
==> poolboy (get-deps)
==> meck (get-deps)
==> protobuffs (get-deps)
==> basho\_stats (get-deps)
==> riak\_sysmon (get-deps)
==> mochiweb (get-deps)
==> webmachine (get-deps)
==> bear (get-deps)
==> folsom (get-deps)
==> riak\_core (get-deps)
==> luke (get-deps)
==> erlang\_js (get-deps)
==> bitcask (get-deps)
==> merge\_index (get-deps)
==> ebloom (get-deps)
==> getopt (get-deps)
==> eper (get-deps)
==> eleveldb (get-deps)
Cloning into 'leveldb'...
Note: checking out '1.2.2p5'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

 git checkout -b new\_branch\_name

HEAD is now at cd3bcc8... Internet was wrong on how to set feature test for
clock\_nanosleep. Last time I use Internet for technical data.
==> edown (get-deps)
==> sext (get-deps)
==> riak\_pipe (get-deps)
==> riak\_pb (get-deps)
==> riak\_api (get-deps)
==> riak\_kv (get-deps)
==> lucene\_parser (get-deps)
==> riak\_search (get-deps)
==> erlydtl (get-deps)
==> riak\_control (get-deps)
==> rel (get-deps)
==> riak-1.2.1 (get-deps)
./rebar compile
==> cluster\_info (compile)
Compiled src/cluster\_info\_ex.erl
Compiled src/cluster\_info.erl
Compiled src/cluster\_info\_basic.erl
==> lager (compile)
Compiled src/lager\_util.erl
Compiled src/lager\_transform.erl
Compiled src/lager\_app.erl
Compiled src/lager\_mochiglobal.erl
Compiled src/error\_logger\_lager\_h.erl
Compiled src/lager\_file\_backend.erl
Compiled src/lager\_trunc\_io.erl
Compiled src/lager\_console\_backend.erl
Compiled src/lager.erl
Compiled src/lager\_handler\_watcher\_sup.erl
Compiled src/lager\_handler\_watcher.erl
Compiled src/lager\_sup.erl
Compiled src/lager\_stdlib.erl
Compiled src/lager\_format.erl
Compiled src/lager\_crash\_log.erl
==> poolboy (compile)
Compiled src/poolboy\_worker.erl
Compiled src/poolboy\_sup.erl
Compiled src/poolboy.erl
==> meck (compile)
Compiled src/meck\_mod.erl
Compiled src/meck\_cover.erl
Compiled src/meck.erl
==> protobuffs (compile)
make: \*\*\* [compile] Error 1


I tried pulling latest protobuffs from github but the error remains. I
don't know what to make of this. Is riak can only be compiled on 64bit
machine?

Thanks,
Khoi.
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

