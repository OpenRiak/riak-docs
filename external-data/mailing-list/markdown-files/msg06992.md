---
title: "Re: Ruby eventmachine async client"
description: ""
project: community
lastmod: 2012-03-16T13:50:20-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06992"
mailinglist_parent_id: "msg06988"
author_name: "graphex"
project_section: "mailinglistitem"
sent_date: 2012-03-16T13:50:20-07:00
---


You just had to throw that out there, eh Cribbs?... now I'm debating about
tossing the last week and a half spent watching conference videos about
eventMachine and debating if I should implement celluloid instead. I've been
to a couple of happy hours with Tony Arcieri and now I feel like nobody told
me what the cool kids were using for their nonblocking, threaded systems.


Sean Cribbs-2 wrote
> 
> I would love to see a Celluloid::IO-based HTTP/PBC client almost more than
> an EM or em-synchrony client. I seem to remember looking at
> em-http-request
> and found its capabilities as an HTTP client lacking in a few important
> areas.
> 
> On Fri, Mar 16, 2012 at 3:55 PM, graphex <gfxlists@> wrote:
> 
>>
>> Elias Levy wrote
>> >
>> > If you look at the list archive's you'll see that a while ago I posted
>> > some
>> > code to monkey patch the Ruby client to use EM Synchrony's TCPSocket so
>> as
>> > to support EM.
>> >
>> > You'll find it at
>> >
>> http://lists.basho.com/pipermail/riak-users\_lists.basho.com/2011-November/006308.html
>> >
>>
>> Ah, I had read that before but didn't notice it was on synchrony. My
>> issue
>> is that I've had trouble with riak-ruby-client using PBC with 2i, so I
>> sort
>> of wrote it off (see: 
>> https://github.com/basho/riak-ruby-client/issues/17
>> https://github.com/basho/riak-ruby-client/issues/17 )
>>
>> That combined with the short reads issue sort of put me off on that
>> front.
>>
>>
>> Mathias Meyer wrote
>> >
>> > I'd recommend looking at #2, it looks like an easy path and should make
>> > for a great addition to the riak-ruby-client too. In my ideal world,
>> > there'd be a backend based on Faraday [2], so that the Ruby client
>> > wouldn't even have to worry about the underlying implementation, but
>> you
>> > need to punch Sean Cribbs (very nicely) about that. Or you could just
>> use
>> > Faraday instead of em-synchrony all along, since Faraday has a backend
>> for
>> > em-http/synchrony already.
>> >
>>
>> That would certainly be nice though I'm unfortunately too low on time to
>> take a stab... and I've only looked at Faraday a bit... and synchrony is
>> kind of hurting my mind (actually more comfortable with callbacks and
>> -gasp-
>> curly braces!) Sounds like the best solution, though, and hopefully I can
>> circle back on that once I can delegate some of my other tasks to
>> someone.
>> For now, i will try out a fiber/iterator approach and fall back to a
>> defer
>> if it doesn't go well.
>>
>> I'm also secretly hoping that someone at basho can hook up the client to
>> an
>> em-style backend so it just works like -cough- mongo does.
>>
>> Thanks for the help guys!
>>
>> --
>> View this message in context:
>> http://riak-users.197444.n3.nabble.com/Ruby-eventmachine-async-client-tp3830975p3832985.html
>> Sent from the Riak Users mailing list archive at Nabble.com.
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@.basho
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
> 
> 
> 
> -- 
> Sean Cribbs <sean@>
> Software Engineer
> Basho Technologies, Inc.
> http://basho.com/
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@.basho
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> 


--
View this message in context: 
http://riak-users.197444.n3.nabble.com/Ruby-eventmachine-async-client-tp3830975p3833132.html
Sent from the Riak Users mailing list archive at Nabble.com.

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

