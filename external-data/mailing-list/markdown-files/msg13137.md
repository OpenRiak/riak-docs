---
title: "critical config messages in riak-admin diag"
description: ""
project: community
lastmod: 2013-12-03T01:50:12-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13137"
author_name: "Ingo Rockel"
project_section: "mailinglistitem"
sent_date: 2013-12-03T01:50:12-08:00

---



Hi,

we just updated riak cluster to 1.4.2 from 1.3.0 and as suggested in the 
rolling upgrade docs I did a "riak-admin diag" and got the following 
messages:


[root@37VQMW1 riak]# riak-admin diag
[critical] net.core.wmem\_default is 229376, should be at least 8388608
[critical] net.core.rmem\_default is 229376, should be at least 8388608
[critical] net.core.wmem\_max is 131071, should be at least 8388608
[critical] net.core.rmem\_max is 131071, should be at least 8388608
[critical] net.core.netdev\_max\_backlog is 1000, should be at least 10000

but according to the doc:

http://docs.basho.com/riak/latest/ops/tuning/linux/

these configs are optional and only help performance on a 10GB network 
(we only have 1GB). So should I change the values or leave them alone?


Ingo

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

