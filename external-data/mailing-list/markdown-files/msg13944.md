---
title: "Two instances on the same server"
description: ""
project: community
lastmod: 2014-03-28T10:19:10-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13944"
author_name: "Massimiliano Ciancio"
project_section: "mailinglistitem"
sent_date: 2014-03-28T10:19:10-07:00

---


Hello list,
I'm trying to start two different instances of riak on the same server
in order to have a test instance. I replicated the ..../riak/rel/riak
dir into two dfferent dirs (prod and test) and changed node name and
ports.
To start/stop a node I use full path "/..../riak/rel/prod/bin/riak
start" and "/..../riak/rel/test/bin/riak start"
But starting/stopping a node doesn't work: the two instances of riak
are confused. For example:
- all stopped
- start prod instance -> ok
- start test instance -> the node is already running....
Same problems even when stopping: the two instances are confused.

Is there some name/ port I haven't changed?

Follows my changes:
PROD:
 {pb, [ {"0.0.0.0", 8087 } ]}
 {http, [ {"0.0.0.0", 8098 } ]},
 {https, [{ "127.0.0.1", 8069 }]},
 {handoff\_port, 8099 },
 -name r...@192.168.1.xxx

TEST:
 {pb, [ {"0.0.0.0", 18087 } ]}
 {http, [ {"0.0.0.0", 18098 } ]},
 {https, [{ "127.0.0.1", 18069 }]},
 {handoff\_port, 18099 },
 -name t...@192.168.1.xxx

There is more to change?
Is there a better strategy to test on the same servers?

Thanks in advance
Massimiliano

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

