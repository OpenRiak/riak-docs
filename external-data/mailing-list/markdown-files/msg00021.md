---
title: "Implementing simple linear data structures in Riak"
description: ""
project: community
lastmod: 2010-04-13T07:53:03-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00021"
author_name: "Laurens Van Houtven"
project_section: "mailinglistitem"
sent_date: 2010-04-13T07:53:03-07:00

---


Hello,


Short use case sketch: lots of sensors distributed geographically report
sensor data. After a while, something (usually the sensor itself) tells me
that the data I've got so far for a particular sensor is a logical set. All
of the data that's been collected so far (at least since the last time it
told me to do that) is then collected, so all sorts of post-processing can
happen to it.

For people that have been following redis: redis' list type does what I
want, but Redis isn't distributed like Riak and friends are, instead relying
on traditional replication schemes.

So, in short, I basically want a list with fast appending, and I want to be
able to empty it later (without losing any data. If the emptying command
comes and then some data comes in while doing the emptying, that data can't
be lost -- so either I get to specify how much data is removed, or it just
keeps removing until the queue is empty. It doesn't really matter if the
data ends up with the newly finalized set, or will be added to the next one.
How can I do that in riak? Are links involved?

This sounds somewhat similar (although not entirely) to the RabbitMQ
persisting Kevin Smith (@kevsmith) is up to. We're already using RabbitMQ.
Perhaps this could be modeled as a queue with no consumers, and the consumer
is created as soon as the sensor says this is the end/beginning of a logical
dataset?

All of my data comes with a timestamp. Perhaps it's possible to parse the
data and just kill everything off that's older than a particular timestamp?



Thanks in advance for your input
Laurens
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

