---
title: "RE: Cluster setup"
description: ""
project: community
lastmod: 2012-12-11T11:11:45-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09527"
mailinglist_parent_id: "msg09526"
author_name: "Kevin Burton"
project_section: "mailinglistitem"
sent_date: 2012-12-11T11:11:45-08:00
---


Thank you. I have restarted the server several times and I don't see riak
running with 'ps ax'. The configuration is set to come up on reboot so there
shouldn't be any other instance of riak around to run.

-----Original Message-----
From: Russell Brown [mailto:russell.br...@me.com] 
Sent: Tuesday, December 11, 2012 1:09 PM
To: Kevin Burton
Cc: 'Sean Carey'; riak-users@lists.basho.com
Subject: Re: Cluster setup

Hey,

'eaddrinuse' from your previous mail suggests that the address your binding
to is already in use. Maybe riak is already running? Or something else is
bound to the address?

Cheers

Russell

On 11 Dec 2012, at 19:06, Kevin Burton  wrote:

> Any more information on this or something I can do to help diagnose my own
problem?
> 
> Again app.config looks like:
> 
> app.config looks like:
> [
> 
> %% Riak Client APIs config
> 
> {riak\_api, [
> %% pb\_backlog is the maximum length to which the queue of
pending
> %% connections may grow. If set, it must be an integer >= 0.
> %% By default the value is 5. If you anticipate a huge number
of
> %% connections being initialised \*simultaneously\*, set this
number
> %% higher.
> %% {pb\_backlog, 64},
> %% pb\_ip is the IP address that the Riak Protocol Buffers
interface
> %% will bind to. If this is undefined, the interface will not
run.
> {pb\_ip, "10.79.110.52" },
> %% pb\_port is the TCP port that the Riak Protocol Buffers
interface
> %% will bind to
> {pb\_port, 8089 }
> ]},
> %% Riak Core config
> {riak\_core, [
> %% Default location of ringstate
> {ring\_state\_dir, "/var/lib/riak/ring"},
> 
> %% Default ring creation size. Make sure it is a power of
2,
> %% e.g. 16, 32, 64, 128, 256, 512 etc
> %{ring\_creation\_size, 64},
> 
> %% http is a list of IP addresses and TCP ports that the
Riak
> %% HTTP interface will bind.
> {http, [ {"10.79.110.52", 8099 } ]},
> 
> ifconfig looks like:
> 
> eth0 Link encap:Ethernet HWaddr 00:15:5D:50:3B:27
> inet addr:10.79.110.52 Bcast:10.79.111.255 Mask:255.255.254.0
> inet6 addr: fe80::215:5dff:fe50:3b27/64 Scope:Link
> UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1
> RX packets:879 errors:0 dropped:0 overruns:0 frame:0
> TX packets:1353 errors:0 dropped:0 overruns:0 carrier:0
> collisions:0 txqueuelen:1000
> RX bytes:107098 (104.5 KiB) TX bytes:204947 (200.1 KiB)
> 
> lo Link encap:Local Loopback
> inet addr:127.0.0.1 Mask:255.0.0.0
> inet6 addr: ::1/128 Scope:Host
> UP LOOPBACK RUNNING MTU:16436 Metric:1
> RX packets:656 errors:0 dropped:0 overruns:0 frame:0
> TX packets:656 errors:0 dropped:0 overruns:0 carrier:0
> collisions:0 txqueuelen:0
> RX bytes:38513 (37.6 KiB) TX bytes:38513 (37.6 KiB)
> 
> Finally the error.log
> 
> 2012-12-11 05:24:49.785 [error] <0.170.0> CRASH REPORT Process 
> <0.170.0> with 0 neighbours exited with reason: eaddrinuse in 
> gen\_server:init\_it/6 line 320
> 2012-12-11 14:11:31.723 [info] <0.7.0> Application lager started on node
'riak@10.79.110.52'
> 2012-12-11 14:11:31.904 [warning]
<0.154.0>@riak\_core\_ring\_manager:reload\_ring:231 No ring file available.
> 2012-12-11 14:11:32.091 [error] <0.170.0> CRASH REPORT Process 
> <0.170.0> with 0 neighbours exited with reason: eaddrinuse in 
> gen\_server:init\_it/6 line 320
> 2012-12-11 16:31:34.125 [info] <0.7.0> Application lager started on node
'riak@10.79.110.52'
> 2012-12-11 16:31:34.415 [warning]
<0.151.0>@riak\_core\_ring\_manager:reload\_ring:231 No ring file available.
> 2012-12-11 16:31:34.711 [error] <0.170.0> CRASH REPORT Process 
> <0.170.0> with 0 neighbours exited with reason: eaddrinuse in 
> gen\_server:init\_it/6 line 320
> 2012-12-11 17:57:02.388 [info] <0.7.0> Application lager started on node
'riak@10.79.110.52'
> 2012-12-11 17:57:02.648 [warning]
<0.154.0>@riak\_core\_ring\_manager:reload\_ring:231 No ring file available.
> 2012-12-11 17:57:02.899 [error] <0.170.0> CRASH REPORT Process 
> <0.170.0> with 0 neighbours exited with reason: eaddrinuse in 
> gen\_server:init\_it/6 line 320 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com



\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

