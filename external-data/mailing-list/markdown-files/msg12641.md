---
title: "Re: Fetch method returns null point exception error"
description: ""
project: community
lastmod: 2013-10-16T07:49:22-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12641"
mailinglist_parent_id: "msg12640"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2013-10-16T07:49:22-07:00
---


Hello Chan,

What client library are you using to communicate with Riak, and, are you
using protocol buffers or HTTP?
--
Luke Bakken
CSE
lbak...@basho.com


On Tue, Oct 15, 2013 at 8:31 PM, 성동찬\_Chan  wrote:

> Hi~!
>
> I'm testing riak as a cache server with 6 server cluster, 2 hours
> expiration time.
> I gave traffic to cluster about 40,000 quries per second from 12hours ago.
> From start point, there was no problem, but after 8hours fetch method
> returns fail with "null point excpetion".
> I change nothing while test operation.
>
> Below, you can see "riak-admin status" and riak-admin top" result.
> Could show me what cause this and how to solve this problem?
>
> Thank you.
> Chan.
>
> \*riak-admin status\*
>
> -------------------------------------------------------------------------------------------------------------------------------
> riak\_kv\_stat\_ts : 1381893196
> vnode\_gets : 1301374
> vnode\_gets\_total : 1488219135
> vnode\_puts : 650670
> vnode\_puts\_total : 273164708
> vnode\_index\_reads : 0
> vnode\_index\_reads\_total : 0
> vnode\_index\_writes : 650670
> vnode\_index\_writes\_total : 273164708
> vnode\_index\_writes\_postings : 0
> vnode\_index\_writes\_postings\_total : 0
> vnode\_index\_deletes : 0
> vnode\_index\_deletes\_total : 0
> vnode\_index\_deletes\_postings : 0
> vnode\_index\_deletes\_postings\_total : 0
> node\_gets : 532128
> node\_gets\_total : 605453222
> node\_get\_fsm\_siblings\_mean : 0
> node\_get\_fsm\_siblings\_median : 0
> node\_get\_fsm\_siblings\_95 : 0
> node\_get\_fsm\_siblings\_99 : 0
> node\_get\_fsm\_siblings\_100 : 0
> node\_get\_fsm\_objsize\_mean : 0
> node\_get\_fsm\_objsize\_median : 0
> node\_get\_fsm\_objsize\_95 : 0
> node\_get\_fsm\_objsize\_99 : 0
> node\_get\_fsm\_objsize\_100 : 0
> node\_get\_fsm\_time\_mean : 476
> node\_get\_fsm\_time\_median : 467
> node\_get\_fsm\_time\_95 : 865
> node\_get\_fsm\_time\_99 : 1119
> node\_get\_fsm\_time\_100 : 3213
> node\_puts : 226235
> node\_puts\_total : 95080556
> node\_put\_fsm\_time\_mean : 1179
> node\_put\_fsm\_time\_median : 1116
> node\_put\_fsm\_time\_95 : 1806
> node\_put\_fsm\_time\_99 : 2337
> node\_put\_fsm\_time\_100 : 10206
> read\_repairs : 0
> read\_repairs\_total : 2697556
> coord\_redirs\_total : 58178410
> executing\_mappers : 0
> precommit\_fail : 0
> postcommit\_fail : 0
> index\_fsm\_create : 0
> index\_fsm\_create\_error : 0
> index\_fsm\_active : 0
> list\_fsm\_create : 0
> list\_fsm\_create\_error : 0
> list\_fsm\_active : 0
> pbc\_active : 29
> pbc\_connects : 1
> pbc\_connects\_total : 2284
> node\_get\_fsm\_active : 22
> node\_get\_fsm\_active\_60s : 527810
> node\_get\_fsm\_in\_rate : 8562
> node\_get\_fsm\_out\_rate : 8560
> node\_get\_fsm\_rejected : 0
> node\_get\_fsm\_rejected\_60s : 0
> node\_get\_fsm\_rejected\_total : 0
> node\_put\_fsm\_active : 5
> node\_put\_fsm\_active\_60s : 368997
> node\_put\_fsm\_in\_rate : 6130
> node\_put\_fsm\_out\_rate : 6128
> node\_put\_fsm\_rejected : 0
> node\_put\_fsm\_rejected\_60s : 0
> node\_put\_fsm\_rejected\_total : 0
> read\_repairs\_primary\_outofdate\_one : 0
> read\_repairs\_primary\_outofdate\_count : 126588
> read\_repairs\_primary\_notfound\_one : 0
> read\_repairs\_primary\_notfound\_count : 4169558
> leveldb\_read\_block\_error : undefined
> riak\_pipe\_stat\_ts : 1381893196
> pipeline\_active : 0
> pipeline\_create\_count : 0
> pipeline\_create\_one : 0
> pipeline\_create\_error\_count : 0
> pipeline\_create\_error\_one : 0
> cpu\_nprocs : 361
> cpu\_avg1 : 2068
> cpu\_avg5 : 2045
> cpu\_avg15 : 2028
> mem\_total : 16799096832
> mem\_allocated : 4083048448
> disk : [{"/",279713876,2},{"/dev/shm",8202684,0}]
> nodename : 'c...@fox656.kr2.iwilab.com'
> connected\_nodes : ['c...@fox136.kr2.iwilab.com','
> c...@fox167.kr2.iwilab.com',
> 'c...@fox655.kr2.iwilab.com','
> c...@fox654.kr2.iwilab.com',
> 'c...@fox168.kr2.iwilab.com']
> sys\_driver\_version : <<"2.0">>
> sys\_global\_heaps\_size : 0
> sys\_heap\_type : private
> sys\_logical\_processors : 8
> sys\_otp\_release : <<"R15B01">>
> sys\_process\_count : 566
> sys\_smp\_support : true
> sys\_system\_version : <<"Erlang R15B01 (erts-5.9.1) [source] [64-bit]
> [smp:8:8] [async-threads:128] [kernel-poll:true]">>
> sys\_system\_architecture : <<"x86\_64-unknown-linux-gnu">>
> sys\_threads\_enabled : true
> sys\_thread\_pool\_size : 128
> sys\_wordsize : 8
> ring\_members : ['c...@fox136.kr2.iwilab.com','c...@fox167.kr2.iwilab.com',
> 'c...@fox168.kr2.iwilab.com','c...@fox654.kr2.iwilab.com',
> 'c...@fox655.kr2.iwilab.com','c...@fox656.kr2.iwilab.com']
> ring\_num\_partitions : 32
> ring\_ownership : <<"[{'c...@fox656.kr2.iwilab.com',5},\n {'
> c...@fox655.kr2.iwilab.com',5},\n {'c...@fox654.kr2.iwilab.com',5},\n {'
> c...@fox168.kr2.iwilab.com',5},\n {'c...@fox167.kr2.iwilab.com',6},\n {'
> c...@fox136.kr2.iwilab.com',6}]">>
> ring\_creation\_size : 32
> storage\_backend : riak\_kv\_multi\_backend
> erlydtl\_version : <<"0.7.0">>
> riak\_control\_version : <<"1.4.2-0-g2f08324">>
> cluster\_info\_version : <<"1.2.4">>
> riak\_search\_version : <<"1.4.2-0-ge31368d">>
> merge\_index\_version : <<"1.3.1">>
> riak\_kv\_version : <<"1.4.2-0-g61ac9d8">>
> sidejob\_version : <<"0.2.0">>
> riak\_api\_version : <<"1.4.2-0-ga7e00e2">>
> riak\_pipe\_version : <<"1.4.2-0-g59d1bae">>
> riak\_core\_version : <<"1.4.2">>
> bitcask\_version : <<"1.6.3">>
> basho\_stats\_version : <<"1.0.3">>
> webmachine\_version : <<"1.10.4-0-gfcff795">>
> mochiweb\_version : <<"1.5.1p6">>
> inets\_version : <<"5.9">>
> erlang\_js\_version : <<"1.2.2">>
> runtime\_tools\_version : <<"1.8.8">>
> os\_mon\_version : <<"2.2.9">>
> riak\_sysmon\_version : <<"1.1.3">>
> ssl\_version : <<"5.0.1">>
> public\_key\_version : <<"0.15">>
> crypto\_version : <<"2.1">>
> sasl\_version : <<"2.2.1">>
> lager\_version : <<"2.0.0">>
> compiler\_version : <<"4.8.1">>
> syntax\_tools\_version : <<"1.6.8">>
> stdlib\_version : <<"1.18.1">>
> kernel\_version : <<"2.15.1">>
> memory\_total : 333983032
> memory\_processes : 10197917
> memory\_processes\_used : 9925151
> memory\_system : 323785115
> memory\_atom : 504409
> memory\_atom\_used : 485838
> memory\_binary : 479552
> memory\_code : 10516587
> memory\_ets : 227826744
>
> \*riak-admin top\*
>
> -------------------------------------------------------------------------------------------------------------------------------
> Pid Name or Initial Func Time Reds
> Memory MsgQ Current Function
>
> -------------------------------------------------------------------------------------------------------------------------------
> <6210.632.0> proc\_lib:init\_p/5 '-' 8916284
> 21744 1 riak\_core\_vnode:continue/2
> <6210.631.0> proc\_lib:init\_p/5 '-' 8890232
> 21696 0 gen\_fsm:loop/7
> <6210.565.0> proc\_lib:init\_p/5 '-' 8881011
> 8920 0 gen\_fsm:loop/7
> <6210.511.0> proc\_lib:init\_p/5 '-' 8795742
> 21728 1 gen\_fsm:loop/7
> <6210.633.0> proc\_lib:init\_p/5 '-' 8791178
> 21696 0 gen\_fsm:loop/7
> <6210.337.0> riak\_kv\_stat\_sj\_8 '-' 4292821
> 3856 0 gen\_server:loop/6
> <6210.331.0> riak\_kv\_stat\_sj\_2 '-' 3583242
> 3856 0 gen\_server:loop/6
> <6210.332.0> riak\_kv\_stat\_sj\_3 '-' 3374842
> 5720 0 gen\_server:loop/6
> <6210.336.0> riak\_kv\_stat\_sj\_7 '-' 3362782
> 5720 0 gen\_server:loop/6
> <6210.334.0> riak\_kv\_stat\_sj\_5 '-' 3328089
> 3856 0 gen\_server:loop/6
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

