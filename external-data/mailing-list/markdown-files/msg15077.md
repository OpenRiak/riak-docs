---
title: "Re: Riak Search Schema Question"
description: ""
project: community
lastmod: 2014-10-26T07:44:53-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15077"
mailinglist_parent_id: "msg15072"
author_name: "Andrew Zeneski"
project_section: "mailinglistitem"
sent_date: 2014-10-26T07:44:53-07:00
---


Yes right, I was tired when I typed this; stats should be an array:

{"id": 1, "stats": [{ "name": "stat1", "value": 1 }, {"name": "stat2",
"value": 5}]}
{"id": 2, "stats": [{ "name": "stat3", "value": 2 }, {"name": "stat1",
"value": 3}]}
{"id": 3, "stats": [{ "name": "stat2", "value": 3 }, {"name": "stat3",
"value": 1}}]

I haven't tried it either, but I was worried that stats\_name = stat1 and
stats\_value > 1 would return both ID 1 and 2 because both have a name
stats1 and both have some value > 1.

Andrew


On Sun, Oct 26, 2014 at 12:50 AM, Alexander Sicular 
wrote:

> Haven't tried it out but should stats be an array?
>
> And the query would be something like
>
> Stats\_name = stat1 and stats\_value > 1
>
> I think the extractor flattens everything and separates with underscores.
>
> -Alexander
>
> @siculars
> http://siculars.posthaven.com
>
> Sent from my iRotaryPhone
>
> > On Oct 25, 2014, at 22:53, Andrew Zeneski 
> wrote:
> >
> > Hi All, I'm trying to determine if a use case is supported by Yokozuna
> or not.
> >
> > With a stored value that looks like:
> >
> > {"id": 1, "stats": { "name": "stat1", "value": 1 }, {"name": "stat2",
> "value": 5}}
> > {"id": 2, "stats": { "name": "stat3", "value": 2 }, {"name": "stat1",
> "value": 3}}
> > {"id": 3, "stats": { "name": "stat2", "value": 3 }, {"name": "stat3",
> "value": 1}}
> >
> > I want to find those who have stat1 > 2. The result should be id 2.
> >
> > I believe Solr 4.8 would handle this as a block-join, but I don't think
> Yokozuna supports this feature. My first thought was a custom extractor;
> are there other options I'm not seeing?
> >
> > Thanks!
> >
> > Andrew
> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > riak-users mailing list
> > riak-users@lists.basho.com
> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

