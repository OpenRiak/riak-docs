---
title: "Re: Copying data between clusters"
description: ""
project: community
lastmod: 2010-05-07T21:17:38-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00284"
mailinglist_parent_id: "msg00283"
author_name: "Kevin Smith"
project_section: "mailinglistitem"
sent_date: 2010-05-07T21:17:38-07:00
---


Alan -

I can't answer your replication questions -- don't have a lot of experience 
with it yet -- but I can take a stab at setting the global replication setting.

If I'm understanding correctly I believe you're referring to the N value. N 
controls how many replicas of an entry Riak stores, in total, around the 
cluster. Docs on tuning this value can be found here: 
http://wiki.basho.com/display/RIAK/Replication

--Kevin


On May 7, 2010, at 10:06 PM, Alan McConnell wrote:

> • Is it possible to use the built-in backup/restore functions of 
> riak-admin to copy data between clusters? The scenario is that we have 
> separate test and production environments, each with separate riak clusters 
> of different sizes and configurations. Every so often we'd like to copy the 
> data from production into test. Can I run 'backup all' in prod, then run 
> restore on the resultant file in test, and have everything work? Or does 
> restore only work on the same cluster configuration that the backup was 
> performed on? What's the easiest way of doing this?
> • I've noticed that backup takes a very long time, and results in a 
> file that is much larger than the actual cluster data directories of the 
> cluster. Is this normal?
> • Not related to backups, but how do I configure the global replication 
> count of the cluster?
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

