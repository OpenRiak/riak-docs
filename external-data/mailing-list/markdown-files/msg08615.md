---
title: "links vs 2i"
description: ""
project: community
lastmod: 2012-09-20T12:59:46-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08615"
author_name: "Timo Gatsonides"
project_section: "mailinglistitem"
sent_date: 2012-09-20T12:59:46-07:00

---


Hello,

I have a question regarding the use of 2i. I've read some of the benefits (like 
less writes when inserting data) of using 2i instead of links when modeling 
data and it seems this is the preferred option nowadays when using Ripple 
(Ruby).

I now have some data that keeps links (and links back) in a hierarchical tree 
like (or parent-child like) structure storing sensor data. It allows us to 
drill down (and up) from 
country<->state<->city<->street<->device<->monthly\_collection<->daily\_collection<->records
 and we can use MapReduce jobs like this (Ruby code):

 devices = Riak::MapReduce.new(Ripple::client).add("countries", 'USA').
 link(:bucket=>"state").link(:bucket=>"city").
 link(:bucket=>"street").link(:bucket=>"device").
 map("function(v){ return [v.key]; }", :keep => true).run

Is there a way that 2i could be used instead of links and what would the 
MapReduce query look like?

Thanks,
Timo


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

