---
title: "Re: appearance of text different in riak different than original xml	data"
description: ""
project: community
lastmod: 2012-04-07T15:56:22-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07174"
mailinglist_parent_id: "msg07171"
author_name: "Wes James"
project_section: "mailinglistitem"
sent_date: 2012-04-07T15:56:22-07:00
---


Ok - that's good to know.

Thanks,

Wes

On Sat, Apr 7, 2012 at 9:32 AM, Sean Cribbs  wrote:
> Wes,
>
> Also, if you're using curl to load things into Riak, be sure to use
> --data-binary with your payload, which will not try to convert multibyte
> characters or line-terminators.
>
> On Sat, Apr 7, 2012 at 11:21 AM, Wes James  wrote:
>>
>> I found it. I thought if any web site might be able to handle unicode,
>> it would be erlang.org, so I went and grabbed some of the header text:
>>
>> xml version='1.0' encoding='utf-8'?
>> >    'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
>> 
>> 
>> test
>>  
>> 
>>
>> and it works correctly now.
>>
>> thanks
>>
>> On Fri, Apr 6, 2012 at 3:18 PM, Kresten Krab Thorup 
>> wrote:
>> > It looks like you may have missed specifying the charset when importing
>> > your data; could that be the case?
>> >
>> > You need to specify the charset when importing 8-bit text.  It looks
>> > like your xml is utf-8 encoded, so it should be imported using something
>> > like this:
>> >
>> > curl -H 'Content-Type: text/html;charset=UTF-8' -X PUT @datafile.xml
>> > http://host:port/riak/bucket/key
>> >
>> > The various language clients have different ways of specifying the
>> > charset for a value; so if you imported the xml using some other method you
>> > need to find out where to specify it.
>> >
>> > Perhaps to verify, you can check the result of a curl -v (verbose, print
>> > the headers) for one of your values.  If it does not come back with a
>> > charset=XXX in the Content-Type header, then this is your problem.
>> >
>> > Kresten
>> >
>> >
>> >
>> > On Apr 6, 2012, at 4:44 PM, Wes James wrote:
>> >
>> > I imported many records, one of which looks like this:
>> >
>> > 
>> > 
>> > 0
>> > Ekologie lučních porostů (A)
>> > Rychnovská, Milena, Emilie
>> > Balátová-Tuláčková, Blanka Úlehlová, Jaroslav Pelikán
>> > 1985
>> > Academia
>> > -
>> > amazon 5/22/09 Category: Ecology (Y)
>> > 8.00
>> > 10.00
>> > 
>> > 
>> >
>> > with
>> >
>> > bin/search-cmd solr books books.xml
>> >
>> > Notice the characters above.  In the riak -> cowboy -> webpage it looks
>> > like:
>> >
>> > Id:     0
>> > Title:  title: Ekologie luÄ nÃ­ch porostÅ¯ (A)
>> > Auther Editor:  author\_editor: RychnovskÃ¡, Milena, Emilie
>> > BalÃ¡tovÃ¡-TulÃ¡Ä kovÃ¡, Blanka ÃšlehlovÃ¡, Jaroslav PelikÃ¡n
>> > Date of Publication:    date\_of\_publication: 1985
>> > Notes:  publisher: Academia
>> > Notes:  notes: amazon 5/22/09 Category: Ecology (Y)
>> > Purchase Price: purchase\_price: 10.00
>> > Valuation:      valuation: 8.00
>> >
>> > Is there a way I can fix this?
>> >
>> > Doing an io:format it it looks like:
>> >
>> > RychnovskÃ¡, Milena, Emilie BalÃ¡tovÃ¡-TulÃ¡Ä kovÃ¡, Blanka ÃšlehlovÃ¡,
>> > Jaroslav PelikÃ¡n
>> >
>> > Thanks,
>> >
>> > Wes
>> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> > riak-users mailing list
>> > riak-users@lists.basho.com
>> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>> >
>> >
>> >
>> > Mobile: + 45 2343 4626 | Skype: krestenkrabthorup | Twitter: @drkrab
>> > Trifork A/S  |  Margrethepladsen 4  | DK- 8000 Aarhus C |  Phone : +45
>> > 8732 8787  |  www.trifork.com
>> >
>> >
>> >
>> >
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
>
>
> --
> Sean Cribbs 
> Software Engineer
> Basho Technologies, Inc.
> http://basho.com/
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

