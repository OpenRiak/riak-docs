---
title: "Re: Load question"
description: ""
project: community
lastmod: 2011-04-12T15:37:30-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02988"
mailinglist_parent_id: "msg02984"
author_name: "Mike Oxford"
project_section: "mailinglistitem"
sent_date: 2011-04-12T15:37:30-07:00
---


Even exposing CPU load through the client interface would be a big win, as
that logic could be
acquired and cached application-side, poll-style.

I would spend an 1 extra call per second to be able to say "you know, NodeX
is over 70% CPU, let's kick to
nodeY instead." All requests in a 1 second window would use that "snapshot"
of the ring.

It doesn't truly reflect locality of the dynamo-based data but it would help
mitigate "hot buckets" by not
imposing extra load, giving the hot node some CPU time to work the bucket(s)
instead of dealing with routing and
connection handling.

Just a thought. :)

-mox


On Tue, Apr 12, 2011 at 1:07 PM, Justin Sheehy  wrote:

> Hi, Runar.
>
> On Tue, Apr 12, 2011 at 3:22 AM, Runar Jordahl 
> wrote:
>
> > It would be helpful if a wiki page (under Best Practices) was created
> > to discuss various load balance configurations. I am also wondering if
> > a Riak client could use strategy (2), like Dynamo clients can.
>
> There is not currently any client that uses strategy #2 of
> partition-awareness.
>
> To make it practical, we would need to extend the client-facing
> protocol so that an incoming client could ask to be redirected to an
> "ideal" incoming node. This is quite doable, though would have the
> downside of making such clients more complex and thus possibly more
> fragile.
>
> -Justin
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

