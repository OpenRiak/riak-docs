---
title: "Riak Search: deleting a value without indexing causes a 500 error"
description: ""
project: community
lastmod: 2011-01-09T13:54:20-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01932"
author_name: "Eric Moritz"
project_section: "mailinglistitem"
sent_date: 2011-01-09T13:54:20-08:00

---


It appears that if I try to delete a key before it has been indexed,
an error occurs.

If I do the following, a 500 occurs:

(x)e...@eric-1000he:~/Projects/x/src/search\_test$ . resty http://localhost:8098\*
(x)e...@eric-1000he:~/Projects/x/src/search\_test$ PUT /riak/uhoh/foo
'{"test": "testing"}'
(x)e...@eric-1000he:~/Projects/x/src/search\_test$ GET /riak/uhoh/foo
{"test": "testing"}
(x)e...@eric-1000he:~/Projects/x/src/search\_test$ search-cmd install uhoh
Attempting to restart script through sudo -u riak

 :: Installing Riak Search <--> KV hook on bucket 'uhoh'.
(x)e...@eric-1000he:~/Projects/x/src/search\_test$ DELETE /riak/uhoh/foo
500 Internal Server
ErrorInternal Server Error
=====================

The server
encountered an error while processing this
request:  

```
{error,badarg,
       [{erlang,iolist_to_binary,[notfound]},
        {wrq,append_to_response_body,2},
        {riak_kv_wm_raw,delete_resource,2},
        {webmachine_resource,resource_call,3},
        {webmachine_resource,do,3},
        {webmachine_decision_core,resource_call,1},
        {webmachine_decision_core,decision,1},
        
{webmachine_decision_core,handle_request,2}]}
```


---

mochiweb+webmachine
web server



\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

