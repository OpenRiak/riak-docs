---
title: "[riak-user]bad_utf8_character_code while list the keys for a bucket"
description: ""
project: community
lastmod: 2015-02-20T06:13:01-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15763"
author_name: "SeanProtain"
project_section: "mailinglistitem"
sent_date: 2015-02-20T06:13:01-08:00

---


Dear All,

When I try to list the keys in my bucket I got following error, but if I query 
objects under this bucket with a specific key I can get correct object.

>curl http://10.0.3.245:10018/buckets/users/keys?keys=true 

500 Internal Server ErrorInternal 
Server Error
======================

The server encountered an error while processing this 
request:  

```
{error,{exit,{ucs,{bad_utf8_character_code}},
             [{xmerl_ucs,from_utf8,1,[{file,"xmerl_ucs.erl"},{line,185}]},
              {mochijson2,json_encode_string,2,
                          [{file,"src/mochijson2.erl"},{line,186}]},
              {mochijson2,'-json_encode_array/2-fun-0-',3,
                          [{file,"src/mochijson2.erl"},{line,157}]},
              {lists,foldl,3,[{file,"lists.erl"},{line,1248}]},
              {mochijson2,json_encode_array,2,
                          [{file,"src/mochijson2.erl"},{line,159}]},
              {mochijson2,'-json_encode_proplist/2-fun-0-',3,
                          [{file,"src/mochijson2.erl"},{line,167}]},
              {lists,foldl,3,[{file,"lists.erl"},{line,1248}]},
              {mochijson2,json_encode_proplist,2,
                          
[{file,"src/mochijson2.erl"},{line,170}]}]}}
```


---

mochiweb+webmachine
 web server

</htm \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

