---
title: "Re: Using $bucket index in java client"
description: ""
project: community
lastmod: 2014-11-24T06:03:13-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15224"
mailinglist_parent_id: "msg15216"
author_name: "Vassil Kolarov"
project_section: "mailinglistitem"
sent_date: 2014-11-24T06:03:13-08:00
---


Got it!

In com.basho.riak.client.api.commands.indexes.BinIndexQuery.java, the inner
class Init constructor, when calling super(), always adds the "\_bin"
suffix. In case of "$bucket" index - it should not.
The fix is trivial....

Best regards,
Vasco

On Sun, Nov 23, 2014 at 11:15 AM, Vassil Kolarov  wrote:

> Hi all,
>
> I am trying to execute the following query, using java client:
>
> http://:/types/default/buckets/testwindow1/index/$bucket/\_
>
> Where "testwindow1" is the name of the bucket.
> This works fine via HTTP interface, but when I try it with the with java
> client - nothing:
>
> bucket = new Namespace("default", "testwindow1");
> BinIndexQuery iq = new BinIndexQuery.Builder(bucket, "$bucket",
> "\_").build();
> BinIndexQuery.Response response = client.execute(iq);
>
> response.getEntries(); - returns 0
>
> Riak - 2.0.2, built from source
> riak-client - 2.0.0
>
> Could anyone help?
>
> Best regards,
> Vasco
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

