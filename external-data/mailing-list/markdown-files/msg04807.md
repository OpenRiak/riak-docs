---
title: "Re: System Limit Question"
description: ""
project: community
lastmod: 2011-09-20T13:31:00-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04807"
mailinglist_parent_id: "msg04806"
author_name: "TJ Ninneman"
project_section: "mailinglistitem"
sent_date: 2011-09-20T13:31:00-07:00
---



On Sep 20, 2011, at 3:21 PM, Jon Meredith wrote:

> When you hit the issue, could you run these two commands on the riak console 
> (if riak is running as a daemon 'riak attach' to get to the console then ^D 
> to get out)
> 
> length(erlang:ports()). 
> length(erlang:processes()).
> 
> If ports is close to 4096 or ports to 32767 you'll need to up the limit in 
> vm.args.

Funny, I was just running those myself. Here are the results:

erlang:length(erlang:ports()).
893

erlang:length(erlang:processes()).
1394

Ports sits very close to that number when things are quiet but I do notice that 
immediately during a failed merge (if I run the statement at the exact right 
moment) it can go up into the 3 thousands. Presumably this number could 
certainly be breaking 4096. I'll up that number in vm.args and see what 
happens.

Thanks!

TJ
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

