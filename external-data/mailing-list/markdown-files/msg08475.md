---
title: "Re: Riak behind a Load Balancer"
description: ""
project: community
lastmod: 2012-09-08T09:18:10-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08475"
mailinglist_parent_id: "msg08474"
author_name: "Sebastian Cohnen"
project_section: "mailinglistitem"
sent_date: 2012-09-08T09:18:10-07:00
---


Sean,

how do you explain these rather huge improvements Amazon presents in their 
Dynamo paper?


On 08.09.2012, at 18:02, Sean Cribbs  wrote:

> Sebastian,
> 
> There are plans to have client-driven request routing (that is, at
> least sending the request to a member of the preflist) in the future,
> but that is currently vaporware. An interim solution we have discussed
> was to send the client a "hint" as to where to send a request for that
> key on the next time around, but that is also unimplemented. On
> well-performing client and Riak machines, the difference will be
> small-to-negligible anyway; the primary effect of sending a request to
> the member of the preflist would be reduced network traffic between
> the Riak nodes themselves.
> 
> On Sat, Sep 8, 2012 at 10:08 AM, Sebastian Cohnen
>  wrote:
>> AFAIK Riak does not expose these data via API in order to implement a
>> "client-driven coordination", right?
>> 
>> This sounds quite interesting and would be a nice way to reduce latencies
>> when talking to Riak.
>> 
>> Best
>> 
>> Sebastian
>> 
>> 
>> On 31.08.2012, at 10:55, Dave Brady  wrote:
>> 
>> There's a reference to an article on Basho's site, written by Amazon, about
>> Dynamo:
>> 
>> http://features.basho.com/entries/20535121-weighted-nodes
>> 
>> Section 6.4 explains why they do not use load balancers.
>> 
>> The rest of the article is good reading, too.
>> 
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> From: "Sean Carey" 
>> To: "Matt Black" 
>> Cc: "riak-users" 
>> Sent: Thursday, August 30, 2012 11:09:00 PM
>> Subject: Re: Riak behind a Load Balancer
>> 
>> Matt,
>> Haproxy is my load balancer of choice. You can always run multiple copies of
>> haproxy and use some type of dynamic dns with it.
>> 
>> We do this in many cases. Haproxy scales well. I've seen a single node
>> sustain multiple gigabits per second with almost no sweat.
>> 
>> 
>> Thanks.
>> 
>> 
>> Sean
>> On Monday, June 25, 2012 at 7:36 AM, Matt Black wrote:
>> 
>> Dear list,
>> 
>> Does anyone have an opinion on the concept of putting a Riak cluster behind
>> a load balancer?
>> 
>> We wish to be able to automatically add/remove nodes from the cluster, so
>> adding an extra layer at the front is desirable. We should also benefit for
>> incoming requests behind shared across all nodes.
>> 
>> Can anyone see any drawbacks / problems with doing this?
>> 
>> Thanks
>> Matt
>> 
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>> 
>> 
>> 
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>> 
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>> 
>> 
>> 
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>> 
> 
> 
> 
> -- 
> Sean Cribbs 
> Software Engineer
> Basho Technologies, Inc.
> http://basho.com/


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

