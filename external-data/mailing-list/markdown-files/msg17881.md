---
title: "memory usage of Riak."
description: ""
project: community
lastmod: 2017-01-26T02:49:14-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17881"
author_name: "Alex Feng"
project_section: "mailinglistitem"
sent_date: 2017-01-26T02:49:14-08:00

---


Hi Riak Users,

One of my riak nodes, it has 4G memory, when I check the memory usage with
"free -m", I can see there are only around 150M left. Then I check the
command "riak-admin status", it shows around 415M(415594432) consumed by
Erlang. But with "top" command, it shows Erlang takes 52.1% memory, it is
about 2G.
So, my question is where is the other ~1.6G (2G - 415M) memory ?


dropped\_vnode\_requests\_total : 0
executing\_mappers : 0
gossip\_received : 6
handoff\_timeouts : 0
ignored\_gossip\_total : 0
index\_fsm\_active : 0
index\_fsm\_create : 0
index\_fsm\_create\_error : 0
late\_put\_fsm\_coordinator\_ack : 0
leveldb\_read\_block\_error : 0
list\_fsm\_active : 0
list\_fsm\_create : 0
list\_fsm\_create\_error : 0
list\_fsm\_create\_error\_total : 0
list\_fsm\_create\_total : 0
map\_actor\_counts\_100 : 0
map\_actor\_counts\_95 : 0
map\_actor\_counts\_99 : 0
map\_actor\_counts\_mean : 0
map\_actor\_counts\_median : 0
mem\_allocated : 3859660800
mem\_total : 3975495680
memory\_atom : 703377
memory\_atom\_used : 677686
memory\_binary : 92813136
memory\_code : 16511098
memory\_ets : 6823184
memory\_processes : 287157280
memory\_processes\_used : 287149824
memory\_system : 128437152
memory\_total : 415594432



KiB Swap: 4063228 total, 106496 used, 3956732 free. 296560 cached Mem

 PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND

 1 riak 20 0 4844692 1.929g 1772 S 5.3 52.1 4539:13
beam.smp
23510 riak 20 0 10.152g 1.131g 32292 S 4.3 30.6 2:07.28 java

 72 riak 20 0 7492 92 0 S 0.0 0.0 0:15.22 epmd

 190 riak 20 0 4440 224 172 S 0.0 0.0 0:00.67 sh

 191 riak 20 0 4324 252 192 S 0.0 0.0 0:08.97 memsup

 193 riak 20 0 4324 0 0 S 0.0 0.0 0:00.00 cpu\_sup

 285 riak 20 0 7460 28 0 S 0.0 0.0 0:29.51
inet\_gethost
 286 riak 20 0 13780 316 236 S 0.0 0.0 0:55.30
inet\_gethost
 287 riak 20 0 13780 8 0 S 0.0 0.0 0:00.00
inet\_gethost
22534 root 20 0 22320 1248 756 S 0.0 0.0 0:00.07 bash

24714 root 20 0 23992 1456 1052 R 0.0 0.0 0:00.00 top



Br,
Alex
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

