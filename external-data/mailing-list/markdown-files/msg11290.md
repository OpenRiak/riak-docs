---
title: "Re: bucket properties"
description: ""
project: community
lastmod: 2013-06-17T07:57:50-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11290"
mailinglist_parent_id: "msg11289"
author_name: "John Daily"
project_section: "mailinglistitem"
sent_date: 2013-06-17T07:57:50-07:00
---


A couple of quick notes (that may be perfectly obvious, but just in case) to 
augment Joe's response:

Nodes will have to be restarted before those properties take effect.

Increasing n\_val on buckets is risky: old keys will still only live on the 
original n\_val (smaller) number of nodes, but requests for delete and read will 
expect them to live on all of the new n\_val quantity of nodes. Similarly, I 
would assume that changing the hash function will result in significant 
confusion when old keys are present.

-John

On Jun 17, 2013, at 10:39 AM, Joe Caswell  wrote:

> When you set a custom property on a bucket, the custom settings as well as 
> the current defaults are stored and gossiped among the nodes.
> When Riak checks a property for a bucket, it checks for these previously 
> stored settings first, then falls back on the default props. 
> When you change default\_bucket\_props, any buckets whose settings have been 
> modify from the defaults, and never reset 
> (http://docs.basho.com/riak/latest/references/apis/http/HTTP-Reset-Bucket-Properties/)
> will continue to use their stored settings, all other buckets will use the 
> new default.
> 
> Joe
> 
> From: Louis-Philippe Perron 
> Date: Monday, June 17, 2013 9:20 AM
> To: 
> Subject: bucket properties
> 
> Hi list,
> I'd like to know what happens when you modify some default\_bucket\_props, are 
> all the previously created buckets for which no properties had been set 
> affected by the new default properties, or only the newly created buckets 
> inherit the default\_bucket\_props?
> thanks!
> 
> L-P
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ riak-users mailing list 
> riak-users@lists.basho.com 
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

