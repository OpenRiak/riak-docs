---
title: "Re: Using Secondary Indices as input to a map reduce function in Riak"
description: ""
project: community
lastmod: 2012-12-06T14:27:30-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09454"
mailinglist_parent_id: "msg09451"
author_name: "Bryan Fink"
project_section: "mailinglistitem"
sent_date: 2012-12-06T14:27:30-08:00
---


On Thu, Dec 6, 2012 at 12:22 PM, Barry Ryan  wrote:
> I’m trying to use the output of a secondary index as the input to my
> mapreduce function which is written in javascript using the HTTP API to
> interact with Riak. I found on the Riak web-site that it is possible: 'If
> you've enabled Secondary Indexes, the list of inputs can also reference a
> Secondary Index query'. However, I couldn’t find anywhere that explained
> how you would do that or what it would look like.

Hi, Barry. That wording is a little confusing … instead of a list, the
"inputs" field should be a JSON object like:

 {"bucket":"mybucket",
 "index":"myindex\_bin",
 "key":"my exact match"}

or

 {"bucket":"mybucket",
 "index":"myindex\_int",
 "start":0
 "end":100}

More complete examples are near the bottom of
http://docs.basho.com/riak/latest/tutorials/Secondary-Indexes---Examples/

-Bryan

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

