---
title: "Re: riak crash"
description: ""
project: community
lastmod: 2010-11-29T11:03:25-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01669"
mailinglist_parent_id: "msg01665"
author_name: "David Smith"
project_section: "mailinglistitem"
sent_date: 2010-11-29T11:03:25-08:00
---


Thanks for the info.

A more careful reading of EAGAIN related messages says that:

"A temporary resource shortage made an operation impossible. fork can
return this error. It indicates that the shortage is expected to pass,
so your program can try the call again later and it may succeed. It is
probably a good idea to delay for a few seconds before trying it
again, to allow time for other processes to release scarce resources.
Such shortages are usually fairly serious and affect the whole system,
so usually an interactive program should report the error to the user
and return to its command loop."

It looks, from the logs, like memsup was a bit aggressive in retrying
that call and consequently exceeded the supervisor restart frequency;
eventually this percolated up the supervisor chain and the VM was
taken down (as it should be).

That is to say, I don't see anything here that we can fix via Riak --
it appears (based strictly on the available data) to be something
inside the Erlang/OTP distribution. Can you easily reproduce this
issue?

Thanks,

D.

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

