---
title: "key filters"
description: ""
project: community
lastmod: 2011-11-23T00:04:35-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05713"
author_name: "Ben Aviram"
project_section: "mailinglistitem"
sent_date: 2011-11-23T00:04:35-08:00

---


Hi all,

We're working on analytics system based on Riak(1.0.2).

I'm storing my data in this structure:
Key = "userid\_date"
Value = daily report values

So if I want for example to query last year's data I'm using key-filter like 
this
{
 "inputs":{
 "bucket":"report"
 "key\_filters":[["tokenize", "-", 2],
 ["between", "20110101", "20111231"]]
 },
}

Are key-filters efficient enough?
Or should I just send a bulk of keys to the map reduce query(ie. userid 
\_20110101, userid \_20110102, userid \_20110103 ....)

Many thanks,
Ben

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

