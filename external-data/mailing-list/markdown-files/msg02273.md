---
title: "Re: Setting bucket properties from Erlang PBC API"
description: ""
project: community
lastmod: 2011-02-10T13:16:19-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02273"
mailinglist_parent_id: "msg02272"
author_name: "Ryan Maclear"
project_section: "mailinglistitem"
sent_date: 2011-02-10T13:16:19-08:00
---


Hi Dan,

Ok thanks - I'll just the REST API until the PBC API is updated.

Cheers,
Ryan

On 10 Feb 2011, at 11:00 PM, Dan Reverri wrote:

> Hi Ryan,
> 
> You are correct, the PBC API is currently only able to set n\_val and 
> allow\_mult. The REST API has support for all bucket properties.
> 
> Feature request 370 has been opened to address the PBC API limitation:
> https://issues.basho.com/show\_bug.cgi?id=370
> 
> Thanks,
> Dan
> 
> Daniel Reverri
> Developer Advocate
> Basho Technologies, Inc.
> d...@basho.com
> 
> 
> On Thu, Feb 10, 2011 at 12:41 PM, Ryan Maclear  wrote:
> Hi All,
> 
> I want to set the postcommit hook on a bucket. I can set the bucket 
> properties using riak\_client, but this means that I need to be connected to 
> the cluster to do this.
> 
> I want to be able to dynamically set post-commit hooks on buckets at run-time 
> from my client using the Erlang PBC API. Working through the Erlang PBC code, 
> the set\_bucket function in riakc\_pb\_socket calls 
> riakc\_pb:pbify\_rpbbucketprops/2. This function ignores all properties except 
> n\_val and allow\_mult, so it appears that I cannot set the postcommit hook 
> using this set\_bucket function.
> 
> Is there any other way to do this that I've missed, or do I need to be 
> connected to the cluster?
> 
> Thanks,
> Ryan
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> 

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

