---
title: "riak 2.2.3, allow_mult=false but still siblings"
description: ""
project: community
lastmod: 2019-04-12T04:31:03-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18609"
author_name: "ジョハンガル"
project_section: "mailinglistitem"
sent_date: 2019-04-12T04:31:03-07:00

---


Hello,
​
I would be thankful is somebody could help me with some weird abnormalities.
​
curl https://~~~/types/THE-TYPE/bucket/~~~/keys/~~~ returns siblings
​
However the corresponding type has "allow\_mult" set to false...
​​
The phenomenon appear with both "last\_write\_wins=true;dvv\_enabled=false" and 
"last\_write\_wins=false;dvv\_enabled=true".
The backend is leveldb (in a multi configuration), secondary indices are used.
​
The cluster is an old cluster (pre 2.0) that received rolling updates to 2.0 
(remove node, reinstall riak with new config, read node).
Currently 2.2.3
We used to hit that problem a lot until we found out about it and fixed the 
problem https://github.com/basho/yokozuna/issues/389
I don't if it has any kind of relevancy though.
​
Does somebody have some kind of hint? Or diagnostic command I might run? Am I 
missing something obvious?
​
Best regards,
​
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

