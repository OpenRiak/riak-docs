---
title: "schema for multiple shops carts"
description: ""
project: community
lastmod: 2010-08-30T03:04:06-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00974"
author_name: "Norman Khine"
project_section: "mailinglistitem"
sent_date: 2010-08-30T03:04:06-07:00

---


hello,
i am designing a schema to store shopping cart data and checkout
confirmation for a multi shop environment, here is what i have now and
am hoping for advise if there could be more efficient ways to do this.

the point of the exercise is to be able to study the purchasing habits
of shoppers and also cross sell based on the following question:

"what other products does a cart have that may be of interest at the
next checkout across the whole set of stores"

i am thinking to store each shop and then within it store the carts
for that specific shop.

http://pastie.org/1126289

store = {"name": "Bébebox",
 "url\_hash":"bébebox",
 "store-type": ["childres's clothes", "children's toys"....],
 "carts":[
 {"cart-id": "X12345",
 "date":30/08/2010,
 "total":26.00,
 "tax": 12,
 "status":"pending",
 "products": [
 { "name":"Nice baby dress",
 "url\_hash":"cool-street-kid",
 "price": 4.00,
 "currency": "EURO",
 "size":23,
 "description":"This is the desc."
 },
 ....
 }
 }

would this be an efficient way to store the objects in riak for
example if i want to retrieve all the products with a price range of
up to 4.00 EURO and stores that have category "childres's clothes" and
size is 23?


any suggestions would be much appreciated.

thanks

norman


-- 
˙uʍop ǝpısdn p,uɹnʇ pןɹoʍ ǝɥʇ ǝǝs noʎ 'ʇuǝɯɐן sǝɯıʇ ǝɥʇ puɐ 'ʇuǝʇuoɔ
ǝq s,ʇǝן ʇǝʎ
%>>> "".join( [ {'\*':'@','^':'.'}.get(c,None) or
chr(97+(ord(c)-83)%26) for c in ",adym,\*)&uzq^zqf" ] )

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

