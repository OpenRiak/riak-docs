---
title: "Re: Secondary Indexes - Feedback?"
description: ""
project: community
lastmod: 2011-11-16T10:37:14-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05607"
mailinglist_parent_id: "msg05604"
author_name: "Nate Lawson"
project_section: "mailinglistitem"
sent_date: 2011-11-16T10:37:14-08:00
---


On Nov 16, 2011, at 9:57 AM, Rusty Klophaus wrote:

> Now that you've had a few weeks to investigate and experiment with
> Secondary Indexes, I'm hoping to hear about your experiences to help
> us focus future development efforts most effectively:
> • Have you tried Secondary Indexes?
> • Does the feature help solve your problems? If not, why not? Any 
> concerns?
> • What is your wish list for the future of Secondary Indexes?

We're not able to use 2I due to several limitations.

1. Need ability to have a M-R job receive inputs from multiple 2I indices. For 
example, we'd like to be able to select inputs with either a date range of X or 
a size greater than Y. This would allow the M-R job to join the two sets of 
resulting keys to see which are actually relevant.

2. We need a guaranteed order of inputs from a 2I query. If we select on a 
range, each key we get on a given node in the M-R job should be ordered 
according to the 2I values. Of course we understand that keys won't be ordered 
across nodes (that would require a reduce phase to merge sort) but it would be 
good for each node to know that its portion of the covering set is ordered.

3. Reverse order also for above (descending or ascending)

4. Need any of the nodes to be able to abort a M-R job in the middle with a 
successful completion status. Combined with the above, you could return partial 
results (say, top 10 matches) without having to generate all the keys in a 
given range.

Let me know if any of that is unclear.

Thanks,
Nate


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

