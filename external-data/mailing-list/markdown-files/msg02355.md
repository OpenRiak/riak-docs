---
title: "Searching by non-key value"
description: ""
project: community
lastmod: 2011-02-17T10:44:00-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02355"
author_name: "Yury Dorofeev"
project_section: "mailinglistitem"
sent_date: 2011-02-17T10:44:00-08:00

---


Hi!
 I have two questions. My first question is how to make the searching
process by non-key value efficient?
More details. I will use Erlang notation such as we are coding with Erlang:
we have Bucket = "User" which contains lots of users with Key =
username and Value = [{"FirstName", value}, {"SecondName", value},
{"e-mail", value}].
I want to make a search "get all users whose FirstName='John' ". The
bucket "User" is huge! I do not want to get all the possible
objects(keys) from that bucket and apply Map and Reduce functions to
them AFTER. It will be extremely expensive! Is it possible to make
such a smart request without "post" request processing?

My second question is how to make a relation between 2 or more Buckets
and get the data from them in 1 request.
Example. Bucket = "User", Bucket="Department". One user can be
registered in many departments. I need to get information about all
departments for the certain user.
In SQL db this is not a problem. But I do not have an experience with
key-value store db.

Best regards, Yury Dorofeev
Uppsala University, Sweden

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

