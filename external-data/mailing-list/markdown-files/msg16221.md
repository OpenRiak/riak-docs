---
title: "LevelDB"
description: ""
project: community
lastmod: 2015-06-05T16:50:20-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16221"
author_name: "Mr. Technology"
project_section: "mailinglistitem"
sent_date: 2015-06-05T16:50:20-07:00

---


After installing Riak 2.1.1 on a 5 node Centos7 based test cluster, I followed 
the instructions at 
http://docs.basho.com/riak/latest/ops/advanced/backends/leveldb/ to attempt to 
configure a tiered LevelDB backend. 

My /etc/riak/riak.conf: 

storage\_backend = leveldb 
leveldb.tiered = 4 
leveldb.tiered.path.fast = /mnt/fast 
leveldb.tiered.path.slow = /mnt/slow 

Upon start, riak crashes with the following message in the log: 

\*\* 
{function\_clause,[{riak\_kv\_vnode,terminate,[{bad\_return\_value,{stop,{db\_open,"IO
 error: 
/mnt/fast//var/lib/riak/leveldb/159851741583067506678528028578343455274867621888/LOCK:
 No such file or 
directory"}}},undefined],[{file,"src/riak\_kv\_vnode.erl"},{line,1155}]},{riak\_core\_vnode,terminate,3,[{file,"src/riak\_core\_vnode.erl"},{line,907}]},{gen\_fsm,terminate,7,[{file,"gen\_fsm.erl"},{line,597}]},{proc\_lib,init\_p\_do\_apply,3,[{file,"proc\_lib.erl"},{line,239}]}]}
 

I assume the error is due to riak trying to write to the bogus path: 

/mnt/fast//var/lib/riak/leveldb/159851741583067506678528028578343455274867621888/LOCK
 

(bogus due to the double slash above) 

Is this a bug, erroneous documentation, or a configuration problem?? I followed 
the example as closely as I could. 


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

