---
title: "Re: Yokozuna error during indexing"
description: ""
project: community
lastmod: 2014-11-21T16:03:36-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15206"
mailinglist_parent_id: "msg15200"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2014-11-21T16:03:36-08:00
---



Oleksiy Krivoshey writes:

> Got few results:
>
> I don't see anything wrong with the first record, but the second record
> mentions the key '/.Trash/MT03' which is not correct, the correct key that
> exists in that bucket is
>
> '/.Trash/MT03 348 plat frames'
>

You have found a bug in Yokozuna.

https://github.com/basho/yokozuna/blob/develop/src/yz\_doc.erl#L230

https://github.com/basho/yokozuna/blob/develop/java\_src/com/basho/yokozuna/handler/EntropyData.java#L139

It foolishly assumes there is no space character used in the type,
bucket, or key names. As a workaround I think you'll have to make sure
your application converts all spaces to some other character (like
underscore) before storing in Riak.

-Z

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

