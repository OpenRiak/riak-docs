---
title: "Re: Updating Counters on Riak 2.0 pre whatever"
description: ""
project: community
lastmod: 2013-10-22T12:38:58-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12734"
mailinglist_parent_id: "msg12733"
author_name: "Jeremiah Peschka"
project_section: "mailinglistitem"
sent_date: 2013-10-22T12:38:58-07:00
---


As a follow up - typically when I'm asking questions about weird Riak
behavior, it's because I'm:

1) testing pre-production features of Riak for inclusion in the C# driver
2) testing features too scary to even be generously labeled as
pre-production
3) actively trying to break Riak to understand what happens when users do
crazy things with the C# client

Since I'm not a Basho FTE, you can expect these things to happen on the
public mailing list rather than in the privacy of a Basho engineering chat
room.

---
Jeremiah Peschka - Founder, Brent Ozar Unlimited
MCITP: SQL Server 2008, MVP
Cloudera Certified Developer for Apache Hadoop


On Tue, Oct 22, 2013 at 2:32 PM, Jared Morrow  wrote:

> Darren,
>
> Yes we do, we are actively testing our pre builds as we speak. This code
> was early pre-release and was stated as such. It is also on the 'develop'
> branch which we advertise as development code and not necessarily fully
> integration tested.
>
> Thanks for your concern.
> -Jared
>
>
> On Tue, Oct 22, 2013 at 1:21 PM, darren  wrote:
>
>> Don't you guys do regression testing?
>>
>>
>> Sent from my Verizon Wireless 4G LTE Smartphone
>>
>>
>>
>> -------- Original message --------
>> From: Russell Brown 
>> Date: 10/22/2013 3:07 PM (GMT-05:00)
>> To: Jeremiah Peschka 
>> Cc: riak-users 
>> Subject: Re: Updating Counters on Riak 2.0 pre whatever
>>
>>
>> Yes! Sorry!
>>
>> We broke backwards compatibility during development. We merged the patch
>> today[1]. The develop branch works right now. It will get into the next pre
>> (or whatever the next tag is called.)
>>
>> Apologies again, it was easier for me to do the new work without thinking
>> about backwards compatibility, then re-add old counters when the 2.0 stuff
>> was done.
>>
>> Let me know if you have any more issues going forward, please.
>>
>> Cheers
>>
>> Russell
>>
>> [1] https://github.com/basho/riak\_kv/pull/697
>> On 22 Oct 2013, at 19:56, Jeremiah Peschka 
>> wrote:
>>
>> > I'm attempting to create a counter on Riak 2.0 built from the develop
>> on Sunday. When I send a counter increment message using
>> RpbCounterUpdateReq, I get the following back from Riak:
>> >
>> > Riak returned an error. Code '0'. Message: Error processing incoming
>> message: error:undef:[{riak\_kv\_counter,supported,
>> > [],[]},
>> >
>> {riak\_kv\_pb\_counter,process,
>> > 2,
>> > [{file,
>> >
>> "src/riak\_kv\_pb\_counter.erl"},
>> > {line,114}]},
>> > {riak\_api\_pb\_server,
>> > process\_message,4,
>> > [{file,
>> >
>> "src/riak\_api\_pb\_server.erl"},
>> > {line,386}]},
>> > {riak\_api\_pb\_server,
>> > connected,2,
>> > [{file,
>> >
>> "src/riak\_api\_pb\_server.erl"},
>> > {line,228}]},
>> > {riak\_api\_pb\_server,
>> > decode\_buffer,2,
>> > [{file,
>> >
>> "src/riak\_api\_pb\_server.erl"},
>> > {line,362}]},
>> > {gen\_fsm,handle\_msg,7,
>> > [{file,"gen\_fsm.erl"},
>> > {line,505}]},
>> >
>> {proc\_lib,init\_p\_do\_apply,3,
>> > [{file,"proc\_lib.erl"},
>> > {line,239}]}]
>> > ---
>> > Jeremiah Peschka - Founder, Brent Ozar Unlimited
>> > MCITP: SQL Server 2008, MVP
>> > Cloudera Certified Developer for Apache Hadoop
>> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> > riak-users mailing list
>> > riak-users@lists.basho.com
>> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

