---
title: "Help! Uncaught error in rebar_core:"
description: ""
project: community
lastmod: 2014-02-08T14:33:04-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13620"
author_name: "Bryan Hughes"
project_section: "mailinglistitem"
sent_date: 2014-02-08T14:33:04-08:00

---



Howdy,

Was wondering if anyone can give me some help into what is going on. I 
made the mistake and decided to do a clean build, including getting all 
new deps and sure enough, and am suddenly having problems with rebar. 
Understand everything built prior to pulling new deps just a few minutes 
ago.


I am on a Mac with the latest OS.

Erlang: Erlang R16B03 (erts-5.10.4)
Rebar: rebar 2.0.0 R14B04 20120604\_145614 git 0f24d93
Riak: 1.4.2

When I run rebar dep-deps, it pulls all the dependencies but then gives 
me the output below. When I go into riak\_pb, I type 'rebar get-deps' 
and it pulls the dependencies ok. I then type 'rebar compile', and it 
compiles ok. When I step up to the top level project directory, it 
still craps out on the riak\_pb dependency directory. I have our 
rebar.config output below the error message.


==> Entering directory 
`/Users/bryan/projects/wobblesoft/engineering/gofactory\_gomachine/deps/goldrush'

==> goldrush (get-deps)
==> Leaving directory 
`/Users/bryan/projects/wobblesoft/engineering/gofactory\_gomachine/deps/goldrush'
==> Leaving directory 
`/Users/bryan/projects/wobblesoft/engineering/gofactory\_gomachine/deps/lager'
==> Entering directory 
`/Users/bryan/projects/wobblesoft/engineering/gofactory\_gomachine/deps/uuid'

==> uuid (get-deps)
==> Leaving directory 
`/Users/bryan/projects/wobblesoft/engineering/gofactory\_gomachine/deps/uuid'
==> Entering directory 
`/Users/bryan/projects/wobblesoft/engineering/gofactory\_gomachine/deps/riakc'

==> riakc (get-deps)
Pulling riak\_pb from {git,"git://github.com/basho/riak\_pb",{tag,"2.0.0.12"}}
Cloning into 'riak\_pb'...
Checking connectivity... done
==> Entering directory 
`/Users/bryan/projects/wobblesoft/engineering/gofactory\_gomachine/deps/riak\_pb'

Uncaught error in rebar\_core: {'EXIT',
 {{badmatch,
 {ok,
 {config,
"/Users/bryan/projects/wobblesoft/engineering/gofactory\_gomachine/deps/riak\_pb",
 [{erl\_opts,[debug\_info]},
 {deps,
 [{protobuffs,"0.8.\*",
 {git,
"git://github.com/basho/erlang\_protobuffs.git",
 {tag,"0.8.1p3"}}}]},
 {eunit\_opts,[verbose]},
{plugins,[riak\_pb\_msgcodegen]},
 {plugin\_dir,"plugins"},
{escript\_name,"doesnothavescript"},
 local,
 {cover\_enabled,true},
 {eunit\_opts,[verbose]},
{erl\_opts,[warnings\_as\_errors,debug\_info]},
 {deps,
 [{riak\_pb,"2.0.0.12",
{git,"git://github.com/basho/riak\_pb",
 {tag,"2.0.0.12"}}}]},
 {edoc\_opts,
[{stylesheet\_file,"priv/edoc.css"},
 {preprocess,true}]},
 {clean\_files,
 ["doc/\*.html","doc/\*.png",
"doc/edoc-info","doc/\*.css"]},
 {application,gomachine,
 [{description,"Go Factory Platform"},
 {vsn,"3.5.0"}]},
 {pre\_hooks,
[{compile,"./generate-include.sh"}]},
 {erl\_opts,
 [debug\_info,
{parse\_transform,lager\_transform}]},
 {lib\_dirs,["deps","apps"]},
 {sub\_dirs,["rel"]},
 {ct\_dir,"ct"},
 {ct\_log\_dir,"log"},
 {plugins,[rebar\_ct]},
 {deps,
 [{lager,".\*",
 {git,
"git://github.com/basho/lager.git",
 {branch,"master"}}},
 {uuid,".\*",
 {git,
"git://github.com/avtobiff/erlang-uuid.git",
 {branch,"master"}}},
 {riakc,".\*",
 {git,
"git://github.com/basho/riak-erlang-client.git",
 {branch,"master"}}},
 {mochiweb,".\*",
 {git,
"g...@github.com:GOFactory/mochiweb.git",
 {branch,"master"}}},
 {erlydtl,".\*",
 {git,
"git://github.com/evanmiller/erlydtl.git",
 {branch,"master"}}},
 {gen\_smtp,".\*",
 {git,
"git://github.com/Vagabond/gen\_smtp.git",
 {branch,"master"}}},
 {gofactory\_proto,".\*",
 {git,
"g...@github.com:GOFactory/gofactory\_proto.git",
 {branch,"master"}}},
 {morey\_mc,".\*",
 {git,
"g...@github.com:GOFactory/morey\_mc.git",
 {branch,"master"}}},
 {pbkdf2,".\*",
 {git,
"git://github.com/whitelynx/erlang-pbkdf2.git",
 {branch,"master"}}}]},
 {eunit\_opts,
 [verbose,
{report,{eunit\_surefire,[{dir,"."}]}}]},
 {cover\_enabled,true},
 {require\_otp\_vsn,"R15|R16"}],
 {dict,0,16,16,8,80,48,
{[],[],[],[],[],[],[],[],[],[],[],[],[],
 [],[],[]},
{{[],[],[],[],[],[],[],[],[],[],[],[],[],
 [],[],[]}}}},
 []}},
 [{rebar\_core,acc\_modules,5,[]},
 {rebar\_core,process\_dir0,6,[]},
 {rebar\_core,process\_dir,4,[]},
 {rebar\_core,process\_each,5,[]},
 {rebar\_core,process\_dir0,6,[]},
 {rebar\_core,process\_dir,4,[]},
 {rebar\_core,process\_each,5,[]},
 {rebar\_core,process\_dir0,6,[]}]}}

=============================================================

rebar.config

%% -\*- erlang -\*-

{application, gomachine, [{description, "Go Factory Platform"}, {vsn, 
"3.5.0"}]}.


{pre\_hooks, [{compile, "./generate-include.sh"}]}.

{erl\_opts, [debug\_info, {parse\_transform, lager\_transform}]}.

{lib\_dirs, ["deps", "apps"]}.

%%{clean\_files, ["\*.eunit", "ebin/\*.beam", "src/gof\_\*.erl", 
"test/gof\_\*.erl", "proto/\*.proto"]}.


{sub\_dirs, ["rel"]}.

{ct\_dir, "ct"}.
{ct\_log\_dir, "log"}.

{plugins, [rebar\_ct]}.

{deps, [{lager, ".\*", {git, "git://github.com/basho/lager.git", {branch, 
"master"}}},
 {uuid, ".\*", {git, "git://github.com/avtobiff/erlang-uuid.git", 
{branch, "master"}}},
 {riakc, ".\*", {git, 
"git://github.com/basho/riak-erlang-client.git", {branch, "master"}}},
 {mochiweb, ".\*", {git, "g...@github.com:GOFactory/mochiweb.git", 
{branch, "master"}}},
 {erlydtl, ".\*", {git, 
"git://github.com/evanmiller/erlydtl.git", {branch, "master"}}},
 {gen\_smtp, ".\*", {git, 
"git://github.com/Vagabond/gen\_smtp.git", {branch, "master"}}},
 {gofactory\_proto, ".\*", {git, 
"g...@github.com:GOFactory/gofactory\_proto.git", {branch, "master"}}},
 {morey\_mc, ".\*", {git, "g...@github.com:GOFactory/morey\_mc.git", 
{branch, "master"}}},
 {pbkdf2, ".\*", {git, 
"git://github.com/whitelynx/erlang-pbkdf2.git", {branch, "master"}}}

 ]}.

{eunit\_opts, [verbose, {report, {eunit\_surefire, [{dir, "."}]}}]}.

{cover\_enabled, true}.

{require\_otp\_vsn, "R15|R16"}.

--

Bryan Hughes
\*Go Factory\*
(415) 515-7916
http://www.go-factory.net

/"Internet Class, Enterprise Grade"/


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

