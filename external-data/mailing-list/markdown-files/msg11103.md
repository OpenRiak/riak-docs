---
title: "How to achieve good performance on riak with AWS."
description: ""
project: community
lastmod: 2013-05-19T07:00:12-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11103"
author_name: "Abhishek Amberkar [अभिषेक]"
project_section: "mailinglistitem"
sent_date: 2013-05-19T07:00:12-07:00

---


We have deployed a 4 node riak cluster on AWS with eLevelDB backend. We have
been benchmarking it for last couple of days using basho-bench, with
\_unimpressive\_
results. Attached "app.config" and "basho-bench.config".

Following are the only changes made to "vm.args"

## Enable kernel poll and a few async threads
+K true
+A 16

We did following two tests.


Test 1

4 nodes m1.medium instances, XFS 50G EBS with RAID10 on Ubuntu 12.04 AMI
50 concurrent connections for 5 hours
HTTP Raw Driver
Only Inserts (since we are expecting very heavy writes)

Click on the following link to view the performance graph generated through
R.
https://www.dropbox.com/s/2a64jvpf4w00487/Test1.png

Test 2

4 nodes m1.medium instances, XFS with default ~340G Ephemeral on Ubuntu
12.04 AMI
50 concurrent connections for 5 hours
HTTP Raw Driver
Only Inserts (since we are expecting very heavy writes)

Click on the following link to view the performance graph generated through
R.
https://www.dropbox.com/s/ou8j03gvd36xo9h/Test2.png


-- 
With Regards
Abhishek Amberkar


app.config
Description: Binary data

bench.config
Description: Binary data
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

