---
title: "Re: Riak Secondary Index Erlang example"
description: ""
project: community
lastmod: 2011-08-11T20:00:12-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04355"
mailinglist_parent_id: "msg04354"
author_name: "Kelly McLaughlin"
project_section: "mailinglistitem"
sent_date: 2011-08-11T20:00:12-07:00
---


Senthilkumar,

I just tried some secondary index queries via Erlang and it's working fine for 
me. Getting the format just right can be a little tricky at first so here is an 
example. Say you have a bucket called mybucket and index called field1\_bin. An 
example query for that index in Erlang would look like this:

 C:get\_index(<<"mybucket">>, [{eq, <<"field1\_bin">>, [<<"val1">>]}]).

Notice the bucket, index, and index value are binaries. Also the query as well 
as the index value are lists. Hopefully that helps get you going. Cheers.

Kelly


On Aug 11, 2011, at 4:09 PM, Senthilkumar Peelikkampatti wrote:

> I fired up riak console and got a local client (say C). C:get\_index(Bucket, 
> Query) where Query is {type, key, val} is crashing the riak. It works when I 
> make http request through curl. So riak is setup correctly to index. It looks 
> like I am doing something wrong. Is there an erlang api equivalent to rest?
> 
> -- 
> Regards,
> Senthilkumar Peelikkampatti,
> 
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

