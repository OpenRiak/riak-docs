---
title: "Re: 0.14 crash on OS X"
description: ""
project: community
lastmod: 2011-02-17T09:36:59-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02352"
mailinglist_parent_id: "msg02350"
author_name: "francisco treacy"
project_section: "mailinglistitem"
sent_date: 2011-02-17T09:36:59-08:00
---


I had checked sasl-error.log, nothing interesting in there
(js\_vm\_count depreaction messages)

I kill -9'd the process and pinged:

 => bin/riaksearch ping

=INFO REPORT==== 17-Feb-2011::14:30:38 ===
Protocol: "inet\_tcp": register error: {{badmatch,{error,econnrefused}},
 [{inet\_tcp\_dist,listen,1},
 {net\_kernel,start\_protos,4},
 {net\_kernel,start\_protos,3},
 {net\_kernel,init\_node,2},
 {net\_kernel,init,1},
 {gen\_server,init\_it,6},
 {proc\_lib,init\_p\_do\_apply,3}]}
escript: exception error: no match of right hand side value
 {error,
 {shutdown,
 {child,undefined,net\_sup\_dynamic,
 {erl\_distribution,start\_link,
 [['riaksearch\_maint\_96460@127.0.0.1',
 longnames]]},
 permanent,1000,supervisor,
 [erl\_distribution]}}}

Then I started up via console, which I assume started up correctly
(Spidermonkey VMs and loading indices).

Now things are fine again (including ping) - but how do we find the
cause of the crash? I'm a bit concerned, I def don't want this
happening in production.

Thanks,

Francisco


2011/2/17 David Smith :
> sasl-error.log is usually the first place of interest, but be warned
> it gets overwritten between restarts. I would suggest trying to start
> up with "console" method (after making sure other process is gone) and
> see what happens.
>
> D.
>
> On Thu, Feb 17, 2011 at 10:09 AM, francisco treacy
>  wrote:
>> Riak Search 0.14.0 just inexplicably went down, and pinging takes very
>> long. Trying to `start` it also takes as long.
>>
>>  =>  time bin/riaksearch ping
>> Node 'riaksearch@127.0.0.1' not responding to pings.
>>
>> real    0m14.205s
>> user    0m0.143s
>> sys     0m0.048s
>>
>>  =>  ps -ef | grep beam
>>  501 95991 95990   0   0:02.69 ttys011    0:10.27
>> /opt/riak/erts-5.7.5/bin/beam.smp -K true -A 64 -- -root /opt/riak
>> -progname riaksearch -- -home /Users/ftreacy -- -boot
>> /opt/riak/releases/0.14.0/riaksearch -embedded -config
>> /opt/riak/etc/app.config -name riaksearch@127.0.0.1 -setcookie riak --
>> console
>>  501 96207 95639   0   0:00.00 ttys012    0:00.00 grep beam
>>
>> Other than erl\_crash.dump (https://gist.github.com/832139), do you
>> need other info to understand what could've happened?
>>
>> Thanks,
>> Francisco
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>
>
>
> --
> Dave Smith
> Engineering Manager
> Basho Technologies, Inc.
> diz...@basho.com
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

