---
title: "Re: Python feature suggestion - load (binary) content from file"
description: ""
project: community
lastmod: 2011-04-13T05:17:56-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02992"
mailinglist_parent_id: "msg02987"
author_name: "Mathias Meyer"
project_section: "mailinglistitem"
sent_date: 2011-04-13T05:17:56-07:00
---


I took the liberty of wrapping this into a pull request.

The API corresponds to Ana's original suggestion, allowing 
bucket.new\_binary\_from\_file(key, filename)

Thanks for contributing!

Mathias Meyer
Developer Advocate, Basho Technologies

On Dienstag, 12. April 2011 at 23:21, Ana Nelson wrote: 
> Hi,
> 
> If Eric or someone has time to do this, that would be great. Otherwise I'll 
> try to put a pull request together this weekend.
> 
> -Ana
> 
> 
> On Tue, Apr 12, 2011 at 4:10 PM, Eric Moritz  wrote:
> > If you don't have this integrated into the Riak Python client, I'll be
> > happy to do that for you.
> > 
> > Thanks,
> > Eric Moritz.
> > 
> > On Sun, Apr 10, 2011 at 10:49 AM, Ana Nelson  wrote:
> > > I've just implemented this in a project:
> > > 
> > > binary\_data = open(self.filename(), "rb").read()
> > > mimetype, encoding = mimetypes.guess\_type(self.filename())
> > > if not mimetype:
> > > 
> > > mimetype = 'application/octet-stream' # Riak's own default
> > > self.riak\_object = self.bucket.new\_binary(
> > > self.hashstring,
> > > binary\_data,
> > > mimetype
> > > 
> > > )
> > > 
> > > which writes binary data to a Riak bucket from a file, using Python's
> > > mimetypes library to determine the content type from the file's extension.
> > > 
> > > I think it could be convenient to have this be included in the Riak Python
> > > client, so perhaps it can implement better buffering. Something like
> > > bucket.new\_binary\_from\_file(key, filename)
> > > 
> > > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > > riak-users mailing list
> > > riak-users@lists.basho.com
> > > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> 


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

