---
title: "Re: Deletion of keys in Riak doesn't decrease its RAM size"
description: ""
project: community
lastmod: 2012-01-04T06:05:52-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06125"
mailinglist_parent_id: "msg06124"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2012-01-04T06:05:52-08:00
---


Pronam,

That is a different setting entirely and not related to normal delete
operations.

On Wed, Jan 4, 2012 at 8:57 AM, Pronam Chatterjee  wrote:

> If you are using bit cask, it takes a while before the space will be
> freed. I think the default is 24 hours. Below is a quote from the bit cask
> page on the wiki.
>
> \*Purging stale entries after a fixed period\*
>
> To automatically purge stale values, set the expiry\_secs value to the
> desired cutoff time. Keys that are not modified for a period equal to or
> greater than expiry\_secs will become inaccessible.
>
> http://wiki.basho.com/Bitcask.html
>
>
>
> --
> Pronam Chatterjee
> Sent with Sparrow 
>
> On Wednesday 4 January 2012 at 6:33 PM, Vicky Khanna wrote:
>
> Hi, \*\*\*\*
>
> \*\* \*\*
>
> I had around 100 million entries in the riak cluster of 4 which was taking
> 9\*4 = 36 GB of RAM.\*\*\*\*
>
> I deleted some 40 million keys from the cluster and still the size is same.
> \*\*\*\*
>
> I restarted the cluster and still size is same.\*\*\*\*
>
> Can anyone please tell why riak is still retaining its original size even
> after deletion.\*\*\*\*
>
> \*\* \*\*
>
> Thanks in Advance\*\*\*\*
>
> \*\* \*\*
>
> Vicky Khanna\*\*\*\*
>
> \*\* \*\*
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>


-- 
Sean Cribbs 
Software Engineer
Basho Technologies, Inc.
http://basho.com/
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

