---
title: "Re: Configure multiple riak clients in a cluster"
description: ""
project: community
lastmod: 2016-02-22T17:42:18-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17060"
mailinglist_parent_id: "msg17059"
author_name: "Chathuri Gunawardhana"
project_section: "mailinglistitem"
sent_date: 2016-02-22T17:42:18-08:00
---


I think it should use distributed basho bench configurations as in here
.
But still with that, I have the same throughput results as in one basho
client. I'm not sure what I'm doing wrong. Lets say I have 2 nodes A and B.

In A's config file I have
{remote\_nodes, [{'172.31.0.174', 'nodeB'}]}.
{distribute\_work, true}.

Then on A I run the following command,

./basho\_bench -N basho\_bench@172.31.0.117 -C basho\_bench
examples/riakclient.config

here 172.31.0.117 is the A's ip.

Can you please tell me what I'm doing wrong?

Thank you very much!

On Tue, Feb 23, 2016 at 2:14 AM, Chathuri Gunawardhana <
lanch.gunawardh...@gmail.com> wrote:

> I didn't get it clearly. Can you please provide me an example?
>
> Thank you very much!
>
> On Tue, Feb 23, 2016 at 2:07 AM, Christopher Meiklejohn <
> christopher.meiklej...@gmail.com> wrote:
>
>> Your client is registering with the name in the config file, and that
>> name can only be used once.
>>
>> You need to have each client use a different name.
>>
>> {riakclient\_mynode, ['riak\_bench@172.31.0.117', longnames]}.
>>
>>
>> Christopher
>>
>> Sent from my iPhone
>>
>> On Feb 22, 2016, at 15:46, Chathuri Gunawardhana <
>> lanch.gunawardh...@gmail.com> wrote:
>>
>> Hi All,
>>
>> I'm using distributed version of riak client (here
>> ).
>> I could configure one riak client for the cluster. But when I try to start
>> 2, one of them crashes (error suggests that there is a global name
>> conflict). Can you please suggest me how I can run multiple riak clients on
>> my cluster?
>>
>> My configurations are shown below. (Same in both nodes, other than the
>> riakclient\_mynode parameter)
>>
>> {mode, max}.
>>
>> {duration,5} .
>>
>> {concurrent,30}.
>>
>> {operations, [{put,1},{update,1},{get,1}]}.
>>
>> {driver, basho\_bench\_driver\_riakclient}.
>>
>> {code\_paths, ["/root/Riak/riak/rel/riak/lib/riak\_kv-2.1.1-36-g5f58f01",
>> "/root/Riak/riak/rel/riak/lib/riak\_core-2.1.5"]}.
>>
>> {key\_generator, {int\_to\_bin\_bigendian, {uniform\_int, 350}}}.
>>
>> {value\_generator, {fixed\_bin, 100}}.
>>
>> {riakclient\_nodes, ['riak@172.31.0.106']}.
>>
>> {riakclient\_mynode, ['riak\_bench@172.31.0.117', longnames]}.
>>
>>
>> {riakclient\_replies, 1}.
>>
>> Thank you very much!
>>
>> --
>> Chathuri Gunawardhana
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>>
>
>
> --
> Chathuri Gunawardhana
>
>


-- 
Chathuri Gunawardhana
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

