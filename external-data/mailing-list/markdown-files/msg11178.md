---
title: "Re: Slow write performance for Riak CS"
description: ""
project: community
lastmod: 2013-05-27T08:44:12-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11178"
mailinglist_parent_id: "msg11175"
author_name: "Jared Morrow"
project_section: "mailinglistitem"
sent_date: 2013-05-27T08:44:12-07:00
---


Toby,

If you write with multiple clients does it still stick to 9mb/s or does it 
increase? What is the network link between your client and the Riak CS 
cluster? On our internal CS cluster we were seeing around 2gb/s read+write at 
the network level so I know CS can take the speeds, so my gut thinks you single 
client might have a slow link. That is just a guess. 

-Jared


On May 27, 2013, at 1:38 AM, Toby Corkindale 
 wrote:

> Hi,
> I seem to be getting significantly slower performance out of Riak CS than I 
> expect to see, and I wondered if I could get some advice about where I might 
> be going wrong.
> 
> I have a cluster of six nodes, with fairly good sequential-write disk 
> performance, for eg:
> # dd if=/dev/zero of=test bs=1M count=500 conv=fsync
> 524288000 bytes (524 MB) copied, 1.27205 s, 412 MB/s
> 
> The riak partition is formatted as ext4, with data=writeback and barriers 
> disabled.
> 
> So given n\_val=3, and six nodes with ~400MB/s transfer rates, you'd expect to 
> see some pretty fast transfers, right?
> 
> However the actual performance I'm getting is reliably a mere 9MB/s for a 
> single client writing to the cluster. (On a 500M transfer)
> 
> 
> Is this kind of performance normal for this hardware?
> If not, could you give me some pointers about what to check?
> 
> Thanks,
> Toby
> 
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

