---
title: "Re: Link or Secondary Indexes?"
description: ""
project: community
lastmod: 2012-03-29T07:52:11-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07078"
mailinglist_parent_id: "msg07076"
author_name: "Jeffrey Massung"
project_section: "mailinglistitem"
sent_date: 2012-03-29T07:52:11-07:00
---


Buriwoy,

Neither is better (or worse) for "storing" those bits of information. The 
question is how you expect to use that data once it is stored. Let's take a 
look at friend relationships (note: I don't use Facebook, so I might be missing 
a subtle feature with this example)...

Do you merely plan on following a list of friends to other pages quickly? For 
example, on your page, you see a list of your friends quickly, be able to click 
them, and go to their page? If so, the links are quite nice. Links are nice for 
being able to follow in a query as well. This is a good example of using links 
to perform link walking:

http://basho.com/blog/technical/2010/02/24/link-walking-by-example/

Or, do you plan on doing reverse lookups by friends? For example, do you want 
to say "find every who has Tony as a friend" and get a list of users? Note: 
this is not asking who is a friend of Tony (you'd just lookup Tony and get his 
list of friends). In this case 2i works nicely, as do other query methods: 
search, a general MapReduce, etc. But links would be an extremely poor choice.

Does this help? This page might also be applicable to your question:

http://wiki.basho.com/MapReduce-Search-2i-Comparison.html

If you plan on just doing MapReduce queries without 2i, and don't care about 
link walking, then just storing a typical JSON object and not using either is 
perfectly fine as well.

--
Jeffrey Massung
Software Engineer
j...@basho.com

On Mar 29, 2012, at 8:29 AM, Buri Arslon wrote:

> Hi,
> 
> While developing my pet project few questions came to my mind and I decided 
> to consult with you.
> 
> Which of them are more effective for recording relationships: Link or 
> Secondary Indexes?
> 
> 1. Friend relationships: like Facebook friends?
> 2. Followed/follower relationships like in Twitter?
> 3. Member/Club relationship like fanpage in Facebook?
> 4. Like in Facebook?
> 
> Thanks,
> -- buriwoy
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

