---
title: "Re: Querying SOLR outside of Riak"
description: ""
project: community
lastmod: 2016-05-15T02:16:08-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17356"
mailinglist_parent_id: "msg17355"
author_name: "Alex De la rosa"
project_section: "mailinglistitem"
sent_date: 2016-05-15T02:16:08-07:00
---


I think is just my fear of querying Riak... I had bad experiences in the
past with Riak 0.14 and Riak 1.4 when searching with MapReduce, Search or
2-i... nodes crashing, etc... so I try to avoid searching as much as
possible.

Maybe my fear is not justified anymore on Riak 2.0 and is search via
SOLR... but still... I want to avoid issues on searching.

So my thinking was that if I can query the SOLR index itself without Riak
even noticing, then I can leave Riak simply to put/get data and the
searching would be done by Disco hitting SOLR itself... no extra work for
Riak on searching anything.

Thanks,
Alex

On Sun, May 15, 2016 at 12:48 PM, Vitaly <13vitam...@gmail.com> wrote:

> Keep in mind that the /search endpoint returns consolidated results (i.e.
> a query runs over all nodes of a cluster), while /internal\_solr is only for
> the node you run it on.
>
> I'm not sure what you mean by "extra stress", as running queries is
> exactly what the /search endpoint is meant for. Having said that, I would
> think that any activity can add stress, you should measure what kind of
> stress your system creates, and plan your cluster accordingly.
>
> Regards,
> Vitaly
>
> On Sun, May 15, 2016 at 11:18 AM, Alex De la rosa  > wrote:
>
>> Hi Vitaly,
>>
>> I know that you can access search via HTTP through Riak like this:
>>
>> http://localhost:8098/search/query/famous?wt=json&q=leader:true AND
>> age\_i:[25 TO \*]
>>
>> I didn't find documentation about this, but according to your words I
>> could access SOLR directly like this?
>>
>> http://localhost:8093/internal\_solr/famous/select?wt=json&q=leader:true
>> AND age\_i:[25 TO \*]
>>
>> If I go through "8098/search" would it be adding extra stress into the
>> Riak cluster? Or is recommended to go through "8098/search" instead of
>> "8093/internal\_solr"??
>>
>> I just want to see if I can make use of SOLR with an external mapreduce
>> platform (Disco) without giving extra stress to Riak.
>>
>> Thanks,
>> Rohman
>>
>> On Sun, May 15, 2016 at 12:07 PM, Vitaly <13vitam...@gmail.com> wrote:
>>
>>> There is, you can \*query \*Solr directly via HTTP, at least as of Riak
>>> 2.0.x
>>>
>>> Have a look at http://:8093/internal\_solr/#/ and
>>> http://docs.basho.com/riak/kv/2.1.4/developing/usage/search/#querying
>>>
>>> Vitaly
>>>
>>>
>>> On Sun, May 15, 2016 at 10:49 AM, Alex De la rosa <
>>> alex.rosa....@gmail.com> wrote:
>>>
>>>> Nobody knows if there is a way to access SOLR right away without going
>>>> through RIAK's interface?
>>>>
>>>> Thanks,
>>>> Alex
>>>>
>>>> On Fri, May 13, 2016 at 11:07 PM, Alex De la rosa <
>>>> alex.rosa....@gmail.com> wrote:
>>>>
>>>>> Hi all,
>>>>>
>>>>> If I want to create a Disco cluster [ http://discoproject.org ] to
>>>>> build statistics and compile data attacking Riak's SOLR directly without
>>>>> using Riak, how can I do it?
>>>>>
>>>>> In this way, I would leave Riak mainly for data IO (post/get) and
>>>>> leave the heavy duty of searching and compiling data to Disco; so Riak's
>>>>> performance shouldn't be affected for searching as mainly it will store 
>>>>> and
>>>>> retrieve data only.
>>>>>
>>>>> Thanks,
>>>>> Alex
>>>>>
>>>>
>>>>
>>>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>>> riak-users mailing list
>>>> riak-users@lists.basho.com
>>>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>>>
>>>>
>>>
>>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

