---
title: "Re: Adding New Node To Cluster"
description: ""
project: community
lastmod: 2015-09-14T16:35:11-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16522"
mailinglist_parent_id: "msg16521"
author_name: "Douglas Rohrer"
project_section: "mailinglistitem"
sent_date: 2015-09-14T16:35:11-0700
---


The max\_concurrency error on handoff is because, by default, Riak allows
only 2 handoffs occurring at a time, and additional handoff requests will
be rejected. You can change this setting in order to increase the number of
simultaneous transfers, at the expense of some cluster performance (as
handoffs will take more network/cpu/disk resources. Please take a look at
http://docs.basho.com/riak/latest/ops/running/handoff for some additional
details, and let us know if you need any more help.

Doug Rohrer

On Mon, Sep 14, 2015 at 7:28 PM ender  wrote:

> I added a 6th node to a 5 node cluster, hoping to rebalance the cluster
> since I was approaching maximum disk usage on the original 5 nodes. Looks
> like the rebalancing is not taking place, and I see a whole bunch of these
> in the console logs:
>
> 688728495783936 was terminated for reason: {shutdown,max\_concurrency}
> 2015-09-14 23:25:04.188 [info]
> <0.183.0>@riak\_core\_handoff\_manager:handle\_info:286 An outbound handoff of
> partition riak\_search\_vnode 91343852333181432387730302044767688728495783936
> was terminated for reason: {shutdown,max\_concurrency}
> 2015-09-14 23:25:04.188 [info]
> <0.183.0>@riak\_core\_handoff\_manager:handle\_info:286 An outbound handoff of
> partition riak\_search\_vnode
> 548063113999088594326381812268606132370974703616 was terminated for reason:
> {shutdown,max\_concurrency}
> 2015-09-14 23:25:14.189 [info]
> <0.183.0>@riak\_core\_handoff\_manager:handle\_info:286 An outbound handoff of
> partition riak\_search\_vnode
> 548063113999088594326381812268606132370974703616 was terminated for reason:
> {shutdown,max\_concurrency}
> 2015-09-14 23:25:14.189 [info]
> <0.183.0>@riak\_core\_handoff\_manager:handle\_info:286 An outbound handoff of
> partition riak\_search\_vnode 91343852333181432387730302044767688728495783936
> was terminated for reason: {shutdown,max\_concurrency}
> 2015-09-14 23:25:24.189 [info]
> <0.183.0>@riak\_core\_handoff\_manager:handle\_info:286 An outbound handoff of
> partition riak\_search\_vnode
> 548063113999088594326381812268606132370974703616 was terminated for reason:
> {shutdown,max\_concurrency}
> 2015-09-14 23:25:24.189 [info]
> <0.183.0>@riak\_core\_handoff\_manager:handle\_info:286 An outbound handoff of
> partition riak\_search\_vnode 91343852333181432387730302044767688728495783936
> was terminated for reason: {shutdown,max\_concurrency}
> 2015-09-14 23:25:34.190 [info]
> <0.183.0>@riak\_core\_handoff\_manager:handle\_info:286 An outbound handoff of
> partition riak\_search\_vnode
> 548063113999088594326381812268606132370974703616 was terminated for reason:
> {shutdown,max\_concurrency}
> 2015-09-14 23:25:34.190 [info]
> <0.183.0>@riak\_core\_handoff\_manager:handle\_info:286 An outbound handoff of
> partition riak\_search\_vnode 91343852333181432387730302044767688728495783936
> was terminated for reason: {shutdown,max\_concurrency}
>
> Any pointers to what's going on?
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

