---
title: "Re: strange behavior upgrading from riak-java-client 1.0.5 -> 1.0.6"
description: ""
project: community
lastmod: 2012-12-28T10:57:34-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09700"
mailinglist_parent_id: "msg09698"
author_name: "Brian Roach"
project_section: "mailinglistitem"
sent_date: 2012-12-28T10:57:34-08:00
---


On Fri, Dec 28, 2012 at 11:37 AM, Dietrich Featherston
 wrote:
>
> All socket operations. It looks as though those that open a new socket are 
> especially
> impacted. We are running 1.2.1 with the leveldb backend. Same 9 node SSD 
> cluster info I
> have posted to the list before but don't have access to all of the details at 
> the moment.

Sorry, I mean what type of Riak operations? Store, fetch, MapReduce,
etc? What is actually timing out?

> I suspect that there are additional timeouts to be configured and the 
> previous default
> values have been lowered. I tried bumping the requestTimeout to no avail. 
> This wouldn't
> explain the strange latency spikes (via /stats) seen as we began rolling out 
> the new driver.

It really shouldn't change any of this. Even the withoutFetch()
feature as it just ... doesn't do a fetch.

Since you're using that new feature, how are you using it? Is this
storing new objects, or are you providing a vclock from a previous
fetch?

Thanks,
- Roach

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

