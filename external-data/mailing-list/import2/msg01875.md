---
title: "Re: 3 node cluster on same machine"
description: ""
project: community
lastmod: 2011-01-02T20:46:21-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01875"
mailinglist_parent_id: "msg01874"
author_name: "Matthew Shaw"
project_section: "mailinglistitem"
sent_date: 2011-01-02T20:46:21-08:00
---


Thanks guys, will definately build from source for the future.


On 03/01/2011, at 2:14 PM, Jeremiah Peschka wrote:

> Glad to hear you got it working. Alexander is spot on, as well. You can get 
> started with a single node and don't have to change anything.
> 
> Jeremiah Peschka
> Microsoft SQL Server MVP
> MCITP: Database Developer, DBA
> 
> On Jan 2, 2011 11:08 PM, "Matthew Shaw"  wrote:
> > Hi Jeremiah,
> > 
> > that did it, thank you for responding so quickly. Here is the output.
> > 
> > Matthew-Shaws-MacBook-Pro:etc matthewshaw$ riak1\_admin ringready
> > TRUE All nodes agree on the ring ['ri...@127.0.0.1','ri...@127.0.0.1',
> > 'r...@127.0.0.1']
> > 
> > I will try and compile from source to enable the 64bit version. Thanks for 
> > the tips.
> > 
> > Cheers,
> > Matt.
> > 
> > On 03/01/2011, at 1:27 PM, Jeremiah Peschka wrote:
> > 
> >> For starters, you should rebuild your riak with the most current stable 
> >> version, 0.13, which you can download here: 
> >> http://downloads.basho.com/riak/riak-0.13/riak-0.13.0-osx-i386.tar.gz 
> >> 
> >> Once you do that, let us know if you still see the problem and what the 
> >> output of `riak-admin ringready` says.
> >> 
> >> ... looks like the wiki needs updated to reflect the current version. 
> >> Incidentally, it also looks like there isn't a pre-compiled x64 OS X 
> >> binary. 
> >> 
> >> Jeremiah 
> >> 
> >> 
> >> On Sun, Jan 2, 2011 at 9:28 PM, Matthew Shaw  wrote:
> >> Hi,
> >> 
> >> I'm trying to create a 3 node cluster on my mac. I've followed the wikki, 
> >> creating riak1, riak2, riak3 directories and modified the vm.args and 
> >> app.config files accordingly. I join riak2 and riak3 to riak1. However 
> >> this is what the dump of riak1\_admin status looks like and there are not 3 
> >> ring members.
> >> 
> >> Can anyone provide some advice as to what I may have missed here?
> >> 
> >> 1-minute stats for 'ri...@127.0.0.1'
> >> -------------------------------------------
> >> vnode gets : 0
> >> vnode\_puts : 0
> >> read\_repairs : 0
> >> vnode\_gets\_total : 0
> >> vnode\_puts\_total : 0
> >> node\_gets : 0
> >> node\_gets\_total : 0
> >> node\_get\_fsm\_time\_mean : undefined
> >> node\_get\_fsm\_time\_median : undefined
> >> node\_get\_fsm\_time\_95 : undefined
> >> node\_get\_fsm\_time\_99 : undefined
> >> node\_get\_fsm\_time\_100 : undefined
> >> node\_puts : 0
> >> node\_puts\_total : 1
> >> node\_put\_fsm\_time\_mean : undefined
> >> node\_put\_fsm\_time\_median : undefined
> >> node\_put\_fsm\_time\_95 : undefined
> >> node\_put\_fsm\_time\_99 : undefined
> >> node\_put\_fsm\_time\_100 : undefined
> >> read\_repairs\_total : 0
> >> cpu\_nprocs : 101
> >> cpu\_avg1 : 225
> >> cpu\_avg5 : 289
> >> cpu\_avg15 : 292
> >> mem\_total : 3584648000
> >> mem\_allocated : 2573964000
> >> disk : [{"/",488050672,34},
> >> {"/Volumes/Git",15708,35},
> >> {"/Volumes/Xcode",1012592,75}]
> >> nodename : 'ri...@127.0.0.1'
> >> connected\_nodes : ['ri...@127.0.0.1','ri...@127.0.0.1',
> >> 'riak1\_maint\_37...@127.0.0.1']
> >> sys\_driver\_version : <<"1.5">>
> >> sys\_global\_heaps\_size : 0
> >> sys\_heap\_type : private
> >> sys\_logical\_processors : 2
> >> sys\_otp\_release : <<"R13B04">>
> >> sys\_process\_count : 132
> >> sys\_smp\_support : true
> >> sys\_system\_version : <<"Erlang R13B04 (erts-5.7.5) [source] [64-bit] 
> >> [smp:2:2] [rq:2] [async-threads:5] [hipe] [kernel-poll:true]">>
> >> sys\_system\_architecture : <<"i386-apple-darwin10.3.0">>
> >> sys\_threads\_enabled : true
> >> sys\_thread\_pool\_size : 5
> >> sys\_wordsize : 8
> >> ring\_members : ['r...@127.0.0.1']
> >> ring\_num\_partitions : 64
> >> ring\_ownership : <<"[{'r...@127.0.0.1',64}]">>
> >> ring\_creation\_size : 64
> >> storage\_backend : riak\_kv\_bitcask\_backend
> >> pbc\_connects\_total : 1
> >> pbc\_connects : 0
> >> pbc\_active : 0
> >> riak\_kv\_version : <<"0.12.0">>
> >> riak\_core\_version : <<"0.12.0">>
> >> bitcask\_version : <<"1.0.2">>
> >> luke\_version : <<"0.2.0">>
> >> webmachine\_version : <<"1.7.1">>
> >> mochiweb\_version : <<"1.7.1">>
> >> erlang\_js\_version : <<"0.4">>
> >> runtime\_tools\_version : <<"1.8.3">>
> >> crypto\_version : <<"1.6.4">>
> >> os\_mon\_version : <<"2.2.5">>
> >> sasl\_version : <<"2.1.9">>
> >> stdlib\_version : <<"1.16.5">>
> >> kernel\_version : <<"2.13.5">>
> >> 
> >> 
> >> 
> >> Cheers,
> >> Matt.
> >> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> >> riak-users mailing list
> >> riak-users@lists.basho.com
> >> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> >> 
> >> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> >> riak-users mailing list
> >> riak-users@lists.basho.com
> >> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> > 

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

