---
title: "Error decodeing type with PBC API"
description: ""
project: community
lastmod: 2014-06-22T19:57:26-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14343"
author_name: "japhar81"
project_section: "mailinglistitem"
sent_date: 2014-06-22T19:57:26-07:00
---


Hello all,
I've been banging my head against the PBC API all weekend and I can't seem
to figure out why I'm getting an error. I'm able to call RpbListBuckets
(empty message) without issue, but when I try to call RpbListKeys I get an
error (pasted below in full) -- Error decodeing type with PBC API.

I've pulled out the encoded message (trying to list the rekon bucket as a
test), it is:
00-00-00-0A-11-00-10-6E-6F-6B-65-72-05-0A

I've confirmed that the length (0x0A = 10) and message type (0x11 =
RpbListKeysReq) are correct. I'm unsure how I'd manually decode the message
itself, but it matches what protobuf is giving me, so I'm assuming it to be
correct as well.

I'd appreciate any pointers as to what I'm doing wrong, I'm completely
stumped.

The full error I'm getting:

Error processing incoming message: throw:{error,"Error decodeing
type"}:[{protobuffs,

read\_field\_num\_and\_wire\_type,
 1,

[{file,

"src/protobuffs.erl"},

 {line,

203}]},

 {protobuffs,

next\_field\_num,
 1,

[{file,

"src/protobuffs.erl"},

 {line,

242}]},

 {riak\_kv\_pb,

decode,
 3,

[{file,

"src/riak\_kv\_pb.erl"},

 {line,

105}]},

 {riak\_kv\_pb,

decode,
 2,

[{file,

"src/riak\_kv\_pb.erl"},

 {line,

100}]},

 {riak\_kv\_pb\_bucket,

decode,
 2,

[{file,

"src/riak\_kv\_pb\_bucket.erl"},

 {line,

67}]},

 {riak\_api\_pb\_server,

handle\_message,
 3,

[{file,

"src/riak\_api\_pb\_server.erl"},

 {line,

196}]},

 {riak\_api\_pb\_server,

decode\_buffer,
 1,

[{file,

"src/riak\_api\_pb\_server.erl"},

 {line,

172}]},

 {gen\_server,

handle\_msg,
 5,

[{file,

"gen\_server.erl"},

 {line,

607}]}]
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

