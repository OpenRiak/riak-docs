---
title: "About the file size in luwak"
description: ""
project: community
lastmod: 2011-12-07T04:28:58-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05880"
author_name: "vuleetu"
project_section: "mailinglistitem"
sent_date: 2011-12-07T04:28:58-08:00
---


Hi, All

 Right now, the size get from luwak is not the same as record in our
datbase. Can i use the way to get rid of these broken files:

 1) After write file to luwak using luwak\_put\_stream:send(), then call
 luwak\_put\_stream:close() to close the put stream.
 2) Use luwak\_put\_stream:status() to get the latest luwak file handler,
then call luwak\_file:length(Riak, RiakFileHandler) to get the file final
size in riak. Check if the size in database is the same as the size, if the
size is different, does that mean the file is broken? Does this way make
sence?

Thanks
Fisher
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

