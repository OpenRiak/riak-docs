---
title: "Re: 2i for single-result lookup"
description: ""
project: community
lastmod: 2011-11-08T04:42:52-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05472"
mailinglist_parent_id: "msg05462"
author_name: "Kresten Krab Thorup"
project_section: "mailinglistitem"
sent_date: 2011-11-08T04:42:52-08:00
---


Or for something simple like this you can also use my riak\_link\_index module

 https://github.com/krestenkrab/riak\_link\_index#readme

Kresten



On Nov 8, 2011, at 2:45 AM, Greg Pascale wrote:

> Hi,
> 
> I'm thinking about using 2i for a certain piece of my system, but I'm worried 
> that the document-based partitioning may make it suboptimal.
> 
> The issue is that the secondary fields I want to query over (email and 
> username) are unique, so each will only ever map to one value. Since 2i 
> queries a coverage set, but I'm only ever looking for one result, it's going 
> to be hitting n-1 machines needlessly.
> 
> So, what I'm looking to understand is how much overhead a single-result 2i 
> lookup like this will incur vs. a primary-key lookup, or even vs. search. 
> Search doesn't intuitively feel like the right tool here, but I wonder if it 
> may actually be preferable since it uses term-based partitioning.
> 
> Thanks,
> 
> -- 
> Greg
> Clipboard
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

