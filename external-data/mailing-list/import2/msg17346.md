---
title: "Re: Riak search on an index limited to only 1 bucket"
description: ""
project: community
lastmod: 2016-05-13T12:01:04-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17346"
mailinglist_parent_id: "msg17345"
author_name: "Alex De la rosa"
project_section: "mailinglistitem"
sent_date: 2016-05-13T12:01:04-0700
---


Another question... if I have a set of tags for the elements... like
photo.set['tags'] with things like: ["holidays", "Hawaii", "2016"]... will
it be indexed like this?



Thanks,
Alex

On Fri, May 13, 2016 at 10:52 PM, Alex De la rosa 
wrote:

> Oh!! silly me... \*\_yz\_rb\* and \*\_yz\_rt\*... how didn't I think of that?...
>
> thanks also for the "\*:\*" tip ; )
>
> Thanks!
> Alex
>
> On Fri, May 13, 2016 at 10:50 PM, Vitaly <13vitam...@gmail.com> wrote:
>
>> Hi Alex,
>>
>> 'likes\_counter:[100 TO \*] AND \_yz\_rb:photos' will limit query results to
>> the photos bucket only. Similarly, "\_yz\_rt" is for a bucket type.
>>
>> Searching for anything in an index can be done with "\*:\*" (any field,
>> any value).
>>
>> Regards,
>> Vitaly
>>
>> On Fri, May 13, 2016 at 9:40 PM, Alex De la rosa > > wrote:
>>
>>> Hi all,
>>>
>>> Imaging I have an index called "\*posts\*" where I index the following
>>> fields
>>>
>>> 
>>> 
>>> >> stored="false" />
>>>
>>> and I reuse the index in 3 buckets: "status", "photos" and "videos"...
>>> then I do the following:
>>>
>>> \*results = client.fulltext\_search('posts', 'likes\_counter:[100 TO \*]',
>>> sort='likes\_counter desc', rows=10)\*
>>>
>>> This query would give me the top10 most liked items (can be statuses,
>>> photos or videos) with at least 100 likes. But how could I limit the
>>> resultset to only the "photos" bucket?? The goal is to get the Top10 liked
>>> photos without creating an index for itself... as is good to also be able
>>> to query the top10 items in general. Any way to do it?
>>>
>>> In another hand... does somebody know how to do the same query but
>>> without the [100 TO \*]?? I leave it empty?
>>>
>>> \*results = client.fulltext\_search('\*\*posts\*\*', '', sort='likes\_counter
>>> desc', rows=10)\*
>>>
>>> Thanks,
>>> Alex
>>>
>>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>> riak-users mailing list
>>> riak-users@lists.basho.com
>>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>>
>>>
>>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

