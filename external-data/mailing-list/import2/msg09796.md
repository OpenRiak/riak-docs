---
title: "Re: Ripple file attachments"
description: ""
project: community
lastmod: 2013-01-10T17:37:21-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09796"
mailinglist_parent_id: "msg09758"
author_name: "Mark Phillips"
project_section: "mailinglistitem"
sent_date: 2013-01-10T17:37:21-08:00
---


Hi Ariel,

On Mon, Jan 7, 2013 at 7:35 PM, Ariel Valentin  wrote:
> Thanks for the reply.
>
> I recently learned about carrierwave, which does not have a dependency on 
> activerecord. I think am going to give that a try. I don't like the idea of 
> having embedded documents in this case but rather a reference to a value in a 
> separate bucket.
>
> I will RTFM when I get a chance but is 4MB a magic number? What happens when 
> an entry exceeds that size?
>

That's around where Riak will start to become less-than-happy with the
object size it has to buffer in memory and then write to disk. There's
nothing hard-coded in Riak to prevent you from storing something
bigger than 4MB, nor will it result in total protonic reversal [0] if
you attempt to do so. But, to keep things performant, that's around
where we advise people to cap object sizes if possible. YMMV.

Hope that helps.

Mark

[0] http://www.youtube.com/watch?v=jyaLZHiJJnE

> Thanks,
> Ariel
> ---
> Sent from my mobile device. Please excuse any errors.
>
> On Jan 7, 2013, at 10:04 PM, Mark Phillips  wrote:
>
>> Hi Ariel,
>>
>> On Tue, Dec 18, 2012 at 7:23 PM, Ariel Valentin  
>> wrote:
>>> Does Ripple provide file attachement functionality similar to paperclip or
>>> attachement\_fu?
>>>
>>> I'd like to be able to attach binary data to a Ripple Document object that
>>> is being stored in a different bucket.
>>>
>>
>> It looks like you can add any property to Ripple::Document [0]. Though
>> it doesn't seem to be documented (as far as I can tell), this could
>> certainly be a binary blob. (Just make sure said blob isn't much
>> bigger than 4MB or so.)
>>
>> Also, since you mentioned it, someone released a Paperclip module for
>> Riak [1] about a month back.
>>
>> Hope that helps.
>>
>> Mark
>> twitter.com/pharkmillups
>>
>> [0] http://basho.github.com/ripple/#Document\_Model\_Examples
>> [1] https://github.com/xinuc/paperclip-riak
>>
>>> Ariel Valentin
>>> e-mail: ar...@arielvalentin.com
>>> website: http://blog.arielvalentin.com
>>> skype: ariel.s.valentin
>>> twitter: arielvalentin
>>> linkedin: http://www.linkedin.com/profile/view?id=8996534
>>> ---------------------------------------
>>> \*simplicity \*communication
>>> \*feedback \*courage \*respect
>>>
>>>
>>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>> riak-users mailing list
>>> riak-users@lists.basho.com
>>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

