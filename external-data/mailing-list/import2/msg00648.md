---
title: "Re: Out of memory: kill process 8713 (beam.smp)"
description: ""
project: community
lastmod: 2010-06-24T01:28:24-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00648"
mailinglist_parent_id: "msg00639"
author_name: "Germain Maurice"
project_section: "mailinglistitem"
sent_date: 2010-06-24T01:28:24-07:00
---



Dan,

I don't know exactly when the errors occured because there are no 
timestamps :(
I'm sure that's during a basho\_bench test (no map-reduce was launched). 
I see these errors on the all nodes of my cluster.
However, the riak nodes kept running, now i'm using riak 0.11.0 with 
innostore, previously i led some tests with bitcask. I believe that's 
during i was using Bitcask the errors occured.
Each node has 3GB memory installed, i assume this could be a bit small, 
but why a crash ?!


Thank you for the links, i just got a glance on them.


Le 23/06/10 19:37, Dan Reverri a écrit :

Hi Germain,

I'm sorry if I've missed any background information that may have been 
provided earlier but can you tell me the scenario that led up to these 
errors? Are you running a load test against a cluster? Are you seeing 
these out of memory errors in one of your nodes? How much memory does 
the machine running the node have? What type of load is being placed 
on the node (get, put, map reduce, etc.)?


If you are using the Bitcask backend, which is default in the latest 
release, you should be aware that all keys held on the node must fit 
in memory (this does NOT include the values, just the keys). Here is a 
related discussion from IRC:

http://gist.github.com/438065

Also worth reviewing is this discussion from the mailing list:
http://riak.markmail.org/search/?q=bitcask%20key%20memory#query:bitcask%20key%20memory+page:1+mid:2rreshpri7laq57h+state:results

Thank you,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com 


On Wed, Jun 23, 2010 at 12:24 PM, Germain Maurice 
> wrote:


 I'm still disturbing you with errors...

 I just discovered some errors and i would like to know if it's
 normal...
 You can see the errors in the attached file.


 -- 
 Germain Maurice

 Administrateur Système/Réseau
 Tel : +33.(0)1.42.43.54.33

 http://www.linkfluence.net


 \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
 riak-users mailing list
 riak-users@lists.basho.com 
 http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com





--
Germain Maurice
Administrateur Système/Réseau
Tel : +33.(0)1.42.43.54.33

http://www.linkfluence.net

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

