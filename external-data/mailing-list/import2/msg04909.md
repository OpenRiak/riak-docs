---
title: "Re: What is the best way to do "AND / OR" queries across data items	across one or more buckets Riak? Seconday indexes, Solr,	mutiple map phases, etc? Is this advice different prior to 1.0?"
description: ""
project: community
lastmod: 2011-09-28T11:41:27-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04909"
mailinglist_parent_id: "msg04902"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2011-09-28T11:41:27-07:00
---


Harshal,

If you had an object like `{"a": "test test2"}` then `test AND test2` would
match it.

Out of curiosity, are you using search as a secondary index mechanism? If
so you should know that Riak has built-in secondary index support for 1.0
where you can add tags to your objects.

-Ryan

On Wed, Sep 28, 2011 at 2:19 PM, Harshal Dhir
wrote:

> Hi,
>
> We were wondering what is the best possible way to perform "AND / OR"
> queries in RiakSearch. It seems OR works but how do I perform an AND on the
> same field.
>
> For example:
>
> DATA:
>
> {a : "test" } {a: "test"} {a: "test2"}
>
> "test" OR "test2" would return both. But, we are looking to return AND
> query result, since obviously "test2" AND "test" won't return anything.
>
> So, we are looking for guidance on how do we store data in such a way that
> AND queries would be possible.
>
> Whats the best recommended approach both prior to 1.0 and 1.0 going
> forward.
>
>
> Thanks
> Harshal
>
>
> \*
>
> \*
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

