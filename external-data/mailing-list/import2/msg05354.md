---
title: "Re: Ripple document NoMethodError: undefined method `all' for	Customer:Class"
description: ""
project: community
lastmod: 2011-10-28T17:21:19-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05354"
mailinglist_parent_id: "msg05331"
author_name: "Jeff Pollard"
project_section: "mailinglistitem"
sent_date: 2011-10-28T17:21:19-07:00
---


Hey Eric,

You're not doing anything wrong. That notice is purposely in the code to
alert you that calling Riak::Bucket#keys is an expensive operation and
should not be used in production. My understanding is that it's less
expensive in 1.0 (we're still on 0.14), but I would assume it's still an
expensive-enough call to not make in production.

On Thu, Oct 27, 2011 at 10:23 AM, Eric Chaves  wrote:

> Hi Dan,
>
> Thanks for the help. I changed to list method but it seems I'm still doing
> something wrong. Calling "Customer.list" raises an exception
> "Riak::Bucket#keys is an expensive operation that should not be used in
> production" with the results at the end of it.
>
> Letting ripple aside, what would be the recommended way to retrieve a list
> of all documents/keys under a certain bucket? Should I use a map/reduce for
> that?
>
> Cheers,
>
> Eric
>
>
> 2011/10/27 Dan Reverri 
>
>> Hi Eric,
>>
>> I believe the method was changed to `list`; I don't know what version of
>> Ripple changed the method name.
>>
>> Thanks,
>> Dan
>>
>> Daniel Reverri
>> Developer Advocate
>> Basho Technologies, Inc.
>> d...@basho.com
>>
>>
>> On Thu, Oct 27, 2011 at 8:59 AM, Eric Chaves  wrote:
>>
>>> Hi Guys,
>>>
>>> I'm trying to learn Riak using padrino + ripple and for that I created a
>>> padrino project with one Customer model using the Ripple::Document model and
>>> start playing around in the padrino console. The project setup seems to be
>>> ok since I can create and save instance objects from padrino console however
>>> whenever I call Customer.all I got a method undefined error.
>>>
>>> Am I doing something wrong here? Is there another way to retrieve all
>>> documents within a bucket?
>>>
>>> Thanks in advance,
>>>
>>> Eric
>>>
>>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>> riak-users mailing list
>>> riak-users@lists.basho.com
>>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>>
>>>
>>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

