---
title: "Re: Riak Search. Ranges. Integer Analyzer Factory."
description: ""
project: community
lastmod: 2012-08-20T09:42:18-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08331"
mailinglist_parent_id: "msg08330"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2012-08-20T09:42:18-07:00
---


On Mon, Aug 20, 2012 at 12:29 PM, Vladimir Shapovalov
wrote:

> Hi Ryan,
>
> Thank you, I didn't know that the data stays unchanged. Similar to 2i.
>
> While executing curl request I get this record in crash.log:
> ------------------------------------------------------------------
> 2012-08-20 18:12:22 =CRASH REPORT====
> crasher:
> initial call: mochiweb\_acceptor:init/3
> pid: <0.138.0>
> registered\_name: []
> exception error: no case clause matching {ok,{http\_error,"GET
> /solr/my\_index/select?q=price:[100 TO 200] HTTP/1.1\r\n"},<<>>}
> in function mochiweb\_http:request/3
> in call from proc\_lib:init\_p\_do\_apply/3
> ancestors: ['http\_localhost:8098',riak\_core\_sup,<0.105.0>]
> messages: []
> links: [<0.136.0>,#Port<0.6518>]
> dictionary: []
> trap\_exit: false
> status: running
> heap\_size: 610
> stack\_size: 24
> reductions: 533
> neighbours:
> ------------------------------------------------------------------
>

You need to encode the url as you have illegal characters in there.


>
> I've tried it on the command line with the no success:
>
> $: /usr/sbin/search-cmd search my\_index "price:[100 TO 200]"
>

You stored the field as `price\_int` and you are querying `price`. Search
doesn't strip suffixes like 2i. It is just a convention for a dynamic
field. You could add an explicit `price` field with the integer analyzer
or you need to search against the `price\_int` field.

-Z
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

