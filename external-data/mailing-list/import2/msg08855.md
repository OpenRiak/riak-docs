---
title: "riak search - creating many indexes for one inserted object"
description: ""
project: community
lastmod: 2012-10-09T14:21:39-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08855"
author_name: "kamiseq"
project_section: "mailinglistitem"
sent_date: 2012-10-09T14:21:39-07:00
---


hi all,

right now we are using solr as search index and we are inserting data
manually. so there is nothing to stop us from creating many indexes
(sort of views) on same entity, aggregate data and so on.
can something like that be achieved with riak search??

I think that commit hooks are good point to start with but as I read
search index is kept in different format than bucket data and I would
love to still use solr-like api to search the index.

example

I have two entities cars and parking\_lots, each car references parking
lot it belongs to.
when I create/update/delete car object I would like to not only update
car index (so I can search by car type, name, number plates, etc) but
also update parking index to easily check how many cars given lot has
(plus search lots by cars, or search cars with given property).

probably all this can be achieved in many other ways. I can imagine
storing array of direct references in parking object and update this
object when car object also changed. but this way I need to issue two
asynchronous write request with no guaranties that both will be
persisted.

any hint appreciated.

pozdrawiam
Paweł Kamiński

kami...@gmail.com
pkaminski....@gmail.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

