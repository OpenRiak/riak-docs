---
title: "Re: trying to build from source"
description: ""
project: community
lastmod: 2013-08-29T17:54:09-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12167"
mailinglist_parent_id: "msg12165"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2013-08-29T17:54:09-07:00
---


Hi akonsu -

The following shell script will use the "erl" command to find your
ERLANG\_ROOT and then will search it for the ei.h file.

-----
#!/usr/bin/env bash

if ! hash erl 2>/dev/null
then
 echo "Could not find 'erl' command!" 1>&2
 exit 1
fi

ERLANG\_ROOT=$(erl -eval 'io:format("~s", [code:root\_dir()])' -s init
stop -noshell)

echo "ERLANG\_ROOT: $ERLANG\_ROOT"

find "$ERLANG\_ROOT" -type f -iname ei.h
-----

Typical output will look like this:

(R15B01-riak)vagrant@UBUNTU-12:~$ ./find-erl-header.sh
ERLANG\_ROOT: /home/vagrant/.kerl/installs/R15B01-riak
/home/vagrant/.kerl/installs/R15B01-riak/lib/erl\_interface-3.7.7/include/ei.h

On Thu, Aug 29, 2013 at 2:13 PM, akonsu  wrote:
> Hello,
>
> I asked the same question on stackoverflow, but I am not sure if SO is a
> good resource for this kind of help. Please forgive me for cross posting. I
> am just starting...
>
> I am trying to build riak from source on Lubuntu 13.04 using these commands
>
> curl -O
> http://s3.amazonaws.com/downloads.basho.com/riak/1.4/1.4.1/riak-1.4.1.tar.gz
> tar zxvf riak-1.4.1.tar.gz
> cd riak-1.4.1
> make rel
>
> I am getting this error:
>
> /home/akonsu/projects/riak/deps/syslog/c\_src/syslog\_drv.c:29:16: fatal
> error: ei.h: No such file or directory
> compilation terminated.
> ERROR: compile failed while processing
> /home/akonsu/projects/riak/deps/syslog: rebar\_abort
> make: \*\*\* [compile] Error 1
>
> I am getting the same error if I build from github repository.
>
> Has anyone seen this? Do I need to install a dependency?

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

