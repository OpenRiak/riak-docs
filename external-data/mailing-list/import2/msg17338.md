---
title: "Re: trouble running riak-cs"
description: ""
project: community
lastmod: 2016-05-12T20:31:05-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17338"
mailinglist_parent_id: "msg17336"
author_name: "Kazuhiro Suzuki"
project_section: "mailinglistitem"
sent_date: 2016-05-12T20:31:05-0700
---


Hi David,

According to the error 'error\_verifying\_props', it looks like your
Riak KV couldn't be configured for Riak CS. Please make sure if Riak
KV is configured as to allow\_mult[1] and backend[2].

[1]: 
https://docs.basho.com/riak/cs/2.1.1/cookbooks/configuration/riak-for-cs/#allowing-for-sibling-creation
[2]: 
https://docs.basho.com/riak/cs/2.1.1/cookbooks/configuration/riak-for-cs/#setting-up-the-proper-riak-backend

Thanks,
Kaz

On Thu, May 12, 2016 at 7:17 AM, Kensiski, David  wrote:
> I am installing Riak CS on Ubuntu 14.04 based on the instructions here:
> https://docs.basho.com/riak/cs/2.1.1/cookbooks/installing/
>
> I followed the instructions for configuring /etc/riak-cs/riak-cs.conf:
>
> root@p01:~# diff /etc/riak-cs/riak-cs.conf-ORIG /etc/riak-cs/riak-cs.conf
> 8c8
> < listener = 127.0.0.1:8080
> ---
>> listener = 192.168.12.61:8080
> 16c16
> < riak\_host = 127.0.0.1:8087
> ---
>> riak\_host = 192.168.12.61:8087
> 25c25
> < stanchion\_host = 127.0.0.1:8085
> ---
>> stanchion\_host = 192.168.12.61:8085
> 515c515
> < nodename = riak-cs@127.0.0.1
> ---
>> nodename = riak-cs@192.168.12.61
>
>
> As well as /etc/stanchion/stanchion.conf:
>
> root@p01:~# diff /etc/stanchion/stanchion.conf-ORIG
> /etc/stanchion/stanchion.conf
> 7c7
> < listener = 127.0.0.1:8085
> ---
>> listener = 192.168.12.61:8085
> 29c29
> < riak\_host = 127.0.0.1:8087
> ---
>> riak\_host = 192.168.12.61:8087
> 238c238
> < nodename = stanchion@127.0.0.1
> ---
>> nodename = stanchion@192.168.12.67
>
>
> But when I go to start riak-cs, it times out and suggest I run the console:
>
> root@p01:~# riak-cs console
> config is OK
> -config /var/lib/riak-cs/generated.configs/app.2016.05.11.15.06.49.config
> -args\_file /var/lib/riak-cs/generated.configs/vm.2016.05.11.15.06.49.args
> -vm\_args /var/lib/riak-cs/generated.configs/vm.2016.05.11.15.06.49.args
> Exec: /usr/lib/riak-cs/erts-5.10.3/bin/erlexec -boot
> /usr/lib/riak-cs/releases/2.1.0/riak-cs -config
> /var/lib/riak-cs/generated.configs/app.2016.05.11.15.06.49.config -args\_file
> /var/lib/riak-cs/generated.configs/vm.2016.05.11.15.06.49.args -vm\_args
> /var/lib/riak-cs/generated.configs/vm.2016.05.11.15.06.49.args
> -pa /usr/lib/riak-cs/lib/basho-patches -- console
> Root: /usr/lib/riak-cs
> Erlang R16B02\_basho8 (erts-5.10.3) [source] [64-bit] [smp:16:16]
> [async-threads:64] [kernel-poll:true] [frame-pointer]
>
>
> =INFO REPORT==== 11-May-2016::15:06:50 ===
> opening log file: "/var/log/riak-cs/access.log.2016\_05\_11\_22"
> Setup running ...
> Directories verified. Res = {[ok],[]}
> Setup finished processing hooks ...
> Eshell V5.10.3 (abort with ^G)
> (riak-cs@192.168.12.61)1> [os\_mon] memory supervisor port (memsup): Erlang
> has closed
> [os\_mon] cpu supervisor port (cpu\_sup): Erlang has closed
> {"Kernel pid
> terminated",application\_controller,"{application\_start\_failure,riak\_cs,{error\_verifying\_props,{riak\_cs\_app,start,[normal,[]]}}}"}
>
> Crash dump was written to: /var/log/riak-cs/erl\_crash.dump
> Kernel pid terminated (application\_controller)
> ({application\_start\_failure,riak\_cs,{error\_verifying\_props,{riak\_cs\_app,start,[normal,[]]}}})
>
>
> I'm sure this is not the first time you've heard this, but that error output
> means nothing to me. What am I missing? I'm happy to send the entire crash
> dump but it looks like the meat of it is in the first few lines:
>
> root@p01:~# head -20 /var/log/riak-cs/erl\_crash.dump
> =erl\_crash\_dump:0.2
> Wed May 11 15:06:52 2016
> Slogan: Kernel pid terminated (application\_controller)
> ({application\_start\_failure,riak\_cs,{error\_verifying\_props,{riak\_cs\_app,start,[normal,[]]}}})
> System version: Erlang R16B02\_basho8 (erts-5.10.3) [source] [64-bit]
> [smp:16:16] [async-threads:64] [kernel-poll:true] [frame-pointer]
> Compiled: Thu Apr 2 18:09:02 2015
> Taints:
> Atoms: 13672
> =memory
> total: 43277632
> processes: 3738368
> processes\_used: 3645720
> system: 39539264
> atom: 388601
> atom\_used: 371341
> binary: 61696
> code: 8759918
> ets: 4160224
> =hash\_table:atom\_tab
> size: 9643
> used: 7278
>
>
> Any help would be greatly appreciated. Thanks!
>
> --Dave
>
>
> --
> David Kensiski
> Director of Technical Infrastructure
> School Loop
>
> In school and on track.
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>



-- 
Kazuhiro Suzuki | Basho Technologies, Inc

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

