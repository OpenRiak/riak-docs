---
title: "Re: noproc error on Map/Reduce"
description: ""
project: community
lastmod: 2012-10-15T08:38:46-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08919"
mailinglist_parent_id: "msg08875"
author_name: "Bryan Fink"
project_section: "mailinglistitem"
sent_date: 2012-10-15T08:38:46-07:00
---


On Thu, Oct 11, 2012 at 12:12 AM, Matt Black  wrote:
> When I run the query it fails with this error, with which I am unfamiliar..
> Any thoughts on how to diagnose?

Hi, Matt. The interesting part of that error is:

> '{"phase":0,"error":"{noproc,{gen\_server,call,[riak\_kv\_js\_map,{reserve\_vm,<0.23487.1151>},infinity]}}"

That `noproc` is saying that the process that gen\_server:call/3 was
trying to contact wasn't there. The arguments indicate that it was
calling the riak\_kv\_js\_map process, which is the riak\_kv\_js\_manager of
the Javascript VMs used in evaluating map functions. If it's not
there, it must have crashed, which should have left a message in your
Riak node's logs. If it's there, you'll probably find it by searching
for riak\_kv\_js\_manager, together with the phrase "initial call".

It's also possible that it was not the manager, but instead the VM
process that was absent. This particular error can bubble up in this
way. If this is the problem, there may be a race condition in the
checkin/checkout of those VMs. We did fix one such condition earlier
this year â€¦ which Riak version are you using? If this is the problem,
you'll probably see errors in your Riak node's logs about
riak\_kv\_js\_vm crashing/exiting.

I've opened a new issue to track this problem here:
https://github.com/basho/riak\_kv/issues/403 . If you learn more about
the root cause, please reply either here or there.

Thank you,
Bryan

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

