---
title: "strange behavior upgrading from riak-java-client 1.0.5 -> 1.0.6"
description: ""
project: community
lastmod: 2012-12-26T18:29:02-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09680"
author_name: "Dietrich Featherston"
project_section: "mailinglistitem"
sent_date: 2012-12-26T18:29:02-08:00
---


I had rolled out an upgrade to a JVM app that uses rjc 1.0.5. We had
upgraded to 1.0.6 to take advantage of newly added abilities to do a
put without preceding it with a fetch in order to reduce operational
load on the cluster. However, after rolling out this change we
frequently see large rises in latency across the cluster (up to the
gen\_fsm limit of 60s) and see the following in the riak logs

[error] Unrecognized message {74392380,{error,timeout}}

This is accompanied by repeated socket timeouts as seen by the riak-java-client.

Also worth mentioning, one of our nodes got into a state that the rjc
was unable to establish a tcp connection on the protobuf port to riak
on localhost. We were only able to fix this by restarting the riak
process on that node and inducing a fair amount of handoff.

Any thoughts?

Thanks,
D

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

