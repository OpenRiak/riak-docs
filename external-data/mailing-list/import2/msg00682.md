---
title: "Re: riak install issues"
description: ""
project: community
lastmod: 2010-07-06T12:46:31-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00682"
mailinglist_parent_id: "msg00680"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2010-07-06T12:46:31-07:00
---


Hi Robert,

My guess is that the build process is still using your home directory
version of Erlang which may be broken. Can you type the following?
which erl

The home directory version has the erl\_driver.h file in a location I am not
familiar with and may not be in the Erlang include paths; although I am just
guessing and could be completely wrong.

Can you tell me what source tree you are building from? Downloaded tarball
or bitbucket/github clone?
Can you try compiling with the verbose flag and send us the output?
./rebar -v compile

Also, we provide pre-built binaries for Redhat so you do not need to build
from source:
https://downloads.basho.com/riak/


Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Tue, Jul 6, 2010 at 12:18 PM, Robert Schaefer wrote:

> Dan,
>
> Redhat Enterprise 5.4
>
> I first installed it in my home directory,
> /home/jupiter/rps/rabbitmq/otp\_src\_R14A/erts/emulator/beam/erl\_driver.h
>
> and when riak couldn't find it, I had my sys-admin install it
> just in case the path to the "includes" was hard coded to use admin space.
>
> "find" returns: /opt/linux/lib/erlang/erts-5.8/include/erl\_driver.h
>
> The include file is present (in two directories: mine, and admin space).
>
> What do I have to do to get riak to find either one?
>
> (I know erlang binary works because I used it to build another tool,
> "rabbitmq")
>
> thanks,
>
> bob s.
>
>
>
> On 07/06/2010 02:28 PM, Dan Reverri wrote:
>
> Hi Robert,
>
> What platform are you building on? (OS X, Ubuntu, Redhat)
> How did you install Erlang?
> Can you check your Erlang install for the "erl\_driver.h" file?
>
> To find the Erlang root directory use code:root\_dir/0:
> $ erl
> Erlang R13B04 (erts-5.7.5) [source] [64-bit] [smp:4:4] [rq:4]
> [async-threads:0] [hipe] [kernel-poll:false]
>
> Eshell V5.7.5 (abort with ^G)
> 1> code:root\_dir().
> "/usr/local/Cellar/erlang/R13B04/lib/erlang"
> 2>
>
>
> You can search the root directory for the "erl\_driver.h" file as follows:
> $ cd /usr/local/Cellar/erlang/R13B04/lib/erlang
> $ find . -name "erl\_driver.h"
> ./erts-5.7.5/include/erl\_driver.h
> ./usr/include/erl\_driver.h
>
>
> Thanks,
> Dan
>
> Daniel Reverri
> Developer Advocate
> Basho Technologies, Inc.
> d...@basho.com
>
>
> On Tue, Jul 6, 2010 at 10:49 AM, robert schaefer wrote:
>
>>
>> -- The error I get is:
>>
>> Compiling c\_src/driver\_comm.c
>> c\_src/driver\_comm.c:21:24: error: erl\_driver.h: No such file or directory
>> c\_src/driver\_comm.c: In function ‘read\_command’:
>> c\_src/driver\_comm.c:36: warning: implicit declaration of function
>> ‘driver\_alloc’
>> ERROR: $CC -c $CFLAGS $DRV\_CFLAGS c\_src/driver\_comm.c -o
>> c\_src/driver\_comm.o failed with error: 1
>> make: \*\*\* [compile] Error 1
>>
>>
>> -- The riak make appears to not know where the erlang include files are -
>> erlang version: otp\_src\_R14A
>>
>> Any help?
>>
>> -----------------------------------
>> robert schaefer
>> Atmospheric Sciences Group
>> MIT Haystack Observatory
>> Westford, MA 01886
>>
>> email: r...@haystack.mit.edu
>> voice: 781-981-5767
>> www: http://www.haystack.mit.edu
>>
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>
> !DSPAM:4c337d1426127843820634!
>
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

