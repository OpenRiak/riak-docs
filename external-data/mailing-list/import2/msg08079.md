---
title: "Re: Updating an index value using Java API"
description: ""
project: community
lastmod: 2012-07-26T02:39:20-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08079"
mailinglist_parent_id: "msg08063"
author_name: "Kaspar Thommen"
project_section: "mailinglistitem"
sent_date: 2012-07-26T02:39:20-07:00
---


Thanks, I'll try that.

Kaspar
On Jul 25, 2012 7:08 PM, "Brian Roach"  wrote:

> Sorry, I missed this one.
>
> As Ryan notes, you simply rewrite the object to Riak with the new indexes.
> There's no need to delete the object beforehand.
>
> With the Java client you can do this via a Mutation that would be used
> when you call StoreObject.execute()
>
> Thanks,
> - Roach
>
> On Jul 25, 2012, at 10:01 AM, Ryan Zezeski wrote:
>
> > Kaspar,
> >
> > I don't know the details of the Java API but re-writing the object
> should suffice. Riak will remove the old indexes for you and create the
> new ones.
> >
> > -Z
> >
> > On Wed, Jul 18, 2012 at 5:00 AM, Kaspar Thommen <
> kaspar.thom...@gmail.com> wrote:
> > Hi,
> >
> > Say I have a 'users' bucket that stores user data (name, email) and I
> also have secondary index to access users by e-mail, how do I update the
> index in case a user's e-mail address changes?
> >
> > The only approach I found so far was to completely delete the user
> object, which implies a deletion of the index entry, and then recreate the
> update object and add the new e-mail to the index. Is this the only way?
> >
> > Thanks,
> > Kaspar
> >
> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > riak-users mailing list
> > riak-users@lists.basho.com
> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> >
> >
> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > riak-users mailing list
> > riak-users@lists.basho.com
> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

