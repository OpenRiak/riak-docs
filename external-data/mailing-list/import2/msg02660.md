---
title: "Re: generating an object key in the erlang client"
description: ""
project: community
lastmod: 2011-03-15T22:42:59-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02660"
mailinglist_parent_id: "msg02659"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2011-03-15T22:42:59-07:00
---


You need to start the crypto application:

2> application:start(crypto).
ok
3> riak\_core\_util:unique\_id\_62().
"V2N2Hcwxa1jkG2y9nFSiJCs9Qyt"


Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Tue, Mar 15, 2011 at 10:34 PM, Saurabh Sehgal wrote:

> Hi,
>
> I tried using the riak\_core\_util:unique\_id\_62/0 , but get the following
> error ->
>
> \*\* exception error: bad argument
> in function port\_control/3
> called as port\_control(crypto\_drv03,5,
>
> <<131,104,2,114,0,3,100,0,13,110,111,110,111,100,101,64,
> 110,111,104,111,115,116,0,0,0,0,...>>)
> in call from crypto:control/2
> in call from riak\_core\_util:unique\_id\_62/0
>
> Any ideas ?
>
>
> On Sat, Mar 12, 2011 at 8:40 AM, Sean Cribbs  wrote:
>
>> That is correct. Either the driver itself or the application code needs to
>> generate a key.
>>
>> Sean Cribbs 
>> Developer Advocate
>> Basho Technologies, Inc.
>> http://basho.com/
>>
>> On Mar 12, 2011, at 1:14 AM, Joshua Partogi wrote:
>>
>> > Hi Dan,
>> >
>> > I guess that also affects other driver that by default uses protobuf
>> > [like the riak python driver] ? Does that mean the riak python driver
>> > need to generate the unique key on the client side when it uses
>> > protobuf?
>> >
>> > Cheers.
>> >
>> > On Sat, Mar 12, 2011 at 4:11 AM, Dan Reverri  wrote:
>> >> Hi Saurabh,
>> >> The protocols buffers interface does not currently support server side
>> >> generated keys. Bug 485 has been filed for this issue:
>> >> https://issues.basho.com/show\_bug.cgi?id=485
>> >> In the mean time you can generate a unique key on the client side. You
>> can
>> >> use the code on the server side as a reference for generating unique
>> keys:
>> >>
>> https://github.com/basho/riak\_core/blob/master/src/riak\_core\_util.erl#L131
>> >> Thanks,
>> >> Dan
>> >> Daniel Reverri
>> >> Developer Advocate
>> >> Basho Technologies, Inc.
>> >> d...@basho.com
>> >>
>> >>
>> >> On Thu, Mar 10, 2011 at 10:37 PM, Saurabh Sehgal <
>> saurabh....@gmail.com>
>> >> wrote:
>> >>>
>> >>> Hi,
>> >>> I was going through riak's documentation and I saw that through the
>> rest
>> >>> API, if a key for an object is not specified, riak generates one for
>> you.
>> >>> Can I do the same when storing objects through the riak erlang pb
>> >>> client programmatically ?
>> >>> Thank you,
>> >>> Saurabh
>> >>>
>> >>> --
>> >>> Saurabh Sehgal
>> >>> E-mail: saurabh....@gmail.com
>> >>> Phone: 425-269-1324
>> >>> LinkedIn: http://www.linkedin.com/pub/1/7a3/436
>> >>>
>> >>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> >>> riak-users mailing list
>> >>> riak-users@lists.basho.com
>> >>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>> >>>
>> >>
>> >>
>> >> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> >> riak-users mailing list
>> >> riak-users@lists.basho.com
>> >> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>> >>
>> >>
>> >
>> >
>> >
>> > --
>> > http://twitter.com/jpartogi
>> >
>> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> > riak-users mailing list
>> > riak-users@lists.basho.com
>> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>
>
>
> --
> Saurabh Sehgal
> E-mail: saurabh....@gmail.com
> Phone: 425-269-1324
> LinkedIn: http://www.linkedin.com/pub/1/7a3/436
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

