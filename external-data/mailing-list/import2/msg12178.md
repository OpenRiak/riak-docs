---
title: "Re: my performance numbers are low"
description: ""
project: community
lastmod: 2013-08-30T11:24:29-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12178"
mailinglist_parent_id: "msg12177"
author_name: "Jared Morrow"
project_section: "mailinglistitem"
sent_date: 2013-08-30T11:24:29-07:00
---


Riak is not meant to be on a single server. With the default settings, you
are writing three copies of every key to disk instead of one. Comparing
Riak to Couch on a single server is like comparing apples to oranges. Here
is a better comparison of Riak v. Couch
http://docs.basho.com/riak/latest/theory/comparisons/couchdb/.

We typically recommend testing Riak out on 5 nodes. Searching riak-users
will dig up some ways to adjust the n\_val and ring\_size to better model
Riak on a single node if testing on multiple nodes is not possible.

-Jared


On Fri, Aug 30, 2013 at 12:07 PM, akonsu  wrote:

> I installed Riak on my development machine (32 bit Lubuntu 13.04), and ran
> stress test on it using siege (http://www.joedog.org/siege-home/). The
> test is just a series of concurrent HTTP requests:
>
> file riak-benchmark.siege:
>
> http://127.0.0.1:8098/riak/tweets/test PUT <./sample-tweet.json
>
> where sample-tweet.json is a file with a sample tweet from twitter.com
>
> and this is the command that I ran using the above file:
>
> siege -c200 -r1000 --header"Content-Type: application/json"
> -friak-benchmark.siege
>
>
>
> I did the same with CouchDB, but using this file:
>
> http://127.0.0.1:5984/tweets POST <./sample-tweet.json
>
>
> I got the numbers below. Transaction rate for CouchDB is much larger than
> that for Riak. I must be doing something wrong. I have just started looking
> at Riak, I have not changed any settings, except for I enabled SSL and
> riak-control. I have started one node and did not configure a cluster.
> Using the default back-end.
>
> Would appreciate any advice on how to get the numbers higher.
>
> couchdb:
>
> Transactions: 200000 hits
> Availability: 100.00 %
> Elapsed time: 634.41 secs
> Data transferred: 18.12 MB
> Response time: 0.09 secs
> Transaction rate: 315.25 trans/sec
> Throughput: 0.03 MB/sec
> Concurrency: 27.04
> Successful transactions: 200000
> Failed transactions: 0
> Longest transaction: 2.48
> Shortest transaction: 0.00
>
>
> riak:
>
> Transactions: 200000 hits
> Availability: 100.00 %
> Elapsed time: 1529.91 secs
> Data transferred: 0.00 MB
> Response time: 0.99 secs
> Transaction rate: 130.73 trans/sec
> Throughput: 0.00 MB/sec
> Concurrency: 129.95
> Successful transactions: 200000
> Failed transactions: 0
> Longest transaction: 3.90
> Shortest transaction: 0.00
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

