---
title: "Re: Getting largest key"
description: ""
project: community
lastmod: 2013-09-19T01:13:45-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12322"
mailinglist_parent_id: "msg12309"
author_name: "Markus Doppelbauer"
project_section: "mailinglistitem"
sent_date: 2013-09-19T01:13:45-07:00
---



Hi Alex,
 
Thanks a lot for your answer.
Very often (we upgrade an application from BerkeleyDB to RIAK).
 
E.g.: A new key should be be the largest key + 1. Is there an other
trick to workaround this problem?
 
Thanks,
Markus
 
 

Gesendet: Mittwoch, 18. September 2013 um 21:53 Uhr
Von: "Alex Moore" 
An: riak-users@lists.basho.com, "Markus Doppelbauer" 
Betreff: Re:



Hi Markus,
 
With Riak 1.4, 2i results are sorted in ascending order. So a range query from 0 to 99999999 or 99999999 to 0 with a max result of 1 will always return the lowest index value. In your case you may want to store the largest key # somewhere, or if you need to find it infrequently you may also try a map reduce job.  
 
How often will you need to know this max key?
 
Thanks,
Alex Moore
On September 18, 2013 at 5:56:22 AM, Markus Doppelbauer (doppelba...@gmx.net) wrote:


Hello,

Is there a chance to get the biggest key of a bucket or secondary index?
E.g.: A bucket (or 2i) contains the keys: 10, 20, 30, 40, 50
The result should be: 50
 
Could this problem be solved, by quering a secondary index from back, e.g.:
curl http://localhost:8098/buckets/mybucket/index/field\_int/99999999999/0?max\_results=1
 
Thanks a lot
Markus
 
 






 








\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

