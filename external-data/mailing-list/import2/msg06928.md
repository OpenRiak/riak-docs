---
title: "Re: Solving "bad_utf8_character_code" error returned by Riak MR"
description: ""
project: community
lastmod: 2012-03-09T12:32:45-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06928"
mailinglist_parent_id: "msg06927"
author_name: "Matthew Tovbin"
project_section: "mailinglistitem"
sent_date: 2012-03-09T12:32:45-08:00
---


Thanks, Sean!

What are the suggestions for solving this issue, except of cleaning data
before putting it to Riak?


-Matthew



On Fri, Mar 9, 2012 at 10:38, Sean Cribbs  wrote:

> Matthew,
>
> Even if your map function doesn't use the object, the Erlang side doesn't
> know that (Javascript funargs are exceptionally lazy anyway). It will still
> try to serialize the object into JSON to send marshal it into the VM.
> That's where the error is generated.
>
> On Fri, Mar 9, 2012 at 12:20 PM, Matthew Tovbin wrote:
>
>> Good day!
>>
>> As previously discussed here (
>> https://github.com/basho/riak\_kv/pull/252#issuecomment-4415767) I am
>> unable to perform MR on my cluster due to wrong encoding in some of my
>> values.
>>
>> What are the suggestions for solving this issue, except of cleaning data
>> before putting it to Riak?
>>
>> Why does even this map function fail "function map () { return [1]; }" ? It's
>> not supposed to parse the value.
>>
>>
>> Thanks in advance for any tips.
>>
>> -Matthew
>>
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>>
>
>
> --
> Sean Cribbs 
> Software Engineer
> Basho Technologies, Inc.
> http://basho.com/
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

