---
title: "Re: cannot connect to DB"
description: ""
project: community
lastmod: 2015-01-12T06:25:26-0800
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15474"
mailinglist_parent_id: "msg15472"
author_name: "Charlie Voiselle"
project_section: "mailinglistitem"
sent_date: 2015-01-12T06:25:26-0800
---


Since you changed the node name on a running node, you will not be able to stop 
it. Two choices here. Reset the nodename in `/etc/riak/vm.args` back to 
`riak@127.0.0.1 ` long enough to run the `riak stop` 
command, or just `kill -9 beam.smp` which will forcibly shutdown the riak 
process.

Once you have the node stopped, you will need to delete the contents of the 
`/var/lib/riak/ring` folder otherwise the node will not start up. This only 
needs to be done once if the node has been renamed. Once your cluster has been 
created properly, you will not want to delete the ring file without specific 
guidance to do so. Verify that the node name is back to `riak@192.168.1.55 
` in `/etc/riak/vm.args` and that all of the IPs in 
`/etc/riak/app.config` are set appropriately before restarting Riak

Once you have verified this, you should be able to start Riak and connect to it 
from other nodes. As Siculars, pointed out, there is fairly comprehensive 
documentation of the config files, their locations, and all of the settings at 
the Riak Documentation website. Make sure you use the version selector to view 
the documentation for the version that you have installed

Cheers,
Charlie Voiselle
Basho Client Services




> On Jan 12, 2015, at 8:58 AM, Ildar Alishev  wrote:
> 
> i have changed nodename and now it says 
> 
> root@salo:~# riak stop
> Node 'riak@192.168.1.55 ' not responding to pings.
> Node is not running!
> root@salo:~# 
> 
> 
> 
>> 12 янв. 2015 г., в 16:53, Ciprian Manea > > написал(а):
>> 
>> Hi Ildar,
>> 
>> Please have a look at the configuration files: /etc/riak/app.config and 
>> /etc/riak/vm.config
>> 
>> By default Riak binds to localhost, but you can change that using the 
>> following snippet:
>> 
>> export riakIP=$(ifconfig eth0 | grep 'inet addr' | cut -d: -f2 | cut -d' ' 
>> -f1)
>> 
>> sudo sed -i "s/127.0.0.1/$riakIP/ " 
>> /etc/riak/app.config /etc/riak/vm.args
>> 
>> 
>> Regards,
>> Ciprian
>> 
>> On Mon, Jan 12, 2015 at 3:51 PM, Ildar Alishev > > wrote:
>> Also maybe someone can help me, i have installed riak using apt-get install 
>> riak, i don’t understand where did it installed? How i can create node there?
>> 
>> 
>> Thank you!
>> > 12 янв. 2015 г., в 16:37, Alexander Sicular > > > написал(а):
>> >
>> > Hi Ildar,
>> >
>> > Please take a look at the docs, 
>> > http://docs.basho.com/riak/latest/ops/building/basic-cluster-setup/ 
>> >  , 
>> > you need to set up your IP address most likely.
>> >
>> > -Alexander
>> >
>> >
>> > @siculars
>> > http://siculars.posthaven.com 
>> >
>> > Sent from my iRotaryPhone
>> >
>> >> On Jan 12, 2015, at 06:56, Ildar Alishev > >> > wrote:
>> >>
>> >> Hello. Have started RIAK in UBUNTU64 14.04, trying to connect from 
>> >> another computer inside local network, but cannot connect. Maybe i should 
>> >> set up ipadress somewhere?
>> >> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> >> riak-users mailing list
>> >> riak-users@lists.basho.com 
>> >> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com 
>> >> 
>> 
>> 
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com 
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com 
>> 
>> 
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

