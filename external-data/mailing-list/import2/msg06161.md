---
title: "Riak Search Performance: Ranges vs Wildcards"
description: ""
project: community
lastmod: 2012-01-06T17:05:19-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06161"
author_name: "Elias Levy"
project_section: "mailinglistitem"
sent_date: 2012-01-06T17:05:19-08:00
---


I was wondering whether some of the Basho folk may have some wise words
about when to choose between ranges and wildcards when using Riak Search.

I've noticed in our systems that using wildcards will often give more
performant results than using ranges, at least for our data and some of the
indexes we've defined on them. In some instances, the Solr search API will
timeout when using a range query, but return results when using a wildcard.


These indexes are pseudo-compound indexes. We've taken three values form
our data, and concatenated them into a single field for indexing purposes,
so as increase cardinality of the field. The first value may be a customer
guid, the second a sha, which can be fairly rare or very common, and the
last a timestamp bucketed to either the hour. We usually use ranges to
limited the time under analysis, but at some times we want large time
ranges, possibly all the data for any time for the other values, and in
those cases ranges seem to underperform a wildcard.

Elias Levy
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

