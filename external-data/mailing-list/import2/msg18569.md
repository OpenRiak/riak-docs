---
title: "High disk usage on node"
description: ""
project: community
lastmod: 2018-11-01T06:26:15-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18569"
author_name: "Travis Kirstine"
project_section: "mailinglistitem"
sent_date: 2018-11-01T06:26:15-0700
---


I'm running riak (v2.14) in a 5 node cluster and for some reason one of the 
nodes has higher disk usage than the other nodes. The problem seems to be 
related to how riak distributes the partitions, in my case I'm using the 
default 64, riak has given each node 12 partition except one node that gets 16 
(4x12+16=64). As a result the node with 16 partitions has filled the disk and 
become 'un-reachable'.

I have a node on standby with roughly the same disk space as the failed node, 
my concern is that if a add it to the cluster it will overflow as well.

How do I recover the failed node and add a new node without destroying the 
cluster..... BTW just to make things more fun the new node is at a newer 
version of riak so I need to perform a rolling upgrade at the same time.

Any help would be greatly appreciated!
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

