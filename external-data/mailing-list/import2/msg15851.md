---
title: "Re: Still getting peaks on solr queries"
description: ""
project: community
lastmod: 2015-03-06T14:09:18-0800
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15851"
mailinglist_parent_id: "msg15850"
author_name: "Zeeshan Lakhani"
project_section: "mailinglistitem"
sent_date: 2015-03-06T14:09:18-0800
---


Hello Alexander,

I would definitely take a look at how much RAM each node has. You can adjust 
the max heap size in riak.conf by changing search.solr.jvm\_options max heap 
size values from -Xmx1g to -Xmx2g or more. Iâ€™d also take a look at 
http://docs.basho.com/riak/latest/ops/advanced/configs/search/#Solr-for-Operators
 
,
 which has links to Solr performance issues/factors and ways to monitor Solr.

You can get more statistical information for search by using `riak-admin stat 
show `. Our documentation of these statistics is still in progress, 
but you can see whatâ€™s available for search here: 
https://github.com/basho/yokozuna/blob/develop/src/yz\_stat.erl#L92 
.

Thanks.

Zeeshan Lakhani
programmer | 
software engineer at @basho | 
org. member/founder of @papers\_we\_love | paperswelove.org
twitter => @zeeshanlakhani

> On Mar 6, 2015, at 4:36 PM, Alexander Popov  wrote:
> 
> I not have stable reproduce but peaks happens several times in day and takes 
> 10-50 sec.
> some times it happens on very low traffic, so I think it not related on 
> traffic.
> Looks like query is locked somehow. 
> What can I do for troubleshoot peaks? Enable addition logs or Monitoring ? 
> There is no errors in logs at time of the peaks
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

