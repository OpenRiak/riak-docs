---
title: "Re: File corruption after power cut"
description: ""
project: community
lastmod: 2019-09-04T02:31:59-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18636"
mailinglist_parent_id: "msg18635"
author_name: "Guido Medina"
project_section: "mailinglistitem"
sent_date: 2019-09-04T02:31:59-0700
---



Bryan\* (misspelled your name), need a morning coffee :(

On 04/09/2019 10:29, Guido Medina wrote:
Thanks a lot Brian, I have deleted such directory and now the node 
started, let's see how it behaves.


Guido.

On 04/09/2019 10:19, Bryan Hunt wrote:
Easiest solution is to just delete the vnode - and let it recover 
from replicas - vnode directory will be 
844930634081928249586505293914101120738586001408


On 4 Sep 2019, at 10:01, Guido Medina > wrote:


Hi all,

We had a power cut which caused one of the nodes to corrupt one of 
the LevelDB files, after this that node doesn't even want to start, 
here is the error we are seeing:
2019-09-04 08:46:41.584 [error] <0.2329.0>@riak\_kv\_vnode:init:527 
Failed to start riak\_kv\_eleveldb\_backend backend for index 
844930634081928249586505293914101120738586001408 error: 
{db\_open,"Corruption: CURRENT file does not end with newline"}


Thanks in advance for your help ;-)
Guido.
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com 
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com



Code Sync & Erlang Solutions Conferences

Code BEAM Lite 
- 
Budapest: 20 September 2019


Code BEAM Lite 
- New 
York City: 01 October 2019


Code BEAM Lite 
- 
Berlin: 11 October 2019


RabbitMQ Summit 
- 
London: 4 November 2019


Code Mesh LDN 
- 
London: 7-8 November 2019


Code BEAM Lite 
- 
Bangalore: 14 November 2019


Code BEAM Lite 
- 
Amsterdam: 29 November 2019


Lambda Days 
- 
Krak√≥w: 13-14 February 2020


Code BEAM SF 
- San 
Francisco: 5-6 March 2020


Code BEAM STO - Stockholm: 28-29 May 2020

/Erlang Solutions cares about your data and privacy; please find all 
details about the basis for communicating with you and the way we 
process your data in our //Privacy Policy/ 
/.You can 
update your email preferences or opt-out from receiving Marketing 
emails here ./






\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

