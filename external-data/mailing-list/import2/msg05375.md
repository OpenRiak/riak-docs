---
title: "Indexing of intermediate nested fields in Riak search"
description: ""
project: community
lastmod: 2011-10-29T21:59:49-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05375"
author_name: "Elias Levy"
project_section: "mailinglistitem"
sent_date: 2011-10-29T21:59:49-07:00
---


I am wondering if Riak search can index intermediate nested fields. When
indexing json data through the KV precommit hook, the underscore is
understood in the schema as indicating nesting. Thus, foo\_bar will index
the value "bah" of field "bar" in the json document { "foo" : { "bar" :
"bah" } }.

What I'd like to know is if it can instead index the key "bar" in the same
json document. In my current use case I want to be able to find documents
with certain values for "bar" for these types of documents.

Can this be done by simply indexing the field "foo"? Does search know to
index all keys in "foo" if foo is a hash, or all its values if it is an
array?

Elias
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

