---
title: "Re: Wildcard search issues in Riak Search"
description: ""
project: community
lastmod: 2010-12-21T05:27:41-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01829"
mailinglist_parent_id: "msg01803"
author_name: "Rusty Klophaus"
project_section: "mailinglistitem"
sent_date: 2010-12-21T05:27:41-08:00
---


Hi Xiaopong,

Out of the box, Riak Search uses the "DefaultAnalyzer" which tokenizes words
as follows:

 1. Split on spaces and punctuation.
 2. Lowercases the tokens.
 3. Strips out common English words (and, the, then, etc.)
 4. Remove any tokens smaller than 3 characters.

You are seeing the effects of #4 in your tests.

You can read a little more about the different analyzers and learn how to
set which analyzer is used in the links below:

- http://www.mail-archive.com/riak-users@lists.basho.com/msg01322.html
- http://wiki.basho.com/display/RIAK/Riak+Search+-+Schema

Best,
Rusty


On Wed, Dec 15, 2010 at 10:40 PM, Xiaopong Tran wrote:

> I have put a few objects in the database, and the object looks
> like this:
>
> {
> "userid" : "jane",
> "first\_name" : "Jane",
> "last\_name" : "Doe",
> "gender" : "F",
> "joined\_date" : "Wed, 15 Dec 2010 09:15:20 GMT"
> }
>
> I have 3 users whose id starts with the letter 'j':
> jane, jenny, john.
>
> When I use wildcard search, such as:
>
> "userid:j\*"
>
> it returns an empty result. I did several tests, and it seems
> that there must be at least 3 characters before the wildcard
> in order to get any result. And
>
> "userid:ja\*"
>
> also returns empty.
>
> Is this normal? In Lucene, as long as the wildcard is not the
> first character in the query statement, it should work.
>
> Best
>
> Xiaopong
>
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

