---
title: "Re: Riak Search having issues with custom schema"
description: ""
project: community
lastmod: 2015-01-09T08:45:07-0800
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15456"
mailinglist_parent_id: "msg15455"
author_name: "Santi Kumar"
project_section: "mailinglistitem"
sent_date: 2015-01-09T08:45:07-0800
---


No content type is specified explicitly. Directly object is passed to
StoreValue.Builder(). Some where I read that pojo is extracted as json. Am
I missing something?

..... Here is the code.

 Location user\_locaiton = new Location(nameSpace, key);

 StoreValue storeUserOp = new StoreValue.Builder(object)

 .withLocation(user\_locaiton)

 .withOption(StoreValue.Option.W, Quorum.allQuorum())

 .build();

 RiakFuture storeValueOpFuture = client.executeAsync(storeUserOp);

 storeValueOpFuture.await();

 logger.debug("Stroed Values for "+key+" in Bucket "+bucket);

 if(!storeValueOpFuture.isSuccess() || storeValueOpFuture.isCancelled() || !
storeValueOpFuture.isDone()){

 throw new InternalServerException(InternalServerException.ErrorCode.
RIAK\_EROR,"Exception while storing object against key "+key+" in Bucket "+
bucket);

 }


On Jan 9, 2015 9:42 PM, "Luke Bakken"  wrote:

> How are you storing these objects? What "Content-Type" is being used?
> --
> Luke Bakken
> Engineer
> lbak...@basho.com
>
>
> On Fri, Jan 9, 2015 at 7:04 AM, Santi Kumar  wrote:
> > Hi,
> > We are having issues with Riak Search custom schema. Application has
> > multiple POJO's and we are using Java client to write into RIakKV.
> > Configured custom solr schema with indexed fields from all POJOs. After
> > adding the "Catch-All" field, solr is not indexing any fields from any of
> > the Pojo.
> >
> > No errors in solr log also. Not having any clues why nothing is indexed
> > except the Riak fields. Here is how the fields are specified in solr
> schema,
> > not attaching everything. We have multiple indexes and buckets for
> different
> > pojos, but difined only one schema for all the indexes. Same schema is
> being
> > configured for each index. Would that be an issue? For example for Access
> > has seperate index and condition has seperate index. But both fields for
> > both of them are defined in one schema and passed to both the indexes.
> >
> > 
> >
> > 
> >
> >  > stored="false" />
> >
> >  stored="false"
> > />
> >
> >  />
> >
> >  stored="false" />
> >
> >  > stored="false" />
> >
> > 
> >
> > 
> >
> > 
> >
> >  stored="false" />
> >
> > 
> >
> > 
> >
> > 
> >
> > 
> >
> > 
> >
> > 
> >
> > 
> >
> > Thanks
> > Santi
> >
> >
> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > riak-users mailing list
> > riak-users@lists.basho.com
> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> >
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

