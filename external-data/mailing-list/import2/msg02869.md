---
title: "Testing a Riak-baked database layer"
description: ""
project: community
lastmod: 2011-04-04T04:23:03-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02869"
author_name: "Tino Breddin"
project_section: "mailinglistitem"
sent_date: 2011-04-04T04:23:03-07:00
---


Hi there,

After having talked to the Riak team at the Erlang Factory in SF about their 
recent use of Quickcheck for testing parts of Riak, I wonder whether you guys 
have some advice on the following issue.

We have a database abstraction layer which uses the Riak Erlang client under 
the hood. The obvious approach when trying to test that layer with QC is to 
mock the Riak client. This works fine for standard K/V operations such as get 
and put. However, trying to create mock implementations for mapreduce queries 
is a different story and clearly increases the mock's complexity and becomes 
unfeasible. 

So is there a best-practice for testing such a database abstraction layer (with 
Quickcheck)? If everything fails one would need to spin up a Riak instance for 
the whole test suite which is still not feasible, but would work.

Thanks,
Tino

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

