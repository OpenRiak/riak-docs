---
title: "Re: Yokozuna indexes too slow"
description: ""
project: community
lastmod: 2015-10-01T13:54:28-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16593"
mailinglist_parent_id: "msg16591"
author_name: "Fred Dushin"
project_section: "mailinglistitem"
sent_date: 2015-10-01T13:54:28-0700
---


Is there any more information in these logs that you can share? For example, 
is this the only entry with this exception? Or are there more? Are there any 
associated stack traces? An EOF exception can come from many different 
scenarios.

Is there anything in the Riak console.log that looks suspicious?

Finally, you might want to take a look at what is going on inside of riak when 
you get into this state (slow writes to Solr), by looking at Riak stats.

You get get to Riak stats via curl, e.g.,

 curl http://localhost:8098/stats | python -m json.tool

Stats you might want to pay special attention to:

riak\_kv\_vnodeq (min, max, median, etc) -- the aggregate length of the vnode 
queues. Long vnode queues may mean your vnode is locked waiting on Solr
vnode\_put\_fsm\_time (mean, media, percentile, etc) The amount of time spent on 
average waiting for a vnode put to complete. Long times may also be indicative 
of waits writing into Solr.

How is query performance, when reading from Solr? Are you sure all of the data 
is making it into Solr? If AAE is turned on, do you see a lot of spurious AAE 
activity?

-Fred


> On Oct 1, 2015, at 11:37 AM, ilyas  wrote:
> 
> upd:
> There are errors in in solr log:
> 
> org.apache.solr.common.SolrException;null:org.eclipse.jetty.io.EofException
> 
> 
> 
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

