---
title: "Riak crash on node restarts"
description: ""
project: community
lastmod: 2011-11-15T05:48:37-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05580"
author_name: "Jeremy Raymond"
project_section: "mailinglistitem"
sent_date: 2011-11-15T05:48:37-08:00
---


I'm using Riak 1.0.1 and I have a script that deploys updates to each of my
3 nodes to update the Erlang mapred modules. What I do is stop a node,
deploy the new mapred modues, restart the node, wait for the riak\_kv
service to start, then move onto the next node. Sometimes when I do this
one of the nodes that is not the current one being updated will go down.
Each time this has happened thus far it's been the same node that will go
down (the last one). I see this error in the logs:

[error] Failed to start riak\_kv\_eleveldb\_backend Reason: {db\_open,"IO
error:
/var/lib/riak/leveldb/913438523331814323877303020447676887284957839360/MANIFEST-000002:
No such file or directory"}

If I manually restart the node, things go back to normal. Any ideas on
what's going on? I've attached the error log.

--
 Jeremy


error.log
Description: Binary data
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

