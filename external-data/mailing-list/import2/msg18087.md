---
title: "Re: Cannot add node to cluster: ring_creation_size"
description: ""
project: community
lastmod: 2017-03-11T02:14:21-0800
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18087"
mailinglist_parent_id: "msg18081"
author_name: "Magnus Kessler"
project_section: "mailinglistitem"
sent_date: 2017-03-11T02:14:21-0800
---


On 8 March 2017 at 19:45, Scites, Troy  wrote:

> Hello,
>
> I have 3 nodes in a development environment that were configured in a
> cluster. It was working fine until one of the servers crashed. I tried
> clearing the data directory and was able to removed the crashed node from
> the cluster. When I try to add the third node back in, I get the following
> error:
> Failed: riak@ has a different ring\_creation\_size
>
> All 3 nodes have ring\_size set to 64 in the riak.conf. Has anyone
> experienced this error and have a suggestion for adding the node back into
> the ring?
>
> Thanks,
> Troy
>
>
Hi Troy,

Please check with 'riak status | egrep
"ring\_creation\_size|ring\_num\_partitions' what the different nodes believe
to be their actual ring size.

As you have already wiped (some of) the data directory on the crashed node,
you can stop this node and then it's safe to also remove the 'ring'
directory if this node reports a different ring size. Afterwards, restart
the node and attempt to join it to the rest of the cluster.

Please let me know if this solves your issue.

Kind Regards,

Magnus

-- 
Magnus Kessler
Client Services Engineer
Basho Technologies Limited

Registered Office - 8 Lincolnâ€™s Inn Fields London WC2A 3BP Reg 07970431
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

