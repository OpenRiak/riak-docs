---
title: "Re: Unicode String problem"
description: ""
project: community
lastmod: 2012-03-06T08:53:07-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06902"
mailinglist_parent_id: "msg06891"
author_name: "Buri Arslon"
project_section: "mailinglistitem"
sent_date: 2012-03-06T08:53:07-08:00
---


Hi Igor,

Actually, utf8 value converted by unicode:characters\_to\_binary() was
successfully processed by riak. So:

 >Object = riakc\_obj:new(<<"snippet">>, undefined,
unicode:characters\_to\_binary("одамлардан тинглаб хикоя")).
 >riakc\_pb\_socket:put(Pid, Object)

was accepted.

Thanks,
-- Buriwoy

On Mon, Mar 5, 2012 at 11:25 PM, Igor Karymov  wrote:

> You can't use unicode expression this way from console.
> Try the same expression writen in the erlang module.
>
> 2012/3/5 Steve Vinoski 
>
>>
>>
>> On Sun, Mar 4, 2012 at 4:51 PM, Buri Arslon  wrote:
>>
>>> Hi everybody!
>>>
>>> I can't put unicode string to riak. I was following the
>>> riak-erlang-client docs, and this doesn't work:
>>>
>>> Object = riakc\_obj:new(<<"snippet">>, <<"odam">>, <<"Одамлардан
>>> тинглаб хикоя">>).
>>> \*\* exception error: bad argument
>>>
>>> I googled but couldn't find anything meaningful about this issue. So,
>>> I'd be very grateful if someone could refer me
>>> to relevant documentation or give me some hints to solve the problem.
>>>
>>
>> Have a look at the Erlang unicode module:
>>
>> http://www.erlang.org/doc/man/unicode.html
>>
>> You probably need to use unicode:characters\_to\_binary to generate a valid
>> binary for the value you're trying to store in riak.
>>
>> --steve
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

