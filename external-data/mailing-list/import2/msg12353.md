---
title: "Re: Riak won't start when configured for Riak-CS"
description: ""
project: community
lastmod: 2013-09-23T20:18:22-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12353"
mailinglist_parent_id: "msg12352"
author_name: "Dave Parfitt"
project_section: "mailinglistitem"
sent_date: 2013-09-23T20:18:22-07:00
---


Hello -

Sounds like you have an older version of Erlang trying to load code compiled 
with a newer version of Erlang.

Cheers,
Dave

> On Sep 23, 2013, at 10:48 PM, Darren Govoni  wrote:
> 
> Hi,
> I am following the directions for configuring Riak with Riak-CS.
> 
> http://docs.basho.com/riakcs/latest/cookbooks/configuration/Configuring-Riak/
> 
> When I follow the directions, riak console gives a problem when starting:
> 
> 22:43:33.174 [error] Loading of 
> /usr/lib/riak-cs/lib/riak\_cs-1.4.1/ebin/riak\_cs\_kv\_multi\_backend.beam failed: 
> badfile
> 
> 22:43:33.174 [error] Failed to start riak\_cs\_kv\_multi\_backend Reason: 
> {undef,[{riak\_cs\_kv\_multi\_backend,start,[0,[{async\_folds,true},[{vnode\_vclocks,true},{included\_applications,[]},{allow\_strfun,false},{reduce\_js\_vm\_count,6},{storage\_backend,riak\_cs\_kv\_multi\_backend},{legacy\_keylisting,false},{pb\_ip,"127.0.0.1"},{hook\_js\_vm\_count,2},{listkeys\_backpressure,true},{mapred\_name,"mapred"},{stats\_urlpath,"stats"},{legacy\_stats,true},{js\_thread\_stack,16},{multi\_backend,[{be\_default,riak\_kv\_eleveldb\_backend,[{max\_open\_files,50},{data\_root,"/var/lib/riak/leveldb"}]},{be\_blocks,riak\_kv\_bitcask\_backend,[{data\_root,"/var/lib/riak/bitcask"}]}]},{multi\_backend\_prefix\_list,[{<<"0b:">>,be\_blocks}]},{riak\_kv\_stat,true},{add\_paths,["/usr/lib/riak-cs/lib/riak\_cs-1.4.1/ebin"]},{http\_url\_encoding,on},{map\_js\_vm\_count,8},{pb\_port,8087},{multi\_backend\_default,be\_default},{mapred\_2i\_pipe,true},{mapred\_system,pipe},{js\_max\_vm\_mem,8}]]]},{riak\_kv\_vnode,init,1},{riak\_core\_vnode,init,1},{gen\_fsm,init\_it,6},{proc\_lib,init\_p\_do\_apply,3}]}
> 22:43:33.250 [error] beam/beam\_load.c(1365): Error loading module 
> riak\_cs\_kv\_multi\_backend:
> use of opcode 153; this emulator supports only up to 152
> 
> 
> 22:43:33.330 [notice] "backend module failed to start."
> 
> 
> I am on Ubuntu 13.04
> 
> thanks for any tips.
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

