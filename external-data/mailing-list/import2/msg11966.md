---
title: "Re:"
description: ""
project: community
lastmod: 2013-08-11T11:23:47-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11966"
mailinglist_parent_id: "msg11954"
author_name: "Jeremiah Peschka"
project_section: "mailinglistitem"
sent_date: 2013-08-11T11:23:47-07:00
---


Glad to hear that worked for you!

---
Jeremiah Peschka - Founder, Brent Ozar Unlimited
MCITP: SQL Server 2008, MVP
Cloudera Certified Developer for Apache Hadoop


On Sat, Aug 10, 2013 at 4:44 PM, Jeremy Ong  wrote:

> Just a quick follow up, I did this exact approach and things went
> smoothly as expected. I had forgotten that stopping a node does not
> mark the node as "down" indicating that vnodes should be handed off.
>
> One last step I would add is that the log directory also needs to be
> changed in the vm.args file as that is where the erl\_crash.dump file
> gets written (if the log dir is moved as well).
>
> Thanks,
> Jeremy
>
> On Fri, Aug 9, 2013 at 7:57 PM, Jeremiah Peschka
>  wrote:
> > You \*should\* be able to
> >
> > 1) stop the node
> > 2) change platform\_data\_dir and ring\_state\_dir in the app.config file
> > 3) move data to the new platform\_data\_dir
> > 4) move ring state to the new ring\_state\_dir
> > 5) restart the node
> >
> > This should avoid having to re-write all of your data one node at a time.
> >
> > ---
> > Jeremiah Peschka - Founder, Brent Ozar Unlimited
> > MCITP: SQL Server 2008, MVP
> > Cloudera Certified Developer for Apache Hadoop
> >
> >
> > On Fri, Aug 9, 2013 at 7:23 PM, Jeremy Ong 
> wrote:
> >>
> >> Hi Riak users,
> >>
> >> I'm wondering what the best approach to this is. The scenario is that
> >> I have mounted a new drive to the machine and want to have the node
> >> leverage that drive to save data as opposed to the mount point it is
> >> currently writing to.
> >>
> >> My current plan is to start a second instance of riak (by changing the
> >> name in the vm.args file) and having it join the cluster, followed by
> >> removing the previous node. Then to repeat this for all nodes for
> >> which the upgrade applies while monitoring the dashboard to see if the
> >> handoffs are occurring appropriately.
> >>
> >> Is there an easier way or better way, and are they any potential
> >> issues with this approach?
> >>
> >> Thanks,
> >> Jeremy
> >>
> >> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> >> riak-users mailing list
> >> riak-users@lists.basho.com
> >> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> >
> >
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

