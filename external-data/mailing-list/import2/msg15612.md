---
title: "Re: Errors running rebar in a the riak project,	and compiling rebar from source"
description: ""
project: community
lastmod: 2015-01-30T06:54:33-0800
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15612"
mailinglist_parent_id: "msg15610"
author_name: "Fred Dushin"
project_section: "mailinglistitem"
sent_date: 2015-01-30T06:54:33-0800
---


It looks like your Erlang/OTP install does not have the crypto module -- how 
was it initially installed (RPM? apt?)? I have seen this happen on recent 
versions of OS X with a manually built Erlang/OTP, as the erlang configure 
scripts can't locate the OpenSSL header files, so the crypto module is skipped. 
 Pay attention to the output of the configure script when building Erlang -- it 
looks like your build may not have been able to locate the OpenSSL headers.

Installing libssl-dev may help things, as that might put the headers in a 
location the Erlang/OTP configure script can locate. You can also use the 
--with-ssl= option to configure, to tell it where to look for those 
headers (e.g., --with-ssl=/usr/local). (What flavor on Linux are you running 
on?)

As far as the beam\_emu.c compile error, which version of Riak are you using -- 
1.4 or 2.0?

-Fred

> On Jan 28, 2015, at 5:05 AM, Canine Chronicles  
> wrote:
> 
> 
> ---------- Forwarded message ----------
> From: Canine Chronicles  >
> Date: Wed, Jan 28, 2015 at 11:19 AM
> Subject: Errors running rebar in a the riak project, and compiling rebar from 
> source
> To: re...@lists.basho.com 
> 
> 
> I'm trying to install riak from source, and I've encountered this error:
> 
> Uncaught error in rebar\_core: {'EXIT',
> {undef,
> [{crypto,start,[],[]},
> {rebar,run\_aux,1,[]},
> {rebar,main,1,[]},
> {escript,run,2,
> [{file,"escript.erl"},{line,741}]},
> {escript,start,1,
> [{file,"escript.erl"},{line,277}]},
> {init,start\_it,1,[]},
> {init,start\_em,1,[]}]}}
> 
> 
> In a previous thread 
> (http://lists.basho.com/pipermail/rebar\_lists.basho.com/2014-May/002017.html 
> ),
> a suggestion that worked was to install libssl-dev, and install erlang R15. 
> I already had libssl-dev installed, but compiling erlang from source gave the 
> following error:
> 
> 
> beam/beam\_emu.c:1175:5: error: label ‘lb\_hipe\_trap\_return’ used but not 
> defined
> beam/beam\_emu.c:1175:5: error: label ‘lb\_hipe\_trap\_resume’ used but not 
> defined
> beam/beam\_emu.c:1175:5: error: label ‘lb\_hipe\_trap\_call\_closure’ used but not 
> defined
> beam/beam\_emu.c:1175:5: error: label ‘lb\_hipe\_trap\_call’ used but not defined
> beam/beam\_emu.c:1175:5: error: label ‘lb\_hipe\_call\_count’ used but not defined
> make[3]: \*\*\* [obj/i686-pc-linux-gnu/opt/smp/beam\_emu.o] Error 1
> make[3]: Leaving directory 
> `/home/memini/Downloads/erlang\_src/otp\_src\_R15B03/erts/emulator'
> make[2]: \*\*\* [opt] Error 2
> make[2]: Leaving directory 
> `/home/memini/Downloads/erlang\_src/otp\_src\_R15B03/erts/emulator'
> make[1]: \*\*\* [smp] Error 2
> make[1]: Leaving directory 
> `/home/memini/Downloads/erlang\_src/otp\_src\_R15B03/erts'
> make: \*\*\* [emulator] Error 2
> 
> 
> I'm not sure where to go from here, as there doesn't seem to be any info 
> online regarding this problem. Any help? Erlang newbie here.
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

