---
title: "Re: How to bind Riak to an interface rather than to IP address?"
description: ""
project: community
lastmod: 2011-12-29T06:34:31-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06091"
mailinglist_parent_id: "msg05853"
author_name: "jeffrey k eliasen"
project_section: "mailinglistitem"
sent_date: 2011-12-29T06:34:31-08:00
---


This did't appear to work for me. I changed the line in app.config to:
 {http, [ {"127.0.0.1", 8098 }, { "0.0.0.0", 8098 } ]},
… and the node wouldn't start. When I changed it to:
 {http, [ {"127.0.0.1", 8098 }, { "192.168.1.238", 8098 } ]},
… the node started just fine.

Idiot check… I realized it was trying to bind to localhost twice, once when I 
specified 127.0.0.1 and again with 0.0.0.0. Just for anyone else following the 
thread, the line should \*just\* specify 0.0.0.0:
 {http, [ {"0.0.0.0", 8098 } ]},

Another question with vm.args… Hostnames are allocated dynamically in my 
network, so I don't specify the hostname in vm.args. The name option is set 
with a name unique to the data drive holding all the riak state:
-name node1

When the node starts, I see that the name is expanded to include the hostname:
ring\_members : ['no...@machinexyz.local.net']

I don't know from boot to boot what the hostname was the last time I booted 
(hence my other question a few days ago asking whether hostname mattered). Do I 
need to construct a way to track this across boots? Or is it enough that the 
name argument specifies a name that is unique on the network and disregards the 
host name?

jeff


On Dec 3, 2011, at 7:01 AM, Sean Cribbs wrote:

> Also make sure that your node names (-name in vm.args) do not include the IP 
> address, but use a hostname that is (hopefully) managed by the server handing 
> out IP addresses. If the node name includes the IP address, your Riak node 
> won't be reachable when the machine restarts (and it might not even start up).
> 
> On Sat, Dec 3, 2011 at 8:51 AM, Grant Schofield  wrote:
> The only way to do that is to bind to every current IP on the system by using 
> 0.0.0.0 as the setting.
> 
> Grant
> 
> 
> On Dec 3, 2011, at 7:43 AM, jeffrey eliasen wrote:
> 
>> My Riak cluster is on a network that uses dynamic IPs, so each node gets a 
>> different IP address at reboot. How do I indicate in app.config that I want 
>> to bind to an interface (such as 'eth0') regardless of it's IP address 
>> rather than to a specific IP address?
>> 
>> -- 
>> 
>> jeffrey k eliasen
>> 
>> Find and follow me on:
>> Blog: http://jeff.jke.net
>> Twitter: http://twitter.com/jeffreyeliasen
>> Facebook: http://facebook.com/jeffrey.eliasen
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> 
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> 
> 
> 
> 
> -- 
> Sean Cribbs 
> Developer Advocate
> Basho Technologies, Inc.
> http://www.basho.com/
> 


===

jeffrey k eliasen

Find and follow me on:
Blog: http://jeff.jke.net
Twitter: http://twitter.com/jeffreyeliasen
Facebook: http://facebook.com/jeffrey.eliasen

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

