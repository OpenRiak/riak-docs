---
title: "Re: ulimit error"
description: ""
project: community
lastmod: 2016-04-15T13:23:39-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17232"
mailinglist_parent_id: "msg17231"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2016-04-15T13:23:39-0700
---


Please run:

riak attach

then in the Erlang shell:

os:cmd("ulimit -n").

Please note that the period at the end of the above statement is
significant. CTRL-C twice will exit the attach session.

--
Luke Bakken
Engineer
lbak...@basho.com


On Fri, Apr 15, 2016 at 1:02 PM, satish bhatti  wrote:
> That's the strange thing. I read that, and modified
>
> /Library/LaunchDaemons/limit.maxproc.plist
> /Library/LaunchDaemons/limit.maxfiles.plist
>
> as described.
>
> ulimit -n claims to be set to 65536
>
> I have attached the logfiles.
>
> Satish
>
>
> On Fri, Apr 15, 2016 at 12:49 PM, Luke Bakken  wrote:
>>
>> Satish -
>>
>> Do the steps here resolve your issue?
>>
>>
>> http://docs.basho.com/riak/kv/2.1.3/using/performance/open-files-limit/#mac-os-x
>>
>> --
>> Luke Bakken
>> Engineer
>> lbak...@basho.com
>>
>>
>> On Fri, Apr 15, 2016 at 12:25 PM, satish bhatti  wrote:
>> > Riak on OSX keeps crashing out with:
>> >
>> > 2016-04-15 12:22:34.462 [error] emulator
>> > driver\_select(0x0000000000002633,
>> > 1028, ERL\_DRV\_READ ERL\_DRV\_USE, 1) by tcp\_inet driver #Port<0.9779>
>> > failed:
>> > fd=1028 is larger than the largest allowed fd=1023
>> >
>> > but when I check my ulimit:
>> >
>> > aleph:~ $ ulimit -n
>> > 65536
>> >
>> > Where on earth is Riak picking up a ulimit of 1024?
>> >
>> >
>> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> > riak-users mailing list
>> > riak-users@lists.basho.com
>> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>> >
>
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

