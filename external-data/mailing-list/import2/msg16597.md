---
title: "Re: Yokozuna indexes too slow"
description: ""
project: community
lastmod: 2015-10-02T08:54:58-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16597"
mailinglist_parent_id: "msg16581"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2015-10-02T08:54:58-0700
---


Hi Ilya,

Along with all of Fred's excellent recommendations, make sure that
Riak and the JVM aren't fighting for RAM. The default is for LevelDB
to take up to 70% of system RAM, leaving the remaining 30% for the
rest of the erlang VM as well as the JVM and operating system.

Monitoring system RAM usage by process should show if this is happening.

Also, if you would like to run "riak-debug" on a node and share the
generated tar file (via dropbox, for instance), it may uncover system
tuning that can be done.

--
Luke Bakken
Engineer
lbak...@basho.com

On Wed, Sep 30, 2015 at 11:18 PM, ilyas  wrote:
>
> # create bucket type for leleldb backend
> sudo /usr/sbin/riak-admin bucket-type create leveldb
> '{"props":{"backend":"leveldb\_mult"}}'
> sudo /usr/sbin/riak-admin bucket-type activate leveldb
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

