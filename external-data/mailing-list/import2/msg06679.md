---
title: "RE: Querying [Filter Search]"
description: ""
project: community
lastmod: 2012-02-22T00:45:59-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06679"
mailinglist_parent_id: "msg06678"
author_name: "Fredrik Lindstr√∂m"
project_section: "mailinglistitem"
sent_date: 2012-02-22T00:45:59-08:00
---


Hi Rajat,
I would construct two secondary indexes (2i) when Post objects are created in 
the form of

 \* userid\_timestampOfPost
 \* timestampOfPost

This gives you the ability to do a range query for posts created by a specific 
user and a general range query to posts by all users made within a certain time 
frame.

2i queries in Riak only return the keys to the objects matching the query. You 
can use a 2i query as an input to a mapreduce job.

For futher reading see http://wiki.basho.com/Secondary-Indexes.html

/F

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
From: riak-users-boun...@lists.basho.com [riak-users-boun...@lists.basho.com] 
on behalf of Rajat Mathur [rajatmath...@gmail.com]
Sent: Wednesday, February 22, 2012 9:17 AM
To: riak-users@lists.basho.com
Subject: Querying [Filter Search]

Considering I have Buckets for Users and Posts and I want to get users posts in 
last 24 hours, how should I go about it.
Post's json data has a key postTime. How to filter search based on value's key 
value ?

--
Rajat Mathur
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

