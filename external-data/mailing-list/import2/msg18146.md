---
title: "Re: ClusterOffline Unable to access functioning Riak node"
description: ""
project: community
lastmod: 2017-04-14T10:34:40-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18146"
mailinglist_parent_id: "msg18138"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2017-04-14T10:34:40-0700
---


Hi Charles -

Extend the read and write timeouts using this setting:

https://github.com/basho/riak-dotnet-client/blob/develop/src/RiakClientTests.Live/App.config#L24

The above example extends it to 60 seconds.

The default is 4 seconds which may be too short if you are running
long queries. If 4 seconds is exceeded, the socket read times out and
the client assumes that there is an issue with the node, marking it
down. Eventually, all nodes can be marked down.
--
Luke Bakken
Engineer
lbak...@basho.com


On Wed, Apr 12, 2017 at 11:03 AM, Charles Solar  wrote:
> Hi list - I'm currently running both Riak and RiakTS in a lab environment
> for testing and my clients writing data get
>
> "ClusterOffline Unable to access functioning Riak node"
>
> errors fairly often. I am wondering if this is an indication that I need to
> add more nodes to increase capacity? Or tune some other settings?
>
> I've looked through Riak logs and there is no indication of a problem, are
> there other diagnostics I can do?
>
>
> Im finding RiakTS commits fail with this commit far more often.
>
> I'm using the C# client, nodePollTime 5000, retryWaitTime 100, retryCount 3
>
> with 7 riak nodes and 3 riakts nodes.
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

