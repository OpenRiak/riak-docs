---
title: "Re: 2i timeouts in 1.4"
description: ""
project: community
lastmod: 2013-07-26T14:55:34-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11779"
mailinglist_parent_id: "msg11778"
author_name: "Brian Roach"
project_section: "mailinglistitem"
sent_date: 2013-07-26T14:55:34-07:00
---


Sean -

The timeout isn't via a header, it's a query param -> &timeout=xxxx

You can also use stream=true to stream the results.

- Roach

Sent from my iPhone

On Jul 26, 2013, at 3:43 PM, Sean McKibben  wrote:

> We just upgraded to 1.4 and are having a big problem with some of our larger 
> 2i queries. We have a few key queries that takes longer than 60 seconds 
> (usually about 110 seconds) to execute, but after going to 1.4 we can't seem 
> to get around a 60 second timeout.
> 
> I've tried:
> curl -H "X-Riak-Timeout: 260000" 
> "http://127.0.0.1:8098/buckets/mybucket/index/test\_bin/myval?x-riak-timeout=260000"
> -i
> 
> But I always get
> HTTP/1.1 500 Internal Server Error
> Vary: Accept-Encoding
> Server: MochiWeb/1.1 WebMachine/1.10.0 (never breaks eye contact)
> Date: Fri, 26 Jul 2013 21:41:28 GMT
> Content-Type: text/html
> Content-Length: 265
> Connection: close
> 
> 500 Internal Server ErrorInternal 
> Server Error
========================

The server encountered an error while processing this 
> request:  

```
{error,{error,timeout}}
```


---

mochiweb+webmachine
> web server


> 
> Right at the 60 second mark. What can I set to give my secondary index 
> queries more time??
> 
> This is causing major problems for us :(
> 
> Sean
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

