---
title: "Re: Riak CS - Unable to create/view bucket details using dragon disk"
description: ""
project: community
lastmod: 2015-10-04T18:49:37-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16608"
mailinglist_parent_id: "msg16583"
author_name: "Shunichi Shinohara"
project_section: "mailinglistitem"
sent_date: 2015-10-04T18:49:37-0700
---


Thanks for detailed information.
You got 403 then authentication failure or authorization failure.
First to check is StringToSign on both side. s3cmd with debug flag
showed StringToSign at "DEBUG: SignHeaders" line. For Riak CS,
you can see it by setting log level to debug like:
 [debug] STS:
["GET","\n",[],"\n",[],"\n","\n",[["x-amz-date",":",<<"Mon, 05 Oct
2015 01:37:43 +0000">>,"\n"]],["/",[]]]
This is represented as Erlang style iodata(), which is a deep list of
strings and chars.

If StringToSign on both side is the same and secret key on both side
is the same,
authentication should success. Otherwise, authorization fails and
there will be debug log :
 [debug] bad\_auth

Thanks,
Shino

2015-10-04 3:35 GMT+09:00 Johan Sommerfeld :
> Seem like the response is 403 forbidden, have no idea why. Did you get
> any stack trace this time? the response seems legit and that it
> managed to parse it?
>
> /J
>
> On 2 October 2015 at 18:35, G  wrote:
>> Hey Johan,
>>
>> I have executed s3cmd with --debug option.
>>
>> Please find the output.
>>
>> Test access with supplied credentials? [Y/n] Y
>> Please wait, attempting to list all buckets...
>> DEBUG: SignHeaders: 'GET\n\n\n\nx-amz-date:Fri, 02 Oct 2015 16:32:44
>> +0000\n/'
>> DEBUG: CreateRequest: resource[uri]=/
>> DEBUG: SignHeaders: 'GET\n\n\n\nx-amz-date:Fri, 02 Oct 2015 16:32:44
>> +0000\n/'
>> DEBUG: Processing request, please wait...
>> DEBUG: get\_hostname(None): 172.31.44.38
>> DEBUG: format\_uri(): http://172.31.44.38/?delimiter=/
>> DEBUG: Sending request method\_string='GET',
>> uri='http://172.31.44.38/?delimiter=/', headers={'content-length': '0',
>> 'Authorization': 'AWS access-key:OeIcaJSH58eWgIlLiyQBgzN16Pc=',
>> 'x-amz-date': 'Fri, 02 Oct 2015 16:32:44 +0000'}, body=(0 bytes)
>> DEBUG: Response: {'status': 403, 'headers': {'date': 'Fri, 02 Oct 2015
>> 16:32:44 GMT', 'content-length': '154', 'content-type': 'application/xml',
>> 'server': 'Riak CS'}, 'reason': 'Forbidden', 'data': 'xml version="1.0"
> encoding="UTF-8"?>`AccessDenied`Access
>> Denied'}
>> DEBUG: S3Error: 403 (Forbidden)
>> DEBUG: HttpHeader: date: Fri, 02 Oct 2015 16:32:44 GMT
>> DEBUG: HttpHeader: content-length: 154
>> DEBUG: HttpHeader: content-type: application/xml
>> DEBUG: HttpHeader: server: Riak CS
>> DEBUG: ErrorXML: Code: 'AccessDenied'
>> DEBUG: ErrorXML: Message: 'Access Denied'
>> DEBUG: ErrorXML: Resource: None
>> DEBUG: ErrorXML: RequestId: None
>> ERROR: Test failed: 403 (AccessDenied): Access Denied
>>
>> Do you have any idea about this error?
>>
>>
>>
>>
>> --
>> View this message in context: 
>> http://riak-users.197444.n3.nabble.com/Riak-CS-Unable-to-create-view-bucket-details-using-dragon-disk-tp4033494p4033524.html
>> Sent from the Riak Users mailing list archive at Nabble.com.
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
>
> --
> Johan Sommerfeld
> tel: +46 (0) 70 769 15 73
> S2HC Sweden AB
> Litsbyvägen 56
> 187 46 Täby
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

