---
title: "Re: A problem running Riak in a Docker image under Vagrant on Windows	7,8 and 10"
description: ""
project: community
lastmod: 2015-09-04T08:28:44-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16502"
mailinglist_parent_id: "msg16497"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2015-09-04T08:28:44-0700
---


Hi Pete,

I have confirmed that the Riak + Docker quick start here does work when
using Windows 10 Pro as the main host OS:

http://basho.com/posts/technical/riak-quick-start-with-docker/

https://github.com/hectcastro/docker-riak

These are the main differences between my environment and yours:

\* I am using Arch Linux running in Hyper-V as my host OS for containers

\* The Docker base image used in this process is Ubuntu
 https://github.com/hectcastro/docker-riak/blob/develop/Dockerfile#L5
 https://hub.docker.com/r/phusion/baseimage/

My docker version:

$ docker --version
Docker version 1.8.1, build d12ea79

I hope that you can use Hector's Dockerfile and other supporting scripts to
diagnose your issue. FWIW, I used to use VirtualBox on Windows but have
found Hyper-V to be an excellent replacement, as well as
Powershell-scriptable out-of-the-box. For instance -

C:\Users\lbakken
$ Get-VM

Name State CPUUsage(%) MemoryAssigned(M) Uptime Status
 Version
---- ----- ----------- ----------------- ------ ------
 -------
BRAHMS-ARCH Running 0 4096 01:04:12.8030000
Operating normally 5.0

--
Luke Bakken
Engineer
lbak...@basho.com

On Fri, Sep 4, 2015 at 1:08 AM, Pete Slater  wrote:
> Hi Luke,
>
> I just tried your suggestion and I got the same error but with the docker
containers IP instead of the loopback IP.
>
> ———————————————————————————
> Pete Slater
>
> Trifork Leeds Ltd, Round Foundry Media Centre, Foundry Street, Leeds LS11
5QP, UK
>
> Skype ID: psl.trifork
> E-Mail: p...@trifork.com
> www: www.trifork.com
>
> On 3 Sep 2015, at 16:07, Luke Bakken > wrote:
>
> Hi Pete,
>
> In riak.conf, try changing this line to use the docker container's IP
> address rather than 127.0.0.1:
>
> nodename = riak@127.0.0.1
>
> Stop Riak, remove the contents of the "ring" data directory
> (/var/lib/riak/ring/\*), and re-start Riak. Then, re-try "riak ping".
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

