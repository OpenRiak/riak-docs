---
title: "Re: Ranking search results by relevancy"
description: ""
project: community
lastmod: 2016-05-25T09:10:42-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17415"
mailinglist_parent_id: "msg17386"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2016-05-25T09:10:42-0700
---


Hi Alex,

You can use the HTTP search endpoint to see what information Riak
returns for Solr queries as well as to try out queries:
https://docs.basho.com/riak/kv/2.1.4/developing/usage/search/#querying

Since you're indexing first and last name, I'm not sure what indexing
a full name buys you on top of that.

It should be possible to combine your queries using OR.

More info about Solr ranking can be found online (such as
https://wiki.apache.org/solr/SolrRelevancyFAQ).

--
Luke Bakken
Engineer
lbak...@basho.com


On Wed, May 18, 2016 at 10:07 AM, Alex De la rosa
 wrote:
> Hi all,
>
> I would like to perform a search on Riak/Solr of people given an input
> containing its full name (or part of it), like when searching for members in
> Facebook's search bar.
>
> search input [ alex garcia ]
>
> results = client.fulltext\_search('people', 'firstname\_register:\*alex\* OR
> lastname\_register:\*garcia\*')
>
> this would give me members like:
>
> alex garcia
> alexis garcia
> alex fernandez
> jose garcia
>
> Is there any way to get these results ranked/ordered by the most precise
> search? "alex garcia" would be the most relevant because matches equally to
> the search input... "alexis garcia" may come second as even not an exact
> match is very similar pattern, the other two would come after as they match
> only 1 of the 2 search parameters.
>
> Would it be convenient to index also fullname\_register:alex garcia in order
> to find exact matches too?
>
> Can it be done all at once in just 1 search query? or should I compile
> results from 3 queries?
>
> result\_1 = client.fulltext\_search('people', 'fullname\_register:alex garcia')
> result\_2 = client.fulltext\_search('people', 'firstname\_register:\*alex\* AND
> lastname\_register:\*garcia\*')
> result\_3 = client.fulltext\_search('people', 'firstname\_register:\*alex\* OR
> lastname\_register:\*garcia\*')
>
> Thanks and Best Regards,
> Alex
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

