---
title: "Re: [ANN] Riak 2.0pre1"
description: ""
project: community
lastmod: 2014-01-20T12:49:06-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13413"
mailinglist_parent_id: "msg13412"
author_name: "Eric Redmond"
project_section: "mailinglistitem"
sent_date: 2014-01-20T12:49:06-08:00
---



On Jan 20, 2014, at 12:35 PM, Elias Levy  wrote:

> On Mon, Jan 20, 2014 at 12:14 PM, Russell Brown  wrote:
> Longer answer: Riak gave users the option of client or \_vnode\_ ids in version 
> vectors. By default Riak uses vnode ids. Riak erred on the side of caution, 
> and would create false concurrency, rather than lose writes. 
> 
> I am curious as to how that was accomplished when using vnode version 
> vectors. As section 3.2 of the paper mentions, the node with concurrent 
> updates could detect they are concurrent and it could reject the update, but 
> how could you encode the causal history using the version vectors so as to 
> generate a sibling? That section ends with a statement saying no such 
> version vector could be generated.

The paper is correct. A sibling is generated when no such causal history can be 
discovered. If a causal history is found, there's no need for a sibling. In 
short, a sibling is a way to keep both values, this side-stepping the even 
worse scenario of rejecting (losing) a write.

> Presumably Riak implemented a version vector that is somewhat different from 
> that described in the paper?
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

