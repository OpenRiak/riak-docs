---
title: "Re: Updating Riak values in batch"
description: ""
project: community
lastmod: 2016-06-14T10:58:49-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17474"
mailinglist_parent_id: "msg17472"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2016-06-14T10:58:49-0700
---


Hi Ricardo,

I don't have examples right at hand, here is a link to our advanced
map/reduce examples:

http://docs.basho.com/riak/kv/2.1.4/developing/app-guide/advanced-mapreduce/

Our own Joe Caswell provided this example: http://stackoverflow.com/a/23633491

If you run into issues after following our examples, feel free to
share what you've done via a gist and we can continue to help out.

--
Luke Bakken
Engineer
lbak...@basho.com

On Tue, Jun 14, 2016 at 10:51 AM, Ricardo Mayerhofer
 wrote:
> Hi Luke,
> Thanks for your reply! Can I use map/reduce operation to update documents?
> Do you have any link with an example?
>
> On Tue, Jun 14, 2016 at 2:44 PM, Luke Bakken  wrote:
>>
>> Hi Ricardo,
>>
>> If you know your keys in advance, you can fetch the keys in parallel,
>> update them, and write them back to Riak in parallel.
>>
>> Other options include map/reduce jobs that iterate over all the keys,
>> but keep in mind that any key listing operation will be resource
>> intensive.
>> --
>> Luke Bakken
>> Engineer
>> lbak...@basho.com
>>
>>
>> On Mon, Jun 13, 2016 at 11:06 AM, Ricardo Mayerhofer
>>  wrote:
>> > Hi all,
>> > I've a large dataset in Riak (about 20 million keys), storing JSON
>> > documents. I'd like to update those documents to remove a JSON
>> > attribute.
>> > What's the best way to approach this problem in Riak?
>> >
>> > Thanks.
>> >
>> > --
>> > Ricardo Mayerhofer
>> >
>> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> > riak-users mailing list
>> > riak-users@lists.basho.com
>> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>> >
>
>
>
>
> --
> Ricardo Mayerhofer

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

