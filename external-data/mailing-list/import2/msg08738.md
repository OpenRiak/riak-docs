---
title: "Re: Re-use data dir for new node"
description: ""
project: community
lastmod: 2012-09-28T04:11:46-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08738"
mailinglist_parent_id: "msg08733"
author_name: "Kresten Krab Thorup"
project_section: "mailinglistitem"
sent_date: 2012-09-28T04:11:46-07:00
---


Hi,

You can use

riak-admin reip  

to rename a node from what it was before your crash, to the new node name after 
the crash. That way the other nodes will know that the data has "moved". Run 
this command on one of the live nodes before the new node is started.

Documentation here: https://wiki.basho.com/Command-Line-Tools---riak-admin.html

While your node is off-line, the other nodes will be accepting updates on 
behalf of the down node; and forwarded to it once it gets online again.


Kresten
Trifork


On Sep 28, 2012, at 10:51 AM, Jonas Tehler 
> wrote:


Hi

If a node goes down for some reason and I start up a new node, with a new name, 
is it a good idea to reuse the old nodes data dir or should I throw it away and 
start the new node from scratch?

This is on Amazon EC2 and I could keep the EBS volume with the riak data from 
the old node and attach it to the new.

/ Jonas
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com



Mobile: + 45 2343 4626 | Skype: krestenkrabthorup | Twitter: @drkrab
Trifork A/S | Margrethepladsen 4 | DK- 8000 Aarhus C | Phone : +45 8732 
8787 | www.trifork.com





\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

