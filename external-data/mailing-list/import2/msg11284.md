---
title: "Re: 403 forbidden while creating admin user in Riak-CS"
description: ""
project: community
lastmod: 2013-06-15T16:56:27-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11284"
mailinglist_parent_id: "msg11283"
author_name: "De Bunge"
project_section: "mailinglistitem"
sent_date: 2013-06-15T16:56:27-07:00
---


Thank you the response.

Checking whether ip is correct:

root@q092:~# cat /etc/riak-cs/app.config | grep stanchion
 {stanchion\_ip, "127.0.0.1"},
 {stanchion\_port, 8085 },
 {stanchion\_ssl, false },
 %% the admin credentials specified in the stanchion
root@q092:~# cat /etc/riak-cs/app.config | grep stanchion
 {stanchion\_ip, "127.0.0.1"},
 {stanchion\_port, 8085 },
 {stanchion\_ssl, false },
 %% the admin credentials specified in the stanchion
root@q092:~# cat /etc/stanchion/app.config | grep stanchion
 {stanchion, [
 {stanchion\_ip, "127.0.0.1"},
 {stanchion\_port, 8085 } ,
 
{"/var/log/stanchion/error.log", error, 10485760, "$D0", 5},
 
{"/var/log/stanchion/console.log", info, 10485760, "$D0", 5}
 {crash\_log, "/var/log/stanchion/crash.log"},
root@q092:~# cat /var/log/stanchion/error.log

pinging stanchion:

root@q092:~# stanchion ping
pong

The riak-cs error log is more interesting:

cat /var/log/riak-cs/error.log.0
2013-06-14 19:41:22.285 [error] <0.131.0> CRASH REPORT Process 
<0.131.0> with 0 neighbours exited with reason: {tcp,econnrefused} in 
gen\_server:init\_it/6 line 320
2013-06-14 19:42:06.562 [error] <0.129.0> CRASH REPORT Process 
<0.129.0> with 0 neighbours exited with reason: {tcp,econnrefused} in 
gen\_server:init\_it/6 line 320
2013-06-14 19:43:55.024 [error] <0.131.0> CRASH REPORT Process 
<0.131.0> with 0 neighbours exited with reason: {tcp,econnrefused} in 
gen\_server:init\_it/6 line 320
2013-06-14 19:43:59.664 [error] <0.131.0> CRASH REPORT Process 
<0.131.0> with 0 neighbours exited with reason: {tcp,econnrefused} in 
gen\_server:init\_it/6 line 320
2013-06-14 20:00:46.381 [error] <0.131.0> CRASH REPORT Process 
<0.131.0> with 0 neighbours exited with reason: {tcp,econnrefused} in 
gen\_server:init\_it/6 line 320
2013-06-14 20:01:14.355 [error] <0.129.0> CRASH REPORT Process 
<0.129.0> with 0 neighbours exited with reason: {tcp,econnrefused} in 
gen\_server:init\_it/6 line 320
2013-06-14 20:02:03.254 [error] <0.131.0> CRASH REPORT Process 
<0.131.0> with 0 neighbours exited with reason: {tcp,econnrefused} in 
gen\_server:init\_it/6 line 320
2013-06-14 21:07:21.845 [error] <0.262.0> Supervisor poolboy\_sup had 
child riak\_cs\_riakc\_pool\_worker started with 
riak\_cs\_riakc\_pool\_worker:start\_link([{name,{local,bucket\_list\_pool}},{worker\_module,riak\_cs\_riakc\_pool\_worker},{size,5},{max\_overflow,...},...])
 
at undefined exit with reason shutdown in context shutdown\_error

But have no idea that this means.


Сб. 15 июня 2013 21:00:07, Hector Castro писал:
> Hi,
>
> Borrowing from a response to a similar thread a few days ago regarding
> CS, this particular error message is misleading. In general it can be
> treated as a 500 error.
>
> Generally, it translates to Riak CS inability to speak to Stanchion
> (which is used for creating users and buckets). Please confirm that
> Stanchion is running with:
>
> sudo stanchion ping
>
> Also, ensure that `stanchion\_ip` is the same within Riak CS and
> Stanchion's app.config.
>
> --
> Hector
>
>
> On Sat, Jun 15, 2013 at 7:06 AM, De Bunge  wrote:
>> I'm following guidelines and set up anomimous user creation
>>
>> cat /etc/riak-cs/app.config | grep anonymous\_user\_creation
>> {anonymous\_user\_creation, true},
>>
>> and using post request to create admin user:
>>
>>> curl -H 'Content-Type: application/json' \
>>> -X POST `http://localhost:8080/riak-cs/user` \
>>> --data '{"email":"foo...@example.com", "name":"admin user"}'
>>
>> The response always is
>>
>> xml version="1.0"
> encoding="UTF-8"?>`ServiceUnavailable`Please
>> reduce your request
>> rate./riak-cs/user
>>
>> No matter how long I wait (hours) between requests. What's wrong? How
>> sould I create admin user?
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com



\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

