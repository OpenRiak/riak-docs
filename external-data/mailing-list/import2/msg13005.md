---
title: "vnode_proxy_timeout during mapreduce"
description: ""
project: community
lastmod: 2013-11-18T12:43:15-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13005"
author_name: "Jason Strutz"
project_section: "mailinglistitem"
sent_date: 2013-11-18T12:43:15-08:00
---


I have a riak bucket which contains roughly 16 million records. I'm 
trying to run a simple count over all the keys in the bucket:


curl -v -d '{"inputs":"mybucket",
 "timeout": 86400000,
 "query":[
 {"map":{
 "language":"erlang",
 "module":"riak\_kv\_mapreduce",
 "function":"map\_identity"}
 },
 {"reduce":{
 "language":"erlang",
 "module":"riak\_kv\_mapreduce",
 "function":"reduce\_count\_inputs"}
 }
 ]}' -H "Content-Type: application/json" 
http://riak01:8098/mapred


However, I receive the following error, after a few minutes of spinning:
{"phase":0,"error":"[{vnode\_proxy\_timeout,{2... <>


I realize mapping over all the keys in a bucket is not ideal, but I 
would like to be able to do so in a pinch, even if it means tweaking 
timeouts and such. I'm running riak 1.4.2.


Thanks,
-Jason

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

