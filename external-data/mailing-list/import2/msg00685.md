---
title: "Re: riak install issues"
description: ""
project: community
lastmod: 2010-07-07T05:12:08-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00685"
mailinglist_parent_id: "msg00682"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2010-07-07T05:12:08-07:00
---


Hi Robert,

Unfortunately, you cannot append paths to ERL\_CFLAGS (or DRV\_CFLAGS) from
the top level application (riak in this case). There is a mechanism for
specifying environment variables in an individual application's rebar.config
file (http://hg.basho.com/rebar/src/tip/src/rebar\_port\_compiler.erl#cl-38)
but this is not the recommended solution for your situation.

Based on the information given, your Erlang install does not appear to be
setup correctly. Did you run "make install" after building your home
directory Erlang?

I'm seeing the "erts/emulator/beam" directory in the Erlang source directory
but not the install directory. You will need to run "make install" before
Erlang will work correctly. I would advise speaking with your sys-admin to
either remove the home directory install from your path and use the system
Erlang or configure the home directory install with a prefix and run "make
&& make install".

The Erlang install document discusses setting a prefix during configuration:
http://github.com/erlang/otp/blob/OTP\_R14A/INSTALL.md


Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Tue, Jul 6, 2010 at 1:04 PM, Robert Schaefer wrote:

> Hi, Dan,
>
> "which erl" points to my home directory (uh oh, but...
> that version has been used and works, but I only needed the binary, not
> the include files)
>
> The source erlang I used was a downloaded tarball.
>
> Verbose mode follows:
>
> I found this!!!:
>
> ERL\_CFLAGS
> -I/home/jupiter/rps/rabbitmq/otp\_src\_R14A/lib/erl\_interface/include
> -I/home/jupiter/rps/rabbitmq/otp\_src\_R14A/erts-5.8/include
>
> The can't find .h file is in:
>
> /home/jupiter/rps/rabbitmq/otp\_src\_R14A/erts/emulator/beam/
>
> Should I just append the ERL\_CFLAGS environment variable to include this
> include path?
>
> bob s.
>
> --------------------------
> quasar:~/rabbitmq/riak/riak > ./rebar -v compile
> DEBUG: Rebar location: "/home/jupiter/rps/rabbitmq/riak/riak/rebar"
> DEBUG: Entering /home/jupiter/rps/rabbitmq/riak/riak
> INFO: Looking for erlang\_js-0.3 ; found erlang\_js-0.3 at
> /home/jupiter/rps/rabbitmq/riak/riak/deps/erlang\_js
> INFO: Looking for mochiweb-1.7.1 ; found mochiweb-1.7.1 at
> /home/jupiter/rps/rabbitmq/riak/riak/deps/mochiweb
> INFO: Looking for webmachine-1.7.0 ; found webmachine-1.7.0 at
> /home/jupiter/rps/rabbitmq/riak/riak/deps/webmachine
> INFO: Looking for riakc-0.2.0 ; found riakc-0.2.0 at
> /home/jupiter/rps/rabbitmq/riak/riak/deps/riakc
> INFO: Looking for bitcask-1.0.1 ; found bitcask-1.0.1 at
> /home/jupiter/rps/rabbitmq/riak/riak/deps/bitcask
> INFO: Looking for ebloom-1.0.0 ; found ebloom-1.0.0 at
> /home/jupiter/rps/rabbitmq/riak/riak/deps/ebloom
> DEBUG: Available deps:
> [{dep,"/home/jupiter/rps/rabbitmq/riak/riak/deps/erlang\_js",
> erlang\_js,"0.3",
> 
> {hg,"http://bitbucket.org/basho/erlang\_js"
> ,"82"}},
>
> {dep,"/home/jupiter/rps/rabbitmq/riak/riak/deps/mochiweb",
> mochiweb,"1.7.1",
> 
> {hg,"http://bitbucket.org/basho/mochiweb"
> ,
> "mochiweb-1.7.1"}},
>
> {dep,"/home/jupiter/rps/rabbitmq/riak/riak/deps/webmachine",
> webmachine,"1.7.0",
> 
> {hg,"http://bitbucket.org/basho/webmachine"
> ,
> "154"}},
>
> {dep,"/home/jupiter/rps/rabbitmq/riak/riak/deps/riakc",
> riakc,"0.2.0",
> {hg,
> "http://bitbucket.org/basho/riak-erlang-client"
> ,
> "65"}},
>
> {dep,"/home/jupiter/rps/rabbitmq/riak/riak/deps/bitcask",
> bitcask,"1.0.1",
> 
> {hg,"http://bitbucket.org/basho/bitcask"
> ,"185"}},
>
> {dep,"/home/jupiter/rps/rabbitmq/riak/riak/deps/ebloom",
> ebloom,"1.0.0",
> 
> {hg,"http://bitbucket.org/basho/ebloom"
> ,
> "ebloom-1.0.0"}}]
> DEBUG: Missing deps : []
> INFO: Looking for erlang\_js-0.3 ; found erlang\_js-0.3 at
> /home/jupiter/rps/rabbitmq/riak/riak/deps/erlang\_js
> INFO: Looking for mochiweb-1.7.1 ; found mochiweb-1.7.1 at
> /home/jupiter/rps/rabbitmq/riak/riak/deps/mochiweb
> INFO: Looking for webmachine-1.7.0 ; found webmachine-1.7.0 at
> /home/jupiter/rps/rabbitmq/riak/riak/deps/webmachine
> INFO: Looking for riakc-0.2.0 ; found riakc-0.2.0 at
> /home/jupiter/rps/rabbitmq/riak/riak/deps/riakc
> INFO: Looking for bitcask-1.0.1 ; found bitcask-1.0.1 at
> /home/jupiter/rps/rabbitmq/riak/riak/deps/bitcask
> INFO: Looking for ebloom-1.0.0 ; found ebloom-1.0.0 at
> /home/jupiter/rps/rabbitmq/riak/riak/deps/ebloom
> DEBUG: Predirs: ["/home/jupiter/rps/rabbitmq/riak/riak/deps/erlang\_js",
> "/home/jupiter/rps/rabbitmq/riak/riak/deps/mochiweb",
> "/home/jupiter/rps/rabbitmq/riak/riak/deps/webmachine",
> "/home/jupiter/rps/rabbitmq/riak/riak/deps/riakc",
> "/home/jupiter/rps/rabbitmq/riak/riak/deps/bitcask",
> "/home/jupiter/rps/rabbitmq/riak/riak/deps/ebloom",
> "/home/jupiter/rps/rabbitmq/riak/riak/apps/luke",
> "/home/jupiter/rps/rabbitmq/riak/riak/apps/riak\_core",
> "/home/jupiter/rps/rabbitmq/riak/riak/apps/riak\_kv",
> "/home/jupiter/rps/rabbitmq/riak/riak/rel"]
> DEBUG: Entering /home/jupiter/rps/rabbitmq/riak/riak/deps/erlang\_js
> DEBUG: Available deps: []
> DEBUG: Missing deps : []
> DEBUG: Predirs: []
> ==> erlang\_js (compile)
> DEBUG: Matched required ERTS version: 5.8 -> .\*
> DEBUG: Matched required OTP release: R14A -> R13B04|R14
> DEBUG: erl\_opts [debug\_info,fail\_on\_warning]
> DEBUG: Starting 3 compile worker(s)
> INFO: Skipped src/erlang\_js.erl
> INFO: Skipped src/js.erl
> INFO: Skipped src/erlang\_js\_sup.erl
> INFO: Skipped src/js\_benchmark.erl
> INFO: Skipped src/js\_cache.erl
> INFO: Skipped src/js\_drv\_comm.erl
> INFO: Skipped src/js\_driver.erl
> INFO: Skipped src/js\_memory.erl
> DEBUG: Worker exited cleanly
> INFO: Skipped src/js\_mochinum.erl
> DEBUG: Worker exited cleanly
> INFO: Skipped src/js\_mochijson2.erl
> DEBUG: Worker exited cleanly
> Running make -C c\_src
> INFO: sh: make -C c\_src
> [{"BASELINE","/home/jupiter/rps/baseline2010"},
>
> {"BINDIR","/home/jupiter/rps/rabbitmq/otp\_src\_R14A/bin/i686-pc-linux-gnu"},
> {"CC","gcc"},
> {"CLASSPATH",
>
> ":/home/jupiter/rps/rabbitmq/junit/junit4.8.2:/home/jupiter/rps/rabbitmq/junit/junit4.8.2/junit-4.8.2.jar::/home/jupiter/rps/rabbitmq/rabbitmq-java-client-1.8.0/src:/home/jupiter/rps/rabbitmq/rabbitmq-java-client-1.8.0/build/gensrc:/home/jupiter/rps/rabbitmq/commons-io-1.4-src/src/java:/home/jupiter/rps/rabbitmq/junit/junit4.8.2:/home/jupiter/rps/rabbitmq/junit/junit4.8.2/junit-4.8.2.jar::/home/jupiter/rps/rabbitmq/rabbitmq-java-client-1.8.0/src:/home/jupiter/rps/rabbitmq/rabbitmq-java-client-1.8.0/build/gensrc:/home/jupiter/rps/rabbitmq/commons-io-1.4-src/src/java"},
> {"COLORTERM","gnome-terminal"},
> {"CORRELATOR\_CW\_PATH",
>
> "/home/jupiter/rps//home/jupiter/rps/rabbitmq/rabbitmq-java-client-1.8.0calib/MidasW/analysis"},
> {"CVS\_RSH","ssh"},
> {"CXX","g++"},
> {"DBUS\_SESSION\_BUS\_ADDRESS",
>
> "unix:abstract=/tmp/dbus-DYkHhSyqUm,guid=d1cbd86c7e6beeb081f80f004c333b09"},
> {"DESKTOP\_SESSION","default"},
> {"DESKTOP\_STARTUP\_ID",[]},
> {"DISPLAY",":0.0"},
> {"DRV\_CFLAGS",
> "-g -Wall -fPIC
> -I/home/jupiter/rps/rabbitmq/otp\_src\_R14A/lib/erl\_interface/include
> -I/home/jupiter/rps/rabbitmq/otp\_src\_R14A/erts-5.8/include -I
> c\_src/system/include/js -DXP\_UNIX"},
> {"DRV\_LDFLAGS",
> "-shared -L/home/jupiter/rps/rabbitmq/otp\_src\_R14A/lib/erl\_interface/lib
> -lerl\_interface -lei c\_src/system/lib/libjs.a c\_src/system/lib/libnspr4.a"},
> {"EMU","beam"},
> {"ERLANG\_ARCH","32"},
> {"ERLANG\_TARGET","i686-pc-linux-gnu-32"},
> {"ERL\_CFLAGS",
> " -I/home/jupiter/rps/rabbitmq/otp\_src\_R14A/lib/erl\_interface/include
> -I/home/jupiter/rps/rabbitmq/otp\_src\_R14A/erts-5.8/include "},
> {"ERL\_LDFLAGS",
> " -L/home/jupiter/rps/rabbitmq/otp\_src\_R14A/lib/erl\_interface/lib
> -lerl\_interface -lei"},
> {"GDMSESSION","default"},
> {"GDM\_XSERVER\_LOCATION","local"},
> {"GNOME\_DESKTOP\_SESSION\_ID","Default"},
> {"GNOME\_KEYRING\_SOCKET","/tmp/keyring-rNQPTP/socket"},
> {"GTK\_RC\_FILES","/etc/gtk/gtkrc:/home/jupiter/rps/.gtkrc-1.2-gnome2"},
> {"G\_BROKEN\_FILENAMES","1"},
> {"HISTSIZE","1000"},
> {"HOME","/home/jupiter/rps"},
> {"HOSTNAME","quasar"},
> {"INPUTRC","/etc/inputrc"},
> {"JAVA\_HOME","/opt/linux/jdk"},
> {"JUNIT\_HOME","/home/jupiter/rps/rabbitmq/junit/junit4.8.2"},
> {"KDEDIR","/usr"},
> {"KDE\_IS\_PRELINKED","1"},
> {"KDE\_NO\_IPV6","1"},
> {"LANG","en\_US.UTF-8"},
> {"LD\_LIBRARY\_PATH",
>
> ":.:/lib:/usr/lib:/usr/local/lib:/usr/X11R6/lib:/opt/linux/jre1.6.0\_13/lib:/opt/linux/lib"},
> {"LESSOPEN","|/usr/bin/lesspipe.sh %s"},
> {"LOGNAME","rps"},
> {"LS\_COLORS",[]},
> {"MAIL","/var/spool/mail/rps"},
> {"NSPR\_SIXTYFOUR","--disable-64bit"},
> {"PACMAN\_LOCATION","/home/jupiter/rps/pacman/pacman-3.29"},
> {"PAC\_ANCHOR","/home/jupiter/rps/nEdit"},
> {"PATH",
>
> "/home/jupiter/rps/rabbitmq/otp\_src\_R14A/bin/i686-pc-linux-gnu:/home/jupiter/rps/rabbitmq/otp\_src\_R14A/bin:/home/jupiter/rps/mercurial/mercurial-1.5.4:/home/jupiter/rps/rabbitmq/otp\_src\_R14A/bin:/home/jupiter/rps/nEdit/nedit-linux-glibc:/home/jupiter/rps/pacman/pacman-3.29/bin:/home/jupiter/rps/mercurial/mercurial-1.5.4:/home/jupiter/rps/rabbitmq/otp\_src\_R14A/bin:/home/jupiter/rps/nEdit/nedit-linux-glibc:/home/jupiter/rps/pacman/pacman-3.29/bin:/usr/lib/qt-3.3/bin:/usr/kerberos/bin:/usr/local/bin:/usr/bin:/bin:/usr/X11R6/bin:/opt/linux/jre1.6.0\_13/bin:/opt/linux/bin:/opt/linux/jre1.6.0\_13/bin:/opt/linux/bin"},
> {"PROCESSED\_CAL","/home/jupiter/rps/calib/processed/2010-02-01"},
> {"PROGNAME","erl"},
> {"PWD","/home/jupiter/rps/rabbitmq/riak/riak"},
> {"PYTHON\_SITE\_PKGS",
>
> "/home/jupiter/rps/baseline2010/python-2.6.2/pkg/lib/python2.6/site-packages"},
> {"QTDIR","/usr/lib/qt-3.3"},
> {"QTINC","/usr/lib/qt-3.3/include"},
> {"QTLIB","/usr/lib/qt-3.3/lib"},
> {"REPLAY\_CW\_PATH","/home/jupiter/rps/calib/SystemSignalMonitor"},
> {"ROOTDIR","/home/jupiter/rps/rabbitmq/otp\_src\_R14A"},
> {"SESSION\_MANAGER","local/quasar:/tmp/.ICE-unix/2905"},
> {"SHELL","/bin/bash"},
> {"SHLVL","2"},
> {"SSH\_AGENT\_PID","2941"},
> {"SSH\_ASKPASS","/usr/libexec/openssh/gnome-ssh-askpass"},
> {"SSH\_AUTH\_SOCK","/tmp/ssh-wXnMba2905/agent.2905"},
> {"TERM","xterm"},
> {"USER","rps"},
> {"USERNAME","rps"},
> {"WINDOWID","22020177"},
> {"XAUTHORITY","/tmp/.gdmTYGDFV"},
> {"XMODIFIERS","@im=none"}]
> make: Entering directory
> `/home/jupiter/rps/rabbitmq/riak/riak/deps/erlang\_js/c\_src'
> make: Nothing to be done for `js'.
> make: Leaving directory
> `/home/jupiter/rps/rabbitmq/riak/riak/deps/erlang\_js/c\_src'
>
> Compiling c\_src/driver\_comm.c
> INFO: sh: $CC -c $CFLAGS $DRV\_CFLAGS c\_src/driver\_comm.c -o
> c\_src/driver\_comm.o
> [{"BASELINE","/home/jupiter/rps/baseline2010"},
>
> {"BINDIR","/home/jupiter/rps/rabbitmq/otp\_src\_R14A/bin/i686-pc-linux-gnu"},
> {"CC","gcc"},
> {"CLASSPATH",
>
> ":/home/jupiter/rps/rabbitmq/junit/junit4.8.2:/home/jupiter/rps/rabbitmq/junit/junit4.8.2/junit-4.8.2.jar::/home/jupiter/rps/rabbitmq/rabbitmq-java-client-1.8.0/src:/home/jupiter/rps/rabbitmq/rabbitmq-java-client-1.8.0/build/gensrc:/home/jupiter/rps/rabbitmq/commons-io-1.4-src/src/java:/home/jupiter/rps/rabbitmq/junit/junit4.8.2:/home/jupiter/rps/rabbitmq/junit/junit4.8.2/junit-4.8.2.jar::/home/jupiter/rps/rabbitmq/rabbitmq-java-client-1.8.0/src:/home/jupiter/rps/rabbitmq/rabbitmq-java-client-1.8.0/build/gensrc:/home/jupiter/rps/rabbitmq/commons-io-1.4-src/src/java"},
> {"COLORTERM","gnome-terminal"},
> {"CORRELATOR\_CW\_PATH",
>
> "/home/jupiter/rps//home/jupiter/rps/rabbitmq/rabbitmq-java-client-1.8.0calib/MidasW/analysis"},
> {"CVS\_RSH","ssh"},
> {"CXX","g++"},
> {"DBUS\_SESSION\_BUS\_ADDRESS",
>
> "unix:abstract=/tmp/dbus-DYkHhSyqUm,guid=d1cbd86c7e6beeb081f80f004c333b09"},
> {"DESKTOP\_SESSION","default"},
> {"DESKTOP\_STARTUP\_ID",[]},
> {"DISPLAY",":0.0"},
> {"DRV\_CFLAGS",
> "-g -Wall -fPIC
> -I/home/jupiter/rps/rabbitmq/otp\_src\_R14A/lib/erl\_interface/include
> -I/home/jupiter/rps/rabbitmq/otp\_src\_R14A/erts-5.8/include -I
> c\_src/system/include/js -DXP\_UNIX"},
> {"DRV\_LDFLAGS",
> "-shared -L/home/jupiter/rps/rabbitmq/otp\_src\_R14A/lib/erl\_interface/lib
> -lerl\_interface -lei c\_src/system/lib/libjs.a c\_src/system/lib/libnspr4.a"},
> {"EMU","beam"},
> {"ERLANG\_ARCH","32"},
> {"ERLANG\_TARGET","i686-pc-linux-gnu-32"},
> {"ERL\_CFLAGS",
> " -I/home/jupiter/rps/rabbitmq/otp\_src\_R14A/lib/erl\_interface/include
> -I/home/jupiter/rps/rabbitmq/otp\_src\_R14A/erts-5.8/include "},
> {"ERL\_LDFLAGS",
> " -L/home/jupiter/rps/rabbitmq/otp\_src\_R14A/lib/erl\_interface/lib
> -lerl\_interface -lei"},
> {"GDMSESSION","default"},
> {"GDM\_XSERVER\_LOCATION","local"},
> {"GNOME\_DESKTOP\_SESSION\_ID","Default"},
> {"GNOME\_KEYRING\_SOCKET","/tmp/keyring-rNQPTP/socket"},
> {"GTK\_RC\_FILES","/etc/gtk/gtkrc:/home/jupiter/rps/.gtkrc-1.2-gnome2"},
> {"G\_BROKEN\_FILENAMES","1"},
> {"HISTSIZE","1000"},
> {"HOME","/home/jupiter/rps"},
> {"HOSTNAME","quasar"},
> {"INPUTRC","/etc/inputrc"},
> {"JAVA\_HOME","/opt/linux/jdk"},
> {"JUNIT\_HOME","/home/jupiter/rps/rabbitmq/junit/junit4.8.2"},
> {"KDEDIR","/usr"},
> {"KDE\_IS\_PRELINKED","1"},
> {"KDE\_NO\_IPV6","1"},
> {"LANG","en\_US.UTF-8"},
> {"LD\_LIBRARY\_PATH",
>
> ":.:/lib:/usr/lib:/usr/local/lib:/usr/X11R6/lib:/opt/linux/jre1.6.0\_13/lib:/opt/linux/lib"},
> {"LESSOPEN","|/usr/bin/lesspipe.sh %s"},
> {"LOGNAME","rps"},
> {"LS\_COLORS",[]},
> {"MAIL","/var/spool/mail/rps"},
> {"NSPR\_SIXTYFOUR","--disable-64bit"},
> {"PACMAN\_LOCATION","/home/jupiter/rps/pacman/pacman-3.29"},
> {"PAC\_ANCHOR","/home/jupiter/rps/nEdit"},
> {"PATH",
>
> "/home/jupiter/rps/rabbitmq/otp\_src\_R14A/bin/i686-pc-linux-gnu:/home/jupiter/rps/rabbitmq/otp\_src\_R14A/bin:/home/jupiter/rps/mercurial/mercurial-1.5.4:/home/jupiter/rps/rabbitmq/otp\_src\_R14A/bin:/home/jupiter/rps/nEdit/nedit-linux-glibc:/home/jupiter/rps/pacman/pacman-3.29/bin:/home/jupiter/rps/mercurial/mercurial-1.5.4:/home/jupiter/rps/rabbitmq/otp\_src\_R14A/bin:/home/jupiter/rps/nEdit/nedit-linux-glibc:/home/jupiter/rps/pacman/pacman-3.29/bin:/usr/lib/qt-3.3/bin:/usr/kerberos/bin:/usr/local/bin:/usr/bin:/bin:/usr/X11R6/bin:/opt/linux/jre1.6.0\_13/bin:/opt/linux/bin:/opt/linux/jre1.6.0\_13/bin:/opt/linux/bin"},
> {"PROCESSED\_CAL","/home/jupiter/rps/calib/processed/2010-02-01"},
> {"PROGNAME","erl"},
> {"PWD","/home/jupiter/rps/rabbitmq/riak/riak"},
> {"PYTHON\_SITE\_PKGS",
>
> "/home/jupiter/rps/baseline2010/python-2.6.2/pkg/lib/python2.6/site-packages"},
> {"QTDIR","/usr/lib/qt-3.3"},
> {"QTINC","/usr/lib/qt-3.3/include"},
> {"QTLIB","/usr/lib/qt-3.3/lib"},
> {"REPLAY\_CW\_PATH","/home/jupiter/rps/calib/SystemSignalMonitor"},
> {"ROOTDIR","/home/jupiter/rps/rabbitmq/otp\_src\_R14A"},
> {"SESSION\_MANAGER","local/quasar:/tmp/.ICE-unix/2905"},
> {"SHELL","/bin/bash"},
> {"SHLVL","2"},
> {"SSH\_AGENT\_PID","2941"},
> {"SSH\_ASKPASS","/usr/libexec/openssh/gnome-ssh-askpass"},
> {"SSH\_AUTH\_SOCK","/tmp/ssh-wXnMba2905/agent.2905"},
> {"TERM","xterm"},
> {"USER","rps"},
> {"USERNAME","rps"},
> {"WINDOWID","22020177"},
> {"XAUTHORITY","/tmp/.gdmTYGDFV"},
> {"XMODIFIERS","@im=none"}]
>
> c\_src/driver\_comm.c:21:24: error: erl\_driver.h: No such file or directory
> c\_src/driver\_comm.c: In function ‘read\_command’:
> c\_src/driver\_comm.c:36: warning: implicit declaration of function
> ‘driver\_alloc’
> ERROR: $CC -c $CFLAGS $DRV\_CFLAGS c\_src/driver\_comm.c -o
> c\_src/driver\_comm.o failed with error: 1
> quasar:~/rabbitmq/riak/riak >
>
>
>
> -------------------------
>
>
>
>
> On 07/06/2010 03:46 PM, Dan Reverri wrote:
>
> Hi Robert,
>
> My guess is that the build process is still using your home directory
> version of Erlang which may be broken. Can you type the following?
> which erl
>
> The home directory version has the erl\_driver.h file in a location I am
> not familiar with and may not be in the Erlang include paths; although I am
> just guessing and could be completely wrong.
>
> Can you tell me what source tree you are building from? Downloaded
> tarball or bitbucket/github clone?
> Can you try compiling with the verbose flag and send us the output?
> ./rebar -v compile
>
> Also, we provide pre-built binaries for Redhat so you do not need to
> build from source:
> https://downloads.basho.com/riak/
>
>
> Thanks,
> Dan
>
> Daniel Reverri
> Developer Advocate
> Basho Technologies, Inc.
> d...@basho.com
>
>
> On Tue, Jul 6, 2010 at 12:18 PM, Robert Schaefer wrote:
>
>> Dan,
>>
>> Redhat Enterprise 5.4
>>
>> I first installed it in my home directory,
>> /home/jupiter/rps/rabbitmq/otp\_src\_R14A/erts/emulator/beam/erl\_driver.h
>>
>> and when riak couldn't find it, I had my sys-admin install it
>> just in case the path to the "includes" was hard coded to use admin space.
>>
>> "find" returns: /opt/linux/lib/erlang/erts-5.8/include/erl\_driver.h
>>
>> The include file is present (in two directories: mine, and admin space).
>>
>> What do I have to do to get riak to find either one?
>>
>> (I know erlang binary works because I used it to build another tool,
>> "rabbitmq")
>>
>> thanks,
>>
>> bob s.
>>
>>
>>
>> On 07/06/2010 02:28 PM, Dan Reverri wrote:
>>
>> Hi Robert,
>>
>> What platform are you building on? (OS X, Ubuntu, Redhat)
>> How did you install Erlang?
>> Can you check your Erlang install for the "erl\_driver.h" file?
>>
>> To find the Erlang root directory use code:root\_dir/0:
>> $ erl
>> Erlang R13B04 (erts-5.7.5) [source] [64-bit] [smp:4:4] [rq:4]
>> [async-threads:0] [hipe] [kernel-poll:false]
>>
>> Eshell V5.7.5 (abort with ^G)
>> 1> code:root\_dir().
>> "/usr/local/Cellar/erlang/R13B04/lib/erlang"
>> 2>
>>
>>
>> You can search the root directory for the "erl\_driver.h" file as
>> follows:
>> $ cd /usr/local/Cellar/erlang/R13B04/lib/erlang
>> $ find . -name "erl\_driver.h"
>> ./erts-5.7.5/include/erl\_driver.h
>> ./usr/include/erl\_driver.h
>>
>>
>> Thanks,
>> Dan
>>
>> Daniel Reverri
>> Developer Advocate
>> Basho Technologies, Inc.
>> d...@basho.com
>>
>>
>> On Tue, Jul 6, 2010 at 10:49 AM, robert schaefer 
>> wrote:
>>
>>>
>>> -- The error I get is:
>>>
>>> Compiling c\_src/driver\_comm.c
>>> c\_src/driver\_comm.c:21:24: error: erl\_driver.h: No such file or directory
>>> c\_src/driver\_comm.c: In function ‘read\_command’:
>>> c\_src/driver\_comm.c:36: warning: implicit declaration of function
>>> ‘driver\_alloc’
>>> ERROR: $CC -c $CFLAGS $DRV\_CFLAGS c\_src/driver\_comm.c -o
>>> c\_src/driver\_comm.o failed with error: 1
>>> make: \*\*\* [compile] Error 1
>>>
>>>
>>> -- The riak make appears to not know where the erlang include files are -
>>> erlang version: otp\_src\_R14A
>>>
>>> Any help?
>>>
>>> -----------------------------------
>>> robert schaefer
>>> Atmospheric Sciences Group
>>> MIT Haystack Observatory
>>> Westford, MA 01886
>>>
>>> email: r...@haystack.mit.edu
>>> voice: 781-981-5767
>>> www: http://www.haystack.mit.edu
>>>
>>>
>>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>> riak-users mailing list
>>> riak-users@lists.basho.com
>>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>>
>>
>>
>>
> !DSPAM:4c338819292242105830677!
>
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

