---
title: "can not delete object with riakc_pb_socket"
description: ""
project: community
lastmod: 2015-07-27T01:03:27-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16311"
author_name: "SeanProtain"
project_section: "mailinglistitem"
sent_date: 2015-07-27T01:03:27-0700
---





Dear All, 

I have an object 
http://192.168.1.102:10028/types/snippet/buckets/5091/keys/19033, and I can 
delete it successfully with HTTP API: curl -XDELETE …

but if I delete it from erlang riack client, got following error and the object 
is still there.


Riak version: Head of master branch
Erlang version: R16B02 

Pid = riakc\_pb\_socket:start\_link("192.168.1.102", 10017).
{ok,<0.1248.0>}
(portal@127.0.0.1)10> riakc\_pb\_socket:delete(Pid, {<<"snippet">>, <<"5091">>}, 
<<"19033">>).
\*\* exception exit: {{function\_clause,
[{gen,call,
[{ok,<0.1248.0>},
'$gen\_call',
{req,
{rpbdelreq,<<"5091">>,<<"19033">>,undefined,undefined,
undefined,undefined,undefined,undefined,undefined,undefined,
undefined,undefined,<<"snippet">>},
60000},
infinity],
[{file,"gen.erl"},{line,149}]},
{gen\_server,call,3,[{file,"gen\_server.erl"},{line,186}]},
{erl\_eval,do\_apply,6,[{file,"erl\_eval.erl"},{line,661}]},
{shell,exprs,7,[{file,"shell.erl"},{line,676}]},
{shell,eval\_exprs,7,[{file,"shell.erl"},{line,631}]},
{shell,eval\_loop,3,[{file,"shell.erl"},{line,616}]}]},
{gen\_server,call,
[{ok,<0.1248.0>},
{req,
{rpbdelreq,<<"5091">>,<<"19033">>,undefined,undefined,
undefined,undefined,undefined,undefined,undefined,undefined,
undefined,undefined,<<"snippet">>},
60000},
infinity]}}
in function gen\_server:call/3 (gen\_server.erl, line 190)






发自 Windows 邮件\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

