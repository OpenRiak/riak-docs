---
title: "Re: Leaving a partially joined node"
description: ""
project: community
lastmod: 2012-12-28T03:22:40-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09689"
mailinglist_parent_id: "msg09686"
author_name: "Tom Lanyon"
project_section: "mailinglistitem"
sent_date: 2012-12-28T03:22:40-08:00
---


On 28/12/2012, at 10:24 AM, Tom Lanyon  wrote:
> We're doing some maintenance on a Riak 1.2.1 cluster; it had two nodes in the 
> cluster (50% ring each), and I used 'cluster join' to add a third node 
> (should now be ~33% ring pending each).
> 
> Whilst it was transferring the ~33% of partitions to the new node (it had 
> only just started), I told the node to leave again with 'cluster leave'.
> 
> I've now got a cluster with three nodes where 'member-status' reports the 
> most recent addition as 'leaving', but the pending ring distribution is still 
> at ~33% each and it continues to transfer partitions to the 'new' node.
> 
> Should I expect this node to eventually leave, join or join-then-leave this 
> cluster and can I interrupt this process some how?

To close my own thread for the archives...

After completing the 'join' and re-distribution of partitions, the node then 
started leaving the cluster and handing off all its partitions again.

Tom


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

