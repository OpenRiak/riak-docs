---
title: "Re: Rebar and env"
description: ""
project: community
lastmod: 2011-05-18T15:04:27-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03363"
mailinglist_parent_id: "msg03362"
author_name: "Mike Oxford"
project_section: "mailinglistitem"
sent_date: 2011-05-18T15:04:27-07:00
---


Perhaps I spoke too soon. :)

'rebar compile' will nuke the ebin/.app file.
Setting the {env, []} setting inside this file and then generating (or in
the srv/.app.src file) and it does not get passed down to the actual
vm.

{env, [{gproc, "gproc\_dist 'all'"}]} does not work
{env, [{gproc, 1}]} does not work, trying to get it to just show anything

(I've tried variations of as well, but application:get\_all\_env() doesn't
show anything being set.

1> application:get\_all\_env().
[]

rel//etc/vm.args does not have a -env entry for these values.
rel//etc/app.config does not the values either.

I'll keep looking ...

Thanks,

-mox



On Wed, May 18, 2011 at 2:41 PM, Mike Oxford  wrote:

> Yes, you are correct. I completely forgot about the baseline file.
>
> Back to my hole...and thank you.
>
> -mox
>
> On Wed, May 18, 2011 at 2:11 PM, Anthony Molinaro <
> antho...@alumni.caltech.edu> wrote:
>
>> Can't you have something in your src directory like
>>
>> foo.app.src
>>
>> which is what the ebin/foo.app is generated from?
>>
>> Then you put whatever you want in there?
>>
>> -Anthony
>>
>> On Wed, May 18, 2011 at 12:23:20PM -0700, Mike Oxford wrote:
>> > I do not see a facility in Rebar to pass variables through to the
>> command
>> > line after a generate.
>> >
>> > The .app file is transient (will be destroyed and rebuilt on a clean),
>> and
>> > generating nodes kinda needs -f which blows stuff away there too.
>> >
>> > I need to pass an option to gproc to turn on gproc\_dist and I do not see
>> any
>> > way to do it (that will not be blown away from a subsequent cleaning.)
>> >
>> > Is there a way to do this? Or set some env flags in, say, rebar.config
>> > somewhere to get it to work?
>> >
>> > TIA!
>> >
>> > -mox
>>
>> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> > riak-users mailing list
>> > riak-users@lists.basho.com
>> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>>
>> --
>> ------------------------------------------------------------------------
>> Anthony Molinaro 
>>
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

