---
title: "Re: riak-users Digest, Vol 53, Issue 3"
description: ""
project: community
lastmod: 2013-12-03T10:34:11-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13142"
author_name: "JoÃ£o Martins"
project_section: "mailinglistitem"
sent_date: 2013-12-03T10:34:11-08:00
---


Alain,
for Riak 1.4.x try

 http://riakjs.com/ or https://github.com/nlf/node-simpleriak

regards
Joao Martins




2013/12/3 

> Send riak-users mailing list submissions to
> riak-users@lists.basho.com
>
> To subscribe or unsubscribe via the World Wide Web, visit
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> or, via email, send a message with subject or body 'help' to
> riak-users-requ...@lists.basho.com
>
> You can reach the person managing the list at
> riak-users-ow...@lists.basho.com
>
> When replying, please edit your Subject line so it is more specific
> than "Re: Contents of riak-users digest..."
>
>
> Today's Topics:
>
> 1. Re: badrecord during transfer (Ryan Zezeski)
> 2. Riak in Node + Protobuf (Alain Rodriguez)
> 3. critical config messages in riak-admin diag (Ingo Rockel)
> 4. Re: critical config messages in riak-admin diag
> (Matthew Von-Maszewski)
> 5. Re: Re: badrecord during transfer (Ivan Skytte J?rgensen)
> 6. Re: Riak in Node + Protobuf (Sean Cribbs)
> 7. [ANN] Yokozuna 0.12.0 (Ryan Zezeski)
>
>
> ----------------------------------------------------------------------
>
> Message: 1
> Date: Mon, 2 Dec 2013 18:10:32 -0500
> From: Ryan Zezeski 
> To: Ivan Skytte J?rgensen 
> Cc: riak-users Users 
> Subject: Re: badrecord during transfer
> Message-ID:
> <
> caczcpenm6v-fmbuvif49lmsjcgh82mpnevqmnkbrf8w7tdx...@mail.gmail.com>
> Content-Type: text/plain; charset="iso-8859-1"
>
> Ivan,
>
> What makes you think the index is damaged? From what I can see this is a
> bug in the code assuming that a #ho\_acc record is always returned but in
> fact an error tuple could also be returned. That error tuple could be
> caused by index corruption but there is nothing in your email to say for
> sure. Do you see any other errors in the log?
>
> -Z
>
>
> On Tue, Nov 26, 2013 at 7:55 PM, Ivan Skytte J?rgensen  >wrote:
>
> > I have a three-node cluster (version 1.4.2)
> >
> > One node is trying to send a partition to another node but encounters
> this
> > error every time:
> >
> > 2013-11-27 00:48:15.468 [error]
> > <0.29095.34>@riak\_core\_handoff\_sender:start\_fold:269 ownership\_transfer
> > transfer of riak\_search\_vnode from 'riak@10.197.0.55'
> > 1118962191081472546749696200048404186924073353216 to 'riak@10.196.50.172
> '
> > 1118962191081472546749696200048404186924073353216 failed because of
> > error:{badrecord,ho\_acc}
> >
> [{riak\_core\_handoff\_sender,start\_fold,5,[{file,"src/riak\_core\_handoff\_sender.erl"},{line,193}]}]
> >
> > I have tried attaching to riak with riak attach and doing a repair, but:
> >
> > (riak@10.197.0.55)1>
> > riak\_kv\_vnode:repair(1118962191081472546749696200048404186924073353216).
> > ownership\_change\_in\_progress
> >
> > How do I get out of this sticky situation? The transfer never completes
> > because the index is damaged and I cannot repair it because it is
> scheduled
> > for handoff.
> >
> > Would a force-remove allow me to repair the partition and then rejoin the
> > cluster?
> >
> > /isj
> >
> >
> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > riak-users mailing list
> > riak-users@lists.basho.com
> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> >
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> http://lists.basho.com/pipermail/riak-users\_lists.basho.com/attachments/20131202/1ab00e07/attachment-0001.html
> >
>
> ------------------------------
>
> Message: 2
> Date: Mon, 2 Dec 2013 22:04:39 -0800
> From: Alain Rodriguez 
> To: riak-users@lists.basho.com
> Subject: Riak in Node + Protobuf
> Message-ID:
> <
> cambnfraavluwf3rhynpah4oko\_qnwerm+yro7isvdhofwnv...@mail.gmail.com>
> Content-Type: text/plain; charset=ISO-8859-1
>
> Hi all,
>
> I am trying to connect to Riak using the Node.js library
> https://github.com/nlf/riakpbc, however many of my connections are
> failing with the error "Connection timeout". Is there a limit on the
> number of connections allowed over PB? I looked into tuning pb\_backlog
> but it didn't yield any results.
>
> As a comparison, I am able to open many concurrent connections via the
> HTTP interface on the same riak cluster.
>
> Is there another protobuf specific configuration that I might be missing?
>
> Cheers,
>
> Alain
>
>
>
> ------------------------------
>
> Message: 3
> Date: Tue, 03 Dec 2013 10:48:38 +0100
> From: Ingo Rockel 
> To: "riak-users@lists.basho.com" 
> Subject: critical config messages in riak-admin diag
> Message-ID: <529da8f6.50...@bluelionmobile.com>
> Content-Type: text/plain; charset=ISO-8859-15; format=flowed
>
> Hi,
>
> we just updated riak cluster to 1.4.2 from 1.3.0 and as suggested in the
> rolling upgrade docs I did a "riak-admin diag" and got the following
> messages:
>
> [root@37VQMW1 riak]# riak-admin diag
> [critical] net.core.wmem\_default is 229376, should be at least 8388608
> [critical] net.core.rmem\_default is 229376, should be at least 8388608
> [critical] net.core.wmem\_max is 131071, should be at least 8388608
> [critical] net.core.rmem\_max is 131071, should be at least 8388608
> [critical] net.core.netdev\_max\_backlog is 1000, should be at least 10000
>
> but according to the doc:
>
> http://docs.basho.com/riak/latest/ops/tuning/linux/
>
> these configs are optional and only help performance on a 10GB network
> (we only have 1GB). So should I change the values or leave them alone?
>
> Ingo
>
>
>
> ------------------------------
>
> Message: 4
> Date: Tue, 3 Dec 2013 08:27:47 -0500
> From: Matthew Von-Maszewski 
> To: Ingo Rockel 
> Cc: "riak-users@lists.basho.com" 
> Subject: Re: critical config messages in riak-admin diag
> Message-ID: 
> Content-Type: text/plain; charset=us-ascii
>
> Change them. Great for 1G too. I use the settings on all my servers, Basho
> and otherwise. None have 10g networks.
>
> Matthew
>
> Sent from my iPhone
>
> > On Dec 3, 2013, at 4:48 AM, Ingo Rockel 
> wrote:
> >
> > Hi,
> >
> > we just updated riak cluster to 1.4.2 from 1.3.0 and as suggested in the
> rolling upgrade docs I did a "riak-admin diag" and got the following
> messages:
> >
> > [root@37VQMW1 riak]# riak-admin diag
> > [critical] net.core.wmem\_default is 229376, should be at least 8388608
> > [critical] net.core.rmem\_default is 229376, should be at least 8388608
> > [critical] net.core.wmem\_max is 131071, should be at least 8388608
> > [critical] net.core.rmem\_max is 131071, should be at least 8388608
> > [critical] net.core.netdev\_max\_backlog is 1000, should be at least 10000
> >
> > but according to the doc:
> >
> > http://docs.basho.com/riak/latest/ops/tuning/linux/
> >
> > these configs are optional and only help performance on a 10GB network
> (we only have 1GB). So should I change the values or leave them alone?
> >
> > Ingo
> >
> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > riak-users mailing list
> > riak-users@lists.basho.com
> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
>
> ------------------------------
>
> Message: 5
> Date: Tue, 03 Dec 2013 15:38:48 +0100
> From: Ivan Skytte J?rgensen 
> To: Ryan Zezeski 
> Cc: riak-users Users 
> Subject: Re: Re: badrecord during transfer
> Message-ID: <19804875.qzdol3e...@isjsys.int.i1.dk>
> Content-Type: text/plain; charset="ISO-8859-1"
>
> On Monday 02 December 2013 18:10:32 Ryan Zezeski wrote:
> > Ivan,
> >
> > What makes you think the index is damaged?
>
> Only the mention of "badrec" which I would assume meant a damanged record.
>
> > From what I can see this is a
> > bug in the code assuming that a #ho\_acc record is always returned but in
> > fact an error tuple could also be returned. That error tuple could be
> > caused by index corruption but there is nothing in your email to say for
> > sure. Do you see any other errors in the log?
>
> Yes:
>
> [root@ip-10-196-50-172 riak]# tail error.log
>
> 2013-12-03 14:29:45.167 [error] <0.1833.0>@mi\_server:handle\_info:524
> lookup/range failure:
> {{nocatch,{error,iterate2,timeout\_waiting\_for\_continue}},[{mi\_server,iterate2,5,[{file,"src/mi\_server.erl"},{line,682}]}]}
> 2013-12-03 14:30:06.132 [error]
> <0.1909.0>@merge\_index\_backend:async\_fold\_fun:116 failed to iterate the
> index with reason
> {{nocatch,{error,iterate2,timeout\_waiting\_for\_continue}},[{mi\_server,iterate2,5,[{file,"src/mi\_server.erl"},{line,682}]}]}
> and partial acc
> {{ho\_acc,16,ok,#Fun,riak\_search\_vnode,<0.1832.0>,#Port<0.616405>,{502391187832497878132516661246222288006726811648,502391187832497878132516661246222288006726811648},{ho\_stats,{1386,80925,839128},undefined,4637,1071941},gen\_tcp,27777,43222372,[<<1,131,104,4,109,0,0,0,5,117,115,97,103,101,109,0,0,0,30,111,114,105,103,105,110,97,108,95,100,97,116,97,95,99,111,111,114,100,105,110,97,116,111,114,95,116,105,109,101,109,0,0,0,20,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,57,58,51,49,90,108,0,0,0,2,104,3,109,0,0,0,25,55,48,52,52,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,57,58,51,49,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,5,51,187,167,205,231,4,104,3,109,0,0,0,25,54,49,49,50,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,57,58,51,49,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,155,20,127,167,205,231,4,106>>,<<1,131,104,4,109,0,0,0,5,117,115,97,103,101,109,0,0,0,30,111,114,105,103,105,110,97,108,95,100,97,116,97,95,99,111,111,114,100,105,110,97,116,111,114,95,116,105,109,101,109,0,0,0,20,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,57,58,48,57,90,108,0,0,0,2,104,3,109,0,0,0,25,55,48,48,53,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,57,58,48,57,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,151,149,213,169,205,231,4,104,3,109,0,0,0,25,54,57,52,52,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,57,58,48,57,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,198,232,168,169,205,231,4,106>>,<<1,131,104,4,109,0,0,0,5,117,115,97,103,101,109,0,0,0,30,111,114,105,103,105,110,97,108,95,100,97,116,97,95,99,111,111,114,100,105,110,97,116,111,114,95,116,105,109,101,109,0,0,0,20,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,57,58,48,48,90,108,0,0,0,2,104,3,109,0,0,0,25,54,57,56,55,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,57,58,48,48,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,121,143,181,165,205,231,4,104,3,109,0,0,0,25,54,50,48,57,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,57,58,48,48,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,68,222,165,165,205,231,4,106>>,<<1,131,104,4,109,0,0,0,5,117,115,97,103,101,109,0,0,0,30,111,114,105,103,105,110,97,108,95,100,97,116,97,95,99,111,111,114,100,105,110,97,116,111,114,95,116,105,109,101,109,0,0,0,20,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,11,104,3,109,0,0,0,25,55,48,51,48,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,184,197,81,149,205,231,4,104,3,109,0,0,0,25,55,48,48,57,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,161,67,223,145,205,231,4,104,3,109,0,0,0,25,55,48,48,53,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,225,221,223,145,205,231,4,104,3,109,0,0,0,25,54,57,54,57,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,77,179,222,145,205,231,4,104,3,109,0,0,0,25,54,57,54,55,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,45,134,224,145,205,231,4,104,3,109,0,0,0,25,54,57,53,51,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,11,106,208,145,205,231,4,104,3,109,0,0,0,25,54,57,52,52,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,73,21,225,145,205,231,4,104,3,109,0,0,0,25,54,57,52,50,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,224,54,222,145,205,231,4,104,3,109,0,0,0,25,54,57,50,50,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,...>>,...],...},...}
> 2013-12-03 14:30:06.132 [error]
> <0.18468.37>@riak\_core\_handoff\_sender:start\_fold:269 hinted\_handoff
> transfer of riak\_search\_vnode from 'riak@10.196.50.172'
> 502391187832497878132516661246222288006726811648 to 'riak@10.197.0.55'
> 502391187832497878132516661246222288006726811648 failed because of
> error:{badrecord,ho\_acc}
> [{riak\_core\_handoff\_sender,start\_fold,5,[{file,"src/riak\_core\_handoff\_sender.erl"},{line,193}]}]
> 2013-12-03 14:35:32.546 [error] emulator Error in process <0.20961.37> on
> node 'riak@10.196.50.172' with exit value:
> {{nocatch,{error,iterate2,timeout\_waiting\_for\_continue}},[{mi\_server,iterate2,5,[{file,"src/mi\_server.erl"},{line,682}]}]}
>
>
> 2013-12-03 14:35:32.546 [error] <0.1833.0>@mi\_server:handle\_info:524
> lookup/range failure:
> {{nocatch,{error,iterate2,timeout\_waiting\_for\_continue}},[{mi\_server,iterate2,5,[{file,"src/mi\_server.erl"},{line,682}]}]}
> 2013-12-03 14:35:45.454 [error]
> <0.1908.0>@merge\_index\_backend:async\_fold\_fun:116 failed to iterate the
> index with reason
> {{nocatch,{error,iterate2,timeout\_waiting\_for\_continue}},[{mi\_server,iterate2,5,[{file,"src/mi\_server.erl"},{line,682}]}]}
> and partial acc
> {{ho\_acc,16,ok,#Fun,riak\_search\_vnode,<0.1832.0>,#Port<0.617641>,{502391187832497878132516661246222288006726811648,502391187832497878132516661246222288006726811648},{ho\_stats,{1386,81273,907256},undefined,4637,1071941},gen\_tcp,27777,43222372,[<<1,131,104,4,109,0,0,0,5,117,115,97,103,101,109,0,0,0,30,111,114,105,103,105,110,97,108,95,100,97,116,97,95,99,111,111,114,100,105,110,97,116,111,114,95,116,105,109,101,109,0,0,0,20,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,57,58,51,49,90,108,0,0,0,2,104,3,109,0,0,0,25,55,48,52,52,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,57,58,51,49,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,5,51,187,167,205,231,4,104,3,109,0,0,0,25,54,49,49,50,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,57,58,51,49,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,155,20,127,167,205,231,4,106>>,<<1,131,104,4,109,0,0,0,5,117,115,97,103,101,109,0,0,0,30,111,114,105,103,105,110,97,108,95,100,97,116,97,95,99,111,111,114,100,105,110,97,116,111,114,95,116,105,109,101,109,0,0,0,20,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,57,58,48,57,90,108,0,0,0,2,104,3,109,0,0,0,25,55,48,48,53,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,57,58,48,57,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,151,149,213,169,205,231,4,104,3,109,0,0,0,25,54,57,52,52,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,57,58,48,57,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,198,232,168,169,205,231,4,106>>,<<1,131,104,4,109,0,0,0,5,117,115,97,103,101,109,0,0,0,30,111,114,105,103,105,110,97,108,95,100,97,116,97,95,99,111,111,114,100,105,110,97,116,111,114,95,116,105,109,101,109,0,0,0,20,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,57,58,48,48,90,108,0,0,0,2,104,3,109,0,0,0,25,54,57,56,55,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,57,58,48,48,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,121,143,181,165,205,231,4,104,3,109,0,0,0,25,54,50,48,57,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,57,58,48,48,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,68,222,165,165,205,231,4,106>>,<<1,131,104,4,109,0,0,0,5,117,115,97,103,101,109,0,0,0,30,111,114,105,103,105,110,97,108,95,100,97,116,97,95,99,111,111,114,100,105,110,97,116,111,114,95,116,105,109,101,109,0,0,0,20,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,11,104,3,109,0,0,0,25,55,48,51,48,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,184,197,81,149,205,231,4,104,3,109,0,0,0,25,55,48,48,57,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,161,67,223,145,205,231,4,104,3,109,0,0,0,25,55,48,48,53,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,225,221,223,145,205,231,4,104,3,109,0,0,0,25,54,57,54,57,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,77,179,222,145,205,231,4,104,3,109,0,0,0,25,54,57,54,55,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,45,134,224,145,205,231,4,104,3,109,0,0,0,25,54,57,53,51,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,11,106,208,145,205,231,4,104,3,109,0,0,0,25,54,57,52,52,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,73,21,225,145,205,231,4,104,3,109,0,0,0,25,54,57,52,50,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,7,0,224,54,222,145,205,231,4,104,3,109,0,0,0,25,54,57,50,50,59,50,48,49,51,45,49,48,45,48,51,84,48,51,58,49,51,58,50,55,90,108,0,0,0,1,104,2,100,0,1,112,107,0,1,0,106,110,...>>,...],...},...}
> 2013-12-03 14:35:45.454 [error]
> <0.20959.37>@riak\_core\_handoff\_sender:start\_fold:269 hinted\_handoff
> transfer of riak\_search\_vnode from 'riak@10.196.50.172'
> 502391187832497878132516661246222288006726811648 to 'riak@10.197.0.55'
> 502391187832497878132516661246222288006726811648 failed because of
> error:{badrecord,ho\_acc}
> [{riak\_core\_handoff\_sender,start\_fold,5,[{file,"src/riak\_core\_handoff\_sender.erl"},{line,193}]}]
>
>
>
>
> ------------------------------
>
> Message: 6
> Date: Tue, 3 Dec 2013 09:02:28 -0600
> From: Sean Cribbs 
> To: Alain Rodriguez 
> Cc: riak-users 
> Subject: Re: Riak in Node + Protobuf
> Message-ID:
>  e2t31wwmdsauytedtnee4zffu7yxd7izoskn1stgxi...@mail.gmail.com>
> Content-Type: text/plain; charset="utf-8"
>
> First, make sure Riak is working properly, `riak-admin test` will do a
> get/put cycle to make sure your cluster is ok.
>
> Second, double-check what the protobuffs port is in your config file,
> usually 8087.
>
> The pb\_backlog will only be a problem when you are rapidly opening
> connections to the server, although we are bumping up the default to 128
> for Riak 2.0.
>
> Other than those initial guesses, this might be a problem in the library.
> Can you post the code you are using?
>
>
> On Tue, Dec 3, 2013 at 12:04 AM, Alain Rodriguez  wrote:
>
> > Hi all,
> >
> > I am trying to connect to Riak using the Node.js library
> > https://github.com/nlf/riakpbc, however many of my connections are
> > failing with the error "Connection timeout". Is there a limit on the
> > number of connections allowed over PB? I looked into tuning pb\_backlog
> > but it didn't yield any results.
> >
> > As a comparison, I am able to open many concurrent connections via the
> > HTTP interface on the same riak cluster.
> >
> > Is there another protobuf specific configuration that I might be missing?
> >
> > Cheers,
> >
> > Alain
> >
> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > riak-users mailing list
> > riak-users@lists.basho.com
> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> >
>
>
>
> --
> Sean Cribbs 
> Software Engineer
> Basho Technologies, Inc.
> http://basho.com/
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> http://lists.basho.com/pipermail/riak-users\_lists.basho.com/attachments/20131203/0cba444f/attachment-0001.html
> >
>
> ------------------------------
>
> Message: 7
> Date: Tue, 3 Dec 2013 11:49:22 -0500
> From: Ryan Zezeski 
> To: riak-users Users 
> Subject: [ANN] Yokozuna 0.12.0
> Message-ID:
>  wskeoiyzsghjiut8v5pz1av1ac...@mail.gmail.com>
> Content-Type: text/plain; charset="iso-8859-1"
>
> Riak Users,
>
> I'm happy to announce the Yokozuna 0.12.0 release today.
>
> This release integrates the new bucket type feature and adds the
> ability to migrate from Riak Search using AAE. Less disk space will be
> used per index and a slight bump in query performance may be
> noticed. Also, documentation was added on using Riak's new security
> features with Yokozuna. Finally, three breaking changes were
> made. There is some API rebranding, a change of the default field
> separator, and bucket type creation. More details can be found in the
> release notes.
>
> https://github.com/basho/yokozuna/blob/develop/docs/RELEASE\_NOTES.md#0120
>
> Given the number of breaking changes since the Riak 2.0.0pre5 release
> I recommended using the 0.12.0 source package until a new Riak
> pre-release is made. This way the documentation can be followed without
> trouble. See the install instructions for more detail.
>
>
> https://github.com/basho/yokozuna/blob/develop/docs/INSTALL.md#source-package
>
>
> -Z
> -------------- next part --------------
> An HTML attachment was scrubbed...
> URL: <
> http://lists.basho.com/pipermail/riak-users\_lists.basho.com/attachments/20131203/4e9501f9/attachment-0001.html
> >
>
> ------------------------------
>
> Subject: Digest Footer
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
> ------------------------------
>
> End of riak-users Digest, Vol 53, Issue 3
> \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

