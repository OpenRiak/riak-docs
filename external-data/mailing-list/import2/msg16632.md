---
title: "Re: Deleted keys come back"
description: ""
project: community
lastmod: 2015-10-08T05:13:55-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16632"
mailinglist_parent_id: "msg16617"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2015-10-08T05:13:55-0700
---


Seconded. This makes your cluster so fresh, so clean for new tests. 

For node in nodes 
 Stop node
 Do stuff (ie. delete data directory)
 Start node


That general pattern is known as rolling restarts and is more or less how Basho 
recommends doing maintenance on a Riak cluster. 

Regards,
-Alexander 

@siculars
http://siculars.posthaven.com

Sent from my iRotaryPhone

> On Oct 7, 2015, at 09:19, Dmitri Zagidulin  wrote:
> 
> Also, if you're deleting things for unit tests, there's an easier way. 
> Instead of deleting the bucket object-by-object, you can just stop the node, 
> and clear the bitcask (or leveldb) data directory. (That's going to get rid 
> of all the data in the cluster, which is what you want to do for unit tests 
> anyways.)

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

