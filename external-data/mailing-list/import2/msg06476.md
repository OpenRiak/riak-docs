---
title: "error: undef done()"
description: ""
project: community
lastmod: 2012-01-31T10:46:47-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06476"
author_name: "Matthew A. Brown"
project_section: "mailinglistitem"
sent_date: 2012-01-31T10:46:47-08:00
---


Hi all,

I'm seeing a strange error raised from an Erlang reduce phase. This
happens consistently with a certain set of inputs but I can't find any
difference between those inputs and myriad other sets of inputs that
produce no error. The error is simply:

[error] error:undef done()

The error message is followed by a dump of the reduce inputs which is,
sadly, truncated before the bit where it would give the call trace.

Our Erlang reduce code does not define or reference a function done(),
but I do note that this function is defined in riak\_kv:

https://github.com/basho/riak\_kv/blob/master/src/riak\_kv\_w\_reduce.erl#L163

So I'm wondering if this might be a bug in Riak itself? Has anyone ever seen it?

Thanks!
Mat

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

