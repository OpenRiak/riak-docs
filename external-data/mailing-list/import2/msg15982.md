---
title: "Re: non-indexable SOLR schema"
description: ""
project: community
lastmod: 2015-04-04T09:03:01-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15982"
mailinglist_parent_id: "msg15981"
author_name: "Alex De la rosa"
project_section: "mailinglistitem"
sent_date: 2015-04-04T09:03:01-0700
---


Uhm, interesting, I didn't see that page; I believe the one I saw was about
using Riak Search and that's where my assumption on needing to create an
index to make a bucket\_type came along.

Much easier though! Thanks!

Alex

On Saturday, April 4, 2015, Shawn Debnath  wrote:

> Riak does not in any way rely on solr for its KV operations. Not sure
> where you are seeing that or what code you are looking at but you can
> define bucket types, activate them without ever touching solr. The basic
> bucket type set up instructions can be found here:
> http://docs.basho.com/riak/latest/dev/advanced/bucket-types/.
>
> On 4/4/15, 8:51 AM, "Alex De la rosa"  > wrote:
>
> How to do that?
>
> For what I have seen, to use these special data types you need to create
> a bucket under a bucket\_type; and this bucket type is created following an
> index so data gets indexed in Solr.
>
> On Saturday, April 4, 2015, Shawn Debnath  > wrote:
>
>> You do not have to set up Yokozuna (yz) to be able to use counters,
>> sets, maps in Riak. Those types can be used independently via the Riak key
>> value store. You only need to set up the indexes if you were to search for
>> data via yz or search 2.0. And in that case, you can remove the generic
>> mappings, keep the \_yz specific ones and then explicitly add the fields you
>> want to index/search on.
>>
>> On 4/4/15, 7:25 AM, "Alex De la rosa"  wrote:
>>
>> Hi all,
>>
>> To be able to use counters/sets/maps in Riak I have to store the object
>> into a defined bucket\_type indexed via SOLR.
>>
>> However, this will require extra disk space as data will be indexed (if
>> using the default schema). Can I create a custom schema "ignoring" all
>> fields so nothing is indexed? I don't need to use Riak Search on these
>> objects, as I always know the KEY to fetch them. A schema like this would
>> work? ( I guess that I can not put [ indexed="false" ] in the "\_yz\*" fields
>> required by Riak, right? Or is it possible to not index that data either? )
>>
>> —+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—
>> xml version="1.0" encoding="UTF-8" ?
>> 
>> 
>> 
>> 
>> > multiValued="false" required="true"/>
>> > multiValued="false"/>
>> > multiValued="false"/>
>> > multiValued="false"/>
>> > multiValued="false"/>
>> > multiValued="false"/>
>> > multiValued="false"/>
>> > multiValued="false"/>
>> > multiValued="false"/>
>> 
>>
>> \_yz\_id
>>
>> 
>> > multiValued="true" class="solr.StrField" />
>> 
>> > sortMissingLast="true" />
>> 
>> 
>> —+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—
>>
>> Another question, can I use the [ compressed="true" ] to save disk
>> space? in both  and "\_yz\*" fields?
>>
>> Thanks,
>> Alex
>>
>>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

