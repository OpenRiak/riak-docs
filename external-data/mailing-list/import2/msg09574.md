---
title: "Re: M/R timeout"
description: ""
project: community
lastmod: 2012-12-13T22:15:49-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09574"
mailinglist_parent_id: "msg09533"
author_name: "Mark Phillips"
project_section: "mailinglistitem"
sent_date: 2012-12-13T22:15:49-08:00
---


Hi Venkatesh,

On Tue, Dec 11, 2012 at 11:22 PM, Venki Yedidha
 wrote:
> Hi All,
> I am getting error:timeout when I am trying to run an m/r job on 9600
> bucket/key pairs..I am writing m/r in javascript..I would like to know how I
> can improve the performance of an m/r job in general..I tried increasing
> timeout factor to 150000 but still the same error..I am running on a 3 node
> riak cluster.
>

Can we get a look at the js code? There might be a prebuilt erlang job
[1] or m/r util [2] that can do the same thing you're attempting.
There's also a 5s hardcoded timeout for any JS invocation that you
might be hitting.

Mark

[1] https://github.com/basho/riak\_kv/blob/master/src/riak\_kv\_mapreduce.erl
[2] https://github.com/whitenode/riak\_mapreduce\_utils

> Also, on what factor I need to multiply on :
>
> {map\_js\_vm\_count, 8 },
> {reduce\_js\_vm\_count, 6 },
> {hook\_js\_vm\_count, 2 }
>
> for better performance.
>
> Thanks,
> Venkatesh
>
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

