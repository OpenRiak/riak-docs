---
title: "Re: Riak crashes with dns in app.config- ip is ok"
description: ""
project: community
lastmod: 2011-12-20T05:53:35-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06008"
mailinglist_parent_id: "msg06007"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2011-12-20T05:53:35-08:00
---


This is a requirement for the HTTP socket - DNS may not adequately specify
an \*interface\*, but an IP address will. Use the IPv4 address in the
configuration.

On Tue, Dec 20, 2011 at 6:40 AM, Olve Hansen  wrote:

> Hi, I am testing Riak for the first time (on OS X Lion) but I am unable to
> use my hostname in the app.config. If I use my ip it is ok, but if I use a
> dns name specified in my /etc/hosts file it won't start. I tried to reip to
> the new node name as well.
>
> Whats up with that? The documentation states that this should be
> possible... Anything I have missed?
> Thanks,
> Olve
>
>
> mikkmac dev$ ./dev1/bin/riak console
> Exec:
> /Users/olve/utvikling/riak/source/riak-1.0.2/dev/dev1/erts-5.8.4/bin/erlexec
> -boot
> /Users/olve/utvikling/riak/source/riak-1.0.2/dev/dev1/releases/1.0.2/riak
> -embedded -config
> /Users/olve/utvikling/riak/source/riak-1.0.2/dev/dev1/etc/app.config
> -args\_file
> /Users/olve/utvikling/riak/source/riak-1.0.2/dev/dev1/etc/vm.args -- console
> Root: /Users/olve/utvikling/riak/source/riak-1.0.2/dev/dev1
> Erlang R14B03 (erts-5.8.4) [source] [64-bit] [smp:8:8] [rq:8]
> [async-threads:64] [hipe] [kernel-poll:true]
>
> 12:19:19.660 [info] Application lager started on node 'dev1@127.0.0.1'
> 12:19:19.687 [info] Application sasl started on node 'dev1@127.0.0.1'
> 12:19:19.692 [info] Application cluster\_info started on node '
> dev1@127.0.0.1'
> 12:19:19.708 [info] Application os\_mon started on node 'dev1@127.0.0.1'
> 12:19:19.712 [info] alarm\_handler:
> {set,{{disk\_almost\_full,"/Volumes/Timemachine"},[]}}
> 12:19:19.719 [info] Application crypto started on node 'dev1@127.0.0.1'
> \*\* Found 0 name clashes in code paths
> 12:19:19.788 [info] Application webmachine started on node 'dev1@127.0.0.1
> '
> 12:19:19.796 [info] Application riak\_sysmon started on node '
> dev1@127.0.0.1'
> 12:19:19.908 [error] Supervisor riak\_core\_sup had child
> [104,116,116,112,95,109,105,107,107,109,97,99,58,56,48,57,49] started with
> webmachine\_mochiweb:start([{name,"http\_mikkmac:8091"},{ip,"mikkmac"},{port,8091},{nodelay,false},{log\_dir,"log"},{backlog,128}...])
> at undefined exit with reason
> {'EXIT',{{badmatch,{error,einval}},[{mochiweb\_socket\_server,parse\_options,2},{mochiweb\_socket\_server,start,1},{supervisor,do\_start\_child,2},{supervisor,start\_children,3},{supervisor,init\_children,2},{gen\_server,init\_it,6},{proc\_lib,init\_p\_do\_apply,3}]}}
> in context start\_error
> 12:19:19.910 [info] Application riak\_core exited with reason:
> {shutdown,{riak\_core\_app,start,[normal,[]]}}
> 12:19:19.911 [info] alarm\_handler:
> {clear,{disk\_almost\_full,"/Volumes/Timemachine"}}
> {"Kernel pid
> terminated",application\_controller,"{application\_start\_failure,riak\_core,{shutdown,{riak\_core\_app,start,[normal,[]]}}}"}
>
> Crash dump was written to: log/erl\_crash.dump
> Kernel pid terminated (application\_controller)
> ({application\_start\_failure,riak\_core,{shutdown,{riak\_core\_app,start,[normal,[]]}}})
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>


-- 
Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://www.basho.com/
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

