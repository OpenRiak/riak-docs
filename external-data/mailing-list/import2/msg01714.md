---
title: "Re: Problem with fast track"
description: ""
project: community
lastmod: 2010-12-05T00:15:41-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01714"
mailinglist_parent_id: "msg01709"
author_name: "OJ Reeves"
project_section: "mailinglistitem"
sent_date: 2010-12-05T00:15:41-08:00
---


Hi guys,

If it helps, I've just tried the same here and I am experiencing the same
issue. So it's not just Bryan.

OJ


On Sun, Dec 5, 2010 at 2:41 PM, Bryan Nagle  wrote:

> Hi,
>
> I am new to Riak, and am trying to go through the fast track
> get familiar with it. However, I am running into a specific problem that I
> have not been able to find a solution for. I am trying this on two separate
> machines, both running ubuntu 10.04 64, and am having the exact same issue
> on both. I am following the fast track to the letter, and I have started
> over from scratch on my riak checkout (stop nodes, rm -rf riak, git clone)
> multiple times. I am currently stuck on this page:
> https://wiki.basho.com/display/RIAK/Building+a+Development+Environment
>
> From the stats:
>
> "ring\_ownership": "[{'d...@127.0.0.1',21},{'d...@127.0.0.1',21},{'
>> d...@127.0.0.1',22}]"
>
>
> First I run:
>
> $ curl -v -X PUT HTTP://127.0.0.1:8091/riak/images/1.jpg -H "Content-type:
>> image/jpeg" --data-binary @temp.jpg
>
> \* About to connect() to 127.0.0.1 port 8091 (#0)
>
> \* Trying 127.0.0.1... connected
>
> \* Connected to 127.0.0.1 (127.0.0.1) port 8091 (#0)
>
> > PUT /riak/images/1.jpg HTTP/1.1
>
> > User-Agent: curl/7.19.7 (x86\_64-pc-linux-gnu) libcurl/7.19.7
>> OpenSSL/0.9.8k zlib/1.2.3.3 libidn/1.15
>
> > Host: 127.0.0.1:8091
>
> > Accept: \*/\*
>
> > Content-type: image/jpeg
>
> > Content-Length: 5389
>
> > Expect: 100-continue
>
> >
>
> < HTTP/1.1 100 Continue
>
> < HTTP/1.1 204 No Content
>
> < Vary: Accept-Encoding
>
> < Server: MochiWeb/1.1 WebMachine/1.7.3 (participate in the frantic)
>
> < Date: Sun, 05 Dec 2010 04:32:58 GMT
>
> < Content-Type: image/jpeg
>
> < Content-Length: 0
>
> <
>
> \* Connection #0 to host 127.0.0.1 left intact
>
> \* Closing connection #0
>
>
> This does not return any errors, so I am assuming it is succeeding.
>
> I then attempt to get this image back - either from a web browser, or from
> curl, and I'm getting:
>
> $ curl HTTP://127.0.0.1:8091/riak/images/1.jpg
>
> 500 Internal Server
>> ErrorInternal Server Error
=====================

The server
>> encountered an error while processing this
>> request:  

```
[{webmachine_util,escape_quotes,
>
>       [{error,
>
>           {error,badarg,
>
>               [{dict,fetch,
>
>                    [<<"X-Riak-VTag">>,
>
>                     {dict,5,16,16,8,80,48,
>
>                         {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
>
>                         {{[],[],
>
>                           [[<<"Links">>]],
>
>                           [],[],
>
>                           [[<<"X-Riak-Tag">>,50,100,74,65,99,120,88,114,71,
>
>                             119,69,51,55,115,102,56,55,82,82,66,101,109]],
>
>                           [],[],[],[],
>
>
>>  [[<<"content-type">>,105,109,97,103,101,47,106,112,
>
>                             101,103]],
>
>                           [],[],
>
>
>>  [[<<"X-Riak-Last-Modified">>|{1291,523577,973790}]],
>
>                           [],
>
>                           [[<<"X-Riak-Meta">>]]}}}]},
>
>                {riak_kv_wm_raw,generate_etag,2},
>
>                {webmachine_resource,resource_call,3},
>
>                {webmachine_resource,do,3},
>
>                {webmachine_decision_core,resource_call,1},
>
>                {webmachine_decision_core,decision,1},
>
>                {webmachine_decision_core,handle_request,2},
>
>                {webmachine_mochiweb,loop,1}]}},
>
>       "\""]},
>
>  {webmachine_decision_core,decision,1},
>
>  {webmachine_decision_core,handle_request,2},
>
>  {webmachine_mochiweb,loop,1},
>
>  {mochiweb_http,headers,5},
>
>  {proc_lib,init_p_do_apply,3}]
```


---

mochiweb+webmachine web
>> server


>
>
> I have also tried uploading json. If I add "returnbody=true" to the url, I
> see the json body displayed at the end of the curl put command. However,
> when I try to access it afterwards, I get the exact same error as above. If
> anyone has any ideas about what is going on, I would greatly appreciate it.
>
> Thanks,
>
> Bryan Nagle
> Liquid Analytics
> bryan.na...@liquidanalytics.com
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>


-- 

OJ Reeves
http://buffered.io/
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

