---
title: "Re: API for Creation of Bucket Types"
description: ""
project: community
lastmod: 2014-10-14T08:11:13-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15035"
mailinglist_parent_id: "msg15032"
author_name: "John Kline"
project_section: "mailinglistitem"
sent_date: 2014-10-14T08:11:13-0700
---


Luke,

Docker interactive shells are only used when running a docker image locally
for testing. When running in production Docker images typically do not run
SSH server, making ssh connections to the running image impossible.

Isaac,
What you may consider doing is looking at using nsenter. This utility
allows you to switch to the containers namespace and execute commands from
within the container without forcing you to run ssh server and and init
process just to try and do riak-admin.

https://github.com/jpetazzo/nsenter

Cheers,
John


\*John Kline\*
P:314-495-3391 | E: jkl...@riotgames.com | sh: :(){ :|:& };:


On Tue, Oct 14, 2014 at 9:55 AM, Luke Bakken  wrote:

> Hi Isaac,
>
> Is the lack of shell access due to how you've configured Docker? I'm
> not familiar with it, however it does appear that access is possible:
>
> https://docs.docker.com/articles/basics/#running-an-interactive-shell
>
> Providing a bucket type API is planned for a future Riak 2.X release.
>
> --
> Luke Bakken
> Engineer / CSE
> lbak...@basho.com
>
>
> On Tue, Oct 14, 2014 at 12:41 AM, superstructor
>  wrote:
> > Hi all,
> >
> > I am running Riak 2.0.1 in a Docker container on each physical host in
> the
> > cluster.
> >
> > I need to programatically create bucket types from an application
> running in
> > a separate Docker container.
> >
> > This was easy before using Docker, as I would just execute the riak-admin
> > tool from my application.
> >
> > With Docker there is now no direct shell access possible between the Riak
> > container and the application container, so I cannot run riak-admin.
> >
> > Each container in Docker has a virtual ethernet interface with its own IP
> > address, so obviously I can still access the HTTP and Protobuf APIs
> remotely
> > from the application container.
> >
> > Is there any API available, or on the roadmap, to create bucket types ?
> >
> > If not how would you suggest I create bucket types in this situation ?
> >
> > Thanks,
> >
> > Isaac
> >
> >
> >
> >
> >
> > --
> > View this message in context:
> http://riak-users.197444.n3.nabble.com/API-for-Creation-of-Bucket-Types-tp4031932.html
> > Sent from the Riak Users mailing list archive at Nabble.com.
> >
> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > riak-users mailing list
> > riak-users@lists.basho.com
> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

