---
title: "Riak / Search via Python Client, no Results from Server"
description: ""
project: community
lastmod: 2012-05-22T13:46:56-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07508"
author_name: "claudef"
project_section: "mailinglistitem"
sent_date: 2012-05-22T13:46:56-07:00
---


Dear colleagues. 

Not able to run a pattern search through the Python query. The server 
search option was enabled with the true setting in the app.config file 
(line 165) and the server was restarted. Checking the Riak console log 
below, I see the search being started, but no results are returned to the 
client. My version is "git" built from source. 

Console Log
2012-05-22 15:07:50.853 [info] <0.7.0> Application riak\_search started on 
node 'riak@172.24.200.158'
2012-05-22 15:07:50.854 [info] <0.7.0> Application basho\_stats started on 
node 'riak@172.24.200.158'
2012-05-22 15:07:50.865 [info] <0.7.0> Application runtime\_tools started 
on node 'riak@172.24.200.158'
2012-05-22 15:07:50.866 [info] <0.7.0> Application public\_key started on 
node 'riak@172.24.200.158'
2012-05-22 15:07:50.882 [info] <0.7.0> Application ssl started on node 
'riak@172.24.200.158'
2012-05-22 15:07:50.944 [info] 
<0.1558.0>@riak\_core:wait\_for\_application:390 Wait complete for 
application riak\_search (0 seconds)
2012-05-22 15:07:51.034 [info] <0.1490.0>@riak\_core:wait\_for\_service:410 
Wait complete for service riak\_search (0 seconds)

Source code: Read all data starting with Capital Letter A, cEDO is the 
data field name 
try: 
 client = riak.RiakClient(host='xxxxxxxx')
 data\_bucket = client.bucket(bucketname) 
 mykeys = data\_bucket.get\_keys()
 howmany = len(mykeys) 
 print "How many keys in the bucket: "+ str(howmany) 
 search\_query = client.search(bucketname, 'cEDO:A\*')
 print "search query built" 
 resultset = search\_query.run()
 print "result entries found: " + str(len(resultset)) 

Processing log: 
How many keys in the bucket: 500
search query built
result entries found: 0

No further error message is thrown. 

ps .. Also the basic sample from the Python client documentation (bucket= 
'user') shows the same results, 0 entries found by the serach. 
 
http://basho.github.com/riak-python-client/tutorial.html#using-search

Thanks in advance for your insights. What's missing to start the Search 
feature, or is something missing in the Lucene syntax ? 

Regards, 
Claude


Claude Falbriard 
Certified IT Specialist L2 - Middleware
AMS Hortol√¢ndia / SP - Brazil
phone: +55 19 9837 0789
cell: +55 13 8117 3316
e-mail: clau...@br.ibm.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

