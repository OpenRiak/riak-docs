---
title: "Re: Difference between 2I and Search"
description: ""
project: community
lastmod: 2011-10-26T12:57:19-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05324"
mailinglist_parent_id: "msg05321"
author_name: "Soren Hansen"
project_section: "mailinglistitem"
sent_date: 2011-10-26T12:57:19-07:00
---


2011/10/26 Kresten Krab Thorup :
> Perhaps as follow-up FAQ-style questions, you could also answer these 
> questions:
>
> 1. What is the typical execution profile of 2i vs solr queries?  Do all 
> queries go to all nodes in the cluster, or does it depend on the query?  I 
> imagine that range-queries need to go to all vnodes, whereas simple 
> "prop=value" queries may be more directly to a node holding the given index.

2I uses document partitioning, so all queries must go to all nodes
(or, rather, enough nodes that it covers your entire data set (so for
N=3, around a third of your nodes)). Any and all index information
pertaining to a particular document is stored right alongside the
document itself.

Riak Search uses term partitioning, so a query for prop=value will
only need to look in a single index.

> 2. What is the reliability N,R,W / replication / failover properties of these 
> indexes?  How do the two different index types reconcile after a netsplit / 
> crash?

I don't believe 2I needs any special care to handle partitions and
cleaning up/reconciling after them. I don't know about your other
questions.

-- 
Soren Hansen        | http://linux2go.dk/
Ubuntu Developer    | http://www.ubuntu.com/
OpenStack Developer | http://www.openstack.org/

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

