---
title: "Re: Innostore crash - force recovery not working via innodump"
description: ""
project: community
lastmod: 2010-11-19T20:54:47-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01581"
mailinglist_parent_id: "msg01579"
author_name: "David Smith"
project_section: "mailinglistitem"
sent_date: 2010-11-19T20:54:47-08:00
---


On Fri, Nov 19, 2010 at 2:26 PM, Rudy X. Desjardins  wrote:
>
> I've tried to run innodump (from /priv in the innostore src/build dir)
> to dump the data with no luck - I get the same error message (first
> one, below) as when I just try to re-start the Riak node, unless I use
> -force\_recovery 6 (all other levels produce original error), which
> produces the second error below.

> Any ideas how I might go about fixing this, or should I assume that
> node/data is dead/lost and just re-initialize the innostore for this
> node from scratch?

Unfortunately, it looks look Inno is truly and irrevocably unhappy
here. Your best bet to is to assume the node is dead/lost and
re-initialize the innostore accordingly. Read-repair should take care
of rebuilding the missing data from other replicas over time.
Depending on your load profile and key access distribution, this may
impose additional load on your cluster as reads will generate writes
to repair the missing data.

Have you considered using bitcask? It has a slightly better recovery
story, imnsho... :)

D.

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

