---
title: "AAE problems"
description: ""
project: community
lastmod: 2014-06-17T09:47:42-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14320"
author_name: "Istv√°n"
project_section: "mailinglistitem"
sent_date: 2014-06-17T09:47:42-07:00
---


Hi guys,

I just noticed looking at the disk utilization that AAE is consuming a
significant amount of space on the hard drive.

du -hs /var/lib/riak/\*| grep anti
68G /var/lib/riak/anti\_entropy

The entire dataset is idempotent and immutable, so there is not even a
slightest chance that we are ending up with different values on
different nodes for the same key in the same bucket. It seems that
anti-entropy still finds problems:

/var/log/riak/console.log.4:2014-06-11 06:11:41.756 [info]
<0.6776.6003>@riak\_kv\_exchange\_fsm:key\_exchange:206 Repaired 1 keys
during active anti-entropy exchange of
{536645132457440915277915524513010171279912730624,3} between
{548063113999088594326381812268606132370974703616,'riak@10.1.11.120'}
and {559481095540736273374848100024202093462036676608,'riak@10.1.11.121'}

My question would be:

Is there any reason to let AAE running if we don't mutate the data in place?
Is there any way knowing what is causing the difference according to
AAE between two nodes? I was thinking about how this could potentially
happen and I am wondering if the Java client pb interface supports R
and W values, so I could make sure that a write goes in with W=(the
number of nodes we have).

Thanks in advance,
Istvan


-- 
the sun shines for all

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

