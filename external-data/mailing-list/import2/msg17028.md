---
title: "Re: epmd listener port"
description: ""
project: community
lastmod: 2016-02-17T04:05:30-0800
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17028"
mailinglist_parent_id: "msg17027"
author_name: "Damien Krotkine"
project_section: "mailinglistitem"
sent_date: 2016-02-17T04:05:30-0800
---


There is an easier way to do it, by using the advanced config file 
(usually /etc/riak/advanced.config )


Here is an example, where I use advanced.config to add a vm\_args 
configuration fields. So I suppose you could use the same syntax to add 
your -env option:


[
{vm\_args, [
{'-s my\_app', ""},
{'-s my\_other\_app', ""}
]}
].

Note to Basho people: this is not very well documented (if at all), and 
I've seen many people ask about it (be it for vm options, or adding 
paths, etc). It might be useful to ad some documentation section about it.


Cheers,
dams

Christopher Meiklejohn wrote:


On Tue, Feb 16, 2016 at 3:24 PM, David Byron wrote:


http://docs.basho.com/riak/latest/community/faqs/operations/#is-it-possible-to-change-the-port-on-which-the-erl
says to add

-env ERL\_EPMD\_PORT

to vm.args, but I get the sense from
http://docs.basho.com/riak/latest/ops/advanced/configs/configuration-files/
that the goal is to avoid vm.args in preference to riak.conf.

My struggle is that I don't see a way to set the epmd port listener via
riak.conf. Is there a way? If not, are the new/latest docs missing a
mention of the correct location for vm.args?




riak.conf is generated by the cuttlefish extension, which apparently
does not have control for environment variables [1], so, I don't
believe there is a way to do this out of the box. However, you could
modify the schema files to add this cuttlefish transformation [2], if
you want to, or you could call the Riak initialization commands with
the EPMD environment variable set.

[1] https://github.com/basho/cuttlefish/issues/135
[2] https://github.com/basho/riak/blob/develop/rel/files/riak.schema

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

