---
title: "Different results to same queries"
description: ""
project: community
lastmod: 2015-04-22T13:42:08-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16061"
author_name: "Sadykov Rustem"
project_section: "mailinglistitem"
sent_date: 2015-04-22T13:42:08-0700
---


Hello.
I'm testing riak 1.4.10 on 2 node cluster (on different servers), but result is 
same on 3 nodes cluster and on single node also.

I try to count records in my bucket and always get 3-4 different results.
Query is:

curl -XPOST http://localhost:8098/mapred -H 'Content-Type: application/json' -d 
'{"inputs":"account", "query":[{"reduce":{"language":"erlang", 
"module":"riak\_kv\_mapreduce", "function":"reduce\_count\_inputs", 
"arg":{"reduce\_phase\_batch\_size":1000} } }] }'

on every execution I get one of theese results (data on DB are not changing 
during tests):
[7321]
[6985]
[7339]

If I run same query on bigger bucket, then I can get 3-4 different results.

I tried to repair 2i indexes and repair partitions, but nothing helps.

Maybe someone can help me? How can I fix this strange behavior?

--
Rustem.\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

