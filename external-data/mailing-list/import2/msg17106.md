---
title: "Re: Continuous HTTP POSTs to Riak"
description: ""
project: community
lastmod: 2016-03-03T18:37:09-0800
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17106"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2016-03-03T18:37:09-0800
---


Hi Qiang,

Check out RYOW semantics in this blog post, part 2 of a 4 part series , 
http://basho.com/posts/technical/riaks-config-behaviors-part-2/ .

-Alexander 


@siculars
http://siculars.posthaven.com

Sent from my iRotaryPhone

> On Mar 3, 2016, at 20:12, Qiang Cao  wrote:
> 
> Thanks, Dave! I'm aware of Riak's eventual consistency. I wonder how I can 
> get Riak work in the way as I need. I'm in a situation where I expect the 
> immediate GET reads the value I've just posted. And the GET request isn't 
> sent out until the POST is done.
> 
> Thanks,
> -Qiang
> 
>> On Thu, Mar 3, 2016 at 6:53 PM, Dave King  wrote:
>> You need to google 'Eventual consistency'.
>> 
>> - Peace
>> Dave
>> 
>> 
>>> On Thu, Mar 3, 2016 at 4:23 PM, Qiang Cao  wrote:
>>> Hi All, 
>>> 
>>> I use Riak as a KV store and send http requests to its REST API to update 
>>> entries. Instead of using curl, I use Apache HttpClient to send requests.
>>> 
>>> One thing bothering me is that sometimes I find the entry isn't properly 
>>> updated after an HTTP POST/PUT. For example, if I do an HTTP GET on the 
>>> same key immediately after an HTTP POST, the chance is good that I get a 
>>> stale value. This happens when I continuously POST to a multi-node Riak, 
>>> and some of the posts target the same key.
>>> 
>>> Also, I find I don't have this issue if I use a single-node Riak. So I 
>>> think something wasn't correct with my multi-node Riak cluster (I set 
>>> "allow\_mult" to false). Any thoughts?
>>> 
>>> Thanks in advance!
>>> 
>>> Qiang
>>> 
>>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>> riak-users mailing list
>>> riak-users@lists.basho.com
>>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

