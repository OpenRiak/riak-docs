---
title: "Re: riak deployment"
description: ""
project: community
lastmod: 2010-08-12T09:43:14-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00874"
mailinglist_parent_id: "msg00871"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2010-08-12T09:43:14-07:00
---


- You can not tell riak where to place buckets.
- You could set the N val on a bucket to one, and you should in the case of 
your 'big bucket'. Otherwise you will get N replicas on the same physical host.
-Use linode. 512 > 256 = better.

But in reality , your use case doesnt mesh well with what riak is all about. 
distributed redundancy. I would use couchdb for your 'big bucket' of data. 
Couch uses a write only log (wol) filesystem with an incremental b-tree index 
for map reduce. This may work better for you.

-Alexander
 
On Aug 12, 2010, at 6:44 AM, Orlin Bozhinov wrote:

> I can easily wait for Riak Search to do this 
> http://groups.google.com/group/mongodb-user/browse\_thread/thread/c2563a8566591a30/b3d19f21675a899e
> - instead of mongodb. Does this deployment I have in mind make sense:
> 
> I'll get a medium (or large) Linode box for the big dataset bucket. 
> Hopefully you can give me an idea about how much RAM I'll need for that. 
> This is batch-generated data. It takes time to generate, but (once added) it 
> will not change. Because of that I'd like to save some money and not 
> replicate it. I plan to have 2 other small Linode servers and run a Riak 
> cluster of 3. Can I tell Riak to keep the big bucket exclusively on the big 
> server? It will be used only for queries. So if the server crashes, I can 
> just reboot it, expecting the same data back up. Because it's a single-node 
> bucket (if that's even possible to have in a cluster), I probably still won't 
> be "linking" to it from other buckets (so when it fails, the impact is 
> minimal). Or maybe I should keep it in a separate (single node) cluster 
> anyway? 
> 
> Cluster separation means I can run the smaller cluster elsewhere. The Joyent 
> + Riak news is very exciting! I couldn't afford to put the big bucket 
> dataset on it (another reason to have 2 clusters) and I'd have to go with the 
> smallest SmartMachines for starters. Would 256 MB RAM be good enough (just 
> for Riak)? What kind of load can that handle? I'm also tempted to just run 
> everything on Linode. It's about 3 times cheaper (as far memory goes) and 
> the upgrades are less dramatic. Would you recommend that (for low-budget)? 
> I imagine there will be an easy (Linode -> Joyent) Riak migration path... 
> 
> Orlin
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

