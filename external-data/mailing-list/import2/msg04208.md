---
title: "Re: Attempting to use secondary indexes"
description: ""
project: community
lastmod: 2011-08-03T21:03:06-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04208"
mailinglist_parent_id: "msg04207"
author_name: "Kelly McLaughlin"
project_section: "mailinglistitem"
sent_date: 2011-08-03T21:03:06-07:00
---


Craig,

The default backend is bit cask and if you want to use the indexes you'll need 
to look in etc/app.config in the release directory and change the value for the 
storage\_backend setting to riak\_kv\_index\_backend instead of 
riak\_kv\_bitcask\_backend. I suspect that's the problem. Cheers.

Kelly


On Aug 3, 2011, at 9:42 PM, Craig Muth wrote:

> I'm running the code example from 
> http://rusty.basho.com.s3.amazonaws.com/Presentations/2011-OSCONData-Portland.pdf
> 
> This succeeds:
> curl \
> -X PUT \
> -d "OPAQUE\_VALUE" \
> -H "x-riak-index-category\_bin: armor" \
> -H "x-riak-index-price\_int: 400" \
> http://127.0.0.1:8098/buckets/loot/keys/gauntlet24
> 
> This verifies it's getting there:
> curl http://127.0.0.1:8098/riak/loot/gauntlet24
> => OPAQUE\_VALUE
> 
> However, this finds nothing:
> curl http://127.0.0.1:8098/buckets/loot/index/category\_bin/eq/armor
> => {"keys":[]}
> 
> Whereas in the presentation it says it should return {"keys":["gauntlet24"]}
> 
> Any ideas? Just grabbed the latest from github master.
> 
> --Craig
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

