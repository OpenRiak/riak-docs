---
title: "power outage"
description: ""
project: community
lastmod: 2014-04-10T10:46:11-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14053"
author_name: "Gerlach, Sebastian"
project_section: "mailinglistitem"
sent_date: 2014-04-10T10:46:11-07:00
---


Dear mailing list,

Our prod riak cluster goes down with an power outage. We restartet riak an
found a lot of the following messages:

[error] <0.22012.0> Hintfile
'/var/lib/riak/bitcask/174124218510127105489110888272838406638695088128/142
.bitcask.hint' has bad CRC 28991324 expected 0
[error] <0.5063.0> Bad datafile entry, discarding(3450/46927 bytes)
'/var/lib/riak/bitcask/302576510853663494784356625523292968913142284288/140
.bitcask.hint' contains pointer 949927320 13881 that is greater than total
data size 949927936


Our Cluster contains 12 Server.
We run version 1.2.0-1 on Debian 6

We are not sure if the error are fixed by riak itself. We found an old
mailing list entry with the hint to run
"riak\_kv:repair(22835963083295358096932575511191922182123945984)."

We also checked the Dokumentaion and found:
http://docs.basho.com/riak/1.2.0/cookbooks/Repairing-KV-Indexes/ ">
[riak\_kv\_vnode:repair(P) || P <- Partitions]."

Both hints doesn't work on our system.

Have anyone some hints for me.

Thanks a lot

Sebastian


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

