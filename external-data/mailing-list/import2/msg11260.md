---
title: "Re: Single key - Multiple Buckets"
description: ""
project: community
lastmod: 2013-06-12T18:07:47-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11260"
author_name: "Mark Phillips"
project_section: "mailinglistitem"
sent_date: 2013-06-12T18:07:47-07:00
---


Hi Bren,


On Sat, May 11, 2013 at 8:06 PM, Bren Norris  wrote:

> I'm evaluating Riak for an implementation I have planned.
>
> I'd like to know if a single key can be referenced from multiple buckets
> as to create the following scenario:
>
> johnsFriends contains bettysProfile
> davesFriends contains bettysProfile
> betty contains bettysProfile
>
> betty updates profile and all inferences to the profile receive the
> benefit of that update.
>
> Basically, not to dissimilar to an object reference, and if you know LDAP,
> very similar to "Aliases".
>
>
>
This wouldn't be possible in the way you're envisioning it. Keys are unique
to buckets. That said, one way you might do it:

# Store pointers to friends as part of the profile object.

bucket = profile
key = john-profile
value = {name:, }
 {location:, }
 .
 .
 {friends:
 {Name, betty\_profile}
 {Name, cmeik\_profile}
 }

This would get problematic when that profile object got too big, but if the
number of friends was bounded (doubtful) or you were OK with writing a new
object after it hit a given size, you could do it this way.

Hope that helps.

Mark
twitter.com/pharkmillups




> Thanks guys.
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

