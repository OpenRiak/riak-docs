---
title: "Erlang Map/Reduce error"
description: ""
project: community
lastmod: 2011-10-04T02:00:52-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05018"
author_name: "Lyes Amazouz"
project_section: "mailinglistitem"
sent_date: 2011-10-04T02:00:52-07:00
---


Hi everybody,

I'm learning how to execute a map/reduce using the riak\_client module, so I
tried this:

>Map = fun(O, undefined, none) -> [riak\_object:get\_value(O)] end.
>C:mapred([{<<"buck">>, <<"key1">>}, {<<"buck">>, <<"key2">>}], [{map,
{qfun, Map}, none, true}]).

but I got this error:

{error,{error,{badfun,#Fun},
 [{riak\_kv\_mapper,run\_map,9},
 {riak\_kv\_mapper,'-do\_map/2-fun-0-',9},
 {lists,foldl,3},
 {riak\_kv\_mapper,do\_map,2},
 {gen\_fsm,handle\_msg,7},
 {proc\_lib,init\_p\_do\_apply,3}]}}

What is wring with my code??
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

