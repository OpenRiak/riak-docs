---
title: "Re: riak kv search and analyzers"
description: ""
project: community
lastmod: 2012-11-12T07:22:20-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09286"
mailinglist_parent_id: "msg09284"
author_name: "Thomas Santero"
project_section: "mailinglistitem"
sent_date: 2012-11-12T07:22:20-08:00
---


Hi Mridul,

When you integrate riak\_kv with riak\_search the index name and the bucket
name will be the same. I was mistaken and assumed that this was explicit in
the documentation, however it is not. (will be changing this shortly).

Once you have written the appropriate schema file, as discussed earlier,
from the command line you can simply run:

bin/search-cmd set-schema index schemafile

where index == your bucket name && schemafile is the file containing the
schema you have defined.

Note: if you change the schema for a bucket that contains documents that
have already been indexed you will need to re-index them in order for the
new schema to affect those objects.

Hope this helps.

Tom

On Sun, Nov 11, 2012 at 3:40 AM, Mridul Kashatria wrote:

> Hi Tom,
>
> I saw that documentation but it is not clear how to define that schema on
> auto-indexed key value search.
>
> The commands given are below
>
> # Set an index schema.
> bin/search-cmd set-schema Index SchemaFile
> # View the schema for an Index.
> bin/search-cmd show-schema Index
>
>
> I don't know what is "Index" in this context, is it the bucket name?
>
> I did "search-cmd install " to add a pre commit hook to that
> bucket.
>
> Thanks
>
> --
> Mridul
>
>
> On 11-Nov-2012, at 1:20 AM, Thomas Santero wrote:
>
> Hi Mridul,
>
> The standard analyzer will automatically convert all letters to lowercase,
> so all you need to do is create a custom schema for your JSON field names
> using {analyzer\_factory, {erlang, text\_analyzers,
> standard\_analyzer\_factory}} and set the schema as it described in the
> documentation[0].
>
> [0]
> http://docs.basho.com/riak/latest/cookbooks/Riak-Search---Schema/#Defining-aSchema
>
> Tom
>
> On Sat, Nov 10, 2012 at 2:39 PM, Mridul Kashatria wrote:
>
>> Hi,
>>
>> I was trying Riak's auto-indexed search on a bucket using the standard
>> pre commit hook. The JSON objects that I save have title and description
>> fields which need to be treated as full text search.
>>
>> Problem is that I could not find how to do case insensitive full text
>> search on the bucket. In the document at
>> http://docs.basho.com/riak/latest/cookbooks/Riak-Search---Schema/ I can
>> see that "standard analyzer" is what is required for full text search. How
>> can I set this analyzer in the Riak key value search?
>>
>> Regards
>>
>> --
>>
>> Mridul
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>
>
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

