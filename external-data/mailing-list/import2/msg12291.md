---
title: "Re: member-status pending section"
description: ""
project: community
lastmod: 2013-09-17T23:40:47-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12291"
mailinglist_parent_id: "msg12286"
author_name: "Thomas Stein"
project_section: "mailinglistitem"
sent_date: 2013-09-17T23:40:47-07:00
---


On Tuesday 17 September 2013 17:32:33 you wrote:
> Hi Thomas,
> 
> host / # riak-admin member-status 
> ================================= Membership 
> ================================== 
> Status Ring Pending Node 
> ----------------------------------------------------------------------------
> --- valid 37.5% 34.4% 'ri...@10.xxx'
> valid 32.8% 32.8% 'ri...@10.xxx' 
> valid 29.7% 32.8% 'ri...@10.xxx' 
> ----------------------------------------------------------------------------
> --- Valid:3 / Leaving:0 / Exiting:0 / Joining:0 / Down:0
> 
> Is the pending section not supposed to be 0%? 
> Pending is what it will look like when transfers are complete. Once the
> cluster is done transferring partitions it will display "--" instead of a
> percentage.
> 
> riak-admin transfers looks suspicious too. 
> 
> 'ri...@10.xxx' waiting to handoff 3 partitions 
> 'ri...@10.xxx' waiting to handoff 3 partitions 
> 'ri...@10.xxx' waiting to handoff 5 partitions 
> 
> Active Transfers: 
> 
> transfer type: ownership\_transfer 
> vnode type: riak\_kv\_vnode 
> partition: 1210306043414653979137426502093171875652569137152 
> started: 2013-09-17 21:14:55 [20.78 s ago] 
> last update: no updates seen 
> total size: unknown 
> objects transferred: unknown 
> 
> unknown 
> ri...@10.xxx =======> ri...@10.xxx 
> 
> | | 0% 
> 
> unknown 
> 
> transfer type: ownership\_transfer 
> vnode type: riak\_kv\_vnode 
> partition: 936274486415109681974235595958868809467081785344 
> started: 2013-09-17 21:15:05 [10.78 s ago] 
> last update: no updates seen 
> total size: unknown 
> objects transferred: unknown 
> 
> unknown 
> ri...@10.xxx =======> ri...@10.xxx 
> 
> | | 0% 
> 
> unknown 
> 
> Is there a way to repair this? 
> Is it stuck at 0%? 

Yes.
 
> Can you provide the output of `riak-admin ring-status` and `riak-admin
> transfer\_limit` ?

Here we go.

host / # riak-admin ring-status
================================== Claimant 
=================================== 
 
Claimant: 'ri...@10.xxx' 
 
Status: up 
 
Ring Ready: true

============================== Ownership Handoff 
==============================
Owner: ri...@10.xxx
Next Owner: ri...@10.xxx

Index: 936274486415109681974235595958868809467081785344
 Waiting on: [riak\_kv\_vnode]
 Complete: [riak\_pipe\_vnode]

Index: 1210306043414653979137426502093171875652569137152
 Waiting on: [riak\_kv\_vnode]
 Complete: [riak\_pipe\_vnode]

-------------------------------------------------------------------------------

============================== Unreachable Nodes 
==============================
All nodes are up and reachable

host / # riak-admin transfer-limit
=============================== Transfer Limit 
================================
Limit Node
-------------------------------------------------------------------------------
 2 'ri...@10.xxx'
 2 'ri...@10.xxx'
 1 'ri...@10.xxx'
-------------------------------------------------------------------------------
Note: You can change transfer limits with 'riak-admin transfer\_limit '
 and 'riak-admin transfer\_limit  '

Do i have to raise the transfer limit? Last time i did this the impact was 
pretty much high.

cheers
t.

> 
> 
> Thanks,
> Alex


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

