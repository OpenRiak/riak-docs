---
title: "Re: changing bucket default settings"
description: ""
project: community
lastmod: 2011-09-01T08:48:13-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04563"
mailinglist_parent_id: "msg04562"
author_name: "Jonathan Langevin"
project_section: "mailinglistitem"
sent_date: 2011-09-01T08:48:13-07:00
---


Appears you have the props in the wrong location.
Haven't tested, but try this:

https://gist.github.com/1186453
\*

 
 Jonathan Langevin
Systems Administrator
Loom Inc.
Wilmington, NC: (910) 241-0433 - jlange...@loomlearning.com -
www.loomlearning.com - Skype: intel352
\*


On Thu, Sep 1, 2011 at 11:28 AM, Giancarlo Frison wrote:

> Sure, I've just added the default\_bucket\_props to the default app.config
>
> https://gist.github.com/1186421
>
> Giancarlo Frison
>
>
>
> On Thu, Sep 1, 2011 at 5:21 PM, Dan Reverri  wrote:
>
>> What does your app.config file look like? Can you provide a pastie/gist of
>> it?
>>
>> Thanks,
>> Dan
>>
>> Daniel Reverri
>>
>> Developer Advocate
>> Basho Technologies, Inc.
>> d...@basho.com
>>
>>
>>
>> On Thu, Sep 1, 2011 at 7:48 AM, Giancarlo Frison wrote:
>>
>>> Hi Alexander,
>>>
>>> I shutdown riak, delete data/ folder, add default settings entity on
>>> app.config, finally started riak.
>>>
>>> I assumed that deleting data/ folder erase everything, isn't it?
>>>
>>> Thanks,
>>>
>>> Giancarlo Frison
>>>
>>>
>>>
>>> On Thu, Sep 1, 2011 at 4:21 PM, Alexander Sicular wrote:
>>>
>>>> Did you write to test before you changed the default?
>>>>
>>>> @siculars
>>>> http://siculars.posterous.com
>>>>
>>>> Sent from my rotary phone.
>>>> On Sep 1, 2011 9:51 AM, "Giancarlo Frison"  wrote:
>>>> > Hi Sean,
>>>> >
>>>> > I setup only default\_bucket\_props. no custom buckets settings.
>>>> >
>>>> > any hints?
>>>> >
>>>> > Thanks!
>>>> >
>>>> > Giancarlo Frison
>>>> >
>>>> >
>>>> >
>>>> > On Thu, Sep 1, 2011 at 2:24 PM, Sean Cribbs  wrote:
>>>> >
>>>> >> Giancarlo,
>>>> >>
>>>> >> Did you set a bucket property on the 'test' bucket before setting the
>>>> >> defaults? If so, then the defaults at that time got merged with the
>>>> property
>>>> >> you set and stored in the ring state, making the new default props
>>>> have no
>>>> >> effect on them.
>>>> >>
>>>> >> On Thu, Sep 1, 2011 at 4:02 AM, Giancarlo Frison >>> >wrote:
>>>> >>
>>>> >>> Hi all,
>>>> >>>
>>>> >>> I'm trying to change the bucket default settings on app.config, I
>>>> insert
>>>> >>> these row find on http://wiki.basho.com/Configuration-Files.html :
>>>> >>>
>>>> >>> {default\_bucket\_props, [{n\_val,1},
>>>> >>> {allow\_mult,false},
>>>> >>> {last\_write\_wins,false},
>>>> >>> {precommit, []},
>>>> >>> {postcommit, []},
>>>> >>> {chash\_keyfun, {riak\_core\_util, chash\_std\_keyfun}},
>>>> >>> {linkfun, {modfun, riak\_kv\_wm\_link\_walker, mapreduce\_linkfun}}]}
>>>> >>>
>>>> >>> I just update n\_val to 1.
>>>> >>>
>>>> >>> I shutdown riak, drop the data/ folder and start riak. Seems the new
>>>> >>> config isn't apply because I get n\_val=3 again:
>>>> >>>
>>>> >>> curl http://localhost:8098/riak/test
>>>> >>>
>>>> >>>
>>>> {"props":{"name":"test","n\_val":3,"allow\_mult":false,"last\_write\_wins":false,"precommit":[],"postcommit":[],"chash\_keyfun":{"mod":"riak\_core\_util","fun":"chash\_std\_keyfun"},"linkfun":{"mod":"riak\_kv\_wm\_link\_walker","fun":"mapreduce\_linkfun"},"old\_vclock":86400,"young\_vclock":20,"big\_vclock":50,"small\_vclock":10,"r":"quorum","w":"quorum","dw":"quorum","rw":"quorum"}}
>>>> >>>
>>>> >>> How I can change the bucket settings?
>>>> >>>
>>>> >>> Thanks
>>>> >>>
>>>> >>> @gfrison
>>>> >>>
>>>> >>>
>>>> >>>
>>>> >>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>>> >>> riak-users mailing list
>>>> >>> riak-users@lists.basho.com
>>>> >>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>>> >>>
>>>> >>>
>>>> >>
>>>> >>
>>>> >> --
>>>> >> Sean Cribbs 
>>>> >> Developer Advocate
>>>> >> Basho Technologies, Inc.
>>>> >> http://www.basho.com/
>>>> >>
>>>> >>
>>>>
>>>
>>>
>>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>> riak-users mailing list
>>> riak-users@lists.basho.com
>>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>>
>>>
>>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

