---
title: "Re: Java client stats question"
description: ""
project: community
lastmod: 2013-07-25T08:21:15-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11755"
mailinglist_parent_id: "msg11740"
author_name: "Brian Roach"
project_section: "mailinglistitem"
sent_date: 2013-07-25T08:21:15-07:00
---


Guido -

Right now, no.

We've been having some internal discussions around that topic and
whether it's really a "client library" operation or not.

How are you using stats? Is it for a monitoring app or ... ?

Thanks,
Brian Roach

On Thu, Jul 25, 2013 at 4:25 AM, Guido Medina  wrote:
> Hi,
>
> Is there a way to get the JSON stats via PBC? This is how we are doing it
> now, we would like to get rid of any HTTP call, currently, this is the only
> call being made to HTTP:
>
> private void collectNodeInfo(final PBClientConfig clientConfig)
> {
> ...
> RiakClusterStats stats=null;
> try{
> stats=new RiakClusterStats();
> HttpClient client=new DefaultHttpClient();
> HttpGet g=new HttpGet("http://" + clientConfig.getHost() +
> ":8098/stats");
> HttpResponse resonse=client.execute(g);
> JSONObject statsMap;
> InputStream contentStream=null;
> try{
> contentStream=resonse.getEntity().getContent();
> JSONTokener tok=new JSONTokener(contentStream);
> statsMap=new JSONObject(tok);
> stats.addNode(clientConfig.getHost(),statsMap);
> } finally{
> if(contentStream != null){
> contentStream.close();
> }
> }
> } catch(Exception e){
> log.error("Huh? Exception when ",e);
> }
> lastClusterStats=stats;
> }
>
>
> Kind regards,
>
> Guido.
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

