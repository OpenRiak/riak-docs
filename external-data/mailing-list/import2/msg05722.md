---
title: "Re: Integrating Riak"
description: ""
project: community
lastmod: 2011-11-23T08:09:10-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05722"
mailinglist_parent_id: "msg05719"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2011-11-23T08:09:10-08:00
---


That came off a bit harshly, let me rephrase. If you're building an
application that is a client of Riak KV/Search/Etc, depend on the client
libraries and keep Riak separate -- for all of those reasons Dave
mentioned. If your application is a Riak Core app, then the decision is a
bit more fuzzy, a call you'll have to make yourself.

The other reason we discourage people from directly embedding Riak in their
application (or vice versa) is that we know about and can help debug issues
in Riak when no other code is embedded; once your application is embedded
in Riak, the operational characteristics are less well-known and we may be
unable to help you debug problems you encounter. Also, there are a lot of
internal APIs that you may be tempted to use should your application be
inside of Riak, ones that may produce results that are less than expected.
The external interfaces are more circumscribed and have known
characteristics.

Again, apologies for curt response before.

On Wed, Nov 23, 2011 at 10:59 AM, Sean Cribbs  wrote:

> Do you embed PostgreSQL or Oracle in your application? Generally you don't
> (sqlite3 aside). This is the same concept. Depend on the client library,
> not the database.
>
>
> On Wed, Nov 23, 2011 at 10:57 AM, Andy Skelton  wrote:
>
>> This is the answer I hoped not to read. You might call it a premature
>> optimizationbut I believe it is reasonable to try to create a
>> distributed Erlang app with Riak as a dependency.
>>
>> I've been hacking on a Riak fork that twiddles the rebar and reltool
>> configs to shoehorn my own code into the same VM. That part is awkward
>> but not impossible.
>>
>> I was hoping you'd say Basho was working on an easy way to include
>> Riak as a rebar dep without forking as I did.
>>
>> Andy
>>
>> On Tue, Nov 22, 2011 at 11:31 PM, David Smith  wrote:
>> > On Tue, Nov 22, 2011 at 4:36 PM, Andrew Berman 
>> wrote:
>> >> 4. Does it make more sense to just install a riak package and use the
>> >> erlang pb client? Seems like it would be less efficient especially
>> since
>> >> these will live on the same machine.
>> >
>> > This is the preferred way to attack this problem. Separation of the
>> > functionality by O/S processes is appropriate and much easier to
>> > reason about in error situations. Loopback sockets to the PBs
>> > interface should be within a 1 ms of total request handling time.
>> >
>> > D.
>> >
>> > --
>> > Dave Smith
>> > Director, Engineering
>> > Basho Technologies, Inc.
>> > diz...@basho.com
>> >
>> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> > riak-users mailing list
>> > riak-users@lists.basho.com
>> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>> >
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>
>
>
> --
> Sean Cribbs 
> Developer Advocate
> Basho Technologies, Inc.
> http://www.basho.com/
>
>


-- 
Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://www.basho.com/
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

