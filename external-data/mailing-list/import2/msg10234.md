---
title: "Re: Beginners performance problem"
description: ""
project: community
lastmod: 2013-02-24T10:53:05-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10234"
mailinglist_parent_id: "msg10228"
author_name: "Lars J. Nilsson"
project_section: "mailinglistitem"
sent_date: 2013-02-24T10:53:05-08:00
---


Oh, hallelujah! That got me up to approx 1200 mods/second. Thank you! Now
I'm confident enough to move on to cluster-testing.

Cheers
/Lars J. Nilsson
Executive VP, Cubeia Ltd
+46 (0) 704 / 10 69 53


On 24 February 2013 18:59, Brian Roach  wrote:

>
> One issue that immediately stands out:
>
> > >>>
> > Bucket bucket = sharedClient.createBucket("accounts1").execute();
> > bucket.store(a.getId().toString(),
> mapper.writeValueAsString(a)).execute();
> > >>>
>
> 'CreateBucket()' is doing a fetch of the bucket properties and then
> storing them back to the cluster when 'execute()' is called.
>
> You want to fetch the bucket once then pass around the reference to it, or
> at the very least use:
> fetchBucket("accounts1").lazyLoadBucketProperties().execute();
> Inside your threads.
>
> The only time you ever want to use createBucket() is when you want to
> modify the bucket properties.
>
> - Roach
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

