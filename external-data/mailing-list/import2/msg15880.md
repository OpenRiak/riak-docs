---
title: "Re: Different numFound request to riak search"
description: ""
project: community
lastmod: 2015-03-12T06:41:46-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15880"
mailinglist_parent_id: "msg15879"
author_name: "Zeeshan Lakhani"
project_section: "mailinglistitem"
sent_date: 2015-03-12T06:41:46-0700
---


Hello Roma, 

Have you deleted this object at some point in your runs? Please make sure AAE 
is running by checking search’s AAE status, `riak-admin search aae-status`, and 
that data exists in the correct directory, `./data/yz\_anti\_entropy` 
(http://docs.basho.com/riak/latest/ops/advanced/configs/search/). You may just 
need to perform a read-repair by performing a fetch of the object itself first, 
before performing search queries again.

Also, have you left or added nodes? I’m guessing that even your 1 node 
instance is still running a cluster on that one node, right?

Thanks.

Zeeshan Lakhani
programmer | 
software engineer at @basho | 
org. member/founder of @papers\_we\_love | paperswelove.org
twitter => @zeeshanlakhani

> On Mar 12, 2015, at 5:59 AM, Roma Lakotko  wrote:
> 
> Each request to riak search return different results. It's return different 
> numFound.
> 
> I use request like this:
> 
> http://localhost:8098/search/query/assets?wt=json&q=type:\*&sort=\_yz\_rk%20asc 
> 
> 
> If add start offset it can return:
> 
> http://localhost:8098/search/query/assets?wt=json&q=type:\*&sort=\_yz\_rk%20asc&start=1247
> 
> 
> "response": {
> "numFound": 1248,
> "start": 1247,
> "docs": [
> {
> "\_yz\_id": 
> "1\*default\*assets\*fff63ecf-a0c4-4ecf-b24d-c493ca3a302f\*44",
> "\_yz\_rk": "fff63ecf-a0c4-4ecf-b24d-c493ca3a302f",
> "\_yz\_rt": "default",
> "\_yz\_rb": "assets"
> }
> ]
> }
> 
> On next request it return something like this
> 
> "numFound": 1224,
> "start": 1247,
> "docs": []
> 
> I have 1 node installation, and no process write to Riak.
> I have same problem this production cluster with 7 nodes.
> 
> Scheme for document
> 
> xml version="1.0" encoding="UTF-8" ?
> 
> 
>  stored="false" />
> 
>  stored="false" />
> 
>  stored="false" />
>  stored="false" multiValued="true" />
> 
>  stored="false" />
>  stored="false" />
> 
> 
> 
> 
>  multiValued="false" required="true"/>
>  multiValued="false"/>
>  multiValued="false"/>
>  multiValued="false"/>
>  multiValued="false"/>
>  multiValued="false"/>
>  multiValued="false"/>
>  multiValued="false"/>
>  multiValued="false"/>
> 
> 
> 
> 
> \_yz\_id
> 
> 
> 
>  omitNorms="true"/>
>  sortMissingLast="true" omitNorms="true"/>
>  omitNorms="true"/>
> 
>  omitNorms="true"/>
> 
>  class="solr.StrField" />
>  omitNorms="true">
> 
> 
> 
>  replacement='е' replace='all'/>
> 
>  
> 
> 
> 
> Best regards,
> Roman
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

