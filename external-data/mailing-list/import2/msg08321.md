---
title: "Re: Riak Search. Ranges. Integer Analyzer Factory."
description: ""
project: community
lastmod: 2012-08-19T16:03:47-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08321"
mailinglist_parent_id: "msg08320"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2012-08-19T16:03:47-07:00
---


Ints are stored as 10 char padded strings. So int:11 is "0000000011". So 200 to 
400 would be like [0000000200 TO 0000000400]. Try that. 


@siculars
http://siculars.posterous.com

Sent from my iRotaryPhone

On Aug 19, 2012, at 18:11, Vladimir Shapovalov  wrote:

> Hi all,
> 
> Does anybody know, how to query integers with wildcards and ranges? Currently 
> I can get result with exact match only.
> 
> I've definded keynames with suffix \_int (price\_int).
> I use integer\_analyzer\_factory:
> ...
> {dynamic\_field, [
> {name, "\*\_int"},
> {type, integer},
> {analyzer\_factory, {erlang, text\_analyzers, 
> integer\_analyzer\_factory}}
> ]},
> ...
> 
> I use curl for:
> 
> $: curl --globoff -v 
> "http://localhost:8098/solr/bucket/select?wt=json&start=0&rows=0&q=price\_int:[100
> TO 200]" - no results.
> 
> $: curl --globoff -v 
> "http://localhost:8098/solr/bucket/select?wt=json&start=0&rows=0&q=price\_int:20\*"
> - no results.
> 
> But if I change query to "q=price\_int:200" I get result as expected. 
> 
> $: curl --globoff -v 
> "http://localhost:8098/solr/bucket/select?wt=json&start=0&rows=0&q=price\_int:200"
> - is available.
> 
> So there is definitelly a key with price:200 stored.
> 
> Could someone tell me what I'm doing wrong and how to deal with integers in 
> riak-context correctly?
> 
> Thanks a lot in advance!
> Vladimir
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

