---
title: "Joining node answers to requests"
description: ""
project: community
lastmod: 2016-09-20T05:49:18-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17657"
author_name: "Guillaume Boddaert"
project_section: "mailinglistitem"
sent_date: 2016-09-20T05:49:18-0700
---



Hi,

I'm currently adding two new node to my production. Yet, they seems to 
answer my requests while joining. I have strange answers with bad prop 
types for my bucket (index\_name in my case).


admin@riak-1:~$ sudo riak-admin member-status
================================= Membership 
==================================

Status Ring Pending Node
-------------------------------------------------------------------------------
joining 0.0% -- 'r...@riak-4.riak.wisel.io'
joining 0.0% -- 'r...@riak-5.riak.wisel.io'
valid 32.8% -- 'r...@riak-1.riak.wisel.io'
valid 34.4% -- 'r...@riak-2.riak.wisel.io'
valid 32.8% -- 'r...@riak-3.riak.wisel.io'
-------------------------------------------------------------------------------
Valid:3 / Leaving:0 / Exiting:0 / Joining:2 / Down:0

This is a sample response from python when a ask for properties, 
index\_name is missing and the claimant is riak-4


{'n\_val': 2, 'r': 'quorum', 'dw': 'quorum', 'pr': 0, 'claimant': 
'r...@riak-4.riak.wisel.io', 'w': 'quorum', 'precommit': [], 
'dvv\_enabled': True, 'big\_vclock': 50, 'last\_write\_wins': False, 
'notfound\_ok': True, 'basic\_quorum': False, 'linkfun': {'fun': 
'mapreduce\_linkfun', 'mod': 'riak\_kv\_wm\_link\_walker'}, 'pw': 0, 
'small\_vclock': 50, 'rw': 'quorum', 'young\_vclock': 20, 'chash\_keyfun': 
{'fun': 'chash\_std\_keyfun', 'mod': 'riak\_core\_util'}, 'allow\_mult': 
True, 'datatype': 'map', 'active': True, 'postcommit': [], 'old\_vclock': 
86400}


I'm pretty sure I first reached one of my 3 valid nodes for the original 
query.
How can I exclude my two joining nodes from serving any response to my 
clients ?


Guillaume

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

