---
title: "Re: RiakSearch question"
description: ""
project: community
lastmod: 2011-04-13T12:23:42-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03010"
mailinglist_parent_id: "msg03008"
author_name: "Rusty Klophaus"
project_section: "mailinglistitem"
sent_date: 2011-04-13T12:23:42-07:00
---


Hi Muhammad,

If you have './bin/riak', it means you have downloaded Riak KV, not Riak
Search. Riak Search would have the './bin/riaksearch' executable.

You can download Riak Search (including src code) from here:
http://downloads.basho.com/riak-search/CURRENT/

If you are adventurous, the
latest source code is available from here:
http://github.com/basho/riak\_search. As I stated in a previous email, that's
our active development branch, so it's not always guaranteed to be 100%
operational.

Best,
Rusty

On Wed, Apr 13, 2011 at 2:00 PM, Muhammad Yousaf
wrote:

>
>
>
> I already have that repo. I think i am doing something wrong. Let me
> explain you again in detail
> I have separte Riak and Riak\_Search repo
>
> I was using Riak\_Search to setup my schema and i have inserted and retrieve
> values in my bucket using erlang client like
>
> {ok,Client} =riakc\_pb\_socket:start\_link("127.0.0.1",8087),
> InsertObject =
> riakc\_obj:new(list\_to\_binary(Bucket),list\_to\_binary(Key),List),
>
> one single riak node.
>
> Now i want to configure multiple node riak cluster, to follow
> http://wiki.basho.com/Building-a-Development-Environment.html instruction
> i have to stop riaksearch and start riak. After setting three node cluster
> object of erlang client is unaware of bucket information that i setup on
> riak\_search
>
> for example
>
> ubuntu$ riaksearch start
> Attempting to restart script through sudo -u riak
> ubuntu$ erl -name client@127.0.0.1 -setcookie riak -pa
> ~/riak-erlang-client/ebin ~/riak-erlang-client/deps/\*/ebin -pa
> ~/riak-erlang-client/deps/protobuffs/ebin/
> Erlang R14B01 (erts-5.8.2) [source] [64-bit] [smp:2:2] [rq:2]
> [async-threads:0] [kernel-poll:false]
>
> Eshell V5.8.2 (abort with ^G)
> (client@127.0.0.1)1> {ok, Pid} = riakc\_pb\_socket:start\_link("127.0.0.1",
> 8087).
> {ok,<0.39.0>}
> (client@127.0.0.1)12> riakc\_pb\_socket:search(Pid, <<"user">>,
> "fname:umesh").
> {ok,[[<<"user">>,<<"umesh">>]]}
>
>
> but now if i do like that
>
>
> dev1/bin/riak start
>
> (client@127.0.0.1)8> {ok,Pid}= riakc\_pb\_socket:start\_link("127.0.0.1",8087).
> {ok,<0.53.0>}
>
> (client@127.0.0.1)10> riakc\_pb\_socket:search(Pid, <<"user">>, "fname:umesh").
>
> =ERROR REPORT==== 13-Apr-2011::19:54:51 ===
> \*\* Generic server <0.53.0> terminating
> \*\* Last message in was {tcp\_closed,#Port<0.753>}
> \*\* When Server state == {state,"127.0.0.1",8087,false,false,undefined,
> undefined,
> {[],[]},
> 1,[],infinity,100}
> \*\* Reason for termination ==
> \*\* disconnected
> \*\* exception exit: disconnected
>
> any idea what i am doing wrong ?
>
>
>
> Regards,
>
> Muhammad Yousaf
>
>
>
>
>
>
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

