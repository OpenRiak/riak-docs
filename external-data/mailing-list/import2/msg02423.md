---
title: "Re: not able to create schema"
description: ""
project: community
lastmod: 2011-02-23T09:07:35-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02423"
mailinglist_parent_id: "msg02415"
author_name: "Doug Edmunds"
project_section: "mailinglistitem"
sent_date: 2011-02-23T09:07:35-08:00
---


On 2/23/2011 2:47 AM, wilson Tuladhar wrote:
> now when I try to use this index name for indexing my document as :
> search:index\_doc(<<"testindex">>, <<"my\_doc">>, [{<<"fname">>,
> <<"Fname">>}, {<<"lname">>, <<"Lname">>}])
> it gives me this error:
> \*\* exception error: bad argument
> in function ets:lookup/2
> called as ets:lookup(schema\_table,<<"testUser">>)
> in call from riak\_search\_config:get\_schema/1
> in call from riak\_indexed\_doc:new/4
> in call from search:index\_doc/4
> 
> and when i check ets:all() i don't see schema\_table in the list??
> 

Look at
http://erlangwiki.dougedmunds.com/doku.php?id=erlang:ets
and
http://stackoverflow.com/questions/1964990/erlang-ets-reset-ets-table-after-getting-a-bad-argument

When erlang (where ets comes from) throws an exception, it restarts the
shell (automatically, invisibly). The ets table you created in the
prior shell is destroyed, so checking ets:all() won't show it after the
restart.

Try checking ets:all() at a point just after you created it, but before
it throws the exception. Your table should be there.

- Doug Edmunds


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

