---
title: "update schema without reindex all data"
description: ""
project: community
lastmod: 2014-11-02T01:13:03-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15112"
author_name: "Alexander Popov"
project_section: "mailinglistitem"
sent_date: 2014-11-02T01:13:03-0700
---


does it possible?

now I use flow:

curl -XPUT "http://localhost:8098/buckets/some\_bucket/props"
-H'content-type: application/json'
-d'{"props":{"search\_index":"\_dont\_index\_", "search":false}}'
curl -XDELETE "http://localhost:8098/search/index/some\_index"

curl -XPUT "http://localhost:8098/search/schema/some\_schema"
-H'content-type:application/xml' --data-binary @ some\_schema.xml

curl -XPUT "http://localhost:8098/search/index/some\_index"
-H'content-type:application/json' -d"{\"schema\":\"some\_schema\"}"

curl -XPUT "http://localhosy:8098/buckets/some\_bucket/props"
-H'content-type: application/json'
-d"{\"props\":{\"search\_index\":\"some\_index\"}}"



after that All indexed data removed, and I need resave all data.

It works when there is mid size bucket. but how I should update schema
in production when it have millions records.
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

