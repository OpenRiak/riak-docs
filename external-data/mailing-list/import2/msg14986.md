---
title: "Re: Memory-backend TTL"
description: ""
project: community
lastmod: 2014-10-06T08:01:03-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14986"
mailinglist_parent_id: "msg14983"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2014-10-06T08:01:03-07:00
---


Hi Lucas,

Can you confirm that the bucket or bucket-type that contains the
object you're retrieving has been configured to use the "ttl\_stg"
backend?
--
Luke Bakken
Engineer / CSE
lbak...@basho.com


On Fri, Oct 3, 2014 at 11:32 AM, Lucas Grijander
 wrote:
> Hello,
>
> I have a memory backend in production with Riak 2.0.1, 4 servers and 256
> vnodes. The servers have the same date and time.
>
> I have seen an odd performance with the ttl.
>
> This is the config:
>
> {<<"ttl\_stg">>,riak\_kv\_memory\_backend,
> [{ttl,90},{max\_memory,25}]},
>
> For example, see this GET response in one of the riak servers:
>
> < HTTP/1.1 200 OK
> < X-Riak-Vclock: a85hYGBgzGDKBVIc4otdfgR/7bfIYEpkzGNlKI1efJYvCwA=
> < Vary: Accept-Encoding
> \* Server MochiWeb/1.1 WebMachine/1.10.5 (jokes are better explained) is not
> blacklisted
> < Server: MochiWeb/1.1 WebMachine/1.10.5 (jokes are better explained)
> < Link: ; rel="up"
> < Last-Modified: Fri, 03 Oct 2014 17:40:05 GMT
> < ETag: "3c8bGoifWcOCSVn0otD5nI"
> < Date: Fri, 03 Oct 2014 17:47:50 GMT
> < Content-Type: application/json
> < Content-Length: 17
>
> If the TTL is 90 seconds, Why the GET doesn't return "not found" if the
> difference between "Last-Modified" and "Date" (of the curl request) is
> greater than the TTL?
>
> Thanks in advance!
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

