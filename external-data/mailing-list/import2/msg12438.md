---
title: "Re: short length hash key generation for riak keys?"
description: ""
project: community
lastmod: 2013-09-30T11:26:52-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12438"
mailinglist_parent_id: "msg12437"
author_name: "Alex Rice"
project_section: "mailinglistitem"
sent_date: 2013-09-30T11:26:52-07:00
---


Although with 40 bytes per key overhead, which I just read about,
perhaps this is somewhat of a ridiculous optimization for me to be
attempting to shorten the key size ? :)

On Mon, Sep 30, 2013 at 12:20 PM, Alex Rice  wrote:
> Hi all, coming from a traditional database background of course my
> first tendency was wanting to auto\_increment a primary key somewhere.
> Not possible with Riak, obviously! :)
>
> I was wondering if anyone has a good link or white paper about short
> length hash key creation. I want to keep my keys short to save memory
> with bitcask storage. (using super low-end commodity hardware with
> limited RAM)
>
> One method that seems like it would be OK: just to use some
> unique/random SHA function on the client side, and then take the first
> few characters from the start of the string
>
> SHA output = 55ca6286e3e4f4fba5d0448333fa99fc5a404a73
>
> check if 55ca key exists -> (not exist) -> use it
> -> exist -> check 55ca6 -> (not exist) -> use it
> -> exist -> check 55ca62 -> (not exist) -> use it
> -> exist -> check 55ca62 -> (not exist) -> use it
> -> exist -> check 55ca628 -> (not exist) -> use it
> -> exist -> check 55ca6286 -> (not exist) -> use it
> -> exist -> check 55ca6286e -> (not exist) -> use it
> -> etc...
>
> But that could involve a lot of back and forth with the server as the
> key space gets used up...
> So I thought I would ask on here if there are any nifty ways of
> generating \*short\* keys for Riak! Using C# btw, not that it matters :0
>
> Sorry if this is a FAQ I didnt see it on the website :)
>
> Thanks,
> Alex

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

