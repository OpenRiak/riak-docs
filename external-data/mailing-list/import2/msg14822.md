---
title: "Re: Riak crash after starting"
description: ""
project: community
lastmod: 2014-08-31T06:33:54-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14822"
mailinglist_parent_id: "msg14821"
author_name: "Steve Vinoski"
project_section: "mailinglistitem"
sent_date: 2014-08-31T06:33:54-07:00
---


On Sun, Aug 31, 2014 at 5:26 AM, Yang Zhenguo  wrote:

> My steps are as follows:
> 1. sudo riak start
> 2. run erl evn
> {ok, Pid} = riakc\_pb\_socket:start\_link("127.0.0.1", 8087).
> riakc\_pb\_socket:list\_buckets(Pid).
>
> After about 30 seconds, the riak will stop(crash)
>
> Riak version is 2.0. Atached part of log.
> BTW, I have another web server cowboy running for handling http request.
>
> Thanks in advance
>
> Zhenguo
> www.prinbit.com
>
> ======================================================
> error.log
> 2014-08-31 17:14:05.974 [error] <0.287.0>
> {mochiweb\_socket\_server,310,{acceptor\_error,{error,accept\_failed}}}
> 2014-08-31 17:14:06.075 [error] <0.287.0>
> {mochiweb\_socket\_server,310,{acceptor\_error,{error,accept\_failed}}}
> 2014-08-31 17:14:06.847 [error] <0.3769.0> gen\_server yz\_events terminated
> with reason: no match of right hand value {error,emfile} in yz\_schema:get/1
> line 45
>

The {error, emfile} here means you're hitting your max file descriptor
limit. Please see
http://docs.basho.com/riak/latest/ops/tuning/open-files-limit/ for how to
tune this limit properly.

--steve
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

