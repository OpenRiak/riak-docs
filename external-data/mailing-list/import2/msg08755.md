---
title: "Re: OpenLDAP MDB backend for riak"
description: ""
project: community
lastmod: 2012-09-30T08:52:53-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08755"
mailinglist_parent_id: "msg08752"
author_name: "Kresten Krab Thorup"
project_section: "mailinglistitem"
sent_date: 2012-09-30T08:52:53-07:00
---


Howard,

I took a look at MDB, and it does look quite promising!

Perhaps you can enlighten us a bit on these aspects of MDB:

- How do you back up an MDB instance? Can you do that while it is actively 
updating, or do you need to stop it? I'm asking because the operational ease 
of the log-structured stores is one of the features that many Riak'ers like 
quite a lot.

- What is the typical response-time distribution for inserts? I've tried to 
work with BDB some time back, and one of the issues with that is that every 
once in a while it slows down quite significantly as B-tree rebalancing makes 
some requests unreasonably slow.

- Does an MDB instance exploit multiple cores? If so, what is the structure of 
this usage? In Riak, we have the benefit that a typical Riak node runs 
multiple independent databases (one for each data partition/vnode), and so at 
least that can provide some concurrency to better leverage I/O and CPU 
concurrency.

Kresten


On Sep 29, 2012, at 9:50 PM, Kresten Krab Thorup 
> wrote:

BETS May be a good template for MDB NIFs since the MDB API looks like bdb. It 
doesn't implement the Riak backend API but an ets subset.

https://github.com/krestenkrab/bets

Kresten
Trifork

On 28/09/2012, at 13.50, "Howard Chu" > 
wrote:

yaoxinming wrote:
mdb looks very good ,you can use nif ,maybe you can look the eleveldb
project,that's a good example.

Thanks for the tip, I'll look into eleveldb.

2012/9/27 Howard Chu 
>

 Hi, I'm interested in developing a backend using OpenLDAP's memory-mapped
 database library (MDB). Unfortunately Erlang is not a language I've used
 before. Any tips on where to get started?

 You can find information on MDB here: http://highlandsun.com/hyc/\_\_mdb/
 

 Its read performance is several times faster than anything else out there,
 and scales perfeclty linearly since readers require no locks. Its write
 performance is also quite fast...
 --

--
 -- Howard Chu
 CTO, Symas Corp. http://www.symas.com
 Director, Highland Sun http://highlandsun.com/hyc/
 Chief Architect, OpenLDAP http://www.openldap.org/project/

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com



Mobile: + 45 2343 4626 | Skype: krestenkrabthorup | Twitter: @drkrab
Trifork A/S | Margrethepladsen 4 | DK- 8000 Aarhus C | Phone : +45 8732 
8787 | www.trifork.com





\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

