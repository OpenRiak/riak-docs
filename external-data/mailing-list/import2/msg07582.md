---
title: "Re: Riak as Binary File Store"
description: ""
project: community
lastmod: 2012-05-31T02:20:54-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07582"
mailinglist_parent_id: "msg07562"
author_name: "Praveen Baratam"
project_section: "mailinglistitem"
sent_date: 2012-05-31T02:20:54-07:00
---


Thank you everybody for the feedback.

I am planning to write binary data to Riak from the application server
which handles upload. On the read side I am planning to use Apache with
mod\_proxy and mod\_rewrite to directly fetch from Riak and serve the files
without any other application server / scripting overhead.

I feel this is the least overhead path to using Riak as a file store.

Comments please.

On Thu, May 31, 2012 at 2:48 PM, Praveen Baratam
wrote:

> Thank you everybody for the feedback.
>
> I am planning to write binary data to Riak from the application server
> which handles upload. On the read side I am planning to use Apache with
> mod\_proxy and mod\_rewrite to directly fetch from Riak and serve the files
> without any other application server / scripting overhead.
>
> I feel this is the least overhead path to using Riak as a file store.
>
> Comments please.
>
>
> On Tue, May 29, 2012 at 10:28 PM, Mark Phillips  wrote:
>
>>
>>
>> On Tue, May 29, 2012 at 12:51 PM, Vlad Gorodetsky  wrote:
>>
>>> I've read somewhere here on the mailing list that storing blobs that
>>> are more than 50KB isn't recommended.
>>> Is that correct? If so, is it something specific to storage backend?
>>>
>>>
>> Riak can probably handle objects up to about 10MBs. That said, depending
>> on your hardware and network, the functional limit is probably smaller than
>> that. Also, keep in mind n\_val when writing large values. (i.e., 5MB with
>> an n\_val of 3 = 15MB across the wire).
>>
>> Mark
>>
>>
>>> ~Vlad
>>>
>>> On Tue, May 29, 2012 at 3:51 PM, Alvaro Videla 
>>> wrote:
>>> > Like this perhaps: https://github.com/johnthethird/riak-fuse\*cough\* 
>>> > \*cough\*
>>> >
>>> >
>>> > On Tue, May 29, 2012 at 2:49 PM, Shuhao Wu  wrote:
>>> >>
>>> >> It'll be interesting if you can write a filesystem on top of Riak.
>>> >>
>>> >> That would be a cool project to see on github :P
>>> >>
>>> >> Shuhao
>>> >>
>>> >>
>>> >> On Tue, May 29, 2012 at 8:36 AM, Praveen Baratam
>>> >>  wrote:
>>> >>>
>>> >>> Hello Everybody!
>>> >>>
>>> >>> I have read abundantly over the web that Riak is very well suited to
>>> >>> store and retrieve small binary objects such as images, docs, etc.
>>> >>>
>>> >>> In our scenario we are planning to use Riak to store uploads to our
>>> >>> portal which is a Social Network. Uploads are mostly images with
>>> maximum
>>> >>> size of 2 MB and typical size ranges between few KBs to few 100 KBs.
>>> >>>
>>> >>> Does this usage pattern fit Riak? What are the caveats if any?
>>> >>>
>>> >>> Thank you!
>>> >>>
>>> >>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>> >>> riak-users mailing list
>>> >>> riak-users@lists.basho.com
>>> >>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>> >>>
>>> >>
>>> >>
>>> >> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>> >> riak-users mailing list
>>> >> riak-users@lists.basho.com
>>> >> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>> >>
>>> >
>>> >
>>> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>> > riak-users mailing list
>>> > riak-users@lists.basho.com
>>> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>> >
>>>
>>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>> riak-users mailing list
>>> riak-users@lists.basho.com
>>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>>
>>
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

