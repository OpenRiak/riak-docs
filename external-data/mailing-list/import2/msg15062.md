---
title: "Re: Memory-backend TTL"
description: ""
project: community
lastmod: 2014-10-22T07:09:07-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15062"
mailinglist_parent_id: "msg15050"
author_name: "Lucas Grijander"
project_section: "mailinglistitem"
sent_date: 2014-10-22T07:09:07-0700
---


Sorry, I don't know the MIME type I used. I use the python api with default
options. The doc says "string"?

http://basho.github.io/riak-python-client/object.html#riak.riak\_object.RiakObject.encoded\_data


2014-10-20 15:43 GMT+02:00 Luke Bakken :

> Lucas,
>
> Thanks for all the detailed information. This is not expected
> behavior. What MIME type are you using for storing the long integer
> data (64 binary bits, I assume)?
>
> I'd like to try and reproduce this. There have been issues with TTL
> and max\_memory but they should have been fixed for Riak 2.0.
> --
> Luke Bakken
> Engineer / CSE
> lbak...@basho.com
>
>
> On Mon, Oct 20, 2014 at 1:56 AM, Lucas Grijander
>  wrote:
> > Hi Luke,
> >
> > Indeed, when removed the thousands of requests, the memory is stabilized.
> > However the memory consumption is still very high:
> >
> > riak-admin status |grep memory
> > memory\_total : 18494760128
> > memory\_processes : 145363184
> > memory\_processes\_used : 142886424
> > memory\_system : 18349396944
> > memory\_atom : 561761
> > memory\_atom\_used : 554496
> > memory\_binary : 7108243240
> > memory\_code : 13917820
> > memory\_ets : 11200328880
> >
> > I have test also with Riak 1.4.10 and the performance is the same.
> >
> > Is it normal that the "memory\_ets" has more than 10GB when we have a
> > "ring\_size" of 16 and a max\_memory\_per\_vnode = 250MB?
> >
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

