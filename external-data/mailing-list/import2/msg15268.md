---
title: "Yokozuna - inconsistent number of documents found for the same query"
description: ""
project: community
lastmod: 2014-11-29T09:28:19-0800
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15268"
author_name: "Oleksiy Krivoshey"
project_section: "mailinglistitem"
sent_date: 2014-11-29T09:28:19-0800
---


Hi,

I get inconsistent number of documents returned for the same search query
when index keys are repaired by search AAE. The prerequisites are:

1. Create a bucket, insert some keys (10 keys - KeysA)
2. Create Yokozuna Index, associate it with the bucket
3. Add or update some new keys in the bucket (10 keys - KeysB)
4. Wait for Search AAE to build and exchange the trees

Now when I issue a search query I will always get all 10 KeysB but a random
amount of KeysA, for example the same query repeated 5 times may return:

10 KeysB + 2 KeysA
10 KeysB + 0 KeysA
10 KeysB + 7 KeysA
10 KeysB + 1 KeysA
10 KeysB + 10 KeysA

Why is this happening?

-- 
Oleksiy Krivoshey
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

