---
title: "Re: multiple map phases"
description: ""
project: community
lastmod: 2010-06-11T05:28:17-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00556"
mailinglist_parent_id: "msg00554"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2010-06-11T05:28:17-07:00
---


You can also add KeyData to pass along to the next phase, which can be really 
powerful. See also 
http://blog.basho.com/2010/04/14/practical-map-reduce:-forwarding-and-collecting/

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On Jun 11, 2010, at 7:30 AM, Thomas Heller wrote:

> Hi,
> 
> so if I understand that right (and the erlang api seems a little
> easier to understand in that regard):
> 
> If I want multiple map phases, the "previous" map phase basically just
> acts as a filter/expansion for the input data. If I emit a {Bucket,
> Key} term Riak will then load this document and pass it into the next
> phase. So if I have a Document with multiple references to others I
> may expand the input data running a map phase which basically just
> emits those links as {Buckey, Key} terms. Basically a (huge)
> optimization over doing something similar on the client side.
> 
> Dont have a great example right now, but I get the idea (I think).
> 
> Thanks,
> /thomas
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

