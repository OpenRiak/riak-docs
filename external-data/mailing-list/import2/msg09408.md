---
title: "Best practice -- duplicating and syncing objects"
description: ""
project: community
lastmod: 2012-11-29T07:53:36-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09408"
author_name: "Felix Terkhorn"
project_section: "mailinglistitem"
sent_date: 2012-11-29T07:53:36-08:00
---


Greetings!

In the event that we have several documents, [A1, A2, ..., An], which contain 
the same data accessed via different keys, what is the best practice for 
keeping the data in sync?

Also, do post commit hooks fire after the client receives a successful 201 or 
200 status on a PUT? That is to say, we don't have to wait for all post-commit 
hooks to fire, in order for our client to receive an HTTP success status, right?

That's our assumption, and if true, we'd like to exploit that fact in order to 
keep the response time of the PUT low. Basically, client could PUT A1, and we 
could let Riak handle the necessary updates in a post-processing step.

We could keep the list [A1, A2, ..., An] somewhere else, and simply walk that 
list every time any document in the list is updated, excluding the document 
itself. Is this a standard approach?

We thought of linking objects together, and having them update each other on 
post-commit, but that seems like it will bring us into infinite loop territory. 
:-D

Thanks,
Felix
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

