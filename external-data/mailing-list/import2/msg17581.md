---
title: "Re: Migrating to riak 2.1.4, selecting a specific multi-backend from	the Java Client"
description: ""
project: community
lastmod: 2016-08-10T00:22:54-0700
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17581"
mailinglist_parent_id: "msg17578"
author_name: "Magnus Kessler"
project_section: "mailinglistitem"
sent_date: 2016-08-10T00:22:54-0700
---


On 9 August 2016 at 15:42, Henning Verbeek  wrote:

> We're slowly migrating our application from Riak KV 1.4 to Riak KV
> 2.1.4, and at the same time riak-java-client 1.4.x to riak-java-client
> 2.0.6. We are doing this by adding seven new Riak KV 2.1 nodes to the
> ring, and later removing the seven Riak KV 1.4 nodes from the ring.
> For a few days, the cluster will consist of a mix.
>

Hi Henning,

This plan will generate a lot of unnecessary data shuffling in the entire
cluster. Each time a node is added or removed from the ring, the claim
algorithm will re-assign partitions to/from all nodes. Please consider
updating the existing nodes in place. For more information see the
documentation[0]. Please let us know if any of the documentation is
unclear, so that we can make it better.


> [...]
>

Kind Regards,

Magnus


[0]: http://docs.basho.com/riak/kv/2.1.4/setup/upgrading/cluster/

-- 
Magnus Kessler
Client Services Engineer
Basho Technologies Limited

Registered Office - 8 Lincolnâ€™s Inn Fields London WC2A 3BP Reg 07970431
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

