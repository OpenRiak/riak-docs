---
title: "Understanding an intermittent mapreduce error"
description: ""
project: community
lastmod: 2014-06-16T01:33:21-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14314"
author_name: "Toby Corkindale"
project_section: "mailinglistitem"
sent_date: 2014-06-16T01:33:21-07:00
---


Hi,
I'm trying to understand why I'm getting an intermittent error on a
particular map-reduce call to Riak 1.4.9.
The query isn't particularly complicated, and filters mean it should
only be running over ~100 keys, and returning <10 each time, so I
don't think I should be hitting any stack or memory limits in the JS
VMs.

It fails frequently, but not every time. When pointing it at just a
single Riak server for debugging purposes, it fails around 30% of the
time.
The error returned is as follows:

{
 "input" : null,
 "stack" : null,
 "phase" : 1,
 "error" : 
"{undef,[{riak\_kv\_mapred\_json,jsonify\_not\_found,[{struct,[{<<\"email\">>,<<\"u...@example.com\">>},{<<\"attributes\">>,[<<\"someattributes\">>,<<\"somemoreattributes\">>,<<\"w...\">>,...]},...]}],...},...]}",
 "type" : null
}


There are no errors in the Riak server logs.


Thanks,
Toby

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

