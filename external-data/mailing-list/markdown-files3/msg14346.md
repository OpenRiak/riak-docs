---
title: "Re: Error decodeing type with PBC API"
description: ""
project: community
lastmod: 2014-06-23T07:08:38-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14346"
mailinglist_parent_id: "msg14345"
author_name: "japhar81"
project_section: "mailinglistitem"
sent_date: 2014-06-23T07:08:38-07:00
---


Riak is at 1.4.8, running on ubuntu 12.04 LTS. Nothing special in the
install, I just followed the 5-min install guide and then installed rekon
over top. The client is my own code (.NET 4.5 in case that matters) using
protobuf-net to do the object marshaling.


On Mon, Jun 23, 2014 at 2:28 AM, Russell Brown  wrote:

> Hi,
> For this type of issue client and server versions are very useful, please.
>
> Russell
>
> On 23 Jun 2014, at 03:55, japhar81  wrote:
>
> > Hello all,
> > I've been banging my head against the PBC API all weekend and I can't
> seem to figure out why I'm getting an error. I'm able to call
> RpbListBuckets (empty message) without issue, but when I try to call
> RpbListKeys I get an error (pasted below in full) -- Error decodeing type
> with PBC API.
> >
> > I've pulled out the encoded message (trying to list the rekon bucket as
> a test), it is:
> > 00-00-00-0A-11-00-10-6E-6F-6B-65-72-05-0A
> >
> > I've confirmed that the length (0x0A = 10) and message type (0x11 =
> RpbListKeysReq) are correct. I'm unsure how I'd manually decode the message
> itself, but it matches what protobuf is giving me, so I'm assuming it to be
> correct as well.
> >
> > I'd appreciate any pointers as to what I'm doing wrong, I'm completely
> stumped.
> >
> > The full error I'm getting:
> >
> > Error processing incoming message: throw:{error,"Error decodeing
> type"}:[{protobuffs,
> >
> read\_field\_num\_and\_wire\_type,
> >
> 1,
> >
> [{file,
> >
> "src/protobuffs.erl"},
> >
> {line,
> >
> 203}]},
> >
> {protobuffs,
> >
> next\_field\_num,
> >
> 1,
> >
> [{file,
> >
> "src/protobuffs.erl"},
> >
> {line,
> >
> 242}]},
> >
> {riak\_kv\_pb,
> >
> decode,
> >
> 3,
> >
> [{file,
> >
> "src/riak\_kv\_pb.erl"},
> >
> {line,
> >
> 105}]},
> >
> {riak\_kv\_pb,
> >
> decode,
> >
> 2,
> >
> [{file,
> >
> "src/riak\_kv\_pb.erl"},
> >
> {line,
> >
> 100}]},
> >
> {riak\_kv\_pb\_bucket,
> >
> decode,
> >
> 2,
> >
> [{file,
> >
> "src/riak\_kv\_pb\_bucket.erl"},
> >
> {line,
> >
> 67}]},
> >
> {riak\_api\_pb\_server,
> >
> handle\_message,
> >
> 3,
> >
> [{file,
> >
> "src/riak\_api\_pb\_server.erl"},
> >
> {line,
> >
> 196}]},
> >
> {riak\_api\_pb\_server,
> >
> decode\_buffer,
> >
> 1,
> >
> [{file,
> >
> "src/riak\_api\_pb\_server.erl"},
> >
> {line,
> >
> 172}]},
> >
> {gen\_server,
> >
> handle\_msg,
> >
> 5,
> >
> [{file,
> >
> "gen\_server.erl"},
> >
> {line,
> >
> 607}]}]
> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > riak-users mailing list
> > riak-users@lists.basho.com
> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

