---
title: "Re: Loopback Address as Handoff IP/Interface"
description: ""
project: community
lastmod: 2015-05-04T00:04:12-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16098"
mailinglist_parent_id: "msg16094"
author_name: "Magnus Kessler"
project_section: "mailinglistitem"
sent_date: 2015-05-04T00:04:12-07:00
---


On 3 May 2015 at 12:19, Praveen Baratam  wrote:

> Hello Everybody,
>
> I am trying to setup a single node Riak cluster and want to use a loopback
> address (127.0.0.x) for the Handoff IP to keep the instance private and
> invisible to others.
>
> But the Riak node fails to start and throws an error - "handoff.ip
> invalid, must be a valid IP address"
>
> Is it illegal to use loopback interface for Handoff IP? Came across some JIRA
> issues  but couldn't find
> a solution with out having to build packages from source.
>
> Any workarounds? I am trying to use Riak 1.4.12 on Ubuntu 14.04!
>
> Any advice in this regard will be greatly helpful.
>
> Thank you.
>
> Praveen
>
>
Hi Praveen,

As you are using Riak 1.4, you cannot use the new configuration format (via
the riak.conf file, a.k.a cuttlefish, introduced in Riak 2.0). The
handoff\_ip setting belongs to riak\_core and has to be changed in
app.config[0].

If you really want to set the handoff\_ip and change it from its default
setting of "0.0.0.0", then you need to add an entry into the riak\_core
settings in app.config

{riak\_core, [
 %% Other configs
 {handoff\_ip, "127.0.0.1"},
 %% Other configs
]}

However I would suggest to simply firewall the handoff port on your machine
(8099) so that it cannot be reached from the network.

Hope this helps.

Regards,

Magnus

[0]:
http://docs.basho.com/riak/1.4.12/ops/advanced/configs/configuration-files/#-code-riak\_core-code-Settings

-- 
Magnus Kessler
Client Services Engineer @ Basho
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

