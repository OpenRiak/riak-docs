---
title: "undefined method content_type"
description: ""
project: community
lastmod: 2012-06-24T22:52:11-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07767"
author_name: "Anand Hegde"
project_section: "mailinglistitem"
sent_date: 2012-06-24T22:52:11-07:00
---


require 'riak'




class RiakClient < Riak::Client
#attr\_accessor :bucket

def initialize(hosts="")
return Riak::Client.new(:nodes => [{:http\_port => 8091},{:http\_port
=>8092},{:http\_port=>8093},{:http\_port =>8094}])
end

def get\_me(bucket, key)
obj = self.bucket(bucket).get(key)
puts obj.data
end

def put\_me(bucket, key, data, content\_type)
obj=self.bucket(bucket).get\_or\_new(key)
puts obj.class
obj.content\_type=content\_type
obj.raw\_data=data
obj.store
end
end



if \_\_FILE\_\_ == $0
my\_client=RiakClient.new
my\_client.put\_me("doc", "index.html", "some data goes here", "text/html")
hash=my\_client.get\_me("doc", "index.html")
end


But I am getting the following errors -

NilClass
riak\_client.rb:32:in `put\_me': undefined method `content\_type=' for
nil:NilClass (NoMethodError)
from riak\_client.rb:42:in `'

Do I have to import the RiakObject and RiakClient classes and all? and how
do i do this?
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

