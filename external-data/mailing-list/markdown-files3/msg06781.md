---
title: "Re: ideas on how to implement a page refresh to pull geo location	data stored in riak"
description: ""
project: community
lastmod: 2012-02-28T08:48:38-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06781"
mailinglist_parent_id: "msg06780"
author_name: "Norman Khine"
project_section: "mailinglistitem"
sent_date: 2012-02-28T08:48:38-08:00
---


thanks for the advise.

On Tue, Feb 28, 2012 at 5:07 PM, Jeremiah Peschka
 wrote:
> You can create a secondary index 
> (https://wiki.basho.com/Secondary-Indexes.html) on the timestamp and perform 
> a secondary index query to pull back a range of data that matches what you 
> are looking for.
>
> As far as the node.js portions, I have just as much of an idea as you. 
> Perhaps someone else on this list can point you in the appropriate directino.
> ---
> Jeremiah Peschka - Managing Director, Brent Ozar PLF, LLC
> Microsoft SQL Server MVP
>
> On Feb 28, 2012, at 7:57 AM, Norman Khine wrote:
>
>> Hello,
>> Not sure if this is the right forum to post this, but i am hoping you can 
>> help.
>> I have a livestats nodejs tracking site, code for it is here:
>>
>> https://github.com/nkhine/livestats
>>
>> which is based on the peepcode screencast, with some updates.
>>
>> i am planning to extend the
>> https://github.com/nkhine/livestats/blob/master/lib/livestats.js to
>> include the riak-js library so as to store the data, something like:
>>
>> var db = require('riak-js').getClient({host: "riak.myhost", port: "8098" });
>> db.save('user', 'lat', 'lon', 'city', 'timestamp'});
>>
>> but, i was wondering how to implement a page refresh and for the map
>> to load all entries within a set period of elapsed time. and place the
>> entries within the map.
>>
>> any pointers much appreciated.
>>
>> norman
>>
>> --
>> %>>> "".join( [ {'\*':'@','^':'.'}.get(c,None) or
>> chr(97+(ord(c)-83)%26) for c in ",adym,\*)&uzq^zqf" ] )
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>



-- 
%>>> "".join( [ {'\*':'@','^':'.'}.get(c,None) or
chr(97+(ord(c)-83)%26) for c in ",adym,\*)&uzq^zqf" ] )

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

