---
title: "Re: [ANN] Riaknostic, your Riak Doctor"
description: ""
project: community
lastmod: 2012-03-02T17:27:18-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06852"
mailinglist_parent_id: "msg05978"
author_name: "Matthew Tovbin"
project_section: "mailinglistitem"
sent_date: 2012-03-02T17:27:18-08:00
---


Hi Sean,

Seems like a nice tool, but it's nice to have more examples on the homepage.

Because currently I've a problem understanding if the tool is working at
all: no connected nodes info is printed.
See below. Similar happens with other diag commands, such as 'diag disk',
'diag dumps' etc.

#~/riak/bin/riak-admin diag nodes\_connected --level debug
17:22:50.885 [debug] Lager installed handler lager\_console\_backend into
lager\_event
17:22:50.899 [debug] Lager installed handler error\_logger\_lager\_h into
error\_logger
17:22:50.900 [info] Application lager started on node nonode@nohost
17:22:50.990 [debug] Not connected to the local Riak node, trying to
connect. alive:false connect\_failed:undefined
17:22:50.991 [debug] Starting distributed Erlang.
17:22:50.994 [debug] Supervisor net\_sup started erl\_epmd:start\_link() at
pid <0.42.0>
17:22:50.996 [debug] Supervisor net\_sup started auth:start\_link() at pid
<0.43.0>
17:22:50.999 [debug] Supervisor net\_sup started
net\_kernel:start\_link(['riak\_diag22848@riak1',longnames]) at pid <0.44.0>
17:22:50.999 [debug] Supervisor kernel\_sup started
erl\_distribution:start\_link(['riak\_diag22848@riak1',longnames]) at pid
<0.41.0>
17:22:50.999 [debug] Supervisor inet\_gethost\_native\_sup started undefined
at pid <0.49.0>
17:22:50.999 [debug] Supervisor kernel\_safe\_sup started
inet\_gethost\_native:start\_link() at pid <0.48.0>
17:22:51.014 [debug] Connected to local Riak node 'riak@riak1'.
17:22:51.014 [debug] Fetching local riak\_kv\_status.
17:22:51.014 [debug] Local RPC: riak\_kv\_status:statistics([]) [5000]


-Matthew



On Fri, Dec 16, 2011 at 15:03, Sean Cribbs  wrote:

> Hey Riak users,
>
> You may have noticed on the Basho Blog yesterday that we made public our
> tool called "Riaknostic" (http://riaknostic.basho.com/). It's a
> collection of short diagnostics, wrapped up in an escript, that can detect
> some common problems you might have with your Riak node or cluster and
> suggest ways to fix them. It's all part of some of the usability
> improvements were baking into the next release of Riak.
>
> The reason I'm announcing this again on the mailing list is that we're
> looking for contributions from the community. Contribute a diagnostic, find
> and fix a bug, improve the documentation, and we'll send you some Basho
> swag to call your very own! (including but not limited to t-shirts and
> stickers) If you want to write a diagnostic but don't know what might be
> useful, here's some ideas (all of which we plan to implement, so beat us to
> them!):
>
> \* Make sure that Bitcask merging thresholds are less than or equal to the
> triggers
> \* Check whether swap is enabled, recommend that it be turned off
> \* Compare configurations across the cluster, make sure various components
> are configured the same way
> \* Check the number of open files owned by the Riak process and the
> open-file-handles limit
>
> Most of what you need to know is defined in the edocs:
> http://riaknostic.basho.com/edoc/index.html. Make sure to read the top of
> the "riaknostic\_check" module documentation. Happy hacking!
> --
> Sean Cribbs 
> Developer Advocate
> Basho Technologies, Inc.
> http://www.basho.com/
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

