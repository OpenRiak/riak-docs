---
title: "Re: Search precommit hook bug?"
description: ""
project: community
lastmod: 2011-09-22T05:08:45-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04829"
mailinglist_parent_id: "msg04815"
author_name: "David Smith"
project_section: "mailinglistitem"
sent_date: 2011-09-22T05:08:45-07:00
---


On Wed, Sep 21, 2011 at 10:26 AM, Elias Levy
 wrote:

> Any idea what kind of performance hit one takes by lowering the number of
> open file handles?

I just submitted a pull request to lower the default to 10; should
show up in next RC. As for performance, in the tests I've run I've not
observed any significant performance impact; I'm sure there \_is\_ one,
it's just not obvious (yet). :)

> We are using a ring size of 128.  In a worse case scenario all those 128
> vnodes would exist on a single node, so we need 128\*max\_open\_files fd limit
> per node.
> What about replicas?  Do they have their own vnode?  Or does a ring with a
> size of 128 can only have at most 128 vnodes regardless of replicas or
> fallbacks?

Replicas ~= vnode, so you should have at most 128 KV vnode in a given ring.

D.

-- 
Dave Smith
Director, Engineering
Basho Technologies, Inc.
diz...@basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

