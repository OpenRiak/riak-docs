---
title: "Re: Troubleshoot failure to add a node?"
description: ""
project: community
lastmod: 2011-11-09T07:55:14-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05503"
mailinglist_parent_id: "msg05502"
author_name: "Rusty Klophaus"
project_section: "mailinglistitem"
sent_date: 2011-11-09T07:55:14-08:00
---


Excellent, happy to help!

On Wed, Nov 9, 2011 at 10:49 AM, Jonathan Langevin <
jlange...@loomlearning.com> wrote:

> Had a moment of clarity :-)
>
> \*
> So, telnet failed. Double-checked firewall rules, I had set up the
> firewall to allow 192.168.0.0/24, but I needed it to be 192.168.1.0/24.
> Fun typo.
>
> Checking further, even though I had not previously started Riak on these
> servers (at least, not to my knowledge?), riak-admin member\_status was
> still showing the name as riak@127.0.0.1. So I issued a reip on each
> server, and then issued join on 2 of the nodes, all 3 are in the cluster
> now :-)
>
> Sorry for the trouble, thanks for the assistance!
>
> Cheers
>
> 
> Jonathan Langevin
> Manager, Information Technology
> Loom Inc.
> Wilmington, NC: (910) 241-0433 - jlange...@loomlearning.com -
> www.loomlearning.com - Skype: intel352
> \*
>
>
>
> On Wed, Nov 9, 2011 at 10:00 AM, Jonathan Langevin <
> jlange...@loomlearning.com> wrote:
>
>> Verified ping from cli. In riak console, ping fails with pang response.
>> Epmd -names only returns the local instance. Haven't tested telnet yet,
>> will shortly.
>>
>> Join syntax is correct, says node isn't reachable.
>> On Nov 9, 2011 9:53 AM, "Rusty Klophaus"  wrote:
>>
>>> Hi Jonathan,
>>>
>>> Can you verify that the machines otherwise see each other? (Can you ping
>>> or ssh between the three machines?)
>>>
>>> Can you verify that you can use telnet to connect to the different open
>>> ports from each machine?
>>>
>>> If so, can you double check your usage of `riak-admin join NODENAME`?
>>> How does it respond?
>>>
>>> Finally, can you run `riak attach` to attach to an Erlang shell on one
>>> of the nodes, and run \*net\_adm:ping('rdevX@192.168.1.Y').\* for each of
>>> the three node names?
>>>
>>> Hopefully that tells us where things are failing.
>>>
>>> Best,
>>> Rusty
>>>
>>>
>>> On Wed, Nov 9, 2011 at 9:32 AM, Jonathan Langevin <
>>> jlange...@loomlearning.com> wrote:
>>>
>>>> I'm setting up a Riak cluster, I've configured 3 fresh nodes for this
>>>> cluster.
>>>> The node name per is unique (format of rdevX@192.168.1.Y), firewall is
>>>> configured to allow traffic on 8097:8099, 6000:7999, 4369 tcp, 4369 udp
>>>>
>>>> \*
>>>> Each is configured with the same config aside from names & ips to bind
>>>> to.
>>>>
>>>> I've attempted a ping from riak console, comes back pang.
>>>>
>>>> Any suggestions?
>>>>
>>>> 
>>>> Jonathan Langevin
>>>> Manager, Information Technology
>>>> Loom Inc.
>>>> Wilmington, NC: (910) 241-0433 - jlange...@loomlearning.com -
>>>> www.loomlearning.com - Skype: intel352
>>>> \*
>>>>
>>>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>>> riak-users mailing list
>>>> riak-users@lists.basho.com
>>>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>>>
>>>>
>>>
>>>
>>> --
>>> Rusty Klophaus (@rustyio)
>>> \*Basho Technologies, Inc.\*
>>> www.basho.com
>>>
>>>
>>>
>


-- 
Rusty Klophaus (@rustyio)
\*Basho Technologies, Inc.\*
www.basho.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

