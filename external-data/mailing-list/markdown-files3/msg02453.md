---
title: "Re: Java HTTP Client running out of FD's"
description: ""
project: community
lastmod: 2011-02-25T02:13:02-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02453"
mailinglist_parent_id: "msg02445"
author_name: "Russell Brown"
project_section: "mailinglistitem"
sent_date: 2011-02-25T02:13:02-08:00
---


On Fri, 2011-02-25 at 09:58 +0530, Abhishek Kona wrote:

> Also I am not clear about the RiakClient's thread safety. If I share
> the RiakClient should the client code maintain locks on it.
> 

Well technically no, it is not strictly thread safe (it retains a
reference to the mutable RiakConfig it is constructed with, for
example.) You can use it safely across threads \*if\* you safely publish
it and then treat it as \_effectively immutable\_. Then you can leverage
the single HttpClient with the MultiThreadedConnectionManager.

It will be thread safe in the near future.



\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

