---
title: "Re: Riak upgrade from 1.4.10 to 2.0.2 failed"
description: ""
project: community
lastmod: 2014-11-13T06:45:33-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15165"
mailinglist_parent_id: "msg15164"
author_name: "Guido Medina"
project_section: "mailinglistitem"
sent_date: 2014-11-13T06:45:33-08:00
---



Why is it Riak assuming the node is called "nonode@nohost"?

I didn't have to set that before and somehow my vm.args ended with the 
proper node name, in this case this one should be 
"r...@x1.clonmel.temetra.com"


Regards,

Guido.

On 13/11/14 14:34, Guido Medina wrote:

Forgot to paste the error message:

 2014-11-13 14:16:06.524 [info] <0.7.0> Application mochiweb
 started on node nonode@nohost
 2014-11-13 14:16:06.528 [info] <0.7.0> Application webmachine
 started on node nonode@nohost
 2014-11-13 14:16:06.528 [info] <0.7.0> Application basho\_stats
 started on node nonode@nohost
 2014-11-13 14:16:06.531 [info] <0.7.0> Application bitcask started
 on node nonode@nohost
 2014-11-13 14:16:06.531 [info] <0.7.0> Application eleveldb
 started on node nonode@nohost
 2014-11-13 14:16:06.531 [info] <0.7.0> Application pbkdf2 started
 on node nonode@nohost
 2014-11-13 14:16:06.531 [info] <0.7.0> Application poolboy started
 on node nonode@nohost
 2014-11-13 14:16:06.819 [error] <0.144.0> Supervisor riak\_core\_sup
 had child riak\_core\_broadcast started with
 riak\_core\_broadcast:start\_link() at undefined exit with reason
 
{'EXIT',{function\_clause,[{orddict,fetch,[nonode@nohost,[{'r...@x1.clonmel.temetra.com',['r...@x2.clonmel.temetra.com','r...@x3.clonmel.temetra.com']},{'r...@x2.clonmel.temetra.com',['r...@x5.clonmel.temetra.com','r...@x6.clonmel.temetra.com']},{'r...@x3.clonmel.temetra.com',['r...@x1.clonmel.temetra.com','r...@x2.clonmel.temetra.com']},{'r...@x5.clonmel.temetra.com',['r...@x3.clonmel.temetra.com','r...@x5.clonmel.temetra.com']},{'r...@x6.clonmel.temetra.com',['r...@x6.clonmel.temetra.com',...]}]],...},...]}}
 in context start\_error
 2014-11-13 14:16:06.819 [error] <0.142.0> CRASH REPORT Process
 <0.142.0> with 0 neighbours exited with reason:
 
{{shutdown,{failed\_to\_start\_child,riak\_core\_broadcast,{'EXIT',{function\_clause,[{orddict,fetch,[nonode@nohost,[{'r...@x1.clonmel.temetra.com',['r...@x2.clonmel.temetra.com','r...@x3.clonmel.temetra.com']},{'r...@x2.clonmel.temetra.com',['r...@x5.clonmel.temetra.com','r...@x6.clonmel.temetra.com']},{'r...@x3.clonmel.temetra.com',['riak@x1.c
 
lonmel.temetra.com','r...@x2.clonmel.temetra.com']},{'r...@x5.clonmel.temetra.com',['r...@x3.clonmel.temetra.com','r...@x5.clonmel.temetra.com']},{'r...@x6.clonmel.temetra.com',...}]],...},...]}}}},...}
 in application\_master:init/4 line 133
 2014-11-13 14:16:06.819 [info] <0.7.0> Application riak\_core
 exited with reason:
 
{{shutdown,{failed\_to\_start\_child,riak\_core\_broadcast,{'EXIT',{function\_clause,[{orddict,fetch,[nonode@nohost,[{'r...@x1.clonmel.temetra.com',['r...@x2.clonmel.temetra.com','r...@x3.clonmel.temetra.com']},{'r...@x2.clonmel.temetra.com',['r...@x5.clonmel.temetra.com','r...@x6.clonmel.temetra.com']},{'r...@x3.clonmel.temetra.com',['riak@x1.clonmel
 
.temetra.com','r...@x2.clonmel.temetra.com']},{'r...@x5.clonmel.temetra.com',['r...@x3.clonmel.temetra.com','r...@x5.clonmel.temetra.com']},{'r...@x6.clonmel.temetra.com',...}]],...},...]}}}},...}


On 13/11/14 14:32, Guido Medina wrote:

Hi,

Failed miserably trying to upgrade Riak 1.4.10 to 2.0.2 after created 
all the patch files to use the new riak.conf, I noticed that we don't 
need custom parameters any longer so the only thing we changed was 
the backend to be "leveldb"


Is it level DB max open files parameter needed any longer? I couldn't 
find it at the advanced config docs. Hence I'm not using it.


Any hints?

Regards,

Guido.




\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

