---
title: "Re: Is this a silly design?"
description: ""
project: community
lastmod: 2010-09-30T08:14:08-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01160"
mailinglist_parent_id: "msg01159"
author_name: "Tyler Weir"
project_section: "mailinglistitem"
sent_date: 2010-09-30T08:14:08-07:00
---


Hi Dan,

Thanks for the response and thank you for the additional MR snippet.
That is helpful.

Cheers,
Tyler

-------------------------------------
http://www.tylerweir.ca



On Wed, Sep 29, 2010 at 5:48 PM, Dan Reverri  wrote:
> Hi Tyler,
> You're proposed design would work well with Riak. Buckets in Riak, by
> default, are "free" meaning 100 buckets wouldn't consume any more resources
> than 1 bucket.
> Also, by using the date as the key you could map/reduce over a user's data
> for set periods of time. For instance, consider the following entries:
> /riak/user1/20100929
> /riak/user1/20100930
> /riak/user1/20101001
> /riak/user1/20101002
> /riak/user1/20101003
> /riak/user1/20101004
> To map/reduce over the first 3 days of October you can specify your
> map/reduce inputs as:
> {"inputs":[["user1","20101001"],["user1","20101002"],["user1","20101003"]],
> ...query goes here... }
>
> Daniel Reverri
> Developer Advocate
> Basho Technologies, Inc.
> d...@basho.com
>
>
> On Wed, Sep 29, 2010 at 9:30 AM, Tyler Weir  wrote:
>>
>> Hello,
>>
>> I'm working on a side project and I don't know much about reasonable
>> design for a Riak schema.
>>
>> I'll have a hybrid model, with user profiles sitting in Postgres and
>> their data in Riak.
>>
>> If I were to store a blob of info per user per day (3 text blobs, a
>> date, a URL and tags), does it make sense to have one bucket per user?
>> If so, the key for the daily blob is simple, the date (unless that is
>> also silly).
>>
>> I'm guessing 100 users, with maybe 400 RiakObjects per user per year.
>>
>> Does that design seem sound, or am I breaking some fundamental rules?
>>
>> Sorry for naivety,
>> Tyler
>>
>>
>> -------------------------------------
>> http://www.tylerweir.ca
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

