---
title: "Getting Riak to work"
description: ""
project: community
lastmod: 2010-05-14T22:56:26-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00373"
author_name: "Chris Hicks"
project_section: "mailinglistitem"
sent_date: 2010-05-14T22:56:26-07:00
---








Alright, so I've worked my way through a few hurdles in getting this thing to 
work properly but I've hit a spot where I don't know what to try next. keep in 
mind that I am learning both Erlang and Riak at the same time, or at least 
trying to.

Connecting works just fine:

{ok, Pid} = riak:client\_connect('r...@127.0.0.1').
{ok,{riak\_client,'r...@127.0.0.1',<<2,232,152,157>>}}


Trying to create a new riak object does not go as smoothly:

Object = riakc\_obj:new(<<"groceries">>, <<"mine">>, <<"eggs & bacon">>).
\*\* exception error: undefined function riakc\_obj:new/3


The module can be found, however, so I know I set up the code paths right:

code:which(riakc\_obj).
"/usr/lib/riak/lib/riakc-1/ebin/riakc\_obj.beam"


The function new/4 works just fine though:

Object = riakc\_obj:new(<<"groceries">>, <<"mine">>, <<"eggs & bacon">>, []).
{riakc\_obj,<<"groceries">>,<<"mine">>,<<"eggs & bacon">>,[],
 {dict,0,16,16,8,80,48,
 {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],...},
 {{[],[],[],[],[],[],[],[],[],[],[],[],[],...}}},
 undefined}


I've tried two different ways to put that object into the DB and both failed as 
shown below:

Pid:put(Object, 1).
\*\* exception error: no function clause matching 
 
riak\_object:increment\_vclock({riakc\_obj,<<"groceries">>,<<"mine">>,
 <<"eggs & bacon">>,[],
 {dict,0,16,16,8,80,48,
 
{[],[],[],[],[],[],[],[],[],[],[],[],
 [],[],...},
 
{{[],[],[],[],[],[],[],[],[],[],[],
 [],...}}},
 undefined},
 <<2,232,152,157>>)
 in function riak\_client:put/5

AND

riak\_client:put(Object, 1, 1).
\*\* exception error: no function clause matching 
 riak\_client:put({riakc\_obj,<<"groceries">>,<<"mine">>,
 <<"eggs & bacon">>,[],
 {dict,0,16,16,8,80,48,
 
{[],[],[],[],[],[],[],[],[],[],[],[],[],[],...}, 
 
{{[],[],[],[],[],[],[],[],[],[],[],[],...}}},
 undefined},
 1,1)

The above method also fails if I try the put/4 method with the same error 
message .

I'm looking in the source code here: http://hg.basho.com/riak/downloads and 
based on what I can see I can't explain why I am getting the errors I am, with 
put or with creating a new object. I might just be too tired at the moment to 
figure it out but it is driving me crazy and any help would be appreciated.


 
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
The New Busy is not the old busy. Search, chat and e-mail from your inbox.
http://www.windowslive.com/campaign/thenewbusy?ocid=PID28326::T:WLMTAGL:ON:WL:en-US:WM\_HMP:042010\_3\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

