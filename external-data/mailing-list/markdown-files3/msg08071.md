---
title: "Re: Riak failed to start within 15 seconds,"
description: ""
project: community
lastmod: 2012-07-25T19:51:31-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08071"
mailinglist_parent_id: "msg08070"
author_name: "Shuhao Wu"
project_section: "mailinglistitem"
sent_date: 2012-07-25T19:51:31-07:00
---


Yup. /tmp is 777 and /tmp/risk is 755, owned by riak:riak

Shuhao
Sent from my phone.
On Jul 25, 2012 10:42 PM, "Joe Caswell"  wrote:

> We have seen this a couple times. A common cause is the riak user needs
> write access to the $PIPE\_DIR in order to start properly. PIPE\_DIR is
> usually /tmp/riak/, check your riak script to make sure. If the directory
> doesn't exist, it will be created with unix perm 755. Verify that the
> riak user owns that directory, and has write permission to the parent
> directory.
>
> On 7/25/12 10:19 PM, "Shuhao Wu"  wrote:
>
> >This seems to be a somewhat common issue nowadays. I have this under
> >one of my server as well, though it's a debian 6 64bit.
> >
> >Cheers,
> >Shuhao
> >
> >
> >On Wed, Jul 25, 2012 at 12:29 PM, David Montgomery
> > wrote:
> >> Hi,
> >>
> >> I am new to riak.
> >>
> >> I followed the instructions for a cluster setup at
> >> https://wiki.basho.com/Basic-Cluster-Setup.html. It did not work. I
> >> am using ubuntu64
> >>
> >> I changed the ip in app.confing and vm.args and stoped the service.
> >>
> >> then I ran the below.
> >>
> >> riak-admin reip riak@127.0.0.1 r...@xxx.xxx.xxx.xxx
> >> Attempting to restart script through sudo -u riak
> >> Backed up existing ring file to
> >> "/var/lib/riak/ring/riak\_core\_ring.default.20120724221850.BAK"
> >> New ring file written to
> >> "/var/lib/riak/ring/riak\_core\_ring.default.20120725161924"
> >> root@i-157-16777-VM:~# sudo service riak start
> >> Riak failed to start within 15 seconds,
> >> see the output of 'riak console' for more information.
> >> If you want to wait longer, set the environment variable
> >> WAIT\_FOR\_ERLANG to the number of seconds to wait.
> >>
> >> riak-admin status | grep ring\_members yield no resutls
> >>
> >> I am now at a deadend. How to resolve?
> >>
> >> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> >> riak-users mailing list
> >> riak-users@lists.basho.com
> >> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> >
> >\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> >riak-users mailing list
> >riak-users@lists.basho.com
> >http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> >
>
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

