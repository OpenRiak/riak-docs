---
title: "Re: Upgrading 1.4 to 2.0"
description: ""
project: community
lastmod: 2014-10-02T09:40:31-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14975"
mailinglist_parent_id: "msg14970"
author_name: "Thelonious Fonk"
project_section: "mailinglistitem"
sent_date: 2014-10-02T09:40:31-07:00
---


Thanks for looking into this Luke.

I wasn't able to solve this issue but since it was a dev environment, I
ended up uninstalling 1.4.2 and installing 2.0.0.
I did stop each node before upgrading it but I didn't look at beam
processes to make sure they were actually gone. I was surprised to see no
error and to see that the upgrade process could somehow detect that 2.0.0
was installed even though riak-admin status was showing 1.4.2. Weird...

Thanks again.
Simon

On Thu, Oct 2, 2014 at 5:54 PM, Luke Bakken [via Riak Users] <
ml-node+s197444n4031876...@n3.nabble.com> wrote:

> Hello,
>
> Were you able to resolve this issue? I tried to reproduce your issue
> but could not - the upgrade worked successfully.
>
> When you execute "riak stop" prior to using dpkg to upgrade to 2.0,
> please ensure all beam.smp processes are gone before doing the
> upgrade.
> --
> Luke Bakken
> Engineer / CSE
> [hidden email] 
>
>
> On Wed, Sep 24, 2014 at 7:19 AM, Thelonious Fonk <[hidden email]
> > wrote:
>
> > Hi all,
> >
> > I'm a total newbie with Riak so I apologize if my question is silly.
> >
> > I need to build a POC with Riak and we have 5 nodes running v1.4 on a
> dev
> > box so the first thing I'm trying to do is to upgrade these nodes to
> v2.0
> > On the first node (dev1) I followed the instructions here:
> >
> http://docs.basho.com/riak/latest/ops/upgrading/rolling-upgrades/#Debian-Ubuntu
> >
> > But when I get to step 5 "5. Verify Riak is running the new version" the
> > output of the "riak-admin status" command says
> > /riak\_api\_version : <<"1.4.2-0-ga7e00e2">>
> > riak\_pipe\_version : <<"1.4.2-0-g59d1bae">>
> > riak\_core\_version : <<"1.4.2">>/
> >
> > I tried a second time and now when I re-install the package with dpkg -i
> > the output says
> > /(Reading database ... 52512 files and directories currently installed.)
> > \*Preparing to replace riak 2.0.0-1\* (using riak\_2.0.0-1\_amd64.deb) ...
> > Unpacking replacement riak ...
> > Setting up riak (2.0.0-1) ...
> > Processing triggers for man-db .../
> >
> > So this makes me think it detects somehow that version 2.0.0-1 is
> running
> > but riak-admin still says 1.4.2...
> >
> > What am I doing wrong?
> >
> > Thanks for your help!
> >
> >
> >
> > --
> > View this message in context:
> http://riak-users.197444.n3.nabble.com/Upgrading-1-4-to-2-0-tp4031821.html
> > Sent from the Riak Users mailing list archive at Nabble.com.
> >
> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > riak-users mailing list
> > [hidden email] 
> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> [hidden email] 
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
> ------------------------------
> If you reply to this email, your message will be added to the discussion
> below:
>
> http://riak-users.197444.n3.nabble.com/Upgrading-1-4-to-2-0-tp4031821p4031876.html
> To unsubscribe from Upgrading 1.4 to 2.0, click here
> 
> .
> NAML
> 
>




--
View this message in context: 
http://riak-users.197444.n3.nabble.com/Upgrading-1-4-to-2-0-tp4031821p4031881.html
Sent from the Riak Users mailing list archive at Nabble.com.\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

