---
title: "Re: Changing the filesystem"
description: ""
project: community
lastmod: 2013-08-14T09:48:06-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12033"
mailinglist_parent_id: "msg12005"
author_name: "dilip kumar"
project_section: "mailinglistitem"
sent_date: 2013-08-14T09:48:06-07:00
---


Permissions are fine 

Regards,
Dilip


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
 From: John White 
To: dilip kumar  
Sent: Wednesday, 14 August 2013 9:15 PM
Subject: Re: Changing the filesystem
 


Can you verify the permissions of your /mnt/xfs\_riak/leveldb directory are 
accessible by the riak user?

-- 
John White



On August 14, 2013 at 2:34:19 PM, dilip kumar (dilip\_nuta...@yahoo.co.in) wrote:
Hi John,
>
>
>This is the log:
>
>
>@riak\_kv\_bitcask\_backend:make\_data\_dir:641 Failed to create bitcask dir 
>1050454301831586472458898473514828420377701515264: eacces
>2013-08-14 07:03:29.965 [error] <0.555.0>@riak\_kv\_bitcask\_backend:start:120 
>Failed to start bitcask backend: eacces
>2013-08-14 07:03:29.965 [error] <0.555.0>@riak\_kv\_vnode:init:375 Failed to 
>start riak\_cs\_kv\_multi\_backend Reason: 
>[{riak\_kv\_bitcask\_backend,eacces},{riak\_kv\_eleveldb\_backend,{db\_open,"IO 
>error: 
>/mnt/xfs\_riak/leveldb/1050454301831586472458898473514828420377701515264/LOCK: 
>No such file or directory"}}]
>2013-08-14 07:03:29.969 [notice] <0.555.0>@riak:stop:46 "backend module failed 
>to start."
>
>
>
>
>Regards,
>Dilip
>
>
>
>\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> From: John White 
>To: dilip kumar  
>Sent: Tuesday, 13 August 2013 10:37 PM
>Subject: Re: Changing the filesystem
> 
>
>
>Dilip,
>
>
>Can you restart Riak with a riak stop then riak start?  If this fails a ping, 
>can you please attach a riak console output.
>
>
>
>
>-- 
>John White
>
>
>
>On August 13, 2013 at 7:25:51 PM, dilip kumar (dilip\_nuta...@yahoo.co.in) 
>wrote:
>Hi Hector,
>>
>>
>>This is what happens, after changing the directories in riak\_kv section on 
>>/etc/riak/app.config:
>>
>>
>># riak restart
>>
>>  ok
>># stanchion restart
>>  ok
>># riak-cs start
>>   riak-cs failed to start within 15 seconds,
>>
>>   see the output of 'riak-cs console' for more information.
>>   If you want to wait longer, set the environment variable
>>   WAIT\_FOR\_ERLANG to the number of seconds to wait.
>># riak ping
>>
>>    Node 'riak@machine105' not responding to pings.
>>
>>
>>Below is the output of `riak-cs console`
>>
>>
>>Eshell V5.9.1  (abort with ^G)
>>(riak-cs@machine105)1> 12:24:36.456 [error] CRASH REPORT Process <0.130.0> 
>>with 0 neighbours exited with reason: {tcp,econnrefused} in 
>>gen\_server:init\_it/6 line 320
>>/usr/lib64/riak-cs/lib/os\_mon-2.2.9/priv/bin/memsup: Erlang has closed.
>>                                                                        
>>Erlang has closed
>>                                                                              
>>           {"Kernel pid 
>>terminated",application\_controller,"{application\_start\_failure,riak\_cs,{shutdown,{riak\_cs\_app,start,[normal,[]]}}}"}
>>Kernel pid terminated (application\_controller) 
>>({application\_start\_failure,riak\_cs,{shutdown,{riak\_cs\_app,start,[normal,[]]}}})
>>
>>
>>
>>
>>Regards,
>>Dilip
>>
>>
>>
>>\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> From: Hector Castro 
>>To: dilip kumar  
>>Cc: "riak-users@lists.basho.com"  
>>Sent: Tuesday, 13 August 2013 7:49 PM
>>Subject: Re: Changing the filesystem
>> 
>>
>>Hi Dilip,
>>
>>Are you making these changes to Riak's app.config?
>>
>>If the `riak-cs start` command isn't working, that's generally an
>>indicator that Riak is not running. What happens when you execute
>>`riak ping`?
>>
>>--
>>Hector
>>
>>
>>On Tue, Aug 13, 2013 at 9:20 AM, dilip kumar  
>>wrote:
>>> Hi,
>>>
>>> How do I change the filesystem where the RIAK CS buckets could run. Changing
>>> the data\_root values in storage\_backend is not working as it is specified in
>>> a FAQ
>>> (http://docs.basho.com/riakcs/latest/cookbooks/faqs/riak-cs/#is-it-possible-to-specify-a-file-system-where-my-r).
>>>
>>> When I change the below specified data\_root values in Storage Backend, the
>>> "stanchion start" and "riak-cs start" are not working.
>>>
>>>
>>>
>>> {add\_paths, ["/usr/lib64/riak-cs/lib/riak\_cs-1.3.1/ebin"]},
>>> {storage\_backend, riak\_cs\_kv\_multi\_backend},
>>> {multi\_backend\_prefix\_list, [{<<"0b:">>, be\_blocks}]},
>>> {multi\_backend\_default, be\_default},
>>> {multi\_backend, [
>>>    {be\_default, riak\_kv\_eleveldb\_backend, [
>>>        {max\_open\_files, 50},
>>>        {data\_root, "/var/lib/riak/leveldb"}
>>>    ]},
>>>    {be\_blocks, riak\_kv\_bitcask\_backend,
 [
>>>        {data\_root, "/var/lib/riak/bitcask"}
>>>    ]}
>>>
 ]},
>>>
>>> Regards,
>>> Dilip
>>>
>>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>> riak-users mailing list
>>> riak-users@lists.basho.com
>>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>>
>>
>>
>>
>
>\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

