---
title: "Re: Trouble accessing data"
description: ""
project: community
lastmod: 2011-01-20T08:52:38-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02031"
mailinglist_parent_id: "msg02024"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2011-01-20T08:52:38-08:00
---


Hi Florian,

It looks like you may have renamed the node at some point. The
ring\_membership currently reports that riak@127.0.0.1 is the only member,
however, the node itself is named riak@192.168.1.109.

Can you shutdown the node and run "riak-admin reip riak@127.0.0.1
riak@192.168.1.109"?

Once that is done, start the node and test ago.

Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Thu, Jan 20, 2011 at 3:21 AM, Florian Odronitz  wrote:

> Hi all,
>
> I have problems accessing data on a solitary riak node.
>
> I tried to connect via protocol buffers:
> 7> riakc\_pb\_socket:ping(Pid).
> pong
> 8> riakc\_pb\_socket:get(Pid, <<"test">>, <<"test">>).
>
> =ERROR REPORT==== 20-Jan-2011::12:02:39 ===
> \*\* Generic server <0.43.0> terminating
> \*\* Last message in was {req\_timeout,#Ref<0.0.0.71>}
> \*\* When Server state == {state,"192.168.1.109",8087,false,false,undefined,
> undefined,
> {[],[]},
> 1,[],100}
> \*\* Reason for termination ==
> \*\* disconnected
> \*\* exception exit: disconnected
>
>
> A similar thing happens with http:
> dark-fish:~ odo101$ curl 192.168.1.109:8098/riak/test/
>
> {"props":{"name":"test","n\_val":3,"allow\_mult":false,"last\_write\_wins":false,"precommit":[],"postcommit":[],"chash\_keyfun":{"mod":"riak\_core\_util","fun":"chash\_std\_keyfun"},"linkfun":{"mod":"riak\_kv\_wm\_link\_walker","fun":"mapreduce\_linkfun"},"old\_vclock":86400,"young\_vclock":20,"big\_vclock":50,"small\_vclock":10,"r":"quorum","w":"quorum","dw":"quorum","rw":"quorum"}}
> dark-fish:~ odo101$ curl 192.168.1.109:8098/riak/test/test
> request timed out
>
> The log files in /var/log/riak don't seem to report any errors.
>
> So it looks like the node answers and can return metadata but has trouble
> accessing data.
>
> The riak node runs on a virtual machine (via VirtualBox) using Ubuntu 10.10
> server.
> I tried installing from source and installing from the package. I also
> tried running riak as root. The result was always the same.
>
> Below is the status of the riak node.
>
> Any help is appreciated.
>
> Best,
> Florian
>
>
> riak@riak:~$ riak-admin status
> 1-minute stats for 'riak@192.168.1.109'
> -------------------------------------------
> vnode gets : 0
> vnode\_puts : 0
> read\_repairs : 0
> vnode\_gets\_total : 0
> vnode\_puts\_total : 0
> node\_gets : 1
> node\_gets\_total : 9
> node\_get\_fsm\_time\_mean : 60007629.0
> node\_get\_fsm\_time\_median : 60007629
> node\_get\_fsm\_time\_95 : 60007629
> node\_get\_fsm\_time\_99 : 60007629
> node\_get\_fsm\_time\_100 : 60007629
> node\_puts : 0
> node\_puts\_total : 0
> node\_put\_fsm\_time\_mean : undefined
> node\_put\_fsm\_time\_median : undefined
> node\_put\_fsm\_time\_95 : undefined
> node\_put\_fsm\_time\_99 : undefined
> node\_put\_fsm\_time\_100 : undefined
> read\_repairs\_total : 0
> cpu\_nprocs : 138
> cpu\_avg1 : 0
> cpu\_avg5 : 5
> cpu\_avg15 : 0
> mem\_total : 516673536
> mem\_allocated : 118091776
> disk : [{"/",7852740,29},
> {"/dev",245560,1},
> {"/dev/shm",252280,0},
> {"/var/run",252280,1},
> {"/var/lock",252280,0},
> {"/var/lib/ureadahead/debugfs",7852740,29}]
> nodename : 'riak@192.168.1.109'
> connected\_nodes : []
> sys\_driver\_version : <<"1.5">>
> sys\_global\_heaps\_size : 0
> sys\_heap\_type : private
> sys\_logical\_processors : 1
> sys\_otp\_release : <<"R13B04">>
> sys\_process\_count : 154
> sys\_smp\_support : false
> sys\_system\_version : <<"Erlang R13B04 (erts-5.7.5) [source] [64-bit] [rq:1]
> [async-threads:64] [kernel-poll:true]">>
> sys\_system\_architecture : <<"x86\_64-pc-linux-gnu">>
> sys\_threads\_enabled : true
> sys\_thread\_pool\_size : 64
> sys\_wordsize : 8
> ring\_members : ['riak@127.0.0.1']
> ring\_num\_partitions : 64
> ring\_ownership : <<"[{'riak@127.0.0.1',64}]">>
> ring\_creation\_size : 64
> storage\_backend : riak\_kv\_bitcask\_backend
> pbc\_connects\_total : 7
> pbc\_connects : 0
> pbc\_active : 0
> cluster\_info\_version : <<"1.0.0">>
> luwak\_version : <<"1.0.0">>
> skerl\_version : <<"1.0.0">>
> riak\_kv\_version : <<"0.14.0">>
> riak\_core\_version : <<"0.14.0">>
> bitcask\_version : <<"1.1.5">>
> luke\_version : <<"0.2.3">>
> webmachine\_version : <<"1.8.0">>
> mochiweb\_version : <<"1.7.1">>
> erlang\_js\_version : <<"0.5.0">>
> runtime\_tools\_version : <<"1.8.3">>
> crypto\_version : <<"1.6.4">>
> os\_mon\_version : <<"2.2.5">>
> riak\_err\_version : <<"1.0.0">>
> sasl\_version : <<"2.1.9">>
> stdlib\_version : <<"1.16.5">>
> kernel\_version : <<"2.13.5">>
> executing\_mappers : 0
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

