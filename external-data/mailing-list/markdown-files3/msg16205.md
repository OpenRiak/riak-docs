---
title: "Re: my cluster spontaneously loses a node after ~48hrs"
description: ""
project: community
lastmod: 2015-06-04T11:23:30-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16205"
mailinglist_parent_id: "msg16190"
author_name: "Jason Golubock"
project_section: "mailinglistitem"
sent_date: 2015-06-04T11:23:30-07:00
---


Matt - I appreciate the follow up. I haven't seen my locking problem again 
since we performed our updates. We are stable in production with rapidly 
growing data (perhaps you have read about our new Hound app, which was just 
announced and released in private beta on Android this week!)

Unfortunately there's no way to know exactly which library was causing the 
problem with my riak clusters, as I mentioned. I had been running dev clusters 
for months with no problems. riak has always been very stable for me.

best regards,
~ Jason



> On Jun 3, 2015, at 12:11 PM, Matthew Brender  wrote:
> 
> Hi Jason, 
> 
> Given the unique event you had here, I'm curious to hear whether you saw 
> further restarts. This kind of spontaneousness is the polar opposite of what 
> most users report from Riak, which is why I want to follow up. 
> 
> Thanks, 
> Matt
> 
> 
> Matt Brender | Developer Advocacy Lead
> Basho Technologies
> t: @mjbrender
> 
> 
>> On Tue, May 12, 2015 at 2:30 PM, Jason Golubock  wrote:
>> 
>> Bryan- thanks for this tip,
>> i probably wouldn't have suspected ulimit.
>> 
>> It's been 4 days now since my last restart, which i've never reached before.
>> so i'm cautious to say that the problem has gone away.
>> 
>> i suspect this progress is due to some library updates
>> we performed on the hosts. it turns out some of them were out
>> of date, which i wan't aware of. we updated them all at once,
>> so there's no way to identify which one(s) caused the problem,
>> assuming that was the problem. hopeful now,
>> 
>> ~ Jason
>> 
>> 
>> 
>> 
>>> On 12.05.2015 05:37, Bryan Hunt wrote:
>>> Also ensure ulimit is set according to the recommendations on
>>> docs.basho.com. ulimit set too low is a common cause of node termination.
>>> On 5 May 2015 21:23, "Jason Golubock"  wrote:
>>> 
>>>> 
>>>> Scott - thanks for the response,
>>>> yes i've used all those tools at one point, but i'm not sure
>>>> exactly what i'm looking for or what to do with the output.
>>>> 
>>>> i've restarted my cluster again but next time it happens,
>>>> i'll attach some output/snapshot files.
>>>> 
>>>> ~ Jason
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> 
>>>> On 04.05.2015 19:32, Scott Lystig Fritchie wrote:
>>>> 
>>>>> Hi, Jason. Have you tried using the system inspection utilities bundled
>>>>> with Riak?
>>>>> 
>>>>> http://docs.basho.com/riak/latest/ops/running/tools/riak-admin/#top
>>>>> 
>>>>> http://docs.basho.com/riak/latest/ops/running/tools/riak-admin/#cluster-info
>>>>> 
>>>>> http://docs.basho.com/riak/latest/ops/upgrading/production-checklist/#Confirming-Configuration-with-Riaknostic
>>>>> 
>>>>> The "top" utility can show very quickly the most active processes within
>>>>> the virtual machine.
>>>>> 
>>>>> -Scott
>>>> 
>>>> 
>>>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>>> riak-users mailing list
>>>> riak-users@lists.basho.com
>>>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>> 
>>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>> riak-users mailing list
>>> riak-users@lists.basho.com
>>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>> 
>> 
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> 
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

