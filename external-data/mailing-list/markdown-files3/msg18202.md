---
title: "Re: Riak 2.1.4 crashes with Out of Memory Error"
description: ""
project: community
lastmod: 2017-05-04T02:10:22-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18202"
mailinglist_parent_id: "msg18201"
author_name: "Magnus Kessler"
project_section: "mailinglistitem"
sent_date: 2017-05-04T02:10:22-07:00
---


On 4 May 2017 at 09:56, Arulappan, Jerald (Jerald) 
wrote:

> Hi Magnus Kessler,
>
>
>
> The configuration looks good.
>
>
>
> [root@server205 bin]# ./riak config effective | grep "\_dir"
>
> anti\_entropy.data\_dir = $(platform\_data\_dir)/anti\_entropy
>
> bitcask.data\_root = $(platform\_data\_dir)/bitcask
>
> leveldb.data\_root = $(platform\_data\_dir)/leveldb
>
> log.console.file = $(platform\_log\_dir)/console.log
>
> log.crash.file = $(platform\_log\_dir)/crash.log
>
> log.error.file = $(platform\_log\_dir)/error.log
>
> platform\_bin\_dir = ./bin
>
> platform\_data\_dir = ./data
>
> platform\_etc\_dir = ./etc
>
> platform\_lib\_dir = ./lib
>
> platform\_log\_dir = ./log
>
> ring.state\_dir = $(platform\_data\_dir)/ring
>
> search.anti\_entropy.data\_dir = $(platform\_data\_dir)/yz\_anti\_entropy
>
> search.root\_dir = $(platform\_data\_dir)/yz
>
> search.temp\_dir = $(platform\_data\_dir)/yz\_temp
>
>
>
> Regards,
>
> Jerald
>
>
>
Hi Jerald,

The that fill up the logs at a very high rate are due to the use of
relative file paths for platform\_{bin,data,etc,lib,log}\_dir. Those entries
should generally contain absolute file paths, such as /var/lib/riak, as
init systems may start the application from an arbitrary working directory.
Please check if the errors go away after adjusting platform\_data\_dir.

Kind Regards,

Magnus

-- 
Magnus Kessler
Client Services Engineer
Basho Technologies Limited

Registered Office - 8 Lincolnâ€™s Inn Fields London WC2A 3BP Reg 07970431
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

