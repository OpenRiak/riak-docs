---
title: "Continuous HTTP POSTs to Riak"
description: ""
project: community
lastmod: 2016-03-03T15:25:10-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17100"
author_name: "Qiang Cao"
project_section: "mailinglistitem"
sent_date: 2016-03-03T15:25:10-08:00
---


Hi All,

I use Riak as a KV store and send http requests to its REST API to update
entries. Instead of using curl, I use Apache HttpClient to send requests.

One thing bothering me is that sometimes I find the entry isn't properly
updated after an HTTP POST/PUT. For example, if I do an HTTP GET on the
same key immediately after an HTTP POST, the chance is good that I get a
stale value. This happens when I continuously POST to a multi-node Riak,
and some of the posts target the same key.

Also, I find I don't have this issue if I use a single-node Riak. So I
think something wasn't correct with my multi-node Riak cluster (I set
"allow\_mult" to false). Any thoughts?

Thanks in advance!

Qiang
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

