---
title: "Re: Absolute consistency"
description: ""
project: community
lastmod: 2012-01-06T05:56:42-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06152"
mailinglist_parent_id: "msg06145"
author_name: "Thomas Bakketun"
project_section: "mailinglistitem"
sent_date: 2012-01-06T05:56:42-08:00
---


On 2012-01-05 22:52, Tim Robinson wrote:

> On a side note, it looks like we've completely highjacked the
> "Absolute consistency" question initially proposed. 

Yes, the answers so far doesn't explain the behaviour I have observed.
If that particular key would happen to have two of it's primary replica
on the same node, then that single node would be able to answer fetch
request with pw=quorum even if it's the only node currently running. But
that node would also be a have to be online for pw=quorum read of the
key to be successful. This not what I observed, quorum reads are
successful when any two of the three nodes are online. Also the
surprising results I get only last for a few seconds, and it's not one
particular node that gives the surprising results.

Another thing I observed. Sometimes the vclock of an object starts to
flap between two different values. The object value is the same. Here's
an example:

a85hYGBgzmDKBVIc6TXMFn6HL3ZmMCUxMLC65bEyzM6pPsEHlRWoNl7nd/jyeohsLVB2JZKsoK2Av9+qLz4Q2UNA2U8g2SwA


a85hYGBgzmDKBVIcAtXG6/wOX16fwZTEwMBam8fKsDKn+gQfVFbQVsDfb9UXH4jsIaDsJyTZ9BpmC7/DFzshsm5A2dkg2SwA

No writes are done when this happens. One node always returns the first
vclock, while the two others occupationally returns the second one. I
have not supplied any client-id when writing to the key.

-- 
Thomas Bakketun, Senior software developer
T. +47 21 53 69 40
Copyleft Solutions
www.copyleftsolutions.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

