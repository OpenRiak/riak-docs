---
title: "Re: Bucket properties not updated"
description: ""
project: community
lastmod: 2013-10-10T14:11:53-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12595"
mailinglist_parent_id: "msg12594"
author_name: "Daniel Iwan"
project_section: "mailinglistitem"
sent_date: 2013-10-10T14:11:53-07:00
---


There is no coordination between servers so concurrent update of properties
is possible.
That would certainly explain a lot.

In my case though I'm setting allow\_mult back to true so eventually that
should win? Or would propagation through ring potentially break that logic
and allow\_multi = false could win?
Also could clock drift on the servers be problematic here?
It's good to hear you plan to solve that. I'm assuming it's going to be
some sort of vclock causality applied to properties?

D.


On 10 October 2013 21:06, Jordan West  wrote:

> Hi Daniel,
>
> You mentioned this was running on three servers simultaneously. Is it
> possible that two of the bucket property updates were truly concurrent? If
> so, an implementation detail of bucket properties: they are last-write-wins
> (and unfortunately the resolution is in milliseconds)\*. So its feasible
> that in some cases the allow\_mult=false would win.
>
> Cheers,
> Jordan
>
> \*this is something we plan to address in future releases.
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

