---
title: "Re: Riak Crash"
description: ""
project: community
lastmod: 2013-08-11T14:23:16-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11971"
mailinglist_parent_id: "msg11953"
author_name: "Lucas Cooper"
project_section: "mailinglistitem"
sent_date: 2013-08-11T14:23:16-07:00
---


Hey Mark,

As I've said to two of the other Basho guys (privately), I'm running Riak
1.4 on 3 512MB Xen VPS.

I've since come to the conclusion that Riak is not a good solution for me
in the short term, it requires a great deal more RAM than I am prepared to
give it. Notably, the max\_open\_files default and minimum value for a vnode
is 30, which means that a vnode will \*always \*require 120MB of RAM \*minimum.
\* With a static ring size, you need to have a cluster ready to handle your
maximum memory load when you first create it.

This makes Riak rather impractical for me (I don't have the hardware to
throw at a Riak cluster right now but I'd like something that can scale)
and has led to me switching to MongoDB which, although it requires a little
extra configuration in the future, is working great right now. I'm really
missing Riak's text search though.

On Sun, Aug 11, 2013 at 3:50 AM, Mark Phillips  wrote:

> Hey Lucas,
>
> Like Evan, I haven't had time to dig into the logs. Just so we know what
> the baseline is here:
>
> \* How many nodes of Riak?
> \* What version of Riak?
> \* What type of hardware?
> \* What's your open files limit [1] ?
>
> Mark
>
> [1] http://docs.basho.com/riak/latest/ops/tuning/open-files-limit/
>
>
>
>
>
> On Sat, Aug 10, 2013 at 9:27 AM, Lucas Cooper wrote:
>
>> Yes, Search indexing is enabled.
>> On 10/08/2013 11:27 PM, "Russell Brown"  wrote:
>>
>>> Are you using riak search?
>>>
>>> On 9 Aug 2013, at 18:17, Lucas Cooper  wrote:
>>>
>>> > I had a crash of an entire cluster early this morning, I'm not
>>> entirely sure why, seems to be something with the indexer or Protocol
>>> Buffers (or my use of them). Here are the various logs:
>>> http://egf.me/logs.tar.xz
>>> >
>>> > Any idea what's up? All this crashing is kinda putting me off Riak .\_.
>>> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>> > riak-users mailing list
>>> > riak-users@lists.basho.com
>>> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>>
>>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

