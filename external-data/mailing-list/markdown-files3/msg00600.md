---
title: "Re: rolling upgrade from 0.10 to 0.11"
description: ""
project: community
lastmod: 2010-06-15T04:55:33-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00600"
mailinglist_parent_id: "msg00596"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2010-06-15T04:55:33-07:00
---


Gareth,

On 0.10 you can execute this sequence of commands from the console (or 
riak-admin attach) of any node, to remove the node you want:

1> {ok, Client} = riak:local\_client().
2> Client:remove\_from\_cluster('r...@10.1.5.37')

Of course, replace 'r...@10.1.5.37' with the name of the node you want to 
remove. Then use Ctrl-D to quit the shell but keep Erlang running.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On Jun 15, 2010, at 12:43 AM, Gareth Stokes wrote:

> so im performing a rolling upgrade from 0.10 to 0.11 and have found a problem 
> with the transition document found here
> http://hg.basho.com/riak/raw/efc290fd9c23/TRANSITION
> 
> long story short, section 1.2.2 says i need to run "riak-admin leave" but 
> this is not an option for me. 
> the release notes for 0.11 say "142 - riak-admin leave restored" which im 
> guessing means that 0.10 isn't supposed to have that functionality
> 
> so because im using innostore at the moment, i figure i can update to v0.11 
> without changing any config files and then when the node is at the correct 
> version i can then hit the "riak-admin leave" button, switch the backend over 
> to bitcask and then rejoin the cluster.
> 
> does that sound correct?
> 
> cheers, 
> gareth stokes
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

