---
title: "Re: Issues with high node load and very slow response"
description: ""
project: community
lastmod: 2014-07-28T08:53:31-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14562"
mailinglist_parent_id: "msg14558"
author_name: "Jordan West"
project_section: "mailinglistitem"
sent_date: 2014-07-28T08:53:31-07:00
---


adding the list back


On Mon, Jul 28, 2014 at 8:50 AM, Jordan West  wrote:

> On Mon, Jul 28, 2014 at 7:43 AM, Chaim Solomon  > wrote:
>>
>> I'm getting lots of these still:
>> 2014-07-28 10:40:52.915 [info] <0.822.0>@yz\_kv:should\_handoff:157 waiting
>> for bucket types prefix and indexes to agree between 'riak@10.128.179.86'
>> and 'riak@10.128.220.242'
>> 2014-07-28 10:41:22.527 [info] <0.30017.425>@yz\_kv:should\_handoff:157
>> waiting for bucket types prefix and indexes to agree between '
>> riak@10.128.179.86' and 'riak@10.128.220.242'
>>
>
> Unfortunately, there is more than one case that can cause this message to
> occur. Can you try one more command (from any node in the cluster):
>
> ```
> rpc:multicall([node() | nodes()], yz\_solr, cores, [], 5000).
> ```
>
> I'm working on a patch to improve the logging here (so running these
> commands won't be necessary) but that may take a bit to get reviewed.
>
>
>> Only one node (10.128.220.135) is giving me this:
>> 2014-07-28 10:31:31.618 [error] <0.847.706>@yz\_kv:index:206 failed to
>> index object {<<"linkmeta">>,<<"http://scn.sap.com/thread/3262664">>}
>> with error {"Failed to index docs",{error,req\_timedout}} because
>> [{yz\_solr,index,3,[{file,"src/yz\_solr.erl"},{line,192}]},{yz\_kv,index,7,[{file,"src/yz\_kv.erl"},{line,258}]},{yz\_kv,index,3,[{file,"src/yz\_kv.erl"},{line,193}]},{riak\_kv\_vnode,actual\_put,6,[{file,"src/riak\_kv\_vnode.erl"},{line,1416}]},{riak\_kv\_vnode,perform\_put,3,[{file,"src/riak\_kv\_vnode.erl"},{line,1404}]},{riak\_kv\_vnode,do\_put,7,[{file,"src/riak\_kv\_vnode.erl"},{line,1199}]},{riak\_kv\_vnode,handle\_command,3,[{file,"src/riak\_kv\_vnode.erl"},{line,485}]},{riak\_core\_vnode,vnode\_command,3,[{file,"src/riak\_core\_vnode.erl"},{line,345}]}]
>>
>>
> My suspicion is the command above will shed some light on the error here.
>
> Also, so we don't leave behind the main issue of CPU usage, is this node
> one of the two having problems? Which is the other?
>
> Thanks!
> Jordan
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

