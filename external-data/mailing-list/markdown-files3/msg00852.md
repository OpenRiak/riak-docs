---
title: "Re: Starting off - idomatic riak"
description: ""
project: community
lastmod: 2010-08-09T03:33:46-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00852"
mailinglist_parent_id: "msg00851"
author_name: "Steve Lloyd"
project_section: "mailinglistitem"
sent_date: 2010-08-09T03:33:46-07:00
---


Thanks Alexander - very useful.
I also subsequently came across this presentation 
http://www.slideshare.net/seancribbs/schema-design-for-riak

Steve

On 9 Aug 2010, at 08:29, Alexander Sicular wrote:

> A common patterns for doing this would be to store the document in something 
> like docs/docid and the meta in a derived location such as docs\_meta/docid. 
> You could map reduce the meta in the docs\_meta bucket to get a list of keys 
> that would exist in the docs bucket. Derived locations are a good way to go 
> especially in 1 to 1 relationships. Link walking is another method. Your meta 
> document could store links to other documents in its link headers that would 
> also be retrieved either by a link walking m/r or further down the line after 
> some query style m/r where you filter the metadata itself. Links are 
> unidirectional in Riak.
> 
> Hope this helps. -Alexander
> 
> 
> 
> On Aug 9, 2010, at 3:13 AM, Steve Lloyd wrote:
> 
>> As a complete new starter on riak, I wonder if someone could advise on what 
>> is the idiomatic way of using riak in the case of wanting to store a 
>> document together with some associated metadata (and wanting to retrieve the 
>> object based on metadata queries). Application-imposed link from the 
>> 'metadata' document to the key of the 'main' document? A parent child 
>> relationship? Thanks.
>> 
>> 
>> ---- 
>> International Baccalaureate
>> Steve Lloyd Research Engineer-Business Analysis
>> Peterson House, Malthouse Ave. Cardiff Gate, CARDIFF CF23 8GL, United Kingdom
>> Tel: +44 2920 547869 | Fax: +44 2920 547779 | Web: http://www.ibo.org
>> 
>> 
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> 

----
International Baccalaureate
Steve Lloyd Research Engineer-Business Analysis
Peterson House, Malthouse Ave. Cardiff Gate, CARDIFF CF23 8GL, United Kingdom
Tel: +44 2920 547869 | Fax: +44 2920 547779 | Web: http://www.ibo.org


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

