---
title: "Trouble with Riak Search JSON Extractor"
description: ""
project: community
lastmod: 2015-03-22T13:15:06-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15905"
author_name: "Matt Brooks"
project_section: "mailinglistitem"
sent_date: 2015-03-22T13:15:06-07:00
---


Hello,

I have a quick question about a search schema that would index an array of
strings in a JSON object. I am storing user data in JSON that looks
something like this:

{
 "name" : "John Smith",
 "email" : "jsm...@gmail.com",
 "groups" : [
 "3304cf79",
 "abe155cf"
 ]}

The custom schema I use for users includes this field entry:



I also have the following field type entry:



I assumed that these entries would allow me to search for users using a
query like:

curl $RIAK/search/query/user?wt=json&q=groups:3304cf79

But no docs are returned. I'm almost certain I have an issue with my
schema. How can I query users by string entries in the "groups" array?

Thank you,
Matt.
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

