---
title: "Re: Delete operation not allowed. How to change it?"
description: ""
project: community
lastmod: 2011-12-21T20:57:14-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06033"
mailinglist_parent_id: "msg06019"
author_name: "Jammy"
project_section: "mailinglistitem"
sent_date: 2011-12-21T20:57:14-08:00
---


I see. Thanks.


On 22 Dec, 2011, at 2:56 AM, Ryan Zezeski wrote:

> Jammy,
> 
> The reason why is an implementation detail but is done to protect users from 
> unknowingly performing a potentially costly operation. The root issue is 
> that buckets are a logical idea in Riak, not physical. Deleting a bucket 
> requires traversing all keys in the DB and performing a delete on each match 
> individually. It's not a simple nor atomic operation.
> 
> HTH,
> -Ryan 
> 
> [Sent from my iPhone]
> 
> On Dec 21, 2011, at 1:03 AM, Jammy  wrote:
> 
>> Thanks Alexander.
>> 
>> But can someone tell me why? Isn't it a good way to do purge operation based 
>> on bucket?
>> 
>> 
>> On 21 Dec, 2011, at 1:38 PM, Alexander Sicular wrote:
>> 
>>> You can't delete a bucket. Period. You have to iterate over each key in a 
>>> bucket. 
>>> 
>>> Cheers, Alexander 
>>> 
>>> @siculars on twitter
>>> http://siculars.posterous.com
>>> 
>>> Sent from my iRotaryPhone
>>> 
>>> On Dec 21, 2011, at 0:25, Jammy  wrote:
>>> 
>>>> 
>>>> 
>>>> Hi~@list,
>>>> 
>>>> I'm new to riak. When I use HTTP API to delete a bucket, I got a response 
>>>> as following.
>>>> HTTP/1.1 405 Method Not Allowed [Server: MochiWeb/1.1 WebMachine/1.9.0 
>>>> (someone had painted it blue), Date: Wed, 21 Dec 2011 05:24:33 GMT, 
>>>> Content-Length: 0, Allow: HEAD, GET, PUT]
>>>> 
>>>> Is there a way to make Delete operation allowed?
>>>> 
>>>> 
>>>> Thanks
>>>> Jammy
>>>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>>> riak-users mailing list
>>>> riak-users@lists.basho.com
>>>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>> 
>> 
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

