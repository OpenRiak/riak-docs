---
title: "Dont work SSL distribution"
description: ""
project: community
lastmod: 2013-12-04T04:09:56-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13147"
author_name: "Игонин Михаил"
project_section: "mailinglistitem"
sent_date: 2013-12-04T04:09:56-08:00
---


 Hi, colleagues, please t ell me how to properly enable encryption between 
nodes? I have only uncommented the following lines in vm.args:
-proto\_dist inet\_ssl
-ssl\_dist\_opt client\_certfile "/etc/riak/cert.pem"
-ssl\_dist\_opt server\_certfile "/etc/riak/cert.pem" , 

and got the error :
---------------------------------------
[mike@srv riak]$ sudo riak console
[sudo] password for mike:
Node 'riak@127.0.0.1' not responding to pings.
config is OK
!!!!
!!!! WARNING: ulimit -n is 1024; 4096 is the recommended minimum.
!!!!
Exec: /usr/lib64/riak/erts-5.9.1/bin/erlexec -boot 
/usr/lib64/riak/releases/1.4.2/riak -config /etc/riak/app.config -pa 
/usr/lib64/riak/lib/basho-patches -args\_file /etc/riak/vm.args -- console
Root: /usr/lib64/riak
{error\_logger,{{2013,12,4},{15,57,16}},"Protocol: ~p: not 
supported~n",["inet\_ssl"]}
{error\_logger,{{2013,12,4},{15,57,16}},crash\_report,[[{initial\_call,{net\_kernel,init,['Argument\_\_1']}},{pid,<0.20.0>},{registered\_name,[]},{error\_info,{exit,{error,badarg},[{gen\_server,init\_it,6,[{file,"gen\_server.erl"},{line,320}]},{proc\_lib,init\_p\_do\_apply,3,[{file,"proc\_lib.erl"},{line,227}]}]}},{ancestors,[net\_sup,kernel\_sup,<0.10.0>]},{messages,[]},{links,[<0.17.0>]},{dictionary,[{longnames,true}]},{trap\_exit,true},{status,running},{heap\_size,610},{stack\_size,24},{reductions,221}],[]]}
{error\_logger,{{2013,12,4},{15,57,16}},supervisor\_report,[{supervisor,{local,net\_sup}},{errorContext,start\_error},{reason,{'EXIT',nodistribution}},{offender,[{pid,undefined},{name,net\_kernel},{mfargs,{net\_kernel,start\_link,[['riak@127.0.0.1',longnames]]}},{restart\_type,permanent},{shutdown,2000},{child\_type,worker}]}]}
{error\_logger,{{2013,12,4},{15,57,16}},supervisor\_report,[{supervisor,{local,kernel\_sup}},{errorContext,start\_error},{reason,shutdown},{offender,[{pid,undefined},{name,net\_sup},{mfargs,{erl\_distribution,start\_link,[]}},{restart\_type,permanent},{shutdown,infinity},{child\_type,supervisor}]}]}
{error\_logger,{{2013,12,4},{15,57,16}},std\_info,[{application,kernel},{exited,{shutdown,{kernel,start,[normal,[]]}}},{type,permanent}]}
{"Kernel pid 
terminated",application\_controller,"{application\_start\_failure,kernel,{shutdown,{kernel,start,[normal,[]]}}}"}
Crash dump was written to: /var/log/riak/erl\_crash.dump
Kernel pid terminated (application\_controller) 
({application\_start\_failure,kernel,{shutdown,{kernel,start,[normal,[]]}}}) 
--------------------------------------------------
riak 1.4.2, Erlang R16B01, RHEL6

Thanks a lot! 

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

