---
title: "Re: riak cluster suddenly became unresponsive"
description: ""
project: community
lastmod: 2013-03-31T14:44:19-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10634"
mailinglist_parent_id: "msg10456"
author_name: "Matthew Von-Maszewski"
project_section: "mailinglistitem"
sent_date: 2013-03-31T14:44:19-07:00
---


Ingo,

I have two guesses that might explain the symptoms: 

 - there is a bad drive in one the nodes, or 

 - one or more nodes begins to use swap space during a compaction or 2i 
iteration.

I might be able to describe / isolate the problem by examining the "LOG" files 
produced by leveldb. Would you consider gathering these files from each of the 
12 nodes and emailing them directly to my address?

Command to gather:

 sort /var/lib/riak/leveldb/\*/LOG\* >~/nodename.LOG
 gzip nodename.LOG

Change "/var/lib/riak" to your data\_root path that is set in eleveldb section 
of app.config. And give each machine a distinct name instead of "nodename".


Also, please paste the output of one node's /proc/meminfo into the email. 
("cat /proc/meminfo")


Matthew


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

