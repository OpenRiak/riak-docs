---
title: "Problem Adding new Nodes to a Cluster - Riak 1.4.1"
description: ""
project: community
lastmod: 2013-09-07T16:38:44-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12205"
author_name: "Drew Goya"
project_section: "mailinglistitem"
sent_date: 2013-09-07T16:38:44-07:00
---


I'm trying to add several nodes to an existing cluster but once I commit
the change to the cluster a "riak-admin member-status" shows no change in
the ring distribution. I dug through the logs and came across these
messages on the existing nodes:

2013-09-07 23:33:28.607 UTC [error]
<0.8033.453>@riak\_core\_handoff\_sender:start\_fold:269 ownership\_transfer
transfer of riak\_kv\_vnode from 'riak@hostname1' 0 to 'riak@hostname2' 0
failed because of error:{badrecord,ho\_acc}
[{riak\_core\_handoff\_sender,start\_fold,5,[{file,"src/riak\_core\_handoff\_sender.erl"},{line,193}]}]
2013-09-07 23:33:28.607 UTC [error] <0.5315.453> CRASH REPORT Process
<0.5315.453> with 0 neighbours exited with reason: no function clause
matching riak\_object:to\_binary\_version(v1, <<"HItemInfo">>, <<"1393">>,
{{ts,{1378,596760,756505}},<<53,1,0,0,0,91,131,108,0,0,0,3,104,2,109,0,0,0,8,75,141,242,154,82,...>>})
line 604 in gen\_server:terminate/6 line 747

And these messages on the new nodes:

2013-09-07 23:35:25.418 UTC [info]
<0.23916.472>@riak\_core\_handoff\_receiver:process\_message:107 Receiving
handoff data for partition
riak\_kv\_vnode:639406966332270026714112114313373821099470487552
2013-09-07 23:35:25.436 UTC [info]
<0.23916.472>@riak\_core\_handoff\_receiver:handle\_info:73 Handoff receiver
for partition 639406966332270026714112114313373821099470487552 exited after
processing 0 objects

Rolling restarts on the cluster seemed to help move the ring distribution a
little bit but adding another node hits this problem again. Is this a
problem with 1.4.1? Sould I roll upgrades to 1.4.2?

Thanks in advance!

Drew
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

