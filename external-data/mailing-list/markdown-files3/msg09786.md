---
title: "Re: Map function in erlang that takes entire bucket as input?"
description: ""
project: community
lastmod: 2013-01-10T06:08:04-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09786"
mailinglist_parent_id: "msg09783"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2013-01-10T06:08:04-08:00
---


Shaan,

While you may be able to specify the entire bucket as input, map
functions only operate on a single input object. If you want to
operate across the entire set, use reduce. (Note that in order to
fetch the objects, you will need a map phase, even if it just returns
its input.)

On Thu, Jan 10, 2013 at 12:56 AM, Shaan Sapra  wrote:
> Hi all,
>
> I'm exploring the erlang-riak-client and trying to write MapReduce functions
> to mimic the ones I've written in Javascript and in the riak-ruby-client.
>
> Following the tutorial here, I have successfully run the query. I have now
> loaded a bucket with 10000 keys into Riak and now I want to write a simple
> map function that queries the bucket and returns all of the objects back to
> me.
>
> I noticed that the input is specified as {<<"groceries">>, <<"mine">>}. Is
> there is a way to specify just the bucket in its entirety? If I wanted to
> query my bucket, would I have to list all 10000 keys in a list?
>
> In the riak-ruby-client, it was possible to add the entire bucket.
>
> Thanks for any help! I'm sure this is a silly question, but I've been hard
> pressed to find good documentation for a novice like me.
>
> Shaan
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>



-- 
Sean Cribbs 
Software Engineer
Basho Technologies, Inc.
http://basho.com/

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

