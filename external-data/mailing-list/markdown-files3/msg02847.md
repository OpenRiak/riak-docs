---
title: "Re: Python client and allow_mult"
description: ""
project: community
lastmod: 2011-04-01T10:29:06-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02847"
mailinglist_parent_id: "msg02843"
author_name: "Eric Moritz"
project_section: "mailinglistitem"
sent_date: 2011-04-01T10:29:06-07:00
---


I'm just tinkering; familiarizing myself with Riak's concurrency
control. I wrote something a while back to explore allow\_mult and I
thought it felt awkward. I've been meaning to ask about it.

Here's the demo:
https://gist.github.com/882055

Eric.

On Fri, Apr 1, 2011 at 1:21 PM, Mark Phillips  wrote:
> Hey Eric,
>
> Can I ask what you're using/trying to use the Riak Python lib for? Is
> this a paid gig or are you just tinkering?
>
> Mark
>
> On Fri, Apr 1, 2011 at 10:08 AM, Eric Moritz  wrote:
>> Does anyone have a standard pattern for working with allow\_mult with
>> the Python library?  I feels a bit awkward to me.  I assume I need to
>> do the following:
>>
>> data = {"foo": "bar"}
>> obj = bucket.get("mykey")
>>
>> if not obj.exists():
>>      obj = bucket.new("mykey", data=data)
>> else:
>>   if obj.has\_siblings():
>>       # do conflict resolution
>>   else:
>>       obj.set\_data(data)
>>
>> obj.store()
>>
>> Is the the way to do it?  If so, that seems like a lot of boiler plating to 
>> me.
>>
>> Eric.
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

