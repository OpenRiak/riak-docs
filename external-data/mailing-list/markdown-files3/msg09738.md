---
title: "Re: Atomicity of if_not_modified?"
description: ""
project: community
lastmod: 2013-01-05T00:45:39-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09738"
mailinglist_parent_id: "msg09734"
author_name: "qaspar"
project_section: "mailinglistitem"
sent_date: 2013-01-05T00:45:39-08:00
---


Justin Sheehy wrote
> On Jan 4, 2013, at 1:25 PM, Les Mikesell wrote:
> 
>> And, doesn't every description of riak behavior have to include the
>> scenario where the network is partitioned and updates are
>> simultaneously performed by entities that can't contact each other?
>> If it weren't for that possibility, it could just elect a master and
>> do real atomic operations.
> 
> Yes, absolutely.
> 
> There are no atomic compare-and-set operations available from Riak,
> regardless of headers and R/W values.
> 
> Conditional HTTP requests are present because they are "free" due to
> Webmachine, and they are sometimes useful, but should not be seen as
> semantically very different from the client doing a read itself to decide
> whether to write.
> 
> -Justin

Agreed. But I think the split-brain scenario could be avoided by setting
DW=DR=2 in addition, in which case at most one call to one of the partitions
can succeed - correct?

Kaspar





--
View this message in context: 
http://riak-users.197444.n3.nabble.com/Atomicity-of-if-not-modified-tp4026430p4026478.html
Sent from the Riak Users mailing list archive at Nabble.com.

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

