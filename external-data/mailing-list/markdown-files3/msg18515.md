---
title: "Re: Riak-2.2.5 progress update"
description: ""
project: community
lastmod: 2018-03-29T06:04:40-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18515"
mailinglist_parent_id: "msg18514"
author_name: "Damien Krotkine"
project_section: "mailinglistitem"
sent_date: 2018-03-29T06:04:40-07:00
---


Hi,

I'm probably coming late to the party, but we have a big number of riak boxes 
running at work, in meta-clusters, so some rings are redundantly storing data. 
I could move one of them to the RC and compare its performance/errors/whatever 
with the non upgraded rings, if you people think it's useful. Poke me if that's 
useful.

Cheers

On Wed, Mar 28, 2018, at 09:07, martin....@bet365.com wrote:
> Awesome progress.
> 
> We're happy to run generalised load tests against RC and share results 
> when completed - probably in the following week.
> 
> Cheers
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> From: riak-users [riak-users-boun...@lists.basho.com] on behalf of 
> Russell Brown [russell.br...@icloud.com]
> Sent: 27 March 2018 19:04
> To: Fred Dushin
> Cc: riak-users
> Subject: Re: Riak-2.2.5 progress update
> 
> Hey Fred,
> 
> I can probably share my configs, yes. I have 4 configs!
> 
> current is riak-2.2.5, the develop-2.2 branch of basho/riak for all 
> configs
> previous is either riak-2.2.3 or riak-2.0.5 (and I have 4 configs as 
> there has to be an EE config, for the repl upgrade tests, since 
> riak-2.2.3 didn’t have repl, but riak\_ee-2.2.3 did)
> legacy is always 1.4.12
> 
> And since some tests have explicit version there are also explicit 
> entries for 2.0.6, 2.0.4, 2.0.2, in each config.
> 
> Does that help?
> 
> Cheers
> 
> Russell
> 
> On 27 Mar 2018, at 18:51, Fred Dushin  wrote:
> 
> > @russeldb do you have ordained values for `current`, `previous`, and 
> > `legacy` to test against?
> >
> > Always the :bane: of riak\_test
> >
> > -Fred
> >
> >> On Mar 27, 2018, at 1:47 PM, Russell Brown  wrote:
> >>
> >> Giddyup died when basho was shuttered. These test runs have all been on 
> >> private infrastructure that doesn’t have a public facing interface.
> >>
> >> I guess I could probably cut and paste logs into a gist for you. But I’d 
> >> have to take the time to sanitize them, just in case. I’d rather not take 
> >> that time unless absolutely necessary.
> >>
> >> On 27 Mar 2018, at 18:43, Bryan Hunt  
> >> wrote:
> >>
> >>> Could you share URL for those outstanding failures please. B
> >>>
> >>>> On 27 Mar 2018, at 16:37, Russell Brown  wrote:
> >>>>
> >>>> Hi Again,
> >>>>
> >>>> More progress update. All the PRs are merged (thanks Bryan Hunt (ESL)
> >>>> and Nick/Martin (bet365)).
> >>>>
> >>>> I’m planning on tagging Riak with riak-2.2.5RC1 this week.
> >>>>
> >>>> We haven’t been able to run load tests. I’m not 100% sure that all
> >>>> basho’s releases had extensive load tests run, though I know that
> >>>> later releases had a perf team, and MvM always load tested leveldb.
> >>>>
> >>>> The aim is to have those willing parties that deploy riak, and
> >>>> therefore have perf testing already set up, to test and report
> >>>> back. The NHS will run load tests and report results back. I hope that 
> >>>> others can do the same.
> >>>> To the end we’ll probably tag RC1-noperftest.
> >>>>
> >>>> There are a few failing riak tests (was Riak ever released without a
> >>>> failing riak-test?) If you have the time/capacity to run riak-test,
> >>>> and you’re interested in helping out, get in touch and I’ll help you
> >>>> get started.
> >>>>
> >>>> The failures, should one pique your interest:
> >>>>
> >>>> datatypes - riak667\_mixed-eleveldb
> >>>> ensemble - ensemble\_basic3-eleveldb ensemble\_basic4-eleveldb
> >>>> yoko - yz\_crdt-eleveldb yz\_solr\_upgrade\_downgrade-eleveldb
> >>>>
> >>>> Let me know if you want to look into ensemble or yoko.
> >>>>
> >>>> Still aiming to have this tagged by end-of-week.
> >>>>
> >>>> Cheers
> >>>>
> >>>> Russell
> >>>>
> >>>> On 2 Mar 2018, at 09:44, Russell Brown  wrote:
> >>>>
> >>>>> Hi,
> >>>>>
> >>>>> Just an update on the progress of riak-2.2.5 release. I realize we said
> >>>>> "end of 2017" and then "end of Jan" and then "end of Feb" and here we
> >>>>> are, 1st March, spring is upon us, and still no 2.2.5. I thought it best
> >>>>> to at least keep you posted.
> >>>>>
> >>>>> Why no release? Well, we're not quite finished yet. In terms of what is
> >>>>> left:
> >>>>>
> >>>>> - a few PRs need review and merge against the upstream Basho repo (see
> >>>>> [1] if you want to help there);
> >>>>> - Opening of PRs for gsets;
> >>>>> - Docs for the changes;
> >>>>> - Release notes;
> >>>>> - Tagging;
> >>>>> - A final round of testing (and fixing?) after all is merged;
> >>>>> - Client support. This is crucial, but all the above work only has
> >>>>> client support in the Basho erlang clients. I'm hoping the community
> >>>>> that uses the Java/Python/Ruby etc clients can step up here. But we can 
> >>>>> release Riak before all client work is done.
> >>>>>
> >>>>> The optimist in me says 2 weeks.
> >>>>>
> >>>>> What do I mean "release"?
> >>>>>
> >>>>> From my point of view the release is the tags. After that I'm sincerely
> >>>>> hoping ESL will continue to kindly build and host the actual artifacts.
> >>>>>
> >>>>> What's in the release?
> >>>>>
> >>>>> As a reminder, since it's been a while since StokeCon17, this release
> >>>>> contains:
> >>>>>
> >>>>> - Some developer clean-up around `make test` and `riak\_test` to make
> >>>>> them more reliable/trustworthy;
> >>>>> - Open source MDC Repl (thanks bet365!);
> >>>>> - A fix for a bug in riak core claim that led to unbalanced rings[2];
> >>>>> - `node\_confirms` a feature like `w` or `pw` but for physical diversity 
> >>>>> in durability[3];
> >>>>> - `participate in coverage` an admin setting that takes a node out of
> >>>>> the coverage plan (for example after adding a node while transfers
> >>>>> take place);
> >>>>> - Riak repl fix, and change to unsafe default behaviour[4];
> >>>>> - Addition of a GSet to riak data types;
> >>>>> - Fix to repl stats[5].
> >>>>>
> >>>>> Sorry if I missed anything. The release notes will have it all.
> >>>>>
> >>>>> Work is already begun on Riak 3.0 with OTP20 support well under way.
> >>>>> Some candidates for inclusion that we're working on are a new
> >>>>> pure-Erlang backend[6], and a radical overhaul of AAE for both intra 
> >>>>> and inter-cluster anti-entropy.
> >>>>>
> >>>>> Sorry for the delay, thanks for your patience. We’ll keep you posted.
> >>>>>
> >>>>> Cheers
> >>>>>
> >>>>> Russell
> >>>>>
> >>>>> Titus Systems - ti-sys.co.uk
> >>>>>
> >>>>> [1] Coverage:
> >>>>> https://github.com/basho/riak\_core/pull/917
> >>>>> https://github.com/basho/riak\_kv/pull/1664
> >>>>> https://github.com/basho/riak\_test/pull/1300
> >>>>>
> >>>>> Repl:
> >>>>> https://github.com/basho/riak\_repl/pull/777
> >>>>> https://github.com/basho/riak\_test/pull/1301
> >>>>>
> >>>>> Node Confirms:
> >>>>> https://github.com/basho/riak\_test/pull/1299
> >>>>> https://github.com/basho/riak\_test/pull/1298
> >>>>> https://github.com/basho/riak-erlang-client/pull/371
> >>>>> https://github.com/basho/riak\_core/pull/915
> >>>>> https://github.com/basho/riak-erlang-http-client/pull/69
> >>>>>
> >>>>> [2]
> >>>>> https://github.com/basho/riak\_core/blob/develop-2.2/docs/claim-fixes.md
> >>>>> [3]
> >>>>> https://github.com/ramensen/riak\_kv/blob/rs-physical-promises/docs/Node-Diversity.md
> >>>>> [4] https://github.com/basho/riak\_repl/issues/774
> >>>>> https://github.com/basho/riak\_repl/issues/772
> >>>>> [5] https://github.com/basho/riak\_repl/pull/776
> >>>>> [6] https://github.com/martinsumner/leveled/
> >>>>>
> >>>>>
> >>>>>
> >>>>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> >>>>> riak-users mailing list
> >>>>> riak-users@lists.basho.com
> >>>>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> >>>>
> >>>>
> >>>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> >>>> riak-users mailing list
> >>>> riak-users@lists.basho.com
> >>>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> >>>
> >>>
> >>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> >>> riak-users mailing list
> >>> riak-users@lists.basho.com
> >>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> >>
> >>
> >> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> >> riak-users mailing list
> >> riak-users@lists.basho.com
> >> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> >
> >
> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > riak-users mailing list
> > riak-users@lists.basho.com
> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> 
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> This email and any files transmitted with it are confidential and 
> contain information which may be privileged or confidential and are 
> intended solely to be for the use of the individual(s) or entity to 
> which they are addressed. If you are not the intended recipient be aware 
> that any disclosure, copying, distribution or use of the contents of 
> this information is strictly prohibited and may be illegal. If you have 
> received this email in error, please notify us by telephone or email 
> immediately and delete it from your system. Activity and use of our 
> email system is monitored to secure its effective operation and for 
> other lawful business purposes. Communications using this system will 
> also be monitored and may be recorded to secure effective operation and 
> for other lawful business purposes. Internet emails are not necessarily 
> secure. We do not accept responsibility for changes made to this message 
> after it was sent. You are advised to scan this message for viruses and 
> we cannot accept liability for any loss or damage which may be caused as 
> a result of any computer virus.
> 
> This email is sent by a bet365 group entity. The bet365 group includes 
> the following entities: Hillside (Shared Services) Limited (registration 
> no. 3958393), Hillside (Spain New Media) Plc (registration no. 
> 07833226), bet365 Group Limited (registration no. 4241161), Hillside 
> (Technology) Limited (registration no. 8273456), Hillside (Media 
> Services) Limited (registration no. 9171710), Hillside (Trader Services) 
> Limited (registration no. 9171598) each registered in England and Wales 
> with a registered office address at bet365 House, Media Way, Stoke-on-
> Trent, ST1 5SZ, United Kingdom; Hillside (Gibraltar) Limited 
> (registration no. 97927), Hillside (Sports) GP Limited (registration no. 
> 111829) and Hillside (Gaming) GP Limited (registered no. 111830) each 
> registered in Gibraltar with a registered office address at Unit 1.1, 
> First Floor, Waterport Place, 2 Europort Avenue, Gibraltar; Hillside (UK 
> Sports) LP (registration no. 117), Hillside (Sports) LP (registration 
> no. 118), Hillside (International Sports) LP (registration no. 119), 
> Hillside (Gaming) LP (registration no. 120) and Hillside (International 
> Gaming) LP (registration no. 121) each registered in Gibraltar with a 
> principal place of business at Unit 1.1, First Floor, Waterport Place, 2 
> Europort Avenue, Gibraltar; Hillside España Leisure S.A (CIF no. 
> A86340270) registered in Spain with a registered office address at C/ 
> Conde de Aranda nº20, 2º, 28001 Madrid, Spain; Hillside (Australia New 
> Media) Pty Limited (registration no. 148 920 665) registered in 
> Australia with a registered office address at Level 4, 90 Arthur Street, 
> North Sydney, NSW 2060, Australia; Hillside (New Media Malta) Plc, 
> (registration no c.66039) registered in Malta with a registered office 
> address at Office 1/2373, Level G, Quantum House, 75 Abate Rigord 
> Street, Ta’ Xbiex XBX 1120, Malta and Hillside (New Media Cyprus) 
> Limited, (registration no. HE 361612) registered in Cyprus with a 
> registered office address at Omrania Centre, 313, 28th October Avenue, 
> 3105 Limassol, Cyprus. Hillside (Shared Services) Limited, Hillside 
> (Spain New Media) Plc and Hillside (New Media Malta) Plc also have 
> places of business at Unit 1.1, First Floor, Waterport Place, 2 Europort 
> Avenue, Gibraltar. For residents of Greece, this email is sent on behalf 
> of B2B Gaming Services (Malta) Limited (registration number C41936) 
> organised under the laws of Malta with a registered office at Apartment 
> 21, Suite 41, Charles Court, St. Luke's Road, Pietà, Malta.
> 
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

