---
title: "Re: Getting a value: get vs map"
description: ""
project: community
lastmod: 2011-07-29T07:27:51-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04141"
mailinglist_parent_id: "msg04136"
author_name: "Jeremiah Peschka"
project_section: "mailinglistitem"
sent_date: 2011-07-29T07:27:51-07:00
---


I would have suspected that an MR job where you supply a Bucket, Key pair would 
be just as fast as a Get request. Shows what I know.
---
Jeremiah Peschka
Founder, Brent Ozar PLF, LLC

On Jul 29, 2011, at 1:37 AM, Antonio Rohman Fernandez wrote:

> MapReduce ( or a simply Map ) gets really slow when database has a 
> significant amount of data ( or distributed over several servers ). Get 
> instead is always faster as Riak doesn't have to search for the key ( you 
> tell Riak exactly where to GET the data in your url )
> 
> Rohman
> 
> On Thu, 28 Jul 2011 23:43:06 +0400, m...@mawhrin.net wrote:
> 
>> Hi,
>> 
>> (I looked at various places for the information, however I could not
>> find anything that would answer the question. It's not completely ruled
>> out that not all places were checked though :))
>> 
>> I use PB erlang interface to access the database. Given a bucket name
>> and a key, the value can easily be extracted using:
>> 
>> {ok, Object} = riakc\_pb\_socket:get(Conn, Bucket, Key),
>> Value = riakc\_obj:get\_value(Object)
>> 
>> Alternatively, a mapred (actually, just map) request could be issued:
>> 
>> {ok, [{\_, Value}]} = riakc\_pb\_socket:mapred(Conn, [
>> {Bucket, Key}
>> ], [
>> {map, {modfun, riak\_kv, map\_object\_value}, none, true}
>> ])
>> 
>> I would expect that the result is the same while in the second case, the
>> amount of data transferred to the client is smaller (which might be good
>> for certain situations).
>> 
>> So the [open] question is: are there any reasons for using the first
>> approach over the second?
>> 
>> --
>> Misha
>> 
> -- 
> 
> Antonio Rohman Fernandez
> CEO, Founder & Lead Engineer
> roh...@mahalostudio.com Projects
> MaruBatsu.es
> PupCloud.com
> Wedding Album
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

