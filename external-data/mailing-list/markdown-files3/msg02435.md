---
title: "Re: Keeping Data on N Separate Physical Computers"
description: ""
project: community
lastmod: 2011-02-24T05:52:38-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02435"
mailinglist_parent_id: "msg02432"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2011-02-24T05:52:38-08:00
---


That's a misleading assertion regarding loss of availability or durability. I 
have yet to see a case, even where there were "degenerate preflists" (where a 
node occurs more than once in a preflist), where data was placed on less than 
2 physical nodes. Yes, that means you can lose 2 replicas by killing one node, 
but the 3rd replica is still available.

Also, in the case where a customer has had a cluster size that leaves < N 
partitions remaining at the end of the ring, we have been able to manually 
reassign those partitions to other nodes such that the degenerate preflists go 
away. The statement in the wiki is an acknowledgment that degenerate preflists 
do occur in certain combinations of ring size and cluster size.

Inter-cluster replication solves an entirely different problem than the 
standard Dynamo replication, and it's not durability. You do not need to buy 
Riak EDS to get durability and availability.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On Feb 24, 2011, at 6:44 AM, Runar Jordahl wrote:

> As far as I understand you need to buy Riak EnterpriseDS to have any
> guarantee for durability & availability for data you store in Riak:
> 
> “There are no guarantees that the (…) replicas will go to (N) separate
> physical nodes; however, the built-in functions for determining where
> replicas go attempts to distribute the data evenly."
> 
> http://wiki.basho.com/Replication.html#So-what-does-N%3D3-really-mean%3F
> 
> 
> Basically, whatever N you set, they might end up on the same hard
> disk, meaning that one hard disk crash can mean you lose data and/or
> make data not readable. Probability is low, but it can happen.
> 
> Am I correct?
> 
> Kind regards
> Runar
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

