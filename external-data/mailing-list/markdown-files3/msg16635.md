---
title: "Re: Connection closed unexpectantly when running Riak's sample	TasteOfRiak.java"
description: ""
project: community
lastmod: 2015-10-08T09:51:52-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16635"
mailinglist_parent_id: "msg16634"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2015-10-08T09:51:52-07:00
---


8098 is typically the HTTP port for Riak. The Java client only uses
Protocol Buffers to communicate, and I suspect that port is 8087 in
your setup.
--
Luke Bakken
Engineer
lbak...@basho.com


On Thu, Oct 8, 2015 at 9:10 AM, Dz Lab  wrote:
> I'm getting started with Riak, when I run the sample TasteOfRiak.java (I
> changed node port from 10017 to 8098) I get a Connection closed exception.
> Here is the logs:
>
> Basic object created
> Location object created for quote object
> StoreValue operation created
> 15/10/08 15:11:14 INFO RiakNode: RiakNode started; 127.0.0.1:8098
> 15/10/08 15:11:14 INFO RiakCluster: RiakCluster is starting.
> Client object successfully created
> 15/10/08 15:11:14 ERROR RiakNode: Channel closed while operation in
> progress; id:321606938 127.0.0.1:8098
> 15/10/08 15:11:14 ERROR RiakNode: Channel closed while operation in
> progress; id:479772062 127.0.0.1:8098
> 15/10/08 15:11:14 ERROR RiakNode: Channel closed while operation in
> progress; id:1665941140 127.0.0.1:8098
> java.lang.Exception: Connection closed unexpectantly
>
> I'm running Riak KV 2.1.1-1 and using the Java client SDK 2.0.0. What's
> wrong with the sample?
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

