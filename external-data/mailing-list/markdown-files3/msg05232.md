---
title: "Re: Riak 1.0"
description: ""
project: community
lastmod: 2011-10-21T09:41:12-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05232"
mailinglist_parent_id: "msg05231"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2011-10-21T09:41:12-07:00
---


The "ring\_creation\_size" parameter in app.config must be set before the node
has been started and written a ring file. Assuming the LevelDB node is
empty, you can do the following:

1. Stop the node
2. Clear out the data directories (data/ring, data/leveldb, data/bitcask,
data/mr\_queue, data/kv\_vnode)
3. Verify "ring\_creation\_size" is set to 256 in the app.config file
4. Start the node
5. Verify "ring\_num\_partitions" in "riak-admin status" is 256
6. Join the node to the cluster

Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Fri, Oct 21, 2011 at 9:30 AM,  wrote:

> 64 on the LevelDB vs 256 on the Bitcask. I guess that’s it. Workaround?
> \*\*\*\*
>
> \*\* \*\*
>
> Thanks,\*\*\*\*
>
> Jim\*\*\*\*
>
> \*\* \*\*
>
> \*From:\* Dan Reverri [mailto:d...@basho.com]
> \*Sent:\* Friday, October 21, 2011 9:27 AM
> \*To:\* Jim Adler
> \*Cc:\* Ian Plosker; riak-users
> \*Subject:\* Re: Riak 1.0\*\*\*\*
>
> \*\* \*\*
>
> Hi Jim,\*\*\*\*
>
> \*\* \*\*
>
> Can you check "ring\_num\_partitions" on each node from "riak-admin status"?
> \*\*\*\*
>
> \*\* \*\*
>
> Thanks,
> Dan\*\*\*\*
>
>
> Daniel Reverri
> Developer Advocate
> Basho Technologies, Inc.
> d...@basho.com
>
> \*\*\*\*
>
> 2011/10/20 Jim Adler \*\*\*\*
>
> I tried the Bitcask-to-LevelDB procedure on 1.0.1 to switch my backend from
> Bitcask to LevelDB. I have one node on Bitcask with my data and the other
> node with a fresh LevelDB backend. When I join the fresh LevelDB node, I get
> the following error: Failed: r...@xx.xx.xx.xx has a different
> ring\_creation\_size\*\*\*\*
>
> \*\*\*\*
>
> riak-admin status | grep creation gives: ring\_creation\_size : 256\*\*\*\*
>
> \*\*\*\*
>
> Any ideas?\*\*\*\*
>
> \*\*\*\*
>
> Jim\*\*\*\*
>
> \*\*\*\*
>
> \*From:\* riak-users-boun...@lists.basho.com [mailto:
> riak-users-boun...@lists.basho.com] \*On Behalf Of \*Ian Plosker
> \*Sent:\* Saturday, October 01, 2011 8:15 AM
> \*To:\* 54chen
> \*! Cc:\* riak-users
> \*Subject:\* Re: Riak 1.0\*\*\*\*
>
> \*\*\*\*
>
> There are instructions on the wiki:
> http://wiki.basho.com/Secondary-Indexes.html#Migrating-an-Existing-Cluster-(Method-One)
> \*\*\*\*
>
> \*\*\*\*
>
> Basically, you will have each node leave the cluster, switch the backend,
> and then rejoin. The process is something like this:\*\*\*\*
>
> \*\*\*\*
>
> 1) Issue `riak-admin leave` and wait for all transfers to complete\*\*\*\*
>
> 2) `riak stop`\*\*\*\*
>
> 3) Change the backend to the `riak\_kv\_eleveldb\_backend`\*\*\*\*
>
> 4) `riak start` and `riak-admin join `\*\*\*\*
>
> 5) Repeat for each node in the cluster\*\*\*\*
>
> \*\*\*\*
>
> \*\*\*\*
>
> Ian Plosker\*\*\*\*
>
> Developer Advocate\*\*\*\*
>
> Basho Technologies\*\*\*\*
>
> \*\*\*\*
>
> \*\*\*\*
>
> On Sep 30, 2011, at 10:41 PM, 54chen wrote:\*\*\*\*
>
> \*\* \*\*
>
> Congratulations!
>
> Can you give me an example of how the 0.14.2（bitcas! k） upgrade to 1.0（
> levelDB）?
>
> \*\*\*\*
>
> 2011/10/1 Alexander Sicular \*\*\*\*
>
> Awesome!
>
> Already got it in place on my mac and ubuntu dev boxes. Smooth.
>
> -Alexander Sicular
>
> @siculars
> http://siculars.posterous.com\*\*\*\*
>
>
> On Sep 30, 2011, at 4:31 PM, David Smith wrote:
>
> > Hi All,
> >
> > I am very pleased to announce that Riak 1.0 is tagged and officially
> > ready for downloading.
> >
> > Pre-built installations and source tarballs are available at:
> >
> > http://downloads.basho.com/riak/CURRENT
> >
> > Release notes are here:
> >
> > https://github.com/basho/riak/blob/1.0/RELEASE-NOTES.org
> >
> > There is also a blog post about the release here:
> >
> > http://blog.basho.com/2011/09/30/Riak-1-dot-0-is-Official/
> >
> > 1.0 has been two years and 15 releases in the making. Thank you all
> > for being a part of this project and wonderful community. We couldn't
> > have done it without you.
> >
> > Sincerely,
> >
> > D.
> >
> > --
> > Dave Smith
> > Director, Engineering
> > Basho Technologies, Inc.
> > diz...@basho.com
> >
> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > riak-users mailing list
> > riak-users@lists.basho.com
> > http://lists.basho.com/mailman/listinfo/riak-users 
> > \_lists.basho.com
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com\*\*\*\*
>
>
>
>
> --
> -
> http://www.54chen.com
> http://twitter.com/54chen
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com\*\*\*\*
>
> \*\*\*\*
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com\*\*\*\*
>
> \*\* \*\*
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

