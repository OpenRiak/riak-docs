---
title: "Re: Yokozuna setup with many buckets"
description: ""
project: community
lastmod: 2014-11-22T05:58:12-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15210"
mailinglist_parent_id: "msg15209"
author_name: "Oleksiy Krivoshey"
project_section: "mailinglistitem"
sent_date: 2014-11-22T05:58:12-08:00
---


Hi Eric,

I think I will be running with a 10-30 thousands buckets, with some of them
almost empty (<10 keys) but some with hundreds of thousands of keys.
I'm pretty sure I can stay away from hundreds of millions docs per node
limit. Does it mean that I can simply grow my Riak cluster to split the
index?

On 22 November 2014 at 15:46, Eric Redmond  wrote:

> Oleksiy,
>
> Indexes have some overhead of their own, but they also have a reasonable
> limit on doc count (hundreds of millions per node). To answer you question
> requires a bit more knowledge of your use-case. One index can be more
> efficient, as long as you're not creating hundreds of thousands of buckets.
> On the other hand, you don't want to create hundreds of thousands of
> indexes. Could you us give a bit more information of your expected numbers?
>
> Thanks,
> Eric
>
>
> On Nov 19, 2014, at 11:55 AM, Oleksiy Krivoshey 
> wrote:
>
> > Hi,
> >
> > Can anyone please suggest what will be the best setup of Yokozuna (I
> mean indexing/search performance) if I have many buckets of the same
> bucket-type:
> >
> > 1. having 1 yokozuna index associated with a bucket-type (e.g. with all
> buckets)
> > 2. having separate yokozuna index created and associated with each bucket
> >
> > In my setup I will always have to search within a single (specified)
> bucket only so that search results from other buckets do not mix together.
> >
> > Thanks!
> >
> > --
> > Oleksiy
> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > riak-users mailing list
> > riak-users@lists.basho.com
> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>


-- 
Oleksiy Krivoshey
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

