---
title: "Re: GET vs map reduce"
description: ""
project: community
lastmod: 2011-08-18T13:45:16-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04386"
mailinglist_parent_id: "msg04384"
author_name: "Jacques"
project_section: "mailinglistitem"
sent_date: 2011-08-18T13:45:16-07:00
---


Fyi, when I did something similar, I found that running separate parallel
get requests was substantially faster than a basic map reduce. That was
even the case when I ran the map reduce as an erlang function instead of
javascript.

You should be able to find my previous post at the end of java client
discussion thread from a couple months back. I can't remember the
difference but I think it may have been something like 100ms overhead to run
a map reduce versus parallel gets.

Jacques

On Thu, Aug 18, 2011 at 1:35 PM, Wilson MacGyver wrote:

> Hi,
>
> I've been using map reduce to fake a bulk get.
>
> I do a post against map reduce interface, using the following
>
> {"inputs":
> [["bucket1", "k1"],
> ["bucket1", "k2"],
> ["bucket1", "k3"],
> ["bucket1", "k4"],
> ["bucket1", "k5"],
> ["bucket1", "k6"],
> ["bucket1", "k7"],
> ["bucket1", "k8"],
> ["bucket1", "k9"]
> ],
> "query":[{"map":{"language":"javascript","source":"function(v) { return
> [v.key,v
> .values[0].data]; }"}}]}
>
>
> as you can see, it's very straight forward, I'm just passing the list
> of buckets and keys, and
> then return them.
>
> I also set the R to 1.
>
> it's been working fine. but lately, as traffic begin to increase, we
> started seeing time out errors
> on the map reduce call. the strange thing is, if I issue GET on each
> key, results are coming back
> without any problem.
>
> are there any subtle differences between GET vs map reduce that I'm
> not understanding?
>
> Thanks,
>
> --
> Omnem crede diem tibi diluxisse supremum.
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

