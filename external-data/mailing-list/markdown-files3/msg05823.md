---
title: "Re: "consistent" map/reduce"
description: ""
project: community
lastmod: 2011-11-30T13:56:50-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05823"
mailinglist_parent_id: "msg05806"
author_name: "Kresten Krab Thorup"
project_section: "mailinglistitem"
sent_date: 2011-11-30T13:56:50-08:00
---


Thanks for your answers.

Now, it seems that if the items passing between the map phase and reduce phase 
are many and small, then the system could benefit from a "chunking" fitting 
that collects items and sends them off in a list to the next fitting, after 
receiving X # of items, or after some timeout (say, Y ms); i.e. basically 
Nagle's algorithm Otherwise, we may get burned pretty seriously by the "sync 
send" that happens between fittings !?

So ...

{
 list\_keys, 
 riak\_kv\_get, follow
 riak\_kv\_mrc\_map, follow
 nagles\_send, follow 

 nagles\_receive, riak\_pipe\_w\_reduce:chashfun
 riak\_pipe\_w\_reduce, follow
}



 

On Nov 30, 2011, at 4:08 PM, Bryan Fink wrote:

> Ew. Major apologies for the formatting in my last response. I've no
> idea what happened. Let me know if it's unreadable, and I'll try
> sending again.
> 
> -Bryan


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

