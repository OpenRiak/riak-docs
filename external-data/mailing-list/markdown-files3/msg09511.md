---
title: "Re: Cluster setup"
description: ""
project: community
lastmod: 2012-12-10T12:00:41-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09511"
mailinglist_parent_id: "msg09510"
author_name: "Sean Carey"
project_section: "mailinglistitem"
sent_date: 2012-12-10T12:00:41-08:00
---


Kevin, 
Send us more detailed logs of the startup error. Also a copy 
/etc/riak/app.config on the machine where the error is happening, and also the 
output of `netstat -tln`

-Sean 


On Monday, December 10, 2012 at 2:56 PM, Kevin Burton wrote:

> Each node is on a separate machine. This not a development build. The 
> instructions just indicate that I should start the Riak Server but does not 
> indicate what should be done when it doesn't start.
> 
> On Dec 10, 2012, at 1:52 PM, Jared Morrow  (mailto:ja...@basho.com)> wrote:
> 
> > Are you trying to start all nodes on the same machine/vm? Each riak "node" 
> > needs to be on its own machine, unless you are simply trying to test out a 
> > development environment. In that case, you need to look at 
> > http://docs.basho.com/riak/latest/tutorials/fast-track/Building-a-Development-Environment/
> > for those instructions. It will help in starting multiple nodes per 
> > machine.
> > 
> > -Jared
> > 
> > 
> > On Mon, Dec 10, 2012 at 12:43 PM, Kevin Burton  > (mailto:rkevinbur...@charter.net)> wrote:
> > > The first node started up without error (/etc/init.d/riak start). But 
> > > nodes 2 and 3 failed to start. I looked in /var/log/riak/error.log and 
> > > found about three lines with {error,eaddrnotavail} in the error message. 
> > > What does this mean? Is there a work around? I don't understand why this 
> > > address is "not available". 'ifconfig' confirms that this is the machines 
> > > address.
> > > 
> > > 
> > > On Dec 10, 2012, at 12:33 PM, Jared Morrow  > > (mailto:ja...@basho.com)> wrote:
> > > 
> > > > The init.d script for RIak is included in the RPM. If you list the 
> > > > file contained in the RPM do you see the init.d/riak script? If you do 
> > > > have that file, you'll need to add the rc.d scripts by hand to 
> > > > auto-start / auto-stop on startup / shutdown or use a tool like 
> > > > `chkconfig` http://linux.die.net/man/8/chkconfig
> > > > 
> > > > -Jared
> > > > 
> > > > 
> > > > On Mon, Dec 10, 2012 at 11:17 AM, Kevin Burton 
> > > >  wrote:
> > > > > I did these steps and while I see that Riak has been added to the 
> > > > > system files (like /etc/riak). I don't see any links to auto start 
> > > > > like in init.d. Do I add these links manually?
> > > > > 
> > > > > 
> > > > > On Dec 10, 2012, at 11:32 AM, Jared Morrow  > > > > (mailto:ja...@basho.com)> wrote:
> > > > > 
> > > > > > If you are looking install and /etc/init.d support, you should 
> > > > > > really just be installing the packages. 
> > > > > > http://s3.amazonaws.com/downloads.basho.com/riak/CURRENT/rhel/6/riak-1.2.1-1.el6.x86\_64.rpm
> > > > > > is the package for Centos 6 found here 
> > > > > > http://basho.com/resources/downloads/. Building from source is 
> > > > > > there for those who need a feature not currently in a release, want 
> > > > > > to make additions to Riak, or are on an unsupported platform.
> > > > > > 
> > > > > > -Jared
> > > > > > 
> > > > > > 
> > > > > > On Mon, Dec 10, 2012 at 10:25 AM,  > > > > > (mailto:rkevinbur...@charter.net)> wrote:
> > > > > > > I am looking at 
> > > > > > > http://docs.basho.com/riak/latest/cookbooks/Basic-Cluster-Setup/ 
> > > > > > > which provides me with a lot of information. But I have one 
> > > > > > > question. I have a source distribution and I have already done 
> > > > > > > 'make rel'. Once I have performed all of the steps outlined in 
> > > > > > > setting up a cluster how do I make sure that this configuration 
> > > > > > > is restored when the machine reboots. I am assuming that it will 
> > > > > > > involve something with /etc/init.d. Is there something like 'make 
> > > > > > > install' that would shorten the process? How is the cluster 
> > > > > > > information persisted so that each node will join the cluster 
> > > > > > > when the respective machine comes up after a reboot? Thank you.
> > > > > > > 
> > > > > > > 
> > > > > > > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > > > > > > riak-users mailing list
> > > > > > > riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
> > > > > > > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> > > > > > 
> > > > 
> > 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> 
> 


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

