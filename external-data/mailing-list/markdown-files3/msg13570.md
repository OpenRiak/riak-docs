---
title: "Re: Load balancer"
description: ""
project: community
lastmod: 2014-02-02T10:02:40-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13570"
mailinglist_parent_id: "msg13569"
author_name: "Roberto Aloi"
project_section: "mailinglistitem"
sent_date: 2014-02-02T10:02:40-08:00
---


Konstantin,

I thought you were asking about monitoring nodes' health in general and not
specifically from a Load Balancer perspective.
What load balancer are you using or planning to use?

Roberto Aloi
@robertoaloi



On Sun, Feb 2, 2014 at 6:39 PM, Konstantin Kalin  wrote:

> Well. I'm kinda aware about the stats :) But I believe they are not a good
> way for LB. The issue is LB requires a simple response OK and cannot do
> extended parsing.
>
> I see following cases what can happen in production:
> 1) Server is alive - riak is stopped
> 2) Server is down completely
> 3) Server is alive, riak is alive but it's not a part of a cluster.
> 4) Server is alive, riak console is alive but backend(bitcasc for example)
> is down.
> 5) What's else?
>
> Honestly I'm considering to build a special Web service that will run
> together with Riak and give it status. So far I was not be able to find a
> standard way using Riak capabilities to cover all 4 possible scenarios.
>
> Thank you,
> Konstantin.
>
> On Feb 2, 2014, at 9:33 AM, Roberto Aloi  wrote:
>
> Hi Konstantin,
>
> Riak exposes a number of metrics - such as counters and histograms - that
> you can use to monitor your nodes' health.
> Metrics are available through the HTTP API via the /stats endpoint.
> For details, see:
> http://docs.basho.com/riak/latest/ops/running/stats-and-monitoring/
>
> Cheers,
>
> Roberto Aloi
> @robertoaloi
>
>
>
> On Sun, Feb 2, 2014 at 6:23 PM, Konstantin Kalin <
> konstantin.ka...@gmail.com> wrote:
>
>> Sorry jumping into the discussion. What is a best way to monitor Riak
>> node health? Most loadbalancer uses HTTP request to check if a node is
>> alive.
>>
>> Currently we use Riak Java client to load balance requests to Riak. The
>> issue is if a node gets removed or added all Java servers need to update
>> configuration to reflect the changes. It's kinda annoying for operation
>> team. So we started thinking about putting LB between Riak cluster and Java
>> clients.
>>
>> Thank you,
>> Konstantin.
>>
>>
>> On Feb 2, 2014, at 8:25 AM, Gideon de Kok  wrote:
>>
>> Mark,
>>
>> Your throughput of your total cluster will still be dependent on the
>> throughput on that specific node:
>> It can coordinate requests, but stays responsible for the actual response
>> to the client.
>>
>> Load balancers not only help to increase performance by fanning out the
>> requests to multiple servers,
>> it will also increase the availability of your cluster in terms of client
>> to server connections.
>>
>> Cheers,
>>
>> On 2 Feb 2014 at 17:20:28, markrthomas 
>> (mark.tho...@equifax.com)
>> wrote:
>>
>> Hello
>>
>> Any node in a Riak cluster can coordinate requests for any other Riak
>> node
>> that is responsible for the data you're reading/writing.
>>
>> What is the advantage of fronting a Riak cluster with a load-balancer?
>>
>> Thanks
>>
>> Mark
>>
>>
>>
>>
>> --
>> View this message in context:
>> http://riak-users.197444.n3.nabble.com/Load-balancer-tp4030414.html
>> Sent from the Riak Users mailing list archive at 
>> Nabble.com
>> .
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>>
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>>
>
>
> --
> Roberto Aloi
> ---
> Website: http://roberto-aloi.com
> Twitter: @robertoaloi
>
>
>


-- 
Roberto Aloi
---
Website: http://roberto-aloi.com
Twitter: @robertoaloi
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

