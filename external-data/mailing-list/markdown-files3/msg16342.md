---
title: "Re: Riak CS Node Shutdown Because it Ran Out Data Space - Unbalanced	With Other Nodes in Cluster"
description: ""
project: community
lastmod: 2015-08-03T08:38:09-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16342"
mailinglist_parent_id: "msg16341"
author_name: "Arnaud"
project_section: "mailinglistitem"
sent_date: 2015-08-03T08:38:09-07:00
---


On 03/08/2015 16:44, Valenti, Anthony wrote:
> BTW, this is the ring distribution on the nodes:
> 
> root@CORP-RIAK07:~# riak-admin member-status
> ================================= Membership 
> ==================================
> Status Ring Pending Node
> -------------------------------------------------------------------------------
> valid 18.8% -- 'riak@192.168.40.13'
> valid 18.8% -- 'riak@192.168.40.14'
> valid 18.8% -- 'riak@192.168.40.15'
> valid 25.0% -- 'riak@192.168.40.27'
> valid 18.8% -- 'riak@192.168.40.28'
> -------------------------------------------------------------------------------
> Valid:5 / Leaving:0 / Exiting:0 / Joining:0 / Down:0
> 
> Thanks,
> Anthony
> 

I guess your ring\_size value is 16. That means you have 3 partitions on
4 servers and 4 partitions on 1 server (and that one is full).
I don't think you will have enough space on other servers.

http://docs.basho.com/riak/latest/ops/building/planning/cluster/#Ring-Size-Number-of-Partitions

I suggest you to add one more server, do a ring resize (check
http://docs.basho.com/riak/latest/ops/advanced/ring-resizing/) and then
remove it. Be careful when you add the new server, check the "cluster
plan" output to be sure you offload data from the full one.

Arnaud

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

