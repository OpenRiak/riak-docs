---
title: "Re: Secondary index scalability"
description: ""
project: community
lastmod: 2011-10-10T07:09:16-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05112"
mailinglist_parent_id: "msg05111"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2011-10-10T07:09:16-07:00
---


Hi,

1. The design of secondary indexes is based on "document partitioning",
which makes it very simple to keep indexes consistent with the objects they
reference, but does mean that queries will have to communicate with a
"covering set" of partitions, more or less (Ring Size / N) of them. This
design is the dual of Riak Search's design, or "term partitioning", which
only requires one partition to respond for a given index/field/term, but can
be prone to hotspots.

I do not know of any comparisons to Cassandra's secondary index feature.

2. See #1. It is stored in the same place as the objects themselves, which
means queries need to contact many partitions.

On Mon, Oct 10, 2011 at 4:56 AM, OZAWA Tsuyoshi wrote:

> Hi,
>
> I have 2 questions about the riak's new feature - secondary index.
>
> 1. Is there the scalability benchmark of the secondary index feature? I
> read some blog about the implementation of riak secondary index, but it
> seems to run scanning across mostly all nodes at worst case if my
> expectation is correct. Secondary index feature of riak is more scalable
> than the one of Cassandra?
>
> 2. Where is the metadata which the nodes contain the indexed data? Is it
> distributed across riak storage servers by consistent hashing?
>
> Thank you.
>
> Best Regards,
> OZAWA Tsuyoshi
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>



-- 
Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://www.basho.com/
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

