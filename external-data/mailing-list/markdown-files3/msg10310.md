---
title: "2i streaming"
description: ""
project: community
lastmod: 2013-03-04T05:20:23-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10310"
author_name: "Pavel Kirienko"
project_section: "mailinglistitem"
sent_date: 2013-03-04T05:20:23-08:00
---


Hi everyone,

Is there any way to request a large number of keys through 2i streaming?
Say, there is index with 10M entries, I want to extract 1M of them.
Obviously the block request (i.e. all data packed into the single response)
is not a best idea since it requires a good amount of memory either on
client and the server.

One can suggest to feed 2i output into the Map/Reduce job with streaming
output, but this way is not so hot either: it is really slow (our 3-node
cluster stumbles on 100k keys for a minutes); and sometimes it just isn't
working (streaming may stop occasionally before all data being kicked out).
Not to mention that on 1M of keys Map/Reduce job just never starts.

Is it possible to perform 2i queries for large number of keys, or shall I
use another storage for indexing instead? (like Redis maybe)

Thanks in advance.

Pavel.
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

