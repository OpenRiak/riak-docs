---
title: "Re: Replica Distribution"
description: ""
project: community
lastmod: 2010-06-03T22:08:35-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00501"
mailinglist_parent_id: "msg00500"
author_name: "Alan McConnell"
project_section: "mailinglistitem"
sent_date: 2010-06-03T22:08:35-07:00
---


\*
My (very limited) understanding is that there is a "best effort" attempt to
distribute things wisely, but it is not guaranteed. So in the case you've
specified, no it is not guaranteed that at least two of the three replicas
will go to physically separate nodes.

I see this in my cluster of 2 nodes with an N-value of 3. If I shutdown one
of the nodes and perform reads (w/ R=1), many of the keys are not found. My
initial expectation was that with a cluster of 2 and N=3, each node would
have at least 1 replica of every key, but that doesn't seem to be the case.

To anyone that may know: Is there a way to force a re-balancing in a
cluster?
\*
On Thu, Jun 3, 2010 at 9:52 PM, Jason J. W. Williams <
jasonjwwilli...@gmail.com> wrote:

> Hello,
>
> I was reading the "So what does N=3 really mean?" section of
> https://wiki.basho.com/display/RIAK/Replication#Replication-ReadRepair
> ...
>
> The part where it states that 3 replicas will not necessarily go to 3
> physically separate nodes very much surprised me. Is there any
> guarantee at least two of the three replicas will go to physically
> separate nodes?
>
> Will rack-awareness be possible in the future?
>
> -J
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

