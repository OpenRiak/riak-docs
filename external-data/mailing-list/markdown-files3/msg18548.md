---
title: "Partitions repair isn't working anymore?"
description: ""
project: community
lastmod: 2018-06-01T01:08:47-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18548"
mailinglist_parent_id: "msg18536"
author_name: "Guido Medina"
project_section: "mailinglistitem"
sent_date: 2018-06-01T01:08:47-07:00
---



Hi all,

We started the partitions repair a couple of weeks ago, so far so good 
(3 nodes out of 7 done), then we started getting this error:
(r...@node4.domain.com)3> [riak\_search\_vnode:repair(P) || P <- 
Partitions].

\*\* exception error: undefined function riak\_search\_vnode:repair/1


The first two steps for the node repair executed fine:

{ok, Ring} = riak\_core\_ring\_manager:get\_my\_ring().
Partitions = [P || {P, 'r...@node4.domain.com'} <- 
riak\_core\_ring:all\_owners(Ring)].


We are running on 2.2.5
Guido.
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

