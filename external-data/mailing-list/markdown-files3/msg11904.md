---
title: "Re: erlang go boom"
description: ""
project: community
lastmod: 2013-08-05T20:09:42-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11904"
mailinglist_parent_id: "msg11901"
author_name: "Evan Vigil-McClanahan"
project_section: "mailinglistitem"
sent_date: 2013-08-05T20:09:42-07:00
---


Given your leveldb settings, I think that compaction is an unlikely
culprit. But check this out:

2013-08-05 18:01:15.878 [info] <0.83.0>@riak\_core\_sysmon\_
handler:handle\_event:92 monitor large\_heap <0.14832.557>
[{initial\_call,{riak\_kv\_get\_fsm,init,1}},{almost\_current\_function,{riak\_object,encode\_maybe\_binary,1}},{message\_queue\_len,1}]
[{old\_heap\_block\_size,0},{heap\_block\_size,116769640},{mbuf\_size,0},{stack\_size,52},{old\_heap\_size,0},{heap\_size,81956791}]

That's a 78MB heap in encode object... Unless your objects are big, I
would suspect sibling explosion caused by rapid updates at w = 1.

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

