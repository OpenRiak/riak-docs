---
title: "Map Reduce in Ruby"
description: ""
project: community
lastmod: 2010-06-15T12:02:54-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00603"
author_name: "matthew rathbone"
project_section: "mailinglistitem"
sent_date: 2010-06-15T12:02:54-07:00
---


Hi all,

Does anyone know how I can specify one of the pre-existing javascript
functions when running a map-reduce from ruby?

For example, I want to run a reduce method that 1) specifies that I'm not
creating an anonymous function, and 2) calls one of the predefined
functions, eg 'reduce\_sum' (as seen here:
http://bitbucket.org/basho/riak/src/tip/apps/riak\_kv/src/riak\_kv\_mapreduce.erl
)

Any ideas?

I know how to do it with an anonymous function:
reduce("function(values, arg){
 sum = 0;

values.forEach(function(x){sum = sum + x;});
 return
[sum];
 }" , nil,
:keep => true).run
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

