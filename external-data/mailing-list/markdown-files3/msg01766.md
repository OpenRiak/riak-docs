---
title: "Re: deletes vs innostore size"
description: ""
project: community
lastmod: 2010-12-09T14:11:49-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01766"
mailinglist_parent_id: "msg01764"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2010-12-09T14:11:49-08:00
---


There is not an "optimize" command as far as I know. However, Inno has lots of 
knobs you can turn that might help.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On Dec 9, 2010, at 3:36 PM, Colin Surprenant wrote:

> Thanks Sean. Makes sense. Are there any external tools available to
> "optimize" innostore? - like the "OPTIMIZE" statement on innodb in
> MySQL?
> 
> Colin
> 
> On Thu, Dec 9, 2010 at 3:27 PM, Sean Cribbs  wrote:
>> Colin,
>> 
>> Sorry we missed this question.
>> 
>> Innostore stores its data in a B-tree which expands and contracts according 
>> to the keys you have stored. So yes, when you delete keys, it should reduce 
>> the amount of used space. But innostore also pads the tree to keep it 
>> balanced and capable of adding new keys into the middle, so there will be 
>> some wasted space and small numbers of deletions won't greatly affect the 
>> used storage.
>> 
>> Sean Cribbs 
>> Developer Advocate
>> Basho Technologies, Inc.
>> http://basho.com/
>> 
>> On Dec 7, 2010, at 11:50 AM, Colin Surprenant wrote:
>> 
>>> Hi,
>>> 
>>> How does innostore deal with key deletions? will it automatically
>>> shrink in size relative to the amount of keys deleted? if not, is
>>> there an optimize/compact function somewhere for that?
>>> 
>>> Thanks,
>>> Colin
>>> 
>>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>> riak-users mailing list
>>> riak-users@lists.basho.com
>>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>> 
>> 


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

