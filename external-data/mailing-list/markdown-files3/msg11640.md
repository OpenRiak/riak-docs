---
title: "Re: riak 1.4.0 upgrade failed"
description: ""
project: community
lastmod: 2013-07-19T12:28:47-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11640"
mailinglist_parent_id: "msg11653"
author_name: "kzhang"
project_section: "mailinglistitem"
sent_date: 2013-07-19T12:28:47-07:00
---


Thanks!

install went through. 
# sudo rpm -Uvh riak-1.4.0-1.el6.x86\_64.rpm
Preparing... ################################### 
 
######## [100%]
 1:riak warning: /etc/riak/app.config creat 
 
ed as /etc/riak/app.config.rpmnew
warning: /etc/riak/vm.args created as /etc/riak/vm.args.rpmnew
########################################### [100%]

but failed on start.
# riak start
riak failed to start within 15 seconds,
see the output of 'riak console' for more information.
If you want to wait longer, set the environment variable
WAIT\_FOR\_ERLANG to the number of seconds to wait.



# riak console
config is OK
Exec: /usr/lib64/riak/erts-5.9.1/bin/erlexec -boot
/usr/lib64/riak/releases/1.4.0/riak -config
/etc/riak/app.config -pa /usr/lib64/riak/lib/basho-patches 
 
-args\_file /etc/riak/vm.args -- console
Root: /usr/lib64/riak
{error\_logger,{{2013,7,19},{12,22,35}},"Protocol: ~p: register error:
~p~n",["inet\_tcp",{{badmatch,{error,duplicate\_name}},[{inet\_tcp\_dist,listen,1,[{file,"inet\_tcp\_dist.erl"},{line,70}]},{net\_kernel,start\_protos,4,[{file,"net\_kernel.erl"},{line,1314}]},{net\_kernel,start\_protos,3,[{file,"net\_kernel.erl"},{line,1307}]},{net\_kernel,init\_node,2,[{file,"net\_kernel.erl"},{line,1197}]},{net\_kernel,init,1,[{file,"net\_kernel.erl"},{line,357}]},{gen\_server,init\_it,6,[{file,"gen\_server.erl"},{line,304}]},{proc\_lib,init\_p\_do\_apply,3,[{file,"proc\_lib.erl"},{line,227}]}]}]}
{error\_logger,{{2013,7,19},{12,22,35}},crash\_report,[[{initial\_call,{net\_kernel,init,['Argument\_\_1']}},{pid,<0.20.0>},{registered\_name,[]},{error\_info,{exit,{error,badarg},[{gen\_server,init\_it,6,[{file,"gen\_server.erl"},{line,320}]},{proc\_lib,init\_p\_do\_apply,3,[{file,"proc\_lib.erl"},{line,227}]}]}},{ancestors,[net\_sup,kernel\_sup,<0.10.0>]},{messages,[]},{links,[#Port<0.204>,<0.17.0>]},{dictionary,[{longnames,true}]},{trap\_exit,true},{status,running},{heap\_size,987},{stack\_size,24},{reductions,503}],[]]}
{error\_logger,{{2013,7,19},{12,22,35}},supervisor\_report,[{supervisor,{local,net\_sup}},{errorContext,start\_error},{reason,{'EXIT',nodistribution}},{offender,[{pid,undefined},{name,net\_kernel},{mfargs,{net\_kernel,start\_link,[['riak@10.24.16.39',longnames]]}},{restart\_type,permanent},{shutdown,2000},{child\_type,worker}]}]}
{error\_logger,{{2013,7,19},{12,22,35}},supervisor\_report,[{supervisor,{local,kernel\_sup}},{errorContext,start\_error},{reason,shutdown},{offender,[{pid,undefined},{name,net\_sup},{mfargs,{erl\_distribution,start\_link,[]}},{restart\_type,permanent},{shutdown,infinity},{child\_type,supervisor}]}]}
{error\_logger,{{2013,7,19},{12,22,35}},std\_info,[{application,kernel},{exited,{shutdown,{kernel,start,[normal,[]]}}},{type,permanent}]}
{"Kernel pid
terminated",application\_controller,"{application\_start\_failure,kernel,{shutdown,{kernel,start,[normal,[]]}}}"}

Crash dump was written to: /var/log/riak/erl\_crash.dump
Kernel pid terminated (application\_controller)
({application\_start\_failure,kernel,{shutdown,{kernel,start,[normal,[]]}}})







--
View this message in context: 
http://riak-users.197444.n3.nabble.com/riak-1-4-0-upgrade-failed-tp4028429p4028441.html
Sent from the Riak Users mailing list archive at Nabble.com.

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

