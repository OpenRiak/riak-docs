---
title: "Client get 503 response from riak server"
description: ""
project: community
lastmod: 2015-03-04T11:26:17-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15826"
author_name: "Bora Kou"
project_section: "mailinglistitem"
sent_date: 2015-03-04T11:26:17-08:00
---


Hi,

We have a 6 nodes riak cluster configured with 256 size. We are using
versions 1.4.8. Occasionally, we see the server return 503 response.
Looking at the log, it seems that we have a lot of warning about reading
large object and busy\_dist\_port. The majority of the objects are less than
2MB but we do have some large objects in the ranch of 5-15MB.

These are the two type of log entries we consistently see across all nodes
when that happen:

2015-03-04 17:53:48.149 [warning]
<0.1142.0>@riak\_kv\_vnode:do\_get\_object:1299 Reading large object of size
5498696 from...

2015-03-04 19:06:35.824 [info]
<0.95.0>@riak\_core\_sysmon\_handler:handle\_event:92 monitor busy\_dist\_port
<0.32259.1162>
[{initial\_call,{riak\_kv\_get\_fsm,init,1}},{almost\_current\_function,{gen\_fsm,loop,7}},{message\_queue\_len,0}]
{#Port<0.3353>,'riak@servername...'}

The doc suggest increasing +zdbbl to deal with busy\_dist\_port. But does
anybody have any other suggestion to what other parameters I should look at
to improve the situation?

Thank you,

-Bora


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

