---
title: "Re: [Announcement] Riak 2.1 - Features & Release Notes"
description: ""
project: community
lastmod: 2015-04-16T13:51:37-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16020"
mailinglist_parent_id: "msg16019"
author_name: "Alex De la rosa"
project_section: "mailinglistitem"
sent_date: 2015-04-16T13:51:37-07:00
---


"The write\_once property is applied to a bucket type"... why only on bucket
types?

ex: RIAK.bucket\_type('my\_type').bucket('my\_bucket').get('my\_key')

Normally I use bucket types to use mutable data like Maps/Sets/Counters...
so I can update its contents (multiple writes) and when I have static data
I use a basic buckets:

ex: RIAK.bucket('my\_bucket').get('my\_key')

It makes much more sense to me to have write\_once capabilities in this kind
of bucket that not in a bucket type bucket. I can imagine the use of a
bucket type just for indexing data in Solr and not change it... but I think
simple buckets would benefit of this feature even more.

Thanks!
Alex

On Thu, Apr 16, 2015 at 10:40 PM, Matthew Brender 
wrote:

> Riak 2.1 is available [1]! Let’s start with the most fun part.
>
>
> ## New Feature
> Riak 2.1 introduces the concept of “write once” buckets, buckets whose
> entries are intended to be written exactly once, and never updated or
> over-written. The write\_once property is applied to a bucket type and
> may only be set at bucket creation time. This allows Riak to avoid a
> "read before write" for write\_once buckets only. More information, as
> always, is available in the docs [2]
>
>
> ## Other updates
> There are a number of GitHub Issues closed with the 2.1 release. Some
> noteworthy updates:
>
> \* A nice solution for a corner case that could result in data loss [3]
> \* A public API related to riak\_core\_ring\_manager thanks to Darach Ennis!
> [4]
> \* A JSON writer for a number of riak\_admin commands - see commit for
> details [5]
> \* Updates to Yokozuna (Riak’s Solr integration) that include
> additional metrics thanks to Jon Anderson! [6]
>
> Be sure to see the full Release Notes here [7] and the Product Advisories
> [8].
>
> ## Upgrading
> Be sure to review documentation [7] before an upgrade. It’s worth
> noting that all nodes in a cluster must be at 2.1 before you set the
> write\_once property on a bucket.
>
> It’s worth noting that there is a known issue with Yokozuna that
> causes entry loss on AAE activity [9]. Please keep this in mind before
> upgrading.
>
>
> ## Feedback please
> Do you have a use case where write\_once could be helpful? Please reply
> to me directly! I would love to learn about your environment and be
> able to share more details with you.
>
> Thanks,
> Matt
> Developer Advocate
> twitter.com/mjbrender
>
>
> [1] http://docs.basho.com/riak/latest/downloads/
> [2] http://docs.basho.com/riak/latest/dev/advanced/write-once
> [3] https://github.com/basho/riak\_kv/issues/679
> [4] https://github.com/basho/riak\_core/pull/716
> [5]
> https://github.com/basho/clique/commit/0560e7a135d9a1e77646384681ae88baf0cba31a
> [6] https://github.com/basho/riak\_kv/pull/855
> [7] https://github.com/basho/riak/blob/develop/RELEASE-NOTES.md
> [8] http://docs.basho.com/riak/latest/community/product-advisories/
> [9] https://github.com/basho/yokozuna/issues/481
> ᐧ
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

