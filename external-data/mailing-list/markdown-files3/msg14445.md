---
title: "Re: Riak ram issues"
description: ""
project: community
lastmod: 2014-07-02T07:53:55-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14445"
mailinglist_parent_id: "msg14444"
author_name: "Tom Santero"
project_section: "mailinglistitem"
sent_date: 2014-07-02T07:53:55-07:00
---


Hi Chriz,

Your object sizes are two orders of magnitude too large for Riak to handle,
which is why your nodes are running out of memory and crashing. Either
limit the size of the objects you're persisting to Riak to be no larger
than 2-3 megs, or instead investigate using Riak CS (
http://docs.basho.com/riakcs/latest/)

Tom


On Wed, Jul 2, 2014 at 10:33 AM, chriz newbie  wrote:

> Hi all,
>
> I have some problems with my Riak cluster. Using a Post on a Node for
> loading data my memory starts to increase and suddenly after short time
> riak crashes. My storage backend is leveldb and the post command is curl -i
> -X POST http://localhost:8098/riak/documents/m1 -H "Content-Type:
> text/plain" –data-binary @moviesum.txt
> The objects are txt documents and each one has 130 mb. The message I´ve
> got is a out of memory massage
>
> or
>
> HTTP/1.1 503 Service Unavailable
> Vary: Accept-Encoding
> Server: MochiWeb/1.1 WebMachine/1.10.0 (never breaks eye contact)
> Date: Wed, 02 Jul 2014 10:52:26 GMT
> Content-Type: text/plain
> Content-Length: 18
> request time out
> curl: (6) Couldn´t resolve host `text`
>
> It is a 3 node cluster: Each machine has a CPU of 2x2.4 Ghz with 4GB Ram
>
> Here you can see my configuration for app.config and vm.args
>
> Thanks and Regards,
> Chriznewbie
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

