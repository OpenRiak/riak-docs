---
title: "Re: Differing results from same index query"
description: ""
project: community
lastmod: 2011-12-22T05:24:59-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06034"
mailinglist_parent_id: "msg06032"
author_name: "Jeremy Raymond"
project_section: "mailinglistitem"
sent_date: 2011-12-22T05:24:59-08:00
---


The output from the commands all look normal (just running a single node).
I'm going to see if I can reproduce this outside of this setup.

$ bin/riak-admin ringready
TRUE All nodes agree on the ring ['dev1@127.0.0.1']
$ bin/riak-admin transfers
No transfers active
$ bin/riak-admin member\_status
================================= Membership
==================================
Status Ring Pending Node
-------------------------------------------------------------------------------
valid 100.0% -- 'dev1@127.0.0.1'
-------------------------------------------------------------------------------
Valid:1 / Leaving:0 / Exiting:0 / Joining:0 / Down:0
$ bin/riak-admin ring\_status
================================== Claimant
===================================
Claimant: 'dev1@127.0.0.1'
Status: up
Ring Ready: true

============================== Ownership Handoff
==============================
No pending changes.

============================== Unreachable Nodes
==============================
All nodes are up and reachable

--
Jeremy


On Wed, Dec 21, 2011 at 7:33 PM, Rusty Klophaus  wrote:

> Hi Jeremy,
>
> That is strange. Can you try running "bin/riak-admin ringready",
> "bin/riak-admin transfers", "bin/riak-admin member\_status", and
> "bin/riak-admin ring\_status"? Does everything look normal?
>
> Also, if possible, a zip file of your ./data directory would help us
> immensely while troubleshooting. (Feel free to email the link to me off
> list.)
>
> Best,
> Rusty
>
> On Wed, Dec 21, 2011 at 12:32 PM, Jeremy Raymond wrote:
>
>> I'm seeing an issue where running the same index query multiple times
>> against an unchanging set of data returns a differing numbers of items.
>> Riak error and crash logs are empty.
>>
>> I've seen this on my dev machine (haven't noticed it in production, but
>> it could be happening). The production cluster is running Riak 1.0.2 and my
>> dev machine is running 1.0 (96d0b8011 from Oct 6) compiled from source. The
>> data on my dev machine is an import of the data from production (via
>> riak-admin backup/restore).
>>
>> Anyone seen this issue? Help on debugging the cause appreciated.
>>
>> --
>> Jeremy
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>>
>
>
> --
> Rusty Klophaus (@rustyio)
> \*Basho Technologies, Inc.\*
> www.basho.com
>
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

