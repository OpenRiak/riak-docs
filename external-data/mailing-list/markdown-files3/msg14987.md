---
title: "Re: How to design schema for record search."
description: ""
project: community
lastmod: 2014-10-06T08:09:57-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14987"
mailinglist_parent_id: "msg14827"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2014-10-06T08:09:57-07:00
---


Hi Yang,

Please read the "Indexing Values" section of this document, and check
out the Erlang sample code there:

http://docs.basho.com/riak/latest/dev/using/search/
--
Luke Bakken
Engineer / CSE
lbak...@basho.com


On Sun, Aug 31, 2014 at 11:50 AM, Yang Zhenguo  wrote:
> Hi all,
>
> I have a question on record search.
>
> First, the value of my bucket is record.
>
> #solution{
> user\_id = LoginId,
> problem\_id = ProblemId,
> language = Language
> }.
>
> Secondly, got riakc\_obj
> RSolution = riakc\_obj:new(SolutionBucket, SolutionKey, Solution)
>
> Finally,
> riakc\_pb\_socket:put(ClientPid, RSolution1)
>
> Howevery, I cant search it via the following command:
> riakc\_pb\_socket:search(Pid, <<"sln\_index">>, <<"language:\*">>).
>
> Any suggestion?
>
> BTW, I can get the following result:
> 10> riakc\_pb\_socket:search(Pid, <<"sln\_index">>, <<"\*:\*">>).
> {ok,{search\_results,[{<<"sln\_index">>,
> [{<<"score">>,<<"1.00000000000000000000e+00">>},
> {<<"\_yz\_rb">>,<<"Solutions\_a">>},
> {<<"\_yz\_rt">>,<<"solution\_t">>},
> {<<"\_yz\_rk">>,<<"yang\_20140901T02:38:17">>},
> {<<"\_yz\_id">>,
>
> <<"1\*solution\_t\*Solutions\_a\*yang\_20140901T02:38:17\*48">>}]}],
>
> Thanks in advance.
>
> --
> Zhenguo Yang
> www.prinbit.com
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

