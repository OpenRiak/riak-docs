---
title: "Re: PBC client doesn't stop"
description: ""
project: community
lastmod: 2011-03-29T00:02:07-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02774"
mailinglist_parent_id: "msg02770"
author_name: "Russell Brown"
project_section: "mailinglistitem"
sent_date: 2011-03-29T00:02:07-07:00
---


On 29 Mar 2011, at 03:17, Keith Dreibelbis wrote:

> Hi riak-users,
> 
> I'm trying out the java protocol buffers client, and it works fine. However, 
> it is preventing my process from exiting. When I used the http client from 
> the same spot in code, the process exited, but switching to PBC caused it to 
> hang on exit. Usually this behavior means there is a thread being spawned 
> that is still running in the background. I wonder if there's a way to tell 
> the PBC RiakClient that I'm done with it, and it can close? I don't see 
> anything like that in the available methods.

There is a Timer that shuts down any open and inactive sockets. It will stop if 
you issue a System.exit(0) at the end of your program. I could add an explicit 
"shutdown" method to the protocol buffers client, too.

> 
> 
> Keith
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

