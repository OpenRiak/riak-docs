---
title: "Re: Riak Recap for Dec. 13 - 14"
description: ""
project: community
lastmod: 2010-12-16T14:57:06-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01808"
mailinglist_parent_id: "msg01804"
author_name: "Mark Phillips"
project_section: "mailinglistitem"
sent_date: 2010-12-16T14:57:06-08:00
---


Hey Daniel,

[snip]

> So, I guess Riak would have to re-hash the whole partitions into all the 5
> nodes, right? Is this done lazily when the node finds the requested data is
> missing?
> Or is there a way to handle this with consistent re-hashing so we can avoid
> moving data around when new nodes added?
>

Riak won't rehash all the partitions in the ring when new nodes are
added. When you go from 4 -> 5 nodes, for example, approx. 1/5 of the
existing partitions are transferred to the new node. The other 4/5s of
the partitions will remain unchanged. As far as moving data around
when new nodes are added, this is impossible to avoid. Data needs to
be handed off to be spread around the ring.

Hope that helps.

Mark

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

