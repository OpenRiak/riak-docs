---
title: "Re: installing index on pre11"
description: ""
project: community
lastmod: 2014-02-06T08:20:05-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13604"
mailinglist_parent_id: "msg13595"
author_name: "Kartik Thakore"
project_section: "mailinglistitem"
sent_date: 2014-02-06T08:20:05-08:00
---


Ah ok .. I had an older Riak installed. Then didn't purge the config before
installing the new Riak deb. Do'h


On Thu, Feb 6, 2014 at 11:11 AM, Eric Redmond  wrote:

> Ahhh there's your problem. You don't have the new search activated. You
> have old search. Are you configuring with riak.conf, or app.config?
> On Feb 6, 2014 8:06 AM, "Kartik Thakore"  wrote:
>
>> root@demo:~/riak-book/foo# curl http://localhost:8098/
>> * > href="/types">riak\_kv\_wm\_bucket\_type
* > href="/buckets">riak\_kv\_wm\_buckets
* > href="/riak">riak\_kv\_wm\_buckets
* > href="/types">riak\_kv\_wm\_buckets
* > href="/buckets">riak\_kv\_wm\_counter
* > href="/types">riak\_kv\_wm\_crdt
* > href="/buckets">riak\_kv\_wm\_index
* > href="/types">riak\_kv\_wm\_index
* > href="/buckets">riak\_kv\_wm\_keylist
* > href="/types">riak\_kv\_wm\_keylist
* > href="/buckets">riak\_kv\_wm\_link\_walker
* > href="/riak">riak\_kv\_wm\_link\_walker
* > href="/types">riak\_kv\_wm\_link\_walker
* > href="/mapred">riak\_kv\_wm\_mapred
* > href="/buckets">riak\_kv\_wm\_object
* > href="/riak">riak\_kv\_wm\_object
* > href="/types">riak\_kv\_wm\_object
* > href="/ping">riak\_kv\_wm\_ping
* > href="/buckets">riak\_kv\_wm\_props
* > href="/types">riak\_kv\_wm\_props
* > href="/stats">riak\_kv\_wm\_stats
* > href="/solr">riak\_solr\_indexer\_wm
* > href="/solr">riak\_solr\_searcher\_wm

>>
>>
>> On Wed, Feb 5, 2014 at 7:26 PM, Eric Redmond  wrote:
>>
>>> Are you certain you're running pre11, and also that search is activated
>>> in the riak.conf file (search=on)?
>>>
>>> This error doesn't make any sense, and I can't replicate it :/ . It
>>> looks like webmachine doesn't believe the path is correct, which should
>>> only happen if yokozuna isn't registered.
>>>
>>> Can you curl http://localhost:8089/
>>>
>>> You should see at the bottom a list like this:
>>>
>>> \* yz\_wm\_extract
>>> \* yz\_wm\_index
>>> \* yz\_wm\_schema
>>> \* yz\_wm\_search
>>> \* yz\_wm\_search
>>>
>>>
>>>
>>> On Feb 5, 2014, at 3:56 PM, Kartik Thakore  wrote:
>>>
>>> http://demo.aimedstat.com/foo2
>>>
>>>
>>> On Wed, Feb 5, 2014 at 5:33 PM, Eric Redmond  wrote:
>>>
>>>> How about adding the json content type header?
>>>>
>>>> curl -XPUT "$RIAK\_HOST/search/index/famous"
>>>> -H'content-type:application/json'
>>>>
>>>>
>>>>
>>>> On Feb 5, 2014, at 2:04 PM, Kartik Thakore 
>>>> wrote:
>>>>
>>>> http://demo.aimedstat.com/foo
>>>>
>>>> On Wed, Feb 5, 2014 at 4:44 PM, Eric Redmond wrote:
>>>>
>>>>> Can you run:
>>>>>
>>>>> curl -v -XPUT "$RIAK\_HOST/search/index/famous
>>>>>
>>>>> To get all of the output?
>>>>>
>>>>>
>>>>> On Feb 5, 2014, at 1:37 PM, Kartik Thakore 
>>>>> wrote:
>>>>>
>>>>> Hmm I am running:
>>>>>
>>>>> export RIAK\_HOST="http://localhost:8098"
>>>>> curl -XPUT "$RIAK\_HOST/search/index/famous"
>>>>>
>>>>> and I get:
>>>>>
>>>>> 404 Not FoundNot
>>>>> Found
===============

The requested document was not found on this
>>>>> server.

---

mochiweb+webmachine web
>>>>> server


>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>>
>>>>> On Wed, Feb 5, 2014 at 1:14 PM, Eric Redmond 
>>>>> wrote:
>>>>> >
>>>>> > Sorry, clicked send too fast.
>>>>> >
>>>>> > After creating the index, then you add the bucket property, pointing
>>>>> to the search\_index.
>>>>> >
>>>>> > curl -XPUT "$RIAK\_HOST/buckets/cats/props"
>>>>> -H'content-type:application/json' 
>>>>> -d'{"props":{"search\_index":"famous"}}'
>>>>> >
>>>>> > Eric
>>>>> >
>>>>> > On Feb 5, 2014, at 10:12 AM, Eric Redmond 
>>>>> wrote:
>>>>> >
>>>>> > http://docs.basho.com/riak/2.0.0pre11/dev/using/search/#Simple-Setup
>>>>> >
>>>>> > curl -XPUT "$RIAK\_HOST/search/index/famous"
>>>>> >
>>>>> > Eric
>>>>> >
>>>>> >
>>>>> > On Feb 5, 2014, at 10:08 AM, Kartik Thakore <
>>>>> thakore.kar...@gmail.com> wrote:
>>>>> >
>>>>> > What is the url to install search bucket indexes hooks on pre11?
>>>>> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>>>> > riak-users mailing list
>>>>> > riak-users@lists.basho.com
>>>>> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>>>> >
>>>>> >
>>>>> >
>>>>> >
>>>>> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>>>> > riak-users mailing list
>>>>> > riak-users@lists.basho.com
>>>>> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>>>> >
>>>>>
>>>>>
>>>>>
>>>>
>>>>
>>>
>>>
>>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

