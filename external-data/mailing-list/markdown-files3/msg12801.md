---
title: "Re: How does Riak full-text search compare to SolrCloud?"
description: ""
project: community
lastmod: 2013-10-30T07:41:39-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12801"
mailinglist_parent_id: "msg12800"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2013-10-30T07:41:39-07:00
---


Underneath the hood, Yokozuna (Riak Search 2.0) uses Solr's distributed
queries. However, instead of relying on Solr Cloud to distributed indexes
and determine which shards to include, it uses a variant of Riak's
"coverage" computation to determine which shards are queried, and then just
passes it off to Solr to perform. Unlike Riak Search 1.4 and earlier,
Yokozuna is document-partitioned, not term-partitioned, meaning that there
is a 1-1 mapping between Solr shard and Riak partition/vnode. Yokozuna also
does active anti-entropy so that any discrepancies between the index and
the key-value data get repaired.

I'm sure I'm missing some details; perhaps Ryan or Eric could chime in when
they come online.


On Wed, Oct 30, 2013 at 8:18 AM, Jeremiah Peschka <
jeremiah.pesc...@gmail.com> wrote:

> Riak 2.0's search is Solr and has the same functionality as SolrCloud. As
> I understand it, you'll have the same functionality available to you
> between the two.
>
> Looking at the history of the source, it looks like the current Solr
> version in Riak 2.0 Search is Solr 4.4... so, no, block joins aren't there.
>
> ---
> Jeremiah Peschka - Founder, Brent Ozar Unlimited
> MCITP: SQL Server 2008, MVP
> Cloudera Certified Developer for Apache Hadoop
>
>
> On Wed, Oct 30, 2013 at 2:48 AM, Andy  wrote:
>
>> Hi,
>>
>> I saw in the announcement of Riak 2.0 that Solr is now integrated into
>> Riak: http://basho.com/introducing-riak-2-0/. The announcement mentions
>> "highly available" and "built for scale". Those seem to be characteristics
>> similar to SolrCloud. For someone looking for a distributed search server,
>> is there any reason to choose Riak over SolrCloud? What are the pros and
>> cons of the two solutions?
>>
>> Also, is every Solr functionality available in Riak? Do the various Solr
>> analyzers and stemmers for different languages work in Riak? What about the
>> newly added Block Join feature (
>> https://issues.apache.org/jira/browse/SOLR-3076)?
>>
>> Thanks.
>> Andy
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>


-- 
Sean Cribbs 
Software Engineer
Basho Technologies, Inc.
http://basho.com/
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

