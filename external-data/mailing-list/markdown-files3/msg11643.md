---
title: "Re: RiakCS invalid module: nofile"
description: ""
project: community
lastmod: 2013-07-19T14:26:06-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11643"
mailinglist_parent_id: "msg11636"
author_name: "Kelly McLaughlin"
project_section: "mailinglistitem"
sent_date: 2013-07-19T14:26:06-07:00
---


Dimitri,

It looks like you do not have Riak properly configured for use with RiakCS.
Specifically the it looks like add\_paths setting is missing or incorrect.
You can find more info on the specifics of configuring Riak for RiakCS
here:
http://docs.basho.com/riakcs/latest/cookbooks/configuration/Configuring-Riak/.
Hope that helps.

Kelly


On Fri, Jul 19, 2013 at 11:10 AM, Dimitri Aivaliotis wrote:

> Hi,
>
> I'm kicking the tires on a RiakCS-on-SmartOS install, and noticed the
> following message in riak-cs's console.log at cloud storage
> calculation time:
>
> 2013-07-19 06:00:00.936 UTC [error] <0.32509.27> gen\_fsm
> riak\_cs\_storage\_d in state calculating terminated with reason:
> {json\_encode,{bad\_term,{error,<<"Phase {xform\_map,0}: invalid module
> named in PhaseSpec function:\n must be a valid module name (failed to
> load riak\_cs\_storage: nofile)">>}}}
> 2013-07-19 06:00:00.938 UTC [error] <0.32509.27> CRASH REPORT Process
> riak\_cs\_storage\_d with 1 neighbours exited with reason:
> {json\_encode,{bad\_term,{error,<<"Phase {xform\_map,0}: invalid module
> named in PhaseSpec function:\n must be a valid module name (failed to
> load riak\_cs\_storage: nofile)">>}}} in gen\_fsm:terminate/7 line 611
> 2013-07-19 06:00:00.940 UTC [error] <0.125.0> Supervisor riak\_cs\_sup
> had child riak\_cs\_storage\_d started with
> riak\_cs\_storage\_d:start\_link() at <0.32509.27> exit with reason
> {json\_encode,{bad\_term,{error,<<"Phase {xform\_map,0}: invalid module
> named in PhaseSpec function:\n must be a valid module name (failed to
> load riak\_cs\_storage: nofile)">>}}} in context child\_terminated
>
> Predictably, the storage statistics are empty.
>
>
> I also get the same error when doing an 'ls' with s3cmd:
>
> 2013-07-19 10:42:01.848 UTC [error] <0.24146.40> gen\_fsm <0.24146.40>
> in state waiting\_map\_reduce terminated with reason: <<"Phase
> {xform\_map,0}: invalid module named in PhaseSpec function:\n must be a
> valid module name (failed to load riak\_cs\_utils: nofile)">>
> 2013-07-19 10:42:01.854 UTC [error] <0.24146.40> CRASH REPORT Process
> <0.24146.40> with 1 neighbours exited with reason: <<"Phase
> {xform\_map,0}: invalid module named in PhaseSpec function:\n must be a
> valid module name (failed to load riak\_cs\_utils: nofile)">> in
> gen\_fsm:terminate/7 line 611
>
>
> I looked through the riak-cs packages, but found no 'nofile.beam' - is
> there supposed to be one?
>
> Thanks for any help.
>
> - Dimitri
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

