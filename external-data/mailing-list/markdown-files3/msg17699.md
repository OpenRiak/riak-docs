---
title: "Re: How to specify dismax related parameters like qf"
description: ""
project: community
lastmod: 2016-10-17T07:25:20-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17699"
mailinglist_parent_id: "msg17698"
author_name: "Fred Dushin"
project_section: "mailinglistitem"
sent_date: 2016-10-17T07:25:20-07:00
---


The internal solr API will not use the distributed queries generated from 
coverage plans. You will only get results from the local node. Theoretically, 
you could aggregate and de-duplicate across multiple nodes, but that would 
result in more data movement than necessary, as it does not leverage the "r=1" 
behavior you get from cover sets and which you get automatically from the Riak 
HTTP API.

-Fred

> On Oct 17, 2016, at 10:17 AM, AJAX DoneBy Jack  wrote:
> 
> Hi Magnus,
> 
> So you suggest to use http API right? That day I were thinking query the 
> internal Solr http by sending request. Could you advise what's the difference 
> between Riak http API and internal Solr http API? What's the pros and cons to 
> use them?
> 
> Thanks,
> Ajax
> 
> On Monday, 17 October 2016, Magnus Kessler  > wrote:
> On 14 October 2016 at 20:18, AJAX DoneBy Jack  > wrote:
> Hello Basho,
> 
> I am very new on Riak Search, I know can add {!dismax}before query string to 
> use it, but don't know how to specify qf or other dismax related parameters 
> in Riak Java Client. Could you advise?
> 
> Thanks,
> Ajax
> 
> Hi Ajax,
> 
> The Riak Java Client, as most other Riak clients, uses the Protocol Buffer 
> API to communicate with Riak. Yokozuna's implementation of the Protocol 
> Buffer API allows only for a small set of query parameters [0], which have 
> been chosen to support the standard query parser. As such, there is currently 
> no easy way to use the extended set of query parameters through the java api.
> 
> However, you may have better luck if you talk directly to HTTP API, exposed 
> at http://:8098/search/query/. This will accept all queries 
> supported by Solr 4.7. Please be aware, though, that some query results that 
> require accumulating data from all Solr nodes (such as stats queries), may 
> not work as expected. Yokozuna constructs a new coverage query very 
> frequently, and the actual results returned depend on which nodes are chosen 
> in this query.
> 
> Kind Regards,
> 
> Magnus
> 
> [0]: 
> https://github.com/basho/yokozuna/blob/develop/src/yz\_pb\_search.erl#L144-L150 
> 
> 
> 
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com 
> 
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com 
> 
> 
> 
> 
> 
> -- 
> Magnus Kessler
> Client Services Engineer
> Basho Technologies Limited
> 
> Registered Office - 8 Lincolnâ€™s Inn Fields London WC2A 3BP Reg 07970431
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

