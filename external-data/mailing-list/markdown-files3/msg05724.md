---
title: "Re: Integrating Riak"
description: ""
project: community
lastmod: 2011-11-23T08:17:35-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05724"
mailinglist_parent_id: "msg05719"
author_name: "Andy Skelton"
project_section: "mailinglistitem"
sent_date: 2011-11-23T08:17:35-08:00
---


I will be embedding my commit hooks and MR functions in the database
VM. That's not unreasonable but that is most of my project right
there. The rest is just a tiny webmachine resource module which
provides a specialized interface for inputting data into Riak. I might
also want to embed some riak-distributed janitorial processes.

Maybe I've misrepresented it by calling this my "application" when
it's really only an extra part of the database that a client
application will use. I meant "application" in the Erlang/Rebar sense.
The real (exterior) application will absolutely use Riak's pb
interface.

Thank you for clarifying in your follow-up email. I understand your
concerns. Does my use case make more sense now? Can you point me in a
better direction as to how to make releases with my code embedded in
Riak?

Many thanks,
Andy

On Wed, Nov 23, 2011 at 9:59 AM, Sean Cribbs  wrote:
> Do you embed PostgreSQL or Oracle in your application? Generally you don't
> (sqlite3 aside). This is the same concept.  Depend on the client library,
> not the database.
>
> On Wed, Nov 23, 2011 at 10:57 AM, Andy Skelton  wrote:
>>
>> This is the answer I hoped not to read. You might call it a premature
>> optimization but I believe it is reasonable to try to create a
>> distributed Erlang app with Riak as a dependency.
>>
>> I've been hacking on a Riak fork that twiddles the rebar and reltool
>> configs to shoehorn my own code into the same VM. That part is awkward
>> but not impossible.
>>
>> I was hoping you'd say Basho was working on an easy way to include
>> Riak as a rebar dep without forking as I did.
>>
>> Andy
>>
>> On Tue, Nov 22, 2011 at 11:31 PM, David Smith  wrote:
>> > On Tue, Nov 22, 2011 at 4:36 PM, Andrew Berman 
>> > wrote:
>> >> 4.  Does it make more sense to just install a riak package and use the
>> >> erlang pb client?  Seems like it would be less efficient especially
>> >> since
>> >> these will live on the same machine.
>> >
>> > This is the preferred way to attack this problem. Separation of the
>> > functionality by O/S processes is appropriate and much easier to
>> > reason about in error situations. Loopback sockets to the PBs
>> > interface should be within a 1 ms of total request handling time.
>> >
>> > D.
>> >
>> > --
>> > Dave Smith
>> > Director, Engineering
>> > Basho Technologies, Inc.
>> > diz...@basho.com
>> >
>> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> > riak-users mailing list
>> > riak-users@lists.basho.com
>> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>> >
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
>
> --
> Sean Cribbs 
> Developer Advocate
> Basho Technologies, Inc.
> http://www.basho.com/
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

