---
title: "Error building Riak, skerl(compile), Ubuntu 10.04 64-bit,	Erlang R14B02"
description: ""
project: community
lastmod: 2011-03-18T15:31:26-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02682"
author_name: "Chris Laskey"
project_section: "mailinglistitem"
sent_date: 2011-03-18T15:31:26-07:00
---


Hey All,

Having trouble compiling Riak from source on a Ubuntu 10.04 64-bit box. I'm
using the most recent Riak commit from GitHub, and have a working
installation of Erlang R14B02 from source. Previously this machine had a
working install of Riak using the riak\_0.14.0-1\_amd64.deb and Erlang R13B03
packages. Both packages were dpkg --purge 'd prior to updating to Erlang to
R14B02.

Any thoughts appreciated,

Cheers,

Chris


#: /opt/riak$ make rel
./rebar get-deps
==> rel (get-deps)
==> riak\_0.14.0.1 (get-deps)
Pulling cluster\_info from {git,"git://github.com/basho/cluster\_info",
 {branch,"master"}}
Initialized empty Git repository in
/opt/riak\_0.14.0.1/deps/cluster\_info/.git/
Pulling luwak from {git,"git://github.com/basho/luwak",{branch,"master"}}
Initialized empty Git repository in /opt/riak\_0.14.0.1/deps/luwak/.git/
Pulling riak\_kv from {git,"git://github.com/basho/riak\_kv
",{branch,"master"}}
Initialized empty Git repository in /opt/riak\_0.14.0.1/deps/riak\_kv/.git/
Pulling riak\_err from {git,"git://github.com/basho/riak\_err",
 {branch,"master"}}
Initialized empty Git repository in /opt/riak\_0.14.0.1/deps/riak\_err/.git/
==> cluster\_info (get-deps)
==> riak\_kv (get-deps)
Pulling riak\_core from {git,"git://github.com/basho/riak\_core",
 {branch,"master"}}
Initialized empty Git repository in /opt/riak\_0.14.0.1/deps/riak\_core/.git/
Pulling riakc from {git,"git://github.com/basho/riak-erlang-client",
 {tag,"riakc-1.0.2"}}
Initialized empty Git repository in /opt/riak\_0.14.0.1/deps/riakc/.git/
Pulling luke from {git,"git://github.com/basho/luke",{tag,"luke-0.2.3"}}
Initialized empty Git repository in /opt/riak\_0.14.0.1/deps/luke/.git/
Pulling erlang\_js from {git,"git://github.com/basho/erlang\_js",
 {tag,"erlang\_js-0.5.0"}}
Initialized empty Git repository in /opt/riak\_0.14.0.1/deps/erlang\_js/.git/
Pulling bitcask from {git,"git://github.com/basho/bitcask
",{branch,"master"}}
Initialized empty Git repository in /opt/riak\_0.14.0.1/deps/bitcask/.git/
Pulling ebloom from {git,"git://github.com/basho/ebloom",{branch,"master"}}
Initialized empty Git repository in /opt/riak\_0.14.0.1/deps/ebloom/.git/
Pulling eper from {git,"git://github.com/dizzyd/eper.git",{branch,"master"}}
Initialized empty Git repository in /opt/riak\_0.14.0.1/deps/eper/.git/
==> riak\_core (get-deps)
Pulling protobuffs from {git,"git://github.com/basho/erlang\_protobuffs",
 {tag,"protobuffs-0.5.1"}}
Initialized empty Git repository in /opt/riak\_0.14.0.1/deps/protobuffs/.git/
Pulling basho\_stats from {git,"git://github.com/basho/basho\_stats","HEAD"}
Initialized empty Git repository in
/opt/riak\_0.14.0.1/deps/basho\_stats/.git/
Pulling riak\_sysmon from {git,"git://github.com/basho/riak\_sysmon",
 {branch,"master"}}
Initialized empty Git repository in
/opt/riak\_0.14.0.1/deps/riak\_sysmon/.git/
Pulling webmachine from {git,"git://github.com/basho/webmachine",
 {tag,"webmachine-1.8.0"}}
Initialized empty Git repository in /opt/riak\_0.14.0.1/deps/webmachine/.git/
==> protobuffs (get-deps)
==> basho\_stats (get-deps)
==> riak\_sysmon (get-deps)
==> webmachine (get-deps)
Pulling mochiweb from {git,"git://github.com/basho/mochiweb",
 {tag,"mochiweb-1.7.1"}}
Initialized empty Git repository in /opt/riak\_0.14.0.1/deps/mochiweb/.git/
==> mochiweb (get-deps)
==> riakc (get-deps)
==> luke (get-deps)
==> erlang\_js (get-deps)
==> ebloom (get-deps)
==> bitcask (get-deps)
==> eper (get-deps)
==> luwak (get-deps)
Pulling skerl from {git,"git://github.com/basho/skerl",{tag,"skerl-1.0.0"}}
Initialized empty Git repository in /opt/riak\_0.14.0.1/deps/skerl/.git/
==> skerl (get-deps)
==> riak\_err (get-deps)
./rebar compile generate
==> cluster\_info (compile)
Compiled src/cluster\_info\_ex.erl
Compiled src/cluster\_info.erl
==> skerl (compile)
Compiled src/skerl.erl
Compiled src/hex.erl
Compiling c\_src/skein.c
Compiling c\_src/skein\_api.c
Compiling c\_src/skein\_block.c
Compiling c\_src/skein\_debug.c
Compiling c\_src/skerl\_nifs.c
c\_src/skerl\_nifs.c:2:21: error: erl\_nif.h: No such file or directory
c\_src/skerl\_nifs.c:7: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or
‘\_\_attribute\_\_’ before ‘\*’ token
c\_src/skerl\_nifs.c:14: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or
‘\_\_attribute\_\_’ before ‘skein\_init’
c\_src/skerl\_nifs.c:15: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or
‘\_\_attribute\_\_’ before ‘skein\_update’
c\_src/skerl\_nifs.c:16: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or
‘\_\_attribute\_\_’ before ‘skein\_final’
c\_src/skerl\_nifs.c:17: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or
‘\_\_attribute\_\_’ before ‘skein\_hash’
c\_src/skerl\_nifs.c:19: error: expected ‘)’ before ‘\*’ token
c\_src/skerl\_nifs.c:21: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or
‘\_\_attribute\_\_’ before ‘nif\_funcs’
c\_src/skerl\_nifs.c:29: error: expected ‘)’ before ‘(’ token
c\_src/skerl\_nifs.c:33: error: expected ‘)’ before ‘\*’ token
c\_src/skerl\_nifs.c:39: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or
‘\_\_attribute\_\_’ before ‘skein\_init’
c\_src/skerl\_nifs.c:58: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or
‘\_\_attribute\_\_’ before ‘skein\_update’
c\_src/skerl\_nifs.c:73: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or
‘\_\_attribute\_\_’ before ‘skein\_final’
c\_src/skerl\_nifs.c:89: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or
‘\_\_attribute\_\_’ before ‘skein\_hash’
ERROR: $CC -c $CFLAGS $DRV\_CFLAGS c\_src/skerl\_nifs.c -o c\_src/skerl\_nifs.o
failed with error: 1
make: \*\*\* [rel] Error 1
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

