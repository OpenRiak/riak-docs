---
title: "Error: call to undefined function	riak_kv_keys_fsm:module_info(exports)"
description: ""
project: community
lastmod: 2014-06-13T01:30:08-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14313"
author_name: "Henning Verbeek"
project_section: "mailinglistitem"
sent_date: 2014-06-13T01:30:08-07:00
---


I'm connecting to a 4-node-cluster (Riak 1.4.9) from Java (client
library 1.4.4). When trying to obtain the list of keys in a bucket,
riak reports a crash / error:

2014-06-13 09:20:47.163 [error] <0.23878.268> CRASH REPORT Process
<0.23878.268> with 0 neighbours exited with reason: call to undefined
function riak\_kv\_keys\_fsm:module\_info(exports) in gen\_fsm:init\_it/6
line 379
2014-06-13 09:20:47.163 [error] <0.463.0> Supervisor
riak\_kv\_keys\_fsm\_sup had child undefined started with
{riak\_core\_coverage\_fsm,start\_link,undefined} at <0.23878.268> exit
with reason call to undefined function
riak\_kv\_keys\_fsm:module\_info(exports) in context child\_terminated

The bucket is using a bitcask backend (via multi-backend).

The java code uses
http://basho.github.io/riak-java-client/1.4.4/com/basho/riak/client/bucket/Bucket.html#keys()
to request the list of keys.

Similarly, these curl-requests fail:
curl -i "http://localhost:8098/buckets?buckets=true"
curl -i "http://localhost:8098/buckets/myBucketName/keys?keys=true"

Note: only \*some\* of the nodes fail; others respond quickly and
without issue (both in Java and from curl). After restarting riak, the
failing nodes respond without errors as well.

A crash.log is attached.

Also interesting: the curl-request fails immediately (HTTP 500...).
The java call simply ... times out. I have specified a 60-second
socket timeout, otherwise the call would probably never return...

Any suggestions?
Thanks,
Henning


riak-crash.log
Description: Binary data
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

