---
title: "Re: Quickly deleting + recreating item in Riak deletes new item"
description: ""
project: community
lastmod: 2013-07-15T15:13:46-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11543"
mailinglist_parent_id: "msg11539"
author_name: "Jeremiah Peschka"
project_section: "mailinglistitem"
sent_date: 2013-07-15T15:13:46-07:00
---


This is what we do for CorrugatedIron integration testing. Test buckets
typically have a test name + UUID. Which makes it interesting when I try to
verify data via curl while I'm debugging. But it also keeps me from
polluting my testing buckets with the output of other failed tests.

---
Jeremiah Peschka - Founder, Brent Ozar Unlimited
MCITP: SQL Server 2008, MVP
Cloudera Certified Developer for Apache Hadoop


On Mon, Jul 15, 2013 at 2:16 PM, Gabriel Littman  wrote:

> Hi,
>
> Another posibility is to create a new bucket for each test run.
>
> Gabe
>
> On Mon, Jul 15, 2013 at 12:06 PM, Matthew Dawson wrote:
>
>> Hi Seth,
>> On July 14, 2013 02:25:02 PM Seth Bunce wrote:
>> > I had a similar problem. I mitigated the problem by appending a
>> > current timestamp (in nanoseconds) to the keys I'm using in my tests.
>> > This way I don't have to worry about waiting for Riak to reap
>> > tombstones after 3 seconds and I don't have to use
>> > delete\_mode=immediate. I still do a list keys + delete before each
>> > test.
>> I think this is what I'm going to have to do. I tried all the different
>> delete\_mode settings, but none of them seemed to help. Thanks for the
>> suggestion!
>> --
>> Matthew
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

