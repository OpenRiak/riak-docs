---
title: "Re: Riak dynamic cluster HOWTO"
description: ""
project: community
lastmod: 2012-01-11T13:04:07-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06245"
mailinglist_parent_id: "msg06155"
author_name: "Mark Phillips"
project_section: "mailinglistitem"
sent_date: 2012-01-11T13:04:07-08:00
---


Hey Jeff,
Sadly I'm just now getting around to working my way through this guide
on account of the post-holiday catchup game...
Firstly, great job on this. This clearly wasn't a small undertaking.
Thanks for taking the time to write and publish it.
One piece of initial feedback - On the first page you state one of
your goals as:

"The cluster can be scaled to at least 128 machines."

This is a great goal (and I hope everyone is building 128 node Riak
clusters). One thing I wanted to point out (which was brought to my
attention on twitter by @jdmaturen) is that the stock ring creation
size of 64 won't be sufficient for this. You'll need something closer
to 1024. Not sure how you want to note this in the tutorial, but it's
probably worth including a reference to ring\_creation\_size setting [1]
on the Custom Configuration Page [2].

I'll send along anything else that comes up.

Mark

[1] http://wiki.basho.com/Configuration-Files.html#ring\_creation\_size
[2] http://jeff.jke.net/2011/12/24/custom-configuration
On Fri, Jan 6, 2012 at 9:23 AM, Jeffrey Eliasen  wrote:
> I spent the Christmas break setting up a Riak cluster and documenting all
> the steps. I've got a howto/tutorial set up at
> http://jeff.jke.net/2011/10/02/setting-nosql-clusterÂ that will walk you
> through the steps.
>
> In particular, I aimed for low cost and low power. Each node in the cluster
> boots off the network (single point of maintenance for all node OS
> configuration) and just requires a data drive. Nodes are assigned addresses
> using DHCP and automatically update vm.args and execute reip if the node
> address changes from boot to boot. The scripts for this might be handy for
> anyone else running in an environment where machine addresses change
> (Amazon, etc).
>
> I'd love feedback, and more to the point, I'd like to find someone to walk
> through it step-by-step and make sure I didn't miss anything.
>
> Oh, and \*thanks\* to the list for helping me with configuration help over the
> last couple weeks!
>
> jeff
>
> --
>
> jeffrey k eliasen
>
> Find and follow me on:
> Blog: http://jeff.jke.net
> Twitter: http://twitter.com/jeffreyeliasen
> Facebook: http://facebook.com/jeffrey.eliasen
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

