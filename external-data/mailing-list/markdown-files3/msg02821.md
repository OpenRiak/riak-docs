---
title: "update objects in precommit hooks"
description: ""
project: community
lastmod: 2011-04-01T02:43:32-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02821"
author_name: "Damian Dobroczy≈Ñski"
project_section: "mailinglistitem"
sent_date: 2011-04-01T02:43:32-07:00
---


Hi, list!

I'm trying to update object metadata dictionary within my precommit hook
(in Erlang) using `riak\_object:update\_metadata/2' like this:

 Old = riak\_object:get\_metadata(O),
 New = dict:store(<<"X-my-metadata-name">>, Value, Old),
 NewObject = riak\_object:update\_metadata(O, New),

Unfortunately, the retrieved object does not contain the new keys. Where
can be the problem?

-- D.


0x0CAE3AEB.asc
Description: application/pgp-keys

signature.asc
Description: OpenPGP digital signature
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

