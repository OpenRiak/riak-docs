---
title: "Re: very slow write speed to riak-cs"
description: ""
project: community
lastmod: 2014-04-03T07:33:37-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13985"
mailinglist_parent_id: "msg13984"
author_name: "Anton Khalikov"
project_section: "mailinglistitem"
sent_date: 2014-04-03T07:33:37-07:00
---


Hi Luke

Is it safe to allow clients to connect directly to Riak CS as your 
suggestion is kinda against official docs 
(http://docs.basho.com/riakcs/latest/cookbooks/configuration/Load-Balancing-and-Proxy-Configuration/)?

I also think our problem might be caused by ring\_creation\_size 256 while
 we have only 8 nodes up currently (the cluster is planned to grow twice
 in the future). Yes I am Stanislav's colleague :)

pb\_backlog is set to 512 at the moment. Are you suggesting to lower it?

 
Luke Bakken 
3 Apr 2014 20:18
Hi Stanislav,Could
 you configure your clients to connect directly to Riak CS instead of 
through your proxy? A colleague of mine suggested that the {error,closed} and 104 error code 
in s3cmd appear to be caused by the connection between the client and 
Riak CS being closed or terminated unexpectedly.
I would still recommend keeping {pb\_backlog,
 256} as that will allow for more simultaneous connections to be 
handled going forward.
--Luke BakkenCSElbak...@basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_riak-users 
mailing listriak-users@lists.basho.comhttp://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


-- Best regards
Anton Khalikov

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

