---
title: "Re: Using $bucket index for listing keys"
description: ""
project: community
lastmod: 2016-03-11T02:08:54-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17138"
mailinglist_parent_id: "msg17111"
author_name: "Oleksiy Krivoshey"
project_section: "mailinglistitem"
sent_date: 2016-03-11T02:08:54-08:00
---


Anyone?

On 4 March 2016 at 19:11, Oleksiy Krivoshey  wrote:

> I have a bucket with ~200 keys in it and I wanted to iterate them with the
> help of $bucket index and 2i request, however I'm facing the recursive
> behaviour, for example I send the following 2i request:
>
> {
> bucket: 'BUCKET\_NAME',
> type: 'BUCKET\_TYPE',
> index: '$bucket',
> key: 'BUCKET\_NAME',
> qtype: 0,
> max\_results: 10,
> continuation: 'AAAA'
> }
>
> I receive 10 keys and continuation 'BBBB', I then repeat the request with
> continuation 'BBBB' and at this point I can receive a reply with
> continuation 'CCCC' or 'AAAA' or even 'BBBB' and its going in never ending
> recursion.
>
> I'm running this on a 5 node 2.1.3 cluster.
>
> What I'm doing wrong? Or is this not supported at all?
>
> Thanks!
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

