---
title: "Re: Riak CS Won't Start After Upgrade"
description: ""
project: community
lastmod: 2015-01-16T09:44:33-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15517"
mailinglist_parent_id: "msg15516"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2015-01-16T09:44:33-08:00
---


If your Riak CS version changed, ensure that add\_paths points to the
correct directory:

http://docs.basho.com/riakcs/latest/cookbooks/configuration/Configuring-Riak/

There is a version string embedded in the path that will change on upgrades.
--
Luke Bakken
Engineer
lbak...@basho.com


On Fri, Jan 16, 2015 at 8:59 AM, Valenti, Anthony
 wrote:
> Of course you have to have Riak started. It looked like it started
> normally, but then it failed. The error is complaining about an invalid
> storage backend, which didnâ€™t change.
>
>
>
> 2015-01-16 10:13:44.911 [info] <0.7.0> Application lager started on node
> 'riak@192.168.40.28'
>
> 2015-01-16 10:13:44.934 [info] <0.7.0> Application sasl started on node
> 'riak@192.168.40.28'
>
> 2015-01-16 10:13:44.939 [info] <0.7.0> Application crypto started on node
> 'riak@192.168.40.28'
>
> 2015-01-16 10:13:44.939 [info] <0.7.0> Application public\_key started on
> node 'riak@192.168.40.28'
>
> 2015-01-16 10:13:44.950 [info] <0.7.0> Application ssl started on node
> 'riak@192.168.40.28'
>
> 2015-01-16 10:13:44.956 [info] <0.7.0> Application riak\_sysmon started on
> node 'riak@192.168.40.28'
>
> 2015-01-16 10:13:44.970 [info] <0.7.0> Application os\_mon started on node
> 'riak@192.168.40.28'
>
> 2015-01-16 10:13:44.995 [info] <0.7.0> Application runtime\_tools started on
> node 'riak@192.168.40.28'
>
> 2015-01-16 10:13:45.011 [info] <0.7.0> Application erlang\_js started on node
> 'riak@192.168.40.28'
>
> 2015-01-16 10:13:45.037 [info] <0.7.0> Application inets started on node
> 'riak@192.168.40.28'
>
> 2015-01-16 10:13:45.039 [info] <0.7.0> Application mochiweb started on node
> 'riak@192.168.40.28'
>
> 2015-01-16 10:13:45.052 [info] <0.7.0> Application webmachine started on
> node 'riak@192.168.40.28'
>
> 2015-01-16 10:13:45.052 [info] <0.7.0> Application basho\_stats started on
> node 'riak@192.168.40.28'
>
> 2015-01-16 10:13:45.061 [info] <0.7.0> Application bitcask started on node
> 'riak@192.168.40.28'
>
> 2015-01-16 10:13:45.261 [info]
> <0.173.0>@riak\_core\_capability:process\_capability\_changes:530 New
> capability: {riak\_core,vnode\_routing} = proxy
>
> 2015-01-16 10:13:45.268 [notice] <0.48.0>@lager\_app:132 Deprecated
> lager\_file\_backend config detected, please consider updating it
>
> 2015-01-16 10:13:45.272 [info]
> <0.173.0>@riak\_core\_capability:process\_capability\_changes:530 New
> capability: {riak\_core,staged\_joins} = true
>
> 2015-01-16 10:13:45.281 [info]
> <0.173.0>@riak\_core\_capability:process\_capability\_changes:530 New
> capability: {riak\_core,resizable\_ring} = true
>
> 2015-01-16 10:13:45.297 [info] <0.7.0> Application riak\_core started on node
> 'riak@192.168.40.28'
>
> 2015-01-16 10:13:45.304 [info]
> <0.173.0>@riak\_core\_capability:process\_capability\_changes:530 New
> capability: {riak\_pipe,trace\_format} = ordsets
>
> 2015-01-16 10:13:45.334 [info] <0.7.0> Application riak\_pipe started on node
> 'riak@192.168.40.28'
>
> 2015-01-16 10:13:45.374 [info] <0.7.0> Application riak\_api started on node
> 'riak@192.168.40.28'
>
> 2015-01-16 10:13:45.379 [info] <0.7.0> Application sidejob started on node
> 'riak@192.168.40.28'
>
> 2015-01-16 10:13:45.432 [critical] <0.331.0>@riak\_kv\_app:start:100
> storage\_backend riak\_cs\_kv\_multi\_backend is non-loadable.
>
> 2015-01-16 10:13:45.433 [error] <0.330.0> CRASH REPORT Process <0.330.0>
> with 0 neighbours exited with reason:
> {invalid\_storage\_backend,{riak\_kv\_app,start,[normal,[]]}} in
> application\_master:init/4 line 138
>
> 2015-01-16 10:13:45.435 [info] <0.7.0> Application riak\_kv exited with
> reason: {invalid\_storage\_backend,{riak\_kv\_app,start,[normal,[]]}}
>
> 2015-01-16 10:13:45.436 [info] <0.152.0>@riak\_core\_app:prep\_stop:103
> Stopping application riak\_core - disabling web services.
>
> 2015-01-16 10:13:45.437 [info] <0.152.0>@riak\_core\_app:stop:112 Stopped
> application riak\_core.
>
>
>
> Thanks in advance for any help.
>
> Anthony Valenti
>
> \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
>
>
>
> Inmar Confidentiality Note: This e-mail and any attachments are
> confidential and intended to be viewed and used solely by the intended
> recipient. If you are not the intended recipient, be aware that any
> disclosure, dissemination, distribution, copying or use of this e-mail or
> any attachment is prohibited. If you received this e-mail in error, please
> notify us immediately by returning it to the sender and delete this copy and
> all attachments from your system and destroy any printed copies. Thank you
> for your cooperation.
>
>
>
> Notice of Protected Rights: The removal of any copyright, trademark, or
> proprietary legend contained in this e-mail or any attachment is prohibited
> without the express, written permission of Inmar, Inc. Furthermore, the
> intended recipient must maintain all copyright notices, trademarks, and
> proprietary legends within this e-mail and any attachments in their original
> form and location if the e-mail or any attachments are reproduced, printed
> or distributed.
>
>
>
> \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
>
>
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

