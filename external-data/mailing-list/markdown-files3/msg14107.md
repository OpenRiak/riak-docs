---
title: "Riak.filterNotFound and Riak.reduceSort in reduce phase dramaticaly	decrease performance"
description: ""
project: community
lastmod: 2014-04-17T02:31:32-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14107"
author_name: "Alexander Popov"
project_section: "mailinglistitem"
sent_date: 2014-04-17T02:31:32-07:00
---


query1.sh:
=====
curl -w %{time\_connect}:%{time\_starttransfer}:%{time\_total} -X POST \
-H "content-type: application/json" \
-d @- \
http://localhost:8098/mapred \
< 0.005:1.468:1.468


query2.sh:
========
curl -w %{time\_connect}:%{time\_starttransfer}:%{time\_total} -X POST \
-H "content-type: application/json" \
-d @- \
http://localhost:8098/mapred \
<0.005:1.439:1.439



query3.sh:
========
curl -w %{time\_connect}:%{time\_starttransfer}:%{time\_total} -X POST \
-H "content-type: application/json" \
-d @- \
http://localhost:8098/mapred \
< 0.005:0.218:0.218

As for me, this is not so fast too. because currently it is very simple and
 if I add some logic or users data is grow, all things will be much
slower.



Total number of keys in bucket: 3703
Keys matched with index: 299

Environment: cluster of 3 ec2 c3.xlarge instances(debian).
storage\_backend : riak\_kv\_eleveldb\_backend
erlydtl\_version : <<"0.7.0">>
riak\_control\_version : <<"1.4.4-0-g9a74e57">>
cluster\_info\_version : <<"1.2.4">>
riak\_search\_version : <<"1.4.8-0-gbe6e4ed">>
merge\_index\_version : <<"1.3.2-0-gcb38ee7">>
riak\_kv\_version : <<"1.4.8-0-g7545390">>
sidejob\_version : <<"0.2.0">>
riak\_api\_version : <<"1.4.4-0-g395e6fd">>
riak\_pipe\_version : <<"1.4.4-0-g7f390f3">>
riak\_core\_version : <<"1.4.4">>
bitcask\_version : <<"1.6.6-0-g230b6d6">>
basho\_stats\_version : <<"1.0.3">>
webmachine\_version : <<"1.10.4-0-gfcff795">>
mochiweb\_version : <<"1.5.1p6">>
inets\_version : <<"5.9">>
erlang\_js\_version : <<"1.2.2">>
runtime\_tools\_version : <<"1.8.8">>
os\_mon\_version : <<"2.2.9">>
riak\_sysmon\_version : <<"1.1.3">>
ssl\_version : <<"5.0.1">>
public\_key\_version : <<"0.15">>
crypto\_version : <<"2.1">>
sasl\_version : <<"2.2.1">>
lager\_version : <<"2.0.1">>
goldrush\_version : <<"0.1.5">>
compiler\_version : <<"4.8.1">>
syntax\_tools\_version : <<"1.6.8">>
stdlib\_version : <<"1.18.1">>
kernel\_version : <<"2.15.1">>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

