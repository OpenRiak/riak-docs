---
title: "About Protocol Buffers"
description: ""
project: community
lastmod: 2014-06-23T07:21:32-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14347"
author_name: "Alex De la rosa"
project_section: "mailinglistitem"
sent_date: 2014-06-23T07:21:32-07:00
---


Hi there,

I just installed RIAK 2.0 beta 1 and was playing with the Python library
using 'pbc' (Protocol Buffers).

test.py
--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------
import riak
client = riak.RiakClient(host ='127.0.0.1', http\_port = 8098, pb\_port =
8087, protocol = 'pbc')
bucket = client.bucket('people')

key = bucket.new('alex', data={"username":"Alex","age":33})
key.store()

print bucket.get('alex').encoded\_data
--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------

it works perfectly and it prints {"username": "Alex", "age": 33} as it
should print.

However, I'm not using a proto file (person.proto) and compiling it into
binary for Python to use it... something like:

person.proto
--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------
message Person {
 required string username = 1;
 required int32 age = 2;
}
--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------

xxx.py
--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------
import person\_pb2
person = person\_pb2.Person()
person.username = "Alex"
person.age = 33
data = person.SerializeToString()
--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------+--------

Am I using the 'pbc' interface wrong? however, on Riak's examples page is
done also without the "proto" file... I'm a bit confused at the moment as
it changed the way I normally would use Protocol Buffers.

Thanks,
Alex
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

