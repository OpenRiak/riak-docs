---
title: "How is the Java client handling a crashed node which comes back	with an empty datadir?"
description: ""
project: community
lastmod: 2013-02-21T07:35:03-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10178"
author_name: "Simon Effenberg"
project_section: "mailinglistitem"
sent_date: 2013-02-21T07:35:03-08:00
---


Hi list,

while testing riak in our environment I reinstalled one riak servers
out of 2 and when it was back again it didn't know anything about it's
old cluster. So my situation was:

1 node knowing both
1 node knowing only itself

the java client was writing into the nodes (both of them) so that I got
a split brain.

Therefor my question: in any case of an fresh reinstalled riak node, is
the java client somehow able to detect this single node and ignore it
while it isn't in the cluster? Or is this not possible and if I have to
reinstall a server do I have to prevent the riak clients to connect to
the node as long as it isn't in the cluster?

Cheers,
Simon

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

