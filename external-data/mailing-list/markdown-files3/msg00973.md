---
title: "Re: map reduce -> JSON.parse error"
description: ""
project: community
lastmod: 2010-08-29T08:20:13-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00973"
mailinglist_parent_id: "msg00972"
author_name: "Nils Petersohn"
project_section: "mailinglistitem"
sent_date: 2010-08-29T08:20:13-07:00
---


yes :)

i removed the comment entry, which indeed had some \r chars in it 
now i am able to let the mapreduce function run.

hope you can fix this issue 525 soon.

nils

On Aug 29, 2010, at 5:01 PM, Sean Cribbs wrote:

> I have found that error comes from json2.js, and in the future we should just 
> use Spidermonkey's builtin. https://issues.basho.com/show\_bug.cgi?id=525
> 
> Sean Cribbs 
> Developer Advocate
> Basho Technologies, Inc.
> http://basho.com/
> 
> On Aug 29, 2010, at 10:05 AM, James Sadler wrote:
> 
>> Hi Nils,
>> 
>> I ran into a similar problem last week. It seems that certain
>> characters can cause the JSON parser that ships as part of the
>> Spidermonkey JavaScript interpreter that Riak uses to throw an
>> exception. Off the top of my head, I think I managed to make it barf
>> with a \r embedded within a string.
>> 
>> I don't have the links handy, but I do believe that this is fixed in
>> Spidermonkey, and it's a simple matter of waiting until the fixes are
>> merged into Riak.
>> 
>> Hope that helps :)
>> 
>> James.
>> 
>> On 29 August 2010 23:31, Nils Petersohn  wrote:
>>> hello,
>>> 
>>> when i have a simple json bucket entry like this: 
>>> http://pastebin.com/XcWcvmYe
>>> than i always get an error:
>>> 
>>> {"lineno":483,"message":"JSON.parse","source":"unknown"}
>>> 
>>> the stacktrace is here: http://pastebin.com/EGzUKqps
>>> 
>>> when i try to use a much simpler JSON string than there is no error.
>>> 
>>> this must be some fault of the JSON.parse method ...
>>> 
>>> thx for pointing me in the right direction ...
>>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>>> riak-users mailing list
>>> riak-users@lists.basho.com
>>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>> 
>> 
>> 
>> 
>> -- 
>> James
>> 
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> 

Nils M. Petersohn
xing.com/profile/Nils\_Petersohn
blog.srvme.de
twitter.com/snackycracky
facebook.com/nils.petersohn
myspace.com/electrash

p...@berlin.de
0049 (0)151 40 511 351
skype: nilz\_berlin

Ebertystr. 47
10249 Berlin


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

