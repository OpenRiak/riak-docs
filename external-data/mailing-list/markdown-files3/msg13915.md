---
title: "Re: updating the default bucket-type to support Solr indexing?"
description: ""
project: community
lastmod: 2014-03-24T18:55:22-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13915"
mailinglist_parent_id: "msg13899"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2014-03-24T18:55:22-07:00
---


There is support for indexing CRDTs. Field definitions are defined in the
default schema:

https://github.com/basho/yokozuna/blob/develop/priv/default\_schema.xml#L96


On Mon, Mar 24, 2014 at 12:33 PM, Paul Walk  wrote:

> Thanks Luke.
>
> If I might be allowed a follow-on question, what is the effect of adding
> an index to a 'typed bucket-type'. For example, if I define a bucket\_type
> as follows:
>
> ./riak-admin bucket-type create map\_bucket\_type
> '{"props":{"search\_index":"my\_index","datatype":"map"}}'
>
> Are the members of any maps stored in a bucket which uses this bucket-type
> going to get indexed in Solr? I would assume that some sort of mashalling
> function and a custom schema would be required?
>
> Thanks,
>
> Paul
>
> On 24 Mar 2014, at 15:52, Luke Bakken  wrote:
>
> > Hi Paul,
> >
> > You are correct, a new bucket type must be created for Riak 2.0 search
> indexes.
> >
> > --
> > Luke Bakken
> > CSE
> > lbak...@basho.com
> >
> >
> > On Mon, Mar 24, 2014 at 2:27 AM, Paul Walk  wrote:
> > I'm experimenting with the technology preview of Riak 2.0, using an
> existing Ruby web application which uses the official Ruby client gem
> (1.4.3).
> >
> > My understanding is that if I have not specified particular
> bucket-types, then my buckets are implicitly using a 'default' bucket type.
> So, in order to try the all-new search functionality, I have tried to
> associate the default bucket-type with a search index, thus:
> >
> > ./riak-admin bucket-type update default
> '{"props":{"search\_index":"my\_index"}}'
> >
> > which returns the error:
> >
> > Error updating bucket type default: no\_default\_update
> >
> > Does this mean that in Riak 2.0, if one wants buckets to be indexed in
> Solr, one must create a new bucket\_type in order to associate an index and
> then associate buckets with this?
> >
> > Thanks,
> >
> > Paul
> > -------------------------------------------
> > Paul Walk
> > http://www.paulwalk.net
> > -------------------------------------------
> >
> >
> >
> >
> >
> >
> > \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> > riak-users mailing list
> > riak-users@lists.basho.com
> > http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
> >
>
> -------------------------------------------
> Paul Walk
> http://www.paulwalk.net
> -------------------------------------------
>
>
>
>
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

