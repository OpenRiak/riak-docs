---
title: "Re: have a new node take over the role of a downed,	unrecoverable node?"
description: ""
project: community
lastmod: 2010-10-16T12:16:48-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01312"
mailinglist_parent_id: "msg01311"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2010-10-16T12:16:48-07:00
---


`leave` is exactly what you want to do then. Once the old node has left (use 
`ringready` to track its exit), add the new neode. 

If the EBS volume containing the node's data was not lost, you could mount it 
onto the new node to save some recovery time, and then reip. However, you'll 
need to reip on all machines.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On Oct 16, 2010, at 2:54 PM, Jesse Newland wrote:

> I'm running through some disaster scenarios before bringing a riak cluster 
> into production, and have run into a scenario that I can't work through the 
> proper resolution for just yet:
> 
> Say an ec2 instance that was a part of a ring went away quickly, and data 
> from it was unrecoverable.
> 
> How might I go about telling the rest of the ring that a new instance that 
> I've brought up should take over the vnodes that were on that old instance? 
> This sounds like a job for `riak-admin reip`, but after running `reip 
> downed\_node new\_node`, `riak-admin ringready` still shows that the old nodes 
> are a part of the ring and down. I guess what I'd like to do is a posthumeous 
> `leave`?
> 
> Thoughts?
> 
> Regards -
> 
> Jesse Newland
> ---
> je...@railsmachine.com
> 404.216.1093
> 
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

