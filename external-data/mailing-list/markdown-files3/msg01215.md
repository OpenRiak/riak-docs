---
title: "Re: Handoff repeatedly failing"
description: ""
project: community
lastmod: 2010-10-06T13:21:11-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01215"
mailinglist_parent_id: "msg01213"
author_name: "Tony Novak"
project_section: "mailinglistitem"
sent_date: 2010-10-06T13:21:11-07:00
---


Hi Sean,

Strangely, the receiving node was reachable and did not show any
messages indicating receipt of the handoff messages. After restarting
Riak on both nodes, everything seems to be functioning normally.

Tony

On Wednesday, October 6, 2010, Sean Cribbs  wrote:
> Is the receiving node it's trying to handoff to reachable? (Try telnet to the 
> handoff port.) If not, then that would explain the handoff failure.  Also, 
> check the receiving node for "Receiving handoff" messages.
>
> Sean Cribbs Developer AdvocateBasho Technologies, 
> Inc.http://basho.com/
>
>
> On Oct 6, 2010, at 2:23 PM, Tony Novak wrote:
> Sean,
> So I shouldn't be concerned that it's trying to handoff the same vnode 
> multiple times?
> Thanks again!Tony
>
> On Wed, Oct 6, 2010 at 10:32 AM, Sean Cribbs  wrote:
> Tony,
> That error occurs when trying to interact with a socket that is closed. I can 
> assure you that it is harmless and that the message will no longer appear in 
> 0.13.
>
>
>
>
>
> Sean Cribbs Developer AdvocateBasho Technologies, 
> Inc.http://basho.com/
>
>
>
>
> On Oct 6, 2010, at 1:27 PM, Tony Novak wrote:
> After recently adding a few additional nodes to a Riak cluster, I keep seeing 
> repeated handoff failures like this one:
>
>
> =INFO REPORT==== 6-Oct-2010::17:05:30 ===Starting handoff of partition 
> riak\_kv\_vnode 1043318063368056673053607043667580944695787782144 to 
> 'r...@10.217.31.183'
>
>
>
> (r...@10.104.41.223)1> =ERROR REPORT==== 6-Oct-2010::17:05:56 ===Handoff 
> sender riak\_kv\_vnode 1043318063368056673053607043667580944695787782144 failed 
> error:{badmatch,
>
>
>
>                                                                               
>               {error,                                                        
>                                      closed}}
>
>
>
> (r...@10.104.41.223)1> =INFO REPORT==== 6-Oct-2010::17:08:30 ===Starting 
> handoff of partition riak\_kv\_vnode 
> 1043318063368056673053607043667580944695787782144 to 'r...@10.217.31.183'
>
>
>
> (r...@10.104.41.223)1> =ERROR REPORT==== 6-Oct-2010::17:08:56 ===Handoff 
> sender riak\_kv\_vnode 1043318063368056673053607043667580944695787782144 failed 
> error:{badmatch,
>
>
>
>                                                                               
>               {error,                                                        
>                                      closed}}
>
>
>
> (r...@10.104.41.223)1> =INFO REPORT==== 6-Oct-2010::17:11:30 ===Starting 
> handoff of partition riak\_kv\_vnode 
> 1043318063368056673053607043667580944695787782144 to 'r...@10.217.31.183'
>
>
>
> (r...@10.104.41.223)1> =ERROR REPORT==== 6-Oct-2010::17:11:56 ===Handoff 
> sender riak\_kv\_vnode 1043318063368056673053607043667580944695787782144 failed 
> error:{badmatch,
>
>
>
>                                                                               
>               {error,                                                        
>                                      closed}}
>
>
>
> (r...@10.104.41.223)1> =INFO REPORT==== 6-Oct-2010::17:14:30 ===Starting 
> handoff of partition riak\_kv\_vnode 
> 1043318063368056673053607043667580944695787782144 to 'r...@10.217.31.183'
>
>
>
> (r...@10.104.41.223)1> =ERROR REP

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

