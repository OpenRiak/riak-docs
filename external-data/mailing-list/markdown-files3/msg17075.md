---
title: "Re: Testing On A Single Node"
description: ""
project: community
lastmod: 2016-02-26T05:03:02-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17075"
mailinglist_parent_id: "msg17073"
author_name: "Christopher Mancini"
project_section: "mailinglistitem"
sent_date: 2016-02-26T05:03:02-08:00
---


To second Vitaly, losing data in restart is not normal. What OS are you
running it on? Is it in a VM or on bare metal? How did you install it? Did
you change any riak.conf vars? With this info, we should be able to help
you trouble shoot this issue better.

Chris

On Fri, Feb 26, 2016 at 12:39 AM Vitaly E <13vitam...@gmail.com> wrote:

> Hi Joe,
>
> A standalone node should behave similarly to a clustered node in terms of
> data persistence. Actually, I use single-node Riak setups (inside a VM) a
> lot for testing. The only differences are ring\_size=8 and n\_val=1, for
> performance reasons.
>
> So, it must be your Riak or VM configuration. Also make sure you don't
> delete Riak data directories by mistake when restarting your VM. Another
> reason could be that you restart the VM before all the writes have been
> flushed to the disk, for example when using Bitcask (
> docs.basho.com/riak/latest/ops/advanced/backends/bitcask/), but in that
> case you should have lost only the most recent writes.
>
> Hope this helps
>
>
> Vitaly
> I am trying to set up a simple test environment. This environment consists
> of a single Riak KV node which has not joined a cluster.
>
> I can populate the single un-clustered node with KV pairs just fine using
> curl.
>
> However, when I stop the node, and then restart it, all the KV pairs that
> were written before the stop are gone.
>
> Is there a way to get a non-cluster joined single node to reload KV data
> from disk, or is the only way for a restarted node to re-populate KV pairs
> from other nodes in a cluster?
>
> I realize this is an edge case, and I only use it for Virtualbox testing.
>
>
>
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
> riak-users mailing list
> riak-users@lists.basho.com
> http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>
-- 
Sincerely,

Christopher Mancini
-----------------------------

employee = {
 purpose: solve problems with code,
 phone: 7164625591,
 email: cmanc...@basho.com,
 github: http://www.github.com/christophermancini
}
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

