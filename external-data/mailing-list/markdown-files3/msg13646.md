---
title: "Re: pagination over 2i indexes in java"
description: ""
project: community
lastmod: 2014-02-11T21:37:42-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13646"
mailinglist_parent_id: "msg13645"
author_name: "joe dude"
project_section: "mailinglistitem"
sent_date: 2014-02-11T21:37:42-08:00
---


Yeah, i looked at your code and it looks very similar to what i'm doing. The 
difference is i'm just talking to the client directly:

StreamingOperation result = rawClient.fetchIndex(query);


And rawClient is a "PBClusterClient". Might that have something to do with it?



On Tuesday, February 11, 2014 5:00 PM, Dave Rusek  wrote:
 
Joe,

Sorry, I wanted to get that email out before I stepped out. The specific test I 
added is here:

https://github.com/basho/riak-java-client/blob/1.4.x-develop/src/test/java/com/basho/riak/client/itest/ITestBucket.java#L280

Does this represent your use case? If not, do you happen to have a failing test 
I could take a look at? 

Thanks!

-- 
Dave Rusek
Software Engineer
Basho Technologies
@davidjrusek

On February 11, 2014 at 5:33:57 PM, Dave Rusek (dru...@basho.com) wrote:
Joe,

I added an integration test to the 1.4.x-develop and the 1.4.4
branch of the client and tried them against the latest 1.4 branch
of Riak but was not able to reproduce your issue.

https://github.com/basho/riak-java-client/tree/1.4.x-develop

-- 
Dave Rusek
Software Engineer 
Basho Technologies
@davidjrusek

On February 11, 2014 at 5:21:11 PM, Brian
Roach (ro...@basho.com)
wrote:
---------- Forwarded message ----------
>From: joe dude 
>Date: Tue, Feb 11, 2014 at 2:15 PM
>Subject: Re: pagination over 2i indexes in java
>To: Brian Roach 
>Cc: "riak-users@lists.basho.com"

>
>
>I'm using 1.4.4, and creating a PBClusterClient.
>
>Thanks.
>
>
>On Tuesday, February 11, 2014 11:03 AM, Brian Roach
 wrote:
>Hi Joe -
>
>What version of the Riak Java client are you using, and which
protocol
>(PB or HTTP)?
>
>Will take a look at it.
>
>Thanks!
>- Roach
>
>On Tue, Feb 11, 2014 at 11:50 AM, joe dude
 wrote:
>> Hi, trying to figure out how to use the java client to do 2i
index queries
>> with pagination.
>>
>> I can issue the query with max\_results and get back exactly
the number that
>> i asked for, but the continuation value in the returned
StreamingOperation
>> object is null.
>>
>> In contrast, i get pagination to work just fine using the
examples from:
>> http://docs.basho.com/riak/latest/dev/using/2i/
>>
>> I'm using:
>>
>> public StreamingOperation
fetchIndex(IndexSpec indexSpec)
>> throws IOException
>>
>>
>> It's as if i'm missing something when building IndexSpec, but
not sure what.
>>
>> Thx.
>>
>>
>> \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
>> riak-users mailing list
>> riak-users@lists.basho.com
>>
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
>>
>

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

