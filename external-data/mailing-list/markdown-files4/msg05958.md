---
title: "Re: Secondary Index Query across multiple buckets"
description: ""
project: community
lastmod: 2011-12-15T08:02:47-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05958"
mailinglist_parent_id: "msg05949"
author_name: "Rusty Klophaus"
project_section: "mailinglistitem"
sent_date: 2011-12-15T08:02:47-08:00
---


Hi Jeremy,

Currently, Secondary Indexes are scoped per bucket. There is no good way to
run a Secondary Index query across multiple buckets, short of running
multiple queries.

You are correct in that you could store the items in a single bucket
provided that they all have unique keys. In the LevelDB backend (and most
backends), buckets are a logical separation, not a physical separation, so
either approach will use the same amount of resources. (The Innostore
backend is the exception to this rule, it splits buckets into separate
files.)

Best,
Rusty

On Thu, Dec 15, 2011 at 8:29 AM, Jeremy Raymond  wrote:

&gt; Let me pose the question a different way. What is a good way to pull out
&gt; objects across multiple buckets based upon some secondary data that is not
&gt; their key?
&gt;
&gt; The items in the buckets all have unique keys. Maybe move them all into a
&gt; single bucket (millions of items) and then I could use secondary indexes to
&gt; pull the find them?
&gt;
&gt; If the keys of my objects are unique does organizing them into buckets
&gt; really gain me anything over just putting them all in a single bucket and
&gt; using secondary indexes to find them?
&gt;
&gt; --
&gt; Jeremy
&gt;
&gt;
&gt;
&gt; On Sat, Dec 10, 2011 at 2:05 PM, Jeremy Raymond wrote:
&gt;
&gt;&gt; Hello,
&gt;&gt;
&gt;&gt; Is it possible to run an index query across multiple buckets at once?
&gt;&gt; Something similar to how you can feed a map query with bucket/key pairs,
&gt;&gt; I'm looking to run an index query with bucket/index pairs.
&gt;&gt;
&gt;&gt; --
&gt;&gt; Jeremy
&gt;&gt;
&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;


-- 
Rusty Klophaus (@rustyio)
\*Basho Technologies, Inc.\*
www.basho.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

