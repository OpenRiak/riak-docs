---
title: "Re: Riak nodes constantly crashing"
description: ""
project: community
lastmod: 2016-10-24T15:08:08-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17709"
mailinglist_parent_id: "msg17708"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2016-10-24T15:08:08-07:00
---


Disk, memory or file descriptors would be my guess. Bitcask?

On Monday, October 24, 2016, Ricardo Mayerhofer 
wrote:

&gt; Hi all,
&gt; I have a Riak 1.4 where the nodes seems to be constantly crashing. All 5
&gt; nodes are affected.
&gt;
&gt; However it seems Riak manage to get them up again.
&gt;
&gt; Any idea on whats going on? Erros logs below.
&gt;
&gt; Thanks.
&gt;
&gt; error.log
&gt; ...
&gt; 2016-10-24 21:57:29.185 [error] &lt;0.24570.1174&gt; CRASH REPORT Process
&gt; &lt;0.24570.1174&gt; with 0 neighbours crashed with reason: no case clause
&gt; matching {ok,{http\_error,"exit\r\n"},&lt;&lt;&gt;&gt;} in mochiweb\_http:request/3
&gt; line 107
&gt; 2016-10-24 21:58:29.187 [error] &lt;0.7109.1175&gt; CRASH REPORT Process
&gt; &lt;0.7109.1175&gt; with 0 neighbours crashed with reason: no case clause
&gt; matching {ok,{http\_error,"exit\r\n"},&lt;&lt;&gt;&gt;} in mochiweb\_http:request/3
&gt; line 107
&gt; 2016-10-24 21:59:29.228 [error] &lt;0.19612.1175&gt; CRASH REPORT Process
&gt; &lt;0.19612.1175&gt; with 0 neighbours crashed with reason: no case clause
&gt; matching {ok,{http\_error,"exit\r\n"},&lt;&lt;&gt;&gt;} in mochiweb\_http:request/3
&gt; line 107
&gt; 2016-10-24 22:00:29.218 [error] &lt;0.1356.1176&gt; CRASH REPORT Process
&gt; &lt;0.1356.1176&gt; with 0 neighbours crashed with reason: no case clause
&gt; matching {ok,{http\_error,"exit\r\n"},&lt;&lt;&gt;&gt;} in mochiweb\_http:request/3
&gt; line 107
&gt; 2016-10-24 22:01:29.197 [error] &lt;0.11380.1176&gt; CRASH REPORT Process
&gt; &lt;0.11380.1176&gt; with 0 neighbours crashed with reason: no case clause
&gt; matching {ok,{http\_error,"exit\r\n"},&lt;&lt;&gt;&gt;} in mochiweb\_http:request/3
&gt; line 107
&gt; 2016-10-24 22:02:29.231 [error] &lt;0.24279.1176&gt; CRASH REPORT Process
&gt; &lt;0.24279.1176&gt; with 0 neighbours crashed with reason: no case clause
&gt; matching {ok,{http\_error,"exit\r\n"},&lt;&lt;&gt;&gt;} in mochiweb\_http:request/3
&gt; line 107
&gt;
&gt; crash.log
&gt; 2016-10-24 21:51:56 =CRASH REPORT====
&gt; crasher:
&gt; initial call: mochiweb\_acceptor:init/3
&gt; pid: &lt;0.28136.1621&gt;
&gt; registered\_name: []
&gt; exception error: {{case\_clause,{ok,{http\_error,
&gt; "exit\r\n"},&lt;&lt;&gt;&gt;}},[{mochiweb\_http,request,3,[{file,"src/
&gt; mochiweb\_http.erl"},{line,107}]},{proc\_lib,init\_p\_do\_apply,
&gt; 3,[{file,"proc\_lib.erl"},{line,227}]}]}
&gt; ancestors: ['http\_0.0.0.0:8098\_mochiweb',riak\_core\_sup,&lt;0.148.0&gt;]
&gt; messages: []
&gt; links: [&lt;0.201.0&gt;,#Port&lt;0.235869290&gt;]
&gt; dictionary: []
&gt; trap\_exit: false
&gt; status: running
&gt; heap\_size: 377
&gt; stack\_size: 24
&gt; reductions: 423
&gt; neighbours:
&gt; 2016-10-24 21:52:56 =CRASH REPORT====
&gt; crasher:
&gt; initial call: mochiweb\_acceptor:init/3
&gt; pid: &lt;0.7845.1622&gt;
&gt; registered\_name: []
&gt; exception error: {{case\_clause,{ok,{http\_error,
&gt; "exit\r\n"},&lt;&lt;&gt;&gt;}},[{mochiweb\_http,request,3,[{file,"src/
&gt; mochiweb\_http.erl"},{line,107}]},{proc\_lib,init\_p\_do\_apply,
&gt; 3,[{file,"proc\_lib.erl"},{line,227}]}]}
&gt; ancestors: ['http\_0.0.0.0:8098\_mochiweb',riak\_core\_sup,&lt;0.148.0&gt;]
&gt; messages: []
&gt; links: [&lt;0.201.0&gt;,#Port&lt;0.235879110&gt;]
&gt; dictionary: []
&gt; trap\_exit: false
&gt; status: running
&gt; heap\_size: 377
&gt; stack\_size: 24
&gt; reductions: 406
&gt; --
&gt; Ricardo Mayerhofer
&gt;


-- 


Alexander Sicular
Solutions Architect
Basho Technologies
9175130679
@siculars
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

