---
title: "Attempting to use secondary indexes"
description: ""
project: community
lastmod: 2011-08-03T20:42:49-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04207"
author_name: "Craig Muth"
project_section: "mailinglistitem"
sent_date: 2011-08-03T20:42:49-07:00
---


I'm running the code example from
http://rusty.basho.com.s3.amazonaws.com/Presentations/2011-OSCONData-Portland.pdf

\*This succeeds:\*
curl \
 -X PUT \
 -d "OPAQUE\_VALUE" \
 -H "x-riak-index-category\_bin: armor" \
 -H "x-riak-index-price\_int: 400" \
 http://127.0.0.1:8098/buckets/loot/keys/gauntlet24

\*This verifies it's getting there:\*
curl http://127.0.0.1:8098/riak/loot/gauntlet24
 =&gt; OPAQUE\_VALUE

\*However, this finds nothing:\*
curl http://127.0.0.1:8098/buckets/loot/index/category\_bin/eq/armor
 =&gt; {"keys":[]}

Whereas in the presentation it says it should return {"keys":["gauntlet24"]}

Any ideas? Just grabbed the latest from github master.

--Craig
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

