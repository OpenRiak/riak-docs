---
title: "Re: Ripple + riak confguration"
description: ""
project: community
lastmod: 2011-11-28T07:26:21-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05751"
mailinglist_parent_id: "msg05745"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2011-11-28T07:26:21-08:00
---


Vamsi,

What we typically have suggested is that you use an external load-balancer
that can spread requests evenly across the Riak cluster, and that the
client connect only to that load-balancer (usually software) on localhost.
 There are many options available for software LBs - haproxy, pen, pound,
and nginx are frequently mentioned. Which one you use depends on what your
admins are experienced with and what your use-case requires. That said, I
think the multi-node support in Ripple is a good thing going forward, and
you should use that if possible. The tradeoff here is primarily whether you
want to change your Ruby app's configuration or your LB's when you
add/remove nodes from the Riak cluster.

On Mon, Nov 28, 2011 at 6:37 AM, Vamsi Krishna wrote:

&gt; Hey Mattias,
&gt;
&gt; Thanks a lot for your quick response, the link you have given as good
&gt; information. But, what if I use normal queries for ex: I do User.find("
&gt; matt...@gmail.com") or something like that then if the node that is setup
&gt; on the ripple.yml is down then it cant information from other nodes and it
&gt; became quite a problem to handle/fix this issue.
&gt;
&gt; Regards,
&gt; Vamsi.
&gt;
&gt;
&gt; On Mon, Nov 28, 2011 at 4:37 PM, Mathias Meyer wrote:
&gt;
&gt;&gt; Vamsi,
&gt;&gt;
&gt;&gt; there's nothing wrong with your cluster setup. Support for multiple nodes
&gt;&gt; in Ripple is being worked on in the master branch, you can have a lookie
&gt;&gt; here at the documentation update on how to use it:
&gt;&gt; https://github.com/seancribbs/ripple/commit/88fed2bdb1900ccc26fd292b3607d66cbcbe82c4
&gt;&gt;
&gt;&gt; Cheers, Mathias
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; On Montag, 28. November 2011 at 11:43, Vamsi Krishna wrote:
&gt;&gt;
&gt;&gt; &gt; Hi,
&gt;&gt; &gt;
&gt;&gt; &gt; I was able to set up a riak cluster with 4 nodes. I am using ripple as
&gt;&gt; an orm for riak db, but I can only configure with one node. I am getting
&gt;&gt; data replicated in other nodes but, the issue is if the configured node
&gt;&gt; with ripple is down I was not able to make use of the other nodes. Is there
&gt;&gt; a way that I can configure ripple with all those nodes? Or can is there
&gt;&gt; something wrong with the cluster setup ? I followed wiki.basho.com (
&gt;&gt; http://wiki.basho.com) for the cluster setup.
&gt;&gt; &gt;
&gt;&gt; &gt; Regards,
&gt;&gt; &gt; Vamsi.
&gt;&gt; &gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; &gt; riak-users mailing list
&gt;&gt; &gt; riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
&gt;&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;


-- 
Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://www.basho.com/
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

