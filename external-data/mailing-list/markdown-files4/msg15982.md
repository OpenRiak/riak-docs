---
title: "Re: non-indexable SOLR schema"
description: ""
project: community
lastmod: 2015-04-04T09:03:01-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15982"
mailinglist_parent_id: "msg15981"
author_name: "Alex De la rosa"
project_section: "mailinglistitem"
sent_date: 2015-04-04T09:03:01-07:00
---


Uhm, interesting, I didn't see that page; I believe the one I saw was about
using Riak Search and that's where my assumption on needing to create an
index to make a bucket\_type came along.

Much easier though! Thanks!

Alex

On Saturday, April 4, 2015, Shawn Debnath  wrote:

&gt; Riak does not in any way rely on solr for its KV operations. Not sure
&gt; where you are seeing that or what code you are looking at but you can
&gt; define bucket types, activate them without ever touching solr. The basic
&gt; bucket type set up instructions can be found here:
&gt; http://docs.basho.com/riak/latest/dev/advanced/bucket-types/.
&gt;
&gt; On 4/4/15, 8:51 AM, "Alex De la rosa"  &gt; wrote:
&gt;
&gt; How to do that?
&gt;
&gt; For what I have seen, to use these special data types you need to create
&gt; a bucket under a bucket\_type; and this bucket type is created following an
&gt; index so data gets indexed in Solr.
&gt;
&gt; On Saturday, April 4, 2015, Shawn Debnath  &gt; wrote:
&gt;
&gt;&gt; You do not have to set up Yokozuna (yz) to be able to use counters,
&gt;&gt; sets, maps in Riak. Those types can be used independently via the Riak key
&gt;&gt; value store. You only need to set up the indexes if you were to search for
&gt;&gt; data via yz or search 2.0. And in that case, you can remove the generic
&gt;&gt; mappings, keep the \_yz specific ones and then explicitly add the fields you
&gt;&gt; want to index/search on.
&gt;&gt;
&gt;&gt; On 4/4/15, 7:25 AM, "Alex De la rosa"  wrote:
&gt;&gt;
&gt;&gt; Hi all,
&gt;&gt;
&gt;&gt; To be able to use counters/sets/maps in Riak I have to store the object
&gt;&gt; into a defined bucket\_type indexed via SOLR.
&gt;&gt;
&gt;&gt; However, this will require extra disk space as data will be indexed (if
&gt;&gt; using the default schema). Can I create a custom schema "ignoring" all
&gt;&gt; fields so nothing is indexed? I don't need to use Riak Search on these
&gt;&gt; objects, as I always know the KEY to fetch them. A schema like this would
&gt;&gt; work? ( I guess that I can not put [ indexed="false" ] in the "\_yz\*" fields
&gt;&gt; required by Riak, right? Or is it possible to not index that data either? )
&gt;&gt;
&gt;&gt; —+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—
&gt;&gt; xml version="1.0" encoding="UTF-8" ?
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; &gt; multiValued="false" required="true"/&gt;
&gt;&gt; &gt; multiValued="false"/&gt;
&gt;&gt; &gt; multiValued="false"/&gt;
&gt;&gt; &gt; multiValued="false"/&gt;
&gt;&gt; &gt; multiValued="false"/&gt;
&gt;&gt; &gt; multiValued="false"/&gt;
&gt;&gt; &gt; multiValued="false"/&gt;
&gt;&gt; &gt; multiValued="false"/&gt;
&gt;&gt; &gt; multiValued="false"/&gt;
&gt;&gt; 
&gt;&gt;
&gt;&gt; \_yz\_id
&gt;&gt;
&gt;&gt; 
&gt;&gt; &gt; multiValued="true" class="solr.StrField" /&gt;
&gt;&gt; 
&gt;&gt; &gt; sortMissingLast="true" /&gt;
&gt;&gt; 
&gt;&gt; 
&gt;&gt; —+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—+—
&gt;&gt;
&gt;&gt; Another question, can I use the [ compressed="true" ] to save disk
&gt;&gt; space? in both  and "\_yz\*" fields?
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Alex
&gt;&gt;
&gt;&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

