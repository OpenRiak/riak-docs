---
title: "Re: Questions on configuring public and private ips for riak on ubuntu"
description: ""
project: community
lastmod: 2012-03-04T21:38:18-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06868"
mailinglist_parent_id: "msg06867"
author_name: "Tim Robinson"
project_section: "mailinglistitem"
sent_date: 2012-03-04T21:38:18-08:00
---


Right now I am just loading data for test purposes. It's nice to be able to do 
some benchmarks against the private network (which is @1Gbit/s)... while being 
able to poke a hole in the firewall when I want to do a test/demo.
 
Tim

-----Original Message-----
From: "Alexander Sicular" 
Sent: Sunday, March 4, 2012 9:15pm
To: "Tim Robinson" 
Cc: "riak-users@lists.basho.com" 
Subject: Re: Questions on configuring public and private ips for riak on ubuntu

this is a "Very Bad" idea. do not expose your riak instance over a public ip 
address. riak has no internal security mechanism to keep people from doing very 
bad things to your data, configuration, etc.

-Alexander Sicular

@siculars

On Mar 5, 2012, at 12:43 AM, Tim Robinson wrote:

&gt; Hello all,
&gt; 
&gt; I have a few questions on networking configs for riak.
&gt; 
&gt; I have both a public ip and a private ip for each riak node. I want Riak to 
&gt; communicate over the private ip addresses to take advantage of free 
&gt; bandwidth, but I would also like the option to interface with riak using the 
&gt; public ip's if need be (i.e. for testing / demo's etc).
&gt; 
&gt; I'm gathering that the way people to this is by setting up app.config to use 
&gt; ip "0.0.0.0" to listen for all ip's. I'm also gathering vm.args needs to have 
&gt; a unique name in the cluster so I would need to use the hostname for the 
&gt; -name option (i.e. r...@www.fake-node-domain-name-1.com).
&gt; 
&gt; My hosts file would contain:
&gt; 
&gt; 127.0.0.1 localhost.localdomain localhost
&gt; x.x.x.x www.fake-node-domain-name-1.com mynode-1
&gt; ....
&gt; 
&gt; where x.x.x.x is the public ip not the private.
&gt; 
&gt; This is where I start to get lost.
&gt; 
&gt; As it sits, if I attempt to join using the private ip's i will get the 
&gt; unreachable error - yet I can telnet connect to/from the equivalent nodes. 
&gt; 
&gt; So I could add a second IP to the hosts file, but since I need to keep the 
&gt; public one as well, how is that riak is going to use the private ips for 
&gt; gissip ring, hinted hand-off, ... etc etc.
&gt; 
&gt; There's obviously some networking basics I am missing.
&gt; 
&gt; Any guidance from those of you who have done this?
&gt; 
&gt; Thanks.
&gt; Tim
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com



Tim Robinson



Tim Robinson



\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

