---
title: "Re: Delete takes 5 seconds in riak 1.0 ???"
description: ""
project: community
lastmod: 2011-10-04T07:16:56-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05031"
mailinglist_parent_id: "msg05026"
author_name: "Roland Karlsson"
project_section: "mailinglistitem"
sent_date: 2011-10-04T07:16:56-07:00
---


Thanx!

Hmmmm ... is this mapping / riak-version &lt;--&gt; riakc-version documented anywhere?
Maybe via a protocol number ...

/Roland



----- Original Message -----
From: "Ian Plosker" 
To: "Roland Karlsson" 
Cc: riak-users@lists.basho.com
Sent: Tuesday, October 4, 2011 2:50:30 PM
Subject: Re: Delete takes 5 seconds in riak 1.0 ???


Roland, 


There were a number of changes to the protocol buffers API between versions 
0.14 and 1.0. Therefore, if you send messages using fields introduced in 1.0, 
0.14.2 will have trouble decoding the message. Riak 0.14.2 should be used with 
riakc 1.1; Riak 1.0 should be used with riakc 1.2. 



Ian Plosker 
Developer Advocate 
Basho Technologies 




On Oct 4, 2011, at 6:42 AM, Roland Karlsson wrote: 



I use riakc vsn=1.2.0. 
The same as I used for riak 0.14 
Thats the current "master" branch on github. 

Is that the right version for riak 0.14 ? 
Is that the right version for riak 1.0 ? 

NOTE - this client can connect to both 0.14 and 1.0. 
But on 0.14 the get with the argument deletedvclock disconnects. 


/Roland 




----- Original Message ----- 
From: "Kresten Krab Thorup" &lt; k...@trifork.com &gt; 
To: "Roland Karlsson" &lt; roland.karls...@erlang-solutions.com &gt; 
Sent: Tuesday, October 4, 2011 12:28:59 PM 
Subject: Re: Delete takes 5 seconds in riak 1.0 ??? 

Hi roland, 

I think there were some protocol changes from 0.14 to 1.0, and so the new 
client probably can't be connected to an old server. Kind of annoying, but 
that's the only reason I can see for this. 

Kresten 


Mobile: + 45 2343 4626 | Skype: krestenkrabthorup | Twitter: @drkrab 
Trifork A/S | Margrethepladsen 4 | DK- 8000 Aarhus C | Phone : +45 8732 8787 | 
www.trifork.com &lt; http://www.trifork.com/ &gt; 





On Oct 4, 2011, at 12:15 PM, Roland Karlsson wrote: 

case riakc\_pb\_socket:get(Pid, Bucket, Key, [deletedvclock]) of 


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ 
riak-users mailing list 
riak-users@lists.basho.com 
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com 


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

