---
title: "Re: Cancel a leave"
description: ""
project: community
lastmod: 2012-02-16T02:30:15-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06617"
mailinglist_parent_id: "msg06529"
author_name: "Jimmy Ma"
project_section: "mailinglistitem"
sent_date: 2012-02-16T02:30:15-08:00
---


On Fri, Feb 3, 2012 at 5:53 PM, Mark Phillips  wrote:

&gt; Hi Jimmy
&gt;
&gt; On Thu, Feb 2, 2012 at 8:54 AM, Jimmy Ma  wrote:
&gt; &gt; Hi all,
&gt; &gt;
&gt; &gt; I had a 4 node cluster (riak 1.0.2) on which I removed one node using
&gt; &gt; "riak-admin leave".
&gt; &gt; My node is now with the status "leaving", is it possible to cancel the
&gt; &gt; previous leave and have everything back to the way it were before?
&gt; &gt;
&gt;
&gt; This isn't possible. You'll have to sit tight and let the node
&gt; complete the leave.
&gt;

Thanks Mark,

A pretty late follow up on the story but here is the end of my experience.

I had a crash on one of my nodes which happened to freeze the handoffs. I
ended up stopping and marking the node which was in the "leaving" state and
then running it back up. Finally when a added a fifth node, everything went
back to normal. So far, no loss of data have been spotted.

Out of curiosity, "stopping a node that is leaving, marking it down and
running it back up" resets the leaving state. Would you consider this a
risky operation?

-- 
Jimmy
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

