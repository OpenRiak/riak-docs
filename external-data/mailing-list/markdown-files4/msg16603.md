---
title: "Help"
description: ""
project: community
lastmod: 2015-10-03T09:03:28-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16603"
author_name: "Tyler Weir"
project_section: "mailinglistitem"
sent_date: 2015-10-03T09:03:28-07:00
---




&gt; On Oct 3, 2015, at 12:00 PM, riak-users-requ...@lists.basho.com wrote:
&gt; 
&gt; Send riak-users mailing list submissions to
&gt; riak-users@lists.basho.com
&gt; 
&gt; To subscribe or unsubscribe via the World Wide Web, visit
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; or, via email, send a message with subject or body 'help' to
&gt; riak-users-requ...@lists.basho.com
&gt; 
&gt; You can reach the person managing the list at
&gt; riak-users-ow...@lists.basho.com
&gt; 
&gt; When replying, please edit your Subject line so it is more specific
&gt; than "Re: Contents of riak-users digest..."
&gt; 
&gt; 
&gt; Today's Topics:
&gt; 
&gt; 1. Re: Using Riak on systemd based Ubuntu (Matthew Brender)
&gt; 2. Re: Riak CS - Unable to create/view bucket details using
&gt; dragon disk (G)
&gt; 3. Riak Recap - October 2, 2015 (Matthew Brender)
&gt; 4. Re: adding auth user not valid (Outback Dingo)
&gt; 
&gt; 
&gt; ----------------------------------------------------------------------
&gt; 
&gt; Message: 1
&gt; Date: Fri, 2 Oct 2015 12:01:44 -0400
&gt; From: Matthew Brender 
&gt; To: Matthew Hall 
&gt; Cc: riak-users 
&gt; Subject: Re: Using Riak on systemd based Ubuntu
&gt; Message-ID:
&gt; 
&gt; Content-Type: text/plain; charset=UTF-8
&gt; 
&gt; Hey Matthew,
&gt; 
&gt; It seems you ran into some documentation gaps that we should address.
&gt; Please open up one or more of them on the docs repo when you can [1]
&gt; 
&gt; Could you restate what specifically someone can help you do?
&gt; 
&gt; [1] 
&gt; https://github.com/basho/basho\_docs/issues?utf8=%E2%9C%93&q=is%3Aissue+is%3Aopen+riak+cs
&gt; 
&gt; Thanks!
&gt; Matt Brender | Developer Advocacy Lead
&gt; Basho Technologies
&gt; t: @mjbrender
&gt; 
&gt; 
&gt;&gt; On Wed, Sep 30, 2015 at 7:23 PM, Matthew Hall  wrote:
&gt;&gt; Hello List,
&gt;&gt; 
&gt;&gt; Today I tried to get the following items to work in Ubuntu 15.04 Vivid with
&gt;&gt; systemd based SysV compatibility to run the init scripts:
&gt;&gt; 
&gt;&gt; Riak 2.1.1
&gt;&gt; Stanchion 2.0.0
&gt;&gt; Riak CS 2.0.1
&gt;&gt; Riak CS Control 1.0.2
&gt;&gt; 
&gt;&gt; My app.config files are here for reference:
&gt;&gt; 
&gt;&gt; https://gist.github.com/megahall/676ca0410af4aacc4f74
&gt;&gt; 
&gt;&gt; When I attempted this, both Stanchion and Riak CS fail to stay running for 
&gt;&gt; the
&gt;&gt; 15 second expected time in the init scripts.
&gt;&gt; 
&gt;&gt; So I read through the "stanchion console" and "riak-cs console" output.
&gt;&gt; 
&gt;&gt; There were some backtraces there complaining about EACCES coming via 
&gt;&gt; mochiweb.
&gt;&gt; 
&gt;&gt; Upon modifying /usr/sbin/stanchion and /usr/sbin/riak-cs to add an strace -f
&gt;&gt; to track the system calls, I determined that there is an EACCES error raised
&gt;&gt; by attempting to bind some sub-process socket onto Port 80. It is hard to see
&gt;&gt; what sub-thread or sub-process exactly was the cause.
&gt;&gt; 
&gt;&gt; This is very confusing because none of my configuration mentions Port 80 at
&gt;&gt; all.
&gt;&gt; 
&gt;&gt; The configuration works OK in Ubuntu 14.10 without systemd. So now I am
&gt;&gt; wondering if anybody has figured out how to get it to work right inside of
&gt;&gt; systemd with some .service file examples and so on. It's really important for
&gt;&gt; the project I am trying to get done.
&gt;&gt; 
&gt;&gt; Thanks,
&gt;&gt; Matthew.
&gt;&gt; 
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; 
&gt; 
&gt; 
&gt; ------------------------------
&gt; 
&gt; Message: 2
&gt; Date: Fri, 2 Oct 2015 09:35:03 -0700 (MST)
&gt; From: G 
&gt; To: riak-users@lists.basho.com
&gt; Subject: Re: Riak CS - Unable to create/view bucket details using
&gt; dragon disk
&gt; Message-ID: &lt;1443803703469-4033524.p...@n3.nabble.com&gt;
&gt; Content-Type: text/plain; charset=us-ascii
&gt; 
&gt; Hey Johan,
&gt; 
&gt; I have executed s3cmd with --debug option. 
&gt; 
&gt; Please find the output.
&gt; 
&gt; Test access with supplied credentials? [Y/n] Y
&gt; Please wait, attempting to list all buckets...
&gt; DEBUG: SignHeaders: 'GET\n\n\n\nx-amz-date:Fri, 02 Oct 2015 16:32:44
&gt; +0000\n/'
&gt; DEBUG: CreateRequest: resource[uri]=/
&gt; DEBUG: SignHeaders: 'GET\n\n\n\nx-amz-date:Fri, 02 Oct 2015 16:32:44
&gt; +0000\n/'
&gt; DEBUG: Processing request, please wait...
&gt; DEBUG: get\_hostname(None): 172.31.44.38
&gt; DEBUG: format\_uri(): http://172.31.44.38/?delimiter=/
&gt; DEBUG: Sending request method\_string='GET',
&gt; uri='http://172.31.44.38/?delimiter=/', headers={'content-length': '0',
&gt; 'Authorization': 'AWS access-key:OeIcaJSH58eWgIlLiyQBgzN16Pc=',
&gt; 'x-amz-date': 'Fri, 02 Oct 2015 16:32:44 +0000'}, body=(0 bytes)
&gt; DEBUG: Response: {'status': 403, 'headers': {'date': 'Fri, 02 Oct 2015
&gt; 16:32:44 GMT', 'content-length': '154', 'content-type': 'application/xml',
&gt; 'server': 'Riak CS'}, 'reason': 'Forbidden', 'data': 'xml version="1.0"
 encoding="UTF-8"?&gt;`AccessDenied`Access
&gt; Denied'}
&gt; DEBUG: S3Error: 403 (Forbidden)
&gt; DEBUG: HttpHeader: date: Fri, 02 Oct 2015 16:32:44 GMT
&gt; DEBUG: HttpHeader: content-length: 154
&gt; DEBUG: HttpHeader: content-type: application/xml
&gt; DEBUG: HttpHeader: server: Riak CS
&gt; DEBUG: ErrorXML: Code: 'AccessDenied'
&gt; DEBUG: ErrorXML: Message: 'Access Denied'
&gt; DEBUG: ErrorXML: Resource: None
&gt; DEBUG: ErrorXML: RequestId: None
&gt; ERROR: Test failed: 403 (AccessDenied): Access Denied
&gt; 
&gt; Do you have any idea about this error?
&gt; 
&gt; 
&gt; 
&gt; 
&gt; --
&gt; View this message in context: 
&gt; http://riak-users.197444.n3.nabble.com/Riak-CS-Unable-to-create-view-bucket-details-using-dragon-disk-tp4033494p4033524.html
&gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt; 
&gt; 
&gt; 
&gt; ------------------------------
&gt; 
&gt; Message: 3
&gt; Date: Fri, 2 Oct 2015 13:17:22 -0400
&gt; From: Matthew Brender 
&gt; To: riak-users 
&gt; Subject: Riak Recap - October 2, 2015
&gt; Message-ID:
&gt; 
&gt; Content-Type: text/plain; charset="utf-8"
&gt; 
&gt; Riak Recap time. The user lists have been quieter than usual, so we will
&gt; use this round to share some other news as well. Send me feedback if you
&gt; ever have articles to share or recommendations for topics!
&gt; 
&gt; ## Latest Releases
&gt; \* The .NET client upgraded to 2.2.0 [0]. Thanks to Luke and community
&gt; contributors!
&gt; \* Basho Data Platform 1.0.0 is out there [1] and we love to see your code
&gt; using it - share with us [2]
&gt; \* We also continue to update documentation for our open source Spark
&gt; Connector, that leverages an updated 2i query for parallel extract from BDP
&gt; [3]
&gt; 
&gt; ## RICON!
&gt; \* RICON speakers were announced and we have some incredible ones. As a
&gt; community member, you can take the $100 off your ticket with the Basho100
&gt; code. This discount code will expire on October 31. Click here to use it:
&gt; http://bit.ly/ricon15u
&gt; 
&gt; ## Community Update
&gt; \* Interested in helping people learn how to build applications on Riak or
&gt; Riak Core? You can find requests for Help Wanted in the Basho Community
&gt; Repo [4]
&gt; \* The discussion on repo naming convention and branching strategy will
&gt; close soon [5]
&gt; 
&gt; ## Exciting Pull Requests
&gt; \* TBK15 opened a PR on riak\_core that has it compiling on Erlang 18! [6]
&gt; \* Muntasir is due to open a PR that includes his adaptive middleware that
&gt; tunes consistency on Riak KV. Read the thread for more details [7]
&gt; 
&gt; ## Recently Answered
&gt; \* Ciprian provides Fast Track guidance for Riak S2 (aka Riak CS) [8] and
&gt; opens a ticket to address it in docs [9]
&gt; \* Outback Dingo has a few threads on setting up Riak S2 (aka Riak CS) on
&gt; freeBSD 10 [10]
&gt; \* Kota gives a detailed explanation of why sharing memory across Riak S2
&gt; and Riak KV is not recommended, but is possible [11]
&gt; \* Magnus correlates a Solr shutdown error with the need for more memory
&gt; dedicated to it in riak.conf [12]
&gt; 
&gt; ## Jobs for Riak Users
&gt; \* Riot Games tweeted about an open software engineering position that our
&gt; community may be interested in [13]
&gt; \* We, at Basho, have opened up a few software engineering roles as well [14]
&gt; 
&gt; ## Weekend Reads
&gt; \* Scott Lystig Fritchie continues to update the Machi documentation on
&gt; GitHub. If you're curious about Chain Replication and the future of large
&gt; object storage in Riak, it's well worth a read [15]
&gt; 
&gt; Have a great weekend,
&gt; Matt Brender
&gt; Developer Advocate @ Basho
&gt; @mjbrender
&gt; 
&gt; [0] https://github.com/basho/riak-dotnet-client/releases/tag/v2.2.0
&gt; [1] http://docs.basho.com/dataplatform/latest/
&gt; [2] https://github.com/basho-labs/the-basho-community/issues/62
&gt; [3] https://github.com/basho/spark-riak-connector
&gt; [4]
&gt; https://github.com/basho-labs/the-basho-community/labels/status%2Fhelp-wanted
&gt; [5] https://github.com/basho-labs/the-basho-community/issues/74
&gt; [6] https://github.com/basho/riak\_core/pull/785
&gt; [7]
&gt; http://lists.basho.com/pipermail/riak-users\_lists.basho.com/2015-September/017596.html
&gt; [8]
&gt; http://lists.basho.com/pipermail/riak-users\_lists.basho.com/2015-September/017595.html
&gt; [9] https://github.com/basho/basho\_docs/issues/1830
&gt; [10]
&gt; http://lists.basho.com/pipermail/riak-users\_lists.basho.com/2015-September/thread.html
&gt; [11]
&gt; http://lists.basho.com/pipermail/riak-users\_lists.basho.com/2015-September/017583.html
&gt; [12]
&gt; http://lists.basho.com/pipermail/riak-users\_lists.basho.com/2015-September/017591.html
&gt; [13] http://riotgames.com/careers/10838
&gt; [14] http://bashojobs.theresumator.com/
&gt; [15] https://github.com/basho/machi/tree/master/doc
&gt; 
&gt; Matt Brender | Developer Advocacy Lead
&gt; Basho Technologies
&gt; t: @mjbrender
&gt; c: +1 617.817.3195
&gt; -------------- next part --------------
&gt; An HTML attachment was scrubbed...
&gt; URL: 
&gt; 
&gt; 
&gt; ------------------------------
&gt; 
&gt; Message: 4
&gt; Date: Sat, 3 Oct 2015 13:28:34 +1000
&gt; From: Outback Dingo 
&gt; To: Shunichi Shinohara 
&gt; Cc: riak-users 
&gt; Subject: Re: adding auth user not valid
&gt; Message-ID:
&gt; 
&gt; Content-Type: text/plain; charset="utf-8"
&gt; 
&gt; On Tue, Sep 29, 2015 at 11:01 AM, Shunichi Shinohara 
&gt; wrote:
&gt; 
&gt;&gt; Hi Outback,
&gt;&gt; 
&gt;&gt; Sorry for very late response.
&gt;&gt; It seems that riak-cs doesn't/can't communicate with stanchion node.
&gt;&gt; There are a couple of possible reasons:
&gt;&gt; 
&gt;&gt; - admin.key and admin.secret should be set both in riak-cs and stanchion
&gt;&gt; - stanchion\_host should be set properly as stanchion node's listen
&gt;&gt; configuration
&gt;&gt; - servers that riak-cs node and stanchion nodes are running should be
&gt;&gt; communicate by TCP.
&gt;&gt; 
&gt;&gt; I think packet capture (by tcpdump or wireshark or...) is useful to
&gt;&gt; investigate the communication between riak-cs and stanchion.
&gt;&gt; 
&gt;&gt; Thanks,
&gt;&gt; Shino
&gt; 
&gt; 
&gt; more like ENOTENOUGHNODES..... pretty perplexing to chase down when you
&gt; think somethings running and its not....
&gt; anyway i got it sorted out thanks,.
&gt; 
&gt; 
&gt; 
&gt;&gt; 
&gt;&gt; 2015-09-15 13:21 GMT+09:00 Outback Dingo :
&gt;&gt;&gt; seems the docs with auth creds is invalid... or im still broken...
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; curl -XPOST http://localhost:8080/riak-cs/user \
&gt;&gt;&gt; -H 'Content-Type: application/json' \
&gt;&gt;&gt; -d '{"email":"ad...@admin.com", "name":"admin"}'
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; returns
&gt;&gt;&gt; 
&gt;&gt;&gt; curl -H 'Content-Type: application/json' -X POST
&gt;&gt;&gt; http://localhost:8080/riak-cs/user --data '{"email":"ad...@admin.com",
&gt;&gt;&gt; "name":"admin"}'
&gt;&gt;&gt; 
&gt;&gt;&gt; 500 Internal Server
&gt;&gt;&gt; ErrorInternal Server Error
=====================

The server
&gt;&gt;&gt; encountered an error while processing this
&gt;&gt;&gt; requestroot@vmbsd:/usr/local/etc/riak-cs #
&gt;&gt;&gt; 
&gt;&gt;&gt; and the log shows
&gt;&gt;&gt; 2015-09-15 14:20:33.678 [error] &lt;0.9846.4&gt; Webmachine error at path
&gt;&gt;&gt; "/riak-cs/user" :
&gt;&gt; {error,{error,{badmatch,{error,malformed\_xml}},[{riak\_cs\_s3\_response,xml\_error\_code,1,[{file,"src/riak\_cs\_s3\_response.erl"},{line,335}]},{riak\_cs\_s3\_r
&gt;&gt; esponse,error\_response,1,[{file,"src/riak\_cs\_s3\_response.erl"},{line,249}]},{riak\_cs\_wm\_user,accept\_json,2,[{file,"src/riak\_cs\_wm\_user.erl"},{line,119}]},{webmachine\_resource,resource\_call,3,[{file,"src/webmachine\_resource.erl"},{line,1
&gt;&gt; 86}]},{webmachine\_resource,do,3,[{file,"src/webmachine\_resource.erl"},{line,142}]},{webmachine\_decision\_core,resource\_call,...},...]}}
&gt;&gt;&gt; in riak\_cs\_s3\_response:xml\_error\_code/1 line 335
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; -------------- next part --------------
&gt; An HTML attachment was scrubbed...
&gt; URL: 
&gt; 
&gt; 
&gt; ------------------------------
&gt; 
&gt; Subject: Digest Footer
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; 
&gt; 
&gt; ------------------------------
&gt; 
&gt; End of riak-users Digest, Vol 75, Issue 4
&gt; \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

