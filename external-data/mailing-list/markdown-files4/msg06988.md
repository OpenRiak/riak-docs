---
title: "Re: Ruby eventmachine async client"
description: ""
project: community
lastmod: 2012-03-16T13:01:49-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06988"
mailinglist_parent_id: "msg06987"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2012-03-16T13:01:49-07:00
---


I would love to see a Celluloid::IO-based HTTP/PBC client almost more than
an EM or em-synchrony client. I seem to remember looking at em-http-request
and found its capabilities as an HTTP client lacking in a few important
areas.

On Fri, Mar 16, 2012 at 3:55 PM, graphex  wrote:

&gt;
&gt; Elias Levy wrote
&gt; &gt;
&gt; &gt; If you look at the list archive's you'll see that a while ago I posted
&gt; &gt; some
&gt; &gt; code to monkey patch the Ruby client to use EM Synchrony's TCPSocket so
&gt; as
&gt; &gt; to support EM.
&gt; &gt;
&gt; &gt; You'll find it at
&gt; &gt;
&gt; http://lists.basho.com/pipermail/riak-users\_lists.basho.com/2011-November/006308.html
&gt; &gt;
&gt;
&gt; Ah, I had read that before but didn't notice it was on synchrony. My issue
&gt; is that I've had trouble with riak-ruby-client using PBC with 2i, so I sort
&gt; of wrote it off (see: https://github.com/basho/riak-ruby-client/issues/17
&gt; https://github.com/basho/riak-ruby-client/issues/17 )
&gt;
&gt; That combined with the short reads issue sort of put me off on that front.
&gt;
&gt;
&gt; Mathias Meyer wrote
&gt; &gt;
&gt; &gt; I'd recommend looking at #2, it looks like an easy path and should make
&gt; &gt; for a great addition to the riak-ruby-client too. In my ideal world,
&gt; &gt; there'd be a backend based on Faraday [2], so that the Ruby client
&gt; &gt; wouldn't even have to worry about the underlying implementation, but you
&gt; &gt; need to punch Sean Cribbs (very nicely) about that. Or you could just use
&gt; &gt; Faraday instead of em-synchrony all along, since Faraday has a backend
&gt; for
&gt; &gt; em-http/synchrony already.
&gt; &gt;
&gt;
&gt; That would certainly be nice though I'm unfortunately too low on time to
&gt; take a stab... and I've only looked at Faraday a bit... and synchrony is
&gt; kind of hurting my mind (actually more comfortable with callbacks and
&gt; -gasp-
&gt; curly braces!) Sounds like the best solution, though, and hopefully I can
&gt; circle back on that once I can delegate some of my other tasks to someone.
&gt; For now, i will try out a fiber/iterator approach and fall back to a defer
&gt; if it doesn't go well.
&gt;
&gt; I'm also secretly hoping that someone at basho can hook up the client to an
&gt; em-style backend so it just works like -cough- mongo does.
&gt;
&gt; Thanks for the help guys!
&gt;
&gt; --
&gt; View this message in context:
&gt; http://riak-users.197444.n3.nabble.com/Ruby-eventmachine-async-client-tp3830975p3832985.html
&gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;



-- 
Sean Cribbs 
Software Engineer
Basho Technologies, Inc.
http://basho.com/
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

