---
title: "Re: Data population of Yokozuna on key-path in schema?"
description: ""
project: community
lastmod: 2013-07-18T09:31:43-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11598"
mailinglist_parent_id: "msg11597"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2013-07-18T09:31:43-07:00
---


Yes, it has similar rules. Nested objects have their fields joined by '\_'.
 Arrays become repetitive field names, which should map to a multi-valued
field. You can use the URL I provided in the last response to see exactly
how field-values are extracted.


On Thu, Jul 18, 2013 at 12:16 PM, Dave Martorana  wrote:

&gt; Does the JSON extractor work in a similar fashion, or does it follow its
&gt; own rules? We don’t use XML anywhere (but JSON everywhere). Thanks!
&gt;
&gt; Dave
&gt;
&gt;
&gt; On Thu, Jul 18, 2013 at 9:31 AM, Ryan Zezeski  wrote:
&gt;
&gt;&gt; As Eric said, the XML extractor causes the nested elements to become
&gt;&gt; concatenated by an underscore. "Extractor" is a Yokozuna term. It is the
&gt;&gt; process by which a Riak Object is mapped to a Solr document. In the case
&gt;&gt; of a Riak Object whose value is XML the XML is flattened by a)
&gt;&gt; concatenating nested elements with '\_' and b) concatenating attributes with
&gt;&gt; '@' (this can be changed if necessary, just ask). Yokozuna provides a
&gt;&gt; resource to test how a given object would be extracted.
&gt;&gt;
&gt;&gt; curl -X PUT -i -h 'content-type: application/xml' 'http://host:port/extract'
&gt;&gt; --data-binary @some.xml
&gt;&gt;
&gt;&gt; This will return a JSON representation of the field-values extracted from
&gt;&gt; the object. You can use a json pretty printer like jsonpp to make it
&gt;&gt; easier to read.
&gt;&gt;
&gt;&gt; -Z
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; On Wed, Jul 17, 2013 at 8:51 PM, Eric Redmond  wrote:
&gt;&gt;
&gt;&gt;&gt; That's correct. The XML extractor nests by element name, separating
&gt;&gt;&gt; elements by an underscore.
&gt;&gt;&gt;
&gt;&gt;&gt; Eric
&gt;&gt;&gt;
&gt;&gt;&gt; On Jul 17, 2013, at 12:46 PM, Dave Martorana  wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; Hi,
&gt;&gt;&gt;
&gt;&gt;&gt; I realize I may be way off-base, but I noticed the following slide in
&gt;&gt;&gt; Ryan’s recent Ricon East talk on Yokozuna:
&gt;&gt;&gt;
&gt;&gt;&gt; http://cl.ly/image/3s1b1v2w2x12
&gt;&gt;&gt;
&gt;&gt;&gt; Does the schema pick out values based on key-path automatically? For
&gt;&gt;&gt; instance,
&gt;&gt;&gt;
&gt;&gt;&gt; val...
&gt;&gt;&gt;
&gt;&gt;&gt; automatically gets mapped to the “commit\_repo" field definition for the
&gt;&gt;&gt; schema?
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks!
&gt;&gt;&gt;
&gt;&gt;&gt; Dave
&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

