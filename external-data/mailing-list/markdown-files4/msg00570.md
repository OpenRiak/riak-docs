---
title: "Re: Mac OS X install error"
description: ""
project: community
lastmod: 2010-06-11T11:54:35-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00570"
mailinglist_parent_id: "msg00563"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2010-06-11T11:54:35-07:00
---


Hi Allen,

Is there anything of note about your system that might help us reproduce the
build error here? Are you using an symlinks in your Erlang libs folder? Do
you have a ".erlang" file defined in your home directory?

Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Fri, Jun 11, 2010 at 11:35 AM, Sean Cribbs  wrote:

&gt; Allen,
&gt;
&gt; The best answer we've come up with internally is that reltool (what's used
&gt; internally to rebar for part of the build process) tends to follow certain
&gt; symlinks blindly. If it's not critical for you to stay on Riak tip, you
&gt; should be able to use the binary packages without a hitch.
&gt;
&gt; Sean Cribbs 
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; http://basho.com/
&gt;
&gt; On Jun 11, 2010, at 2:29 PM, Allen Kim wrote:
&gt;
&gt; I removed tsung
&gt; $&gt;sudo port uninstall tsung
&gt; $&gt;sudo port clean tsung
&gt;
&gt; then, ran "make rel" command, it WORKS
&gt;
&gt; ...
&gt; Compiled src/riak\_kv\_wm\_stats.erl
&gt; Compiled src/riak\_kv\_wm\_link\_walker.erl
&gt; Compiled src/riak\_object.erl
&gt; Compiled src/riak\_kv\_wm\_raw.erl
&gt; WARNING: 'generate' command does not apply to directory
&gt; /Users/allen/riak-0.11.0/apps/riak\_kv
&gt; ==&gt; rel (compile)
&gt; ==&gt; rel (generate)
&gt; ==&gt; riak-0.11.0 (compile)
&gt; WARNING: 'generate' command does not apply to directory
&gt; /Users/allen/riak-0.11.0
&gt; ~/riak-0.11.0$
&gt;
&gt; However when I installed tsung(which installs tsung, tsung\_recorder, and
&gt; tsung\_controller) again, a part of erlang, it does not work(the same error)
&gt;
&gt; I personally use tsung for load testing and riak will be the perfect
&gt; example of it, and I will need to install tsung later.
&gt;
&gt; I will not use tsung for a while until you fix it, and please let me know
&gt; when it is fixed.
&gt;
&gt; Thanks for your hard work
&gt;
&gt; Allen Kim
&gt;
&gt; On 2010-06-11, at 1:40 PM, Dan Reverri wrote:
&gt;
&gt; Hi Allen,
&gt;
&gt; When generating a release package with rebar the intention is to create a
&gt; fully independent release package that runs without any external
&gt; dependencies. During the release generation rebar will analyze the
&gt; specification of an application to determine dependencies. The tool will
&gt; then collect all the dependencies (including those from the system level
&gt; Erlang installation) and package them into a release. Tsung is not part of
&gt; the riak dependency specification and should not be pulled into the release.
&gt; My guess is that macports has configured Erlang in such a way that the Tsung
&gt; library is included in all releases. We have to look into this a bit further
&gt; and try to reproduce the issue locally.
&gt;
&gt; Thanks,
&gt; Dan
&gt;
&gt; Daniel Reverri
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; d...@basho.com
&gt;
&gt;
&gt; On Fri, Jun 11, 2010 at 10:11 AM, Allen Kim  &gt; wrote:
&gt;
&gt;&gt; If it helps, ts\_client\_proxy.beam file is not in tsung-1.3.1 folder but in
&gt;&gt; tsung\_recorder-1.3.1, Don't know how to fix it though
&gt;&gt;
&gt;&gt; /opt/local/lib/erlang/lib/tsung\_recorder-1.3.1/ebin$ls
&gt;&gt; ts\_client\_proxy.beam ts\_client\_proxy\_sup.beam ts\_proxy\_http.beam
&gt;&gt; ts\_proxy\_listener.beam ts\_proxy\_pgsql.beam ts\_proxy\_recorder.beam
&gt;&gt; ts\_proxy\_webdav.beam ts\_recorder\_sup.beam tsung\_recorder.app
&gt;&gt; tsung\_recorder.beam
&gt;&gt;
&gt;&gt; Allen Kim
&gt;&gt;
&gt;&gt; ==&gt; rel (generate)
&gt;&gt; ERROR: Failed to generate target from spec: "copy file
&gt;&gt; /opt/local/lib/erlang/lib/tsung-1.3.1/ebin/ts\_client\_proxy.beam -&gt;
&gt;&gt; /Users/allen/riak-0.11.0/rel/riak/lib/tsung-1.3.1/ebin/ts\_client\_proxy.beam:
&gt;&gt; no such file or directory\n"
&gt;&gt;
&gt;&gt; On 2010-06-11, at 12:31 PM, Allen Kim wrote:
&gt;&gt;
&gt;&gt; information of erlang installed if helps
&gt;&gt;
&gt;&gt; /opt/local/lib/erlang/bin$port installed erlang
&gt;&gt; The following ports are currently installed:
&gt;&gt; erlang @R13B02\_2+darwin\_10
&gt;&gt; erlang @R13B02\_3+darwin\_10
&gt;&gt; erlang @R13B03\_0+darwin\_10
&gt;&gt; erlang @R13B04\_0+darwin\_10 (active)
&gt;&gt;
&gt;&gt; On 2010-06-11, at 12:20 PM, Dan Reverri wrote:
&gt;&gt;
&gt;&gt; Hi Allen,
&gt;&gt;
&gt;&gt; Sorry for not being more clear. You have to run the generate command
&gt;&gt; against a compiled folder.
&gt;&gt; make all
&gt;&gt; ./rebar -v generate
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Dan
&gt;&gt;
&gt;&gt; Daniel Reverri 
&gt;&gt; Developer Advocate
&gt;&gt; Basho Technologies, Inc.
&gt;&gt; http://basho.com/
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

