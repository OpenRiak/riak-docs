---
title: "Re: Slow write performance for Riak CS"
description: ""
project: community
lastmod: 2013-05-27T08:44:12-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11178"
mailinglist_parent_id: "msg11175"
author_name: "Jared Morrow"
project_section: "mailinglistitem"
sent_date: 2013-05-27T08:44:12-07:00
---


Toby,

If you write with multiple clients does it still stick to 9mb/s or does it 
increase? What is the network link between your client and the Riak CS 
cluster? On our internal CS cluster we were seeing around 2gb/s read+write at 
the network level so I know CS can take the speeds, so my gut thinks you single 
client might have a slow link. That is just a guess. 

-Jared


On May 27, 2013, at 1:38 AM, Toby Corkindale 
 wrote:

&gt; Hi,
&gt; I seem to be getting significantly slower performance out of Riak CS than I 
&gt; expect to see, and I wondered if I could get some advice about where I might 
&gt; be going wrong.
&gt; 
&gt; I have a cluster of six nodes, with fairly good sequential-write disk 
&gt; performance, for eg:
&gt; # dd if=/dev/zero of=test bs=1M count=500 conv=fsync
&gt; 524288000 bytes (524 MB) copied, 1.27205 s, 412 MB/s
&gt; 
&gt; The riak partition is formatted as ext4, with data=writeback and barriers 
&gt; disabled.
&gt; 
&gt; So given n\_val=3, and six nodes with ~400MB/s transfer rates, you'd expect to 
&gt; see some pretty fast transfers, right?
&gt; 
&gt; However the actual performance I'm getting is reliably a mere 9MB/s for a 
&gt; single client writing to the cluster. (On a 500M transfer)
&gt; 
&gt; 
&gt; Is this kind of performance normal for this hardware?
&gt; If not, could you give me some pointers about what to check?
&gt; 
&gt; Thanks,
&gt; Toby
&gt; 
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

