---
title: "Re: File corruption after power cut"
description: ""
project: community
lastmod: 2019-09-04T02:20:53-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18634"
mailinglist_parent_id: "msg18633"
author_name: "Bryan Hunt"
project_section: "mailinglistitem"
sent_date: 2019-09-04T02:20:53-07:00
---


Easiest solution is to just delete the vnode - and let it recover from replicas 
- vnode directory will be 844930634081928249586505293914101120738586001408



&gt; On 4 Sep 2019, at 10:01, Guido Medina  wrote:
&gt; 
&gt; Hi all,
&gt; 
&gt; We had a power cut which caused one of the nodes to corrupt one of the 
&gt; LevelDB files, after this that node doesn't even want to start, here is the 
&gt; error we are seeing:
&gt;&gt; 2019-09-04 08:46:41.584 [error] &lt;0.2329.0&gt;@riak\_kv\_vnode:init:527 Failed to 
&gt;&gt; start riak\_kv\_eleveldb\_backend backend for index 
&gt;&gt; 844930634081928249586505293914101120738586001408 error: 
&gt;&gt; {db\_open,"Corruption: CURRENT file does not end with newline"}
&gt; 
&gt; Thanks in advance for your help ;-)
&gt; Guido.
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


-- 


Code Sync & Erlang Solutions Conferences

Code BEAM Lite 
 - Budapest: 
20 September 2019

Code BEAM Lite 
 - New York 
City: 01 October 2019

Code BEAM Lite 
 - Berlin: 11 
October 2019

RabbitMQ Summit 
 - London: 4 
November 2019

Code Mesh LDN 
 - London: 7-8 
November 2019

Code BEAM Lite 
 - Bangalore: 
14 November 2019

Code BEAM Lite 
 - Amsterdam: 
29 November 2019

Lambda Days 
 - Kraków: 
13-14 February 2020

Code BEAM SF 
 - San 
Francisco: 5-6 March 2020



Code BEAM STO - Stockholm: 28-29 May 2020





\*Erlang Solutions cares about your data and privacy; please find all 
details about the basis for communicating with you and the way we process 
your data in our \*\*Privacy Policy\* 
\*.You can update your 
email preferences or opt-out from receiving Marketing emails here 
.\*
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

