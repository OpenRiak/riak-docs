---
title: "Re: [RFC] Python client: move to properties"
description: ""
project: community
lastmod: 2011-09-14T04:38:03-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04694"
mailinglist_parent_id: "msg04693"
author_name: "Mathias Meyer"
project_section: "mailinglistitem"
sent_date: 2011-09-14T04:38:03-07:00
---


The short answer: yes, we can and we should. I had that on my radar for a while 
too, because it felt un-Pythonic. 

As for deprecation, there's no specific rule for the Python client yet. I'm 
happy to accept a patch for it for e.g. a version of the client 1.4.0 with an 
announcement that support for these getters/setters will be removed in said 
version. I'm not a fan of removing things in patch versions myself, but that's 
certainly up for discussion. The Python client is quite old and has come a long 
way, so I'm all for getting rid of the cruft that came with it.

Cheers, Mathias




On Mittwoch, 14. September 2011 at 13:30, Greg Stein wrote:

&gt; Hi all,
&gt; 
&gt; There are some non-Pythonic patterns in riak-python-client that should
&gt; be pretty easy to switch. Things like client.get\_r() and
&gt; client.set\_r() are kinda silly. Python long ago moved past the
&gt; getter/setter paradigm, with the notion of directly exposing instance
&gt; attributes. As Guido has said numerous times, "we're all adults here",
&gt; so we don't need to wrap simple attribute access/change in methods
&gt; which do exactly that anyways. Just allow apps to directly change it,
&gt; since the developers doing that \*are\* adults and know what they're
&gt; doing.
&gt; 
&gt; For something like bucket.get\_r()... first: it should not have a
&gt; damned argument that is returned if you pass in a value. That is
&gt; nonsense. Don't call the function if you're going to pass an argument!
&gt; The remaining logic looks at a local value, or defers to the client
&gt; default value. We can make "bucket.r" a property, and create a getter
&gt; that does the right thing. Applications can then use "bucket.r" and
&gt; they will get the right logic, rather than the messier
&gt; "bucket.get\_r()".
&gt; 
&gt; There are similar changes throughout (eg. get\_transport).
&gt; 
&gt; But... this goes back to a question that I've raised earlier: what
&gt; kinds of API guarantees are being made on the interface? Can we simply
&gt; get rid of the .get\_r() method? If we choose to do so, is there a
&gt; deprecation policy? With a policy in place, then it would be easier
&gt; for me (and others) to provide patches, knowing that they conform to
&gt; compatibility requirements. As it stands, I'd be happy to code a
&gt; patch, but am wary that my effort would be rejected per some
&gt; (unstated) policy.
&gt; 
&gt; I don't know how much of a compatibility policy lies with Basho or the
&gt; community. Dunno how to help there.
&gt; 
&gt; And back to the start: can we get the code simplified, and move
&gt; towards properties?
&gt; 
&gt; Cheers,
&gt; -g
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com



\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

