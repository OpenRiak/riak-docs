---
title: "Re: Can't delete objects from Riak KV"
description: ""
project: community
lastmod: 2016-04-15T09:12:07-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17229"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2016-04-15T09:12:07-07:00
---


Hi everyone -

I'm following up on the solution. The biggest hint were Erlang RPC
errors when commands such as "riak-admin" were run. It turned out that
removing the ring files in /var/lib/riak/ring and restarting this node
(single node test cluster) resolved the issue.

--
Luke Bakken
Engineer
lbak...@basho.com


On Wed, Apr 13, 2016 at 9:53 PM, Alex De la rosa
 wrote:
&gt; Hi there,
&gt;
&gt; I'm trying to delete objects from riak with the python library and is timing
&gt; out, any ideas? (this example is from a simple object, but also have issues
&gt; with bucket types with map objects, etc...)... Just I seem to unable to
&gt; delete anything, just times out.
&gt;
&gt;&gt;&gt;&gt; import riak
&gt;&gt;&gt;&gt; RIAK = riak.RiakClient(protocol = 'pbc', nodes = [{'host': '--------',
&gt;&gt;&gt;&gt; 'http\_port': 8098, 'pb\_port': 8087}])
&gt;&gt;&gt;&gt; x = RIAK.bucket('test').get('something')
&gt;&gt;&gt;&gt; print x.data
&gt; {"something":"here"}
&gt;&gt;&gt;&gt; x.delete()
&gt; Traceback (most recent call last):
&gt; File "", line 1, in 
&gt; File "/usr/local/lib/python2.7/dist-packages/riak/riak\_object.py", line
&gt; 329, in delete
&gt; timeout=timeout)
&gt; File "/usr/local/lib/python2.7/dist-packages/riak/client/transport.py",
&gt; line 196, in wrapper
&gt; return self.\_with\_retries(pool, thunk)
&gt; File "/usr/local/lib/python2.7/dist-packages/riak/client/transport.py",
&gt; line 138, in \_with\_retries
&gt; return fn(transport)
&gt; File "/usr/local/lib/python2.7/dist-packages/riak/client/transport.py",
&gt; line 194, in thunk
&gt; return fn(self, transport, \*args, \*\*kwargs)
&gt; File "/usr/local/lib/python2.7/dist-packages/riak/client/operations.py",
&gt; line 744, in delete
&gt; pw=pw, timeout=timeout)
&gt; File
&gt; "/usr/local/lib/python2.7/dist-packages/riak/transports/pbc/transport.py",
&gt; line 283, in delete
&gt; riak.pb.messages.MSG\_CODE\_DEL\_RESP)
&gt; File
&gt; "/usr/local/lib/python2.7/dist-packages/riak/transports/pbc/connection.py",
&gt; line 34, in \_request
&gt; return self.\_recv\_msg(expect)
&gt; File
&gt; "/usr/local/lib/python2.7/dist-packages/riak/transports/pbc/connection.py",
&gt; line 165, in \_recv\_msg
&gt; raise RiakError(bytes\_to\_str(err.errmsg))
&gt; riak.riak\_error.RiakError: 'timeout'
&gt;
&gt; My Riak version is 2.1.4
&gt;
&gt; My Python library is (installed via pip):
&gt; Name: riak
&gt; Version: 2.2.0
&gt; Location: /usr/local/lib/python2.7/dist-packages
&gt; Requires: six, pyOpenSSL, riak-pb
&gt;
&gt; Thanks,
&gt; Alex
&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

