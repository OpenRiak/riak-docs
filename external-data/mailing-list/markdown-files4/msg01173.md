---
title: "Re: SELinux Error"
description: ""
project: community
lastmod: 2010-10-01T05:33:55-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01173"
mailinglist_parent_id: "msg01171"
author_name: "朱轩印"
project_section: "mailinglistitem"
sent_date: 2010-10-01T05:33:55-07:00
---


Have you tried to disable selinux?

On centos/fedora, you can run command "system-config-selinux" and mark the
"disabled" option.

On Fri, Oct 1, 2010 at 12:55 PM, Madireddy Samuel Vijaykumar &lt;
mad.vi...@gmail.com&gt; wrote:

&gt; I have built riak on my machine, and did not copy the build from another
&gt; machine. No nothing Else has changed in my machine. Its a fresh install of
&gt; Fedora13 and i have not really meddled around with the SELinux settings.
&gt;
&gt; Sam
&gt; """
&gt; Anyday...
&gt; Above the ground and vertical
&gt; ... is a good day!
&gt; """
&gt; http://megam.info
&gt; :)~
&gt;
&gt;
&gt;
&gt;
&gt; On Fri, Oct 1, 2010 at 4:53 AM, Dan Reverri  wrote:
&gt;
&gt;&gt; I've never seen that error message. It looks like you've built Riak from
&gt;&gt; source in "/livingcode/sandbox/riak/riak-0.12.0". Did you build Riak on that
&gt;&gt; machine or copy the built release from another machine? Has anything else on
&gt;&gt; the machine changed?
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Dan
&gt;&gt;
&gt;&gt; Daniel Reverri
&gt;&gt; Developer Advocate
&gt;&gt; Basho Technologies, Inc.
&gt;&gt; d...@basho.com
&gt;&gt;
&gt;&gt;
&gt;&gt; On Wed, Sep 29, 2010 at 1:31 AM, Madireddy Samuel Vijaykumar &lt;
&gt;&gt; mad.vi...@gmail.com&gt; wrote:
&gt;&gt;
&gt;&gt;&gt; When do a ...
&gt;&gt;&gt;
&gt;&gt;&gt; $ bin/riak start
&gt;&gt;&gt;
&gt;&gt;&gt; I get a SELinux Security Alert and the riak node is never started. The
&gt;&gt;&gt; following the SELinux error, has anyone looked into this?
&gt;&gt;&gt;
&gt;&gt;&gt; Summary:
&gt;&gt;&gt;
&gt;&gt;&gt; SELinux is preventing access to files with the label, file\_t.
&gt;&gt;&gt;
&gt;&gt;&gt; Detailed Description:
&gt;&gt;&gt;
&gt;&gt;&gt; SELinux permission checks on files labeled file\_t are being denied.
&gt;&gt;&gt; file\_t is
&gt;&gt;&gt; the context the SELinux kernel gives to files that do not have a label.
&gt;&gt;&gt; This
&gt;&gt;&gt; indicates a serious labeling problem. No files on an SELinux box should
&gt;&gt;&gt; ever be
&gt;&gt;&gt; labeled file\_t. If you have just added a disk drive to the system you can
&gt;&gt;&gt; relabel it using the restorecon command. For example if you saved the
&gt;&gt;&gt; home
&gt;&gt;&gt; directory from a previous installation that did not use SELinux,
&gt;&gt;&gt; 'restorecon -R
&gt;&gt;&gt; -v /home' will fix the labels. Otherwise you should relabel the entire
&gt;&gt;&gt; file
&gt;&gt;&gt; system.
&gt;&gt;&gt;
&gt;&gt;&gt; Allowing Access:
&gt;&gt;&gt;
&gt;&gt;&gt; You can execute the following command as root to relabel your computer
&gt;&gt;&gt; system:
&gt;&gt;&gt; "touch /.autorelabel; reboot"
&gt;&gt;&gt;
&gt;&gt;&gt; Additional Information:
&gt;&gt;&gt;
&gt;&gt;&gt; Source Context
&gt;&gt;&gt; unconfined\_u:unconfined\_r:unconfined\_t:s0-s0:c0.c1
&gt;&gt;&gt; 023
&gt;&gt;&gt; Target Context unconfined\_u:object\_r:file\_t:s0
&gt;&gt;&gt; Target Objects
&gt;&gt;&gt; /livingcode/sandbox/riak/riak-0.12.0/rel/riak/lib/
&gt;&gt;&gt; erlang\_js-0.4/priv/erlang\_js\_drv.so [ file
&gt;&gt;&gt; ]
&gt;&gt;&gt; Source beam.smp
&gt;&gt;&gt; Source Path
&gt;&gt;&gt; /livingcode/sandbox/riak/riak-0.12.0/rel/riak/erts
&gt;&gt;&gt; -5.8/bin/beam.smp
&gt;&gt;&gt; Port 
&gt;&gt;&gt; Host sam.csslabs
&gt;&gt;&gt; Source RPM Packages
&gt;&gt;&gt; Target RPM Packages
&gt;&gt;&gt; Policy RPM selinux-policy-3.7.19-57.fc13
&gt;&gt;&gt; Selinux Enabled True
&gt;&gt;&gt; Policy Type targeted
&gt;&gt;&gt; Enforcing Mode Enforcing
&gt;&gt;&gt; Plugin Name file
&gt;&gt;&gt; Host Name sam.csslabs
&gt;&gt;&gt; Platform Linux sam.csslabs 2.6.34.7-56.fc13.i686 #1
&gt;&gt;&gt; SMP Wed
&gt;&gt;&gt; Sep 15 03:33:58 UTC 2010 i686 i686
&gt;&gt;&gt; Alert Count 3
&gt;&gt;&gt; First Seen Wed 29 Sep 2010 01:42:12 PM IST
&gt;&gt;&gt; Last Seen Wed 29 Sep 2010 01:55:51 PM IST
&gt;&gt;&gt; Local ID fbfa8445-e6d3-42a8-9396-80d75f288650
&gt;&gt;&gt; Line Numbers
&gt;&gt;&gt;
&gt;&gt;&gt; Raw Audit Messages
&gt;&gt;&gt;
&gt;&gt;&gt; node=sam.csslabs type=AVC msg=audit(1285748751.47:24835): avc: denied {
&gt;&gt;&gt; execmod } for pid=5633 comm="beam.smp"
&gt;&gt;&gt; path="/livingcode/sandbox/riak/riak-0.12.0/rel/riak/lib/erlang\_js-0.4/priv/erlang\_js\_drv.so"
&gt;&gt;&gt; dev=dm-2 ino=6938
&gt;&gt;&gt; scontext=unconfined\_u:unconfined\_r:unconfined\_t:s0-s0:c0.c1023
&gt;&gt;&gt; tcontext=unconfined\_u:object\_r:file\_t:s0 tclass=file
&gt;&gt;&gt;
&gt;&gt;&gt; node=sam.csslabs type=SYSCALL msg=audit(1285748751.47:24835):
&gt;&gt;&gt; arch=40000003 syscall=125 success=no exit=-13 a0=4b6000 a1=c0000 a2=5
&gt;&gt;&gt; a3=b60cfd50 items=0 ppid=5599 pid=5633 auid=500 uid=0 gid=0 euid=0 suid=0
&gt;&gt;&gt; fsuid=0 egid=0 sgid=0 fsgid=0 tty=pts2 ses=1 comm="beam.smp"
&gt;&gt;&gt; exe="/livingcode/sandbox/riak/riak-0.12.0/rel/riak/erts-5.8/bin/beam.smp"
&gt;&gt;&gt; subj=unconfined\_u:unconfined\_r:unconfined\_t:s0-s0:c0.c1023 key=(null)
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; """
&gt;&gt;&gt; Anyday...
&gt;&gt;&gt; Above the ground and vertical
&gt;&gt;&gt; ... is a good day!
&gt;&gt;&gt; """
&gt;&gt;&gt; http://megam.info
&gt;&gt;&gt; :)~
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
-- 
Ke Zhu
http://www.netvibes.com/shawnzhu
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

