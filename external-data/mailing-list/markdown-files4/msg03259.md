---
title: "Re: Very, very slow data insert on two node cluster"
description: ""
project: community
lastmod: 2011-05-06T06:28:04-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03259"
mailinglist_parent_id: "msg03258"
author_name: "David Leimbach"
project_section: "mailinglistitem"
sent_date: 2011-05-06T06:28:04-07:00
---


The default for a bucket is to use quorum writes, but you should be able to
specify that you only want to write to one Riak node as a parameter to the
write. So you don't necessarily have to adjust the nval.

Dave

On Fri, May 6, 2011 at 3:48 AM, Jeremiah Peschka  wrote:

&gt; One thing you'll want to do is adjust your nval if this is a development
&gt; cluster. With an nval of 3, one machine is always writing two copies of the
&gt; data. If this is for dev, you can get away with a single node cluster and an
&gt; nval of 1.
&gt;
&gt; Jeremiah Peschka
&gt; Founder, Brent Ozar PLF
&gt; SQL MVP, MCITP: DBA, Database Developer
&gt;
&gt;
&gt; On Fri, May 6, 2011 at 5:48 AM, Vlatko Basic wrote:
&gt;
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; I've build a cluster with two physical Ubuntu 10.10 64-bit 4GB machines
&gt;&gt; (laptop, 2 cores, 2.4GHz and desktop, 4 cores, 3.1GHz) and I am trying to
&gt;&gt; "load\_data goog.csv" (around 1500 records) from a Fast Track tutorial. It
&gt;&gt; took over 15 minutes.
&gt;&gt;
&gt;&gt; Riak installation (both from DEB package) is correct and working. Other
&gt;&gt; examples worked as shown.
&gt;&gt;
&gt;&gt; 1. Inserts are very, very slow. Maybe 1 insert in 2 secs??? Memory used
&gt;&gt; around 50%. Network is wired.
&gt;&gt; 2. All inserts go to the local node that I'm working on, the other node is
&gt;&gt; idle.
&gt;&gt;
&gt;&gt; I attached status for both nodes and bucket properties.
&gt;&gt;
&gt;&gt; Is it a bug, or have I made a bug? :-)
&gt;&gt;
&gt;&gt; Thank for any ideas...
&gt;&gt;
&gt;&gt;
&gt;&gt; vlatko
&gt;&gt;
&gt;&gt; P.S.: Sorry if this email was sent twice.
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

