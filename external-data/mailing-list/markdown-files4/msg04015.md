---
title: "Re: How much memory for 20GB of data?"
description: ""
project: community
lastmod: 2011-07-14T16:19:42-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04015"
mailinglist_parent_id: "msg04014"
author_name: "Will Moss"
project_section: "mailinglistitem"
sent_date: 2011-07-14T16:19:42-07:00
---


In that case, Riak adds a minimum of around 500 bytes of overhead per
record, but that can grow as the size of the vector clock grows. As Justin
mentioned, if N = 3 you'll be storing three copies of the data, so you need
at least 60G, but probably closer to 90G.


On Thu, Jul 14, 2011 at 4:13 PM, Maria Neise wrote:

&gt; Yes, I meant disk space. Sorry -.-
&gt;
&gt; Cheers,
&gt; Maria
&gt;
&gt; 2011/7/15 Justin Sheehy :
&gt; &gt; Do you perhaps mean disk space instead of memory?
&gt; &gt;
&gt; &gt; If so, and if you have left the N-val at the default of 3, then you
&gt; &gt; will need at least 60G of space before any other overhead is accounted
&gt; &gt; for.
&gt; &gt;
&gt; &gt; -Justin
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; On Thu, Jul 14, 2011 at 7:04 PM, Maria Neise
&gt; &gt;  wrote:
&gt; &gt;&gt; Hey,
&gt; &gt;&gt; thank you a lot for your hints.
&gt; &gt;&gt; I have 20000000 records Ã  1KB. The key is a string like
&gt; &gt;&gt; "user123456789". I am using the default backend bitcask. There is just
&gt; &gt;&gt; one machine in the cluster and I didn't change the N-val. I already
&gt; &gt;&gt; tried to insert the 20GB of data, but 40GB of memory were obviously
&gt; &gt;&gt; not enough, because only 7000000 records were inserted. So I thought
&gt; &gt;&gt; mybe 150GB should be enough?
&gt; &gt;&gt;
&gt; &gt;&gt; Cheers,
&gt; &gt;&gt; Maria
&gt; &gt;&gt;
&gt; &gt;&gt; 2011/7/15 Justin Sheehy :
&gt; &gt;&gt;&gt; Hi, Maria.
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; In addition to what others have said, I would note that (at least) the
&gt; &gt;&gt;&gt; following issues matter quite a bit for such planning:
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; - how many items the data is broken up into
&gt; &gt;&gt;&gt; - how large the keys will be (especially if they are very large due to
&gt; &gt;&gt;&gt; embedded structure)
&gt; &gt;&gt;&gt; - what storage engine ("backend") is in use
&gt; &gt;&gt;&gt; - how many machines are in the cluster
&gt; &gt;&gt;&gt; - the N-val, or how many replicas are being stored (default is 3)
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; If you know those things, then you can make a more meaningful
&gt; estimation.
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; I hope that this helps.
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; -Justin
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; On Thu, Jul 14, 2011 at 6:02 PM, Maria Neise
&gt; &gt;&gt;&gt;  wrote:
&gt; &gt;&gt;&gt;&gt; Hey,
&gt; &gt;&gt;&gt;&gt; I would like to store 20GB of data with Riak. Does anyone know how
&gt; &gt;&gt;&gt;&gt; much memory Riak would need for that?
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; Cheers,
&gt; &gt;&gt;&gt;&gt; Maria
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; &gt;&gt;&gt;&gt; riak-users mailing list
&gt; &gt;&gt;&gt;&gt; riak-users@lists.basho.com
&gt; &gt;&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;
&gt; &gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

