---
title: "Re: Riak 1.2.0 RC2"
description: ""
project: community
lastmod: 2012-07-21T19:09:13-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08015"
mailinglist_parent_id: "msg08002"
author_name: "Joseph Blomstedt"
project_section: "mailinglistitem"
sent_date: 2012-07-21T19:09:13-07:00
---


Riak Users,

A critical bug has been identified in the Riak 1.2 RC2 build that was
not in the earlier RC1 build. If you restart an RC2 node, it will
overwrite it's ring file with a fresh ring, therefore removing any
history that the node was part of an existing cluster. In other words,
if you build a cluster of Riak nodes, and then restart a node, that
node will no longer be a member of the cluster. Same will happen if
you upgrade a node, and then restart it.

Since we know that some users try out RC builds on their staging
clusters, and sometimes as 1 or 2 nodes out of many on their
production clusters, we wanted to let everyone know about this bug as
soon as it was identified. We are going to be pulling the RC2 packages
later today. A patch for this bug has been created and is being vetted
right now, an RC3 build should land on Monday.

If you have run into this issue, you can issue 'riak-admin join -f
' on the node that believes it is no longer a
member of the cluster and the node should re-integrate into the
cluster without issue.

For the curious, this bug was quickly identified by the testing
process we use to qualify RC builds before eventually promoting an RC
build to an actual release. It just turns out that our process has
always been to publicly release an RC build as soon as it's cut, and
then run our QA tests in parallel. Thus, allowing maximum time for
both Basho internal testing and testing from the community. Before
releasing the first RC (RC1) build, there are multiple internal
pre-release builds that are tested using the same process.
Unfortunately, this particular regression arose in between RC1 and
RC2.

Regards,
Joe

On Fri, Jul 20, 2012 at 2:21 PM, Jared Morrow  wrote:
&gt; Riak Users,
&gt;
&gt; Riak 1.2.0 RC2 has been built and uploaded with changes reported both by
&gt; users on this list and internal testing.
&gt;
&gt; The downloads page has been updated with the new build:
&gt; http://basho.com/resources/downloads/
&gt;
&gt; Also, the release notes have been updated with bugs fixed in RC2:
&gt; https://github.com/basho/riak/blob/1.2/RELEASE-NOTES.md
&gt;
&gt; The new set of bugs fixed are the following:
&gt;
&gt; riak\_api - Add riak\_core as application dep to riak\_api.app
&gt; riak\_api - Register riak\_api\_stat mod with riak\_core at start up
&gt; Add eleveldb:close - Fixes MANIFEST file missing bug
&gt; riak\_kv - Call eleveldb:close before destroy
&gt; riak\_control - Resolve base64 cookie truncation race condition.
&gt; Fix FreeBSD package permissions on sbin
&gt; Create SmartOS SMF service for epmd
&gt;
&gt; Thanks as always for the feedback!
&gt;
&gt; -Basho
&gt;
&gt;
&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;



-- 
Joseph Blomstedt 
Senior Software Engineer
Basho Technologies, Inc.
http://www.basho.com/

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

