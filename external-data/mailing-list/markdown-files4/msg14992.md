---
title: "Re: Connecting to a single host vs balancing requests"
description: ""
project: community
lastmod: 2014-10-07T02:51:08-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14992"
mailinglist_parent_id: "msg14991"
author_name: "Sargun Dhillon"
project_section: "mailinglistitem"
sent_date: 2014-10-07T02:51:08-07:00
---


When you do read / modify / writes, are you also planning on sending
the relevant read through one node only? In that case, your update
latency might suffer if the egress queues of your designated node get
backed up on writes, waiting for a very low cost read query.

You're more likely to get awkward load on riak1, and the vnodes that
that node hosts are going to suffer as a result. Although, you may not
see that in the common case where n=3, and r=quorum, (r=2), but if
another vnode in a preflist is degraded, it's likely to be
problematic.

There are potential performance benefits given some very specific
workloads where you can sacrifice a node, or alternatively you can
configure Riak not to put any vnodes on that node, but these are
advanced options that are not for the faint of heart.

My question would be why are you doing this?

P.S. The way you asked your question of the list is fine.

On Tue, Oct 7, 2014 at 2:09 AM, Geoff Garbers  wrote:
&gt; Hi all.
&gt;
&gt; Apologies if I'm not using the mailing list correctly - this is the
&gt; first time I'm posting to a mailing list.
&gt;
&gt; We're in the process of redeveloping our systems using Riak, and will
&gt; be using five nodes initially. Let's call these nodes riak1 through to
&gt; riak5. Our read/write/delete distribution is weighted more towards
&gt; reads than writes, with few deletes (if I have to hazard a guess, I
&gt; would say 60/35/5 read/write/deletes).
&gt;
&gt; A technical decision has been made to ensure that all writes are sent
&gt; to riak1, and all reads are done from riak2 through riak5. The read
&gt; hosts are selected completely at random.
&gt;
&gt; Apart from the obvious write availability concern, is there any
&gt; performance benefit or penalty to be had from writing to a specific
&gt; node, and reading from the rest? I haven't been able to perform a test
&gt; on this myself, so any input from the community would be appreciated
&gt; for the time being.
&gt;
&gt; Thanks in advance,
&gt; Geoff
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

