---
title: "Re: Updating bucket search schema"
description: ""
project: community
lastmod: 2011-04-12T07:11:49-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02981"
mailinglist_parent_id: "msg02980"
author_name: "Gordon Tillman"
project_section: "mailinglistitem"
sent_date: 2011-04-12T07:11:49-07:00
---


Rusty thanks very much,

I'll give that a try today.

--gordon


On Apr 12, 2011, at 09:07 , Rusty Klophaus wrote:

Hi Gordon,

You should be able to run "search-cmd clear-schema-cache" as step 3, instead of 
restarting the cluster.

This clears the schema on all connected nodes. (I stress "connected nodes" here 
because if a network partition results in an unreachable--but still 
running--node, then that node will continue to use the old cached version of 
the schema.)

Best,
Rusty

On Wed, Apr 6, 2011 at 3:39 PM, Gordon Tillman 
&gt; wrote:
Howdy Gang,

During our various development iterations I have had to alter the schema that 
riaksearch uses for our application's bucket. I have noticed that when I do 
that -- when I assign a new schema to a bucket -- even if I completely purge 
all data and then repopulate the bucket -- the new schema is not used. For a 
new schema to be used I have to perform the following steps:

1. purge bucket
2. install new schema
3. stop/start Riak cluster
4. repopulate

So question - is there some kind of run-time attribute I can set or whatever 
that will force Riaksearch to use the new schema when indexing data that is 
stored -- without having to restart the cluster?

Many thanks,

--gordon
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

