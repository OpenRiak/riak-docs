---
title: "Re: MapReduce notfound error in 1.4"
description: ""
project: community
lastmod: 2013-07-29T13:32:09-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11805"
mailinglist_parent_id: "msg11783"
author_name: "Russell Brown"
project_section: "mailinglistitem"
sent_date: 2013-07-29T13:32:09-07:00
---


Hi Yan,

Another 2i bug in 1.4

I've raised an issue here[1], the fix is very simple[2]. We're getting together 
a few fixes this week, and expect to cut a 1.4.1 very soon.

This issue only effects range query inputs to MR ($key is unaffected, as are 
equals queries).

Sorry for the trouble, fixes coming soon

Cheers

Russell

[1] https://github.com/basho/riak\_kv/issues/617
[2] https://github.com/basho/riak\_kv/pull/618

On 26 Jul 2013, at 20:01, Yan Martins  wrote:

&gt; Hi guys,
&gt; 
&gt; I'm having this trouble after migrating to 1.4 from 1.3. I get a bunch of 
&gt; notfound errors, even though I know the objects are there.
&gt; 
&gt; 10&gt; riakc\_pb\_socket:get\_index(Conn, &lt;&lt;"iops"&gt;&gt;, {integer\_index, "time"}, 
&gt; 1374787015, 1374787025). 
&gt; {ok,{index\_results\_v1,[&lt;&lt;"C3e5e4ffc00000001H0N525400f52ae2hS0-93"&gt;&gt;,
&gt; &lt;&lt;"C3e5e4ffc00000001H1N52540065404fhS0-92"&gt;&gt;,
&gt; &lt;&lt;"C3e5e4ffc00000001H2N525400847d32hS0-92"&gt;&gt;,
&gt; &lt;&lt;"C3e5e4ffc00000001H4N525400b54073hS0-92"&gt;&gt;,
&gt; &lt;&lt;"C3e5e4ffc00000001H3N525400962a0ehS0-92"&gt;&gt;],
&gt; undefined,undefined}}
&gt; 
&gt; 11&gt; riakc\_pb\_socket:mapred(Conn,{index,&lt;&lt;"iops"&gt;&gt;,&lt;&lt;"time\_int"&gt;&gt;, 1374787015, 
&gt; 1374787025}, 
&gt; 11&gt; [{map, {modfun, riak\_kv\_mapreduce, map\_identity}, undefined, true}]). 
&gt; 
&gt; {ok,[{0,
&gt; [{error,notfound},
&gt; {error,notfound},
&gt; {error,notfound},
&gt; {error,notfound},
&gt; {error,notfound}]}]}
&gt; 
&gt; 
&gt; Again, I'm sure the keys were not deleted (I can fetch them by key and there 
&gt; is no X-Riak-Deleted tag).Was there any change to the PB interface that could 
&gt; cause this issue?
&gt; 
&gt; What am I doing wrong? Did anyone else have this problem?
&gt; 
&gt; Thanks
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

