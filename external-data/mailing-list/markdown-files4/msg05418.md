---
title: "Re: atomically updating multiple keys"
description: ""
project: community
lastmod: 2011-11-02T05:02:12-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05418"
mailinglist_parent_id: "msg05393"
author_name: "Tuure Laurinolli"
project_section: "mailinglistitem"
sent_date: 2011-11-02T05:02:12-07:00
---



On Nov 1, 2011, at 19:23 , Justin Karneges wrote:

&gt; On Tuesday, November 01, 2011 05:16:43 AM Tuure Laurinolli wrote:
&gt;&gt; Yes, you would get causal consistency with N=3, R=2, W=2. If client A,
&gt;&gt; using some side channel, tells client B that it inserted something, it is
&gt;&gt; guaranteed that client B can read it.
&gt; 
&gt; Okay, good, this is how I understood it.
&gt; 
&gt; I am curious now though how R &gt; 1 works under the hood. Suppose we've got 
&gt; the 
&gt; above configuration (N=3, R=2, W=2) with server nodes X, Y, Z. If client A 
&gt; writes to X and Y, and then, before the data propogates to Z, client B reads 
&gt; from Y and Z, shouldn't the read operation fail because Y and Z don't agree 
&gt; on 
&gt; the same value? Or is it enough that Y has the latest value and this trumps 
&gt; whatever was returned from Z? I'd think it must be the latter behavior for 
&gt; causal consistency to work.

Yes, latest value read wins.


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

