---
title: "Re: critical config messages in riak-admin diag"
description: ""
project: community
lastmod: 2013-12-03T05:28:38-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13138"
mailinglist_parent_id: "msg13137"
author_name: "Matthew Von-Maszewski"
project_section: "mailinglistitem"
sent_date: 2013-12-03T05:28:38-08:00
---


Change them. Great for 1G too. I use the settings on all my servers, Basho and 
otherwise. None have 10g networks. 

Matthew

Sent from my iPhone

&gt; On Dec 3, 2013, at 4:48 AM, Ingo Rockel  
&gt; wrote:
&gt; 
&gt; Hi,
&gt; 
&gt; we just updated riak cluster to 1.4.2 from 1.3.0 and as suggested in the 
&gt; rolling upgrade docs I did a "riak-admin diag" and got the following messages:
&gt; 
&gt; [root@37VQMW1 riak]# riak-admin diag
&gt; [critical] net.core.wmem\_default is 229376, should be at least 8388608
&gt; [critical] net.core.rmem\_default is 229376, should be at least 8388608
&gt; [critical] net.core.wmem\_max is 131071, should be at least 8388608
&gt; [critical] net.core.rmem\_max is 131071, should be at least 8388608
&gt; [critical] net.core.netdev\_max\_backlog is 1000, should be at least 10000
&gt; 
&gt; but according to the doc:
&gt; 
&gt; http://docs.basho.com/riak/latest/ops/tuning/linux/
&gt; 
&gt; these configs are optional and only help performance on a 10GB network (we 
&gt; only have 1GB). So should I change the values or leave them alone?
&gt; 
&gt; Ingo
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

