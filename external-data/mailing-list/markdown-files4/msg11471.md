---
title: "Can't start Riak. Erlang crashes immediately. Memory problem?"
description: ""
project: community
lastmod: 2013-07-11T00:35:23-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11471"
author_name: "prog112"
project_section: "mailinglistitem"
sent_date: 2013-07-11T00:35:23-07:00
---


So I'm running Riak on my VPS Linux machine. I've got 2GB of RAM available so
I decided to go with eleveldb backend and I tuned the parameters a bit.
However, I can't start my node at all. There are no errors during the riak
start command but inspecting the logs show up different messages:


2013-07-11 09:21:20 =CRASH REPORT====
 crasher:
 initial call: riak\_kv\_index\_hashtree:init/1
 pid: &lt;0.755.0&gt;
 registered\_name: []
 exception exit:
{{undef,[{eleveldb,open,["/var/lib/riak/anti\_entropy/0",[{create\_if\_missing,true},{max\_open\_files,20},{write\_buffer\_size,10671541}]],[]},{hashtree,new\_segment\_store,2,[{file,"src/hashtree.erl"},{line,499}]},{hashtree,new,2,[{file,"src/hashtree.erl"},{line,215}]},{riak\_kv\_index\_hashtree,do\_new\_tree,2,[{file,"src/riak\_kv\_index\_hashtree.erl"},{line,426}]},{lists,foldl,3,[{file,"lists.erl"},{line,1197}]},{riak\_kv\_index\_hashtree,init\_trees,2,[{file,"src/riak\_kv\_index\_hashtree.erl"},{line,368}]},{riak\_kv\_index\_hashtree,init,1,[{file,"src/riak\_kv\_index\_hashtree.erl"},{line,225}]},{gen\_server,init\_it,6,[{file,"gen\_server.erl"},{line,304}]}]},[{gen\_server,init\_it,6,[{file,"gen\_server.erl"},{line,328}]},{proc\_lib,init\_p\_do\_apply,3,[{file,"proc\_lib.erl"},{line,227}]}]}
 ancestors: [&lt;0.707.0&gt;,riak\_core\_vnode\_sup,riak\_core\_sup,&lt;0.130.0&gt;]
 messages: []
 links: []
 dictionary: []
 trap\_exit: false
 status: running
 heap\_size: 1597
 stack\_size: 24
 reductions: 431
 neighbours:

Also:

=====
===== LOGGING STARTED Thu Jul 11 09:24:35 CEST 2013
=====
Exec: /usr/lib/riak/erts-5.9.1/bin/erlexec -boot
/usr/lib/riak/releases/1.3.2/riak -embedded -config
/etc/riak/app.config -pa /usr/lib/riak/lib/basho-patches 
-args\_file /etc/riak/vm.args -- console
Root: /usr/lib/riak
Erlang R15B01 (erts-5.9.1) [source] [64-bit] [smp:8:1] [async-threads:16]
[kernel-poll:true]

Eshell V5.9.1 (abort with ^G)
(riak@xxx)1&gt; /usr/lib/riak/lib/os\_mon-2.2.9/priv/bin/memsup: Erlang has
closed.
Erlang has closed

Anyone got any ideas for me?




--
View this message in context: 
http://riak-users.197444.n3.nabble.com/Can-t-start-Riak-Erlang-crashes-immediately-Memory-problem-tp4028271.html
Sent from the Riak Users mailing list archive at Nabble.com.

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

