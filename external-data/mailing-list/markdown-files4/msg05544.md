---
title: "Re: Cleaning up buckets"
description: ""
project: community
lastmod: 2011-11-10T10:55:09-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05544"
mailinglist_parent_id: "msg05542"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2011-11-10T10:55:09-08:00
---


there is no equivalent to drop table / drop bucket.

you need to list all keys via streaming and issue a delete on each key. even 
then , the delete is a write , so mind your disk (at least in bitcask).

If this is a test environment just do a "rm -r riak/data/\*" and start over.

cheers,


-Alexander Sicular

@siculars
http://siculars.posterous.com

On Nov 10, 2011, at 1:00 PM, Stefan Gebhardt wrote:

&gt; Hi
&gt; 
&gt; I just started playing around with riak.
&gt; For the purpose of testing i uploaded 1 million random generated items(using 
&gt; uuid for keys) to a single bucket
&gt; via the python API.
&gt; Now i like to clean/remove this bucket and run the upload again. At the 
&gt; moment i am looking for smth. like DROP Bucket. Neither in the erlang api nor 
&gt; in the python api i found a function for doing so.
&gt; Then i tried to list all keys and delete item by item but the call "list 1 
&gt; million keys" never returned and ok,,, silly plan at all.
&gt; 
&gt; So... My questions are:
&gt; How can i clean up my cluster?
&gt; Why is there no function to remove a bucket?
&gt; 
&gt; Cheers
&gt; Stefan
&gt; 
&gt; 
&gt; 
&gt; 
&gt; -- 
&gt; --
&gt; 
&gt; Stefan Gebhardt \* stefan.gebha...@abas.de
&gt; Software Development
&gt; ABAS Software AG \* ERP / PPS / WWS / eBusiness
&gt; Südendstraße 42 \* 76135 Karlsruhe \* GERMANY
&gt; Vorstand: Werner Strub (Vorsitzender), Peter Walser
&gt; Vorsitzender des Aufsichtsrats: Thomas Frank
&gt; HRB 107644 Amtsgericht Mannheim
&gt; Tel. +49 (0) 721/9 67 23 0 \* Fax +49 (0) 721/9 67 23 100
&gt; http://www.abas.de \* i...@abas.de
&gt; 
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

