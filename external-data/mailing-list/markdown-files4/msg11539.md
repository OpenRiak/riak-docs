---
title: "Re: Quickly deleting + recreating item in Riak deletes new item"
description: ""
project: community
lastmod: 2013-07-15T14:18:32-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11539"
mailinglist_parent_id: "msg11535"
author_name: "Gabriel Littman"
project_section: "mailinglistitem"
sent_date: 2013-07-15T14:18:32-07:00
---


Hi,

Another posibility is to create a new bucket for each test run.

Gabe

On Mon, Jul 15, 2013 at 12:06 PM, Matthew Dawson wrote:

&gt; Hi Seth,
&gt; On July 14, 2013 02:25:02 PM Seth Bunce wrote:
&gt; &gt; I had a similar problem. I mitigated the problem by appending a
&gt; &gt; current timestamp (in nanoseconds) to the keys I'm using in my tests.
&gt; &gt; This way I don't have to worry about waiting for Riak to reap
&gt; &gt; tombstones after 3 seconds and I don't have to use
&gt; &gt; delete\_mode=immediate. I still do a list keys + delete before each
&gt; &gt; test.
&gt; I think this is what I'm going to have to do. I tried all the different
&gt; delete\_mode settings, but none of them seemed to help. Thanks for the
&gt; suggestion!
&gt; --
&gt; Matthew
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

