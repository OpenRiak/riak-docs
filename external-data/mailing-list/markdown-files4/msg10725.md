---
title: "Re: WARNING: All of 'riak@10.1.42.11' replicas will be lost"
description: ""
project: community
lastmod: 2013-04-05T15:09:13-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10725"
mailinglist_parent_id: "msg10724"
author_name: "Elias Levy"
project_section: "mailinglistitem"
sent_date: 2013-04-05T15:09:13-07:00
---


Thanks for the clarification. May want to amend the node rename doc page (
http://docs.basho.com/riak/latest/cookbooks/Renaming-Nodes/) to clarify
this warning does not apply. It gave me pause.


On Fri, Apr 5, 2013 at 3:04 PM, Alexander Moore wrote:

&gt; In that case you wouldn't actually lose any data, since the data
&gt; directories would be there the whole time.
&gt; The force-replace command will always give that warning though.
&gt;
&gt; Thanks,
&gt; Alex
&gt;
&gt;
&gt; On Fri, Apr 5, 2013 at 5:07 PM, Elias Levy wrote:
&gt;
&gt;&gt; On Fri, Apr 5, 2013 at 1:51 PM, Alexander Moore wrote:
&gt;&gt;
&gt;&gt;&gt; It's referring to the vnode replicas on the node you are replacing.
&gt;&gt;&gt; Doing a force-replace reassigns all that nodes partitions without handing
&gt;&gt;&gt; them off, so the replicas on that node are "lost". However, since riak
&gt;&gt;&gt; replicates to 'N' physical nodes, there should be other replicas of your
&gt;&gt;&gt; data.
&gt;&gt;&gt; It will take a repair to replicate the data to the new node though.
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; Alex,
&gt;&gt;
&gt;&gt; Thanks for the reply. But I am merely doing a force-replace to rename a
&gt;&gt; node, meaning that all that node's data is still on disk, I should expect
&gt;&gt; no data loss on the node. Is that correct?
&gt;&gt;
&gt;&gt; Elias Levy
&gt;&gt;
&gt;&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

