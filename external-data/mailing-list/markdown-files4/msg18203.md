---
title: "Re: Riak 2.1.4 crashes with Out of Memory Error"
description: ""
project: community
lastmod: 2017-05-04T04:55:31-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18203"
mailinglist_parent_id: "msg18202"
author_name: "Matthew Von-Maszewski"
project_section: "mailinglistitem"
sent_date: 2017-05-04T04:55:31-07:00
---


How much ram is in this device? What is the ring\_size setting in Riak.conf?

Thank you,
Matthew

Sent from my iPad

&gt; On May 4, 2017, at 4:08 AM, Magnus Kessler  wrote:
&gt; 
&gt;&gt; On 4 May 2017 at 09:56, Arulappan, Jerald (Jerald)  wrote:
&gt;&gt; Hi Magnus Kessler,
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; The configuration looks good.
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; [root@server205 bin]# ./riak config effective | grep "\_dir"
&gt;&gt; 
&gt;&gt; anti\_entropy.data\_dir = $(platform\_data\_dir)/anti\_entropy
&gt;&gt; 
&gt;&gt; bitcask.data\_root = $(platform\_data\_dir)/bitcask
&gt;&gt; 
&gt;&gt; leveldb.data\_root = $(platform\_data\_dir)/leveldb
&gt;&gt; 
&gt;&gt; log.console.file = $(platform\_log\_dir)/console.log
&gt;&gt; 
&gt;&gt; log.crash.file = $(platform\_log\_dir)/crash.log
&gt;&gt; 
&gt;&gt; log.error.file = $(platform\_log\_dir)/error.log
&gt;&gt; 
&gt;&gt; platform\_bin\_dir = ./bin
&gt;&gt; 
&gt;&gt; platform\_data\_dir = ./data
&gt;&gt; 
&gt;&gt; platform\_etc\_dir = ./etc
&gt;&gt; 
&gt;&gt; platform\_lib\_dir = ./lib
&gt;&gt; 
&gt;&gt; platform\_log\_dir = ./log
&gt;&gt; 
&gt;&gt; ring.state\_dir = $(platform\_data\_dir)/ring
&gt;&gt; 
&gt;&gt; search.anti\_entropy.data\_dir = $(platform\_data\_dir)/yz\_anti\_entropy
&gt;&gt; 
&gt;&gt; search.root\_dir = $(platform\_data\_dir)/yz
&gt;&gt; 
&gt;&gt; search.temp\_dir = $(platform\_data\_dir)/yz\_temp
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; Regards,
&gt;&gt; 
&gt;&gt; Jerald
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt; 
&gt; Hi Jerald,
&gt; 
&gt; The that fill up the logs at a very high rate are due to the use of relative 
&gt; file paths for platform\_{bin,data,etc,lib,log}\_dir. Those entries should 
&gt; generally contain absolute file paths, such as /var/lib/riak, as init systems 
&gt; may start the application from an arbitrary working directory. Please check 
&gt; if the errors go away after adjusting platform\_data\_dir.
&gt; 
&gt; Kind Regards,
&gt; 
&gt; Magnus
&gt; 
&gt; -- 
&gt; Magnus Kessler
&gt; Client Services Engineer
&gt; Basho Technologies Limited
&gt; 
&gt; Registered Office - 8 Lincolnâ€™s Inn Fields London WC2A 3BP Reg 07970431
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

