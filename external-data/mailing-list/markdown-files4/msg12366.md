---
title: "Re: Deleting data from bitcask backend"
description: ""
project: community
lastmod: 2013-09-24T14:12:28-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12366"
mailinglist_parent_id: "msg12276"
author_name: "Brian Sparrow"
project_section: "mailinglistitem"
sent_date: 2013-09-24T14:12:28-07:00
---


Hello Charl, 

Everything looks as expected in the vnode status and the logs. Feel free to run 
`bitcask:merge("/PATH/TO/PARTITION")` for other partitions on the node(s) to 
reclaim space.

Let us know how things go.

Thanks, 

-- 
Brian Sparrow
Developer Advocate
Basho Technologies

Sent with Sparrow (http://www.sparrowmailapp.com/?sig)


On Monday, September 16, 2013 at 4:34 PM, Charl Matthee wrote:

&gt; Hi,
&gt; 
&gt; On 16 September 2013 21:15, Alex Moore  (mailto:amo...@basho.com)&gt; wrote:
&gt; 
&gt; &gt; I would recommend running "riak-admin vnode-status" during an off-peak time
&gt; &gt; like Evan mentioned, that way we can see what your dead bytes/fragmentation
&gt; &gt; levels look like. This will also let us know if you are hitting the
&gt; &gt; triggers or if they need to be adjusted more.
&gt; &gt; 
&gt; 
&gt; 
&gt; I've attached the output from "riak-admin vnode-status".
&gt; 
&gt; &gt; One thing I did notice is that your dead\_bytes\_merge\_trigger and
&gt; &gt; dead\_bytes\_threshold are both set to 64MB.
&gt; &gt; This will means that a merge will be triggered when a bitcask file has more
&gt; &gt; than 64MB of dead objects in it (dead\_bytes\_merge\_trigger), and only files
&gt; &gt; with more than 64 MB of dead objects will be merged (dead\_bytes\_threshold).
&gt; &gt; If you want more than that single file to be merged, you can reduce
&gt; &gt; dead\_bytes\_threshold further so it can include files that are nearing the
&gt; &gt; limit.
&gt; &gt; 
&gt; 
&gt; 
&gt; Great, thanks for that. I'll update my nodes tomorrow and monitor the
&gt; effects during the day.
&gt; 
&gt; -- 
&gt; Ciao
&gt; 
&gt; Charl
&gt; 
&gt; "I will either find a way, or make one." -- Hannibal
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; 
&gt; 
&gt; 
&gt; 
&gt; Attachments: 
&gt; - riak-vnode-status
&gt; 


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

