---
title: "Re: DELETE and vclocks"
description: ""
project: community
lastmod: 2013-09-23T10:13:56-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12345"
mailinglist_parent_id: "msg12344"
author_name: "Brady Wetherington"
project_section: "mailinglistitem"
sent_date: 2013-09-23T10:13:56-07:00
---


Well, I'm not sure, and I'm new to Riak too, but I \*think\* you'd need to
set allow\_multi on the bucket.

-B.


On Mon, Sep 23, 2013 at 4:01 AM, Gints  wrote:

&gt; I did a PUT, and the vclock that came back was:
&gt; a85hYGBgzGDKBVIcypz/fgZJFylnMCUy5rEyNOdtOc2XBQA=
&gt;
&gt; Then I read the object back, modified it, and PUT it again, providing the
&gt; old vclock, and got a new vclock:
&gt; a85hYGBgzGDKBVIcypz/fgZJFylnMCUy5bEyNOdtOc2XBQA=
&gt;
&gt; (Notice they are slightly different: Uy5rEy -&gt; Uy5bEy)
&gt;
&gt; Then, I did a DELETE, using the first vector clock, not the second, updated
&gt; one.
&gt;
&gt; After that the object was gone, I could not find it in the database any
&gt; more.
&gt;
&gt; Is this supposed to be like that - deleting an object providing a stale
&gt; vclock actually deletes it? Or am I probably doing something wrong?
&gt;
&gt; Thanks,
&gt; Gints
&gt;
&gt;
&gt;
&gt;
&gt; --
&gt; View this message in context:
&gt; http://riak-users.197444.n3.nabble.com/DELETE-and-vclocks-tp4029176.html
&gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

