---
title: "Re: Rebar: user defined macro"
description: ""
project: community
lastmod: 2012-11-05T07:45:51-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09193"
mailinglist_parent_id: "msg09175"
author_name: "Bryan Fink"
project_section: "mailinglistitem"
sent_date: 2012-11-05T07:45:51-08:00
---


On Fri, Nov 2, 2012 at 5:17 PM, Zabrane Mickael  wrote:
&gt; I've this in my makefile:
&gt;
&gt; compile:
&gt; @$(REBAR) compile -Dfoo=17
...snip...
&gt; How can I defined macro with value using rebar?

Hi, Zabrane.

It looks to me like the command line -D option for rebar does not
support defining values for macros. The makefile line above causes
rebar to define the 'foo=17' macro, not a macro 'foo' with value 17.

I think the only way to do what you want is by adding 'd' tuples to
your 'erl\_opts' list in your rebar.config:

 {erl\_opts, [{d, foo, 17}]}.

The rebar mailing list may have better answers:
http://lists.basho.com/mailman/listinfo/rebar\_lists.basho.com

-Bryan

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

