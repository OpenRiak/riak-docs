---
title: "Re: trying to build from source"
description: ""
project: community
lastmod: 2013-08-29T18:36:14-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12168"
mailinglist_parent_id: "msg12167"
author_name: "akonsu"
project_section: "mailinglistitem"
sent_date: 2013-08-29T18:36:14-07:00
---


thanks everyone for your help. I do not have include directory
under /usr/lib/erlang/lib/erl\_interface-3.7.7. My erlang came with couchdb
package (I am on Ubuntu), maybe this is why. Will try to install erlang
separately.
Konstantin



2013/8/29 Luke Bakken 

&gt; Hi akonsu -
&gt;
&gt; The following shell script will use the "erl" command to find your
&gt; ERLANG\_ROOT and then will search it for the ei.h file.
&gt;
&gt; -----
&gt; #!/usr/bin/env bash
&gt;
&gt; if ! hash erl 2&gt;/dev/null
&gt; then
&gt; echo "Could not find 'erl' command!" 1&gt;&2
&gt; exit 1
&gt; fi
&gt;
&gt; ERLANG\_ROOT=$(erl -eval 'io:format("~s", [code:root\_dir()])' -s init
&gt; stop -noshell)
&gt;
&gt; echo "ERLANG\_ROOT: $ERLANG\_ROOT"
&gt;
&gt; find "$ERLANG\_ROOT" -type f -iname ei.h
&gt; -----
&gt;
&gt; Typical output will look like this:
&gt;
&gt; (R15B01-riak)vagrant@UBUNTU-12:~$ ./find-erl-header.sh
&gt; ERLANG\_ROOT: /home/vagrant/.kerl/installs/R15B01-riak
&gt;
&gt; /home/vagrant/.kerl/installs/R15B01-riak/lib/erl\_interface-3.7.7/include/ei.h
&gt;
&gt; On Thu, Aug 29, 2013 at 2:13 PM, akonsu  wrote:
&gt; &gt; Hello,
&gt; &gt;
&gt; &gt; I asked the same question on stackoverflow, but I am not sure if SO is a
&gt; &gt; good resource for this kind of help. Please forgive me for cross
&gt; posting. I
&gt; &gt; am just starting...
&gt; &gt;
&gt; &gt; I am trying to build riak from source on Lubuntu 13.04 using these
&gt; commands
&gt; &gt;
&gt; &gt; curl -O
&gt; &gt;
&gt; http://s3.amazonaws.com/downloads.basho.com/riak/1.4/1.4.1/riak-1.4.1.tar.gz
&gt; &gt; tar zxvf riak-1.4.1.tar.gz
&gt; &gt; cd riak-1.4.1
&gt; &gt; make rel
&gt; &gt;
&gt; &gt; I am getting this error:
&gt; &gt;
&gt; &gt; /home/akonsu/projects/riak/deps/syslog/c\_src/syslog\_drv.c:29:16:
&gt; fatal
&gt; &gt; error: ei.h: No such file or directory
&gt; &gt; compilation terminated.
&gt; &gt; ERROR: compile failed while processing
&gt; &gt; /home/akonsu/projects/riak/deps/syslog: rebar\_abort
&gt; &gt; make: \*\*\* [compile] Error 1
&gt; &gt;
&gt; &gt; I am getting the same error if I build from github repository.
&gt; &gt;
&gt; &gt; Has anyone seen this? Do I need to install a dependency?
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

