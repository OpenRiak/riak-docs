---
title: "Re: Strange merge time variance"
description: ""
project: community
lastmod: 2011-12-19T13:19:31-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06000"
mailinglist_parent_id: "msg05999"
author_name: "Dmitry Groshev"
project_section: "mailinglistitem"
sent_date: 2011-12-19T13:19:31-08:00
---


&gt; If the database is in memory, why write it to bitcask? Seems like a
&gt; simple replay log is what you want in this situation.
Because it's very handy to have KV over persistent copy :)

&gt; Could this be an artifact of the large # of writes + deletes on the
&gt; file system?
Nope. Each point there is 5 minutes away from each other, I don't
think that file system artifacts can be so continuous.

&gt;Otherwise, I'm not quite sure what a good pattern would look like...
Ideally as a straight line (I write the same amount of data each time,
after all, I don't understand why it should take so different time to
merge it).

2011/12/20 David Smith :
&gt; On Thu, Dec 15, 2011 at 10:51 AM, Dmitry Groshev  
&gt; wrote:
&gt;&gt; I'm using standalone bitcask as a backend for our in-memory database
&gt;&gt; (not opensourced yet). I write ~1.5GB of data to it each 5 minutes
&gt;&gt; overwriting almost all keys and after that I run a merge as follows:
&gt;
&gt; If the database is in memory, why write it to bitcask? Seems like a
&gt; simple replay log is what you want in this situation.
&gt;
&gt;
&gt;&gt; depicts a durations of merges; as one can see, there at least 2 "saw"
&gt;&gt; forms with different time scales overlapped. Is there any reason why
&gt;&gt; it is so? I have a gut feeling that such a variance isn't so good :)
&gt;
&gt; Could this be an artifact of the large # of writes + deletes on the
&gt; file system? Otherwise, I'm not quite sure what a good pattern would
&gt; look like...
&gt;
&gt; D.
&gt;
&gt; --
&gt; Dave Smith
&gt; Director, Engineering
&gt; Basho Technologies, Inc.
&gt; diz...@basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

