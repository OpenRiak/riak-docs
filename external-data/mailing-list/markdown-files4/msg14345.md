---
title: "Re: Error decodeing type with PBC API"
description: ""
project: community
lastmod: 2014-06-22T23:30:08-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14345"
mailinglist_parent_id: "msg14343"
author_name: "Russell Brown"
project_section: "mailinglistitem"
sent_date: 2014-06-22T23:30:08-07:00
---


Hi,
For this type of issue client and server versions are very useful, please.

Russell

On 23 Jun 2014, at 03:55, japhar81  wrote:

&gt; Hello all,
&gt; I've been banging my head against the PBC API all weekend and I can't seem to 
&gt; figure out why I'm getting an error. I'm able to call RpbListBuckets (empty 
&gt; message) without issue, but when I try to call RpbListKeys I get an error 
&gt; (pasted below in full) -- Error decodeing type with PBC API.
&gt; 
&gt; I've pulled out the encoded message (trying to list the rekon bucket as a 
&gt; test), it is:
&gt; 00-00-00-0A-11-00-10-6E-6F-6B-65-72-05-0A
&gt; 
&gt; I've confirmed that the length (0x0A = 10) and message type (0x11 = 
&gt; RpbListKeysReq) are correct. I'm unsure how I'd manually decode the message 
&gt; itself, but it matches what protobuf is giving me, so I'm assuming it to be 
&gt; correct as well.
&gt; 
&gt; I'd appreciate any pointers as to what I'm doing wrong, I'm completely 
&gt; stumped.
&gt; 
&gt; The full error I'm getting:
&gt; 
&gt; Error processing incoming message: throw:{error,"Error decodeing 
&gt; type"}:[{protobuffs,
&gt; 
&gt; read\_field\_num\_and\_wire\_type,
&gt; 1,
&gt; 
&gt; [{file,
&gt; 
&gt; "src/protobuffs.erl"},
&gt; 
&gt; {line,
&gt; 
&gt; 203}]},
&gt; 
&gt; {protobuffs,
&gt; 
&gt; next\_field\_num,
&gt; 1,
&gt; 
&gt; [{file,
&gt; 
&gt; "src/protobuffs.erl"},
&gt; 
&gt; {line,
&gt; 
&gt; 242}]},
&gt; 
&gt; {riak\_kv\_pb,
&gt; 
&gt; decode,
&gt; 3,
&gt; 
&gt; [{file,
&gt; 
&gt; "src/riak\_kv\_pb.erl"},
&gt; 
&gt; {line,
&gt; 
&gt; 105}]},
&gt; 
&gt; {riak\_kv\_pb,
&gt; 
&gt; decode,
&gt; 2,
&gt; 
&gt; [{file,
&gt; 
&gt; "src/riak\_kv\_pb.erl"},
&gt; 
&gt; {line,
&gt; 
&gt; 100}]},
&gt; 
&gt; {riak\_kv\_pb\_bucket,
&gt; 
&gt; decode,
&gt; 2,
&gt; 
&gt; [{file,
&gt; 
&gt; "src/riak\_kv\_pb\_bucket.erl"},
&gt; 
&gt; {line,
&gt; 
&gt; 67}]},
&gt; 
&gt; {riak\_api\_pb\_server,
&gt; 
&gt; handle\_message,
&gt; 3,
&gt; 
&gt; [{file,
&gt; 
&gt; "src/riak\_api\_pb\_server.erl"},
&gt; 
&gt; {line,
&gt; 
&gt; 196}]},
&gt; 
&gt; {riak\_api\_pb\_server,
&gt; 
&gt; decode\_buffer,
&gt; 1,
&gt; 
&gt; [{file,
&gt; 
&gt; "src/riak\_api\_pb\_server.erl"},
&gt; 
&gt; {line,
&gt; 
&gt; 172}]},
&gt; 
&gt; {gen\_server,
&gt; 
&gt; handle\_msg,
&gt; 5,
&gt; 
&gt; [{file,
&gt; 
&gt; "gen\_server.erl"},
&gt; 
&gt; {line,
&gt; 
&gt; 607}]}]
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

