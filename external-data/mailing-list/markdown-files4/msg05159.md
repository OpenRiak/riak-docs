---
title: "Re: using riak_search arlang api from a distant node"
description: ""
project: community
lastmod: 2011-10-14T07:03:25-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05159"
mailinglist_parent_id: "msg05149"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2011-10-14T07:03:25-07:00
---


Lyes,

If you are storing the document into KV as well then you could install the
Search commit hook and using the protobuff client [1] to write documents.

To use a Search query as input to map/reduce you can use
riakc\_pb\_socket:search/5. Note that this currently doesn't allow you to
specify inline field filters.

-Ryan

[1]: https://github.com/basho/riak-erlang-client

On Thu, Oct 13, 2011 at 11:20 AM, Lyes zaiko  wrote:

&gt; Hi everybody!
&gt;
&gt; I want to index documents into a riak\_search index from a distant erlang
&gt; node using the erlang search api. For the moment, I use the rpc:call()
&gt; function to do this, is there a better mean to perform such operation
&gt; without passing throug rpc:call() (perhaps using the riak client or other
&gt; thing), but from the erlang node (I don't want to use the http api)?
&gt;
&gt;
&gt; By the way, can someone give me an example about how to use an erlang
&gt; function for a mapred\_saerch map/reduce.
&gt;
&gt; thank you!
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

