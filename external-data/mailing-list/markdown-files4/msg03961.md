---
title: "Re: Node crash badmatch enoent"
description: ""
project: community
lastmod: 2011-07-08T08:44:21-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03961"
mailinglist_parent_id: "msg03954"
author_name: "Jon Meredith"
project_section: "mailinglistitem"
sent_date: 2011-07-08T08:44:21-07:00
---


Hi Carlo,

&gt;From the error report it looks like riak was having problems opening a file
in the /tmp/riak/slide-data directory. Do you have any processes that clean
up temporary files / dirs while riak is running?

BR, Jon.

On Thu, Jul 7, 2011 at 2:32 AM, Carlo Bertoldi
wrote:

&gt; Hello everybody,
&gt; I'm following the fast track to learn something about Riak. I've
&gt; installed, from source, riak 0.14.2, ran make all and make devrel.
&gt; I've changed this line in app.config of each node {http, [
&gt; {"192.168.0.186", 809x } ]}, and -name devX@192.168.0.186 in vm.args.
&gt;
&gt; Now I'm trying to insert the goog.csv for the MapReduce experiment, but
&gt; after 11 insertions, the dev1 node crashes.
&gt; I also ran riak-admin test on all 3 nodes, and it was successful on all 3
&gt; of them:
&gt;
&gt; =INFO REPORT==== 7-Jul-2011::10:28:14 ===
&gt; Successfully completed 1 read/write cycle to 'dev1@192.168.0.186'
&gt;
&gt; Am I missing something?
&gt; Thanks,
&gt; Carlo
&gt;
&gt; Some log:
&gt;
&gt; riak-admin status:
&gt; 1-minute stats for 'dev1@192.168.0.186'
&gt; ------------------------------\*\*-------------
&gt; vnode gets : 0
&gt; vnode\_puts : 0
&gt; read\_repairs : 0
&gt; vnode\_gets\_total : 0
&gt; vnode\_puts\_total : 0
&gt; node\_gets : 0
&gt; node\_gets\_total : 0
&gt; node\_get\_fsm\_time\_mean : 0
&gt; node\_get\_fsm\_time\_median : 0
&gt; node\_get\_fsm\_time\_95 : 0
&gt; node\_get\_fsm\_time\_99 : 0
&gt; node\_get\_fsm\_time\_100 : 0
&gt; node\_puts : 0
&gt; node\_puts\_total : 0
&gt; node\_put\_fsm\_time\_mean : 0
&gt; node\_put\_fsm\_time\_median : 0
&gt; node\_put\_fsm\_time\_95 : 0
&gt; node\_put\_fsm\_time\_99 : 0
&gt; node\_put\_fsm\_time\_100 : 0
&gt; read\_repairs\_total : 0
&gt; cpu\_nprocs : 657
&gt; cpu\_avg1 : 164
&gt; cpu\_avg5 : 108
&gt; cpu\_avg15 : 97
&gt; mem\_total : 3396595712
&gt; mem\_allocated : 3262820352
&gt; disk : [{"/",148004296,39},
&gt; {"/dev",1654272,1},
&gt; {"/dev/shm",1658492,1},
&gt; {"/var/run",1658492,1},
&gt; {"/var/lock",1658492,0},
&gt; {"/lib/init/rw",1658492,0},
&gt; {"/var/lib/ureadahead/debugfs"\*\*,148004296,39}]
&gt; nodename : 'dev1@192.168.0.186'
&gt; connected\_nodes : 
&gt; ['dev2@192.168.0.186','dev3@\*\*192.168.0.186
&gt; ']
&gt; sys\_driver\_version : &lt;&lt;"1.5"&gt;&gt;
&gt; sys\_global\_heaps\_size : 0
&gt; sys\_heap\_type : private
&gt; sys\_logical\_processors : 2
&gt; sys\_otp\_release : &lt;&lt;"R13B04"&gt;&gt;
&gt; sys\_process\_count : 177
&gt; sys\_smp\_support : true
&gt; sys\_system\_version : &lt;&lt;"Erlang R13B04 (erts-5.7.5) [source] [smp:2:2]
&gt; [rq:2] [async-threads:64] [kernel-poll:true]"&gt;&gt;
&gt; sys\_system\_architecture : &lt;&lt;"i686-pc-linux-gnu"&gt;&gt;
&gt; sys\_threads\_enabled : true
&gt; sys\_thread\_pool\_size : 64
&gt; sys\_wordsize : 4
&gt; ring\_members : ['dev1@192.168.0.186','dev2@\*\*192.168.0.186
&gt; ',
&gt; 'dev3@192.168.0.186']
&gt; ring\_num\_partitions : 64
&gt; ring\_ownership : &lt;&lt;"[{'dev3@192.168.0.186',21},\*\*\n 
&gt; {'dev2@192.168.0.186',21},\n
&gt; {'dev1@192.168.0.186',22}]"&gt;&gt;
&gt; ring\_creation\_size : 64
&gt; storage\_backend : riak\_kv\_bitcask\_backend
&gt; pbc\_connects\_total : 0
&gt; pbc\_connects : 0
&gt; pbc\_active : 0
&gt; cluster\_info\_version : &lt;&lt;"1.1.0"&gt;&gt;
&gt; luwak\_version : &lt;&lt;"1.0.0"&gt;&gt;
&gt; skerl\_version : &lt;&lt;"1.0.0"&gt;&gt;
&gt; riak\_kv\_version : &lt;&lt;"0.14.2"&gt;&gt;
&gt; riak\_core\_version : &lt;&lt;"0.14.2"&gt;&gt;
&gt; bitcask\_version : &lt;&lt;"1.1.6"&gt;&gt;
&gt; luke\_version : &lt;&lt;"0.2.4"&gt;&gt;
&gt; webmachine\_version : &lt;&lt;"1.8.0"&gt;&gt;
&gt; mochiweb\_version : &lt;&lt;"1.7.1"&gt;&gt;
&gt; erlang\_js\_version : &lt;&lt;"0.6.1"&gt;&gt;
&gt; runtime\_tools\_version : &lt;&lt;"1.8.3"&gt;&gt;
&gt; crypto\_version : &lt;&lt;"1.6.4"&gt;&gt;
&gt; os\_mon\_version : &lt;&lt;"2.2.5"&gt;&gt;
&gt; riak\_err\_version : &lt;&lt;"1.0.1"&gt;&gt;
&gt; sasl\_version : &lt;&lt;"2.1.9"&gt;&gt;
&gt; stdlib\_version : &lt;&lt;"1.16.5"&gt;&gt;
&gt; kernel\_version : &lt;&lt;"2.13.5"&gt;&gt;
&gt; executing\_mappers : 0
&gt;
&gt; This is an extract from riak-0.14.2/dev/dev1/log
&gt;
&gt; =ERROR REPORT==== 6-Jul-2011::17:11:51 ===
&gt; \*\* Generic server riak\_kv\_stat terminating
&gt; \*\* Last message in was {'$gen\_cast',{update,{get\_fsm\_\*\*
&gt; time,14310},63477191511}}
&gt; \*\* When Server state == {state,
&gt; {spiral,63477191511,
&gt; [1,0,0,0,0,0,0,0,0,0,0,0,0,1,\*\*
&gt; 0,0,0,0,0,0,0,0,
&gt; 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\*\*
&gt; 0,0,0,0,0,0,0,
&gt; 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\*\*
&gt; 0,0,0,0,0,0,0,
&gt; 0,0,0,0,0,0,0,0,0,0,0,0,0,0]},
&gt; {spiral,63477184231,
&gt; [0,0,0,0,0,0,0,0,0,0,0,0,0,0,\*\*
&gt; 0,0,0,0,0,0,0,0,
&gt; 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\*\*
&gt; 0,0,0,0,0,0,0,
&gt; 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\*\*0]},
&gt; 2,0,0,0,
&gt; {slide,undefined,60,60,
&gt; "/tmp/riak/slide-data/11493/\*\*
&gt; 1309.965031.33105",
&gt; undefined,undefined},
&gt; {slide,undefined,60,60,
&gt; "/tmp/riak/slide-data/11493/\*\*
&gt; 1309.965031.33299",
&gt; undefined,undefined},
&gt; {spiral,63477184231,
&gt; [0,0,0,0,0,0,0,0,0,0,0,0,0,0,\*\*
&gt; 0,0,0,0,0,0,0,0,
&gt; 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\*\*
&gt; 0,0,0,0,0,0,0,
&gt; 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\*\*0]},
&gt; 0,0,
&gt; {spiral,63477184231,
&gt; [0,0,0,0,0,0,0,0,0,0,0,0,0,0,\*\*
&gt; 0,0,0,0,0,0,0,0,
&gt; 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\*\*
&gt; 0,0,0,0,0,0,0,
&gt; 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,\*\*0]},
&gt; 0,0}
&gt; \*\* Reason for termination ==
&gt; \*\* {{badmatch,{error,enoent}},
&gt; [{slide,update,3},
&gt; {riak\_kv\_stat,slide\_incr,4},
&gt; {riak\_kv\_stat,handle\_cast,2},
&gt; {gen\_server2,handle\_msg,7},
&gt; {proc\_lib,init\_p\_do\_apply,3}]}
&gt;
&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\*\*\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/\*\*mailman/listinfo/riak-users\_\*\*lists.basho.com
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

