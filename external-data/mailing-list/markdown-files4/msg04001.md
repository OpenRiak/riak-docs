---
title: "Re: RiakIORuntimeException"
description: ""
project: community
lastmod: 2011-07-13T13:03:22-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04001"
mailinglist_parent_id: "msg04000"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2011-07-13T13:03:22-07:00
---


Hi Maria,

The default port for the HTTP API is 8098; unless you changed app.config you
may just need to change the port specified in your code.

Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Wed, Jul 13, 2011 at 10:43 AM, Russell Brown wrote:

&gt; Hi Maria,
&gt; Is riak running? Can you verify it is running by using curl or wget?
&gt;
&gt; curl -v -X GET http://localhost:8090/riak
&gt;
&gt; The errors says "connection refused" which tells me Riak is probably not
&gt; running, or not running on the port you've specified (8090.)
&gt;
&gt; If you can get Riak running and verify that you have Riak running (maybe
&gt; try the Fast Track [1] to get started) then try the Java client code again.
&gt;
&gt; Cheers
&gt;
&gt; Russell
&gt;
&gt; [1] Riak Fast Track - http://wiki.basho.com/The-Riak-Fast-Track.html
&gt;
&gt; On 13 Jul 2011, at 17:42, Maria Neise wrote:
&gt;
&gt; Hey,
&gt; I am writing an application with the Java-Api. In my application I try
&gt; to get a connection to Riak using the RiakClient in order to insert
&gt; some data. Before, I downloaded Riak with wget
&gt; http://downloads.basho.com/riak/riak-0.14/riak\_0.14.2-1\_amd64.deb.
&gt; When I start Riak with
&gt; sudo riak start I always get attempting to restart script through sudo
&gt; -u riak. When I start my application I get an RiakIORuntimeException,
&gt; when trying to store a RiakObject. Here is my code:
&gt;
&gt; public class RiakClient extends DB{
&gt;
&gt; com.basho.riak.client.http.RiakClient riakClient;
&gt;
&gt; public void init() throws DBException {
&gt;
&gt; try{
&gt;
&gt; riakClient = new
&gt; com.basho.riak.client.http.RiakClient("http://localhost:8090/riak");
&gt;
&gt;
&gt; } catch(Throwable t) {
&gt; t.printStackTrace();
&gt; }
&gt; }
&gt;
&gt; public int insert(String table, String key, HashMap values)
&gt; {
&gt;
&gt; try{
&gt;
&gt; com.basho.riak.client.http.RiakObject myObject = new
&gt; com.basho.riak.client.http.RiakObject(table, key);
&gt;
&gt; Iterator it = values.entrySet().iterator();
&gt; while(it.hasNext()){
&gt;
&gt; Map.Entry pair = (Map.Entry)it.next();
&gt; String entryKey = pair.getKey();
&gt; String entryValue = pair.getValue();
&gt; myObject.addUsermetaItem(entryKey, entryValue);
&gt;
&gt; }
&gt;
&gt; com.basho.riak.client.http.response.StoreResponse storeResponse =
&gt; riakClient.store(myObject);
&gt;
&gt; if(!storeResponse.isSuccess()){
&gt; return 1;
&gt; }
&gt; } catch(Throwable t) {
&gt; t.printStackTrace();
&gt; }
&gt;
&gt; return 0;
&gt;
&gt; }
&gt;
&gt; I also attached a screenshot from the Exception.
&gt;
&gt; I would be grateful for any advice.
&gt; Cheers,
&gt; Maria
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

