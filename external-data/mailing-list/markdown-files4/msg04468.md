---
title: "Re: Bitcask merge"
description: ""
project: community
lastmod: 2011-08-25T23:07:19-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04468"
mailinglist_parent_id: "msg04464"
author_name: "raghwani sohil"
project_section: "mailinglistitem"
sent_date: 2011-08-25T23:07:19-07:00
---


Hi Aphyr,

I have changed my app.config file i.e i have added this lines

{riak\_kv\_bitcask\_backend, [
 {max\_file\_size, 314572800},
 {small\_file\_threshold, 335544320}
 ]}

but still riak merging process is not running .

On Fri, Aug 26, 2011 at 12:56 AM, Aphyr  wrote:

&gt; Have you checked that your bitcask maximum file size is small enough?
&gt; Bitcask will only merge \*inactive\* files, so if your active file limit is
&gt; 500MB and your active file is 320, you won't merge.
&gt;
&gt; --Kyle
&gt;
&gt;
&gt; On 08/25/2011 06:43 AM, raghwani sohil wrote:
&gt;
&gt;&gt; I have deleted all the keys from all buckets manually and \*before
&gt;&gt; deleting \*the\*\*keys the size of \*bitcask
&gt;&gt;
&gt;&gt; \*directory was \*64 GB \*and after deleting it is showing me the same i.e
&gt;&gt;
&gt;&gt; \*6.4 GB\*.
&gt;&gt;
&gt;&gt; So to run bitcask merging process i have added this line
&gt;&gt;
&gt;&gt; {riak\_kv\_bitcask\_backend, [
&gt;&gt; {small\_file\_threshold, 335544320}
&gt;&gt; ]}
&gt;&gt;
&gt;&gt;
&gt;&gt; in my app.config . I have added this line because size of all data file
&gt;&gt; in bitcask directory are ( &lt; 320 MB ) .
&gt;&gt;
&gt;&gt; but bitcask merging process is not running . Is there any solution to
&gt;&gt; run bitcask merge process so that i can reduce size of my bitcask
&gt;&gt; directory ??
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\*\*\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/\*\*mailman/listinfo/riak-users\_\*\*lists.basho.com
&gt;&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

