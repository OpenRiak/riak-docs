---
title: "Re: Sanitizing user input for Search"
description: ""
project: community
lastmod: 2012-02-03T08:56:21-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06530"
mailinglist_parent_id: "msg06495"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2012-02-03T08:56:21-08:00
---


Alexander,

Search stores all fields/values as UTF-8. As long as your encoding reaches
Search as UTF-8 things should work.

However, if your data contains different languages that is only part of the
problem. The other part is that analyzers need to be aware of language.
 E.g., the definition of a "word" in English is different from Chinese.
 All the analyzers in Search analyze based on ASCII, e.g. a word boundary
is a space (0x20). Now, the Search analyzers may not be aware of other
languages but they will treat both indexes and queries the same way, so
even it's wrong it's consistently wrong (I hope that makes sense).

We have some tests that check different character sets on top of UTF-8 but
to be extra sure I would run some tests yourself to verify the entire stack
plays well together.

-Ryan

On Thu, Feb 2, 2012 at 8:09 AM, Alexander Sicular wrote:

&gt; Hello All,
&gt;
&gt; Are there limitations as to character sets or other special characters
&gt; (perhaps a guide or docs) that I should be actively filtering out of user
&gt; generated searches that will be passed to Riak Search?
&gt;
&gt; Yes, standard filtering rules apply, but are there any specific "gotchas"
&gt; that people have come across when implementing riak search?
&gt;
&gt; A rough sketch of my flow:
&gt; Browser &gt; nodejs &gt; riak search &gt; mapreduce
&gt;
&gt;
&gt; Tia,
&gt; Alexander
&gt;
&gt; @siculars on twitter
&gt; http://siculars.posterous.com
&gt;
&gt; Sent from my iRotaryPhone
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

