---
title: "Re: node_put_fsm_active maxing out"
description: ""
project: community
lastmod: 2015-11-05T15:23:46-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16734"
mailinglist_parent_id: "msg16727"
author_name: "Chris Read"
project_section: "mailinglistitem"
sent_date: 2015-11-05T15:23:46-08:00
---


Anyone out there?

Here's some more detail on the Erlang builds:

This one works as expected:

sys\_system\_architecture : &lt;&lt;"x86\_64-unknown-linux-gnu"&gt;&gt;
sys\_system\_version : &lt;&lt;"Erlang R16B02-basho5 (erts-5.10.3) [source]
[64-bit] [smp:8:8] [async-threads:64] [hipe] [kernel-poll:true]"&gt;&gt;

This one has the problem:

sys\_system\_architecture : &lt;&lt;"x86\_64-unknown-linux-gnu"&gt;&gt;
sys\_system\_version : &lt;&lt;"Erlang R16B02\_basho6 (erts-5.10.3) [source-bcd8abb]
[64-bit] [smp:24:24] [async-threads:64] [kernel-poll:true]
[frame-pointer]"&gt;&gt;

Chris


On Tue, Nov 3, 2015 at 12:47 PM, Chris Read  wrote:

&gt; Greetings all...
&gt;
&gt; We've been building riak from source for a while, but I've had trouble
&gt; getting the 2.1 lines built reliably and so would like to revert back to
&gt; using the .deb package. The problem I have is that in our test environment
&gt; we always manage to max out node\_put\_fsm\_active under sustained write
&gt; loads, and they never drop.
&gt;
&gt; When running riak 2.0.4 on R16B02-basho5 (our current prod version)
&gt; everything is working as expected.
&gt;
&gt; Using the .deb package of 2.0.4 pushes us to R16B02\_basho6, which is where
&gt; we see the problem arrive of node\_puts\_fsm\_active going up and never
&gt; dropping back own again, even after the write load stops.
&gt;
&gt; Further testing with the riak 2.0.6 2.1.1 .deb packages (both contain
&gt; R16B02\_basho8) show the same problem.
&gt;
&gt; Questions I have are:
&gt;
&gt; 1) Anyone else seen this?
&gt; 2) Is there any way I can see why these FSM's appear to be deadlocked?
&gt;
&gt; Thanks,
&gt;
&gt; Chris
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

