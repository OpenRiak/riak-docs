---
title: "Re: Backuping a node or a cluster does not want to start,	finally resolved."
description: ""
project: community
lastmod: 2010-05-11T07:44:23-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00310"
mailinglist_parent_id: "msg00309"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2010-05-11T07:44:23-07:00
---


Yes, which could be in /tmp, after which you could copy from /tmp to the NFS 
mount.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On May 11, 2010, at 10:38 AM, Germain Maurice wrote:

&gt; But the "somewhere" has to be writable by "riak" user, that's the "problem. :)
&gt; 
&gt; Le 10/05/10 14:16, Sean Cribbs a écrit :
&gt;&gt; NFS would be one of many ways to export the backup off of the node. You can 
&gt;&gt; also specify a filename on the command line when running `riak-admin backup` 
&gt;&gt; if you want to put it somewhere other than data/.
&gt;&gt; 
&gt;&gt; Sean Cribbs
&gt;&gt; Developer Advocate
&gt;&gt; Basho Technologies, Inc.
&gt;&gt; http://basho.com/
&gt;&gt; 
&gt;&gt; On May 10, 2010, at 6:51 AM, Germain Maurice wrote:
&gt;&gt; 
&gt;&gt; 
&gt;&gt;&gt; Hi everybody,
&gt;&gt;&gt; 
&gt;&gt;&gt; I have a two nodes cluster and i'm trying to backup it before making some 
&gt;&gt;&gt; tests.
&gt;&gt;&gt; The backup process does not want to start, here is the error i'm getting :
&gt;&gt;&gt; 
&gt;&gt;&gt; r...@couch1:~# riak-admin backup r...@10.0.0.40 riak /reiser/riak-backup 
&gt;&gt;&gt; node
&gt;&gt;&gt; Backing up (node 'r...@10.0.0.40') to '/reiser/riak-backup-r...@10.0.0.40'.
&gt;&gt;&gt; {"init terminating in 
&gt;&gt;&gt; do\_boot",{{badmatch,{error,{file\_error,[47,114,101,105,115,101,114,47,114,105,97,107,45,98,97,99,107,117,112,45|'r...@10.0.0.40'],eacces}}},[{riak\_kv\_backup,backup,3},{erl\_eval,do\_apply,5},{init,start\_it,1},{init,start\_em,1}]}}
&gt;&gt;&gt; init terminating in do\_boot ()
&gt;&gt;&gt; 
&gt;&gt;&gt; r...@couch1:~# riak-admin backup r...@10.0.0.40 riak /reiser/riak-backup all
&gt;&gt;&gt; Backing up (all nodes) to '/reiser/riak-backup'.
&gt;&gt;&gt; ...from ['r...@10.0.0.40','r...@10.0.0.41']
&gt;&gt;&gt; {"init terminating in 
&gt;&gt;&gt; do\_boot",{{badmatch,{error,{file\_error,"/reiser/riak-backup",eacces}}},[{riak\_kv\_backup,backup,3},{erl\_eval,do\_apply,5},{init,start\_it,1},{init,start\_em,1}]}}
&gt;&gt;&gt; init terminating in do\_boot ()
&gt;&gt;&gt; 
&gt;&gt;&gt; My consoles on a each don't throw any errors.
&gt;&gt;&gt; 
&gt;&gt;&gt; Just before sending this email, i found the solution :
&gt;&gt;&gt; -&gt; the system user of riak process has to have permission of creating the 
&gt;&gt;&gt; backup file, /reiser/riak/backup-file in my case.
&gt;&gt;&gt; /reiser/riak contains /reiser/riak/ring /reiser/riak/innostore ...
&gt;&gt;&gt; 
&gt;&gt;&gt; If i want to export this backup outside of the node, i expect i have to use 
&gt;&gt;&gt; NFS mount point.
&gt;&gt;&gt; Do you agree with it ?
&gt;&gt;&gt; 
&gt;&gt;&gt; Thanks
&gt;&gt;&gt; --
&gt;&gt;&gt; 
&gt;&gt;&gt; Germain Maurice
&gt;&gt;&gt; Administrateur Système/Réseau
&gt;&gt;&gt; Tel : +33.(0)1.42.43.54.33
&gt;&gt;&gt; 
&gt;&gt;&gt; http://www.linkfluence.net
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;&gt; 
&gt;&gt; 
&gt; 
&gt; 
&gt; -- 
&gt; Germain Maurice
&gt; Administrateur Système/Réseau
&gt; Tel : +33.(0)1.42.43.54.33
&gt; 
&gt; http://www.linkfluence.net
&gt; 
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

