---
title: "erlang client"
description: ""
project: community
lastmod: 2015-02-01T10:36:12-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15624"
author_name: "Michael Martin"
project_section: "mailinglistitem"
sent_date: 2015-02-01T10:36:12-08:00
---


Hello, I'm working on a little e2 application that needs to put/get data 
to/from riak. I apparently have a misunderstanding

about some things.

I can successfully put and get key-value pairs to a bucket using the 
erlang client. However, when I try to curl the
data out, I get nothing. In fact, doing curl -X GET 
"http://riak1:8098/riak?buckets=true" returns '{"buckets":[]}'.

Ditto for curl -X GET "http://192.168.29.11:8098/buckets?buckets=true".

In my application, though, I can do this:

8&gt; Object = riakc\_obj:new(&lt;&lt;"testbucket"&gt;&gt;, &lt;&lt;"testkey"&gt;&gt;, 
&lt;&lt;"testdata"&gt;&gt;). {riakc\_obj,&lt;&lt;"testbucket"&gt;&gt;,&lt;&lt;"testkey"&gt;&gt;,undefined,[],

 undefined,&lt;&lt;"testdata"&gt;&gt;}
9&gt; riakc\_pb\_socket:put(Pid, Object).
ok
10&gt; riakc\_pb\_socket:get(Pid, &lt;&lt;"testbucket"&gt;&gt;, &lt;&lt;"testkey"&gt;&gt;).
{ok,{riakc\_obj,&lt;&lt;"testbucket"&gt;&gt;,&lt;&lt;"testkey"&gt;&gt;,
&lt;&lt;107,206,97,96,96,96,204,96,202,5,82,28,202,156,255,126,
 238,185,94,62,53,131,41,...&gt;&gt;,
 [{{dict,2,16,16,8,80,48,
 {[],[],[],[],[],[],[],[],[],[],[],[],...},
 {{[],[],[],[],[],[],[],[],[],[],...}}},
 &lt;&lt;"testdata"&gt;&gt;}],
 undefined,undefined}}
11&gt; riakc\_pb\_socket:list\_buckets(Pid).
{ok,[&lt;&lt;"tb1"&gt;&gt;,&lt;&lt;"testbucket"&gt;&gt;]}

So what is the difference between the two? How can I use curl (or any 
other client) to see the buckets, and retrieve

data?

Thanks,
Michael Martin


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

