---
title: "Re: Riak search - Possible to update one specific field of given doc?"
description: ""
project: community
lastmod: 2011-10-26T08:18:36-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05320"
mailinglist_parent_id: "msg05313"
author_name: "Rusty Klophaus"
project_section: "mailinglistitem"
sent_date: 2011-10-26T08:18:36-07:00
---


Hi Alex,

Good question. Internally, Riak treats the document as one large blob. There
is currently no way to update only a single field independently of the other
fields.

Best,
Rusty

On Tue, Oct 25, 2011 at 3:39 PM, Alex Dong  wrote:

&gt; Hi list,
&gt;
&gt; We're evaluating the riak search to see whether we can replace our solr
&gt; cluster with riak search. I'm wondering whether it's possible to update
&gt; only specified field for a given document.
&gt;
&gt; Here is the use case. For each document, we have a field called "users"
&gt; which is a whitespace separated list of integer user ids. The doc might look
&gt; like this:
&gt;
&gt; {
&gt; doc\_id: 182,
&gt; title: 'Riak search explained',
&gt; url: '
&gt; http://basho.com/blog/technical/2011/05/09/Riak-Search-Explained/',
&gt; users: 1 23 32 1998
&gt; }
&gt;
&gt; This enables us to do a global search as well as scoped searches by
&gt; specifying only documents coming out from one or a few users. Like this
&gt;
&gt; /?q="Riak+search"
&gt; /?q="Riak+search"+users:1
&gt; /?q="Riak+search"+users:1+users:1998
&gt;
&gt; In solr, one has to reindex the whole document everytime a new user needs
&gt; to be added to it. This has brought some unnecessary burden to the indexer
&gt; for super popular documents.
&gt;
&gt; Now with Riak's search infrastructure, I'm wondering how easy it is to
&gt; support "update only one field"?
&gt;
&gt; Best,
&gt; Alex
&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;



-- 
Rusty Klophaus (@rustyio)

\*Basho Technologies, Inc.\*
www.basho.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

