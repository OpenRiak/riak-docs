---
title: "Re: Riak node down after ssd failure"
description: ""
project: community
lastmod: 2014-03-19T09:33:50-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13845"
mailinglist_parent_id: "msg13843"
author_name: "Evan Vigil-McClanahan"
project_section: "mailinglistitem"
sent_date: 2014-03-19T09:33:50-07:00
---


This is also an option. If you're running AAE, it will speed up the
repair process, so you likely don't need to do a manual repair.

On Wed, Mar 19, 2014 at 6:13 AM, Sajner, Daniel G  wrote:
&gt; Hi.
&gt;
&gt;
&gt;
&gt; I've had success replacing the server with the same name/ip and the
&gt; identical configuration of the previous server (minus the data). At that
&gt; point start riak and join the node back into the cluster from the new
&gt; server. This will start a bunch of transfers of meta data to get the empty
&gt; node to know about the data is should have.
&gt;
&gt;
&gt;
&gt; At that point you could wait for read repairs to eventually repopulate the
&gt; node (not a great idea) or force a read repair.
&gt; http://docs.basho.com/riak/latest/ops/running/recovery/repairing-partitions/
&gt;
&gt;
&gt;
&gt; Regards,
&gt;
&gt; Dan
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; From: riak-users [mailto:riak-users-boun...@lists.basho.com] On Behalf Of
&gt; Edgar Veiga
&gt; Sent: Tuesday, March 18, 2014 5:20 PM
&gt; To: Evan Vigil-McClanahan
&gt; Cc: riak-users@lists.basho.com
&gt; Subject: Re: Riak node down after ssd failure
&gt;
&gt;
&gt;
&gt; Thanks Evan!
&gt;
&gt;
&gt;
&gt; Is it really imperative that the name should be != than the old one?
&gt;
&gt;
&gt;
&gt; Best regards
&gt;
&gt; --
&gt; Sent from my iPhone
&gt;
&gt;
&gt;
&gt; On Tue, Mar 18, 2014 at 8:47 PM, Evan Vigil-McClanahan
&gt;  wrote:
&gt;
&gt; Probably the easiest thing would be to wait until the new machine is
&gt; ready to join, add it with a nodename distinct from that of the last
&gt; one, and force-replace the new node for the old, dead one.
&gt;
&gt; On Tue, Mar 18, 2014 at 1:03 PM, Edgar Veiga  wrote:
&gt;&gt; Hello all!
&gt;&gt;
&gt;&gt; I have a 6 machine cluster with leveldb as backend, using riak 1.4.8
&gt;&gt; version.
&gt;&gt;
&gt;&gt; Today, the ssd of one of the machine's has failed and is not recoverable,
&gt;&gt; so
&gt;&gt; I have already ordered a new one that should arrive by thursday!
&gt;&gt;
&gt;&gt; In the meanwhile what should I do? I have no backup of the old ssd data...
&gt;&gt; Should I remove the machine of the cluster and when the new ssd arrives
&gt;&gt; join
&gt;&gt; the machine again?
&gt;&gt;
&gt;&gt; Best regards!
&gt;&gt;
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;
&gt;
&gt;
&gt;
&gt; Confidentiality Notice: This electronic message transmission, including any
&gt; attachment(s), may contain confidential, proprietary, or privileged
&gt; information from Chemical Abstracts Service ("CAS"), a division of the
&gt; American Chemical Society ("ACS"). If you have received this transmission in
&gt; error, be advised that any disclosure, copying, distribution, or use of the
&gt; contents of this information is strictly prohibited. Please destroy all
&gt; copies of the message and contact the sender immediately by either replying
&gt; to this message or calling 614-447-3600.

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

