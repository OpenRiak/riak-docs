---
title: "Re: Basic Setup Question - Mac OS X"
description: ""
project: community
lastmod: 2012-08-11T11:40:20-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08268"
mailinglist_parent_id: "msg08267"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2012-08-11T11:40:20-07:00
---


Not only do they all need unique names, like you've done already, but they will 
also need different ports. Look through the app.conf file and make all the 
ports unique between your local nodes (http/https/pb/etc.).

-Alexander Sicular

@siculars

On Aug 11, 2012, at 5:00 AM, Michael Hergenrader wrote:

&gt; Hi everyone,
&gt; 
&gt; I'm new to Riak and am attempting to start up a 3-node cluster on one machine 
&gt; (Mac OS X Mountain Lion) for Riak via 
&gt; http://wiki.basho.com/Basic-Cluster-Setup.html
&gt; 
&gt; I downloaded and expanded the tarball for Riak 1.2 (no source to build, nice 
&gt; and clean expansion). I then was able to get a single node running no 
&gt; problem, with no special configuration. My Erlang version is R15B05, if 
&gt; you're curious, but I don't think this has anything to do with it, as 1.2 is 
&gt; fully supportive of this version.
&gt; 
&gt; I then recursively copied the directory riak-1.2.0 (the expanded tarball 
&gt; file) three times to create top level directories riak1, riak2, and riak3. I 
&gt; then proceeded to make the suggested changes from the link, changing the port 
&gt; numbers to be unique for each instance. However, when I changed the vm.args 
&gt; part (the name of the node from riak@127.0.0.1 to riak1@127.0.0.1 and the 
&gt; like) from the link, I received the following error in the error.log file:
&gt; 
&gt; 2012-08-09 01:21:04.288 [error] &lt;0.161.0&gt; gen\_server riak\_core\_capability 
&gt; terminated with reason: no function clause matching 
&gt; orddict:fetch('riak1@127.0.0.1', 
&gt; [{'riak@127.0.0.1',[{{riak\_core,staged\_joins},[true,false]},{{riak\_core,vnode\_routing},[proxy,legacy]},...]}])
&gt; line 72
&gt; 
&gt; When renaming the node in vm.args (the -name param) back to riak instead of 
&gt; riak[new\_number], everything works fine. However, as specified in the link, 
&gt; the nodes need to have different names to cooperate with one another. As 
&gt; shown in the error log, it seems like there is a name mismatch with something 
&gt; else when I customize the name...? Is there some other config parameter that 
&gt; I haven't seen that must be changed? I tried "raw\_name" in app.config, but 
&gt; this didn't make any difference. I appreciate any help I can get with this 
&gt; one. Thanks!
&gt; 
&gt; Michael
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

