---
title: "Re: newbie data modeling questions"
description: ""
project: community
lastmod: 2012-05-01T09:26:17-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07358"
mailinglist_parent_id: "msg07355"
author_name: "Daniil Churikov"
project_section: "mailinglistitem"
sent_date: 2012-05-01T09:26:17-07:00
---


I think i was wrong little bit. You will have to make 2 indexes for such
types of query:
1) built in index with special name &lt;&lt;"$key"&gt;&gt; will be Mac + timestamp, you
will be able to find all objects for device foo between timestamp bar and
baz:
C:get\_index(Bucket, {range, &lt;&lt;"$key"&gt;&gt;, &lt;&lt;"001122AABBCC-0001",
KeyFrom/binary&gt;&gt;, &lt;&lt;"001122AABBCC-0001", KeyTo/binary&gt;&gt;}).
2) make a vice-versa index &lt;&gt; and by this index you could find all objects
for \*any\* device between timestamp bar and baz.
Also as it will be putted into one bucket you could easily manage N, R, W
props for this bucket, rather dynamicly do sanity checks.

--
View this message in context: 
http://riak-users.197444.n3.nabble.com/newbie-data-modeling-questions-tp3951726p3953205.html
Sent from the Riak Users mailing list archive at Nabble.com.

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

