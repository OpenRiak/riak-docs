---
title: "Re: Associating a schema with a bucket?"
description: ""
project: community
lastmod: 2011-08-24T01:46:51-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04444"
mailinglist_parent_id: "msg04435"
author_name: "Fyodor Yarochkin"
project_section: "mailinglistitem"
sent_date: 2011-08-24T01:46:51-07:00
---


On Wed, Aug 24, 2011 at 10:08 AM, Adam J. O'Donnell
 wrote:
&gt; Hey guys
&gt;
&gt; I have been reading up on Riak, and it is not quite clear to me how
&gt; you associate a schema for Solr with a given bucket.  I understand
&gt; that you can associate a schema with an index name, but how does that
&gt; tie back to a Riak KV bucket?

Correct me if I am wrong, but here is my observation:

from code:
riak\_search\_kv\_hook.erl
-spec make\_index(riak\_object()) -&gt; binary().
make\_index(RiakObject) -&gt;
 riak\_object:bucket(RiakObject).

from doc: http://wiki.basho.com/Riak-Search---Schema.html
"..
The schema definition for an index is stored in the Riak bucket
\_rs\_schema, with a key of the same name as the index. For example, the
schema for the “books” index is stored under \_rs\_schema/books
.."

so I guess the Index name is basically your Riak KV bucket name. (and
pre-commit hook should be installed on that bucket).

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

