---
title: "Re: Performance problem: put operation takes seconds"
description: ""
project: community
lastmod: 2013-07-22T05:57:52-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11676"
mailinglist_parent_id: "msg11675"
author_name: "Christian Dahlqvist"
project_section: "mailinglistitem"
sent_date: 2013-07-22T05:57:52-07:00
---


Hello,

Please can you attach your app.config and vm.args files as well as a zipped up 
log directory from one of the nodes?

Best regards,

Christian


On 22 Jul 2013, at 12:40, ks  wrote:

&gt; Hi there,
&gt; 
&gt; We're using Riak 1.3.1 cluster with 3 nodes (CentOS 64-bit, Intel® Xeon®
&gt; E3-1245 Quadcore, 16 GB DDR3 RAM ECC, 2 x 3 TB SATA 6 Gb/s HDD 7200 rpm
&gt; (Software-RAID 1)) connected to the same 10 Gb router.
&gt; 
&gt; We hold lot of small key-value pairs in the database and do about 500 get
&gt; operations and about 500 put requests per second via Java client library
&gt; from different client machines.
&gt; 
&gt; The problem is that 95% percentile (according to Riak statistics) often
&gt; jumps up to 50000 ms for a couple of minutes. This is something quite far
&gt; from we expected in terms of performance.
&gt; 
&gt; We've tried setting the options in
&gt; http://docs.basho.com/riak/latest/cookbooks/Linux-Performance-Tuning/
&gt; (except for noatime flag). But anyway, 50 seconds put timeout is something
&gt; outstanding and I hardly believe noatime is a remedy.
&gt; 
&gt; Log files appeared to be somewhat unclear to track down the problem. 
&gt; 
&gt; Is there anything else we can try?
&gt; 
&gt; Thanks a lot!
&gt; 
&gt; 
&gt; 
&gt; --
&gt; View this message in context: 
&gt; http://riak-users.197444.n3.nabble.com/Performance-problem-put-operation-takes-seconds-tp4028478.html
&gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

