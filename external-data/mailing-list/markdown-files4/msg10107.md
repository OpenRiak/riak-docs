---
title: "Re: Tune Riak for fast inserts - populate DB"
description: ""
project: community
lastmod: 2013-02-13T00:03:29-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10107"
mailinglist_parent_id: "msg10106"
author_name: "Russell Brown"
project_section: "mailinglistitem"
sent_date: 2013-02-13T00:03:29-08:00
---


Hi,

On 13 Feb 2013, at 07:37, Bogdan Flueras  wrote:

&gt; Hello all,
&gt; I've got a 5 node cluster with Riak 1.2.1, all machines are multicore,
&gt; with min 4GB RAM.
&gt; 
&gt; I want to insert something like 50 million records in Riak with the java 
&gt; client (Protobuf used) with default settings. I've tried also with HTTP 
&gt; protocol and set w = 1 but got some problems.
&gt; 
&gt; However the process is very slow: it doesn't write more than 6GB/ hour or 
&gt; aprox. 280 KB/second. 
&gt; To have all my data filled in, it would take aprox 2 days !!
&gt; 
&gt; What can I do to have the data filled into Riak ASAP? 
&gt; How should I configure the cluster ? (vm.args/ app.config) I don't care so 
&gt; much about consistency at this point.

If you are certain to be only inserting new data setting your bucket(s) to last 
write wins will speed things up. Also, are you using multiple threads for the 
Java client insert? Spreading the load across all five nodes? Are you using the 
"withoutFetch()" option on the java client?

Cheers

Russell

&gt; 
&gt; Thank you,
&gt; ing. Bogdan Flueras
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

