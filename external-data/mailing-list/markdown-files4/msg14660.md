---
title: "Re: Cluster aware clients"
description: ""
project: community
lastmod: 2014-08-15T06:20:09-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14660"
mailinglist_parent_id: "msg14657"
author_name: "Paul Barry"
project_section: "mailinglistitem"
sent_date: 2014-08-15T06:20:09-07:00
---


We’ve been using Riak with Java client for more than two years in production, 
and best solution is ha-proxy.
Your Java client connects to one ha-proxy, configured for round-robin to all 
the nodes. We run ha-proxy on our front-ends, so clients always connect to 
localhost.

If you’re planning to add or remove a node, just reconfigure ha-proxy and 
reload it (instant with no down-time).
ha-proxy also gives you much better control over how unexpected failures are 
dealt with automatically.

pb

On 15 Aug 2014, at 13:19, Simon Hartley  wrote:

&gt; Hi,
&gt; 
&gt; So I’m writing a Java client app. I’m running a 5 node Riak cluster and I 
&gt; want my client to know about all the nodes to avoid single points of failure.
&gt; 
&gt; Is there a best practice for automatically updating clients when new nodes 
&gt; are added to a cluster?




signature.asc
Description: Message signed with OpenPGP using GPGMail
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

