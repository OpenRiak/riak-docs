---
title: "Re: Incorect Input to Reduce"
description: ""
project: community
lastmod: 2011-11-30T07:02:02-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05805"
mailinglist_parent_id: "msg05802"
author_name: "Jonathan Langevin"
project_section: "mailinglistitem"
sent_date: 2011-11-30T07:02:02-08:00
---


The reduce phase receives data in batches. Per the docs, the default size
is for every 20 inputs, reduce.
The batch size can be tuned via config or per m/r request.

Re: 13, likely what you're seeing is the length of the last phase sent to
reduce. It seems if I return [values.length], I get just the last set that
processed, whereas returning [values] gives me all results concatenated.
I'd expect that I'd get length concatenated multiple times, but I must not
be formatting the response properly.

Regarding tuning (batch size):
http://wiki.basho.com/MapReduce.html#Configuration-Tuning-for-Reduce-Phases

 
\* Jonathan Langevin
Manager, Information Technology
Loom Inc.
Wilmington, NC: (910) 241-0433 - jlange...@loomlearning.com -
www.loomlearning.com - Skype: intel352 \*



On Wed, Nov 30, 2011 at 9:03 AM, Yehuda Zargrov  wrote:

&gt; Hi,\*\*\*\*
&gt;
&gt; \*\* \*\*
&gt;
&gt; I’ve posted a mail on this few days ago, but went a bit further since then.
&gt; \*\*\*\*
&gt;
&gt; \*\* \*\*
&gt;
&gt; I’m using ripple, running a map function on some input and getting a list
&gt; of about 50 items.\*\*\*\*
&gt;
&gt; \*\* \*\*
&gt;
&gt; Right after that, I’m running a reduce function. The first thing I do in
&gt; it is putting the length of v (the input) as an item in a list.\*\*\*\*
&gt;
&gt; \*\* \*\*
&gt;
&gt; When printing the result I see that the length is 13.\*\*\*\*
&gt;
&gt; \*\* \*\*
&gt;
&gt; It’s like something has happened between the map and reduce phases.\*\*\*\*
&gt;
&gt; \*\* \*\*
&gt;
&gt; Any ideas?\*\*\*\*
&gt;
&gt; \*\* \*\*
&gt;
&gt; \*\*\*\*
&gt;
&gt; [image: Description:
&gt; C:\Users\Yehuda\AppData\Roaming\Microsoft\Signatures\logo.gif]\*\*\*\*
&gt;
&gt; \*Yehuda Zargrov\*\*
&gt; \*Software Engineer\*\*\*\*
&gt;
&gt; \*Conduit Your Site\* \*\*\*\*
&gt;
&gt; \*t:\* 972.8.9461713 ext +314 | \*m:\* +972503473119 | \*f:\* +97286382140
&gt; \*\*\*\*
&gt;
&gt;
&gt; This message may contain confidential and/or privileged information. It is
&gt; intended to be read only by the individual or entity to whom it is
&gt; addressed or by their designee.
&gt; If the reader of this message is not the intended recipient, you are on
&gt; notice that any uses, copy, disclose or distribution of this message, in
&gt; any form, is strictly prohibited.
&gt; If you have received this message in error, please notify the sender by
&gt; reply email or by telephone and delete or destroy any copy of this message.
&gt; Thank you.
&gt;
&gt; \*\*\*\*
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

