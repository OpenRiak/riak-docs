---
title: "Re: my performance numbers are low"
description: ""
project: community
lastmod: 2013-08-30T11:24:29-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12178"
mailinglist_parent_id: "msg12177"
author_name: "Jared Morrow"
project_section: "mailinglistitem"
sent_date: 2013-08-30T11:24:29-07:00
---


Riak is not meant to be on a single server. With the default settings, you
are writing three copies of every key to disk instead of one. Comparing
Riak to Couch on a single server is like comparing apples to oranges. Here
is a better comparison of Riak v. Couch
http://docs.basho.com/riak/latest/theory/comparisons/couchdb/.

We typically recommend testing Riak out on 5 nodes. Searching riak-users
will dig up some ways to adjust the n\_val and ring\_size to better model
Riak on a single node if testing on multiple nodes is not possible.

-Jared


On Fri, Aug 30, 2013 at 12:07 PM, akonsu  wrote:

&gt; I installed Riak on my development machine (32 bit Lubuntu 13.04), and ran
&gt; stress test on it using siege (http://www.joedog.org/siege-home/). The
&gt; test is just a series of concurrent HTTP requests:
&gt;
&gt; file riak-benchmark.siege:
&gt;
&gt; http://127.0.0.1:8098/riak/tweets/test PUT &lt;./sample-tweet.json
&gt;
&gt; where sample-tweet.json is a file with a sample tweet from twitter.com
&gt;
&gt; and this is the command that I ran using the above file:
&gt;
&gt; siege -c200 -r1000 --header"Content-Type: application/json"
&gt; -friak-benchmark.siege
&gt;
&gt;
&gt;
&gt; I did the same with CouchDB, but using this file:
&gt;
&gt; http://127.0.0.1:5984/tweets POST &lt;./sample-tweet.json
&gt;
&gt;
&gt; I got the numbers below. Transaction rate for CouchDB is much larger than
&gt; that for Riak. I must be doing something wrong. I have just started looking
&gt; at Riak, I have not changed any settings, except for I enabled SSL and
&gt; riak-control. I have started one node and did not configure a cluster.
&gt; Using the default back-end.
&gt;
&gt; Would appreciate any advice on how to get the numbers higher.
&gt;
&gt; couchdb:
&gt;
&gt; Transactions: 200000 hits
&gt; Availability: 100.00 %
&gt; Elapsed time: 634.41 secs
&gt; Data transferred: 18.12 MB
&gt; Response time: 0.09 secs
&gt; Transaction rate: 315.25 trans/sec
&gt; Throughput: 0.03 MB/sec
&gt; Concurrency: 27.04
&gt; Successful transactions: 200000
&gt; Failed transactions: 0
&gt; Longest transaction: 2.48
&gt; Shortest transaction: 0.00
&gt;
&gt;
&gt; riak:
&gt;
&gt; Transactions: 200000 hits
&gt; Availability: 100.00 %
&gt; Elapsed time: 1529.91 secs
&gt; Data transferred: 0.00 MB
&gt; Response time: 0.99 secs
&gt; Transaction rate: 130.73 trans/sec
&gt; Throughput: 0.00 MB/sec
&gt; Concurrency: 129.95
&gt; Successful transactions: 200000
&gt; Failed transactions: 0
&gt; Longest transaction: 3.90
&gt; Shortest transaction: 0.00
&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

