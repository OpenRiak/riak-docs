---
title: "Re: Structured data"
description: ""
project: community
lastmod: 2010-08-03T17:31:01-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00837"
mailinglist_parent_id: "msg00836"
author_name: "Kevin Smith"
project_section: "mailinglistitem"
sent_date: 2010-08-03T17:31:01-07:00
---



On Aug 3, 2010, at 8:10 PM, James Sadler wrote:


&gt; 
&gt; I'm talking about creating something new
&gt; here, on top of riak\_core. My questions are about the feasibility of
&gt; whether I could extend riak\_core to be able to handle these
&gt; situations. 




If you are truly considering doing this then it is entirely feasible. riak\_core 
contains the components Riak uses to coordinate its distributed processing and 
nothing else. It's better to think of riak\_core as a toolkit than a framework. 
There are still a number of items you have to write yourself in order to get a 
functioning datastore including but not limited to:

\* Persistence -- either reuse an existing Riak backend, like bitcask, or roll 
your own. This goes hand-in-hand with writing your own vnodes, too.
\* Sibling values -- Riak's object merging logic is specific to the key/value 
store so you'd need to roll your own
\* Hinted handoff protocol -- riak\_core provides the hooks, in the form of 
callback functions, for handoff processing.
\* Client APIs -- both the HTTP and protocol buffers interfaces are part of 
key/value not core
\* Fetching/storing/querying -- For now all of this logic is tied to the 
operation of the key/value store. You'll need to write your own replacements. 
See riak\_kv\_get\_fsm, riak\_kv\_put\_fsm for examples of the kind of code necessary.

I hope this helps clarify what's required to build a system on top of riak\_core.

--Kevin
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

