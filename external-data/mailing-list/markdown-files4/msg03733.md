---
title: "Re: Problem with deleting keys"
description: ""
project: community
lastmod: 2011-06-16T11:10:50-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03733"
mailinglist_parent_id: "msg03727"
author_name: "David Leimbach"
project_section: "mailinglistitem"
sent_date: 2011-06-16T11:10:50-07:00
---


On Thu, Jun 16, 2011 at 10:24 AM, Andrew Thompson wrote:

&gt; On Thu, Jun 16, 2011 at 09:24:28AM -0700, David Leimbach wrote:
&gt; &gt; Riak doesn't have tombstones (as far as I know) so, you have to make sure
&gt; &gt; all your nodes are up to do a delete. This, to me, seems like a
&gt; misfeature.
&gt; &gt;
&gt;
&gt; Please read my other responses in this thread, riak absolutely \*does\*
&gt; have tombstones. And if you don't have all the primary nodes for a key
&gt; up at the time of a delete, you'll write tombstones they just won't be
&gt; able to trigger an actual removal of the key.
&gt;

 I'm very glad to be incorrect. And this is excellent information. So
thanks!


&gt;
&gt; Now, that said. 0.14 has several bugs in how delete works and so the
&gt; behaviour is probably going to be unpredictable. To be perfectly honest,
&gt; I recommend avoiding deletes where possible on 0.14. As you suggested,
&gt; implementing tombstones at the application layer might be a better
&gt; strategy until the next major riak release. Unfortunately, the changes
&gt; were too extensive to be backported into the 0.14 branch.
&gt;

Understood. The behavior of 0.14 made me think we didn't have tombstones,
but then I guess one can always ask :-).

Dave


&gt;
&gt; Andrew
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

