---
title: "flow_timeout and js_vm_count"
description: ""
project: community
lastmod: 2010-04-28T08:13:08-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00196"
author_name: "Colin Surprenant"
project_section: "mailinglistitem"
sent_date: 2010-04-28T08:13:08-07:00
---


Hi,

For the record, in case someone else run into the same problem: after
adding a bit more processing logic into a javascript mapper my
mapreduce jobs started generating flow\_timeout errors like these:

=ERROR REPORT==== 27-Apr-2010::16:36:30 ===
\*\* State machine &lt;0.321.0&gt; terminating
\*\* Last message in was flow\_timeout
\*\* When State == executing
\*\* Data == {state,27732273,
 [&lt;0.324.0&gt;,&lt;0.323.0&gt;,&lt;0.322.0&gt;],
 &lt;0.90.0&gt;,66000,
 {1272400589779374,#Ref&lt;0.0.0.773&gt;},
 []}
\*\* Reason for termination =
\*\* flow\_timeout

The problem was solved by cranking the number of javascript vms
"js\_vm\_count" from 8 to 16 in the etc/app.config file. This is with
Riak 0.9.1.

I'd suggest, if possible, to try to generate a slightly more
insightful error message when this happens.

Thanks,
Colin

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

