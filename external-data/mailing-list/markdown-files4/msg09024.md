---
title: "Re: riak cluster mitosis"
description: ""
project: community
lastmod: 2012-10-23T07:08:03-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09024"
mailinglist_parent_id: "msg08967"
author_name: "Simon Vans-Colina"
project_section: "mailinglistitem"
sent_date: 2012-10-23T07:08:03-07:00
---


Hi David, Matt,

We've just discussed this and its a bit tricky. For 4 servers with N=3 it
is possible to stop 2 nodes, (say 3 and 4) and then send a "force-remove"
command to the remaining servers (1 and 2).

Then you could start (3 and 4), and send \*them\* a force-remove of (1 and 2).

This is risky because you're only guaranteed one replica of the data on
each of the new clusters.

The other risk is that new data written to (1 and 2) will not be replicated
over to (3 and 4). Are you planning on re-joining the cluster back up
afterwards?

There's better ways than doing "mitotis" (although i love the name). Look
into Multi Data Center Replication, or just add new nodes and do a
force-replace. If the data is small enough, you could use the backup commn

Hope i got this right, i'm quite new to this myself.

Cheers

On Thu, Oct 18, 2012 at 10:35 PM, David Lowell  wrote:

&gt; If I have a cluster of say, 4 nodes, is it possible to split that cluster
&gt; into two clusters of 2 nodes, each with a full complement of the original
&gt; cluster's data, while the data is continuously being served? Obviously, we
&gt; would require that the data be small enough to fit on 2 nodes.
&gt;
&gt; Thanks for your help,
&gt;
&gt; Dave
&gt;
&gt; --
&gt; Dave Lowell
&gt; d...@connectv.com
&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;


-- 
Simon Vans-Colina - Client Services Engineer - Basho

Tel:+44 744 791 4640
Twitter: @simonvc
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

