---
title: "Re: [RFC] Python client: move to properties"
description: ""
project: community
lastmod: 2011-09-14T06:44:26-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04698"
mailinglist_parent_id: "msg04694"
author_name: "Kev Burns"
project_section: "mailinglistitem"
sent_date: 2011-09-14T06:44:26-07:00
---


Riak 1.0 is coming soon.
Perhaps it makes sense for client point releases to coincide with server
point releases?

- Kev
c: +001 (650) 521-7791


On Wed, Sep 14, 2011 at 4:37 AM, Mathias Meyer  wrote:

&gt; The short answer: yes, we can and we should. I had that on my radar for a
&gt; while too, because it felt un-Pythonic.
&gt;
&gt; As for deprecation, there's no specific rule for the Python client yet. I'm
&gt; happy to accept a patch for it for e.g. a version of the client 1.4.0 with
&gt; an announcement that support for these getters/setters will be removed in
&gt; said version. I'm not a fan of removing things in patch versions myself, but
&gt; that's certainly up for discussion. The Python client is quite old and has
&gt; come a long way, so I'm all for getting rid of the cruft that came with it.
&gt;
&gt; Cheers, Mathias
&gt;
&gt;
&gt;
&gt;
&gt; On Mittwoch, 14. September 2011 at 13:30, Greg Stein wrote:
&gt;
&gt; &gt; Hi all,
&gt; &gt;
&gt; &gt; There are some non-Pythonic patterns in riak-python-client that should
&gt; &gt; be pretty easy to switch. Things like client.get\_r() and
&gt; &gt; client.set\_r() are kinda silly. Python long ago moved past the
&gt; &gt; getter/setter paradigm, with the notion of directly exposing instance
&gt; &gt; attributes. As Guido has said numerous times, "we're all adults here",
&gt; &gt; so we don't need to wrap simple attribute access/change in methods
&gt; &gt; which do exactly that anyways. Just allow apps to directly change it,
&gt; &gt; since the developers doing that \*are\* adults and know what they're
&gt; &gt; doing.
&gt; &gt;
&gt; &gt; For something like bucket.get\_r()... first: it should not have a
&gt; &gt; damned argument that is returned if you pass in a value. That is
&gt; &gt; nonsense. Don't call the function if you're going to pass an argument!
&gt; &gt; The remaining logic looks at a local value, or defers to the client
&gt; &gt; default value. We can make "bucket.r" a property, and create a getter
&gt; &gt; that does the right thing. Applications can then use "bucket.r" and
&gt; &gt; they will get the right logic, rather than the messier
&gt; &gt; "bucket.get\_r()".
&gt; &gt;
&gt; &gt; There are similar changes throughout (eg. get\_transport).
&gt; &gt;
&gt; &gt; But... this goes back to a question that I've raised earlier: what
&gt; &gt; kinds of API guarantees are being made on the interface? Can we simply
&gt; &gt; get rid of the .get\_r() method? If we choose to do so, is there a
&gt; &gt; deprecation policy? With a policy in place, then it would be easier
&gt; &gt; for me (and others) to provide patches, knowing that they conform to
&gt; &gt; compatibility requirements. As it stands, I'd be happy to code a
&gt; &gt; patch, but am wary that my effort would be rejected per some
&gt; &gt; (unstated) policy.
&gt; &gt;
&gt; &gt; I don't know how much of a compatibility policy lies with Basho or the
&gt; &gt; community. Dunno how to help there.
&gt; &gt;
&gt; &gt; And back to the start: can we get the code simplified, and move
&gt; &gt; towards properties?
&gt; &gt;
&gt; &gt; Cheers,
&gt; &gt; -g
&gt; &gt;
&gt; &gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

