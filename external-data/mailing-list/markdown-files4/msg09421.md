---
title: "Riak bugs with indexes?"
description: ""
project: community
lastmod: 2012-12-04T14:37:07-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09421"
author_name: "Shuhao"
project_section: "mailinglistitem"
sent_date: 2012-12-04T14:37:07-08:00
---



Hi,

I'm aware that Riak could handle multiple index values... what I didn't 
know until this point is that the multiple index values are separated 
using the CSV format (specifically, without looking through the riak 
source code, I believe it's being separated with ", ")


Here are some sample outputs (I'm using the requests module from 
python). Pretend I'm storing an object with a 2i field of test\_bin 
mapped to a value of "value1, stillvalue1"


&gt;&gt;&gt; requests.post("http://localhost:8098/riak/test/test", data="hello 
world", headers={"Content-Type": "text/plain", "X-Riak-Index-test\_bin": 
"value1, stillvalue1"})


&gt;&gt;&gt; r = 
requests.get("http://localhost:8098/buckets/test/index/test\_bin/value1%2C%20stillvalue1")

&gt;&gt;&gt; r.content
'{"keys":[]}'
&gt;&gt;&gt; r = 
requests.get("http://localhost:8098/buckets/test/index/test\_bin/value1")

&gt;&gt;&gt; r.content
'{"keys":["test"]}'

Cheers,

Shuhao

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

