---
title: "RE: Having trouble setting up riak-cs using s3cmd to test"
description: ""
project: community
lastmod: 2019-04-23T07:58:16-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18613"
mailinglist_parent_id: "msg18612"
author_name: "Nicholas Adams"
project_section: "mailinglistitem"
sent_date: 2019-04-23T07:58:16-07:00
---


Hi Greg,
I’m guessing that something isn’t running. Try the following (without the back 
checks) and see if you get “pong” for each one:
`riak ping`
`riak-cs ping`
`stanchion ping`

You may or may not need `sudo` to execute the above depending on the user you 
are using.

Incidentally, your s3cfg file looks incredibly short. Here is my standard one:

 access\_key = admin.key
 bucket\_location = US
 cloudfront\_host = cloudfront.amazonaws.com
 cloudfront\_resource = /2010-07-15/distribution
 default\_mime\_type = binary/octet-stream
 delete\_removed = False
 dry\_run = False
 encoding = UTF-8
 encrypt = False
 follow\_symlinks = False
 force = False
 get\_continue = False
 gpg\_command = /usr/bin/gpg
 gpg\_decrypt = %(gpg\_command)s -d --verbose 
--no-use-agent --batch --yes --passphrase-fd %(passphrase\_fd)s -o 
%(output\_file)s %(input\_file)s
 gpg\_encrypt = %(gpg\_command)s -c --verbose 
--no-use-agent --batch --yes --passphrase-fd %(passphrase\_fd)s -o 
%(output\_file)s %(input\_file)s
 gpg\_passphrase =
 guess\_mime\_type = True
 host\_base = s3.amazonaws.com
 host\_bucket = %(bucket)s.s3.amazonaws.com
 human\_readable\_sizes = False
 list\_md5 = False
 log\_target\_prefix =
 preserve\_attrs = True
 progress\_meter = True
 proxy\_host = 127.0.0.1
 proxy\_port = 18080
 recursive = False
 recv\_chunk = 4096
 reduced\_redundancy = False
 secret\_key = admin.secret
 send\_chunk = 4096
 simpledb\_host = sdb.amazonaws.com
 skip\_existing = False
 socket\_timeout = 10
 urlencoding\_mode = normal
 use\_https = False
 verbosity = WARNING
 signature\_v2 = True

Of course, the admin.key and admin.secret are substituted out for appropriate 
values.

Finally, what version of s3cmd are you using? If 1.x then you should be fine. 
2.x is known to have a few difficulties with some functions but usually works. 
We are hoping to rectify that in Riak CS 2.2.0.

Hope this helps,

Nicholas

From: riak-users  On Behalf Of Greg Zoller
Sent: 23 April 2019 23:43
To: riak-users@lists.basho.com
Subject: Having trouble setting up riak-cs using s3cmd to test

Hello,

I'm following the instructions for the Docker-ized riak-cs. The Docker 
container runs and (appears) healthy.

I am now testing the install with s3cmd as described in the instructions. I 
installed s3cmd and am using this .s3cfg file: (the 2 keys I got from the 
running container's log output as instructed)

[default]
access\_key = Q9NKDXZJGAD2CZF3T4B7
host\_base = s3.amazonaws.dev
host\_bucket = %(bucket)s.s3.amazonaws.dev
proxy\_host = localhost
proxy\_port = 8080
secret\_key = 2aR\_IthHHYQpFGx8xP0z46ZyoQUsfzvSsTl4bA==
signature\_v2 = True

When I run a simple command like "s3cmd ls" I get this output:

WARNING: Retrying failed request: / (No status line received - the server has 
closed the connection)
WARNING: Waiting 3 sec...
WARNING: Retrying failed request: / (No status line received - the server has 
closed the connection)
WARNING: Waiting 6 sec...
^CSee ya!

Any ideas what I'm doing wrong?
Thanks,
Greg
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

