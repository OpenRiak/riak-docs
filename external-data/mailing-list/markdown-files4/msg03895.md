---
title: "Re: With Ruby Client, How to Test for Server Availability or Clear	All Data?"
description: ""
project: community
lastmod: 2011-06-30T18:37:39-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03895"
mailinglist_parent_id: "msg03891"
author_name: "Andrew Thompson"
project_section: "mailinglistitem"
sent_date: 2011-06-30T18:37:39-07:00
---


On Thu, Jun 30, 2011 at 06:43:40PM -0400, Keith Bennett wrote:
&gt; My problem is that it takes a little time after running riak start or stop 
&gt; for the operation to complete, and so I have to insert a sleep afterwards so 
&gt; that the next step in the code is not performed prematurely. Is there a way 
&gt; using the Ruby Riak client to know for sure whether or not riak is ready for 
&gt; action? I could loop every fraction of a second, or, if there were a blocking 
&gt; call, that would be even better.
&gt; 

I actually patched 'riak start' to block until riak starts in this
pull request (that slipped through the cracks on getting merged).

https://github.com/basho/riak/pull/26

'riak stop' already blocks, for the record. I'll also get that pull
request merged into master.

Andrew

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

