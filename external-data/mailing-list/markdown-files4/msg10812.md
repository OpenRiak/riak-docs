---
title: "Re: RiakCS configs and quoting of backends"
description: ""
project: community
lastmod: 2013-04-09T18:16:51-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10812"
mailinglist_parent_id: "msg10811"
author_name: "Reid Draper"
project_section: "mailinglistitem"
sent_date: 2013-04-09T18:16:51-07:00
---



On Apr 9, 2013, at 8:36 PM, Toby Corkindale 
 wrote:

&gt; On 10/04/13 01:04, Reid Draper wrote:
&gt;&gt; Hey Toby, comments inline:
&gt;&gt; 
&gt;&gt; On Apr 8, 2013, at 9:45 PM, Toby Corkindale
&gt;&gt;  wrote:
&gt;&gt; 
&gt;&gt;&gt; Hi, I think I've spotted an issue with the configuration snippets
&gt;&gt;&gt; given on both these pages, relating to configuring Riak CS.. but it
&gt;&gt;&gt; might just be my misunderstanding of Erlang configuration formats.
&gt;&gt;&gt; 
&gt;&gt;&gt; http://docs.basho.com/riakcs/latest/tutorials/fast-track/Building-a-Local-Test-Environment/
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt; http://docs.basho.com/riakcs/latest/cookbooks/configuration/Configuring-Riak/
&gt;&gt;&gt; 
&gt;&gt;&gt; On those pages, none of the names of backends are quoted. ie. We
&gt;&gt;&gt; have {be\_blocks, riak\_kv\_bitcask\_backend, rather than:
&gt;&gt;&gt; {&lt;&lt;"be\_blocks""&gt;, riak\_kv\_bitcask\_backend,
&gt;&gt; 
&gt;&gt; Both of those links look correct to me.
&gt; 
&gt; And I agree that they do work as given.. just you lose the ability to refer 
&gt; to backends by name when setting bucket properties.
&gt; 
&gt; Which you're not going to do for RiakCS buckets, but you would if you want to 
&gt; have other buckets for use by your app.
&gt; 
&gt;&gt;&gt; However in the regular Riak configuration section, backend names
&gt;&gt;&gt; are always quoted.
&gt;&gt; 
&gt;&gt; Can you provide a link to this?
&gt; 
&gt; Sure, it was from here:
&gt; http://docs.basho.com/riak/latest/tutorials/choosing-a-backend/Multi/
&gt; 
&gt; {multi\_backend\_default, &lt;&lt;"bitcask\_mult"&gt;&gt;},
&gt; {multi\_backend, [
&gt; %% Here's where you set the individual multiplexed backends
&gt; {&lt;&lt;"bitcask\_mult"&gt;&gt;, riak\_kv\_bitcask\_backend, [
&gt; %% bitcask configuration
&gt; {config1, ConfigValue1},
&gt; {config2, ConfigValue2}
&gt; ]},
&gt; 
&gt; 
&gt;&gt;&gt; Now, I note that if you use the entire configuration snippet
&gt;&gt;&gt; verbatim, that it all works. However if you want to set more
&gt;&gt;&gt; backends and to select them via REST bucket properties, then you
&gt;&gt;&gt; find that none of the backends can be found.
&gt;&gt; 
&gt;&gt; Can you elaborate what you mean here? It's also worth mentioning
&gt;&gt; that, if you're using Riak CS, you shouldn't need to add or 'select'
&gt;&gt; more backends for the underlying Riak cluster.
&gt; 
&gt; Not for RiakCS, but what if you want to have a different backend available 
&gt; for your app to use - eg. Memory or expiring Bitcask?
&gt; 
&gt; (You can use the backend prefix option, but that's not available in regular 
&gt; Riak)

Ah, I follow now. Yes, sounds like you have everything straight.

&gt; 
&gt;&gt;&gt; Things only seemed to work as expected once I went through and
&gt;&gt;&gt; quoted all the backend names - in the multi\_backend{} part, and
&gt;&gt;&gt; also for the prefix\_list and default options.


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

