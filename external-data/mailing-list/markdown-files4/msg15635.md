---
title: "Re: [riak-user]Cannot startup riak node correctly after successful	installation"
description: ""
project: community
lastmod: 2015-02-05T02:01:46-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15635"
mailinglist_parent_id: "msg15633"
author_name: "Ildar Alishev"
project_section: "mailinglistitem"
sent_date: 2015-02-05T02:01:46-08:00
---


I don’t think problems in file limit. Problems are in that Riak cannot start 
due to Erlang problem (something like this). I had the same error before
What i did?

I have deleted everything that says about riak and Erlang,
installed OTP\_R16B02 and otp\_r16b02

then installed Riak 2.0 + 
And it works :)

Ildar


&gt; 5 февр. 2015 г., в 12:35, YouBarco  написал(а):
&gt; 
&gt; Hello,
&gt; 
&gt; My OS is ubuntu 14.04 64bit, and installed erlang from source with version 
&gt; R16B as following:
&gt; -----------------------------------------------------------------------------------------------------------------------------------
&gt; ubuntu@riak1:~/riak-2.0.4/dev$ erl
&gt; Erlang R16B (erts-5.10.1) [source] [64-bit] [smp:4:4] [async-threads:10] 
&gt; [kernel-poll:false] [dtrace]
&gt; 
&gt; Eshell V5.10.1 (abort with ^G)
&gt; 1&gt; 
&gt; ------------------------------------------------------------------------------------------------------------------------------------
&gt; I downloaded riak-2.0.4 source and compile it successfully, then do following:
&gt; &gt;make devrel DEVNODES=2
&gt; &gt;cd dev
&gt; &gt;dev1/bin/riak start
&gt; !!!!
&gt; !!!! WARNING: ulimit -n is 1024; 65536 is the recommended minimum.
&gt; !!!!
&gt; riak failed to start within 15 seconds,
&gt; see the output of 'riak console' for more information.
&gt; If you want to wait longer, set the environment variable
&gt; WAIT\_FOR\_ERLANG to the number of seconds to wait.
&gt; ubuntu@riak1:~/riak-2.0.4/dev$ dev1/bin/riak console
&gt; config is OK
&gt; -config 
&gt; /home/ubuntu/riak-2.0.4/dev/dev1/data/generated.configs/app.2015.02.05.17.26.32.config
&gt; -args\_file 
&gt; /home/ubuntu/riak-2.0.4/dev/dev1/data/generated.configs/vm.2015.02.05.17.26.32.args
&gt; -vm\_args 
&gt; /home/ubuntu/riak-2.0.4/dev/dev1/data/generated.configs/vm.2015.02.05.17.26.32.args
&gt; !!!!
&gt; !!!! WARNING: ulimit -n is 1024; 65536 is the recommended minimum.
&gt; !!!!
&gt; Exec: /home/ubuntu/riak-2.0.4/dev/dev1/bin/../erts-5.10.1/bin/erlexec -boot 
&gt; /home/ubuntu/riak-2.0.4/dev/dev1/bin/../releases/2.0.4/riak 
&gt; -config 
&gt; /home/ubuntu/riak-2.0.4/dev/dev1/data/generated.configs/app.2015.02.05.17.26.32.config
&gt; -args\_file 
&gt; /home/ubuntu/riak-2.0.4/dev/dev1/data/generated.configs/vm.2015.02.05.17.26.32.args
&gt; -vm\_args 
&gt; /home/ubuntu/riak-2.0.4/dev/dev1/data/generated.configs/vm.2015.02.05.17.26.32.args
&gt; -pa /home/ubuntu/riak-2.0.4/dev/dev1/bin/../lib/basho-patches 
&gt; -- console
&gt; Root: /home/ubuntu/riak-2.0.4/dev/dev1/bin/..
&gt; bad scheduling option -sfwi
&gt; Usage: beam.smp [flags] [ -- [init\_args] ]
&gt; The flags are:
&gt; 
&gt; -a size suggested stack size in kilo words for threads
&gt; in the async-thread pool, valid range is [16-8192]
&gt; -A number set number of threads in async thread pool,
&gt; valid range is [0-1024]
&gt; -B[c|d|i] c to have Ctrl-c interrupt the Erlang shell,
&gt; d (or no extra option) to disable the break
&gt; handler, i to ignore break signals
&gt; -c disable continuous date/time correction with
&gt; respect to uptime
&gt; -d don't write a crash dump for internally detected errors
&gt; (halt(String) will still produce a crash dump)
&gt; -fn[u|a|l] Control how filenames are interpreted
&gt; -hms size set minimum heap size in words (default 233)
&gt; -hmbs size set minimum binary virtual heap size in words (default 32768)
&gt; -K boolean enable or disable kernel poll
&gt; -n[s|a|d] Control behavior of signals to ports
&gt; Note that this flag is deprecated!
&gt; -M  memory allocator switches,
&gt; see the erts\_alloc(3) documentation for more info.
&gt; -pc  Control what characters are considered printable (default latin1)
&gt; -P number set maximum number of processes on this node,
&gt; valid range is [1024-134217727]
&gt; -Q number set maximum number of ports on this node,
&gt; valid range is [1024-134217727]
&gt; -R number set compatibility release number,
&gt; valid range [14-16]
&gt; -r force ets memory block to be moved on realloc
&gt; -rg amount set reader groups limit
&gt; -sbt type set scheduler bind type, valid types are:
&gt; -stbt type u|ns|ts|ps|s|nnts|nnps|tnnps|db
&gt; -sbwt val set scheduler busy wait threshold, valid values are:
&gt; none|very\_short|short|medium|long|very\_long.
&gt; -scl bool enable/disable compaction of scheduler load,
&gt; see the erl(1) documentation for more info.
&gt; -sct cput set cpu topology,
&gt; see the erl(1) documentation for more info.
&gt; -sws val set scheduler wakeup strategy, valid values are:
&gt; default|legacy.
&gt; -swt val set scheduler wakeup threshold, valid values are:
&gt; very\_low|low|medium|high|very\_high.
&gt; -sss size suggested stack size in kilo words for scheduler threads,
&gt; valid range is [4-8192]
&gt; -spp Bool set port parallelism scheduling hint
&gt; -S n1:n2 set number of schedulers (n1), and number of
&gt; schedulers online (n2), valid range for both
&gt; numbers are [1-1024]
&gt; -t size set the maximum number of atoms the emulator can handle
&gt; valid range is [8192-0]
&gt; -T number set modified timing level,
&gt; valid range is [0-9]
&gt; -V print Erlang version
&gt; -v turn on chatty mode (GCs will be reported etc)
&gt; -W set error logger warnings mapping,
&gt; see error\_logger documentation for details
&gt; -zdbbl size set the distribution buffer busy limit in kilobytes
&gt; valid range is [1-2097151]
&gt; 
&gt; Note that if the emulator is started with erlexec (typically
&gt; from the erl script), these flags should be specified with +.
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com 
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com 
&gt; 
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

