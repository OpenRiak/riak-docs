---
title: "Re: PBC client doesn't stop"
description: ""
project: community
lastmod: 2011-03-28T22:46:26-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02773"
mailinglist_parent_id: "msg02770"
author_name: "Kresten Krab Thorup"
project_section: "mailinglistitem"
sent_date: 2011-03-28T22:46:26-07:00
---


Must be some non-d√¶mon threads in there. Threads created in the async API 
should call setDaemon(true), e.g. In their constructor to keep the vm from 
staying alive. 

Kresten

On 29/03/2011, at 04.18, "Keith Dreibelbis"  wrote:

&gt; Hi riak-users,
&gt; 
&gt; I'm trying out the java protocol buffers client, and it works fine. However, 
&gt; it is preventing my process from exiting. When I used the http client from 
&gt; the same spot in code, the process exited, but switching to PBC caused it to 
&gt; hang on exit. Usually this behavior means there is a thread being spawned 
&gt; that is still running in the background. I wonder if there's a way to tell 
&gt; the PBC RiakClient that I'm done with it, and it can close? I don't see 
&gt; anything like that in the available methods.
&gt; 
&gt; 
&gt; Keith
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

