---
title: "Re: Secondary Indices and Storing Binary Data"
description: ""
project: community
lastmod: 2011-05-03T08:18:59-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03204"
mailinglist_parent_id: "msg03200"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2011-05-03T08:18:59-07:00
---


I think all that is yet to be determined, from a public standpoint (I
don't know any more than anyone not working at Basho). If secondary
indexes are implemented (interface wise) in a similar fashion as Riak
Search then I would imagine that the index would be enabled as a hook
at write time. Either a hook at write time (which I would imagine will
be the method employed) or some other mechanism, Riak would need to be
able to understand the value you are writing to disk to be able to
index it properly. Meaning that whichever way you are encoding your
object, Riak would need to be able to decode it in the two languages
that it speaks - javascript or erlang.

Cheers,
Alexander

On Tue, May 3, 2011 at 08:55, Runar Jordahl  wrote:
&gt; I am working on a solution where an object graph (for example a full
&gt; insurace contract) is serialized to binary data and stored as a single
&gt; Riak object. Upon saving the binary data to Riak, I will extract the
&gt; fields needed for indexing and (hopefully) use the upcoming “secondary
&gt; indices” ( http://www.oscon.com/oscon2011/public/schedule/detail/19806
&gt; ) to index the object based on the extracted data.
&gt;
&gt; How will this work with the upcoming secondary indices feature? Will I
&gt; need to store all data (index data and binary data) as a single JSON
&gt; object, using base-encoding for the binary part? Or, will I be able to
&gt; use custom headers for the indices, storing only raw binary data as
&gt; the main content?
&gt;
&gt; Kind regards
&gt; Runar
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

