---
title: "Re: List all"
description: ""
project: community
lastmod: 2012-11-10T08:51:25-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09277"
mailinglist_parent_id: "msg09269"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2012-11-10T08:51:25-08:00
---


For what it's worth, Basho's official Ruby client will print warnings
everytime you use the list-keys functionality, explicitly through
bucket.keys or implicitly through full-bucket MapReduce (while still
allowing you to do it). I also made it print the stacktrace, which can
be a bit confusing to the user since it looks like an exception, but
helps in identifying the location in your code that is doing it.
Something like that for CI might be appropriate.

On Fri, Nov 9, 2012 at 11:00 PM, OJ Reeves  wrote:
&gt; Kevin,
&gt;
&gt; May I suggest you have a look at the sample applications here:
&gt;
&gt; https://github.com/DistributedNonsense/CorrugatedIron.Samples
&gt;
&gt; And the documentation about querying here:
&gt;
&gt; http://corrugatediron.org/documentation/Basics.Querying.html
&gt;
&gt; Both of those directly refer to RiakResults and how to use them.
&gt;
&gt; OJ
&gt;
&gt;
&gt;
&gt; On Sat, Nov 10, 2012 at 7:42 AM, Jeremiah Peschka
&gt;  wrote:
&gt;&gt;
&gt;&gt; You would want to look at the RiakResult.Value property to get to the
&gt;&gt; IEnumerable.
&gt;&gt;
&gt;&gt; ---
&gt;&gt; Jeremiah Peschka
&gt;&gt; Founder, Brent Ozar Unlimited
&gt;&gt;
&gt;&gt; On Nov 9, 2012, at 1:34 PM, Kevin Burton  wrote:
&gt;&gt;
&gt;&gt; &gt; One more question on this subject. The return from ListKeys is a
&gt;&gt; &gt; RiakResult&gt; how do I get the IEnumerable?
&gt;&gt; &gt;
&gt;&gt; &gt; On Nov 9, 2012, at 12:24 PM, Jeremiah Peschka
&gt;&gt; &gt;  wrote:
&gt;&gt; &gt;
&gt;&gt; &gt;&gt; It's been in CorrugatedIron since the very early commits. If you pulled
&gt;&gt; &gt;&gt; from NuGet, it's there.
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; ---
&gt;&gt; &gt;&gt; Jeremiah Peschka, Managing Director, Brent Ozar PLF, LLC
&gt;&gt; &gt;&gt; Microsoft SQL Server MVP
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; On Nov 9, 2012, at 10:08 AM, Kevin Burton 
&gt;&gt; &gt;&gt; wrote:
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;&gt; Thank you. Again this would not be used in production. But it is
&gt;&gt; &gt;&gt;&gt; actually quite useful in testing. For example if I can get a list of 
&gt;&gt; &gt;&gt;&gt; valid
&gt;&gt; &gt;&gt;&gt; keys then I can randomly pick a key and get the associated value from 
&gt;&gt; &gt;&gt;&gt; that
&gt;&gt; &gt;&gt;&gt; randomly picked key. Again I cannot think of a good reason to use this in
&gt;&gt; &gt;&gt;&gt; production. Has this just been added or can I find this method in my
&gt;&gt; &gt;&gt;&gt; assemblies? Thanks again.
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; On Nov 9, 2012, at 11:39 AM, Jeremiah Peschka
&gt;&gt; &gt;&gt;&gt;  wrote:
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt; I know, I know. It's a terrible idea. As client developers we took
&gt;&gt; &gt;&gt;&gt;&gt; the line of "Well, we can't stop you from chopping off your own foot. 
&gt;&gt; &gt;&gt;&gt;&gt; Might
&gt;&gt; &gt;&gt;&gt;&gt; as well give you a knife!"
&gt;&gt; &gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt; ---
&gt;&gt; &gt;&gt;&gt;&gt; Jeremiah Peschka
&gt;&gt; &gt;&gt;&gt;&gt; Founder, Brent Ozar Unlimited
&gt;&gt; &gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt; On Nov 9, 2012, at 9:37 AM, Mark Phillips  wrote:
&gt;&gt; &gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt; On Fri, Nov 9, 2012 at 9:33 AM, Jeremiah Peschka
&gt;&gt; &gt;&gt;&gt;&gt;&gt;  wrote:
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; Shazam!
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; https://github.com/DistributedNonsense/CorrugatedIron/blob/master/CorrugatedIron/RiakClient.cs#L541
&gt;&gt; &gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt; Noooooooooooo.
&gt;&gt; &gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; There's also a StreamingListKeys operation that is somewhat less
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; blocking
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; that a straight up ListKeys.
&gt;&gt; &gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt; :)
&gt;&gt; &gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt; Mark
&gt;&gt; &gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; ---
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; Jeremiah Peschka
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; Founder, Brent Ozar Unlimited
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; On Nov 9, 2012, at 9:14 AM, Kevin Burton 
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; wrote:
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; Agreed that I would not try this in production. If possible I would
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; still
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; like to see if CI has a way to do this before I go and implement a
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; custom
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; web request to do this.
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; On Nov 9, 2012, at 11:02 AM, Mark Phillips  wrote:
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; On Fri, Nov 9, 2012 at 7:51 AM, Kevin Burton
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; wrote:
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; I would like to get a list of all the keys in a particular bucket.
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; I would
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; prefer the answer come in the form of a CorrugatedIron sample but a
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; general
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; REST call would also be helpful. Is this possible? Thank you.
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; This is well-documented in our docs [0]. Please note that this is
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; \*not\* recommended for production use (as the page states). I took a
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; quick look at the CorrugatedIron docs [1] and didn't find any
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; details
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; on how to do this which means that either a) I missed it or b) OJ
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; and
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; Jeremiah saved you a lot of production pain by not implementing it.
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; :)
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; Mark
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; [0]
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; http://docs.basho.com/riak/latest/references/apis/http/HTTP-List-Keys/
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; [1] http://corrugatediron.org/documentation/Basics.Querying.html
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; riak-users mailing list
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; riak-users mailing list
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt; &gt;&gt;&gt;&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
&gt;
&gt;
&gt; --
&gt;
&gt; OJ Reeves
&gt; +61 431 952 586
&gt; http://buffered.io/
&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;



-- 
Sean Cribbs 
Software Engineer
Basho Technologies, Inc.
http://basho.com/

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

