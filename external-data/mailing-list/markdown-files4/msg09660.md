---
title: "Erlang API for MapReduce"
description: ""
project: community
lastmod: 2012-12-20T20:22:20-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09660"
author_name: "Shaan Sapra"
project_section: "mailinglistitem"
sent_date: 2012-12-20T20:22:20-08:00
---


I am trying to understand the Erlang API for Map/Reduce queries, but I'm
not sure what I'm doing.

I have 4 nodes made by the command 'make devrel'. I started all 4 and
joined them into a cluster. Now when I try to follow the documentation
here
.

1&gt; {ok, Client} = riak:local\_client().

I receive : \*\* exception error: undefined function riak:local\_client/0

I looked around for the erlang files and found them in
riak/deps/riak\_kv/src.

Realizing my shell didn't know about these files, I ran the erlang shell in
^ directory, but then I received this:

\*\* exception error: undefined function riak\_core\_util:mkclientid/1
 in function riak:client\_connect/2 (riak.erl, line 120)

Can someone please help me understand how I should be calling these
functions and where?

Also, if someone could explain how to run M/R queries as a script instead
of in the shell and provide some example code, that would be great!

Thanks,
Shaan Sapra
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

