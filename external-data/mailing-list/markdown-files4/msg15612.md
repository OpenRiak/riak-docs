---
title: "Re: Errors running rebar in a the riak project,	and compiling rebar from source"
description: ""
project: community
lastmod: 2015-01-30T06:54:33-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15612"
mailinglist_parent_id: "msg15610"
author_name: "Fred Dushin"
project_section: "mailinglistitem"
sent_date: 2015-01-30T06:54:33-08:00
---


It looks like your Erlang/OTP install does not have the crypto module -- how 
was it initially installed (RPM? apt?)? I have seen this happen on recent 
versions of OS X with a manually built Erlang/OTP, as the erlang configure 
scripts can't locate the OpenSSL header files, so the crypto module is skipped. 
 Pay attention to the output of the configure script when building Erlang -- it 
looks like your build may not have been able to locate the OpenSSL headers.

Installing libssl-dev may help things, as that might put the headers in a 
location the Erlang/OTP configure script can locate. You can also use the 
--with-ssl= option to configure, to tell it where to look for those 
headers (e.g., --with-ssl=/usr/local). (What flavor on Linux are you running 
on?)

As far as the beam\_emu.c compile error, which version of Riak are you using -- 
1.4 or 2.0?

-Fred

&gt; On Jan 28, 2015, at 5:05 AM, Canine Chronicles  
&gt; wrote:
&gt; 
&gt; 
&gt; ---------- Forwarded message ----------
&gt; From: Canine Chronicles  &gt;
&gt; Date: Wed, Jan 28, 2015 at 11:19 AM
&gt; Subject: Errors running rebar in a the riak project, and compiling rebar from 
&gt; source
&gt; To: re...@lists.basho.com 
&gt; 
&gt; 
&gt; I'm trying to install riak from source, and I've encountered this error:
&gt; 
&gt; Uncaught error in rebar\_core: {'EXIT',
&gt; {undef,
&gt; [{crypto,start,[],[]},
&gt; {rebar,run\_aux,1,[]},
&gt; {rebar,main,1,[]},
&gt; {escript,run,2,
&gt; [{file,"escript.erl"},{line,741}]},
&gt; {escript,start,1,
&gt; [{file,"escript.erl"},{line,277}]},
&gt; {init,start\_it,1,[]},
&gt; {init,start\_em,1,[]}]}}
&gt; 
&gt; 
&gt; In a previous thread 
&gt; (http://lists.basho.com/pipermail/rebar\_lists.basho.com/2014-May/002017.html 
&gt; ),
&gt; a suggestion that worked was to install libssl-dev, and install erlang R15. 
&gt; I already had libssl-dev installed, but compiling erlang from source gave the 
&gt; following error:
&gt; 
&gt; 
&gt; beam/beam\_emu.c:1175:5: error: label ‘lb\_hipe\_trap\_return’ used but not 
&gt; defined
&gt; beam/beam\_emu.c:1175:5: error: label ‘lb\_hipe\_trap\_resume’ used but not 
&gt; defined
&gt; beam/beam\_emu.c:1175:5: error: label ‘lb\_hipe\_trap\_call\_closure’ used but not 
&gt; defined
&gt; beam/beam\_emu.c:1175:5: error: label ‘lb\_hipe\_trap\_call’ used but not defined
&gt; beam/beam\_emu.c:1175:5: error: label ‘lb\_hipe\_call\_count’ used but not defined
&gt; make[3]: \*\*\* [obj/i686-pc-linux-gnu/opt/smp/beam\_emu.o] Error 1
&gt; make[3]: Leaving directory 
&gt; `/home/memini/Downloads/erlang\_src/otp\_src\_R15B03/erts/emulator'
&gt; make[2]: \*\*\* [opt] Error 2
&gt; make[2]: Leaving directory 
&gt; `/home/memini/Downloads/erlang\_src/otp\_src\_R15B03/erts/emulator'
&gt; make[1]: \*\*\* [smp] Error 2
&gt; make[1]: Leaving directory 
&gt; `/home/memini/Downloads/erlang\_src/otp\_src\_R15B03/erts'
&gt; make: \*\*\* [emulator] Error 2
&gt; 
&gt; 
&gt; I'm not sure where to go from here, as there doesn't seem to be any info 
&gt; online regarding this problem. Any help? Erlang newbie here.
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

