---
title: "Re: 2i at large scale?"
description: ""
project: community
lastmod: 2013-09-25T13:43:41-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12395"
mailinglist_parent_id: "msg12389"
author_name: "Wagner Camarao"
project_section: "mailinglistitem"
sent_date: 2013-09-25T13:43:41-07:00
---


Vincenzo / Jared,
That makes sense and yes I'm planning on benchmarking on a real cluster
although I don't have one setup yet. For now I'll adjust my local config on
Jared's recommendation.

Reid,
Thanks for bringing that up and yes I'm using paginated 2i.


Has anyone here stopped using 2i because it stopped scaling well at some
point? If so, which point was that? Any quantifiable information would be
helpful. I'm asking this again as I had a strong recommendation not to use
2i at a large scale, and instead use basic riak key value to implement such
capabilities. Does anyone share a similar experience? Or a different one at
all?


Thanks,
Wagner


On Wed, Sep 25, 2013 at 12:04 PM, Reid Draper  wrote:

&gt; Wagner,
&gt;
&gt; Are you using paginated 2i? Or asking for all of the results buffered at
&gt; once? If the latter, I'd highly recommend trying to new paginated 2i that
&gt; landed in Riak 1.4.0.
&gt;
&gt; Reid
&gt;
&gt; On Sep 25, 2013, at 10:50 AM, Wagner Camarao 
&gt; wrote:
&gt;
&gt; &gt; Hi,
&gt; &gt;
&gt; &gt; I'm benchmarking 2i at scale of billion records, running one physical
&gt; node locally with mostly default configs - except for LevelDB instead of
&gt; Bitcask. Up to this point (14MM records in the bucket that's being indexed)
&gt; it's still performing lookups well for my use case (read ~ 7ms using
&gt; riak-ruby-client over http).
&gt; &gt;
&gt; &gt; However, along this process I've noticed riak to go down twice. First
&gt; time (8MM records) I could just start it again and continue my benchmarking
&gt; from the point it were left, but now at the second time (14MM records) when
&gt; I started riak again, it took about 3 minutes to respond to my first
&gt; request.
&gt; &gt;
&gt; &gt; What was happening during these long startup minutes, after my second
&gt; crash?
&gt; &gt;
&gt; &gt; Up to which scale have you guys been successfully using secondary
&gt; indexes?
&gt; &gt;
&gt; &gt; Any other ideas given my use case / benchmarking scenario?
&gt; &gt;
&gt; &gt; Thanks,
&gt; &gt; Wagner
&gt; &gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

