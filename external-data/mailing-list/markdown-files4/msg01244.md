---
title: "Re: Riak in user mode"
description: ""
project: community
lastmod: 2010-10-11T08:52:40-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01244"
mailinglist_parent_id: "msg01243"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2010-10-11T08:52:40-07:00
---


The scripts will use sudo if the RUNNER\_USER does not match the user
currently running the script. When building from src the RUNNER\_USER
variable is left blank. Packaged builds of Riak set this variable to "riak".

You can modify the packaged installed scripts to set this variable to a
different user or leave it blank to run as whatever user ran the command.

Using sudo in the packaged builds avoids a number of issues that crop up
with file system permissions, however, a bug has been opened to look into
changing the current behavior:
https://issues.basho.com/show\_bug.cgi?id=295

Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Mon, Oct 11, 2010 at 8:13 AM, Wilson MacGyver wrote:

&gt; are you installing it from src? because I run it as a non-root user and it
&gt; never requested sudo
&gt;
&gt; On Mon, Oct 11, 2010 at 10:57 AM, Mojito Sorbet 
&gt; wrote:
&gt; &gt; My question is not about installing it as root, but running it as root.
&gt; &gt; The "riak start" script immediately tries to do a sudo. Why is this
&gt; &gt; necessary? If I could configure it so the data files do not go
&gt; &gt; into /var, for example.
&gt; &gt;
&gt; &gt; It seems to me this is independent from how I built or installed it.
&gt; &gt;
&gt; &gt;
&gt; &gt; On Mon, 2010-10-11 at 10:43 -0400, Alexander Sicular wrote:
&gt; &gt;&gt; The only part of the Riak 'world' that probably is easiest installed as
&gt; root is erlang. Although you could install erlang as non root. Once you have
&gt; erlang installed, you can compile riak as non root and it works fine.
&gt; &gt;&gt;
&gt; &gt;&gt; -alexander
&gt; &gt;&gt;
&gt; &gt;&gt; On Oct 11, 2010, at 9:19 AM, Mojito Sorbet wrote:
&gt; &gt;&gt;
&gt; &gt;&gt; &gt; If I do not want Riak to run as 'root', do I have to run it from a
&gt; &gt;&gt; &gt; compiled installation rather than the binary installation?
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; &gt;&gt; &gt; riak-users mailing list
&gt; &gt;&gt; &gt; riak-users@lists.basho.com
&gt; &gt;&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; &gt;&gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; &gt;
&gt;
&gt;
&gt;
&gt; --
&gt; Omnem crede diem tibi diluxisse supremum.
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

