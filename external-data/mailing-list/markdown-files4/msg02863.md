---
title: "Re: Riak & Timestamps (Python)"
description: ""
project: community
lastmod: 2011-04-02T18:25:11-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02863"
mailinglist_parent_id: "msg02862"
author_name: "Mike Stoddart"
project_section: "mailinglistitem"
sent_date: 2011-04-02T18:25:11-07:00
---


Ah thanks - I thought it was complaining about the value.

On Sat, Apr 2, 2011 at 9:23 PM, Rexxe  wrote:
&gt; Bucket keys are strings and you're passing an int (data['Time(PDT)'] which
&gt; you set to int(ut))
&gt;
&gt; On Sat, Apr 2, 2011 at 6:13 PM, Mike Stoddart  wrote:
&gt;&gt;
&gt;&gt; Just want to quickly clarify how to store timestamps in Riak Search
&gt;&gt; using Python. My code:
&gt;&gt;
&gt;&gt;                dt = datetime.datetime.strptime(data['Time(PDT)'], "%b %d,
&gt;&gt; %Y %H:%M:%S")
&gt;&gt;                ut = time.mktime(dt.timetuple())
&gt;&gt;                data['Time(PDT)'] = int(ut)
&gt;&gt;
&gt;&gt;                # Save the object to Riak.
&gt;&gt;                json = simplejson.dumps(data)
&gt;&gt;                obj = bucket.new(data['Time(PDT)'], data=json)
&gt;&gt;                obj.store(return\_body=False)
&gt;&gt;
&gt;&gt; This is giving me:
&gt;&gt;
&gt;&gt; TypeError: 1275598830 has type , but expected one of:
&gt;&gt; (,)
&gt;&gt;
&gt;&gt; Am I misunderstanding something fundamental here?
&gt;&gt;
&gt;&gt; Thanks
&gt;&gt; Mike
&gt;&gt;
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

