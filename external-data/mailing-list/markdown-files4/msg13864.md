---
title: "Re: riak 2.0 erlang client issue"
description: ""
project: community
lastmod: 2014-03-21T08:00:07-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13864"
mailinglist_parent_id: "msg13863"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2014-03-21T08:00:07-07:00
---


Buri,

riak\_pb\_messages is a module generated by rebar at build time. Do you have
the latest riak\_pb dependency? How did you build the client?


On Fri, Mar 21, 2014 at 9:44 AM, Buri Arslon  wrote:

&gt; Hi guys!
&gt;
&gt; I'm playing with Riak 2.0 pre15. I also updated riakc-erlang-client to the
&gt; latest. I'm getting an error. Any hints? Thanks!
&gt;
&gt;
&gt; ERROR:
&gt;
&gt; -------------------------------------------
&gt;
&gt; (main@abc)5&gt; {ok, Pid} = riakc\_pb\_socket:start\_link("127.0.0.1", 8087).
&gt;
&gt; {ok,&lt;0.255.0&gt;}
&gt;
&gt; (main@abc)6&gt; riakc\_pb\_socket:ping(Pid).
&gt;
&gt;
&gt; =ERROR REPORT==== 21-Mar-2014::14:37:40 ===
&gt;
&gt; \*\* Generic server &lt;0.255.0&gt; terminating
&gt;
&gt; \*\* Last message in was {req,rpbpingreq,60000}
&gt;
&gt; \*\* When Server state == {state,"127.0.0.1",8087,false,false,#Port&lt;0.7205&gt;,
&gt;
&gt; false,gen\_tcp,undefined,
&gt;
&gt; {[],[]},
&gt;
&gt; 1,[],infinity,undefined,undefined,undefined,
&gt;
&gt; undefined,[],100}
&gt;
&gt; \*\* Reason for termination ==
&gt;
&gt; \*\* {'module could not be loaded',
&gt;
&gt; [{riak\_pb\_messages,msg\_code,[rpbpingreq],[]},
&gt;
&gt;
&gt; {riak\_pb\_codec,encode,1,[{file,"src/riak\_pb\_codec.erl"},{line,73}]},
&gt;
&gt; {riakc\_pb\_socket,encode\_request\_message,1,
&gt;
&gt; [{file,"src/riakc\_pb\_socket.erl"},{line,2094}]},
&gt;
&gt; {riakc\_pb\_socket,send\_request,2,
&gt;
&gt; [{file,"src/riakc\_pb\_socket.erl"},{line,2077}]},
&gt;
&gt; {riakc\_pb\_socket,handle\_call,3,
&gt;
&gt; [{file,"src/riakc\_pb\_socket.erl"},{line,1258}]},
&gt;
&gt; {gen\_server,handle\_msg,5,[{file,"gen\_server.erl"},{line,585}]},
&gt;
&gt; {proc\_lib,init\_p\_do\_apply,3,[{file,"proc\_lib.erl"},{line,239}]}]}
&gt;
&gt;
&gt; =CRASH REPORT==== 21-Mar-2014::14:37:40 ===
&gt;
&gt; crasher:
&gt;
&gt; initial call: riakc\_pb\_socket:init/1
&gt;
&gt; pid: &lt;0.255.0&gt;
&gt;
&gt; registered\_name: []
&gt;
&gt; exception exit: {undef,
&gt;
&gt; [{riak\_pb\_messages,msg\_code,[rpbpingreq],[]},
&gt;
&gt; {riak\_pb\_codec,encode,1,
&gt;
&gt; [{file,"src/riak\_pb\_codec.erl"},{line,73}]},
&gt;
&gt; {riakc\_pb\_socket,encode\_request\_message,1,
&gt;
&gt;
&gt; [{file,"src/riakc\_pb\_socket.erl"},{line,2094}]},
&gt;
&gt; {riakc\_pb\_socket,send\_request,2,
&gt;
&gt;
&gt; [{file,"src/riakc\_pb\_socket.erl"},{line,2077}]},
&gt;
&gt; {riakc\_pb\_socket,handle\_call,3,
&gt;
&gt;
&gt; [{file,"src/riakc\_pb\_socket.erl"},{line,1258}]},
&gt;
&gt; {gen\_server,handle\_msg,5,
&gt;
&gt; [{file,"gen\_server.erl"},{line,585}]},
&gt;
&gt; {proc\_lib,init\_p\_do\_apply,3,
&gt;
&gt; [{file,"proc\_lib.erl"},{line,239}]}]}
&gt;
&gt; in function gen\_server:terminate/6 (gen\_server.erl, line 744)
&gt;
&gt; ancestors: [&lt;0.252.0&gt;]
&gt;
&gt; messages: []
&gt;
&gt; links: [&lt;0.252.0&gt;,#Port&lt;0.7205&gt;]
&gt;
&gt; dictionary: []
&gt;
&gt; trap\_exit: false
&gt;
&gt; status: running
&gt;
&gt; heap\_size: 987
&gt;
&gt; stack\_size: 27
&gt;
&gt; reductions: 540
&gt;
&gt; neighbours:
&gt;
&gt; neighbour: [{pid,&lt;0.252.0&gt;},
&gt;
&gt; {registered\_name,[]},
&gt;
&gt; {initial\_call,{erlang,apply,2}},
&gt;
&gt; {current\_function,{gen,do\_call,4}},
&gt;
&gt; {ancestors,[]},
&gt;
&gt; {messages,[]},
&gt;
&gt; {links,[&lt;0.33.0&gt;,&lt;0.255.0&gt;]},
&gt;
&gt; {dictionary,[]},
&gt;
&gt; {trap\_exit,false},
&gt;
&gt; {status,waiting},
&gt;
&gt; {heap\_size,233},
&gt;
&gt; {stack\_size,36},
&gt;
&gt; {reductions,1895}]
&gt;
&gt; \*\* exception exit: undef
&gt;
&gt; in function riak\_pb\_messages:msg\_code/1
&gt;
&gt; called as riak\_pb\_messages:msg\_code(rpbpingreq)
&gt;
&gt; in call from riak\_pb\_codec:encode/1 (src/riak\_pb\_codec.erl, line 73)
&gt;
&gt; in call from riakc\_pb\_socket:encode\_request\_message/1
&gt; (src/riakc\_pb\_socket.erl, line 2094)
&gt;
&gt; in call from riakc\_pb\_socket:send\_request/2 (src/riakc\_pb\_socket.erl,
&gt; line 2077)
&gt;
&gt; in call from riakc\_pb\_socket:handle\_call/3 (src/riakc\_pb\_socket.erl,
&gt; line 1258)
&gt;
&gt; in call from gen\_server:handle\_msg/5 (gen\_server.erl, line 585)
&gt;
&gt; in call from proc\_lib:init\_p\_do\_apply/3 (proc\_lib.erl, line 239)
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;


-- 
Sean Cribbs 
Software Engineer
Basho Technologies, Inc.
http://basho.com/
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

