---
title: "Mod callback on Pid"
description: ""
project: community
lastmod: 2015-11-09T16:29:40-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16754"
mailinglist_parent_id: "msg16753"
author_name: "Jorge Garrido gomez"
project_section: "mailinglistitem"
sent_date: 2015-11-09T16:29:40-08:00
---


Hello, this is our last commit:

https://github.com/zgbjgg/riak-erlang-client/commit/0f5d170e9ba605a668eea09a55b2318ce5927c40
 


Ignore the previous

Thank you
&gt; On Nov 9, 2015, at 5:56 PM, Jorge Garrido gomez 
&gt;  wrote:
&gt; 
&gt; Hello,
&gt; 
&gt; Recently we upgrade our core application written in erlang that uses riak 
&gt; erlang client with protobuffs, before this upgrade we use a simple load 
&gt; balancer between nodes, so in a simple gen\_server a pid is created and keep 
&gt; into the state, but some times the pid will be disconnected and we must 
&gt; connect again.
&gt; 
&gt; So for that reason we decide use other strategy, we fork the project 
&gt; riak-erlang-client and decide to make a small change, we add in the options 
&gt; of the start\_link function (where pid is created) a new option called: 
&gt; mod\_callback, with this we send back the response of the pid, so the callback 
&gt; module knows that a pid was created and then added to the load balancer, all 
&gt; pids are managed by a supervisor, so when a problem occurs the supervisor 
&gt; restart a child and then the option mod\_callback notifies to our load 
&gt; balancer so we can keep it into the state.
&gt; 
&gt; This change is here: 
&gt; https://github.com/zgbjgg/riak-erlang-client/commit/a531cd98cbaf119becc6c85091b2242cb08cbc0a
&gt; 
&gt; 
&gt; 
&gt; If you consider that this commit will be into your main repo, we can open a 
&gt; pull request, 
&gt; 
&gt; Than you very much!
&gt; 

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

