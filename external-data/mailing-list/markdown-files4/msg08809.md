---
title: "Re: riak join a node( with data) to a cluster"
description: ""
project: community
lastmod: 2012-10-05T09:30:46-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08809"
mailinglist_parent_id: "msg08622"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2012-10-05T09:30:46-07:00
---


Venki,

You can join node C to A or B but until hinted handoff occurs you will get
not founds for your data. That is, it will look like your data is lost.
 The reason is because the riak join logic assumes the joining node is void
of data. When a new node joins it immediately takes on the state of the
cluster. Thus all the primary partitions currently on C become fallbacks,
but those fallbacks aren't active in any preflists since all the primaries
are up This will result in not founds until hinted handoff kicks in.

In your situation, if you cannot tolerate the not founds, then dismantle
the A & B cluster, install fresh on those nodes, then join A & B,
individually, to C. That way A & B will take on some of the data owned by
C without not founds occurring.

-Z

On Fri, Sep 21, 2012 at 9:19 AM, Venki Yedidha
wrote:

&gt; Hi All,
&gt;
&gt; I have a riak cluster setup with hosts say A and B..now I want to
&gt; join a new host C to the cluster but here is the problem..
&gt; Host C has huge data which is not part of any cluster...I populated
&gt; its data by taking backup from basho bitcask backups...It
&gt; worked fine with ut any problem...now I want to join this host C to
&gt; my cluster with out losing the data from Host C....
&gt;
&gt; Please help me on the above..
&gt;
&gt; Thanks,
&gt; Venkatesh.Y
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

