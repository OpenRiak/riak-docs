---
title: "Ripple TestServer Fails Running Tests"
description: ""
project: community
lastmod: 2012-12-18T19:31:10-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09629"
author_name: "Ariel Valentin"
project_section: "mailinglistitem"
sent_date: 2012-12-18T19:31:10-08:00
---


We've have run into a few challenges using Ripple::TestServer and was
wondering if someone here may be able to shed a little light.

We experienced intermittent failures when trying to run integration tests
saying that the test server could not find open pipes. We aren't certain
why this is happening and have posted a few comments to this issue:
https://github.com/basho/ripple/issues/278

Is there something we are doing incorrectly in our configuration?

Here is a sample stack trace that we see:
1) Error:
test\_foo:
RuntimeError: Could not find or open pipes for Riak console in
/tmp/riak\_test\_server/pipe.[ Broken pipe - Broken pipe ]
/vendor/bundle/jruby/1.9/gems/riak-client-1.1.0/lib/riak/node/console.rb:72:in
initialize'
/vendor/bundle/jruby/1.9/gems/riak-client-1.1.0/lib/riak/node/console.rb:22:in
open'
/vendor/bundle/jruby/1.9/gems/riak-client-1.1.0/lib/riak/node/control.rb:71:in
attach'
/vendor/bundle/jruby/1.9/gems/riak-client-1.1.0/lib/riak/test\_server.rb:69:in
maybe\_attach'
/vendor/bundle/jruby/1.9/gems/riak-client-1.1.0/lib/riak/test\_server.rb:40:in
start'
/vendor/cache/ripple-676cf259590a/lib/ripple/test\_server.rb:14:insetup'
/test/test\_helper.rb:11:in \_callback\_before\_43'
/vendor/bundle/jruby/1.9/gems/activesupport-3.2.9/lib/active\_support/callbacks.rb:443:in
\_run\_\_589859293\_\_setup\_\_2084328715\_\_callbacks'
org/jruby/RubyBasicObject.java:1659:in \_\_send\_\_'
org/jruby/RubyKernel.java:2086:insend'
/vendor/bundle/jruby/1.9/gems/activesupport-3.2.9/lib/active\_support/callbacks.rb:405:in
\_\_run\_callback'
/vendor/bundle/jruby/1.9/gems/activesupport-3.2.9/lib/active\_support/callbacks.rb:390:in
\_run\_setup\_callbacks'
org/jruby/RubyBasicObject.java:1659:in \_\_send\_\_'
org/jruby/RubyKernel.java:2086:insend'
/vendor/bundle/jruby/1.9/gems/activesupport-3.2.9/lib/active\_support/callbacks.rb:81:in
run\_callbacks'
/vendor/bundle/jruby/1.9/gems/activesupport-3.2.9/lib/active\_support/testing/setup\_and\_teardown.rb:35:in
run'

Thanks,
Ariel Valentin
e-mail: ar...@arielvalentin.com
website: http://blog.arielvalentin.com
skype: ariel.s.valentin
twitter: arielvalentin
linkedin: http://www.linkedin.com/profile/view?id=8996534
---------------------------------------
\*simplicity \*communication
\*feedback \*courage \*respect
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

