---
title: "Re: About second parameter of riakc_pb_socket:mapred"
description: ""
project: community
lastmod: 2012-07-13T04:39:18-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07919"
mailinglist_parent_id: "msg07918"
author_name: "郎咸武"
project_section: "mailinglistitem"
sent_date: 2012-07-13T04:39:18-07:00
---


Who can answer me? thanks.

2012/7/13 郎咸武 

&gt; Hi guys.
&gt;
&gt; To test mapred\_inputs() in the program, These parameters 
&gt; ([\*{\*\*bucket()
&gt; , 
&gt; key()}
&gt; | 
&gt; {bucket()
&gt; , 
&gt; key(),
&gt; term()}] | 
&gt; bucket()
&gt; | {index, 
&gt; bucket(),
&gt; Index::binary(), 
&gt; key()}
&gt; | 
&gt; {index,bucket(),
&gt; Index::binary(), 
&gt; StartKey::key(),
&gt; EndKey::key()
&gt; \*\*} \*) is ok.
&gt; The "Inputs" parameter({modfun, Module::atom(), Function::atom(),
&gt; [term()]} ) {modfun, riak\_search, mapred\_search, [ &lt;&lt;"Bucket"&gt;&gt;,
&gt; &lt;&lt;"SearchQuery"&gt;&gt;]} is ok.
&gt; But myself function is can not work(Inputs = {modfun, trend\_riak, test,
&gt; [&lt;&lt;"a"&gt;&gt;, &lt;&lt;"b"&gt;&gt;]}). The "trend\_riak" module is added riak path.
&gt; There are errors in the following:
&gt; {error,&lt;&lt;"Error sending inputs: [{&lt;&lt;\"my\"&gt;&gt;,&lt;&lt;\"bu\"&gt;&gt;}]"&gt;&gt;}
&gt;
&gt; The trend\_riak module code.
&gt; 1 -module(trend\_riak).
&gt; 2
&gt; 3 -export([test/3]).
&gt; 4 [{&lt;&lt;"my"&gt;&gt;, &lt;&lt;"bu"&gt;&gt;}].
&gt;
&gt; Where is wrong?
&gt;
&gt; Best wish ,thank you.
&gt; Jason
&gt; mapred\_inputs()
&gt;
&gt; mapred\_inputs() = 
&gt; [{bucket()
&gt; , 
&gt; key()}
&gt; | 
&gt; {bucket()
&gt; , 
&gt; key(),
&gt; term()}] | {modfun, Module::atom(), Function::atom(), [term()]} | 
&gt; bucket()
&gt; |
&gt; {index, 
&gt; bucket(),
&gt; Index::binary(), 
&gt; key()}
&gt; | 
&gt; {index,bucket(),
&gt; Index::binary(), 
&gt; StartKey::key(),
&gt; EndKey::key()
&gt; }
&gt; mapred/3
&gt;
&gt; mapred(Pid::pid(), 
&gt; Inputs::mapred\_inputs(),
&gt; Query::[mapred\_queryterm()])
&gt; -&gt; {ok, 
&gt; mapred\_result()}
&gt; | {error, {badqterm, 
&gt; mapred\_queryterm()}}
&gt; | {error, timeout} | {error, term()}
&gt;
&gt; Equivalent to mapred(Inputs, Query, 
&gt; default\_timeout(mapred))
&gt; .
&gt;
&gt; --
&gt; 只为成功找方法，不为失败找理由
&gt;



-- 
只为成功找方法，不为失败找理由
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

