---
title: "Re: using custom javascript/erlang functions in riak"
description: ""
project: community
lastmod: 2010-12-30T07:39:17-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01858"
mailinglist_parent_id: "msg01857"
author_name: "Grant Schofield"
project_section: "mailinglistitem"
sent_date: 2010-12-30T07:39:17-08:00
---


Your issue with js\_reload is a known bug that is fixed in the upcoming release. 
 To use Erlang modules add the "add\_paths" declaration to your app.config and 
place your compiled module in that directory, you can find out more about this 
on the wiki here: http://wiki.basho.com/MapReduce.html

Grant Schofield
Developer Advocate
Basho Technologies.


On Dec 30, 2010, at 6:55 AM, Shai Garniek wrote:

&gt; I want to use custom javascript/erlang functions in riak map/reduce and I'm 
&gt; having trouble loading js functions to the riak nodes
&gt; I places a js file in the location specifies as the js\_file\_path in the 
&gt; app.config.
&gt; when I try to run the the riak-admin js\_reload command I'm getting the 
&gt; following error:
&gt; 
&gt; RPC to 'd...@192.168.20.156' failed: {'EXIT',
&gt; 
&gt; {{undef,
&gt; 
&gt; [{ets,next,[856095]},
&gt; 
&gt; {riak\_kv\_js\_manager,reload\_idle\_vms,
&gt; 
&gt; 2},
&gt; 
&gt; {riak\_kv\_js\_manager,handle\_call,3},
&gt; 
&gt; {gen\_server,handle\_msg,5},
&gt; 
&gt; {proc\_lib,init\_p\_do\_apply,3}]},
&gt; 
&gt; {gen\_server,call,
&gt; 
&gt; [riak\_kv\_js\_manager,reload\_vms]}}}
&gt; 
&gt; 
&gt; Can anyone tell me what am I doing wrong?
&gt; 
&gt; I also wanted to know what is the process of loading custom erlang function 
&gt; to riak. If anyone can tell me how that would be helpful.
&gt; 
&gt; 
&gt; 
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

