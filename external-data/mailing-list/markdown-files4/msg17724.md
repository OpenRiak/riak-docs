---
title: "Re: Monitor RIAK process with Supervisord"
description: ""
project: community
lastmod: 2016-10-31T02:00:52-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17724"
mailinglist_parent_id: "msg17723"
author_name: "Magnus Kessler"
project_section: "mailinglistitem"
sent_date: 2016-10-31T02:00:52-07:00
---


On 29 October 2016 at 19:59, vmalhotra  wrote:

&gt; We run 8 nodes RIAK cluster in our Prod environment. Lot of time, RIAK
&gt; process stops and we also noticed out of memory issues. Typically, we run
&gt; restart the affected node to recover from the issue. I thought of using
&gt; Supervisor to control the RIAK processes so the idea is if any of the
&gt; process crash SupervisorD daemon will automatically restart that process on
&gt; a crash.
&gt;
&gt; Wanted to know what you guys think? Can it cause any other issue or it
&gt; should work fine?
&gt;

Hi Varun,

I would recommend against blindly restarting Riak nodes, in particular if
these were shut down uncleanly, as may happen in out of memory situations.
There is a risk that an unclean shutdown leaves behind corrupted files and
that a subsequent restart is unsuccessful.

You should instead investigate why Riak stops being responsive.

Please have a look at the documentation, in particular memory
requirements[0], and OS tuning[1].

Kind Regards,

Magnus

[0]: http://docs.basho.com/riak/kv/2.1.4/setup/planning/cluster-capacity/
[1]: http://docs.basho.com/riak/kv/2.1.4/using/performance/




&gt;
&gt; Thanks in advance.
&gt;
&gt;
&gt;
&gt; --
&gt; View this message in context: http://riak-users.197444.n3.
&gt; nabble.com/Monitor-RIAK-process-with-Supervisord-tp4034655.html
&gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;



-- 
Magnus Kessler
Client Services Engineer
Basho Technologies Limited

Registered Office - 8 Lincolnâ€™s Inn Fields London WC2A 3BP Reg 07970431
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

