---
title: "Re: error running Erlang m/r job"
description: ""
project: community
lastmod: 2013-04-04T14:49:41-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10702"
mailinglist_parent_id: "msg10688"
author_name: "Tom Zeng"
project_section: "mailinglistitem"
sent_date: 2013-04-04T14:49:41-07:00
---


Thanks Evan, that worked.


On Thu, Apr 4, 2013 at 11:14 AM, Evan Vigil-McClanahan &lt;
emcclana...@basho.com&gt; wrote:

&gt; As of 1.3 the old client:mapreduce is deprecated, please use
&gt; `riak\_kv\_mrc\_pipe:mapred` instead.
&gt;
&gt; On Thu, Apr 4, 2013 at 9:07 AM, Tom Zeng  wrote:
&gt; &gt; Hi everyone,
&gt; &gt;
&gt; &gt; I am trying to run the Erlang m/r following the Riak Handbook, and got
&gt; the
&gt; &gt; following error:
&gt; &gt;
&gt; &gt; (riak@127.0.0.1)4&gt; ExtractTweet = fun(RObject, \_, \_) -&gt;
&gt; &gt; (riak@127.0.0.1)4&gt; {struct, Obj} = mochijson2:decode(
&gt; &gt; (riak@127.0.0.1)4&gt; riak\_object:get\_value(RObject)),
&gt; &gt; (riak@127.0.0.1)4&gt; [proplists:get\_value(&lt;&lt;"tweet"&gt;&gt;, Obj)]
&gt; &gt; (riak@127.0.0.1)4&gt; end.
&gt; &gt; #Fun
&gt; &gt; (riak@127.0.0.1)5&gt; C:mapred([{&lt;&lt;"tweets"&gt;&gt;, &lt;&lt;"41399579391950848"&gt;&gt;}],
&gt; &gt; (riak@127.0.0.1)5&gt; [{map, {qfun, ExtractTweet}, none, true}]).
&gt; &gt; \*\* exception error: undefined function riak\_client:mapred/3
&gt; &gt;
&gt; &gt; I've been using JavaScript for m/r and just started using Erlang per
&gt; Basho
&gt; &gt; engineers' recommendation at Riak DC meetup. Any help/pointers
&gt; appreciated.
&gt; &gt;
&gt; &gt; Thanks
&gt; &gt; Tom
&gt; &gt; --
&gt; &gt; Tom Zeng
&gt; &gt; Director of Engineering
&gt; &gt; Intridea, Inc. | www.intridea.com
&gt; &gt; t...@intridea.com
&gt; &gt;
&gt; &gt;
&gt; &gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; &gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

