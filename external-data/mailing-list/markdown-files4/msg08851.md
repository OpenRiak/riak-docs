---
title: "Re: default bucket settings"
description: ""
project: community
lastmod: 2012-10-09T10:40:58-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08851"
mailinglist_parent_id: "msg08849"
author_name: "kamiseq"
project_section: "mailinglistitem"
sent_date: 2012-10-09T10:40:58-07:00
---


thanks for replay.

it would be great if someone changed http://wiki.basho.com/Buckets.html or
http://wiki.basho.com/Configuration-Files.html, I think this would be less
misleading

 - rw - quorum for both operations (get and put) involved in deleting an
 object (default is set at the bucket level)
 - r - (read quorum) how many replicas need to agree when retrieving the
 object
 - w - (write quorum)\* how many vnodes must confirm reviving write
 request before returning a successful response\*
 - dw - (durable write quorum) how many replicas to commit to durable
 storage before returning a successful response
 - pr - (primary read quorum) works like r but requires that the nodes
 read from are not fallback nodes
 - pw - (primary write quorum) how many replicas to commit to primary
 nodes before returning a successful response



pozdrawiam
Paweł Kamiński

kami...@gmail.com
pkaminski....@gmail.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_


On 9 October 2012 19:18, Evan Vigil-McClanahan wrote:

&gt; The difference between w and dw is that for r, only the vnode needs to
&gt; reply that it's gotten the write. On dw, the vnode waits for its backend
&gt; to reply that it has sent the write to the disk. So with dw, you trade off
&gt; latency for a bit more safety.
&gt;
&gt;
&gt; On Tue, Oct 9, 2012 at 10:14 AM, kamiseq  wrote:
&gt;
&gt;&gt; you know what, after another day of searching I ve found out that
&gt;&gt; (following http://wiki.basho.com/HTTP-Delete-Object.html)
&gt;&gt;
&gt;&gt; - rw - quorum for both operations (get and put) involved in deleting
&gt;&gt; an object (default is set at the bucket level)
&gt;&gt; - r - (read quorum) how many replicas need to agree when retrieving
&gt;&gt; the object
&gt;&gt; - pr - (primary read quorum) works like r but requires that the nodes
&gt;&gt; read from are not fallback nodes
&gt;&gt; - w - (write quorum) how many replicas to write to before returning a
&gt;&gt; successful response
&gt;&gt; - dw - (durable write quorum) how many replicas to commit to durable
&gt;&gt; storage before returning a successful response
&gt;&gt; - pw - (primary write quorum) how many replicas to commit to primary
&gt;&gt; nodes before returning a successful response
&gt;&gt;
&gt;&gt; why such description cannot be added to page about bucket configuration,
&gt;&gt; it is really weird to find it in delete object http API specification.
&gt;&gt;
&gt;&gt; still I dont get difference between w and dw but I guess it is not that
&gt;&gt; important for now
&gt;&gt; pozdrawiam
&gt;&gt; Paweł Kamiński
&gt;&gt;
&gt;&gt; kami...@gmail.com
&gt;&gt; pkaminski....@gmail.com
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt;
&gt;&gt;
&gt;&gt; On 9 October 2012 09:19, kamiseq  wrote:
&gt;&gt;
&gt;&gt;&gt; thanks,
&gt;&gt;&gt; I also visited that section but it deals only with n, r and w property
&gt;&gt;&gt; in general. and reading only about n, r and w it feels like you know what
&gt;&gt;&gt; is going on, and then you see dw, rw, pr and pw and googling doesn't bring
&gt;&gt;&gt; clear explanation, so you get more and more confused.
&gt;&gt;&gt;
&gt;&gt;&gt; (heh I know casing doesn't matter :)
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; pozdrawiam
&gt;&gt;&gt; Paweł Kamiński
&gt;&gt;&gt;
&gt;&gt;&gt; kami...@gmail.com
&gt;&gt;&gt; pkaminski....@gmail.com
&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On 9 October 2012 07:31, Martin Westergaard Lassen &gt;&gt; &gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Hi Pawel
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; The "Concept" wiki page (
&gt;&gt;&gt;&gt; http://wiki.basho.com/Concepts.html#Reading%2C-Writing%2C-and-Updating-Data)
&gt;&gt;&gt;&gt; has a good introduction to the most important paramters. Casing doesn't
&gt;&gt;&gt;&gt; matter, so r=R.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; The Riak Handbook has a good and deep explanation of what those
&gt;&gt;&gt;&gt; parameters are http://riakhandbook.com
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; \*Martin Westergaard Lassen\*
&gt;&gt;&gt;&gt; \*Software Pilot\*
&gt;&gt;&gt;&gt; \*\* \*\*
&gt;&gt;&gt;&gt; Trifork A/S\*\*\*\*
&gt;&gt;&gt;&gt; Margrethepladsen 4 · 8000 Aarhus C. · Denmark\*\*\*\*
&gt;&gt;&gt;&gt; Mobile +45 31 12 10 59
&gt;&gt;&gt;&gt; \*\* \*\*
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Den 08/10/2012 kl. 22.56 skrev kamiseq :
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Im looking for explanation what exactly r, pr, w, dw, pw, rw stands for.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Im sorry if this was already posted but I cannot find anything on
&gt;&gt;&gt;&gt; that. I tried wiki.basho.com/Riak-Glossary.html,
&gt;&gt;&gt;&gt; http://wiki.basho.com/HTTP-API.html#Bucket-Operations,
&gt;&gt;&gt;&gt; http://wiki.basho.com/Buckets.html but it only describes N, R, W.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; do I understand correctly that W property is only considered when
&gt;&gt;&gt;&gt; updating value and for first store N value is used? or is it:
&gt;&gt;&gt;&gt; replicate data N times but return success if it was persisted to W
&gt;&gt;&gt;&gt; vnodes.
&gt;&gt;&gt;&gt; if DW is durable write then what W really means? can I get successful
&gt;&gt;&gt;&gt; response after write operation without object being persisted to
&gt;&gt;&gt;&gt; durable storage??
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; I must admit Im quite confused here.
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; And second question, If I set r, pr, w, dw, pw, rw in app.config for
&gt;&gt;&gt;&gt; every configured node in cluster those values will not be added to
&gt;&gt;&gt;&gt; gossiped information, right?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; pozdrawiam
&gt;&gt;&gt;&gt; Paweł Kamiński
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; kami...@gmail.com
&gt;&gt;&gt;&gt; pkaminski....@gmail.com
&gt;&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

