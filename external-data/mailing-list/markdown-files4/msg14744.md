---
title: "RE: Riak python client and Solr"
description: ""
project: community
lastmod: 2014-08-19T13:47:29-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14744"
mailinglist_parent_id: "msg14740"
author_name: "Sapre, Meghna A"
project_section: "mailinglistitem"
sent_date: 2014-08-19T13:47:29-07:00
---


Thanks Eric,
 It throws errors for 'group.field'='build.version'.

search\_results = riak\_client.fulltext\_search(self.Result\_Index, 
'build.type:CI', group='on', 'group.field'='build.version')
Cannot appear past keyword arguments.

I tried some variations of the same, did not seem to work
Any suggestions?

Thanks,
Meghna


From: Eric Redmond [mailto:eredm...@basho.com]
Sent: Tuesday, August 19, 2014 1:12 PM
To: Sapre, Meghna A
Cc: riak-users
Subject: Re: Riak python client and Solr

You don't pass in a query as a url encoded string, but rather a set of 
parameters. So you'd call something like:

search\_results = riak\_client.fulltext\_search(self.Result\_Index, 
'build.type:CI', group='on', 'group.field'='build.version')

Eric


On Aug 19, 2014, at 1:08 PM, Sapre, Meghna A 
&gt; wrote:


Hi,
 I am trying to use the group and stats options with riak search. I get 
expected results with http urls, but not with python-riak-client fulltext pbc 
search.
Here's what I'm trying to do:

q = 'build.type:CI&group=on&group.field=build.version'
try:
 search\_results = 
riak\_client.fulltext\_search(self.Result\_Index, q)
 except Exception as e:
 print e
 log.exception(e)

This throws an error: no field name specified in query and no default specified 
via 'df' param.

The same query string works without the group options, and the complete string 
works in the http API.
Any suggestions on how to make this work?

Thanks,
Meghna

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

