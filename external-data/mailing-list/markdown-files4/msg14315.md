---
title: "Re: Understanding an intermittent mapreduce error"
description: ""
project: community
lastmod: 2014-06-16T06:24:06-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14315"
mailinglist_parent_id: "msg14314"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2014-06-16T06:24:06-07:00
---


Toby,

Could you try this?

1. Run `riak attach`
2. Type into the console: rr(rpc:multicall(riak\_kv\_mapred\_json,
module\_info, [exports])).
3. Paste back to me what the result is

Cheers,


On Mon, Jun 16, 2014 at 3:31 AM, Toby Corkindale  wrote:

&gt; Hi,
&gt; I'm trying to understand why I'm getting an intermittent error on a
&gt; particular map-reduce call to Riak 1.4.9.
&gt; The query isn't particularly complicated, and filters mean it should
&gt; only be running over ~100 keys, and returning &lt;10 each time, so I
&gt; don't think I should be hitting any stack or memory limits in the JS
&gt; VMs.
&gt;
&gt; It fails frequently, but not every time. When pointing it at just a
&gt; single Riak server for debugging purposes, it fails around 30% of the
&gt; time.
&gt; The error returned is as follows:
&gt;
&gt; {
&gt; "input" : null,
&gt; "stack" : null,
&gt; "phase" : 1,
&gt; "error" :
&gt; "{undef,[{riak\_kv\_mapred\_json,jsonify\_not\_found,[{struct,[{&lt;&lt;\"email\"&gt;&gt;,&lt;&lt;\"
&gt; u...@example.com
&gt; \"&gt;&gt;},{&lt;&lt;\"attributes\"&gt;&gt;,[&lt;&lt;\"someattributes\"&gt;&gt;,&lt;&lt;\"somemoreattributes\"&gt;&gt;,&lt;&lt;\"w...\"&gt;&gt;,...]},...]}],...},...]}",
&gt; "type" : null
&gt; }
&gt;
&gt;
&gt; There are no errors in the Riak server logs.
&gt;
&gt;
&gt; Thanks,
&gt; Toby
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;



-- 
Sean Cribbs 
Software Engineer
Basho Technologies, Inc.
http://basho.com/
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

