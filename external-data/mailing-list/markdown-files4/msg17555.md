---
title: "Re: How to best store arbitrarily large Java objects"
description: ""
project: community
lastmod: 2016-07-22T01:14:23-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17555"
mailinglist_parent_id: "msg17552"
author_name: "Henning Verbeek"
project_section: "mailinglistitem"
sent_date: 2016-07-22T01:14:23-07:00
---


Alex,
thanks for the very quick response.

On Thu, Jul 21, 2016 at 5:36 PM, Alex Moore  wrote:
&gt;&gt; I'm beginning to think that I'll need to remodel my data and use CRDTs
&gt;&gt; for individual fields such as the `TreeMap`. Would that be a better
&gt;&gt; way?
&gt;
&gt;
&gt; This sounds like a plausible idea. If you do a lot of possibly conflicting
&gt; updates to the Tree, then a CRDT map would be the way to go. You could
&gt; reuse the key from the main object, and just put it in the new
&gt; buckettype/bucket.

Looking at the 
[documentation](http://docs.basho.com/riak/kv/2.1.4/developing/data-types/maps/)
I assume there are no limits to the amount of entries, right?

&gt; If you don't need to update the tree much, you could also just serialize the
&gt; tree into it's own object - split up the static data and the often updated
&gt; data, and put them in different buckets that share the same key.

The tree is built once and read often, rarely appended to. The problem
with splitting up the object is that the tree makes up about 95% of
the size, so unless I can split up the tree, it wont help much.

Thanks again!
Henning

PS: It'd be great to have a `Converter` that can be instructed to map
fields to CRDT through annotations :)

-- 
My other signature is a regular expression.
http://www.pray4snow.de

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

