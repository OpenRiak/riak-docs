---
title: "Re: Riak basho bench error when running http_raw driver"
description: ""
project: community
lastmod: 2012-03-06T17:32:23-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06912"
mailinglist_parent_id: "msg06900"
author_name: "Andrew Whang"
project_section: "mailinglistitem"
sent_date: 2012-03-06T17:32:23-08:00
---


Thanks Dave. Robert Lowe also informed me of this: 

https://github.com/basho/basho\_bench/pull/25

The combination of the two suggestions worked. Thanks!

Andrew 


On Tuesday, March 6, 2012 at 8:06 AM, David Smith wrote:

&gt; You need to wrap the key generator with int\_to\_str, I believe.
&gt; 
&gt; {key\_generator, {int\_to\_str, {uniform\_int, 10000}}}.
&gt; 
&gt; D.
&gt; 
&gt; On Mon, Mar 5, 2012 at 3:04 PM, Andrew Whang  (mailto:andrewgwh...@yahoo.com)&gt; wrote:
&gt; &gt; Hi,
&gt; &gt; 
&gt; &gt; I'm trying to run the basho bench tool against my Riak cluster using the
&gt; &gt; http\_raw driver, and am coming across the following error:
&gt; &gt; 
&gt; &gt; =ERROR REPORT==== 5-Mar-2012::13:58:09 ===
&gt; &gt; \*\* Generic server &lt;0.430.0&gt; terminating
&gt; &gt; \*\* Last message in was {send\_req,
&gt; &gt; {{url,undefined,"127.0.0.1",8098,undefined,
&gt; &gt; undefined,"/riak/test/5526",undefined},
&gt; &gt; [],get,[],
&gt; &gt; [{response\_format,binary}],
&gt; &gt; 5000}}
&gt; &gt; \*\* When Server state == {state,"127.0.0.1",8098,undefined,#Ref&lt;0.0.0.1604&gt;,
&gt; &gt; false,undefined,[],false,undefined,false,[],
&gt; &gt; {[],[]},
&gt; &gt; 
&gt; &gt; undefined,idle,undefined,&lt;&lt;&gt;&gt;,0,0,[],undefined,
&gt; &gt; 
&gt; &gt; undefined,undefined,undefined,false,undefined,
&gt; &gt; undefined,&lt;&lt;&gt;&gt;,undefined,false,undefined,0,
&gt; &gt; undefined}
&gt; &gt; \*\* Reason for termination ==
&gt; &gt; \*\* {function\_clause,
&gt; &gt; [{ibrowse\_http\_client,send\_req\_1,
&gt; &gt; [{&lt;0.65.0&gt;,#Ref&lt;0.0.0.1605&gt;},
&gt; &gt; {url,undefined,"127.0.0.1",8098,undefined,undefined,
&gt; &gt; "/riak/test/5526",undefined},
&gt; &gt; [],get,[],
&gt; &gt; [{response\_format,binary}],
&gt; &gt; 5000,
&gt; &gt; {state,"127.0.0.1",8098,undefined,#Ref&lt;0.0.0.1604&gt;,false,
&gt; &gt; undefined,[],false,undefined,false,[],
&gt; &gt; {[],[]},
&gt; &gt; undefined,idle,undefined,&lt;&lt;&gt;&gt;,0,0,[],undefined,undefined,
&gt; &gt; 
&gt; &gt; undefined,undefined,false,undefined,undefined,&lt;&lt;&gt;&gt;,undefined,
&gt; &gt; false,undefined,0,undefined}],
&gt; &gt; [{file,"src/ibrowse\_http\_client.erl"},{line,619}]},
&gt; &gt; {gen\_server,handle\_msg,5,[{file,"gen\_server.erl"},{line,578}]},
&gt; &gt; {proc\_lib,init\_p\_do\_apply,3,[{file,"proc\_lib.erl"},{line,227}]}]}
&gt; &gt; 
&gt; &gt; My config:
&gt; &gt; 
&gt; &gt; {mode, max}.
&gt; &gt; {duration, 1}.
&gt; &gt; {concurrent, 3}.
&gt; &gt; {driver, basho\_bench\_driver\_http\_raw}.
&gt; &gt; {key\_generator, {uniform\_int, 10000}}.
&gt; &gt; {value\_generator, {fixed\_bin, 10000}}.
&gt; &gt; {http\_raw\_path, "/riak/test"}.
&gt; &gt; {operations, [{get, 1}, {update, 1}]}.
&gt; &gt; 
&gt; &gt; Any help debugging this error would be great.
&gt; &gt; 
&gt; &gt; Thanks,
&gt; &gt; Andrew
&gt; &gt; 
&gt; &gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; &gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; -- 
&gt; Dave Smith
&gt; VP, Engineering
&gt; Basho Technologies, Inc.
&gt; diz...@basho.com (mailto:diz...@basho.com)
&gt; 
&gt; 


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

