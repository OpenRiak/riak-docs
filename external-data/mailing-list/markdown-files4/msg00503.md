---
title: "Re: Replica Distribution"
description: ""
project: community
lastmod: 2010-06-03T22:29:12-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00503"
mailinglist_parent_id: "msg00501"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2010-06-03T22:29:12-07:00
---


Rebalancing was touched on recently here, 
http://lists.basho.com/pipermail/riak-users\_lists.basho.com/2010-May/001282.html
 .

On Jun 4, 2010, at 1:08 AM, Alan McConnell wrote:

&gt; My (very limited) understanding is that there is a "best effort" attempt to 
&gt; distribute things wisely, but it is not guaranteed. So in the case you've 
&gt; specified, no it is not guaranteed that at least two of the three replicas 
&gt; will go to physically separate nodes.
&gt; 
&gt; I see this in my cluster of 2 nodes with an N-value of 3. If I shutdown one 
&gt; of the nodes and perform reads (w/ R=1), many of the keys are not found. My 
&gt; initial expectation was that with a cluster of 2 and N=3, each node would 
&gt; have at least 1 replica of every key, but that doesn't seem to be the case.
&gt; 
&gt; To anyone that may know: Is there a way to force a re-balancing in a cluster?
&gt; 
&gt; On Thu, Jun 3, 2010 at 9:52 PM, Jason J. W. Williams 
&gt;  wrote:
&gt; Hello,
&gt; 
&gt; I was reading the "So what does N=3 really mean?" section of
&gt; https://wiki.basho.com/display/RIAK/Replication#Replication-ReadRepair
&gt; ...
&gt; 
&gt; The part where it states that 3 replicas will not necessarily go to 3
&gt; physically separate nodes very much surprised me. Is there any
&gt; guarantee at least two of the three replicas will go to physically
&gt; separate nodes?
&gt; 
&gt; Will rack-awareness be possible in the future?
&gt; 
&gt; -J
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

