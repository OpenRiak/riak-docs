---
title: "Re: Deserialising nested Json into java object through Java -clinet"
description: ""
project: community
lastmod: 2015-04-07T10:43:08-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15990"
mailinglist_parent_id: "msg15987"
author_name: "Santi Kumar"
project_section: "mailinglistitem"
sent_date: 2015-04-07T10:43:08-07:00
---


Thanks Brian for the response. Yah we r trying to write that Jackson
deserialiser for our object and was struck there as we r not much familiar
just want to check if there is a direct way. We will either try to share
with you or try solr client directly

Thanks
Santi
 On Apr 7, 2015 9:37 PM, "Brian Roach"  wrote:

&gt; Santi,
&gt;
&gt; There is nothing in the Riak Java client to do that, no.
&gt;
&gt; The result of a search query over the Riak protocol buffers API
&gt; returns the fields you queried for as a series of key/value pairs,
&gt; with the value always being a string. This is unfortunate when it
&gt; comes to mapping those values back to a class (or just serializing
&gt; them to JSON) if there was any non-string values (numbers or null).
&gt;
&gt; The Java client presents a returned document as a Map List&gt; for this reason, the list being required as there could
&gt; be multiple values for a single key.
&gt;
&gt; That said, it shouldn't be too difficult to write a custom
&gt; deserializer for Jackson if you know what the results are going to
&gt; look like in advance. If you could show a dump of the Map being
&gt; returned by the Riak client we may be able to help with that. Another
&gt; option would be to use a Solr client and query Solr directly rather
&gt; than going through Riak.
&gt;
&gt; Thanks,
&gt; Brian Roach
&gt;
&gt;
&gt;
&gt;
&gt; On Tue, Apr 7, 2015 at 8:32 AM, Santi Kumar  wrote:
&gt; &gt; Hi
&gt; &gt; We have a Composite pojo which we are indexing into Riak search. If I see
&gt; &gt; the structure of the object in solr web console, it shows as nested json.
&gt; &gt; Through java client when we query it returns the Map and having
&gt; difficulties
&gt; &gt; in converting it into java object. Is there a way in riak-java client to
&gt; &gt; return a pojo instead of Map and we dealing with jakson mappers?
&gt; &gt;
&gt; &gt; Thanks
&gt; &gt; Santi
&gt; &gt;
&gt; &gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; &gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

