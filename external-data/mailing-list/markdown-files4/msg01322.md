---
title: "Re: Riak Search analyzers"
description: ""
project: community
lastmod: 2010-10-18T11:14:17-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01322"
mailinglist_parent_id: "msg01283"
author_name: "Rusty Klophaus"
project_section: "mailinglistitem"
sent_date: 2010-10-18T11:14:17-07:00
---


Hi Dmitry,

On Wed, Oct 13, 2010 at 11:11 PM, Dmitry Demeshchuk wrote:

&gt; Greetings.
&gt;
&gt; I have a couple of questions regarding the analyzers, mainly the Java ones.
&gt;
&gt; 1. Which platform is preferable for use: OpenJDK or Sun's Java? Say, I
&gt; won't have any uses for JVM so it will be used just for analyzers.
&gt;

We have not seen any appreciable difference between the platforms, either
one should be fine. Search isn't relying on the JVM to do anything overly
complicated.


&gt; 2. Could you please give a brief description of the difference between
&gt; the analyzers?
&gt;

Sure:

\*com.basho.search.analysis.DefaultAnalyzerFactory\* uses Lucene's
StandardTokenizer, filters out words less than 3 characters, converts tokens
to lower case, and filters out the stopwords listed in Lucene's
StopAnalyzer.java (
http://www.koders.com/java/fid5FBD7DCAFB544D74598A9B1D82A341CD648DA47F.aspx?s=java
)

\*com.basho.search.analysis.WhitespaceAnalyzerFactory\* uses Lucene's
Whitespace tokenizer.

\*com.basho.search.analysis.IntegerAnalyzerFactory \*parses the field as
integers and by default pads to 10 places.

\*{erlang, text\_analyzers, default\_analyzer\_factory} \*parses words as having
characters 0-9, a-z, or A-Z, filters out words less than 3 characters,
converts tokens to lower case, and filters out the same list of stopwords as
DefaultAnalyzerFactory.

Two things to note:
- You can create your own analyzers in Java or Erlang, see the source code
under apps/qilr/java\_src
- Due to a regression bug, field-level analyzer settings are not used when
running a query. Whatever default analyzer you set for the schema is used
for all fields.



&gt; 3. I guess you have already made some benchmarks regarding the
&gt; analyzers, haven't you?
&gt;


We have made some rudimentary benchmarks which shows that Erlang analyzers
are currently faster than Java-based analyzers due to the communication
overhead. We will be working on this in future iterations.


&gt; I remember that you are going to add a special page into wiki about
&gt; the subject. Hope this will also help you to gather up the information
&gt; a bit.
&gt;

Absolutely, we will continue to update the wiki with more information about
Search going forward.

Hope that helps!

Best,
Rusty
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

