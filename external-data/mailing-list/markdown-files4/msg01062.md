---
title: "Setting timeout value on REST map-reduce job"
description: ""
project: community
lastmod: 2010-09-10T12:28:59-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01062"
author_name: "SKester"
project_section: "mailinglistitem"
sent_date: 2010-09-10T12:28:59-07:00
---


I am having difficulty getting RIAK to honor the timeout value I am passing
to the REST map/reduce interface. When I run the query against a bucket
with 10,000 entries, the job completes fine. However when I try the same
query against a bucket with 50,000 entries, the job times out after the
default 60 seconds. Here is the query:

{"inputs":"profile\_50000","query":[{"map":{"language":"javascript","source":
"function(v) {var data = Riak.mapValuesJson(v)[0]; var r=[];for(var i in
data.locations){ var o = {}
; o[data.locations[i]] = 1; r.push(o); } return r;
}"}},{"reduce":{"language":"javascript","source":"function(v) { var r = {};
for (var i in v) { for(var w in v[i]) { if (w in
r) r[w] += v[i][w]; else r[w] = v[i][w]; } } return [r];}"}}],"timeout":
600000}

By setting the ³timeout²:600000 I would expect the job to either return, or
timeout after 10 minutes. However it still times out after 1 minute. Can
someone tell me what I am missing here?

Thanks,
Scott

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

