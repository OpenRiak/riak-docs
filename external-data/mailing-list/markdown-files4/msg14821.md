---
title: "Riak crash after starting"
description: ""
project: community
lastmod: 2014-08-31T02:28:20-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14821"
author_name: "Yang Zhenguo"
project_section: "mailinglistitem"
sent_date: 2014-08-31T02:28:20-07:00
---


My steps are as follows:
1. sudo riak start
2. run erl evn
{ok, Pid} = riakc\_pb\_socket:start\_link("127.0.0.1", 8087).
riakc\_pb\_socket:list\_buckets(Pid).

After about 30 seconds, the riak will stop(crash)

Riak version is 2.0. Atached part of log.
BTW, I have another web server cowboy running for handling http request.

Thanks in advance

Zhenguo
www.prinbit.com

======================================================
error.log
2014-08-31 17:14:05.974 [error] &lt;0.287.0&gt;
{mochiweb\_socket\_server,310,{acceptor\_error,{error,accept\_failed}}}
2014-08-31 17:14:06.075 [error] &lt;0.287.0&gt;
{mochiweb\_socket\_server,310,{acceptor\_error,{error,accept\_failed}}}
2014-08-31 17:14:06.847 [error] &lt;0.3769.0&gt; gen\_server yz\_events terminated
with reason: no match of right hand value {error,emfile} in yz\_schema:get/1
line 45
2014-08-31 17:14:06.847 [error] &lt;0.3769.0&gt; CRASH REPORT Process yz\_events
with 0 neighbours exited with reason: no match of right hand value
{error,emfile} in yz\_schema:get/1 line 45 in gen\_server:terminate/6 line 744
2014-08-31 17:14:06.848 [error] &lt;0.533.0&gt; Supervisor yz\_general\_sup had
child yz\_events started with yz\_events:start\_link() at &lt;0.3769.0&gt; exit with
reason no match of right hand value {error,emfile} in yz\_schema:get/1 line
45 in context child\_terminated
2014-08-31 17:14:06.848 [error] &lt;0.533.0&gt; Supervisor yz\_general\_sup had
child yz\_events started with yz\_events:start\_link() at &lt;0.3769.0&gt; exit with
reason reached\_max\_restart\_intensity in context shutdown
2014-08-31 17:14:06.869 [error] &lt;0.530.0&gt; Supervisor yz\_sup had child
yz\_general\_sup started with yz\_general\_sup:start\_link() at &lt;0.533.0&gt; exit
with reason shutdown in context child\_terminated
2014-08-31 17:14:06.869 [error] &lt;0.530.0&gt; Supervisor yz\_sup had child
yz\_general\_sup started with yz\_general\_sup:start\_link() at &lt;0.533.0&gt; exit
with reason reached\_max\_restart\_intensity in context shutdown

crash.log
2014-08-31 17:14:06 =SUPERVISOR REPORT====
 Supervisor: {local,yz\_general\_sup}
 Context: shutdown
 Reason: reached\_max\_restart\_intensity
 Offender:
[{pid,&lt;0.3769.0&gt;},{name,yz\_events},{mfargs,{yz\_events,start\_link,[]}},{restart\_type,permanent},{shutdown,5000},{child\_type,worker}]

2014-08-31 17:14:06 =SUPERVISOR REPORT====
 Supervisor: {local,yz\_sup}
 Context: child\_terminated
 Reason: shutdown
 Offender:
[{pid,&lt;0.533.0&gt;},{name,yz\_general\_sup},{mfargs,{yz\_general\_sup,start\_link,[]}},{restart\_type,permanent},{shutdown,infinity},{child\_type,supervisor}]

2014-08-31 17:14:06 =SUPERVISOR REPORT====
 Supervisor: {local,yz\_sup}
 Context: shutdown
 Reason: reached\_max\_restart\_intensity
 Offender:
[{pid,&lt;0.533.0&gt;},{name,yz\_general\_sup},{mfargs,{yz\_general\_sup,start\_link,[]}},{restart\_type,permanent},{shutdown,infinity},{child\_type,supervisor}]
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

