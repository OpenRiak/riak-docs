---
title: "Re: Docs on Rspec & Ripple"
description: ""
project: community
lastmod: 2011-02-12T20:43:43-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02308"
mailinglist_parent_id: "msg02305"
author_name: "Mat Ellis"
project_section: "mailinglistitem"
sent_date: 2011-02-12T20:43:43-08:00
---


I got the wrong impression, I thought the test\_server was setup by the script. 
Once we setup a variant of the dev environment and pointed test\_server.rb at 
that things moved forward. Now we just get:

"Broken pipe when recycling, is Riak alive?"


On Feb 12, 2011, at 8:31 PM, Mat Ellis wrote:

&gt; The specific issue we're having is that we can't get the test server to stay 
&gt; up, it seems to die after 5-6 seconds.
&gt; 
&gt; We setup our dev environments based on the Riak Fast Track and so there was 
&gt; nothing in RIAK\_ROOT/rel/riak/bin. 
&gt; 
&gt; We tried RIAK\_ROOT/dev/dev1/bin and also 'make rel' in RIAK\_ROOT. 
&gt; 
&gt; Any time we try any Ripple operations against the test server we get 
&gt; 'EOFError: end of file reached.'
&gt; 
&gt; M.
&gt; 
&gt; On Feb 12, 2011, at 8:23 PM, Sean Cribbs wrote:
&gt; 
&gt;&gt; The generators are there to help (assuming you have Ripple in your bundle):
&gt;&gt; 
&gt;&gt; Ripple:
&gt;&gt; ripple
&gt;&gt; ripple:configuration
&gt;&gt; ripple:js
&gt;&gt; ripple:model
&gt;&gt; ripple:test
&gt;&gt; 
&gt;&gt; The root "ripple" generator will generate configuration, js, and test. 
&gt;&gt; 
&gt;&gt; The "configuration" generator adds a config/ripple.yml that you use normally 
&gt;&gt; to set up your dev and prod environments, and a hint on how to set up the 
&gt;&gt; test env. The test server also gets its configuration from the file. The 
&gt;&gt; only thing you really need to set is "bin\_dir", which gives the directory 
&gt;&gt; where the "riak" start script lives (depends on how you installed Riak, 
&gt;&gt; obviously).
&gt;&gt; 
&gt;&gt; The "test" generator will add the file spec/support/ripple.rb which wraps 
&gt;&gt; the test-server up for you in a friendly package. It also inserts an "after 
&gt;&gt; :each" block to your spec\_helper.rb that wires up clearing the data for you. 
&gt;&gt; The test server is completely independent of any stubbing or additional 
&gt;&gt; testing frameworks you use and so it should still work for your specs. 
&gt;&gt; Think of it like having a separate test database, with a big rolled-back 
&gt;&gt; transaction at the end of each example.
&gt;&gt; 
&gt;&gt; Sean Cribbs 
&gt;&gt; Developer Advocate
&gt;&gt; Basho Technologies, Inc.
&gt;&gt; http://basho.com/
&gt;&gt; 
&gt;&gt; On Feb 12, 2011, at 11:02 PM, Mat Ellis wrote:
&gt;&gt; 
&gt;&gt;&gt; Is there a tutorial or a walk-through available for testing with Rspec & 
&gt;&gt;&gt; Ripple? Currently ploughing our way through 
&gt;&gt;&gt; https://github.com/seancribbs/ripple/tree/41a7f741603ea186d97064ff3ef542238a078135/ripple/spec
&gt;&gt;&gt; attempting to make the in memory test server work. And of course, our 
&gt;&gt;&gt; Rspec setup is a little different (mocha stubbing, shoulda, etc.) We'll 
&gt;&gt;&gt; probably get there eventually any docs or cribsheets would be helpful.
&gt;&gt;&gt; 
&gt;&gt;&gt; TIA M.
&gt;&gt;&gt; 
&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt; 
&gt; 

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

