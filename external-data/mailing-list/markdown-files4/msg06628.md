---
title: "Re: Bucket properties persist across crash/restart?"
description: ""
project: community
lastmod: 2012-02-17T14:07:24-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06628"
mailinglist_parent_id: "msg06604"
author_name: "Mark Phillips"
project_section: "mailinglistitem"
sent_date: 2012-02-17T14:07:24-08:00
---


As far as I know we have never seen anything like this in testing or have
we had it reported. For that reason I'm inclined to say that you forget to
run your script. Any chance you straightened things out? Or are you still
trying to rectify things?

Mark


On Tue, Feb 14, 2012 at 4:00 PM, Anthony Molinaro &lt;
antho...@alumni.caltech.edu&gt; wrote:

&gt; Hi,
&gt;
&gt; I have a system running riak 0.14.2 (I've kept from updating it based
&gt; on all the bugs around adding of new nodes which I have to do fairly
&gt; regularly, and which I hope are fixed in the upcoming 1.1).
&gt;
&gt; I noticed something peculiar going on. I use the multi backend with
&gt; several different bitcask backends. I do this so I can have different
&gt; expirations on them. I also have a default completely separate backend.
&gt; I had a script I could run the first time I bring a node up to set the
&gt; bucket properties.
&gt;
&gt; However, I've noticed that now some nodes point to the default
&gt; backends, others point to the specific backends. Basically it's
&gt; all jumbled up. So, I'm not sure what happened. Either
&gt;
&gt; 1. riak forgets bucket properties on restart/crash and restart
&gt; 2. I forgot to run my script when setting up new machines
&gt;
&gt; So is it 1 or 2? And how can I get myself out of this mess? Can I
&gt; do something like remove a node, then re-add it? I'd prefer not to
&gt; lose data if possible, so any hints would be great.
&gt;
&gt; -Anthony
&gt;
&gt; --
&gt; ------------------------------------------------------------------------
&gt; Anthony Molinaro 
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

