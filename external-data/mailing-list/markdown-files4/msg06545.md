---
title: "Is riak the right choice to log and retrieve log data?"
description: ""
project: community
lastmod: 2012-02-06T02:22:31-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06545"
author_name: "Heiner Bunjes"
project_section: "mailinglistitem"
sent_date: 2012-02-06T02:22:31-08:00
---



I need a database to log and retrieve sensor data.

Is riak the right solution for this task and if, how?
If not, which other DB system might be a better fit?

I know that before the implementation of secondary indices riak probably 
was not suitable for this kind of task. I just hope it is now.




The details are as follows:

######## 

Glossary

- Node = A computer on which an instance of the database
 is running

- Blip = one data record send by a sensor

- Blip page = The sorted list of all blips for a specific sensor
 and a specific time range.


The scale is as follows:

(01) 10E6 sensors deliver 1 blip every 100 seconds
 -&gt; Insert rate = 10 kiloblip/s
 -&gt; Insert rate ~ 315 gigablip/Year

(02) They have to be stored for ~3 years
 -&gt; Size of database = 1 terablip

(03) Each blip has about 200 bytes
 -&gt; Size of database = 200TB

(04) The system will start with just 10E4 sensors but will
 soon increase upto the described volume.


The main operations on the data are:

(05) Add the new blips to the database
 (written blips are never changed)!

(06) Return all blips for sensor X with a timestamp
 between timestamp\_a and timestamp\_b!
 With other words: Return a blip page.

(07) Return all the blips specified in (06) ordered
 by timestamp!

(08) Delete all blips older than Y!


Further the following is true:

(09) Each added blip is clearly (without ambiguity) identifiable by
 sensor\_id+timestamp.

(10) 99.9% of the blips are inserted in
 chronological order, the rest is not.

(11) The database system MUST be free and open source.

(12) The DB SHOULD be easy to administrate.

(13) All data MUST still be writable and readable while less
 then the configurable number N of nodes are down (unexpectedly).

(14) The mechanisms to distribute the data to the available
 nodes SHOULD be handled by the database.
 This means that the database SHOULD automatically
 redistribute the data when nodes are added or removed.

######## 


Many thanks in advance
Heiner

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

