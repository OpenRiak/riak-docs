---
title: "Re: Cant load data after enabling indexing on bucket with precommit	hook"
description: ""
project: community
lastmod: 2012-01-24T17:38:27-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06396"
mailinglist_parent_id: "msg06395"
author_name: "Gordon Tillman"
project_section: "mailinglistitem"
sent_date: 2012-01-24T17:38:27-08:00
---


Charles by default search is disabled. Take a look in your app.config file and 
make sure you have set the following:


{riak\_search, [
 %% To enable Search functionality set this 'true'.
 {enabled, true}
 ]},


--gordon

On Jan 24, 2012, at 19:18 , charlesugwuh wrote:

&gt; I'm using Riak 1.0.2 with the LevelDB Backend.
&gt; 
&gt; I was trying to use the Search function e.g. curl
&gt; http://localhost:8098/solr/customers/select?q=first\_name:john
&gt; 
&gt; However, from the online documentation, it says I have to enable indexing
&gt; for the bucket i.e. curl -X PUT -H "content-type:application/json"
&gt; http://localhost:8098/riak/demo2 --data @-
&gt; {"props":{"precommit":[{"mod":"riak\_search\_kv\_hook","fun":"precommit"}]}}
&gt; 
&gt; My bucket already had data in it, mostly in the key:array format as opposed
&gt; to key:plaintext. I enabled the bucket for indexing using the curl call
&gt; above.
&gt; 
&gt; But now, I can't store data to the bucket anymore. Is there something I'm
&gt; doing wrong?
&gt; 
&gt; 
&gt; 
&gt; 
&gt; --
&gt; View this message in context: 
&gt; http://riak-users.197444.n3.nabble.com/Cant-load-data-after-enabling-indexing-on-bucket-with-precommit-hook-tp3686584p3686584.html
&gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

