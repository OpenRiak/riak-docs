---
title: "Re: When's the PBC API going to be brought up to snuff?"
description: ""
project: community
lastmod: 2011-04-21T13:43:53-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03117"
mailinglist_parent_id: "msg03116"
author_name: "Andrew Thompson"
project_section: "mailinglistitem"
sent_date: 2011-04-21T13:43:53-07:00
---


On Thu, Apr 21, 2011 at 01:36:47PM -0700, Bryan O'Sullivan wrote:
&gt; On Wed, Apr 20, 2011 at 2:28 PM, Andrew Thompson  wrote:
&gt; 
&gt; &gt; Changes include conditional get [{if\_modified, VClock}], conditional put
&gt; &gt; [if\_none\_match], [if\_not\_modified] and a way to get the metadata of an
&gt; &gt; object without its value; [head].
&gt; &gt;
&gt; 
&gt; It's a good start, thanks. One particular case of conditional PUT that I
&gt; would find very useful is "put only if this bucket/key does not already
&gt; exist", which I can achieve using HTTP via "If-None-Match: \*", and now via
&gt; the new if\_none\_match on RpbPutReq. It seems weird to transplant the
&gt; relevant HTTP header names to the protobuf specifications of RpbPutReq and
&gt; RpbGetReq, though, as those names make no sense outside of a HTTP context,
&gt; and they don't mirror the HTTP semantics anyway. If if\_none\_match was
&gt; if\_missing, for instance, that would reduce the cognitive dissonance.

I can certainly rename them, I wasn't sure if it was better to try to
approximate the REST API or not. I'm happy to make that change and
consider any other suggestions now before the API gets merged into
master and we have to start considering backwards compatability.

if\_none\_match and head seem like the ones that make less sense outside
the concept of the REST API, I think if\_[not]\_modified is fairly clear.

Thoughts?

Andrew

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

