---
title: "Re: Using Riak on systemd based Ubuntu"
description: ""
project: community
lastmod: 2015-10-02T09:04:26-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16599"
mailinglist_parent_id: "msg16576"
author_name: "Matthew Brender"
project_section: "mailinglistitem"
sent_date: 2015-10-02T09:04:26-07:00
---


Hey Matthew,

It seems you ran into some documentation gaps that we should address.
Please open up one or more of them on the docs repo when you can [1]

Could you restate what specifically someone can help you do?

[1] 
https://github.com/basho/basho\_docs/issues?utf8=%E2%9C%93&q=is%3Aissue+is%3Aopen+riak+cs

Thanks!
Matt Brender | Developer Advocacy Lead
Basho Technologies
t: @mjbrender


On Wed, Sep 30, 2015 at 7:23 PM, Matthew Hall  wrote:
&gt; Hello List,
&gt;
&gt; Today I tried to get the following items to work in Ubuntu 15.04 Vivid with
&gt; systemd based SysV compatibility to run the init scripts:
&gt;
&gt; Riak 2.1.1
&gt; Stanchion 2.0.0
&gt; Riak CS 2.0.1
&gt; Riak CS Control 1.0.2
&gt;
&gt; My app.config files are here for reference:
&gt;
&gt; https://gist.github.com/megahall/676ca0410af4aacc4f74
&gt;
&gt; When I attempted this, both Stanchion and Riak CS fail to stay running for the
&gt; 15 second expected time in the init scripts.
&gt;
&gt; So I read through the "stanchion console" and "riak-cs console" output.
&gt;
&gt; There were some backtraces there complaining about EACCES coming via mochiweb.
&gt;
&gt; Upon modifying /usr/sbin/stanchion and /usr/sbin/riak-cs to add an strace -f
&gt; to track the system calls, I determined that there is an EACCES error raised
&gt; by attempting to bind some sub-process socket onto Port 80. It is hard to see
&gt; what sub-thread or sub-process exactly was the cause.
&gt;
&gt; This is very confusing because none of my configuration mentions Port 80 at
&gt; all.
&gt;
&gt; The configuration works OK in Ubuntu 14.10 without systemd. So now I am
&gt; wondering if anybody has figured out how to get it to work right inside of
&gt; systemd with some .service file examples and so on. It's really important for
&gt; the project I am trying to get done.
&gt;
&gt; Thanks,
&gt; Matthew.
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

