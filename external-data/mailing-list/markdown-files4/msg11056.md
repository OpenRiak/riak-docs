---
title: "Re: Which nodes in a cluster are responsible for hinted handoff,	when one node fails?"
description: ""
project: community
lastmod: 2013-05-12T11:40:15-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11056"
mailinglist_parent_id: "msg11053"
author_name: "Christian Dahlqvist"
project_section: "mailinglistitem"
sent_date: 2013-05-12T11:40:15-07:00
---


Hi Christian,

One of the reasons we always recommend to have a minimum of 5 nodes in the 
cluster is that the responsibility for fall-back partitions can be distributed 
fairly evenly among the remaining nodes if one goes down. With only 4 nodes in 
the cluster it is much less likely that the responsibility for fall-back 
partitions will be evenly distributed, and you may experience some nodes 
getting much more than others.

If you were to add a node to your cluster and perform the test again you should 
see a much more even distribution.

Best regards,

Christian


On 12 May 2013, at 12:48, Christian Steinmann  
wrote:

&gt; Hello,
&gt; 
&gt; i made a test with a 4 node cluster, where 1 node (node 4) is stopped after 
&gt; half an hour. Half an hour later i restarted this node. I analyzed the logs 
&gt; of all nodes after 2 hours. Node 1 and 2 had handoff data for node 4, node 3 
&gt; not. The Bench Tool was running all the time and sending inserts to node 1,2 
&gt; and 3. 
&gt; 
&gt; My questions are: Are only some nodes responsible for hinted handoff, when a 
&gt; specific node fails? Can i find some documentation about this behavior 
&gt; somewhere?
&gt; 
&gt; Greetings Christian
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

