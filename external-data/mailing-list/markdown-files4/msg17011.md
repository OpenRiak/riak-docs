---
title: "Re: map reduce on multiple buckets"
description: ""
project: community
lastmod: 2016-02-08T08:25:40-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17011"
mailinglist_parent_id: "msg17002"
author_name: "Alex Moore"
project_section: "mailinglistitem"
sent_date: 2016-02-08T08:25:40-08:00
---


One possibility would be to get the intermediate results from each bucket,
and then compute the final results on the client. How much data would be
involved in the initial MR, and at the point where you would have to
combine the results?

--Alex

On Thu, Jan 28, 2016 at 12:10 PM, Eugene Shubin  wrote:

&gt; I want to keep daily and weekly data in different buckets, and generate
&gt; monthly report using map reduce on these two.
&gt; so 2 buckets and MR operations are custom.
&gt;
&gt; Best,
&gt; Eugene
&gt;
&gt; 2016-01-28 17:29 GMT+01:00 Alex Moore :
&gt;
&gt;&gt; Hi Eugene,
&gt;&gt;
&gt;&gt; MR is limited to one bucket for inputs, and the Solr inputs to a map
&gt;&gt; phase have this restriction too.
&gt;&gt;
&gt;&gt; How many buckets are you trying to MR across, and also what type of MR
&gt;&gt; operation are you trying to do? There may be another way to get around this
&gt;&gt; restriction.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Alex
&gt;&gt;
&gt;&gt; On Thu, Jan 28, 2016 at 8:10 AM, Eugene Shubin 
&gt;&gt; wrote:
&gt;&gt;
&gt;&gt;&gt; Is it possible to run mapreduce job on two or more buckets?
&gt;&gt;&gt; I see from documentation that it might be possible if I specify inputs
&gt;&gt;&gt; as list of {bucket, key} pairs,
&gt;&gt;&gt; although list of secondary index inputs causes an error:
&gt;&gt;&gt; riakc\_pb\_socket:mapred(P, [
&gt;&gt;&gt; {index, Bucket1, Index1, From, To},
&gt;&gt;&gt; {index, Bucket2, Index2, From, To}
&gt;&gt;&gt; ], ...
&gt;&gt;&gt; {error,&lt;&lt;"{inputs,{\"Inputs target tuples must be {B,K} or
&gt;&gt;&gt; {{B,K},KeyData}:\",\n
&gt;&gt;&gt;
&gt;&gt;&gt; Is it possible using Solr (riak search) indexes?
&gt;&gt;&gt;
&gt;&gt;&gt; Evgenii Shubin
&gt;&gt;&gt;
&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

