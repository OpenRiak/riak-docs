---
title: "Re: bucket props question"
description: ""
project: community
lastmod: 2013-12-11T11:46:09-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13215"
mailinglist_parent_id: "msg13212"
author_name: "Tom Santero"
project_section: "mailinglistitem"
sent_date: 2013-12-11T11:46:09-08:00
---


Hi Bryce,

You generally want to avoid creating too many buckets with custom bucket
properties, as this gets stored in Riak's ring data. A large number of
custom buckets will degrade cluster performance.

Is there any reason why you don't just create two buckets, with the desired
LWW/allow\_mult=true settings and then prepend the timestamp to your key?

Tom


On Wed, Dec 11, 2013 at 1:47 PM, Bryce Verdier wrote:

&gt; Hi All,
&gt;
&gt; Is it at all possible to have default bucket props be based on the bucket
&gt; names? I ask because I'm trying to use Riak to store key/value data and use
&gt; the buckets to separate the data based on day and for a couple of different
&gt; projects, for example:
&gt;
&gt; buckets/project-year-month-day/key
&gt;
&gt; The issue becomes I have one project that needs 'allow\_mult' to true, and
&gt; another that needs 'last\_write\_wins' set to true (requiring that
&gt; 'allow\_mult' be false). So using the default\_buckets\_props will only get me
&gt; half way there.
&gt;
&gt; Does anyone know of a way I can do this? The only solution I can think of
&gt; off the top of my head is to create a cron job that creates the bucket
&gt; sooner than when the clients start writing to it.
&gt;
&gt; Thank you in advance,
&gt;
&gt; Bryce
&gt;
&gt; PS -- can anyone tell me what:
&gt; {multi\_backend\_prefix\_list, [{&lt;&lt;"0b:"&gt;&gt;, be\_blocks}]}}
&gt; does?
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

