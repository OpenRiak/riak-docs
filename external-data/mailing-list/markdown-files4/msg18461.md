---
title: "Re: Riak KV performance in sensor data storage application"
description: ""
project: community
lastmod: 2017-10-03T10:24:06-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18461"
mailinglist_parent_id: "msg18460"
author_name: "Martin Sumner"
project_section: "mailinglistitem"
sent_date: 2017-10-03T10:24:06-07:00
---


I suspect with the test environment having only 4GB of RAM and a single
slow disk per node - both Leveldb and Leveled are going to struggle in
terms of the write throughput. As n=1 in this test, some of the advantages
of Leveled will be lost also (e.g. the n HEADs advantage).

I thought the paper was really interesting though. It highlights an area
of riak performance - merge effectiveness - that is not often discussed.
I've ignored merge effectiveness as a measure between leveldb and leveled,
but it is an area where leveldb is currently notably better (and may well
be better than Bitcask).

As DeadZen mentioned having awareness of file system space is interesting.
The "fisherman's algorithm" approach mentioned in the paper is a neat, I've
not thought about having a "Target Usage Level" - and I think this is
potentially a better way of tuning a backend merge process. I will try and
put some effort in writing up the approach to tuning merge effectiveness
that is implemented in leveled sometime soon for comparison.


On 3 October 2017 at 17:32, DeadZen  wrote:

&gt; This looks cool, and might give some indication that back pressure
&gt; should be aware of available file system space..
&gt; Any plans on LevelDB testing? A newer option Leveled might be cool to
&gt; compare with as well.
&gt;
&gt; On Tue, Oct 3, 2017 at 6:58 AM, Grigory Fateyev  wrote:
&gt; &gt; Yury, thank you for sharing your investigations. It is very useful to
&gt; read!
&gt; &gt;
&gt; &gt; 2017-10-03 8:32 GMT+03:00 Yury Shevchuk :
&gt; &gt;&gt;
&gt; &gt;&gt; Greetings!
&gt; &gt;&gt;
&gt; &gt;&gt; We have published a paper on the subject. It may be of interest for
&gt; &gt;&gt; Riak developers and users who put Riak under heavy write load.
&gt; &gt;&gt;
&gt; &gt;&gt; English: http://psta.psiras.ru/read/psta2017\_3\_61-85.pdf
&gt; &gt;&gt; Russian (native): http://psta.psiras.ru/read/psta2017\_3\_31-60.pdf
&gt; &gt;&gt;
&gt; &gt;&gt; Best,
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; -- Yury
&gt; &gt;&gt;
&gt; &gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; &gt;&gt; riak-users mailing list
&gt; &gt;&gt; riak-users@lists.basho.com
&gt; &gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; &gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;

-- 
\*\*\*\*\* Email confidentiality notice \*\*\*\*\*
This message is private and confidential. If you have received this 
message in error, please let us know and remove it from your system.
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

