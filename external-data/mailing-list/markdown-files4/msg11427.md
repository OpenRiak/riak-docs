---
title: "Re: Riak consistency state hook"
description: ""
project: community
lastmod: 2013-07-09T06:53:29-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11427"
mailinglist_parent_id: "msg11425"
author_name: "Kresten Krab Thorup"
project_section: "mailinglistitem"
sent_date: 2013-07-09T06:53:29-07:00
---


You can get the last minute and aggregate number of read repairs from riak 
stats. Right now for instance, one of my riaks says this in response to 
"riak-admin stats".

read\_repairs : 91
read\_repairs\_total : 3714893

Kresten


Mobile: + 45 2343 4626 | Skype: krestenkrabthorup | Twitter: @drkrab
Trifork A/S | Margrethepladsen 4 | DK- 8000 Aarhus C | Phone : +45 8732 
8787 | www.trifork.com
On Jul 9, 2013, at 3:46 PM, Todd Tyree  wrote:

&gt; Hello Evgeniy, 
&gt; 
&gt; The consistency mechanisms, Hinted Handoff, Active Anti-Entropy (AAE) and 
&gt; Read Repair, all occur automatically. You can get an overview of the Hinted 
&gt; Handoff progress using `riak-admin transfers`. If you need more detail, you 
&gt; can parse the cluster logs and look for the entries related to Hinted Handoff 
&gt; and AAE. As Read Repair is done on a per-request basis, it is not logged. 
&gt; 
&gt; Hope that helps,
&gt; 
&gt; Best,
&gt; Todd
&gt; 
&gt; 
&gt; On Tue, Jul 9, 2013 at 2:09 PM, Evgeniy Shishkin  
&gt; wrote:
&gt; Hello gentlemen!
&gt; 
&gt; Lets say we have a cluster of 6 machines. Somewhere in time 3 machines (A 
&gt; part) got separated from 3 other machines (B part). After that I did some 
&gt; commits on B part (w = 3, handoff occured).
&gt; 
&gt; Later the network partitioning has gone. A and B parts are now connected 
&gt; again. One of consistency mechanisms will start to do its job to make DB 
&gt; consistent.
&gt; 
&gt; 1. Do I have any chance to be acknowledged when this consistency thing will 
&gt; finish its job? 
&gt; 
&gt; 2. More generally, do you think that such mechanism might be useful for end 
&gt; users? 
&gt; 
&gt; Thank you for your effort.
&gt; 
&gt; Evgeniy.
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; 
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

