---
title: "Re: Re: too_many_results error"
description: ""
project: community
lastmod: 2011-01-16T05:43:04-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01996"
mailinglist_parent_id: "msg01995"
author_name: "Rusty Klophaus"
project_section: "mailinglistitem"
sent_date: 2011-01-16T05:43:04-08:00
---


Hi Eric,

This is a failsafe that is applied prior to the 'rows' parameter.

It is applied separately to provide a hard system limit, intended to allow
the cluster administrator to guard against a malicious user, a client
application that accidentally requests too much data, etc.

Best,
Rusty

On Sun, Jan 16, 2011 at 8:38 AM, Eric Moritz wrote:

&gt; Would using the rows URL parameter fix this or is the error occurring prior
&gt; to the result being limited?
&gt; ---------- Forwarded message ----------
&gt; From: "Rusty Klophaus" 
&gt; Date: Jan 16, 2011 8:34 AM
&gt; Subject: Re: too\_many\_results error
&gt; To: "Malka Feldman" 
&gt; Cc: 
&gt;
&gt; Hi Malka,
&gt;
&gt; The error you see is caused by a protective configuration setting that is
&gt; new in the 0.14 release. By default, the system will stop the query after
&gt; 100,000 results and return an error to the system. It is intended to prevent
&gt; Riak Search from grabbing all available memory when faced with a large
&gt; result set.
&gt;
&gt; You can override this by setting the 'max\_search\_results' setting in the
&gt; etc/app.config file.
&gt;
&gt; Best,
&gt; Rusty
&gt;
&gt; On Sun, Jan 16, 2011 at 7:11 AM, Malka Feldman wrote:
&gt;
&gt;&gt; Hi
&gt;&gt; I try to get results from query through solr , but I get the error of too
&gt;&gt; many results
&gt;&gt; the query is :
&gt;&gt; http://79.125.59.136:8098/solr/user\_profile/select?q=country:USA
&gt;&gt; I know I can have hundreds of thousands of answers, can it hold them?
&gt;&gt;
&gt;&gt; the error :
&gt;&gt;
&gt;&gt; {error,
&gt;&gt; {throw,
&gt;&gt; {too\_many\_results,
&gt;&gt; {scope,#Ref&lt;0.0.78.140604&gt;,"user\_profile","value",
&gt;&gt; {scope,#Ref&lt;0.0.78.140603&gt;,undefined,"country",
&gt;&gt; {term,#Ref&lt;0.0.78.140609&gt;,&lt;&lt;"USA"&gt;&gt;,
&gt;&gt; [{'riak@10.230.7.111',28438},
&gt;&gt; {'riak@10.230.21.243',28438},
&gt;&gt; {'riak@10.230.45.195',28438}],
&gt;&gt; 28438.0,1.0,
&gt;&gt; #Fun}}}},
&gt;&gt; [{riak\_search\_client,'-search/5-fun-0-',4},
&gt;&gt; {riak\_search\_client,fold\_results,5},
&gt;&gt; {riak\_search\_client,search,6},
&gt;&gt; {riak\_search\_client,search\_doc,6},
&gt;&gt; {riak\_solr\_searcher\_wm,run\_query,1},
&gt;&gt; {riak\_solr\_searcher\_wm,to\_xml,2},
&gt;&gt; {webmachine\_resource,resource\_call,3},
&gt;&gt; {webmachine\_resource,do,3}]}}
&gt;&gt;
&gt;&gt;
&gt;&gt; thanks,
&gt;&gt; --
&gt;&gt;
&gt;&gt; \*Malka Feldman\*
&gt;&gt; Tribase LTD.
&gt;&gt;
&gt;&gt; 41 Shimon Hatzadik St.
&gt;&gt;
&gt;&gt; Elad, Israel
&gt;&gt;
&gt;&gt; Tel. 074-7122736 Fax. 03-9075211 Cell. 972-54-8370828
&gt;&gt;
&gt;&gt; m al...@3basegroup.com
&gt;&gt;
&gt;&gt; www.3basegroup.com 
&gt;&gt;
&gt;&gt; [image: cid:image001.jpg@01CB2DDB.3AC492C0]
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

