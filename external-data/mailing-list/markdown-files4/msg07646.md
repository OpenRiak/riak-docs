---
title: "Re: Are integer indexes in 2i 64-bit or 32-bit?"
description: ""
project: community
lastmod: 2012-06-08T07:50:49-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07646"
mailinglist_parent_id: "msg07644"
author_name: "Brian Roach"
project_section: "mailinglistitem"
sent_date: 2012-06-08T07:50:49-07:00
---


The problem with long on Java is that it's a signed 64 bit int which doesn't 
fully solve the issue; there would be someone out there that would send in a 
bug saying that when you hit 2^63 it rolled over. 

The plan (if my memory is working, I have this written down on an ever growing 
todo list) is to switch to using BigInteger internally in RiakIndex with the 
interface / annotations allowing for any of the types to be passed in. 

- Roach

On Jun 8, 2012, at 4:18 AM, Guido Medina wrote:

&gt; I would say just to add long and Long for indexing (So it that it supports 
&gt; Long, Integer and their respective natives), using BigNumber subclasses have 
&gt; a different semantic and would restrict the developers when designing the 
&gt; Riak POJOs.
&gt; 
&gt; Guido.
&gt; 
&gt; On 08/06/12 06:37, Russell Brown wrote:
&gt;&gt; 
&gt;&gt; On 7 Jun 2012, at 22:55, Guido Medina wrote:
&gt;&gt; 
&gt;&gt;&gt; All points to 32 bits, at least for the Java client side (indexes can be of 
&gt;&gt;&gt; type Integer, not Long which is the 64 bits) Look for RiakIndex.java, that 
&gt;&gt;&gt; will give you some answers.
&gt;&gt; 
&gt;&gt; That's a mistake on the part of the client developer at that time (me). They 
&gt;&gt; should probably be BigInteger, since integers can be arbitrarily large in 
&gt;&gt; erlang. I'm pretty sure Brian Roach (the new, smarter, Java developer) is 
&gt;&gt; addressing this https://github.com/basho/riak-java-client/issues/112
&gt;&gt; 
&gt;&gt; Russell
&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; I don’t know the exact answer though.
&gt;&gt;&gt; 
&gt;&gt;&gt; Regards,
&gt;&gt;&gt; 
&gt;&gt;&gt; Guido.
&gt;&gt;&gt; 
&gt;&gt;&gt; From: Alexander Sicular
&gt;&gt;&gt; Sent: Thursday, June 07, 2012 10:43 PM
&gt;&gt;&gt; To: Berend Ozceri
&gt;&gt;&gt; Cc: riak-users@lists.basho.com
&gt;&gt;&gt; Subject: Re: Are integer indexes in 2i 64-bit or 32-bit?
&gt;&gt;&gt; 
&gt;&gt;&gt; I would say yes... Probably, if you're on a 64bit system. . Unless you're 
&gt;&gt;&gt; shifting stuff through JavaScript in which case I doubt it. Cause last I 
&gt;&gt;&gt; checked, js don't speak 64bit int. 
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; @siculars on twitter
&gt;&gt;&gt; http://siculars.posterous.com
&gt;&gt;&gt; 
&gt;&gt;&gt; Sent from my iRotaryPhone
&gt;&gt;&gt; 
&gt;&gt;&gt; On Jun 7, 2012, at 17:08, Berend Ozceri  wrote:
&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; I apologize for asking this question if it's an FAQ or is documented 
&gt;&gt;&gt;&gt; somewhere, but I don't see anything specific mentioned about the size of 
&gt;&gt;&gt;&gt; integer indexes in 2i:
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; http://wiki.basho.com/Secondary-Indexes.html
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; I certainly could dive into to source code to answer this question, but in 
&gt;&gt;&gt;&gt; case someone here knows, what's the size of an integer index in 2i? I'm 
&gt;&gt;&gt;&gt; hoping that the answer will be that it's 64 bits…
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Berend
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;&gt; 
&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

