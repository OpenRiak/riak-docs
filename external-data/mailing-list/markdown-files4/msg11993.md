---
title: "Re: different versions in upgrade"
description: ""
project: community
lastmod: 2013-08-13T05:43:55-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11993"
mailinglist_parent_id: "msg11992"
author_name: "Bhuwan Chawla"
project_section: "mailinglistitem"
sent_date: 2013-08-13T05:43:55-07:00
---


Having done a similar upgrade, a gotcha to keep in mind:


"Note for Secondary Index users
If you use Riak's Secondary Indexes and are upgrading from a version prior
to Riak version 1.3.1, you need to reformat the indexes using the
riak-admin reformat-indexes command"



On Tue, Aug 13, 2013 at 8:36 AM, Jeremiah Peschka &lt;
jeremiah.pesc...@gmail.com&gt; wrote:

&gt; From http://docs.basho.com/riak/latest/ops/running/rolling-upgrades/ it
&gt; looks like you should upgrade to 1.3.2 and then 1.4.1
&gt;
&gt; Depending on how badly you need the extra capacity, it would probably be
&gt; better to start by upgrading all nodes and then adding the new one.
&gt;
&gt; --
&gt; Jeremiah Peschka - Founder, Brent Ozar Unlimited
&gt; MCITP: SQL Server 2008, MVP
&gt; Cloudera Certified Developer for Apache Hadoop
&gt;
&gt; On Aug 13, 2013, at 5:06 AM, Louis-Philippe Perron 
&gt; wrote:
&gt;
&gt; Hi riak peoples,
&gt; I'm in the process of adding a new node to a aging (1 node) cluster. I
&gt; would like to know what would be the prefered incrementing upgrade to get
&gt; all my nodes on the latest riak version. The best scenario would also have
&gt; the least downtime. The old node is at riak version 1.2.1.
&gt;
&gt; My actual plan is:
&gt;
&gt; - install riak 1.4.1 on the new node
&gt; - add the new 1.4.1 node to the old 1.2.1 cluster.
&gt; - bring the 1.2.1 node offline
&gt; - upgrade the 1.2.1 node to 1.4.1
&gt; - put the upgraded node back online
&gt;
&gt; will this work?
&gt; thanks!
&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

