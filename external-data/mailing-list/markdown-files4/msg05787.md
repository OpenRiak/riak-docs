---
title: "Re: Multiple keys to fetch in a Java client"
description: ""
project: community
lastmod: 2011-11-29T06:58:54-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05787"
mailinglist_parent_id: "msg05784"
author_name: "Russell Brown"
project_section: "mailinglistitem"
sent_date: 2011-11-29T06:58:54-08:00
---


Re-sending to list, since I sent to just Suresh in error.

Hi Suresh,

Thanks for the further information. So you don't add a map or reduce phase. It 
is a bug[1] that the client allows you to execute that job since it is not 
valid. Thanks for finding it. So 1st I need to fix that. 

I'll also look into why it manifests in such a strange way downstream (the OOM 
error). In the meantime, please add a/some map/reduce phases to your query.

If you just want the values back then add either

 .addMapPhase(new 
NamedErlangFunction("riak\_kv\_mapreduce","map\_object\_value"))
 
or

 .addMapPhase(new NamedJSFunction("Riak.mapValuesJson"))

to the operation

Cheers

Russell

https://issues.basho.com/show\_bug.cgi?id=1296

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

