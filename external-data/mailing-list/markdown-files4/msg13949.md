---
title: "Re: Two instances on the same server"
description: ""
project: community
lastmod: 2014-03-28T12:27:01-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13949"
mailinglist_parent_id: "msg13948"
author_name: "Brian Sparrow"
project_section: "mailinglistitem"
sent_date: 2014-03-28T12:27:01-07:00
---


Might also check out riak-manage[1], a tool for quickly setting up and managing 
clusters. I use it on my Mac Pro to manage local clusters. 

-Brian 

[1] https://github.com/basho/riak-manage
-- 
Brian Sparrow
Developer Advocate
Basho Technologies

Sent with Sparrow (http://www.sparrowmailapp.com/?sig)


On Friday, March 28, 2014 at 2:43 PM, Kelly McLaughlin wrote:

&gt; Try using the devrel Makefile target. It builds a set of releases under dev/ 
&gt; that are able to run on the same machine. 
&gt; 
&gt; Kelly
&gt; 
&gt; On March 28, 2014 at 11:19:09 AM, Massimiliano Ciancio 
&gt; (massimili...@ciancio.net (mailto:massimili...@ciancio.net)) wrote:
&gt; 
&gt; &gt; Hello list, 
&gt; &gt; I'm trying to start two different instances of riak on the same server 
&gt; &gt; in order to have a test instance. I replicated the ..../riak/rel/riak 
&gt; &gt; dir into two dfferent dirs (prod and test) and changed node name and 
&gt; &gt; ports. 
&gt; &gt; To start/stop a node I use full path "/..../riak/rel/prod/bin/riak 
&gt; &gt; start" and "/..../riak/rel/test/bin/riak start" 
&gt; &gt; But starting/stopping a node doesn't work: the two instances of riak 
&gt; &gt; are confused. For example: 
&gt; &gt; - all stopped 
&gt; &gt; - start prod instance -&gt; ok 
&gt; &gt; - start test instance -&gt; the node is already running.... 
&gt; &gt; Same problems even when stopping: the two instances are confused. 
&gt; &gt; 
&gt; &gt; Is there some name/ port I haven't changed? 
&gt; &gt; 
&gt; &gt; Follows my changes: 
&gt; &gt; PROD: 
&gt; &gt; {pb, [ {"0.0.0.0", 8087 } ]} 
&gt; &gt; {http, [ {"0.0.0.0", 8098 } ]}, 
&gt; &gt; {https, [{ "127.0.0.1", 8069 }]}, 
&gt; &gt; {handoff\_port, 8099 }, 
&gt; &gt; -name r...@192.168.1.xxx (mailto:r...@192.168.1.xxx) 
&gt; &gt; 
&gt; &gt; TEST: 
&gt; &gt; {pb, [ {"0.0.0.0", 18087 } ]} 
&gt; &gt; {http, [ {"0.0.0.0", 18098 } ]}, 
&gt; &gt; {https, [{ "127.0.0.1", 18069 }]}, 
&gt; &gt; {handoff\_port, 18099 }, 
&gt; &gt; -name t...@192.168.1.xxx (mailto:t...@192.168.1.xxx) 
&gt; &gt; 
&gt; &gt; There is more to change? 
&gt; &gt; Is there a better strategy to test on the same servers? 
&gt; &gt; 
&gt; &gt; Thanks in advance 
&gt; &gt; Massimiliano 
&gt; &gt; 
&gt; &gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ 
&gt; &gt; riak-users mailing list 
&gt; &gt; riak-users@lists.basho.com (mailto:riak-users@lists.basho.com) 
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; 
&gt; 


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

