---
title: "Re: Different numFound request to riak search"
description: ""
project: community
lastmod: 2015-03-12T06:41:46-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15880"
mailinglist_parent_id: "msg15879"
author_name: "Zeeshan Lakhani"
project_section: "mailinglistitem"
sent_date: 2015-03-12T06:41:46-07:00
---


Hello Roma, 

Have you deleted this object at some point in your runs? Please make sure AAE 
is running by checking search’s AAE status, `riak-admin search aae-status`, and 
that data exists in the correct directory, `./data/yz\_anti\_entropy` 
(http://docs.basho.com/riak/latest/ops/advanced/configs/search/). You may just 
need to perform a read-repair by performing a fetch of the object itself first, 
before performing search queries again.

Also, have you left or added nodes? I’m guessing that even your 1 node 
instance is still running a cluster on that one node, right?

Thanks.

Zeeshan Lakhani
programmer | 
software engineer at @basho | 
org. member/founder of @papers\_we\_love | paperswelove.org
twitter =&gt; @zeeshanlakhani

&gt; On Mar 12, 2015, at 5:59 AM, Roma Lakotko  wrote:
&gt; 
&gt; Each request to riak search return different results. It's return different 
&gt; numFound.
&gt; 
&gt; I use request like this:
&gt; 
&gt; http://localhost:8098/search/query/assets?wt=json&q=type:\*&sort=\_yz\_rk%20asc 
&gt; 
&gt; 
&gt; If add start offset it can return:
&gt; 
&gt; http://localhost:8098/search/query/assets?wt=json&q=type:\*&sort=\_yz\_rk%20asc&start=1247
&gt; 
&gt; 
&gt; "response": {
&gt; "numFound": 1248,
&gt; "start": 1247,
&gt; "docs": [
&gt; {
&gt; "\_yz\_id": 
&gt; "1\*default\*assets\*fff63ecf-a0c4-4ecf-b24d-c493ca3a302f\*44",
&gt; "\_yz\_rk": "fff63ecf-a0c4-4ecf-b24d-c493ca3a302f",
&gt; "\_yz\_rt": "default",
&gt; "\_yz\_rb": "assets"
&gt; }
&gt; ]
&gt; }
&gt; 
&gt; On next request it return something like this
&gt; 
&gt; "numFound": 1224,
&gt; "start": 1247,
&gt; "docs": []
&gt; 
&gt; I have 1 node installation, and no process write to Riak.
&gt; I have same problem this production cluster with 7 nodes.
&gt; 
&gt; Scheme for document
&gt; 
&gt; xml version="1.0" encoding="UTF-8" ?
&gt; 
&gt; 
&gt;  stored="false" /&gt;
&gt; 
&gt;  stored="false" /&gt;
&gt; 
&gt;  stored="false" /&gt;
&gt;  stored="false" multiValued="true" /&gt;
&gt; 
&gt;  stored="false" /&gt;
&gt;  stored="false" /&gt;
&gt; 
&gt; 
&gt; 
&gt; 
&gt;  multiValued="false" required="true"/&gt;
&gt;  multiValued="false"/&gt;
&gt;  multiValued="false"/&gt;
&gt;  multiValued="false"/&gt;
&gt;  multiValued="false"/&gt;
&gt;  multiValued="false"/&gt;
&gt;  multiValued="false"/&gt;
&gt;  multiValued="false"/&gt;
&gt;  multiValued="false"/&gt;
&gt; 
&gt; 
&gt; 
&gt; 
&gt; \_yz\_id
&gt; 
&gt; 
&gt; 
&gt;  omitNorms="true"/&gt;
&gt;  sortMissingLast="true" omitNorms="true"/&gt;
&gt;  omitNorms="true"/&gt;
&gt; 
&gt;  omitNorms="true"/&gt;
&gt; 
&gt;  class="solr.StrField" /&gt;
&gt;  omitNorms="true"&gt;
&gt; 
&gt; 
&gt; 
&gt;  replacement='е' replace='all'/&gt;
&gt; 
&gt;  
&gt; 
&gt; 
&gt; 
&gt; Best regards,
&gt; Roman
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

