---
title: "Re: Connection multiplexing in the Erlang client"
description: ""
project: community
lastmod: 2015-12-31T01:18:39-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16906"
mailinglist_parent_id: "msg16905"
author_name: "Russell Brown"
project_section: "mailinglistitem"
sent_date: 2015-12-31T01:18:39-08:00
---


Hi Paulo,
You’ll need more than client work. If you’re interested in exploring the server 
side code riak\_api (https://github.com/basho/riak\_api) is probably where you 
want to look.

I’m happy to help/advise on this if you want to get stuck in :D

Cheers

Russell

On 31 Dec 2015, at 08:47, Paulo Almeida  wrote:

&gt; Hi,
&gt; 
&gt; A poolboy or other connection pool based solution still means 1 open tcp 
&gt; connection per worker. I'm exploring the option of having a single TCP 
&gt; connection (actually 1 for each Riak node) and then multiplex concurrent 
&gt; requests to a DB node in a single TCP connection (think HTTP/2 TCP connection 
&gt; multiplexing).
&gt; 
&gt; Thanks.
&gt; 
&gt; Paulo
&gt; 
&gt; On Thu, Dec 31, 2015 at 2:59 AM, Bryan Hunt  wrote:
&gt; Paulo,
&gt; 
&gt; You can find a list of community maintained PBC pooling ‎libraries in the 
&gt; Erlang sub-section of this page:
&gt; 
&gt; ‎http://docs.basho.com/riak/latest/dev/using/libraries/#Community-Libraries
&gt; 
&gt; II was under the impression that Riak Erlang client ships with poolboy ‎so 
&gt; I'm uncertain of the distinction between the different libraries listed.
&gt; 
&gt; Perhaps someone could comment to clarify?
&gt; 
&gt; Bryan
&gt; 
&gt; 
&gt; 
&gt; From: Paulo Almeida
&gt; Sent: Wednesday, December 30, 2015 10:40 PM
&gt; To: riak-users@lists.basho.com
&gt; Subject: Connection multiplexing in the Erlang client
&gt; 
&gt; Hi,
&gt; 
&gt; Does the Erlang Riak client support multiplexing multiple concurrent calls in 
&gt; a single TCP connection? Specifically when using the PB interface 
&gt; (riakc\_pb\_socket:start\_link).
&gt; 
&gt; Thanks.
&gt; 
&gt; Regards,
&gt; 
&gt; Paulo
&gt; 
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

