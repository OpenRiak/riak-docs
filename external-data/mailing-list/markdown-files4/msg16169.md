---
title: "Lager 3.0 coming soon"
description: ""
project: community
lastmod: 2015-06-01T12:31:10-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16169"
author_name: "Mark Allen"
project_section: "mailinglistitem"
sent_date: 2015-06-01T12:31:10-07:00
---


(Sorry if you already saw this on erlang-questions. But on the off chance you 
don't read it...)

Basho has been working on an update[1] to lager to support multiple event sinks 
so different behaviors can be configured based on type of message. Security 
audit information, for example, may have different needs than general event 
messages. 

Because this introduces some subtle backwards compatibility issues with lager's 
tracing mechanism, we're going to roll this into a new major version of lager, 
3.0, along with several community PRs[2].

Specifically, the backwards compatibility problems with tracing: 
\* Traces are sink-specific and thus will not be able to see messages destined 
for other sinks 
\* Tracing to a log file that is already open for lager will only work if 
targeting the same sink; otherwise an error will be returned to the trace 
request 

If you're curious about the performance impact of these changes, we have been 
benchmarking our work. The results look good.[3]

We are also opening a maintenance 2.x branch with updates (and a few bug fixes) 
for the current 2.1.1 release which includes support and test suite fixes for 
OTP 17 but without any of the new 3.0 semantics/behavior.[4]

If you'd like to kick the tires, we have tagged a 3.0.0 release candidate[5], 
which should make it easy for you to take it for a spin.

Please feel free to contact us with thoughts on lager 3.0, either via GitHub 
issues/comments on PRs or by replying to this thread. 

Thanks!

[1]: https://github.com/basho/lager/pull/264
[2]: https://github.com/basho/lager/pull/270
[3]: https://gist.github.com/mrallen1/681b2b0f0e55e56e8e29
[4]: https://github.com/basho/lager/pull/269
[5]: https://github.com/basho/lager/releases/tag/3.0.0-RC1

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

