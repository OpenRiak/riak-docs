---
title: "Re: Unable to delete using Java Client"
description: ""
project: community
lastmod: 2013-03-15T10:51:57-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10459"
mailinglist_parent_id: "msg10458"
author_name: "Brian Roach"
project_section: "mailinglistitem"
sent_date: 2013-03-15T10:51:57-07:00
---


Hi Joachim,

The problem with your code is here:

myBucket.delete(guiPath);

The way the API flow works is just like doing a store and fetch; the
Bucket.delete() method returns a DeleteObject on which you then call
.execute() to actually perform the operation:

myBucket.delete(guiPath).execute();

Thanks,
- Roach

On Fri, Mar 15, 2013 at 11:45 AM, Joachim Haagen Skeie
 wrote:
&gt; Hello,
&gt;
&gt; I am trying to delete items using the Java client, but for some reason, the
&gt; data is still there when I try to get it out later.
&gt;
&gt; I have posted the relevant parts of the Java Class performing the deletion
&gt; here: https://gist.github.com/joachimhs/5171629
&gt;
&gt; The following unit test fails on the last assertion:
&gt;
&gt; @Test
&gt; public void testTreeMenu() throws InterruptedException {
&gt; newEnv.getTreeMenuDao().persistTreeMenu(new
&gt; BasicStatistics("EurekaJAgent:Memory:Heap:Used %", "Account Name", "Y"));
&gt;
&gt;
&gt;
&gt; Statistics statOne =
&gt; newEnv.getTreeMenuDao().getTreeMenu("EurekaJAgent:Memory:Heap:Used %",
&gt; "Account Name");
&gt;
&gt;
&gt;
&gt; Assert.assertNotNull(statOne);
&gt; Assert.assertEquals("EurekaJAgent:Memory:Heap:Used %",
&gt; statOne.getGuiPath());
&gt; Assert.assertEquals("Account Name", statOne.getAccountName());
&gt; Assert.assertEquals("Y", statOne.getNodeLive());
&gt;
&gt;
&gt;
&gt; newEnv.getTreeMenuDao().deleteTreeMenu("EurekaJAgent:Memory:Heap:Used
&gt; %", "Account Name");
&gt;
&gt;
&gt;
&gt; Thread.sleep(550);
&gt; Statistics deletedStatOne =
&gt; newEnv.getTreeMenuDao().getTreeMenu("EurekaJAgent:Memory:Heap:Used %",
&gt; "Account Name");
&gt;
&gt;
&gt;
&gt; Assert.assertNull(deletedStatOne);
&gt; }
&gt;
&gt; Med Vennlig Hilsen | Very Best Regards,
&gt;
&gt; Joachim Haagen Skeie
&gt; joac...@haagen-software.no
&gt; http://haagen-software.no
&gt; +47 4141 5805
&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

