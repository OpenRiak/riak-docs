---
title: "Re: Rebar and env"
description: ""
project: community
lastmod: 2011-05-18T15:40:32-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03364"
mailinglist_parent_id: "msg03363"
author_name: "Mike Oxford"
project_section: "mailinglistitem"
sent_date: 2011-05-18T15:40:32-07:00
---


To close the loop on this for the archives

application:get\_all\_env() returns [] ...
application:get\_all\_env() does show the registrations.

{env, []} entries are being set in the
"rel//releases//.script" file.

I'm still working through getting gproc to actually work as gproc\_dist but
happily rebar is Doing the Right Thing.

-mox


On Wed, May 18, 2011 at 3:04 PM, Mike Oxford  wrote:

&gt; Perhaps I spoke too soon. :)
&gt;
&gt; 'rebar compile' will nuke the ebin/.app file.
&gt; Setting the {env, []} setting inside this file and then generating (or in
&gt; the srv/.app.src file) and it does not get passed down to the actual
&gt; vm.
&gt;
&gt; {env, [{gproc, "gproc\_dist 'all'"}]} does not work
&gt; {env, [{gproc, 1}]} does not work, trying to get it to just show anything
&gt;
&gt; (I've tried variations of as well, but application:get\_all\_env() doesn't
&gt; show anything being set.
&gt;
&gt; 1&gt; application:get\_all\_env().
&gt; []
&gt;
&gt; rel//etc/vm.args does not have a -env entry for these values.
&gt; rel//etc/app.config does not the values either.
&gt;
&gt; I'll keep looking ...
&gt;
&gt; Thanks,
&gt;
&gt; -mox
&gt;
&gt;
&gt;
&gt; On Wed, May 18, 2011 at 2:41 PM, Mike Oxford  wrote:
&gt;
&gt;&gt; Yes, you are correct. I completely forgot about the baseline file.
&gt;&gt;
&gt;&gt; Back to my hole...and thank you.
&gt;&gt;
&gt;&gt; -mox
&gt;&gt;
&gt;&gt; On Wed, May 18, 2011 at 2:11 PM, Anthony Molinaro &lt;
&gt;&gt; antho...@alumni.caltech.edu&gt; wrote:
&gt;&gt;
&gt;&gt;&gt; Can't you have something in your src directory like
&gt;&gt;&gt;
&gt;&gt;&gt; foo.app.src
&gt;&gt;&gt;
&gt;&gt;&gt; which is what the ebin/foo.app is generated from?
&gt;&gt;&gt;
&gt;&gt;&gt; Then you put whatever you want in there?
&gt;&gt;&gt;
&gt;&gt;&gt; -Anthony
&gt;&gt;&gt;
&gt;&gt;&gt; On Wed, May 18, 2011 at 12:23:20PM -0700, Mike Oxford wrote:
&gt;&gt;&gt; &gt; I do not see a facility in Rebar to pass variables through to the
&gt;&gt;&gt; command
&gt;&gt;&gt; &gt; line after a generate.
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; The .app file is transient (will be destroyed and rebuilt on a clean),
&gt;&gt;&gt; and
&gt;&gt;&gt; &gt; generating nodes kinda needs -f which blows stuff away there too.
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; I need to pass an option to gproc to turn on gproc\_dist and I do not
&gt;&gt;&gt; see any
&gt;&gt;&gt; &gt; way to do it (that will not be blown away from a subsequent cleaning.)
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; Is there a way to do this? Or set some env flags in, say, rebar.config
&gt;&gt;&gt; &gt; somewhere to get it to work?
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; TIA!
&gt;&gt;&gt; &gt;
&gt;&gt;&gt; &gt; -mox
&gt;&gt;&gt;
&gt;&gt;&gt; &gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt;&gt; &gt; riak-users mailing list
&gt;&gt;&gt; &gt; riak-users@lists.basho.com
&gt;&gt;&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; --
&gt;&gt;&gt; ------------------------------------------------------------------------
&gt;&gt;&gt; Anthony Molinaro 
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

