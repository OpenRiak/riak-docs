---
title: "Re: Embedded documents vs links"
description: ""
project: community
lastmod: 2011-01-26T17:02:40-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02127"
mailinglist_parent_id: "msg02126"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2011-01-26T17:02:40-08:00
---


Nicholas,

There is no uniqueness validation for a reason - it's impossible to enforce 
predictably without ACID guarantees. However, all the other built-in 
ActiveModel validations should be available: format, numericality, etc. Also, 
embedded documents are for the use-case where the child doc is completely 
dependent on its parent and has no other references. Use linked associations 
for documents that are related to multiple other documents.

Now that you mention it, however, it might make sense to have uniqueness 
validations available within embedded documents, scoped to their parent 
document, since this functionality can be implemented entirely within Ripple, 
without touching Riak.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On Jan 26, 2011, at 6:30 PM, Nicholas Wieland wrote:

&gt; Hi guys, I haven't been able to find any documentation about the matter, if 
&gt; you have some references I would really appreciate to be redirected.
&gt; My understanding is that an embedded document is useful only when the 
&gt; document has to be accessible only bt the "root" object, so for example if I 
&gt; need to validate uniqueness on an embedded document I can't do it globally 
&gt; but only in the scope of the father. Is this correct ?
&gt; 
&gt; TIA,
&gt; ngw
&gt; 
&gt; p.s. I can't find how to validate uniqueness in Ripple, the only validation I 
&gt; found is present =&gt; true. Pointers ?
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

