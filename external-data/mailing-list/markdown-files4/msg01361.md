---
title: "Re: couchdb performace 10x: using NIF for file io"
description: ""
project: community
lastmod: 2010-10-24T23:30:12-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01361"
mailinglist_parent_id: "msg01359"
author_name: "Richard Heycock"
project_section: "mailinglistitem"
sent_date: 2010-10-24T23:30:12-07:00
---


Excerpts from Kirill A. Korinskiy's message of 2010-10-25 08:28:37 +1100:
&gt; Hi!
&gt; 
&gt; Cool story but you messages take a broken links :(

The links are valid from here:

 
http://groups.google.com/group/erlang-programming/browse\_thread/thread/f667a9a87ada3e7d

rgh


&gt; On Mon, Oct 25, 2010 at 01:05, NevB  wrote:
&gt; 
&gt; &gt; Hi,
&gt; &gt;
&gt; &gt; I came across this thread in the Erlang group and thought the Riak
&gt; &gt; team might find it interesting.
&gt; &gt;
&gt; &gt; Please forgive me if its not relevant to Riak
&gt; &gt;
&gt; &gt; Kind Regards
&gt; &gt;
&gt; &gt; Neville
&gt; &gt;
&gt; &gt;
&gt; &gt; ---------- Forwarded message ----------
&gt; &gt; From: Joel Reymont 
&gt; &gt; Date: Oct 25, 12:56 am
&gt; &gt; Subject: couchdb performace 10x: using NIF for file io
&gt; &gt; To: Erlang Programming
&gt; &gt;
&gt; &gt;
&gt; &gt; Simply switching to NIFs for file IO seems to have improved CouchDB
&gt; &gt; write performance more than ten-fold.
&gt; &gt;
&gt; &gt; Compare the old graph
&gt; &gt;
&gt; &gt; http://graphs.mikeal.couchone.com/#/graph/62b286fbb7aa55a4b0c4cc913c0...
&gt; &gt;
&gt; &gt; to the new graph
&gt; &gt;
&gt; &gt; http://graphs.mikeal.couchone.com/#/graph/62b286fbb7aa55a4b0c4cc913c0...
&gt; &gt;
&gt; &gt; I was under the impression that the Erlang IO subsystem was highly
&gt; &gt; optimized but there seems to be no limit to perfection.
&gt; &gt;
&gt; &gt; NIFs are a giant black hole that will subsume Erlang code as
&gt; &gt; performance has to be improved. Start at the lowest level and keep
&gt; &gt; moving up. All that will be left of Erlang in the end is 99.99999%
&gt; &gt; uptime, fault tolerance and supervision... of optimized C code. It's
&gt; &gt; swell and I'm all for it!
&gt; &gt;
&gt; &gt; Patch is here:
&gt; &gt;
&gt; &gt; http://github.com/wagerlabs/couchdb/commit/23527eb8165f81e63d47b230f3...
&gt; &gt;
&gt; &gt; ---http://twitter.com/wagerlabs
&gt; &gt;
&gt; &gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; &gt; erlang-questions (at) erlang.org mailing list.
&gt; &gt; Seehttp://www.erlang.org/faq.html
&gt; &gt; To unsubscribe; mailto:erlang-questions-unsubscr...@erlang.org
&gt; &gt;
&gt; &gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; &gt;
&gt; 
-- 
Richard Heycock

http://topikality.com

+61 (0) 410 646 369
[e]: r...@topikality.com
[im]: r...@topikality.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

