---
title: "Re: Is it possible/wise to modify riak search index objects?"
description: ""
project: community
lastmod: 2012-07-20T21:52:55-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08006"
mailinglist_parent_id: "msg08003"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2012-07-20T21:52:55-07:00
---


Turn your text into a json obj. Maybe something like this:

{ size: 100
Name: bla
Date: 1/1/2012
Raw\_txt: txt
}


@siculars 
http://siculars.posterous.com

Sent from my iRotaryPhone

On Jul 20, 2012, at 17:49, Metin Akat  wrote:

&gt; Hi,
&gt; 
&gt; I am using riak to store (relatively large) text files. I store them as 
&gt; normal riak objects where the value is the text of the file. Now I want to 
&gt; index and search them. All is fine, I just enabled the "standard" search 
&gt; pre-commit hook for that bucket and they get indexed nicely. But, there is 
&gt; one tricky requirement. I need to be able to index and search some metadata 
&gt; about these files. For example date of submission, size of file, type 
&gt; (internal business logic) of file etc. 
&gt; 
&gt; I have been thinking quite a lot about this recently. Asked several times on 
&gt; #riak. I got one answer suggesting that I create a second "metadata" riak 
&gt; object for each file, link it to the "file object" and index it separately. 
&gt; That's not really what I want, because I need to be able to execute 
&gt; "combined" queries, like value: AND date:.
&gt; 
&gt; So, here is the ideal solution that I'm thinking about.... It would be great 
&gt; if it's possible to modify the riak search index object. After the file is 
&gt; submitted, and after it's indexed, I could just fetch the index and just add 
&gt; some more fields to it.
&gt; I see there is a bucket with the search index objects that's automatically 
&gt; created by riak search. So I guess it is indeed possible, though I don't know 
&gt; what to expect. Is it a good idea? If not, what else could I do in order to 
&gt; solve the problem?
&gt; 
&gt; Regards,
&gt; Metin
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

