---
title: "Re: LevelDB Question"
description: ""
project: community
lastmod: 2015-08-05T07:04:25-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16357"
mailinglist_parent_id: "msg16355"
author_name: "Matthew Von-Maszewski"
project_section: "mailinglistitem"
sent_date: 2015-08-05T07:04:25-07:00
---


Joe,

You want to start here:

 
http://docs.basho.com/riak/latest/ops/advanced/backends/leveldb/#Tiered-Storage 


In addition to the 3 configuration lines given in that section, you need a 
fourth:

 leveldb.data\_root=“./leveldb”

You need to make sure the leveldb.tiered.path.fast and .path.slow exist before 
starting Riak AND create the ./leveldb directory within the two paths. Riak 
will not create those paths for you.

Matthew


&gt; On Aug 5, 2015, at 9:27 AM, Joe Olson  wrote:
&gt; 
&gt; 
&gt; Suppose I have come to the conclusion each of my LevelDB backed Riak nodes 
&gt; needs to hold 2TB of data.
&gt; 
&gt; Also suppose I have the ability to store data on more expensive SSD drives, 
&gt; and less expensive magnetic drives.
&gt; 
&gt; My question: What should leveldb.tiered be set to in /etc/riak/riak.conf?
&gt; 
&gt; I know from the LevelDB docs on the Basho Riak site 
&gt; (http://docs.basho.com/riak/latest/ops/advanced/backends/leveldb/), each 
&gt; level holds 10x the data the level above it holds, starting at level 1 with 
&gt; 10MB.
&gt; 
&gt; If this is correct, the data capacities of each level should be:
&gt; 
&gt; Level 1: 10MB
&gt; Level 2: 100 MB
&gt; Level 3: 1 GB
&gt; Level 4: 10 GB
&gt; Level 5: 100 GB
&gt; Level 6: 1 TB
&gt; 
&gt; If this is this case, I would assume using leveldb.tiered = 5 (100GB) or 
&gt; leveldb.tiered = 6 (1 TB) of SSD capacity needed. The remainder (either 1.9 
&gt; TB or 1 TB) will be stored on the magnetic drives on a different mount point.
&gt; 
&gt; Am I reasoning this out correctly?
&gt; 
&gt; If so, will my SSD drives ever \*exceed\* 100GB or 1TB of data? Not that I'd 
&gt; just it that close, anyway....
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

