---
title: "Re: Filesystem choice (XFS vs EXT*)"
description: ""
project: community
lastmod: 2012-12-06T16:01:10-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09460"
mailinglist_parent_id: "msg09427"
author_name: "Seth Thomas"
project_section: "mailinglistitem"
sent_date: 2012-12-06T16:01:10-08:00
---


Anton,

For any given workload XFS and EXT4 are going give you comparable performance 
with EXT3 having been supplanted in every aspect by EXT4. Below are two 
informative links that compare XFS with EXT4 on both high[1] and low end[2] 
raid controllers. In general XFS exhibits lower CPU utilization, deals better 
with larger files, and has faster reads where EXT4 excels at writes and 
metadata operations (file creation/deletion).

In my experience the additional tuning parameters around the IO schedulers 
(don't use the default CFQ, use deadline or noop depending on 
controller/disks), write barriers, block sizes, and other sysctl knobs are 
arguably more critical with regard to Riak performance than the filesystem 
chosen. I personally tend to lean toward XFS but I should probably do some 
basho\_benching to validate my preference. I really do hate giving an "it 
depends" answer but with filesystems it's going to be come down to the workload 
and the Riak backend chosen - it's also worth noting that the filesystem likely 
won't be the \_most\_ crucial factor in a cluster's performance.

[1] 
http://www.ilsistemista.net/index.php/linux-a-unix/14-ext4-vs-xfs-large-volumes-with-high-end-raid-controller.html?limitstart=0
[2] 
http://www.ilsistemista.net/index.php/linux-a-unix/13-ext4-vs-xfs-large-volumes-with-low-end-raid-controller.html


-- 
Seth Thomas


On Wednesday, December 5, 2012 at 7:02 AM, Anton wrote:

&gt; The documentation (briefly) mentions a preference of XFS over EXT
&gt; filesystems. I haven't seen any further explanation as of why that is.
&gt; Is there any significant difference?
&gt; 
&gt; I've managed to notice a significant difference between EXT3 and EXT4
&gt; - one of the machines in the benchmark cluster I was running had ext3
&gt; by accident and showed a greater load-average during the benchmark.
&gt; 
&gt; Does anyone have any tips or experiences?
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; 
&gt; 


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

