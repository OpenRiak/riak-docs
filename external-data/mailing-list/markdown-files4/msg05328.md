---
title: "Re: Tuning parameters for reduce phases introduced in 1.0"
description: ""
project: community
lastmod: 2011-10-27T04:45:55-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05328"
mailinglist_parent_id: "msg05327"
author_name: "Bryan Fink"
project_section: "mailinglistitem"
sent_date: 2011-10-27T04:45:55-07:00
---


On Wed, Oct 26, 2011 at 6:48 PM, Elias Levy  wrote:
&gt; Riak 1.0 introduced two reduce phase tuning
&gt; parameters: reduce\_phase\_batch\_size and reduce\_phase\_only\_1. Both of these
&gt; can be specified on a per phase basis using the arg parameter, passing them
&gt; in as a map.  This appears to overload the arg parameter, which was already
&gt; being used to pass static arguments to the phase functions.
&gt; Is there some mechanism to pass both a static function argument, say to the
&gt; built-in Riak.reduceSort, while at the same time passing one of the new
&gt; tuning parameters?

Unfortunately, no, it's not possible to pass both Riak.reduceSort's
expected static argument and also one of the new reduce tuning
parameters in 1.0.

If the same reduce batch size is applicable to all of your queries,
then you can still use the global tuning parameter
mapred\_reduce\_phase\_batch\_size in the riak\_kv section of your
app.config.

Riak.reduceSort is a very simple function, so it should also be easy
to provide a custom version of it that looks for the function within a
map.

We'll also be re-evaluating the method for providing these new tuning
parameters in a future version.

Hope that helps,
Bryan

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

