---
title: "Re: riak on SSDs - how to manage potential SSD failures"
description: ""
project: community
lastmod: 2012-11-26T11:44:34-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09380"
mailinglist_parent_id: "msg09378"
author_name: "Matthew Von-Maszewski"
project_section: "mailinglistitem"
sent_date: 2012-11-26T11:44:34-08:00
---


What will happen to the read when this occurs? 
 - The read error is returned from the backend vnode to riak. Riak will still 
succeed if it can find valid data from the other nodes.

Will this trigger a read repair when it happens?
 - Yes


On Nov 26, 2012, at 2:29 PM, Paul Fisher  wrote:

&gt; On 11/26/12 1:09 PM, "Matthew Von-Maszewski"  wrote:
&gt; 
&gt; 
&gt;&gt; Alex,
&gt;&gt; 
&gt;&gt; The eleveldb backend creates a CRC for every item placed on the disk.
&gt;&gt; You can activate the test of the CRC on every read by adding:
&gt;&gt; 
&gt;&gt; {verify\_checksums, true},
&gt;&gt; 
&gt;&gt; to the "{eleveldb " portion of app.config. With riak 1.2, you must
&gt;&gt; manually monitor each vnode directory for the lost/BLOCKS.bad file
&gt;&gt; changing size. It only increases upon read operations detecting a CRC
&gt;&gt; and/or compression corruption error.
&gt;&gt; 
&gt;&gt; Manually monitoring the BLOCKS.bad file is tacky (my apologies). The
&gt;&gt; upcoming 1.3 release will populate riak admin with a counter of errors
&gt;&gt; seen. But that code is still weeks from release.
&gt; 
&gt; Thank you for working on this feature!
&gt; 
&gt; This is great to hear. A few questions about the new 1.3 functionality:
&gt; - What will happen to the read when this occurs?
&gt; - Will this trigger a read repair when it happens?
&gt; 
&gt; 
&gt; --
&gt; paul
&gt; 


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

