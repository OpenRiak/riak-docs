---
title: "Changing app.config of Live Riak Cluster"
description: ""
project: community
lastmod: 2014-01-05T10:20:09-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13358"
author_name: "Praveen Baratam"
project_section: "mailinglistitem"
sent_date: 2014-01-05T10:20:09-08:00
---


Hello Everybody,

We are using Riak to store small files (&lt;2MB) in our stack.

Currently its configured with "\*multi\_backend\*" and two buckets as follows-

------------------------
 {storage\_backend, riak\_kv\_multi\_backend},
 {multi\_backend\_default, &lt;&lt;"store"&gt;&gt;},
 {multi\_backend, [
 {&lt;&lt;"store"&gt;&gt;, riak\_kv\_bitcask\_backend, [
 {data\_root, "/var/lib/riak/bitcask/store"}
 ]},
 {&lt;&lt;"cache"&gt;&gt;, riak\_kv\_bitcask\_backend, [
 {data\_root, "/var/lib/riak/bitcask/cache"},
 {expiry\_secs, 21600}
 ]}
 ]},
-------------------------

Now we want to delete the "\*cache\*" bucket and add another bucket "\*temp\*"
for another purpose.

--------------------------

 {&lt;&lt;"temp"&gt;&gt;, riak\_kv\_bitcask\_backend, [
 {data\_root, "/var/lib/riak/bitcask/temp"},
 {expiry\_secs, 604800}
 ]}
-----------------------------

I am aware that I can do it using the HTTP Buckets API but can I shut down
all nodes, modify the app.config on all nodes and restart the cluster
safely with out losing any data?

Thanks in advance.

Praveen
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

