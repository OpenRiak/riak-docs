---
title: "Re: Link walking"
description: ""
project: community
lastmod: 2013-11-04T10:49:44-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12837"
mailinglist_parent_id: "msg12811"
author_name: "Tom Santero"
project_section: "mailinglistitem"
sent_date: 2013-11-04T10:49:44-08:00
---


Hi Georgi,

Did you receive a 204 response back when persisting the hb/first object;
can you GET that object without receiving a 404?

Tom


On Thu, Oct 31, 2013 at 10:22 AM, Georgi Ivanov wrote:

&gt; Hello,
&gt; I am trying to make Link walking work .
&gt;
&gt; I am using this as example :
&gt;
&gt; http://basho.com/link-walking-by-example/
&gt;
&gt; So basically adding keys works as expected, but i am unable to query .
&gt;
&gt; Example:
&gt;
&gt; add first :
&gt;
&gt; curl -X PUT -H "content-type:text/plain" \
&gt; -H "Link: ; riaktag=\"foo\", ;
&gt; riaktag=\"foo\"" \
&gt; http://localhost:8098/riak/hb/first --data "hello"
&gt;
&gt; Add second:
&gt;
&gt; curl -X PUT -H "content-type: text/plain" \
&gt; -H "Link:; riaktag=\"foo\"" \
&gt; http://localhost:8098/riak/hb/second --data "the second"
&gt;
&gt; Try to query :
&gt;
&gt; curl http://localhost:8098/riak/hb/first/\_,\_,\_
&gt;
&gt; Response :
&gt; 404 Not FoundNot Found
=========

The
&gt; requested document was not found on this
&gt; server.

---

mochiweb+webmachine web
&gt; server


&gt;
&gt; If i try with really invalid query i get this :
&gt;
&gt; curl http://localhost:8098/riak/hb/first/\_,\_,
&gt;
&gt; Invalid link walk query submitted. Valid link walk query format is:
&gt; /riak/some\_bucket/some\_key/,,0|1
&gt;
&gt; What i am missing here ? Some miss-configuration ?
&gt;
&gt; What i changed in app.config was :
&gt;
&gt; {default\_bucket\_props, [
&gt; {n\_val,1},
&gt; {allow\_mult,false},
&gt; {last\_write\_wins,false},
&gt; {precommit, []},
&gt; {postcommit, []},
&gt; {chash\_keyfun, {riak\_core\_util, chash\_std\_keyfun}},
&gt; {linkfun, {modfun, riak\_kv\_wm\_link\_walker, mapreduce\_linkfun}}
&gt; ]}
&gt;
&gt; but this are the defaults except n\_val imo.
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

