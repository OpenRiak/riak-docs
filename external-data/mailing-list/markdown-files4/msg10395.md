---
title: "RE: Error interpretation"
description: ""
project: community
lastmod: 2013-03-12T19:43:14-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10395"
mailinglist_parent_id: "msg10391"
author_name: "Kevin Burton"
project_section: "mailinglistitem"
sent_date: 2013-03-12T19:43:14-07:00
---


Thank you. I am sorry but I was unfamiliar with 'riak attach' or 'riak
console' I used 'riak attach' and issued the command. But, I still need some
help interpreting the error:

2013-03-12 21:37:06.775 [debug]
&lt;0.3338.0&gt;@riak\_kv\_put\_fsm:decode\_precommit:707 Problem invoking pre-commit
hook riak\_search\_kv\_hook:precommit -&gt; error:badarg
[{ets,lookup,[schema\_table,&lt;&lt;"buyseasons-orders"&gt;&gt;],[]},{riak\_search\_config,
get\_schema,1,[{file,"src/riak\_search\_config.erl"},{line,69}]},{riak\_search\_k
v\_hook,make\_indexed\_doc,4,[{file,"src/riak\_search\_kv\_hook.erl"},{line,206}]}
,{riak\_search\_kv\_hook,index\_object,2,[{file,"src/riak\_search\_kv\_hook.erl"},{
line,182}]},{riak\_search\_kv\_hook,precommit,1,[{file,"src/riak\_search\_kv\_hook
.erl"},{line,103}]},{riak\_kv\_put\_fsm,invoke\_hook,4,[{file,"src/riak\_kv\_put\_f
sm.erl"},{line,675}]},{riak\_kv\_put\_fsm,precommit,2,[{file,"src/riak\_kv\_put\_f
sm.erl"},{line,325}]},{gen\_fsm,handle\_msg,7,[{file,"gen\_fsm.erl"},{line,494}
]}]

-----Original Message-----
From: Andrew Thompson [mailto:and...@hijacked.us] 
Sent: Tuesday, March 12, 2013 9:14 PM
To: Kevin Burton
Cc: 'Jeremiah Peschka'; 'riak-users'
Subject: Re: Error interpretation

Riak does not log crashed pre/post commit hooks by default, this is to avoid
a bad hook or object from denial of servicing the cluster in production.

If you want to debug this, you can use a lager trace at the riak console
like this:

lager:trace\_file("/tmp/put\_fsm.log", [{module, riak\_kv\_put\_fsm}], debug).

Then do whatever operation is failing and look at the /tmp/put\_fsm.log file.
When you want to disable the trace simply do:

lager:clear\_all\_traces().

Andrew


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

