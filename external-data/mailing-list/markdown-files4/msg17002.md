---
title: "Re: map reduce on multiple buckets"
description: ""
project: community
lastmod: 2016-01-28T09:12:06-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17002"
mailinglist_parent_id: "msg17001"
author_name: "Eugene Shubin"
project_section: "mailinglistitem"
sent_date: 2016-01-28T09:12:06-08:00
---


I want to keep daily and weekly data in different buckets, and generate
monthly report using map reduce on these two.
so 2 buckets and MR operations are custom.

Best,
Eugene

2016-01-28 17:29 GMT+01:00 Alex Moore :

&gt; Hi Eugene,
&gt;
&gt; MR is limited to one bucket for inputs, and the Solr inputs to a map phase
&gt; have this restriction too.
&gt;
&gt; How many buckets are you trying to MR across, and also what type of MR
&gt; operation are you trying to do? There may be another way to get around this
&gt; restriction.
&gt;
&gt; Thanks,
&gt; Alex
&gt;
&gt; On Thu, Jan 28, 2016 at 8:10 AM, Eugene Shubin  wrote:
&gt;
&gt;&gt; Is it possible to run mapreduce job on two or more buckets?
&gt;&gt; I see from documentation that it might be possible if I specify inputs as
&gt;&gt; list of {bucket, key} pairs,
&gt;&gt; although list of secondary index inputs causes an error:
&gt;&gt; riakc\_pb\_socket:mapred(P, [
&gt;&gt; {index, Bucket1, Index1, From, To},
&gt;&gt; {index, Bucket2, Index2, From, To}
&gt;&gt; ], ...
&gt;&gt; {error,&lt;&lt;"{inputs,{\"Inputs target tuples must be {B,K} or
&gt;&gt; {{B,K},KeyData}:\",\n
&gt;&gt;
&gt;&gt; Is it possible using Solr (riak search) indexes?
&gt;&gt;
&gt;&gt; Evgenii Shubin
&gt;&gt;
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

