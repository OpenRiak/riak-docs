---
title: "Re: Riak Recap for Dec 22 - 26"
description: ""
project: community
lastmod: 2010-12-27T12:17:07-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01849"
mailinglist_parent_id: "msg01847"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2010-12-27T12:17:07-08:00
---


On Mon, Dec 27, 2010 at 11:52 AM, Mark Phillips  wrote:
&gt;
&gt;
&gt;
&gt; 8) Q --- In regards to riak\_kv\_cache\_backend, is the max\_ttl a hard
&gt; cap? i.e., if there is an access at second 3599 will the object still
&gt; be evicted right afterwards or will it be extended for another 600s?
&gt; (from progski via #riak)
&gt;
&gt; A --- TTL is relative to last access so accessing at 3599s would
&gt; extend the lease.
&gt;
&gt;
Hi, this is progski here. Thanks for taking the time to answer this but I
think you're incorrect. After running a quick test I've witnessed the
following behavior.

1) TTL - If an object is not accessed for this amount of time it will be
evicted.
2) Max TTL- The object will be evicted (no matter what) once it has been
held by the cache for this amount of time.

The scenario I ran was to set TTL to 10s and Max TTL to 60s. My first test
PUT an object in the cache and performed a get every 9s. On the 7th get
(63s) it returned "not found." My second test did the same thing but slept
for 15s before performing the first GET and it returned "not found."

Therefore, it does indeed look like Max TTL is a hard cap.

-Ryan
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

