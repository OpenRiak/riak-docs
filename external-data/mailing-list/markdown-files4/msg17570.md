---
title: "Re: riak TS max concurrent queries + overload error"
description: ""
project: community
lastmod: 2016-07-27T18:05:25-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17570"
mailinglist_parent_id: "msg17568"
author_name: "Cian Synnott"
project_section: "mailinglistitem"
sent_date: 2016-07-27T18:05:25-07:00
---


Hi Chris,

This sounds like the issue described at
 https://github.com/basho/riak\_kv/issues/1418

On Wed, Jul 27, 2016 at 11:19 PM,  wrote:
&gt; Also, does anyone have any recommendations on query pooling so we can
&gt; guarantee that multiple clients will not generate more queries than the
&gt; cluster can handle?
&gt;
Probably the right thing to do (when the RPC server is fixed) is to
have the clients independently heck for backpressure from Riak (e.g.
overload messages like this), retry with exponential backoff, and have
each retry increment a counter somewhere in your monitoring system to
make that problem visible.

This should allow you to handle overload (somewhat) gracefully,
respond to critical events (e.g. an alert), or to see any overload
trends over time.

Cian

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

