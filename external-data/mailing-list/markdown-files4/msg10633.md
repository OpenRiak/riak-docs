---
title: "Re: costs of scaling riak compared to mangodb"
description: ""
project: community
lastmod: 2013-03-31T14:39:09-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10633"
mailinglist_parent_id: "msg10632"
author_name: "Eric Redmond"
project_section: "mailinglistitem"
sent_date: 2013-03-31T14:39:09-07:00
---


One practical matter to also keep in mind is the number of nodes you must scale 
to and by.

The recommended minimum nodes when running Riak in production is five servers. 
Once you start with that minimum, scaling is a matter of adding single nodes as 
you need them, six to seven to eight and so on.

Conversely, mongo scales by threes (one master and two secondary's in a 
replset). So you start with three, then six, then nine, etc.

Hope that helps,
Eric

On Mar 31, 2013, at 1:23 PM, Mark Phillips  wrote:

&gt; Hey Norman, 
&gt; 
&gt; On Mon, Mar 25, 2013 at 8:43 AM, Norman Khine  wrote:
&gt;&gt; hello,
&gt;&gt; would you have any cost comparison analysis document which looks at a
&gt;&gt; running a riak cluster versus mongodb sharded cluster, i am asking as
&gt;&gt; i have been tasked to compare the cost of infrastructure when the
&gt;&gt; volume of data is large. We are storing the information of our users
&gt;&gt; advertising campaigns
&gt;&gt; on a collection of about 30 million documents now, which would increase.
&gt;&gt; Each document is composed of elements that are arrays of objects (the
&gt;&gt; objects for a given elements have the same structure) We now have 6
&gt;&gt; elements that can be composed of 1 to many objects (up to 50-100)
&gt;&gt; Any advice much appreciated.
&gt; 
&gt; Right now there's nothing purpose built that compares the operation/scaling 
&gt; costs of Riak and Mango. On the anecdotal side of things, Will Moss wrote a 
&gt; great email to the list a while back about what to keep in mind when making 
&gt; the transition [1]. 30MM documents in Riak is trivial. The queries are 
&gt; probably going to be a bit harder to translate...
&gt; 
&gt; That said, let's see if we can quantify this for you. A few questions: 
&gt; 
&gt; How many docs do you expect to have in six months?
&gt; What are the queries you're doing on them?
&gt; Current total data set size?
&gt; What's the median ops/second? Max?
&gt; Read to write ratio?
&gt; Current cluster hardware specifics and cloud provider (if applicable) if you 
&gt; can share.
&gt; 
&gt; Thanks, 
&gt; 
&gt; Mark 
&gt; 
&gt; [1] 
&gt; http://riak.markmail.org/search/?q=moss%2C+mongo#query:moss%2C%20mongo+page:1+mid:vkmeuu6ailcguecl+state:results
&gt; 
&gt;&gt; --
&gt;&gt; %&gt;&gt;&gt; "".join( [ {'\*':'@','^':'.'}.get(c,None) or
&gt;&gt; chr(97+(ord(c)-83)%26) for c in ",adym,\*)&uzq^zqf" ] )
&gt;&gt; 
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

