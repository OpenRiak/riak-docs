---
title: "ripple link bug"
description: ""
project: community
lastmod: 2010-06-08T13:48:50-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00533"
author_name: "francisco treacy"
project_section: "mailinglistitem"
sent_date: 2010-06-08T13:48:50-07:00
---


The following code yields an exception

item = client['items']['item']
catalog = client['catalogs']['test']
link = item.to\_link
catalog.links &lt;&lt; link
catalog.store

(...)
/Users/ftreacy/.rvm/gems/ruby-1.9.1-p378/gems/riak-client-0.7.0/lib/riak/client/curb\_backend.rb:63:in
`perform': Expected [200, 204, 300] from Riak but received 400.
Invalid Link header. Links must be of the form (Riak::FailedRequest)
; riaktag="TAG"
 from 
/Users/ftreacy/.rvm/gems/ruby-1.9.1-p378/gems/riak-client-0.7.0/lib/riak/client/http\_backend.rb:92:in
`put'
 from 
/Users/ftreacy/.rvm/gems/ruby-1.9.1-p378/gems/riak-client-0.7.0/lib/riak/robject.rb:122:in
`store'

This is because a 'tag' is not set, but tags shouldn't be required.

(Consider setting link.tag = "something" before line 4, and it will
work correctly).

Francisco

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

