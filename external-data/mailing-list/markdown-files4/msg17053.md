---
title: "Re: Increase number of partitions above 1024"
description: ""
project: community
lastmod: 2016-02-22T08:19:17-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17053"
mailinglist_parent_id: "msg17051"
author_name: "Chathuri Gunawardhana"
project_section: "mailinglistitem"
sent_date: 2016-02-22T08:19:17-08:00
---


I'm using riak master version on riak github (riak\_kv\_version :
&lt;&lt;"2.1.1-38-ga8bc9e0"&gt;&gt;)
. I don't use coverage queries.

When I try to set the partition count over 1024, it suggest me to do it via
advanced config (in cuttlefish schema for riak core, there is a validation
to see whether it is above 1024 and if so they give this suggestion). But I
don't know how I can add this parameter to advanced.config.

Thank you very much!

On Mon, Feb 22, 2016 at 5:05 PM, Alex Moore  wrote:

&gt; Ok, what does `riak-admin status | grep riak\_kv\_version` return? The
&gt; config files are different for Riak 1.x and 2.x.
&gt;
&gt; Also for your tests, are you using any "coverage query" features like
&gt; MapReduce or 2i queries?
&gt;
&gt; Thanks,
&gt; Alex
&gt;
&gt;
&gt;
&gt;
&gt; On Mon, Feb 22, 2016 at 10:43 AM, Chathuri Gunawardhana &lt;
&gt; lanch.gunawardh...@gmail.com&gt; wrote:
&gt;
&gt;&gt; For my experiment I will be using 100 nodes.
&gt;&gt;
&gt;&gt; Thank you!
&gt;&gt;
&gt;&gt; On Mon, Feb 22, 2016 at 4:40 PM, Alex Moore  wrote:
&gt;&gt;
&gt;&gt;&gt; Hi Chathuri,
&gt;&gt;&gt;
&gt;&gt;&gt; Larger ring sizes are not usually recommended, you can overload disk I/O
&gt;&gt;&gt; if the number of vnodes to nodes is too high.
&gt;&gt;&gt; Similarly you can underload other system resources if the vnode/node
&gt;&gt;&gt; ratio is too low.
&gt;&gt;&gt;
&gt;&gt;&gt; How many nodes are you planning on running?
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks,
&gt;&gt;&gt; Alex
&gt;&gt;&gt;
&gt;&gt;&gt; On Mon, Feb 22, 2016 at 5:42 AM, Chathuri Gunawardhana &lt;
&gt;&gt;&gt; lanch.gunawardh...@gmail.com&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Hi,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; It is not possible to increase the number of partitions above 1024 and
&gt;&gt;&gt;&gt; has been disabled via cuttlefish in riak.config. When I try to increase
&gt;&gt;&gt;&gt; ring\_size via riak.config, the error suggest that I should configure
&gt;&gt;&gt;&gt; partition size&gt;1024 via advanced config file. But I couldn't find a way of
&gt;&gt;&gt;&gt; how I can specify this in advanced.config file. Can you please suggest me
&gt;&gt;&gt;&gt; how I can do this?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Thank you very much!
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; --
&gt;&gt;&gt;&gt; Chathuri Gunawardhana
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; --
&gt;&gt; Chathuri Gunawardhana
&gt;&gt;
&gt;&gt;
&gt;


-- 
Chathuri Gunawardhana
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

