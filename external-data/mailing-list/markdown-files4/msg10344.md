---
title: "Re: Storing objects during MapReduce phase."
description: ""
project: community
lastmod: 2013-03-06T22:41:02-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10344"
mailinglist_parent_id: "msg10093"
author_name: "Mark Phillips"
project_section: "mailinglistitem"
sent_date: 2013-03-06T22:41:02-08:00
---


Hi Tiago,

Mikhail Sobelov wrote an erlang function a while back that'll take the
output of a map and store it to a bucket and key.

http://contrib.basho.com/save\_reduce.html

Fair warning: it was written a few years back, so you might have to
revise the code a bit, but it's a good starting point.

Mark

On Tue, Feb 12, 2013 at 8:32 AM, ttt  wrote:
&gt; Hi everyone!
&gt;
&gt;
&gt; Is it possible to store data into Riak during a Map or Reduce phase?
&gt;
&gt; This is my scenario:
&gt; - I have a simple MapReduce job, with 1 map followed with 1 reduce.
&gt; - I am using the Ruby library and JavaScript to code the phase functions.
&gt; - In the map phase, some properties of the input objects are recalculated
&gt; and then passed on to the reduce phase.
&gt; - I am keeping the results from the map phase, to update the input objects
&gt; as soon as they come back via streaming.
&gt; - The MapReduce job is used in each iteration of an implementation of the
&gt; K-means clustering algorithm.
&gt;
&gt; Once the map phase runs on the nodes where the objects are stored, it would
&gt; be preferable to have them being updated by the JavaScript function that
&gt; runs on the map phase, to avoid the data objects being transfered back and
&gt; forth.
&gt;
&gt; Would it be a good idea to install the JavaScript client library on the
&gt; server and make it available to the MapReduce phase functions? Would it
&gt; work?
&gt;
&gt;
&gt; Thanks for your time.
&gt; Best regards.
&gt; Tiago
&gt;
&gt;
&gt;
&gt; --
&gt; View this message in context: 
&gt; http://riak-users.197444.n3.nabble.com/Storing-objects-during-MapReduce-phase-tp4026852.html
&gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

