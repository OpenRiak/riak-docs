---
title: "Re: Erlang client map reduce?"
description: ""
project: community
lastmod: 2016-10-12T04:49:22-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17687"
mailinglist_parent_id: "msg17678"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2016-10-12T04:49:22-07:00
---


Hi Brandon -

The riak\_object module exports a type() function that will return the
bucket type of an object in Riak
(https://github.com/basho/riak\_kv/blob/develop/src/riak\_object.erl#L589-L592).

MapReduce docs:
http://docs.basho.com/riak/kv/2.1.4/developing/app-guide/advanced-mapreduce/

In addition, here is a repository containing some exampe map/reduce
code: https://github.com/basho/riak\_function\_contrib/wiki

Having said all that, your use case may be better suited to Riak
Search. MapReduce is best run on an intermittent basis due to the load
it places on a cluster. Is your query something that will frequently
be run or could the output of the query be saved in Riak on a daily
basis, for instance?

--
Luke Bakken
Engineer
lbak...@basho.com

On Thu, Sep 29, 2016 at 5:57 PM, Brandon Martin  wrote:
&gt; So I am trying to figure out how to do a map reduce on a bucket type with
&gt; the erlang client in erl. I didnâ€™t see in the documentation how to do a map
&gt; reduce with a bucket type. I have the bucket type and the bucket. I want to
&gt; map reduce to basically filter out any documents whose createTime(which is
&gt; just int/number) is less then 24 hours and return those. I have only been
&gt; using riak for a few weeks and erlang for about a day. Any pointers or help
&gt; would be appreciated.
&gt;
&gt; Thanks
&gt;
&gt; --
&gt; Brandon Martin

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

