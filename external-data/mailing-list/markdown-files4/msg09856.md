---
title: "Re: Riak fails to start"
description: ""
project: community
lastmod: 2013-01-21T08:09:40-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09856"
mailinglist_parent_id: "msg09853"
author_name: "Daniel Iwan"
project_section: "mailinglistitem"
sent_date: 2013-01-21T08:09:40-08:00
---


Thanks Jon

Is there any timeframe for 1.3 release with maybe a glimpse of what
features we may expect?

Regards
Daniel


On 21 January 2013 14:42, Jon Meredith  wrote:

&gt; Thanks for reporting the issue and sorry you got bitten by it. We have
&gt; committed a fix to master a couple of months ago and it will appear in the
&gt; 1.3 release.
&gt;
&gt; Jon
&gt;
&gt; On Jan 21, 2013, at 3:58 AM, Daniel Iwan  wrote:
&gt;
&gt; THe issue was that one of the ring snapshot files had size 0
&gt;
&gt; user@node1:~$ ls -la /var/lib/riak/ring/
&gt; total 32
&gt; drwxr-xr-x 2 riak riak 138 Jan 17 10:27 .
&gt; drwxr-xr-x 7 riak riak 129 Jan 17 13:22 ..
&gt; -rw-rw-r-- 1 riak riak 12584 Jan 15 17:19
&gt; riak\_core\_ring.default.20130115171955
&gt; -rw-rw-r-- 1 riak riak 12584 Jan 17 10:27
&gt; riak\_core\_ring.default.20130117102756
&gt; -rw-rw-r-- 1 riak riak 0 Jan 17 10:27
&gt; riak\_core\_ring.default.20130117102757
&gt;
&gt; After deleting it riak process started correctly.
&gt; I guess riak process should check if ring file is corrupted or 0 bytes
&gt; long, delete/rename it automatically
&gt; and use previous version?
&gt;
&gt; Regards
&gt; Daniel
&gt;
&gt;
&gt;
&gt; On 17 January 2013 14:00, Daniel Iwan  wrote:
&gt;
&gt;&gt; One of our nodes fails to start
&gt;&gt;
&gt;&gt; $ sudo riak console
&gt;&gt; Attempting to restart script through sudo -H -u riak
&gt;&gt; Exec: /usr/lib/riak/erts-5.9.1/bin/erlexec -boot
&gt;&gt; /usr/lib/riak/releases/1.2.1/riak -embedded -config
&gt;&gt; /etc/riak/app.config -pa /usr/lib/riak/lib/basho-patches
&gt;&gt; -args\_file /etc/riak/vm.args -- console
&gt;&gt; Root: /usr/lib/riak
&gt;&gt; Erlang R15B01 (erts-5.9.1) [source] [64-bit] [smp:4:4] [async-threads:64]
&gt;&gt; [kernel-poll:true]
&gt;&gt;
&gt;&gt; \*\* /usr/lib/riak/lib/basho-patches/etop\_txt.beam hides
&gt;&gt; /usr/lib/riak/lib/observer-1.1/ebin/etop\_txt.beam
&gt;&gt; \*\* Found 1 name clashes in code paths
&gt;&gt; 13:22:47.424 [info] Application lager started on node 'riak@10.173.240.1'
&gt;&gt; 13:22:47.466 [error] CRASH REPORT Process &lt;0.149.0&gt; with 0 neighbours
&gt;&gt; exited with reason: bad argument in call to erlang:binary\_to\_term(&lt;&lt;&gt;&gt;) in
&gt;&gt; riak\_core\_ring\_manager:read\_ringfile/1 line 154 in gen\_server2:init\_it/6
&gt;&gt; line 384
&gt;&gt; /usr/lib/riak/lib/os\_mon-2.2.9/priv/bin/memsup: Erlang has closed.
&gt;&gt; Erlang
&gt;&gt; has closed
&gt;&gt;
&gt;&gt; {"Kernel pid terminated",application\_controller,"{application\_
&gt;&gt; start\_failure,riak\_core,{shutdown,{riak\_core\_app,start,[normal,[]]}}}"}
&gt;&gt;
&gt;&gt; Crash dump was written to: /var/log/riak/erl\_crash.dump
&gt;&gt; Kernel pid terminated (application\_controller)
&gt;&gt; ({application\_start\_failure,riak\_core,{shutdown,{riak\_
&gt;&gt; core\_app,start,[normal,[]]}}})
&gt;&gt;
&gt;&gt;
&gt;&gt; Which suggest that something happened to ring files?
&gt;&gt;
&gt;&gt; Any idea what and why it happened?
&gt;&gt;
&gt;&gt; Dump file available at:
&gt;&gt; http://www.filedropper.com/erlcrash
&gt;&gt;
&gt;&gt; Regards
&gt;&gt; Daniel
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

