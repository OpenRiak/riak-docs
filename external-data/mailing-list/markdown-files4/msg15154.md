---
title: "Re: Riak Search queries"
description: ""
project: community
lastmod: 2014-11-12T09:54:39-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15154"
mailinglist_parent_id: "msg15141"
author_name: "Eric Redmond"
project_section: "mailinglistitem"
sent_date: 2014-11-12T09:54:39-08:00
---



On Nov 11, 2014, at 3:55 AM, Jason Ryan  wrote:

&gt; Hi all,
&gt; 
&gt; I have some quick (hopefully!) questions around Riak search.
&gt; 
&gt; 1. I'm getting multiple documents returned in the search results for a query 
&gt; - which I assume is based on the n\_val of my bucket as I tried to change the 
&gt; search index to have a n\_val of 1 but got an error that it needed to match 
&gt; the bucket n\_val - is this expected behaviour, i.e. will the search return 
&gt; multiples based from the n\_val, and I need to code for that?

You should only get multiple results if your values have siblings. You can tell 
if they're siblings because the duplicates will have different \_yz\_vtags.

&gt; 2. What is best practice if we required to change an index (e.g. adding a new 
&gt; indexed field) and wanted to re-generate the index for a particular bucket?

Currently, that requires you rewriting your dataset again. However, there is a 
PR in the works to allow incremental schema changes, as well as allowing AAE to 
automatically update indexed documented based on schema changes: 
https://github.com/basho/yokozuna/pull/427


&gt; Thanks!
&gt; Jason
&gt; 
&gt; 
&gt; 
&gt; This message is for the named person's use only. If you received this message 
&gt; in error, please immediately delete it and all copies and notify the sender. 
&gt; You must not, directly or indirectly, use, disclose, distribute, print, or 
&gt; copy any part of this message if you are not the intended recipient. Any 
&gt; views expressed in this message are those of the individual sender and not 
&gt; Trustev Ltd. Trustev is registered in Ireland No. 516425 and trades from 2100 
&gt; Cork Airport Business Park, Cork, Ireland.
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

