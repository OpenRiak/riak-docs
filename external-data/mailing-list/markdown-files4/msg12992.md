---
title: "Riak Yokozuna and a schema"
description: ""
project: community
lastmod: 2013-11-15T04:12:51-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12992"
author_name: "Leif Gensert"
project_section: "mailinglistitem"
sent_date: 2013-11-15T04:12:51-08:00
---


Hello everyone,

I am currently evaluating Riak for a project of ours.

Here are the requirements in a nutshell:

- We get various customer data as json with different field names (let’s just 
pretend that we have books).
- We need to store these data as it comes (JSON with the original field names).
- We need to have a consistent search index with fields specified by us.

Example:

Customer A:

{
 book\_title: ‘Alice in wonderland’,
 num\_of\_pages: 314, 
}

Customer B:

{
 book\_name: ’Sherlock Holmes in the Hound of the Baskervilles’,
 number\_of\_pages: 164, 
}

So far so good.

This data need to be stored for example like this:

{
 title: ‘Alice in wonderland’,
 pages: 314, 
}
{
 title: ’Sherlock Holmes in the Hound of the Baskervilles’,
 pages: 164, 
}

My thought was this:

- Store data from each customer to a different bucket.
- Index the data from the document to Yokozuna (after all, Solr has a schema so 
we could utilize that)

My question concerning this would be:

What’s the best way to do this?

So far the only tutorials I found concerning Yokozuna index the documents 
without a schema.

best
Leif
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

