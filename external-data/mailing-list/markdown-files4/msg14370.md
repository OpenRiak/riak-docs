---
title: "Fwd: Possible bug in Python client?"
description: ""
project: community
lastmod: 2014-06-25T06:32:35-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14370"
mailinglist_parent_id: "msg14369"
author_name: "Alex De la rosa"
project_section: "mailinglistitem"
sent_date: 2014-06-25T06:32:35-07:00
---


\*\* SORRY, WAS SEND BEFORE I FINISHED \*\*

Hi there,

I was testing 2i via PBC on Python and I found a wrong behaviour, this is
my code:

-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------

import riak
client = riak.RiakClient(protocol='pbc',
nodes=[{'host':'127.0.0.1','http\_port':8098,'pb\_port':8087}])
bucket = client.bucket('accounts')
key = bucket.new('alex', data={"name":"Alex","age":25,"sex":"male"})
key.add\_index('age\_int', 25)
key.add\_index('sex\_bin', 'male')
key.store()
results = bucket.get\_index('sex\_bin', 'male', max\_results = 10)
print results.results
if results.has\_next\_page():
 more = bucket.get\_index('sex\_bin', 'm', 'o', max\_results = 10,
continuation = results.continuation)
 print more.results

-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------+-------

This is the output:
['alex']
['alex']

Although there is only 1 key that matches the 2i, results.has\_next\_page()
has value TRUE and results.continuation is empty... however, it enter the
IF and requests more keys getting "alex" key again (and that could be on
and on and on)

Thanks,
Alex
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

