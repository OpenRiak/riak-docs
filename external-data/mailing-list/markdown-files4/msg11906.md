---
title: "Re: erlang go boom"
description: ""
project: community
lastmod: 2013-08-05T21:39:00-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11906"
mailinglist_parent_id: "msg11905"
author_name: "Jeremy Ong"
project_section: "mailinglistitem"
sent_date: 2013-08-05T21:39:00-07:00
---


On the client you could extract the value\_count of the objects you
read and just log them. Feel free to post code too, in particular, how
you are writing out updated values.

On Mon, Aug 5, 2013 at 9:20 PM, Paul Ingalls  wrote:
&gt; Interesting. I have sibling resolution code on the client side. Would
&gt; sibling explosion take out the entire cluster all at once? Within 5 minutes
&gt; of my last email, the rest of the cluster died.
&gt;
&gt; Is there a way to quickly figure out whether the cluster is full of
&gt; siblings?
&gt;
&gt; Paul Ingalls
&gt; Founder & CEO Fanzo
&gt; p...@fanzo.me
&gt; @paulingalls
&gt; http://www.linkedin.com/in/paulingalls
&gt;
&gt; On Aug 5, 2013, at 8:07 PM, Evan Vigil-McClanahan 
&gt; wrote:
&gt;
&gt; Given your leveldb settings, I think that compaction is an unlikely
&gt; culprit. But check this out:
&gt;
&gt; 2013-08-05 18:01:15.878 [info] &lt;0.83.0&gt;@riak\_core\_sysmon\_
&gt; handler:handle\_event:92 monitor large\_heap &lt;0.14832.557&gt;
&gt; [{initial\_call,{riak\_kv\_get\_fsm,init,1}},{almost\_current\_function,{riak\_object,encode\_maybe\_binary,1}},{message\_queue\_len,1}]
&gt; [{old\_heap\_block\_size,0},{heap\_block\_size,116769640},{mbuf\_size,0},{stack\_size,52},{old\_heap\_size,0},{heap\_size,81956791}]
&gt;
&gt; That's a 78MB heap in encode object... Unless your objects are big, I
&gt; would suspect sibling explosion caused by rapid updates at w = 1.
&gt;
&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

