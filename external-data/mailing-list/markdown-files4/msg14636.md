---
title: "Re: Riak solr query range issue"
description: ""
project: community
lastmod: 2014-08-11T00:20:08-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14636"
mailinglist_parent_id: "msg14631"
author_name: "tele"
project_section: "mailinglistitem"
sent_date: 2014-08-11T00:20:08-07:00
---


Hi,

Never mind i've got it working with riak2.0 and the new riak search.
did my schema, indexed some data and now i can query for the range:

curl
'http://localhost:8098/search/query/users\_index?wt=json&q=age:%7B12%20TO%2040%7D'
2&gt;/dev/null | jsonpp

Thanks

:tele



On Sun, 10 Aug 2014 18:25:16 -0500
tele  wrote:

&gt; Hi,
&gt; 
&gt; I have a simple solr document like this:
&gt; 
&gt; xml version="1.0" ?
&gt; 
&gt; 
&gt; Oslo
&gt; Bob
&gt; 34
&gt; 
&gt; 
&gt; 
&gt; As "id" i use an email addr added to a 'users' index. 
&gt; I've defined age as Int field.
&gt; 
&gt; I can now query the index with:
&gt; 
&gt; # search-cmd search users "name:Bob"
&gt; :: Searching for 'name:Bob' / '' in users...
&gt; ------------------------------
&gt; index/id: users/f...@bar.org
&gt; p -&gt; [0]
&gt; score -&gt; 0.35355339059327373
&gt; ------------------------------
&gt; :: Found 1 results.
&gt; 
&gt; If i do search-cmd search users "age:34" 
&gt; It works. 
&gt; 
&gt; If i try the range 
&gt; 
&gt; search-cmd search users "age:[20 TO 40]"
&gt; 
&gt; It just gives me the Usage of "search-cmd" again without saying
&gt; anything like if the syntax is wrong.
&gt; 
&gt; Uing the HTTP solr interface basically is the same i get no results..
&gt; 
&gt; curl "http://localhost:8098/solr/users/select?q=age:%7B20 TO 50%7D"
&gt; curl: (52) Empty reply from server
&gt; 
&gt; curl 'http://localhost:8098/solr/users/select?q=age:{20 TO 50}'
&gt; curl: (52) Empty reply from server
&gt; 
&gt; What i am doing wrong? please note i have other data in the index
&gt; 
&gt; My riak version is 1.4.10
&gt; 
&gt; Thanks
&gt; 
&gt; :tele
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

