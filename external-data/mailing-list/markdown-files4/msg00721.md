---
title: "Re: Hitting per-node limitations"
description: ""
project: community
lastmod: 2010-07-13T09:16:53-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00721"
mailinglist_parent_id: "msg00720"
author_name: "Michael Russo"
project_section: "mailinglistitem"
sent_date: 2010-07-13T09:16:53-07:00
---


Thanks Dean, this makes sense.

Best,
Michael

On Tue, Jul 13, 2010 at 11:30 AM, Dean Cookson  wrote:

&gt; Michael,
&gt; The answer to your first question is basically "yes". The sysadmin really
&gt; should be monitoring memory usage and disk space and adding nodes to the
&gt; cluster when/if needed. The SNMP hooks in the EnterpriseDS version are very
&gt; handy for that type of thing and I'd be happy to have that conversation off
&gt; list, if you're interested. That being said, the system does automatically
&gt; balance objects across the cluster evenly and adding a new node will trigger
&gt; a re-balance that does not interrupt cluster function. Currently, there is
&gt; not really a way to force an un-even distribution across the cluster.
&gt;
&gt; On the best-practices front, there is a section of the wiki that addresses
&gt; exactly that at: https://wiki.basho.com/display/RIAK/Best+Practices
&gt;
&gt; Beyond that, I'd add that Riak is generally happier with more nodes rather
&gt; than fewer (e.g. If N=3, 5 nodes is a good place to start).
&gt;
&gt; Best regards,
&gt; Dean
&gt;
&gt; --
&gt; Dean Cookson
&gt; VP Business Development
&gt; Basho Technologies, Inc.
&gt; Google Voice: +1 415 692 1775
&gt; cook...@basho.com
&gt;
&gt;
&gt; On Jul 12, 2010, at 2:59 PM, Michael Russo wrote:
&gt;
&gt; &gt; Hi all,
&gt; &gt;
&gt; &gt; I'm currently evaluating Riak and am looking to understand the system in
&gt; more depth. One of the best ways I know of doing this is to examine the
&gt; edge cases. So, without further ado:
&gt; &gt;
&gt; &gt; There are several per-node limitations that, if hit, could cause a Riak
&gt; node to stop functioning properly. For example,
&gt; &gt;
&gt; &gt; - disk: each node has a file system of finite size and cannot
&gt; indefinitely accept writes
&gt; &gt; - memory: the Bitcask keydir structure must fit entirely in memory and
&gt; thus cannot indefinitely accept writes
&gt; &gt;
&gt; &gt; From a management perspective, is the onus on the sysadmin to monitor
&gt; disk and memory usage and to increase the number of nodes in the cluster as
&gt; appropriate, or are there any built-in mechanisms to automatically
&gt; re-balance data across the cluster?
&gt; &gt;
&gt; &gt; Furthermore, if a limit is inadvertently hit, is there a re-balancing
&gt; mechanism available that can be manually triggered to compensate, or is it a
&gt; requirement that every node take an equal share of partitions?
&gt; &gt;
&gt; &gt; Are there any other related best-practices?
&gt; &gt;
&gt; &gt; Thanks,
&gt; &gt; Michael
&gt; &gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

