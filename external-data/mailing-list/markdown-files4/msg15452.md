---
title: "Re: Riak responds with 204 even if returnbody is true"
description: ""
project: community
lastmod: 2015-01-08T07:19:08-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15452"
mailinglist_parent_id: "msg15011"
author_name: "Bozhidar Bozhanov"
project_section: "mailinglistitem"
sent_date: 2015-01-08T07:19:08-08:00
---


Hi,

Sorry for the slow reply.
We are using the scalapenos client, so we don't explicitly set content
type. I would assume it's application/json, as we store json. But it
doesn't happen every time. I wouldn't say it's the first PUT - it looked
random. I don't have access to the logs right now, but should I see this
behaviour again, I'll let you know.

Best,
Bozhidar

On Sat, Oct 11, 2014 at 2:02 AM, Luke Bakken  wrote:

&gt; Hi Bozhidar,
&gt;
&gt; What is the "Content-Type" of these PUT operations? Is there something
&gt; in common about operations that return 204 when returnbody=true? Data
&gt; size, content type, etc?? Does this only happen on the first PUT or is
&gt; that random as well?
&gt; --
&gt; Luke Bakken
&gt; Engineer / CSE
&gt; lbak...@basho.com
&gt;
&gt;
&gt; On Thu, Oct 2, 2014 at 9:14 AM, Bozhidar Bozhanov
&gt;  wrote:
&gt; &gt; Riak Version: 1.4.8
&gt; &gt; The load tests are general load tests of the application, not particular
&gt; &gt; riak tests (e.g. we are not using basho bench for these)
&gt; &gt;
&gt; &gt; Best,
&gt; &gt; Bozhidar
&gt; &gt;
&gt; &gt; On Thu, Oct 2, 2014 at 6:55 PM, Luke Bakken  wrote:
&gt; &gt;&gt;
&gt; &gt;&gt; Bozhidar,
&gt; &gt;&gt;
&gt; &gt;&gt; Could you provide more information? Riak version, how you're
&gt; &gt;&gt; performing load tests?
&gt; &gt;&gt; --
&gt; &gt;&gt; Luke Bakken
&gt; &gt;&gt; Engineer / CSE
&gt; &gt;&gt; lbak...@basho.com
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; On Wed, Sep 10, 2014 at 12:10 AM, Bozhidar Bozhanov
&gt; &gt;&gt;  wrote:
&gt; &gt;&gt; &gt; Hello,
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; We are running load tests and Riak is sometimes responding with 204 No
&gt; &gt;&gt; &gt; content when we do a PUT operation, even though we've passed
&gt; &gt;&gt; &gt; returnbody=true
&gt; &gt;&gt; &gt; and the body we put is not empty (this answer implies this is not
&gt; &gt;&gt; &gt; expected)
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; It happens rarely, so what might be the possible reasons?
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; Our riak has 9 nodes, w=4, n\_val=5, r=2.
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; Best,
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; Bozhidar
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt;
&gt; &gt;&gt; &gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; &gt;&gt; &gt; riak-users mailing list
&gt; &gt;&gt; &gt; riak-users@lists.basho.com
&gt; &gt;&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; &gt;&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

