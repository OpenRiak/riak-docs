---
title: "Re: Riak dynamic cluster HOWTO"
description: ""
project: community
lastmod: 2012-01-11T13:24:56-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06246"
mailinglist_parent_id: "msg06245"
author_name: "Jeffrey Eliasen"
project_section: "mailinglistitem"
sent_date: 2012-01-11T13:24:56-08:00
---


Yeah, that goal changed over time and I forgot to update the front page. I
realized I didn't have enough resources to handle the overhead of that many
machines (open file handles, RAM resources, etc) and reduced my expectation
to about 10 machines, with a more realistic probability of 5-6. In this
case, the default ring size should be adequate. I agree I need to annotate
that page and/or the configuration pages to reflect the shift.

I \*really\* appreciate that it's being read, and I hope it can be useful for
people :)

jeff

On Wed, Jan 11, 2012 at 1:03 PM, Mark Phillips  wrote:

&gt; Hey Jeff,
&gt; Sadly I'm just now getting around to working my way through this guide
&gt; on account of the post-holiday catchup game...
&gt; Firstly, great job on this. This clearly wasn't a small undertaking.
&gt; Thanks for taking the time to write and publish it.
&gt; One piece of initial feedback - On the first page you state one of
&gt; your goals as:
&gt;
&gt; "The cluster can be scaled to at least 128 machines."
&gt;
&gt; This is a great goal (and I hope everyone is building 128 node Riak
&gt; clusters). One thing I wanted to point out (which was brought to my
&gt; attention on twitter by @jdmaturen) is that the stock ring creation
&gt; size of 64 won't be sufficient for this. You'll need something closer
&gt; to 1024. Not sure how you want to note this in the tutorial, but it's
&gt; probably worth including a reference to ring\_creation\_size setting [1]
&gt; on the Custom Configuration Page [2].
&gt;
&gt; I'll send along anything else that comes up.
&gt;
&gt; Mark
&gt;
&gt; [1] http://wiki.basho.com/Configuration-Files.html#ring\_creation\_size
&gt; [2] http://jeff.jke.net/2011/12/24/custom-configuration
&gt; On Fri, Jan 6, 2012 at 9:23 AM, Jeffrey Eliasen  wrote:
&gt; &gt; I spent the Christmas break setting up a Riak cluster and documenting all
&gt; &gt; the steps. I've got a howto/tutorial set up at
&gt; &gt; http://jeff.jke.net/2011/10/02/setting-nosql-cluster that will walk you
&gt; &gt; through the steps.
&gt; &gt;
&gt; &gt; In particular, I aimed for low cost and low power. Each node in the
&gt; cluster
&gt; &gt; boots off the network (single point of maintenance for all node OS
&gt; &gt; configuration) and just requires a data drive. Nodes are assigned
&gt; addresses
&gt; &gt; using DHCP and automatically update vm.args and execute reip if the node
&gt; &gt; address changes from boot to boot. The scripts for this might be handy
&gt; for
&gt; &gt; anyone else running in an environment where machine addresses change
&gt; &gt; (Amazon, etc).
&gt; &gt;
&gt; &gt; I'd love feedback, and more to the point, I'd like to find someone to
&gt; walk
&gt; &gt; through it step-by-step and make sure I didn't miss anything.
&gt; &gt;
&gt; &gt; Oh, and \*thanks\* to the list for helping me with configuration help over
&gt; the
&gt; &gt; last couple weeks!
&gt; &gt;
&gt; &gt; jeff
&gt; &gt;
&gt; &gt; --
&gt; &gt;
&gt; &gt; jeffrey k eliasen
&gt; &gt;
&gt; &gt; Find and follow me on:
&gt; &gt; Blog: http://jeff.jke.net
&gt; &gt; Twitter: http://twitter.com/jeffreyeliasen
&gt; &gt; Facebook: http://facebook.com/jeffrey.eliasen
&gt; &gt;
&gt; &gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; &gt;
&gt;



-- 

jeffrey k eliasen

Find and follow me on:
Blog: http://jeff.jke.net
Twitter: http://twitter.com/jeffreyeliasen
Facebook: http://facebook.com/jeffrey.eliasen
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

