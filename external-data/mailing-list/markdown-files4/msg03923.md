---
title: "Re: LevelDB driver"
description: ""
project: community
lastmod: 2011-07-04T07:33:49-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03923"
mailinglist_parent_id: "msg03922"
author_name: "Jonathan Langevin"
project_section: "mailinglistitem"
sent_date: 2011-07-04T07:33:49-07:00
---


Thanks Justin for the helpful response :-)

\*
Can you define what you would consider "huge" regarding # keys?


Jonathan Langevin
Systems Administrator
Loom Inc.
Wilmington, NC: (910) 241-0433 - jlange...@loomlearning.com -
www.loomlearning.com - Skype: intel352
\*


On Mon, Jul 4, 2011 at 10:14 AM, Justin Sheehy  wrote:

&gt; Hi, Jonathan.
&gt;
&gt; On Mon, Jul 4, 2011 at 9:42 AM, Jonathan Langevin
&gt;  wrote:
&gt;
&gt; &gt; I've seen users show concern of Bitcask's space usage overhead. How does
&gt; that
&gt; &gt; compare against LevelDB?
&gt;
&gt; Bitcask doesn't have much in the way of disk space "overhead" unless
&gt; you mean that the space used by deleted or overwritten values is not
&gt; reclaimed until after a merge. In that way LevelDB is similar since
&gt; space used by deleted and overwritten items is reclaimed as they are
&gt; moved into older "levels" of the DB. The behavior here is not
&gt; identical, but similar in concept.
&gt;
&gt; By way of comparison, InnoDB imposes about a 2x space overhead cost on
&gt; many common datasets but the overhead is usually fairly static.
&gt;
&gt; &gt; If using a Level backend, what advantages do we lose of Bitcask? ls
&gt; replication &
&gt; &gt; availability an issue at all?
&gt;
&gt; The functionality provided by Riak above the storage engines (such as
&gt; replication and system-wide availability) are generally not impacted
&gt; by your choice of storage engine.
&gt;
&gt; There are two main things you would lose today:
&gt;
&gt; 1 - latency
&gt; 2 - stability
&gt;
&gt; The first of these is fundamental: for many usage patterns Bitcask
&gt; will have a latency advantage over LevelDB due to being able to
&gt; guarantee that it will never perform more than a single disk seek per
&gt; operation.
&gt;
&gt; The second is just about the relative immaturity of LevelDB: we have
&gt; not yet seen LevelDB in production environments for an extended amount
&gt; of time as we have with Bitcask. Anyone using it now as a Bitcask
&gt; replacement should realize that they are on the leading edge and
&gt; taking the usual risks that come with adopting new software. That
&gt; said, we expect LevelDB to do well over time as one of the alternative
&gt; Riak storage engines.
&gt;
&gt; The main reason to use LevelDB under Riak would be if your number of
&gt; keys is huge and thus the RAM consumption of Bitcask would make it
&gt; unsuitable. That is, we expect people to use LevelDB in the same
&gt; situations that they might previously have chosen Innostore as their
&gt; storage engine.
&gt;
&gt; -Justin
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

