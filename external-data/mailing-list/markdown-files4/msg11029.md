---
title: "Re: [ANN] riak-js v0.10.0"
description: ""
project: community
lastmod: 2013-05-05T09:37:11-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11029"
mailinglist_parent_id: "msg11027"
author_name: "José Ghislain Quenum"
project_section: "mailinglistitem"
sent_date: 2013-05-05T09:37:11-07:00
---


Mathias,
I found out what was causing the problem on my side. It was my new ID generator 
that was messing things up. I will keep testing though. If I come across any 
weird behavior with saving data I will file an issue
Thanks again
On May 5, 2013, at 5:29 PM, Mathias Meyer  wrote:

&gt; José,
&gt; 
&gt; Could you file an issue [1] describing the problems you've been seeing?
&gt; 
&gt; Thank you!
&gt; 
&gt; Cheers, Mathias
&gt; 
&gt; [1] https://github.com/mostlyserious/riak-js/issues/new
&gt; 
&gt; 
&gt; 
&gt; On Sunday, 5. May 2013 at 17:24, José Ghislain Quenum wrote:
&gt; 
&gt;&gt; is this just me or has anyone else experienced some weird behavior trying to 
&gt;&gt; save data into riak using riak-js? My updates are all of a sudden 
&gt;&gt; misbehaving.
&gt;&gt; I upgraded to 0.10.0 since friday night
&gt;&gt; 
&gt;&gt; On May 4, 2013, at 2:43 PM, José Ghislain Quenum 
&gt;&gt;  wrote:
&gt;&gt; 
&gt;&gt;&gt; Hi Mathias,
&gt;&gt;&gt; I didn't use any debug flag. I just did it again and it still created a 
&gt;&gt;&gt; Debug folder instead of Release. Maybe it's my node\_gyp&gt; I need to check. 
&gt;&gt;&gt; Has anyone else experienced this?
&gt;&gt;&gt; BTW I am using OS X Mountain Lion
&gt;&gt;&gt; José
&gt;&gt;&gt; On May 4, 2013, at 12:24 PM, Mathias Meyer  wrote:
&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; José,
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Do you use any debug flags for npm of sorts?
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; I just tried a fresh install, and npm compiled the library into the 
&gt;&gt;&gt;&gt; Release folder.
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Cheers, Mathias
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; On Saturday, 4. May 2013 at 12:01, José Ghislain Quenum wrote:
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt; in node\_modules in my project inside 
&gt;&gt;&gt;&gt;&gt; riak-js/niode\_modules/protobuf.js/node\_modules/wtf8/wtf8.js 
&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt; var wtf8 = require('./build/Release/wtf8.node');
&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt; but there is no Release folder. Only Debug
&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt; On May 3, 2013, at 9:15 PM, Mathias Meyer  wrote:
&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt; José,
&gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt; Could you elaborate a bit more on that? Not sure I fully understand what 
&gt;&gt;&gt;&gt;&gt;&gt; you mean.
&gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt; Thanks!
&gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt; Cheers, Mathias
&gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt; On Friday, 3. May 2013 at 21:10, José Ghislain Quenum wrote:
&gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt;&gt; thanks again for the update. the wtf8.node you point at is not there 
&gt;&gt;&gt;&gt;&gt;&gt;&gt; (no Release folder). I pointed to the Debug one and it is fine. Maybe 
&gt;&gt;&gt;&gt;&gt;&gt;&gt; you wanna fix it
&gt;&gt;&gt;&gt;&gt;&gt;&gt; José
&gt;&gt;&gt;&gt;&gt;&gt;&gt; On May 3, 2013, at 5:55 PM, Mathias Meyer  wrote:
&gt;&gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Heya,
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Just shipped riak-js 0.10.0, with support for Protocol Buffers: 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; https://npmjs.org/package/riak-js
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; To use protobufs, specify a different API option when creating a 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; client:
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; var riak = require('riak-js').getClient({api: 'protobuf'})
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; I'd love to have some feedback on how the protobuffs support works 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; with real workloads, if anyone feels like trying it out. Please report 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; any issues you're seeing: 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; https://github.com/mostlyserious/riak-js/issues
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Currently it's still using a single connection, but I'll work on 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; adding connection pooling next. Already merged Andrew J. Stone's 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; support for pooled HTTP connection into the current master, will work 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; off that for protobuffs as well.
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Thanks to Nathan LaFreniere for his awesome riakpbc and protobuf.js 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; libraries, which helped me a lot!
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Cheers, Mathias
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt; 
&gt; 

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

