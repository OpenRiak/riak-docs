---
title: "Re: issue creating a custom index/schema"
description: ""
project: community
lastmod: 2016-05-09T10:25:30-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17316"
mailinglist_parent_id: "msg17314"
author_name: "Jorge Garrido gomez"
project_section: "mailinglistitem"
sent_date: 2016-05-09T10:25:30-07:00
---


Hello Alex, 

We solved the issue using the Spatial:

 
We use that definition for the field and works perfectly, I hope this can be 
helpful, if you want more info maybe we can help you

Thank you! :-)


&gt; On May 9, 2016, at 12:06 PM, Alex De la rosa  wrote:
&gt; 
&gt; Ok, i solved the issues for the datatypes "int", "string", but still getting 
&gt; errors for the "location\_rpt":
&gt; 
&gt;  class="solr.SpatialRecursivePrefixTreeFieldType" 
&gt; spatialContextFactory="com.spatial4j.core.context.jts.JtsSpatialContextFactory"
&gt; distErrPct="0.025" maxDistErr="0.000009" units="degrees" /&gt;
&gt; 2016-05-09 19:03:56.798 [error] &lt;0.588.0&gt;@yz\_index:core\_create:287 Couldn't 
&gt; create index leaders\_b: 
&gt; {ok,"500",[{"Content-Type","text/html;charset=ISO-8859-1"},{"Cache-Control","must-revalidate,no-cache,no-store"},{"Content-Length","11214"}],&lt;&lt;"\n\n http-equiv=\"Content-Type\" content=\"text/html; 
&gt; charset=ISO-8859-1\"/&gt;\nError 500 
&gt; {msg=com/vividsolutions/jts/geom/CoordinateSequenceFactory,trace=java.lang.NoClassDefFoundError:
&gt; com/vividsolutions/jts/geom/CoordinateSequenceFactory\n\tat 
&gt; java.lang.Class.getDeclaredConstructors0(Native Method)\n\tat 
&gt; java.lang.Class.privateGetDeclaredConstructors(Class.java:2595)\n\tat 
&gt; java.lang.Class.getConstructor0(Class.java:2895)\n\tat 
&gt; java.lang.Class.newInstance(Class.java:354)\n\tat 
&gt; com.spatial4j.core.context.SpatialContextFactory.makeSpatialContext(SpatialContextFactory.java:96)\n\tat
&gt; 
&gt; org.apache.solr.schema.AbstractSpatialFieldType.init(AbstractSpatialFieldType.java:107)\n\tat
&gt; 
&gt; org.apache.solr.schema.AbstractSpatialPrefixTreeFieldType.init(AbstractSpatialPrefixTreeFieldType.java:43)\n\tat
&gt; 
&gt; org.apache.solr.schema.SpatialRecursivePrefixTreeFieldType.init(SpatialRecursivePrefixTreeFieldType.java:37)\n\tat
&gt; org.apache.solr.schema.FieldType.setArgs(FieldType.java:165)\n\tat 
&gt; org.apache.solr.schema.FieldTypePluginLoader.init(FieldTypePluginLoader.java:141)\n\tat
&gt; 
&gt; org.apache.solr.schema.FieldTypePluginLoader.init(FieldTypePluginLoader.java:43)\n\tat
&gt; 
&gt; org.apache.solr.util.plugin.AbstractPluginLoader.load(AbstractPluginLoader.java:190)\n\tat
&gt; org.apache.solr.schema.IndexSchema.readSchema(IndexSchema.java:468)\n\tat 
&gt; org.apache.solr.schema.IndexSchema.&lt;init&gt;(IndexSchema.java:166)\n\tat 
&gt; org.apache.solr.schema.IndexSchemaFactory.create(IndexSchemaFactory.java:55)\n\tat
&gt; 
&gt; org.apache.solr.schema.IndexSchemaFactory.buildIndexSchema(IndexSchemaFactory.java:69)\n\tat
&gt; 
&gt; org.apache.solr.core.CoreContainer.createFromLocal(CoreContainer.java:559)\n\tat
&gt; org.apache.solr.core.CoreContainer.create(CoreContainer.java:597)\n\tat 
&gt; org.apache.solr.handler.admin.CoreAdminHandler.handleCreateAction(CoreAdminHandler.java:509)\n\tat
&gt; 
&gt; org.apache.solr.handler.admin.CoreAdminHandler.handleRequestBody(CoreAdminHandler.java:152)\n\tat
&gt; 
&gt; org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:135)\n\tat
&gt; 
&gt; org.apache.solr.servlet.SolrDispatchFilter.handleAdminRequest(SolrDispatchFilter.java:732)\n\tat
&gt; 
&gt; org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:268)\n\tat
&gt; 
&gt; org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:217)\n\tat
&gt; 
&gt; org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1419)\n\tat
&gt; 
&gt; org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455)\n\tat
&gt; 
&gt; org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)\n\tat
&gt; 
&gt; org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)\n\tat
&gt; 
&gt; org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)\n\tat
&gt; 
&gt; org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075)\n\tat
&gt; 
&gt; org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384)\n\tat
&gt; 
&gt; org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)\n\tat
&gt; 
&gt; org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009)\n\tat
&gt; 
&gt; org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\n\tat
&gt; 
&gt; org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)\n\tat
&gt; 
&gt; org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)\n\tat
&gt; 
&gt; org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\n\tat
&gt; org.eclipse.jetty.server.Server.handle(Server.java:368)\n\tat 
&gt; org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489)\n\tat
&gt; 
&gt; org.eclipse.jetty.server.BlockingHttpConnection.handleRequest(BlockingHttpConnection.java:53)\n\tat
&gt; 
&gt; org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:942)\n\tat
&gt; 
&gt; org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1004)\n\tat
&gt; org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.ja..."&gt;&gt;}
&gt; 
&gt; Anyone knows how to fix it?
&gt; 
&gt; Thanks,
&gt; Alex
&gt; 
&gt; On Mon, May 9, 2016 at 8:50 PM, Alex De la rosa  &gt; wrote:
&gt; i see... that part of the schema was written in another code block in the 
&gt; documentation:
&gt; 
&gt;  positionIncrementGap="0"/&gt;
&gt; 
&gt; will try with that :) thanks
&gt; 
&gt; Alex
&gt; 
&gt; On Mon, May 9, 2016 at 8:48 PM, Vitaly &lt;13vitam...@gmail.com 
&gt; &gt; wrote:
&gt; You don't have this type under . The failure is about "int" because 
&gt; it's the first one encountered in the list of fields.
&gt; 
&gt; Regards,
&gt; Vitaly
&gt; 
&gt; On Mon, May 9, 2016 at 7:16 PM, Alex De la rosa  &gt; wrote:
&gt; Hi there,
&gt; 
&gt; I'm trying to create a custom index as seen at 
&gt; http://docs.basho.com/riak/kv/2.1.4/developing/usage/search-schemas 
&gt;  and I'm 
&gt; getting the following errors in my log:
&gt; 
&gt; 2016-05-09 18:08:05.229 [error] &lt;0.588.0&gt;@yz\_index:core\_create:287 Couldn't 
&gt; create index scores: {ok,"400",[{"Content-Type","application/xml; 
&gt; charset=UTF-8"},{"Transfer-Encoding","chunked"}],&lt;&lt;"xml version=\"1.0\" 
 encoding=\"UTF-8\"?&gt;\n\n name=\"status\"&gt;40026 name=\"error\"&gt;Error CREATEing SolrCore 'scores': Unable to 
&gt; create core: scores Caused by: Unknown fieldType 'int' specified on field 
&gt; points400\n\n"&gt;&gt;}
&gt; 
&gt; 2016-05-09 18:08:43.096 [error] &lt;0.9673.1&gt;@yz\_index:sync\_index:464 Solr core 
&gt; error after trying to create index scores: 
&gt; &lt;&lt;"org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: 
&gt; Unknown fieldType 'int' specified on field points. Schema file is 
&gt; /var/lib/riak/yz/scores/./leaders.xml"&gt;&gt;
&gt; 
&gt; is saying the type "int" is unknown!! any ideas why? this is the schema i'm 
&gt; uploading:
&gt; 
&gt; xml version="1.0" encoding="UTF-8" ?
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt;  multiValued="false" required="true"/&gt;
&gt;  multiValued="false"/&gt;
&gt;  multiValued="false"/&gt;
&gt;  multiValued="false"/&gt;
&gt;  multiValued="false"/&gt;
&gt;  multiValued="false"/&gt;
&gt;  multiValued="false"/&gt;
&gt;  multiValued="false"/&gt;
&gt;  multiValued="false"/&gt;
&gt; 
&gt; 
&gt; \_yz\_id
&gt; 
&gt; 
&gt;  class="solr.SpatialRecursivePrefixTreeFieldType" 
&gt; spatialContextFactory="com.spatial4j.core.context.jts.JtsSpatialContextFactory"
&gt; distErrPct="0.025" maxDistErr="0.000009" units="degrees" /&gt;
&gt;  multiValued="true" class="solr.StrField" /&gt;
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; Thanks,
&gt; Alex
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com 
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

