---
title: "Re: Innostore question"
description: ""
project: community
lastmod: 2010-04-15T06:19:20-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00047"
mailinglist_parent_id: "msg00036"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2010-04-15T06:19:20-07:00
---


Nguyen,

If you haven't figured this out yet, make sure to put "-smp enabled" in the 
vm.args file and then let us know how it works out. Innostore will not work on 
a non-SMP Erlang VM.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On Apr 14, 2010, at 9:34 AM, Nguyen Kien Trung wrote:

&gt; I'll try and let you know. I was running Riak on a UbuntujLinux Image on 
&gt; VirutalBox. Not sure it makes any difference.
&gt; 
&gt; On Tue, Apr 13, 2010 at 3:01 AM, Sean Cribbs  wrote:
&gt; Nguyen,
&gt; 
&gt; Sorry for the delay in responding. I've tried your configuration and I can't 
&gt; reproduce the error. Can you try again with a clean installation and let us 
&gt; know?
&gt; 
&gt; Sean Cribbs 
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; http://basho.com/
&gt; 
&gt; On Apr 8, 2010, at 9:25 AM, Nguyen Kien Trung wrote:
&gt; 
&gt;&gt; I've encountered this error:
&gt;&gt; 
&gt;&gt; 
&gt;&gt; =INFO REPORT==== 7-Apr-2010::21:04:24 ===
&gt;&gt; Spidermonkey VM host starting (&lt;0.112.0&gt;)
&gt;&gt; Eshell V5.7.5 (abort with ^G)
&gt;&gt; (r...@127.0.0.1)1&gt; 
&gt;&gt; =ERROR REPORT==== 7-Apr-2010::21:05:20 ===
&gt;&gt; Skipping config setting included\_applications; unknown option.
&gt;&gt; InnoDB: Mutexes and rw\_locks use GCC atomic builtins
&gt;&gt; 100407 21:05:20 InnoDB: highest supported file format is Barracuda.
&gt;&gt; 100407 21:05:20 Embedded InnoDB 1.0.6.6750 started; log sequence number 56874
&gt;&gt; And after that, i was unable to invoke http://localhost:8098/riak/test
&gt;&gt; 
&gt;&gt; Not sure what cause this but it works fine with DTS or ETS backend.
&gt;&gt; 
&gt;&gt; Here's my app.config
&gt;&gt; 
&gt;&gt; 
&gt;&gt; %% -\*- mode: erlang -\*-
&gt;&gt; [
&gt;&gt; %% Riak config
&gt;&gt; {riak, [
&gt;&gt; %% storage\_backend specifies the Erlang module defining the storage 
&gt;&gt; mechanism
&gt;&gt; %% that will be used on this node.
&gt;&gt; %% {storage\_backend, riak\_dets\_backend},
&gt;&gt; {storage\_backend, innostore\_riak},
&gt;&gt; 
&gt;&gt; %% Different storage backends can use other configuration 
&gt;&gt; variables. For
&gt;&gt; %% instance, riak\_dets\_backend\_root determines the directory under 
&gt;&gt; which
&gt;&gt; %% dets files will be placed.
&gt;&gt; %% {riak\_dets\_backend\_root, "data/dets"},
&gt;&gt; 
&gt;&gt; %% Default location of ringstate
&gt;&gt; {ring\_state\_dir, "data/ring"},
&gt;&gt; 
&gt;&gt; %% riak\_web\_ip is the IP address that Riak's HTTP interface will 
&gt;&gt; bind to.
&gt;&gt; %% If this is undefined, the HTTP interface will not run.
&gt;&gt; {riak\_web\_ip, "0.0.0.0"},
&gt;&gt; 
&gt;&gt; %% riak\_web\_port is the TCP port that Riak's HTTP interface will 
&gt;&gt; bind to.
&gt;&gt; {riak\_web\_port, 8098},
&gt;&gt; 
&gt;&gt; %% riak\_handoff\_port is the TCP port that Riak uses for 
&gt;&gt; intra-cluster
&gt;&gt; %% data handoff.
&gt;&gt; {riak\_handoff\_port, 8099},
&gt;&gt; 
&gt;&gt; %% mapred\_name is URL used to submit map/reduce requests to Riak.
&gt;&gt; {mapred\_name, "mapred"},
&gt;&gt; 
&gt;&gt; %% js\_vm\_count is the number of Javascript VMs to start per Riak 
&gt;&gt; node.
&gt;&gt; %% 8 is a good default for smaller installations. A larger number 
&gt;&gt; like
&gt;&gt; %% 12 or 16 is appropriate for installations handling lots of 
&gt;&gt; map/reduce
&gt;&gt; %% processing.
&gt;&gt; {js\_vm\_count, 8},
&gt;&gt; 
&gt;&gt; %% js\_source\_dir should point to a directory containing Javascript 
&gt;&gt; source
&gt;&gt; %% files which will be loaded by Riak when it initializes 
&gt;&gt; Javascript VMs.
&gt;&gt; %{js\_source\_dir, "/tmp/js\_source"}
&gt;&gt; 
&gt;&gt; 
&gt;&gt; %% riak\_stat enables the use of the "riak-admin status" command to 
&gt;&gt; %% retrieve information the Riak node for performance and debugging 
&gt;&gt; needs
&gt;&gt; {riak\_stat, true}
&gt;&gt; ]},
&gt;&gt; 
&gt;&gt; %% SASL config
&gt;&gt; {sasl, [
&gt;&gt; {sasl\_error\_logger, {file, "log/sasl-error.log"}},
&gt;&gt; {errlog\_type, error},
&gt;&gt; {error\_logger\_mf\_dir, "log/sasl"}, % Log directory
&gt;&gt; {error\_logger\_mf\_maxbytes, 10485760}, % 10 MB max file size
&gt;&gt; {error\_logger\_mf\_maxfiles, 5} % 5 files max
&gt;&gt; ]},
&gt;&gt; {innostore, [
&gt;&gt; {data\_home\_dir, "data/innodb"}, %% Where data files go
&gt;&gt; {log\_group\_home\_dir, "data/innodb"}, %% Where log files go
&gt;&gt; {buffer\_pool\_size, 104857600} %% 100MB in-memory buffer in bytes
&gt;&gt; ]}
&gt;&gt; ].
&gt;&gt; 
&gt;&gt; Many thanks,
&gt;&gt; 
&gt;&gt; -- 
&gt;&gt; --Trung
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; 
&gt; 
&gt; 
&gt; 
&gt; -- 
&gt; --Trung

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

