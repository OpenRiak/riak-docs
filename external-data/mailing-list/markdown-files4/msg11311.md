---
title: "Unusual crashes in 1.3.1"
description: ""
project: community
lastmod: 2013-06-19T23:34:25-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11311"
author_name: "Lucas Cooper"
project_section: "mailinglistitem"
sent_date: 2013-06-19T23:34:25-07:00
---


Hello there! I'm not too sure about mailing lists so hopefully this works.

I've been using Riak recently for a small (~1 req/s and DB size &lt;5GB
(that's the size of the 4 instances on disk)), in-development application
and it's been crashing strangely and frequently it seems.

Here's my setup:

 - Riak 1.3.1 (I'm using the outputted instances from devrel)
 - Erlang R15B03
 - LevelDB

And the hardware is a VPS from DigitalOcean with 1GB of RAM, 1 CPU core and
a 30GB SSD (quite empty, using EXT4).

I uploaded the crash.log here: https://gist.github.com/bobobo1618/5819346

This happened within ~30 minutes of starting the instance and the
application that interfaces with it (which sends an average 1 POST request
per second, no GETs but can burst ~200 req POST requests (it sends that
many in a burst, it does not sustain that load for any period of time)).
Monitoring the system in htop, there didn't appear to be an overly large
amount of CPU load (maxed at around 80%) and memory seemed to be fine as
well (~500MB left for Riak after Redis and the app servers took their share
(which is limited to 400MB in Redis's case)).

The entire cluster seems to crash, although only nodes 2 and 4 have crash
logs (which match the one uploaded above).

I'm also getting a lot of "port\_died,normal" and
"system\_memory\_high\_watermark" in console logs (across all nodes).


Any help would be greatly appreciated!
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

