---
title: "Re: error: undef done()"
description: ""
project: community
lastmod: 2012-01-31T11:04:08-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06477"
mailinglist_parent_id: "msg06476"
author_name: "Matthew A. Brown"
project_section: "mailinglistitem"
sent_date: 2012-01-31T11:04:08-08:00
---


Scratch that -- I tracked it down to an actual call to an undefined
function, which was not called "done()" -- I guess we can attribute
this to Erlang's rather inscrutable error messages.

On Tue, Jan 31, 2012 at 13:46, Matthew A. Brown  wrote:
&gt; Hi all,
&gt;
&gt; I'm seeing a strange error raised from an Erlang reduce phase. This
&gt; happens consistently with a certain set of inputs but I can't find any
&gt; difference between those inputs and myriad other sets of inputs that
&gt; produce no error. The error is simply:
&gt;
&gt; [error] error:undef done()
&gt;
&gt; The error message is followed by a dump of the reduce inputs which is,
&gt; sadly, truncated before the bit where it would give the call trace.
&gt;
&gt; Our Erlang reduce code does not define or reference a function done(),
&gt; but I do note that this function is defined in riak\_kv:
&gt;
&gt; https://github.com/basho/riak\_kv/blob/master/src/riak\_kv\_w\_reduce.erl#L163
&gt;
&gt; So I'm wondering if this might be a bug in Riak itself? Has anyone ever seen 
&gt; it?
&gt;
&gt; Thanks!
&gt; Mat

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

