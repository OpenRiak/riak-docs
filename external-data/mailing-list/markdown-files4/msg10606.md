---
title: "Re: Riak CS : \"405 (Method Not Allowed)\" when creating a bucket"
description: ""
project: community
lastmod: 2013-03-27T11:02:52-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10606"
mailinglist_parent_id: "msg10554"
author_name: "Tyler Hannan"
project_section: "mailinglistitem"
sent_date: 2013-03-27T11:02:52-07:00
---


Jean-Baptiste,

Sorry for the delay in reply on this…and thanks for your PR to the docs.

You actually caught us in the middle of an update to the vagrant project
that impacts the docs as well. The goal/intent is to simplify the process
even further and prepare it for being able to spin up a virtual cluster
simply.

All that to say, the app.config that is being populated by the cookbook
should now match a default s3cmd host\_base & \_bucket and prevent the issue
you saw.

Take a gander at the one-command branch of the vagrant project if you would
like to test it (I have it running but am going to give it another run this
evening)[0]. Just a reminder that, if you clone the repo and want to test
on that branch in advance of the PR being accepted, you should ensure you
make your local branch track the origin…something like:

git checkout --track origin/one-command

Feel free to shout with any more questions…and thanks for helping us make
the virtual fast track even simpler.

[0] - https://github.com/hectcastro/vagrant-riak-cs-cluster/pull/4

Cheers,

--------------------------------------------------------------------------
\*Tyler Hannan | Director, Technical Marketing\*
Basho Technologies
-------------------------------------------------------------------------
t: @tylerhannan
c: 720-280-9216


On Fri, Mar 22, 2013 at 1:38 AM, Jean-Baptiste Barth &lt;
jeanbaptiste.ba...@gmail.com&gt; wrote:

&gt; 2013/3/22 Dan Reverri 
&gt;
&gt;&gt; Hi Jean-Baptiste,
&gt;&gt;
&gt;&gt; Can you try updating the "host\_base" and "host\_bucket" in s3cfg to use
&gt;&gt; "riakcs.dev" which is the "cs\_root\_host" configured in your Riak CS
&gt;&gt; app.config?
&gt;&gt;
&gt;&gt; host\_base = riakcs.dev
&gt;&gt; host\_bucket = %(bucket)s.riakcs.dev
&gt;&gt;
&gt;
&gt; Yes, it worked!
&gt;
&gt; % s3cmd --debug mb s3://zbucket
&gt; ...
&gt; DEBUG: Sending request method\_string='PUT', uri='
&gt; http://zbucket.riakcs.dev/', headers={'content-length': '0',
&gt; 'Authorization': 'AWS X2GOEX5TVL8FAYMQIIYC:lHt5vDLqHzsvnOBGnHRxaPNakrI=',
&gt; 'x-amz-date': 'Fri, 22 Mar 2013 07:35:39 +0000'}, body=(0 bytes)
&gt; DEBUG: Response: {'status': 200, 'headers': {'date': 'Fri, 22 Mar 2013
&gt; 07:33:49 GMT', 'content-length': '0', 'content-type': 'application/xml',
&gt; 'server': 'Riak CS'}, 'reason': 'OK', 'data': ''}
&gt; Bucket 's3://zbucket/' created
&gt;
&gt; I guess having set the proxy host and port was not enough, I'm right ? If
&gt; so I can prepare a pull request for the docs before tomorrow to add this
&gt; step.
&gt;
&gt; Thanks,
&gt;
&gt; Jean-Baptiste
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

