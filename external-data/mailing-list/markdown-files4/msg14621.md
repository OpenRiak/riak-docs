---
title: "Optimistic Locking with Riak Search / is _version_ required in	schema.xml?"
description: ""
project: community
lastmod: 2014-08-07T14:48:07-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14621"
author_name: "David James"
project_section: "mailinglistitem"
sent_date: 2014-08-07T14:48:07-07:00
---


Hello,

A few questions:

 - Is \_version\_ required?
 - I see SolrCloud mentioned in some documentation (see below)? Does Riak
 Search use it?
 - How does Riak Search handle optimistic locking?

See this comment on the default\_schema.xml on Github:




https://raw.githubusercontent.com/basho/yokozuna/develop/priv/default\_schema.xml

Thanks,
David

P.S. Per https://wiki.apache.org/solr/SchemaXml
Recommended fields

While these fields aren't strictly mandatory (Solr will run if you remove
them fully), Bad Things happen in some situations if they aren't defined.
We recommend that you leave these fields alone. If you don't use them,
there's no appreciable penalty.

 -

 id - Almost all Solr installations have this field defined as the
  (see below).
 -

 \_version\_ [image: ] Solr4.0  -
 This field is used for optimistic locking in SolrCloud
  and it enables Real Time Get
 . If you remove it you must
 also remove the transaction logging from solrconfig.xml, see Real Time
 Get .
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

