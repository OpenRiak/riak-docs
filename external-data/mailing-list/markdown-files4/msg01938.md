---
title: "Re: Can I store the different bucket objects but with same key in the	same place"
description: ""
project: community
lastmod: 2011-01-10T04:36:36-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01938"
mailinglist_parent_id: "msg01937"
author_name: "Jeremiah Peschka"
project_section: "mailinglistitem"
sent_date: 2011-01-10T04:36:36-08:00
---


I believe that keys hare hashed using a combination of bucket name and key
name. The bucket+key string is then run through SHA1. Don't take that as
gospel, though. I searched my mailing list archive and couldn't find it, but
this also could have happened on the IRC channel. Hopefully someone who
knows the source can point you in the right direction.

Until then, you can safely assume that the hashed key is the result of
SHA1(bucket\_name + key\_name). You should be able to determine if they're on
the same node by hashing both bucket/key combos and then looking at the
ring. Take a look at
http://wiki.basho.com/Replication.html#Routing-an-object-to-a-set-of-partitionsfor
more info on looking at the state of the ring.

Jeremiah Peschka
Microsoft SQL Server MVP
MCITP: Database Developer, DBA


On Mon, Jan 10, 2011 at 3:42 AM, 吴磊  wrote:

&gt; Hi, guys
&gt;
&gt; I'm a newbie to Riak, I have the question. Will the objects, which in
&gt; different buckets but have the same key, be stored in the same vnode
&gt; and be managed by this vnode?
&gt;
&gt; Best regards,
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

