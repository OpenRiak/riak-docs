---
title: "Re: Collecting unique index values"
description: ""
project: community
lastmod: 2012-02-02T06:40:17-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06497"
mailinglist_parent_id: "msg06493"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2012-02-02T06:40:17-08:00
---


Carl,

There is currently no GROUP BY or aggregate function support for Riak
indexes. I think range query fed into map/reduce is a good option.
 Another option is to run a 2i term query for each flavor. Although, I
would make sure to measure both. Also, since you are storing the histogram
in a meta-object that the application will read you don't have to worry
about the query runtime affecting your application directly.

-Ryan

On Wed, Feb 1, 2012 at 5:23 PM, Carl  wrote:

&gt; I have a bucket containing about 1,000 records. These records are
&gt; indexed on a property let's call "flavor". There are only about 10
&gt; different flavors.
&gt;
&gt; Is there a way I could query the flavor\_bin index to discover what these
&gt; unique values are? The brute-force method would be a map-reduce doing a
&gt; range query on 'flavor\_bin' from 'AAAA' to 'zzzz' and then boiling that
&gt; down to the unique values in the reduce phase. But that would have to
&gt; retrieve every record in the bucket.
&gt;
&gt; Is there some meta-data about the index I could query more efficiently
&gt; to do this?
&gt;
&gt; This is not something I would need to do very often, and I would store
&gt; the resulting list in one record for actual use by the application.
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

