---
title: "Re: Can Bitcask expiry_secs vary between backends?"
description: ""
project: community
lastmod: 2013-04-04T19:44:07-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10708"
mailinglist_parent_id: "msg10707"
author_name: "Tom Santero"
project_section: "mailinglistitem"
sent_date: 2013-04-04T19:44:07-07:00
---


Hey Toby,

Your conclusions are correct.

Tom

On Thu, Apr 4, 2013 at 10:39 PM, Toby Corkindale &lt;
toby.corkind...@strategicdata.com.au&gt; wrote:

&gt; On 04/04/13 17:43, Toby Corkindale wrote:
&gt;
&gt;&gt; Hi,
&gt;&gt; Can we set Bitcask's expiry\_secs value to be different per backend, in a
&gt;&gt; Multi-backend scenario?
&gt;&gt;
&gt;&gt; Eg.
&gt;&gt;
&gt;&gt; {multi\_backend, [
&gt;&gt; {&lt;&lt;"bitcask\_short\_ttl"&gt;&gt;, riak\_kv\_bitcask\_backend, [
&gt;&gt; {expiry\_secs, 3600}, %% Expire items after one hour
&gt;&gt; {expiry\_grace\_time, 600}
&gt;&gt; ]},
&gt;&gt; {&lt;&lt;"bitcask\_long\_ttl"&gt;&gt;, riak\_kv\_bitcask\_backend, [
&gt;&gt; {expiry\_secs, 86400}, %% Expire items after one day
&gt;&gt; {expiry\_grace\_time, 3600}
&gt;&gt; ]},
&gt;&gt; {&lt;&lt;"eleveldb\_mult"&gt;&gt;, riak\_kv\_eleveldb\_backend, [
&gt;&gt; ]}
&gt;&gt; ]},
&gt;&gt;
&gt;&gt;
&gt;&gt; And if we're re-using bitcask in this way, do we need to specify
&gt;&gt; anything else, such as different data directories per backend?
&gt;&gt;
&gt;
&gt;
&gt; Answering my own question here, but..
&gt; Experimentation seems to indicate that
&gt; a) You can set different expiry periods per bitcask backend.
&gt; b) You must set a unique data\_dir for each backend, or else
&gt; everything crashes after a while.
&gt;
&gt; -Toby
&gt;
&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\*\*\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/\*\*mailman/listinfo/riak-users\_\*\*lists.basho.com
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

