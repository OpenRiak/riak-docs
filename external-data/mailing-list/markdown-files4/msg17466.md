---
title: "Re: Riak Control"
description: ""
project: community
lastmod: 2016-06-08T12:15:47-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17466"
mailinglist_parent_id: "msg17464"
author_name: "satish bhatti"
project_section: "mailinglistitem"
sent_date: 2016-06-08T12:15:47-07:00
---


OK, I got it working by using MD5, thanks!

On Wed, Jun 8, 2016 at 1:38 AM, Magnus Kessler  wrote:

&gt; On 8 June 2016 at 00:40, satish bhatti  wrote:
&gt;
&gt;&gt; I am trying to run Riak Control for my Riak 1.4.12 setup on OSX. I
&gt;&gt; followed the instructions here:
&gt;&gt;
&gt;&gt; http://docs.basho.com/riak/1.4.12/ops/advanced/riak-control/
&gt;&gt;
&gt;&gt; for setting it up. When I try to access:
&gt;&gt;
&gt;&gt; https://localhost:8069/admin
&gt;&gt;
&gt;&gt; it generates errors in the logs, which are attached. What am I doing
&gt;&gt; wrong?
&gt;&gt;
&gt;&gt; Satish
&gt;&gt;
&gt;&gt;
&gt; Hi Satish,
&gt;
&gt; Your logs show these errors:
&gt;
&gt; 2016-06-07 16:36:55.824 [info] &lt;0.354.0&gt;@riak\_core:wait\_for\_service:464
&gt;&gt; Wait complete for service riak\_kv (9 seconds)
&gt;
&gt; 2016-06-07 16:37:00.346 [error] &lt;0.1952.0&gt; gen\_fsm &lt;0.1952.0&gt; in state
&gt;&gt; hello terminated with reason: no function clause matching
&gt;&gt; ssl\_certificate:signature\_type({1,2,840,113549,1,1,11}) line 174
&gt;
&gt; 2016-06-07 16:37:00.346 [error] &lt;0.1952.0&gt; CRASH REPORT Process &lt;0.1952.0&gt;
&gt;&gt; with 0 neighbours exited with reason: no function clause matching
&gt;&gt; ssl\_certificate:signature\_type({1,2,840,113549,1,1,11}) line 174 in
&gt;&gt; gen\_fsm:terminate/7 line 611
&gt;&gt; 2016-06-07 16:37:00.346 [error] &lt;0.86.0&gt; Supervisor ssl\_connection\_sup
&gt;&gt; had child undefined started with {ssl\_connection,start\_link,undefined} at
&gt;&gt; &lt;0.1952.0&gt; exit with reason no function clause matching
&gt;&gt; ssl\_certificate:signature\_type({1,2,840,113549,1,1,11}) line 174 in context
&gt;&gt; child\_terminated
&gt;&gt; 2016-06-07 16:37:00.346 [error] &lt;0.1954.0&gt; gen\_fsm &lt;0.1954.0&gt; in state
&gt;&gt; hello terminated with reason: no function clause matching
&gt;&gt; ssl\_certificate:signature\_type({1,2,840,113549,1,1,11}) line 174
&gt;&gt; 2016-06-07 16:37:00.346 [error] &lt;0.1954.0&gt; CRASH REPORT Process
&gt;&gt; &lt;0.1954.0&gt; with 0 neighbours exited with reason: no function clause
&gt;&gt; matching ssl\_certificate:signature\_type({1,2,840,113549,1,1,11}) line 174
&gt;&gt; in gen\_fsm:terminate/7 line 611
&gt;&gt; 2016-06-07 16:37:00.346 [error] &lt;0.86.0&gt; Supervisor ssl\_connection\_sup
&gt;&gt; had child undefined started with {ssl\_connection,start\_link,undefined} at
&gt;&gt; &lt;0.1954.0&gt; exit with reason no function clause matching
&gt;&gt; ssl\_certificate:signature\_type({1,2,840,113549,1,1,11}) line 174 in context
&gt;&gt; child\_terminated
&gt;&gt; 2016-06-07 16:37:00.347 [error] &lt;0.198.0&gt; application: mochiweb, "Accept
&gt;&gt; failed error", "{'EXIT',\n {{function\_clause,\n
&gt;&gt; [{ssl\_certificate,signature\_type,\n
&gt;&gt; [{1,2,840,113549,1,1,11}],\n
&gt;&gt; [{file,\"ssl\_certificate.erl\"},{line,174}]},\n
&gt;&gt; {ssl\_cipher,filter,2,[{file,\"ssl\_cipher.erl\"},{line,401}]},\n
&gt;&gt; {ssl\_handshake,select\_session,8,\n
&gt;&gt; [{file,\"ssl\_handshake.erl\"},{line,593}]},\n
&gt;&gt; {ssl\_handshake,hello,4,[{file,\"ssl\_handshake.erl\"},{line,152}]},\n
&gt;&gt; {ssl\_connection,hello,2,[{file,\"ssl\_connection.erl\"},{line,413}]},\n
&gt;&gt; {ssl\_connection,next\_state,4,\n
&gt;&gt; [{file,\"ssl\_connection.erl\"},{line,1929}]},\n
&gt;&gt; {gen\_fsm,handle\_msg,7,[{file,\"gen\_fsm.erl\"},{line,494}]},\n
&gt;&gt; {proc\_lib,init\_p\_do\_apply,3,[{file,\"proc\_lib.erl\"},{line,227}]}]},\n
&gt;&gt; {gen\_fsm,sync\_send\_all\_state\_event,[&lt;0.1954.0&gt;,start,infinity]}}}"
&gt;&gt; 2016-06-07 16:37:00.347 [error] &lt;0.198.0&gt; CRASH REPORT Process &lt;0.198.0&gt;
&gt;&gt; with 0 neighbours exited with reason: {error,accept\_failed} in
&gt;&gt; mochiweb\_acceptor:init/3 line 34
&gt;&gt; 2016-06-07 16:37:00.347 [error] &lt;0.196.0&gt;
&gt;&gt; {mochiweb\_socket\_server,310,{acceptor\_error,{error,accept\_failed}}}
&gt;&gt; 2016-06-07 16:37:00.347 [error] &lt;0.197.0&gt; application: mochiweb, "Accept
&gt;&gt; failed error", "{'EXIT',\n {{function\_clause,\n
&gt;&gt; [{ssl\_certificate,signature\_type,\n
&gt;&gt; [{1,2,840,113549,1,1,11}],\n
&gt;&gt; [{file,\"ssl\_certificate.erl\"},{line,174}]},\n
&gt;&gt; {ssl\_cipher,filter,2,[{file,\"ssl\_cipher.erl\"},{line,401}]},\n
&gt;&gt; {ssl\_handshake,select\_session,8,\n
&gt;&gt; [{file,\"ssl\_handshake.erl\"},{line,593}]},\n
&gt;&gt; {ssl\_handshake,hello,4,[{file,\"ssl\_handshake.erl\"},{line,152}]},\n
&gt;&gt; {ssl\_connection,hello,2,[{file,\"ssl\_connection.erl\"},{line,413}]},\n
&gt;&gt; {ssl\_connection,next\_state,4,\n
&gt;&gt; [{file,\"ssl\_connection.erl\"},{line,1929}]},\n
&gt;&gt; {gen\_fsm,handle\_msg,7,[{file,\"gen\_fsm.erl\"},{line,494}]},\n
&gt;&gt; {proc\_lib,init\_p\_do\_apply,3,[{file,\"proc\_lib.erl\"},{line,227}]}]},\n
&gt;&gt; {gen\_fsm,sync\_send\_all\_state\_event,[&lt;0.1952.0&gt;,start,infinity]}}}"
&gt;
&gt;
&gt; Note the "no function clause matching ssl\_certificate:signature\_type"
&gt; error message. This is most likely caused by an incompatibility between the
&gt; quite old SSL implementation in OTP-15 (which is used by Riak 1.4.12) and
&gt; the certificate you generated. How did you generate your certificate? If it
&gt; is using SHA-256 as the signature algorithm, could you please try to
&gt; generate a certificate with either the SHA-1 or MD5 signature algorithm?
&gt; This is definitely not secure by modern standards, but you are dealing with
&gt; compatibility issues of an older implementation.
&gt;
&gt; You may also have better luck with Riak 2.1.4, or the upcoming 2.0.7
&gt; release. A selection of SSL/TLS stability improvements has recently been
&gt; backported from the official Erlang OTP code base. Any Riak release
&gt; containing Erlang OTP-R16B02-basho10 or above will have updates to the
&gt; SSL/TLS module.
&gt;
&gt; Hope this helps,
&gt;
&gt; Magnus
&gt;
&gt; --
&gt; Magnus Kessler
&gt; Client Services Engineer
&gt; Basho Technologies Limited
&gt;
&gt; Registered Office - 8 Lincolnâ€™s Inn Fields London WC2A 3BP Reg 07970431
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

