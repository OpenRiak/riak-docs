---
title: "Re: changing bucket default settings"
description: ""
project: community
lastmod: 2011-09-01T06:51:04-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04556"
mailinglist_parent_id: "msg04551"
author_name: "Giancarlo Frison"
project_section: "mailinglistitem"
sent_date: 2011-09-01T06:51:04-07:00
---


Hi Sean,

I setup only default\_bucket\_props. no custom buckets settings.

any hints?

Thanks!

Giancarlo Frison



On Thu, Sep 1, 2011 at 2:24 PM, Sean Cribbs  wrote:

&gt; Giancarlo,
&gt;
&gt; Did you set a bucket property on the 'test' bucket before setting the
&gt; defaults? If so, then the defaults at that time got merged with the property
&gt; you set and stored in the ring state, making the new default props have no
&gt; effect on them.
&gt;
&gt; On Thu, Sep 1, 2011 at 4:02 AM, Giancarlo Frison wrote:
&gt;
&gt;&gt; Hi all,
&gt;&gt;
&gt;&gt; I'm trying to change the bucket default settings on app.config, I insert
&gt;&gt; these row find on http://wiki.basho.com/Configuration-Files.html :
&gt;&gt;
&gt;&gt; {default\_bucket\_props, [{n\_val,1},
&gt;&gt; {allow\_mult,false},
&gt;&gt; {last\_write\_wins,false},
&gt;&gt; {precommit, []},
&gt;&gt; {postcommit, []},
&gt;&gt; {chash\_keyfun, {riak\_core\_util, chash\_std\_keyfun}},
&gt;&gt; {linkfun, {modfun, riak\_kv\_wm\_link\_walker, mapreduce\_linkfun}}]}
&gt;&gt;
&gt;&gt; I just update n\_val to 1.
&gt;&gt;
&gt;&gt; I shutdown riak, drop the data/ folder and start riak. Seems the new
&gt;&gt; config isn't apply because I get n\_val=3 again:
&gt;&gt;
&gt;&gt; curl http://localhost:8098/riak/test
&gt;&gt;
&gt;&gt; {"props":{"name":"test","n\_val":3,"allow\_mult":false,"last\_write\_wins":false,"precommit":[],"postcommit":[],"chash\_keyfun":{"mod":"riak\_core\_util","fun":"chash\_std\_keyfun"},"linkfun":{"mod":"riak\_kv\_wm\_link\_walker","fun":"mapreduce\_linkfun"},"old\_vclock":86400,"young\_vclock":20,"big\_vclock":50,"small\_vclock":10,"r":"quorum","w":"quorum","dw":"quorum","rw":"quorum"}}
&gt;&gt;
&gt;&gt; How I can change the bucket settings?
&gt;&gt;
&gt;&gt; Thanks
&gt;&gt;
&gt;&gt; @gfrison
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt; --
&gt; Sean Cribbs 
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; http://www.basho.com/
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

