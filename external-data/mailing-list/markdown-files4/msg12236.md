---
title: "Re: Should content-type not be required?"
description: ""
project: community
lastmod: 2013-09-11T12:42:44-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12236"
mailinglist_parent_id: "msg12225"
author_name: "Evan Vigil-McClanahan"
project_section: "mailinglistitem"
sent_date: 2013-09-11T12:42:44-07:00
---


It does make sense, but it isn't an ideal use-case for riak. Eventual
consistency means that existence checking under partition is always
going to be a bit fraught.

On Tue, Sep 10, 2013 at 2:03 PM, Vincenzo Vitale
 wrote:
&gt; Suppose I want to just store keys in a bucket without any body, this make
&gt; sense in scenarios where the key completely identify the entity. Is it
&gt; possible to use the riak http api without including the content-type header?
&gt;
&gt; Looking at the http specifications, content–type is not mandatory or
&gt; suggested when the body is empty:
&gt;
&gt; http://www.w3.org/Protocols/rfc2616/rfc2616-sec7.html#sec7.2.1
&gt;
&gt; and it's probably a good argument to say that if the entity message is empty
&gt; then the content type doesn't really make sense.
&gt;
&gt; Personally I think that just the existence of an http entity - body or not
&gt; body – is sufficient to justify a "type"; it's unfortunate that any other
&gt; higher type (entity type maybe?) - decoupled from what is defined as content
&gt; - exist in the spec.
&gt;
&gt; Framework like spray are quite strict about this, not setting any content
&gt; type when the content is empty:
&gt;
&gt; https://github.com/spray/spray/blob/master/spray-http/src/main/scala/spray/http/HttpEntity.scala#L74
&gt;
&gt; how to deal with such situation? Adding a fake content because of this data
&gt; store constraint doesn't seems right.
&gt;
&gt;
&gt;
&gt; Thanks,
&gt;
&gt; Vincenzo.
&gt;
&gt;
&gt; --
&gt; If your e-mail inbox is out of control, check out
&gt; http://sanebox.com/t/mmzve. I love it.
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

