---
title: "Re: Deciphering Key Filter Errors"
description: ""
project: community
lastmod: 2011-03-03T10:28:11-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02546"
mailinglist_parent_id: "msg02531"
author_name: "Jason J. W. Williams"
project_section: "mailinglistitem"
sent_date: 2011-03-03T10:28:11-08:00
---


If someone could help me understand just this error, that would help a
lot: https://gist.github.com/852450

Thank you in advance.

-J

On Wed, Mar 2, 2011 at 11:55 PM, Jason J. W. Williams
 wrote:
&gt; Hi,
&gt;
&gt; I'm experimenting using key filters to implement indexes. My approach
&gt; is for each data key in bucket A, to create a new empty key in a
&gt; dedicated index bucket where the original key name and value of the
&gt; indexed field is encoded in the key name for a new index key.
&gt;
&gt; Data key looks like this:
&gt;
&gt; Bucket - riak\_perf\_test
&gt; Key - ccode\_ : {"redeemed\_count": 23 }
&gt;
&gt; For each data key created, an index key is created:
&gt;
&gt; Bucket - idx=redeemed\_count=ccode
&gt; Key - ccode/23
&gt;
&gt; (in both keys 23 changes on a per-key basis based on what
&gt; "redeemed\_count" is set to)
&gt;
&gt;
&gt; My goal is to be able to do a key filtered Map Reduce job on
&gt; idx=redeemed\_count=ccode that generates a list of all data key names
&gt; with a redeemed\_count &lt; 50.
&gt;
&gt; The job (using curl) is here: https://gist.github.com/852451
&gt;
&gt; It errors out almost immediately in sasl-error.log
&gt; (https://gist.github.com/852450), but the request doesn't immediately
&gt; error out to the client. The only error the client sees is an eventual
&gt; timeout error.
&gt;
&gt; So my question is, what is the error in sasl-error.log telling me is
&gt; wrong with my job construction? And also, why is there only a timeout
&gt; error generated to the client instead of a map\_reduce\_error as I've
&gt; seen for non-key filtered jobs?
&gt;
&gt; Thank you in advance for any help. I greatly appreciate it.
&gt;
&gt; -J
&gt;

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

