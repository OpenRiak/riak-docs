---
title: "Re: Riak Problem w/ Python Client \"No JSON object could be decoded\""
description: ""
project: community
lastmod: 2011-08-20T16:39:30-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04398"
mailinglist_parent_id: "msg04397"
author_name: "Bob Ippolito"
project_section: "mailinglistitem"
sent_date: 2011-08-20T16:39:30-07:00
---


On Sat, Aug 20, 2011 at 4:10 PM, idmartin  wrote:
&gt; Ive been trying for a few days now to fix this, ive tried every single format
&gt; ive seen in examples online and put a JSON approved object as a string (used
&gt; several JSON validation sides to check) in and i continually get this
&gt; message.
&gt;
&gt; Can anyone give me some seggestions?
&gt;
&gt; Module riakcontrol:128 in search
&gt;&gt;&gt;  for r in query.reduce\_sort().reduce\_limit(5).run():
&gt; Module riak.mapreduce:211 in run
&gt;&gt;&gt;  result = t.mapred(self.\_inputs, query, timeout)
&gt; Module riak.transports.http:221 in mapred
&gt;&gt;&gt;  result = json.loads(response[1])
&gt; Module json:326 in loads
&gt;&gt;&gt;  return \_default\_decoder.decode(s)
&gt; Module json.decoder:360 in decode
&gt;&gt;&gt;  obj, end = self.raw\_decode(s, idx=\_w(s, 0).end())
&gt; Module json.decoder:378 in raw\_decode
&gt;&gt;&gt;  raise ValueError("No JSON object could be decoded")
&gt; ValueError: No JSON object could be decoded
&gt; extra data

It would probably help diagnose your problem if you specified exactly
what code you were inserting data with and what that data looks like.
That's probably where the problem is.

I don't know the specifics of that riak client but you can look at
what's coming through if you run that under pdb.
http://docs.python.org/library/pdb.html

First start Python in interactive mode:
$ python -i yourscript.py

then when it prints the traceback and kicks you to the interactive
prompt you should load pdb in post-mortem mode:

&gt;&gt;&gt; import pdb; pdb.pm()

From there you can navigate up the stack (with the "up" command) and
print out response[1] (with "p response[1]") to see what it is. You
may want to look at the repr of response[1] to be sure it is what you
think it is.

-bob

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

