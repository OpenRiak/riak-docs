---
title: "Re: Riak response time steadily increasing"
description: ""
project: community
lastmod: 2015-11-19T08:25:48-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16793"
author_name: "Ricardo Mayerhofer"
project_section: "mailinglistitem"
sent_date: 2015-11-19T08:25:48-08:00
---


It's seems the problem was the load itself. As any technology there's a
throughput limit you can achieve with a given hardware.

I was able to scale to m3.2xlarge and it handled a higher load.

Just wondered if there's a way to debug this kind of situation and if CPU
can really be Riak bottleneck (as it seems in my case). There's a way to
improve CPU usage?

Thanks.

On Wed, Nov 18, 2015 at 5:24 PM, Ricardo Mayerhofer 
wrote:

&gt; Hi all,
&gt; I'm doing some performance tests with Riak, I'm facing an issue where Riak
&gt; response time increases from 3 ms average to 500 ms or even higher after
&gt; some load.
&gt;
&gt; There's no disk contention, memory was fine. CPU was high even tough
&gt; stable.
&gt;
&gt; I'm using multi backend being Bitcask the default one and the one used in
&gt; this test. I've a separate disk for bitcask.
&gt;
&gt; SO was tuned (except by net.core.wmem\_max, net.core.rmem\_max,
&gt; net.core.netdev\_max\_backlog which were not set at the time of the test)
&gt;
&gt; Merge was off (window set to another time), expiry grace time is set to 1
&gt; hour.
&gt;
&gt; I'm using a five node cluster with m3.xlarge EC2 instance type.
&gt;
&gt; You can find attached the tests results and some related data.
&gt;
&gt; Any input, a way to increase the results or a way do drill down the cause
&gt; is appreciated!
&gt;
&gt; Thanks!
&gt;
&gt; --
&gt; Ricardo Mayerhofer
&gt;



-- 
Ricardo Mayerhofer
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

