---
title: "Re: Read Before Writes on Distributed Counters"
description: ""
project: community
lastmod: 2013-10-17T08:41:05-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12661"
mailinglist_parent_id: "msg12660"
author_name: "Jeremiah Peschka"
project_section: "mailinglistitem"
sent_date: 2013-10-17T08:41:05-07:00
---


When you 'update' a counter, you send in an increment operation. That's
added to an internal list in Riak. The operations are then zipped up to
provide the correct counter value on read. The worst that you'll do is add
a large(ish) number of values to the op list inside Riak.

Siblings will be created, but they will not be visible to the end user who
is reading from the counter.

Check out this demo of the new counter types from Sean Cribbs:
https://vimeo.com/43903960

---
Jeremiah Peschka - Founder, Brent Ozar Unlimited
MCITP: SQL Server 2008, MVP
Cloudera Certified Developer for Apache Hadoop


On Thu, Oct 17, 2013 at 9:55 AM, Daniil Churikov  wrote:

&gt; Correct me if I wrong, but when you blindly do update without previous
&gt; read,
&gt; you create a sibling, which should be resolved on read. In case if you make
&gt; a lot of increments for counter and rarely reads it will lead to siblings
&gt; explosion.
&gt;
&gt; I am not familiar with new counters datatypes, so I am curious.
&gt;
&gt;
&gt;
&gt; --
&gt; View this message in context:
&gt; http://riak-users.197444.n3.nabble.com/Read-Before-Writes-on-Distributed-Counters-tp4029492p4029498.html
&gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

