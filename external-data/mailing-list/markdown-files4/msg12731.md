---
title: "Re: Updating Counters on Riak 2.0 pre whatever"
description: ""
project: community
lastmod: 2013-10-22T12:24:06-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12731"
mailinglist_parent_id: "msg12729"
author_name: "darren"
project_section: "mailinglistitem"
sent_date: 2013-10-22T12:24:06-07:00
---


Don't you guys do regression testing?


Sent from my Verizon Wireless 4G LTE Smartphone

-------- Original message --------
From: Russell Brown  
Date: 10/22/2013 3:07 PM (GMT-05:00) 
To: Jeremiah Peschka  
Cc: riak-users  
Subject: Re: Updating Counters on Riak 2.0 pre whatever 
 
Yes! Sorry!

We broke backwards compatibility during development. We merged the patch 
today[1]. The develop branch works right now. It will get into the next pre (or 
whatever the next tag is called.)

Apologies again, it was easier for me to do the new work without thinking about 
backwards compatibility, then re-add old counters when the 2.0 stuff was done.

Let me know if you have any more issues going forward, please.

Cheers

Russell

[1] https://github.com/basho/riak\_kv/pull/697
On 22 Oct 2013, at 19:56, Jeremiah Peschka  wrote:

&gt; I'm attempting to create a counter on Riak 2.0 built from the develop on 
&gt; Sunday. When I send a counter increment message using RpbCounterUpdateReq, I 
&gt; get the following back from Riak:
&gt; 
&gt; Riak returned an error. Code '0'. Message: Error processing incoming message: 
&gt; error:undef:[{riak\_kv\_counter,supported,
&gt;                                                  [],[]},
&gt;                                                 {riak\_kv\_pb\_counter,process,
&gt;                                                  2,
&gt;                                                  [{file,
&gt;                                                    
&gt;"src/riak\_kv\_pb\_counter.erl"},
&gt;                                                   {line,114}]},
&gt;                                                 {riak\_api\_pb\_server,
&gt;                                                  process\_message,4,
&gt;                                                  [{file,
&gt;                                                    
&gt;"src/riak\_api\_pb\_server.erl"},
&gt;                                                   {line,386}]},
&gt;                                                 {riak\_api\_pb\_server,
&gt;                                                  connected,2,
&gt;                                                  [{file,
&gt;                                                    
&gt;"src/riak\_api\_pb\_server.erl"},
&gt;                                                   {line,228}]},
&gt;                                                 {riak\_api\_pb\_server,
&gt;                                                  decode\_buffer,2,
&gt;                                                  [{file,
&gt;                                                    
&gt;"src/riak\_api\_pb\_server.erl"},
&gt;                                                   {line,362}]},
&gt;                                                 {gen\_fsm,handle\_msg,7,
&gt;                                                  [{file,"gen\_fsm.erl"},
&gt;                                                   {line,505}]},
&gt;                                                 {proc\_lib,init\_p\_do\_apply,3,
&gt;                                                  [{file,"proc\_lib.erl"},
&gt;                                                   {line,239}]}]
&gt; ---
&gt; Jeremiah Peschka - Founder, Brent Ozar Unlimited
&gt; MCITP: SQL Server 2008, MVP
&gt; Cloudera Certified Developer for Apache Hadoop
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

