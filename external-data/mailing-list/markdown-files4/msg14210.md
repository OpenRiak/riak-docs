---
title: "Re: trouble enabling strong consistency in riak_2.0.0beta1-1"
description: ""
project: community
lastmod: 2014-05-12T02:22:36-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14210"
mailinglist_parent_id: "msg14208"
author_name: "Matt Williams"
project_section: "mailinglistitem"
sent_date: 2014-05-12T02:22:36-07:00
---


Andrew,

Thanks for the help.

I've run the command you suggested on the node, I think the ensemble is
enabled (the call 'riak\_ensemble\_manager:enabled().' is at least reporting
'true').

However, I'm still seeing the 'request timed out' behaviour for buckets
with the consistent property.

Thanks,

Matt



On 9 May 2014 20:36, Andrew Stone  wrote:

&gt; Oops. Didn't reply to the list. Sorry for the dupe Matt.
&gt;
&gt; Hi Matt,
&gt;
&gt; My guess is that this has to do with a fairly recent change to the cluster
&gt; join mechanism.
&gt;
&gt; Try attaching to the erlang shell with "riak attach" and running the
&gt; following command:
&gt;
&gt; riak\_ensemble\_manager:enable().
&gt;
&gt; In the future a riak\_admin command (and documentation) will be provided,
&gt; but for now it needs to be done from the shell. Hope this helps.
&gt;
&gt; -Andrew
&gt;
&gt;
&gt; On Fri, May 9, 2014 at 7:07 AM, Matt Williams  &gt; wrote:
&gt;
&gt;&gt; Hi, I've been trying out the new strong consistency in v2.0, I have this
&gt;&gt; working nicely in 2.0.0pre20, but I can't seem to enable this in
&gt;&gt; 2.0.0beta1-1.
&gt;&gt;
&gt;&gt; Any call to a strongly consistent bucket just returns immediately with
&gt;&gt; 'request timed out', previously 'not found'. Bucket types without strongly
&gt;&gt; consistent properties behave fine.
&gt;&gt;
&gt;&gt; I figure I must have done something stupid, but I can't figure out what,
&gt;&gt; can anyone point me in the right direction?
&gt;&gt;
&gt;&gt; I am working with a fresh build of ubuntu:-
&gt;&gt;
&gt;&gt; Distributor ID: Ubuntu
&gt;&gt; Description: Ubuntu 12.04.4 LTS
&gt;&gt; Release: 12.04
&gt;&gt; Codename: precise
&gt;&gt;
&gt;&gt; 'riak config effective' suggests strong consistency is turned on
&gt;&gt; strong\_consistency = on
&gt;&gt;
&gt;&gt; I'm working with just one node at the moment.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt;
&gt;&gt; Matt
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;


-- 
Matt Williams
Geneity Limited
80 Hammersmith Road
Hammersmith
London
W14 8UD

matt.willi...@geneity.co.uk
+44 208 742 8393

England #05676580
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

