---
title: "Re: Search oddness"
description: ""
project: community
lastmod: 2012-02-21T09:57:02-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06670"
mailinglist_parent_id: "msg06669"
author_name: "Jeremiah Peschka"
project_section: "mailinglistitem"
sent_date: 2012-02-21T09:57:02-08:00
---


D'OH!

---
Jeremiah Peschka
Managing Director, Brent Ozar PLF, LLC



On Tue, Feb 21, 2012 at 9:49 AM, Ryan Zezeski  wrote:
&gt; Did you enable search in app.config?  It looks like the schema\_table doesn't 
&gt; exist.
&gt;
&gt; [Sent from my iPhone]
&gt;
&gt; On Feb 21, 2012, at 10:22 AM, Jeremiah Peschka  
&gt; wrote:
&gt;
&gt;&gt; I'm working out the kinks in CorrugatedIron and I ran into a new issue.
&gt;&gt;
&gt;&gt; When I run the following MR query, Riak starts complaining about bad inputs
&gt;&gt;
&gt;&gt; {"inputs":{"bucket":"riak\_search\_bucket","query":"name:Al\*"},"query":[{"map":{"language":"javascript","source":"function(value,
&gt;&gt; keydata, arg) { return [value];
&gt;&gt; }","keep":true}},{"reduce":{"language":"javascript","source":"function(values,
&gt;&gt; arg) { return values; }","keep":true}}]}
&gt;&gt;
&gt;&gt; The error I'm getting back from Riak is:
&gt;&gt;
&gt;&gt; Riak returned an error. Code '1'. Message: Error sending inputs:
&gt;&gt; {{modfun,riak\_search,mapred\_search,
&gt;&gt;                               [&lt;&lt;"riak\_search\_bucket"&gt;&gt;,&lt;&lt;"Al\*"&gt;&gt;,[]]},
&gt;&gt;                       error,badarg,
&gt;&gt;                       [{ets,lookup,[schema\_table,&lt;&lt;"riak\_search\_bucket"&gt;&gt;]},
&gt;&gt;                        {riak\_search\_config,get\_schema,1},
&gt;&gt;                        {riak\_search\_client,parse\_query,3},
&gt;&gt;                        {riak\_search,parse\_query,3},
&gt;&gt;                        {riak\_search,mapred\_search,3},
&gt;&gt;                        {riak\_kv\_mrc\_pipe,send\_inputs,3},
&gt;&gt;                        {riak\_kv\_mrc\_pipe,'-send\_inputs\_async/3-fun-0-',3}]}
&gt;&gt;
&gt;&gt; The body of the test installs the search schema, inserts two objects
&gt;&gt; into the appropriate bucket, and then issues this MR query.
&gt;&gt;
&gt;&gt; I suspect I'm missing something obvious, but another set of eyes would
&gt;&gt; be appreciated.
&gt;&gt; ---
&gt;&gt; Jeremiah Peschka
&gt;&gt; Managing Director, Brent Ozar PLF, LLC
&gt;&gt;
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

