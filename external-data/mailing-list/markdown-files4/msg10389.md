---
title: "Re: Error interpretation"
description: ""
project: community
lastmod: 2013-03-12T18:36:48-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10389"
mailinglist_parent_id: "msg10387"
author_name: "Jeremiah Peschka"
project_section: "mailinglistitem"
sent_date: 2013-03-12T18:36:48-07:00
---


Default leveldb config is (when built using `make devrel`):

 %% eLevelDB Config
 {eleveldb, [
 {data\_root, "./data/leveldb"}
 ]},

Drop everything but the data\_root. Also: simplify your set up. You're
running into timeout errors in a networked environment. Test your
functionality on a local cluster (either 1 node or a devrel setup with 4
nodes). Validate your logic and functionality there.

I wish I could promise that I can help out at all, but I just got back from
12 days out of the country and I'm booked solid for the next two weeks. In
short - my responses will be hit or miss at best.

Good luck and godspeed.

---
Jeremiah Peschka - Founder, Brent Ozar Unlimited
MCITP: SQL Server 2008, MVP
Cloudera Certified Developer for Apache Hadoop


On Tue, Mar 12, 2013 at 6:16 PM, Kevin Burton wrote:

&gt; The eleveldb app.config are the default. I don’t know enough to modify
&gt; them. What are the defaults?\*\*\*\*
&gt;
&gt; \*\* \*\*
&gt;
&gt; \*From:\* riak-users [mailto:riak-users-boun...@lists.basho.com] \*On Behalf
&gt; Of \*Jeremiah Peschka
&gt; \*Sent:\* Tuesday, March 12, 2013 8:06 PM
&gt; \*To:\* riak-users
&gt; \*Subject:\* Re: Error interpretation\*\*\*\*
&gt;
&gt; \*\* \*\*
&gt;
&gt; Your eleveldb app.config settings are decidedly non-default. Is there any
&gt; reason for that? Also, you spelled "cache\_size" incorrectly in your
&gt; eleveldb config setting. What happens when you set those back to defaults?
&gt; Is there a reason that you're changing these settings?\*\*\*\*
&gt;
&gt; \*\* \*\*
&gt;
&gt; This looks eerily similar to an unanswered Stack Overflow question [1] and
&gt; marginally similar to this mailing list thread about bad disks [2]. Since
&gt; it's after hours Pacific time, I'd wait for tomorrow and hope that some of
&gt; the folks living in "the future" have an idea.\*\*\*\*
&gt;
&gt; \*\* \*\*
&gt;
&gt; [1]:
&gt; http://stackoverflow.com/questions/12748154/riak-riak-kv-vnode-worker-pool-crashed
&gt; \*\*\*\*
&gt;
&gt; [2]: http://www.mail-archive.com/riak-users@lists.basho.com/msg09242.html\*
&gt; \*\*\*
&gt;
&gt;
&gt; \*\*\*\*
&gt;
&gt; ---\*\*\*\*
&gt;
&gt; Jeremiah Peschka - Founder, Brent Ozar Unlimited\*\*\*\*
&gt;
&gt; MCITP: SQL Server 2008, MVP\*\*\*\*
&gt;
&gt; Cloudera Certified Developer for Apache Hadoop\*\*\*\*
&gt;
&gt; \*\* \*\*
&gt;
&gt; On Tue, Mar 12, 2013 at 5:14 PM, Kevin Burton 
&gt; wrote:\*\*\*\*
&gt;
&gt; On another node the console.log looks like:\*\*\*\*
&gt;
&gt; \*\*\*\*
&gt;
&gt; 2013-03-12 18:41:19.687 [info] &lt;0.7.0&gt; Application riak\_kv started on node
&gt; 'riak@172.16.33.107'\*\*\*\*
&gt;
&gt; 2013-03-12 18:41:19.709 [info] &lt;0.7.0&gt; Application merge\_index started on
&gt; node 'riak@172.16.33.107'\*\*\*\*
&gt;
&gt; 2013-03-12 18:41:19.719 [info] &lt;0.7.0&gt; Application riak\_search started on
&gt; node 'riak@172.16.33.107'\*\*\*\*
&gt;
&gt; 2013-03-12 18:41:19.724 [info]
&gt; &lt;0.473.0&gt;@riak\_core:wait\_for\_application:419 Wait complete for application
&gt; riak\_kv (0 seconds)\*\*\*\*
&gt;
&gt; 2013-03-12 18:41:19.782 [info] &lt;0.7.0&gt; Application riak\_api started on
&gt; node 'riak@172.16.33.107'\*\*\*\*
&gt;
&gt; 2013-03-12 18:41:19.846 [info] &lt;0.7.0&gt; Application cluster\_info started on
&gt; node 'riak@172.16.33.107'\*\*\*\*
&gt;
&gt; 2013-03-12 18:41:19.867 [info] &lt;0.7.0&gt; Application riak\_control started on
&gt; node 'riak@172.16.33.107'\*\*\*\*
&gt;
&gt; 2013-03-12 18:41:19.868 [info] &lt;0.7.0&gt; Application erlydtl started on node
&gt; 'riak@172.16.33.107'\*\*\*\*
&gt;
&gt; 2013-03-12 18:41:20.471 [info] &lt;0.296.0&gt;@riak\_core:wait\_for\_service:439
&gt; Wait complete for service riak\_kv (1 seconds)\*\*\*\*
&gt;
&gt; \*\*\*\*
&gt;
&gt; And in erlang.log I see:\*\*\*\*
&gt;
&gt; \*\*\*\*
&gt;
&gt; 18:41:19.513 [info] New capability: {riak\_kv,vnode\_vclocks} = true^M\*\*\*\*
&gt;
&gt; 18:41:19.526 [info] New capability: {riak\_kv,legacy\_keylisting} = false^M\*
&gt; \*\*\*
&gt;
&gt; 18:41:19.541 [info] New capability: {riak\_kv,listkeys\_backpressure} =
&gt; true^M\*\*\*\*
&gt;
&gt; 18:41:19.558 [info] New capability: {riak\_kv,mapred\_system} = pipe^M\*\*\*\*
&gt;
&gt; 18:41:19.582 [info] New capability: {riak\_kv,mapred\_2i\_pipe} = true^M\*\*\*\*
&gt;
&gt; 18:41:19.623 [info] Waiting for application riak\_kv to start (0 seconds).^M
&gt; \*\*\*\*
&gt;
&gt; 18:41:19.687 [info] Application riak\_kv started on node '
&gt; riak@172.16.33.107'^M\*\*\*\*
&gt;
&gt; 18:41:19.709 [info] Application merge\_index started on node '
&gt; riak@172.16.33.107' ^H^M\*\*\*\*
&gt;
&gt; 18:41:19.719 [info] Application riak\_search started on node '
&gt; riak@172.16.33.107' ^H^M\*\*\*\*
&gt;
&gt; 18:41:19.724 [info] Wait complete for application riak\_kv (0 seconds)^M\*\*\*
&gt; \*
&gt;
&gt; 18:41:19.782 [info] Application riak\_api started on node '
&gt; riak@172.16.33.107'^M\*\*\*\*
&gt;
&gt; 18:41:19.846 [info] Application cluster\_info started on node '
&gt; riak@172.16.33.107'^M\*\*\*\*
&gt;
&gt; 18:41:19.867 [info] Application riak\_control started on node '
&gt; riak@172.16.33.107'^M\*\*\*\*
&gt;
&gt; 18:41:19.868 [info] Application erlydtl started on node '
&gt; riak@172.16.33.107'^M\*\*\*\*
&gt;
&gt; Eshell V5.9.1 (abort with ^G)^M\*\*\*\*
&gt;
&gt; (riak@172.16.33.107)1&gt; 18:41:20.471 [info] Wait complete for service
&gt; riak\_kv (1 seconds)^M\*\*\*\*
&gt;
&gt; \*\*\*\*
&gt;
&gt; ===== ALIVE Tue Mar 12 19:09:45 CDT 2013\*\*\*\*
&gt;
&gt; I don’t see any errors there.\*\*\*\*
&gt;
&gt; \*\*\*\*
&gt;
&gt; There is an empty crash.log that was dated with a timestamp recently.\*\*\*\*
&gt;
&gt; \*\*\*\*
&gt;
&gt; \*From:\* riak-users [mailto:riak-users-boun...@lists.basho.com] \*On Behalf
&gt; Of \*Jeremiah Peschka
&gt; \*Sent:\* Tuesday, March 12, 2013 6:34 PM
&gt; \*To:\* 
&gt; \*Subject:\* Re: Error interpretation\*\*\*\*
&gt;
&gt; \*\*\*\*
&gt;
&gt; Your Riak search hook crashed. There is a bad argument being sent to
&gt; Erlang. Check your Riak logs for more detail.\*\*\*\*
&gt;
&gt;
&gt; --\*\*\*\*
&gt;
&gt; Jeremiah Peschka - Founder, Brent Ozar Unlimited\*\*\*\*
&gt;
&gt; MCITP: SQL Server 2008, MVP\*\*\*\*
&gt;
&gt; Cloudera Certified Developer for Apache Hadoop\*\*\*\*
&gt;
&gt;
&gt; On Mar 12, 2013, at 4:23 PM, "Kevin Burton" 
&gt; wrote:\*\*\*\*
&gt;
&gt; I am writing a value to a 4 node Riak cluster with a CorrugatedIron client
&gt; and am getting the following error:\*\*\*\*
&gt;
&gt; \*\*\*\*
&gt;
&gt; Riak returned an error. Code '0'. Message:
&gt; {precommit\_fail,{hook\_crashed,{riak\_search\_kv\_hook,precommit,error,badarg}}}
&gt; \*\*\*\*
&gt;
&gt; \*\*\*\*
&gt;
&gt; I don’t know how to interpret this error. Any help would be appreciated.\*\*
&gt; \*\*
&gt;
&gt; \*\*\*\*
&gt;
&gt; Thank you.\*\*\*\*
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com\*\*\*\*
&gt;
&gt; \*\* \*\*
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

