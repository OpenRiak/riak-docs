---
title: "Re: Riak S2 error"
description: ""
project: community
lastmod: 2016-01-07T15:13:39-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16929"
mailinglist_parent_id: "msg16928"
author_name: "Charlie Voiselle"
project_section: "mailinglistitem"
sent_date: 2016-01-07T15:13:39-08:00
---


Michael:

If that is the entire contents of your advanced.config file, you will need to 
wrap all of that in an erlang list delimiter. []. For example

[
{riak\_kv, [
 {add\_paths, "/usr/lib64/riak-cs/lib/riak\_cs-2.1.0/ebin"},
 {storage\_backend, riak\_cs\_kv\_multi\_backend},
 {multi\_backend\_prefix\_list, [{&lt;&lt;"0b:"&gt;&gt;, be\_blocks}]},
 {multi\_backend\_default, be\_default},
 {multi\_backend, [
 {be\_default, riak\_kv\_eleveldb\_backend, [
 {total\_leveldb\_mem\_percent, 30},
 {data\_root, "/var/lib/riak/leveldb"}
 ]},
 {be\_blocks, riak\_kv\_bitcask\_backend, [
 {data\_root, "/var/lib/riak/bitcask"}
 ]}
 ]}
]}
].


Give that a shot and let us know if it works for you!

Thanks,
Charlie Voiselle

&gt; On Jan 7, 2016, at 11:53 AM, Michael Walsh  wrote:
&gt; 
&gt; Sure thing.
&gt; 
&gt; And thanks!
&gt; 
&gt; 
&gt; advanced.config:
&gt; {riak\_kv, [
&gt; {add\_paths, "/usr/lib64/riak-cs/lib/riak\_cs-2.1.0/ebin"},
&gt; {storage\_backend, riak\_cs\_kv\_multi\_backend},
&gt; {multi\_backend\_prefix\_list, [{&lt;&lt;"0b:"&gt;&gt;, be\_blocks}]},
&gt; {multi\_backend\_default, be\_default},
&gt; {multi\_backend, [
&gt; {be\_default, riak\_kv\_eleveldb\_backend, [
&gt; {total\_leveldb\_mem\_percent, 30},
&gt; {data\_root, "/var/lib/riak/leveldb"}
&gt; ]},
&gt; {be\_blocks, riak\_kv\_bitcask\_backend, [
&gt; {data\_root, "/var/lib/riak/bitcask"}
&gt; ]}
&gt; ]}
&gt; ]}.
&gt; 
&gt; On Wed, Jan 6, 2016 at 5:44 PM, Shunichi Shinohara  &gt; wrote:
&gt; Hi Michael,
&gt; 
&gt; Could you provide all the result of "riak config generate -l debug" as well as
&gt; riak.conf and advanced.config?
&gt; 
&gt; Thanks,
&gt; Shino
&gt; 
&gt; 2016-01-07 9:05 GMT+09:00 Michael Walsh  &gt;:
&gt; &gt; All,
&gt; &gt;
&gt; &gt; I'm trying to set up a RIak S2 instance to integrate with KV and I'm getting
&gt; &gt; the following cuttlefish error out of advanced.config. Any suggestions on
&gt; &gt; where I'm going wrong?
&gt; &gt;
&gt; &gt; notes: erlang error was fixed. All paths are correct.
&gt; &gt;
&gt; &gt; Thanks!
&gt; &gt;
&gt; &gt; -Michael Walsh
&gt; &gt;
&gt; &gt; $riak config generate -l debug
&gt; &gt;
&gt; &gt; ...
&gt; &gt; {riak\_kv,
&gt; &gt; [{add\_paths,
&gt; &gt;
&gt; &gt; "/usr/lib64/riak-cs/lib/riak\_cs-2.1.0/ebin"},
&gt; &gt; {storage\_backend,riak\_cs\_kv\_multi\_backend},
&gt; &gt; {multi\_backend\_prefix\_list,
&gt; &gt; [{&lt;&lt;"0b:"&gt;&gt;,be\_blocks}]},
&gt; &gt; {multi\_backend\_default,be\_default},
&gt; &gt; {multi\_backend,
&gt; &gt; [{be\_default,riak\_kv\_eleveldb\_backend,
&gt; &gt; [{total\_leveldb\_mem\_percent,30},
&gt; &gt; {data\_root,"/var/lib/riak/leveldb"}]},
&gt; &gt; {be\_blocks,riak\_kv\_bitcask\_backend,
&gt; &gt;
&gt; &gt; [{data\_root,"/var/lib/riak/bitcask"}]}]}]}) (lists.erl, line 1247)
&gt; &gt; in function cuttlefish\_escript:engage\_cuttlefish/1
&gt; &gt; (src/cuttlefish\_escript.erl, line 375)
&gt; &gt; in call from cuttlefish\_escript:generate/1 (src/cuttlefish\_escript.erl,
&gt; &gt; line 258)
&gt; &gt; in call from escript:run/2 (escript.erl, line 747)
&gt; &gt; in call from escript:start/1 (escript.erl, line 277)
&gt; &gt; in call from init:start\_it/1
&gt; &gt; in call from init:start\_em/1
&gt; &gt;
&gt; &gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com 
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com 
&gt; &gt; 
&gt; &gt;
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com 
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com 
&gt; 
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

