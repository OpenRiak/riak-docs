---
title: "Re: Do developers need to sanitize JSON input before sending to Riak	Client?"
description: ""
project: community
lastmod: 2014-12-12T07:29:08-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15360"
mailinglist_parent_id: "msg15359"
author_name: "Kyle Marek-Spartz"
project_section: "mailinglistitem"
sent_date: 2014-12-12T07:29:08-08:00
---


Ruby should "do the right thing" and escape your content appropriately,
that is, if you have a Ruby hash of:

{'test' =&gt; 'yes", "injection": "oops!"'}

JSON.dump will give you:

{"test":"yes\", \"injection\": \"oops!\""}


J. Austin Hughey writes:

&gt; Thank you very much for the explanation, Jason. My example attack was 
&gt; probably a bit “off”, but the basic use case I’m thinking of is an API. Say I 
&gt; have an API that accepts JSON. The user has “spoofed” the JSON input to the 
&gt; API, possibly setting an “admin” flag or something (doesn’t matter what, 
&gt; specifically, just an example of how a property may be set). Assuming no 
&gt; other business logic validation (which of course I DEFINITELY plan to 
&gt; implement), I was simply curious if, when sending info directly to Riak as 
&gt; JSON, if the client did anything to sanitize input from injection.
&gt;
&gt; Think SQL injection, but JSON instead. Data is data, representation 
&gt; implementation differs, but the same concerns apply. I’m just trying to see 
&gt; what I need to do to prevent that injection-style attack from happening.
&gt;
&gt; Sounds like, based on your response (thanks again, by the way!), I need to 
&gt; validate the Ruby object after it’s created and ensure no invalid attributes 
&gt; or values exist, prior to its being sent to Riak.
&gt;
&gt; Any additional thoughts on other security concerns I should have here? I’m 
&gt; new to “NoSQL” and I like Riak due to its operational model, so I’d like to 
&gt; use it more often. I just need to know what I’m doing before I put an app out 
&gt; into the wild!
&gt;
&gt; Thanks again.

--
Kyle Marek-Spartz

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

