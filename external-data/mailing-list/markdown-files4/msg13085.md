---
title: "Riak secondary indices with Java Api"
description: ""
project: community
lastmod: 2013-11-25T00:40:36-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13085"
author_name: "Shimon Benattar"
project_section: "mailinglistitem"
sent_date: 2013-11-25T00:40:36-08:00
---


Hi, Riak users,



I am trying to index my data with the Java API



I saw on the basho site (http://basho.com/index-for-fun-and-for-profit/)
the following code, The first part of creating the index works fine.

My problem here is that under riakClient I do not have any mothod called
fetchIndex.



Can anyone assist here (I tried both http and pbc clients)?



Bucket userBucket \*=\* riakClient\*.\*fetchBucket\*(\*"users"\*).\*execute\*();\*

IRiakObject userObject \*=\* userBucket\*.\*fetch\*(\*"thevegan3000"\*).\*execute
\*();\*

userObject\*.\*addIndex\*(\*"user\_group\_bin"\*,\* "administrator"\*);\*

userBucket\*.\*store\*(\*userObject\*).\*execute\*();\*



BinIndex binIndex \*=\* BinIndex\*.\*named\*(\*"user\_group\_bin"\*);\*

BinValueQuery indexQuery \*=\* \*new\* BinValueQuery\*(\*binIndex\*,\* "users"\*,\*
"administrator"\*);\*

\*List\*\*&lt;\*\*String\*\*&gt;\*\* adminUserKeys \*\*=\*\* riakClient\*\*.\*\*fetchIndex\*\*(\*
\*indexQuery\*\*);\*



Thanks,



Shimon
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

