---
title: "Re: Unable to compile Riak on Raspberry Pi 3"
description: ""
project: community
lastmod: 2017-04-01T04:42:39-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18115"
mailinglist_parent_id: "msg18114"
author_name: "Matthew Von-Maszewski"
project_section: "mailinglistitem"
sent_date: 2017-04-01T04:42:39-07:00
---


A fix for that problem in leveldb/util/perf\_count.cc already exists on the 
"develop" branch of the github repository basho/leveldb. Download it and 
rebuild. 

Sent from my iPad

&gt; On Apr 1, 2017, at 4:08 AM, cocos  wrote:
&gt; 
&gt; Hello,
&gt; 
&gt; currenty I'm trying to install Riak on the Raspberry Pi 3 for testing 
&gt; purposes. I used the following instruction from basho:
&gt; 
&gt; http://docs.basho.com/riak/kv/2.2.2/setup/installing/source/
&gt; 
&gt; I'm having problems compiling it from source. I tried to compile it on 
&gt; Raspbian Jessie and then switched to Ubuntu Server 16.04. Both times with the 
&gt; same result. It is not compiling and aborts at a certain point. I don't know 
&gt; what causes the problem since it only says: `recipe for target 
&gt; 'util/perf\_count.o' failed`. Searching Google and the mailing list from basho 
&gt; weren't successful. 
&gt; 
&gt; The version of `gcc` is `gcc (Raspbian 4.9.2-10) 4.9.2`. The version of 
&gt; `Erlang` is `Erlang R16B02\_basho8 (erts-5.10.3)`
&gt; 
&gt; The commands i used are the following:
&gt; 
&gt; Installing Erlang:
&gt; 
&gt; wget 
&gt; http://s3.amazonaws.com/downloads.basho.com/erlang/otp\_src\_R16B02basho10.tar.gz
&gt; 
&gt; tar zxvf otp\_src\_R16B02-basho10.tar.gz
&gt; 
&gt; cd OTP\_R16B02\_basho10
&gt; ./otp\_build autoconf
&gt; ./configure && make && sudo make install
&gt; 
&gt; Installing Riak:
&gt; 
&gt; wget 
&gt; http://s3.amazonaws.com/downloads.basho.com/riak/2.2/2.2.1/riak-2.2.1.tar.gz
&gt; 
&gt; tar zxvf riak-2.2.1.tar.gz
&gt; 
&gt; cd riak-2.2.1
&gt; make locked-deps
&gt; make rel
&gt; 
&gt; Any suggestions are welcome.
&gt; 
&gt; ## Output: ##
&gt; 
&gt; `./include/leveldb/atomics.h:155:15: note: 
&gt; template argument deduction/substitution failed util/perf\_count.cc:439:40:
&gt; note: deduced conflicting types for parameter ‘ValueT’ 
&gt; (‘unsigned int’ and‘int’ add\_and\_fetch(ptr\_32, 1);`
&gt; 
&gt; 
&gt; `Makefile:190: recipe for target 'util/perf\_count.o' failed
&gt; make[1]: \*\*\* [util/perf\_count.o] Error 1
&gt; make[1]: \*\*\* Waiting for unfinished jobs....
&gt; make[1]: Leaving directory 
&gt; '/home/pi/Riak/riak/deps/eleveldb/c\_src/leveldb'
&gt; ERROR: Command [compile] failed!
&gt; Makefile:23: recipe for target 'compile' failed
&gt; make: \*\*\* [compile] Error 1`
&gt; 
&gt; Von meinem Samsung Galaxy Smartphone gesendet.
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

