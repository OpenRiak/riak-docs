---
title: "Re: riak nagios script"
description: ""
project: community
lastmod: 2013-12-10T09:40:05-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13192"
mailinglist_parent_id: "msg13183"
author_name: "Hector Castro"
project_section: "mailinglistitem"
sent_date: 2013-12-10T09:40:05-08:00
---


Hello Kathleen,

Have you executed the `make encrypt` target to build the `check\_node`
binary? [0] From there, I copied it to the Riak node and invoked it
like this:

$ /usr/lib/riak/erts-5.9.1/bin/escript check\_node --node
riak@127.0.0.1 riak\_kv\_up
OKAY: riak\_kv is running on riak@127.0.0.1

I used the entire path to escript because the bin directory under erts
was not in my PATH by default.

--
Hector

[0] https://github.com/basho/riak\_nagios#building

On Mon, Dec 9, 2013 at 7:35 PM, kzhang  wrote:
&gt; Also, when running
&gt;
&gt; https://github.com/basho/riak\_nagios/blob/master/src/check\_node.erl
&gt;
&gt; I ran into the error:
&gt;
&gt; \*\* exception error: undefined function getopt:parse/2
&gt; in function check\_node:main/2 (check\_node.erl, line 15)
&gt;
&gt;
&gt;
&gt;
&gt; --
&gt; View this message in context: 
&gt; http://riak-users.197444.n3.nabble.com/riak-nagios-script-tp4030025p4030026.html
&gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

