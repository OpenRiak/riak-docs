---
title: "RE: Riak node down after ssd failure"
description: ""
project: community
lastmod: 2014-03-19T06:14:57-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13843"
mailinglist_parent_id: "msg13839"
author_name: "Sajner, Daniel G"
project_section: "mailinglistitem"
sent_date: 2014-03-19T06:14:57-07:00
---


Hi.

I’ve had success replacing the server with the same name/ip and the identical 
configuration of the previous server (minus the data). At that point start 
riak and join the node back into the cluster from the new server. This will 
start a bunch of transfers of meta data to get the empty node to know about the 
data is should have.

At that point you could wait for read repairs to eventually repopulate the node 
(not a great idea) or force a read repair. 
http://docs.basho.com/riak/latest/ops/running/recovery/repairing-partitions/

Regards,
Dan


From: riak-users [mailto:riak-users-boun...@lists.basho.com] On Behalf Of Edgar 
Veiga
Sent: Tuesday, March 18, 2014 5:20 PM
To: Evan Vigil-McClanahan
Cc: riak-users@lists.basho.com
Subject: Re: Riak node down after ssd failure

Thanks Evan!

Is it really imperative that the name should be != than the old one?

Best regards
—
Sent from my iPhone


On Tue, Mar 18, 2014 at 8:47 PM, Evan Vigil-McClanahan 
&gt; wrote:

Probably the easiest thing would be to wait until the new machine is
ready to join, add it with a nodename distinct from that of the last
one, and force-replace the new node for the old, dead one.

On Tue, Mar 18, 2014 at 1:03 PM, Edgar Veiga 
&gt; wrote:
&gt; Hello all!
&gt;
&gt; I have a 6 machine cluster with leveldb as backend, using riak 1.4.8
&gt; version.
&gt;
&gt; Today, the ssd of one of the machine's has failed and is not recoverable, so
&gt; I have already ordered a new one that should arrive by thursday!
&gt;
&gt; In the meanwhile what should I do? I have no backup of the old ssd data...
&gt; Should I remove the machine of the cluster and when the new ssd arrives join
&gt; the machine again?
&gt;
&gt; Best regards!
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;


Confidentiality Notice: This electronic message transmission, including any 
attachment(s), may contain confidential, proprietary, or privileged information 
from Chemical Abstracts Service ("CAS"), a division of the American Chemical 
Society ("ACS"). If you have received this transmission in error, be advised 
that any disclosure, copying, distribution, or use of the contents of this 
information is strictly prohibited. Please destroy all copies of the message 
and contact the sender immediately by either replying to this message or 
calling 614-447-3600.

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

