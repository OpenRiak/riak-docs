---
title: "Re: Riak Search. Ranges. Integer Analyzer Factory."
description: ""
project: community
lastmod: 2012-08-20T09:42:18-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08331"
mailinglist_parent_id: "msg08330"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2012-08-20T09:42:18-07:00
---


On Mon, Aug 20, 2012 at 12:29 PM, Vladimir Shapovalov
wrote:

&gt; Hi Ryan,
&gt;
&gt; Thank you, I didn't know that the data stays unchanged. Similar to 2i.
&gt;
&gt; While executing curl request I get this record in crash.log:
&gt; ------------------------------------------------------------------
&gt; 2012-08-20 18:12:22 =CRASH REPORT====
&gt; crasher:
&gt; initial call: mochiweb\_acceptor:init/3
&gt; pid: &lt;0.138.0&gt;
&gt; registered\_name: []
&gt; exception error: no case clause matching {ok,{http\_error,"GET
&gt; /solr/my\_index/select?q=price:[100 TO 200] HTTP/1.1\r\n"},&lt;&lt;&gt;&gt;}
&gt; in function mochiweb\_http:request/3
&gt; in call from proc\_lib:init\_p\_do\_apply/3
&gt; ancestors: ['http\_localhost:8098',riak\_core\_sup,&lt;0.105.0&gt;]
&gt; messages: []
&gt; links: [&lt;0.136.0&gt;,#Port&lt;0.6518&gt;]
&gt; dictionary: []
&gt; trap\_exit: false
&gt; status: running
&gt; heap\_size: 610
&gt; stack\_size: 24
&gt; reductions: 533
&gt; neighbours:
&gt; ------------------------------------------------------------------
&gt;

You need to encode the url as you have illegal characters in there.


&gt;
&gt; I've tried it on the command line with the no success:
&gt;
&gt; $: /usr/sbin/search-cmd search my\_index "price:[100 TO 200]"
&gt;

You stored the field as `price\_int` and you are querying `price`. Search
doesn't strip suffixes like 2i. It is just a convention for a dynamic
field. You could add an explicit `price` field with the integer analyzer
or you need to search against the `price\_int` field.

-Z
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

