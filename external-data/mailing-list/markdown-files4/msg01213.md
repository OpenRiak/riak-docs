---
title: "Re: Handoff repeatedly failing"
description: ""
project: community
lastmod: 2010-10-06T11:37:10-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01213"
mailinglist_parent_id: "msg01212"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2010-10-06T11:37:10-07:00
---


Is the receiving node it's trying to handoff to reachable? (Try telnet to the 
handoff port.) If not, then that would explain the handoff failure. Also, 
check the receiving node for "Receiving handoff" messages.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On Oct 6, 2010, at 2:23 PM, Tony Novak wrote:

&gt; Sean,
&gt; 
&gt; So I shouldn't be concerned that it's trying to handoff the same vnode 
&gt; multiple times?
&gt; 
&gt; Thanks again!
&gt; Tony
&gt; 
&gt; On Wed, Oct 6, 2010 at 10:32 AM, Sean Cribbs  wrote:
&gt; Tony,
&gt; 
&gt; That error occurs when trying to interact with a socket that is closed. I can 
&gt; assure you that it is harmless and that the message will no longer appear in 
&gt; 0.13.
&gt; 
&gt; Sean Cribbs 
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; http://basho.com/
&gt; 
&gt; On Oct 6, 2010, at 1:27 PM, Tony Novak wrote:
&gt; 
&gt;&gt; After recently adding a few additional nodes to a Riak cluster, I keep 
&gt;&gt; seeing repeated handoff failures like this one:
&gt;&gt; 
&gt;&gt; =INFO REPORT==== 6-Oct-2010::17:05:30 ===
&gt;&gt; Starting handoff of partition riak\_kv\_vnode 
&gt;&gt; 1043318063368056673053607043667580944695787782144 to 'r...@10.217.31.183'
&gt;&gt; (r...@10.104.41.223)1&gt; 
&gt;&gt; =ERROR REPORT==== 6-Oct-2010::17:05:56 ===
&gt;&gt; Handoff sender riak\_kv\_vnode 
&gt;&gt; 1043318063368056673053607043667580944695787782144 failed error:{badmatch,
&gt;&gt; 
&gt;&gt; {error,
&gt;&gt; 
&gt;&gt; closed}}
&gt;&gt; (r...@10.104.41.223)1&gt; 
&gt;&gt; =INFO REPORT==== 6-Oct-2010::17:08:30 ===
&gt;&gt; Starting handoff of partition riak\_kv\_vnode 
&gt;&gt; 1043318063368056673053607043667580944695787782144 to 'r...@10.217.31.183'
&gt;&gt; (r...@10.104.41.223)1&gt; 
&gt;&gt; =ERROR REPORT==== 6-Oct-2010::17:08:56 ===
&gt;&gt; Handoff sender riak\_kv\_vnode 
&gt;&gt; 1043318063368056673053607043667580944695787782144 failed error:{badmatch,
&gt;&gt; 
&gt;&gt; {error,
&gt;&gt; 
&gt;&gt; closed}}
&gt;&gt; (r...@10.104.41.223)1&gt; 
&gt;&gt; =INFO REPORT==== 6-Oct-2010::17:11:30 ===
&gt;&gt; Starting handoff of partition riak\_kv\_vnode 
&gt;&gt; 1043318063368056673053607043667580944695787782144 to 'r...@10.217.31.183'
&gt;&gt; (r...@10.104.41.223)1&gt; 
&gt;&gt; =ERROR REPORT==== 6-Oct-2010::17:11:56 ===
&gt;&gt; Handoff sender riak\_kv\_vnode 
&gt;&gt; 1043318063368056673053607043667580944695787782144 failed error:{badmatch,
&gt;&gt; 
&gt;&gt; {error,
&gt;&gt; 
&gt;&gt; closed}}
&gt;&gt; (r...@10.104.41.223)1&gt; 
&gt;&gt; =INFO REPORT==== 6-Oct-2010::17:14:30 ===
&gt;&gt; Starting handoff of partition riak\_kv\_vnode 
&gt;&gt; 1043318063368056673053607043667580944695787782144 to 'r...@10.217.31.183'
&gt;&gt; (r...@10.104.41.223)1&gt; 
&gt;&gt; =ERROR REPORT==== 6-Oct-2010::17:14:56 ===
&gt;&gt; Handoff sender riak\_kv\_vnode 
&gt;&gt; 1043318063368056673053607043667580944695787782144 failed error:{badmatch,
&gt;&gt; 
&gt;&gt; {error,
&gt;&gt; 
&gt;&gt; closed}}
&gt;&gt; (r...@10.104.41.223)1&gt; 
&gt;&gt; =INFO REPORT==== 6-Oct-2010::17:17:30 ===
&gt;&gt; Starting handoff of partition riak\_kv\_vnode 
&gt;&gt; 1043318063368056673053607043667580944695787782144 to 'r...@10.217.31.183'
&gt;&gt; (r...@10.104.41.223)1&gt; 
&gt;&gt; =ERROR REPORT==== 6-Oct-2010::17:17:56 ===
&gt;&gt; Handoff sender riak\_kv\_vnode 
&gt;&gt; 1043318063368056673053607043667580944695787782144 failed error:{badmatch,
&gt;&gt; 
&gt;&gt; {error,
&gt;&gt; 
&gt;&gt; closed}}
&gt;&gt; (r...@10.104.41.223)1&gt; 
&gt;&gt; =INFO REPORT==== 6-Oct-2010::17:20:30 ===
&gt;&gt; Starting handoff of partition riak\_kv\_vnode 
&gt;&gt; 1043318063368056673053607043667580944695787782144 to 'r...@10.217.31.183'
&gt;&gt; (r...@10.104.41.223)1&gt; 
&gt;&gt; =ERROR REPORT==== 6-Oct-2010::17:20:56 ===
&gt;&gt; Handoff sender riak\_kv\_vnode 
&gt;&gt; 1043318063368056673053607043667580944695787782144 failed error:{badmatch,
&gt;&gt; 
&gt;&gt; {error,
&gt;&gt; 
&gt;&gt; closed}}
&gt;&gt; (r...@10.104.41.223)1&gt; 
&gt;&gt; 
&gt;&gt; There's no corresponding log entry on the receiving machine (10.217.31.183), 
&gt;&gt; but Riak seems to be fully alive and functional on both nodes. (I can 
&gt;&gt; successfully run "riak-admin test" on all nodes in the cluster.)
&gt;&gt; 
&gt;&gt; What's going on here?
&gt;&gt; 
&gt;&gt; Thanks!
&gt;&gt; 
&gt;&gt; Tony Novak
&gt;&gt; t...@dapper.net
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; 
&gt; 

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

