---
title: "Re: map reduce -> JSON.parse error"
description: ""
project: community
lastmod: 2010-08-29T07:05:32-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00970"
mailinglist_parent_id: "msg00969"
author_name: "James Sadler"
project_section: "mailinglistitem"
sent_date: 2010-08-29T07:05:32-07:00
---


Hi Nils,

I ran into a similar problem last week. It seems that certain
characters can cause the JSON parser that ships as part of the
Spidermonkey JavaScript interpreter that Riak uses to throw an
exception. Off the top of my head, I think I managed to make it barf
with a \r embedded within a string.

I don't have the links handy, but I do believe that this is fixed in
Spidermonkey, and it's a simple matter of waiting until the fixes are
merged into Riak.

Hope that helps :)

James.

On 29 August 2010 23:31, Nils Petersohn  wrote:
&gt; hello,
&gt;
&gt; when i have a simple json bucket entry like this: http://pastebin.com/XcWcvmYe
&gt; than i always get an error:
&gt;
&gt; {"lineno":483,"message":"JSON.parse","source":"unknown"}
&gt;
&gt; the stacktrace is here: http://pastebin.com/EGzUKqps
&gt;
&gt; when i try to use a much simpler JSON string than there is no error.
&gt;
&gt; this must be some fault of the JSON.parse method ...
&gt;
&gt; thx for pointing me in the right direction ...
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;



-- 
James

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

