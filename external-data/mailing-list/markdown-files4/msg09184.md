---
title: "Re: Search not working any more"
description: ""
project: community
lastmod: 2012-11-03T13:34:03-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09184"
mailinglist_parent_id: "msg09181"
author_name: "Martin Streicher"
project_section: "mailinglistitem"
sent_date: 2012-11-03T13:34:03-07:00
---



Ryan, aka Z:

My mistake: I forgot that weeks ago I ran the search-cmd install zids command 
to enable search in my custom bucket. Omitting the command explained my 
regression and why others could not duplicate my Riak environment. 

Is there a programmatic way to achieve the equivalent of search-cmd install 
zids, so that whenever my application launches, it can enable those settings? 

Martin



On Nov 3, 2012, at 12:57 PM, Ryan Zezeski wrote:

&gt; Martin,
&gt; 
&gt; On Wed, Oct 31, 2012 at 6:01 PM, Martin Streicher 
&gt;  wrote:
&gt; 
&gt; I deleted my database today using rm -rf on the data directory. I stopped 
&gt; Riak before the delete, and restarted after recreating that directory with 
&gt; mkdir.
&gt; 
&gt; Now, I cannot search.
&gt; 
&gt; 
&gt; The data directory includes the ring file. The ring file is where custom 
&gt; bucket properties are stored like the search pre-commit hook. By deleting 
&gt; the ring those hooks are lost and need to be re-installed.
&gt; 
&gt; -Z

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

