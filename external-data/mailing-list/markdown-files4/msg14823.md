---
title: "Re: Riak crash after starting"
description: ""
project: community
lastmod: 2014-08-31T07:46:03-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14823"
mailinglist_parent_id: "msg14822"
author_name: "Yang Zhenguo"
project_section: "mailinglistitem"
sent_date: 2014-08-31T07:46:03-07:00
---


Hi Steve,

Thanks a lot.

Regards,
Zhenguo @ www.prinbit.com


2014-08-31 21:32 GMT+08:00 Steve Vinoski :

&gt;
&gt;
&gt;
&gt; On Sun, Aug 31, 2014 at 5:26 AM, Yang Zhenguo 
&gt; wrote:
&gt;
&gt;&gt; My steps are as follows:
&gt;&gt; 1. sudo riak start
&gt;&gt; 2. run erl evn
&gt;&gt; {ok, Pid} = riakc\_pb\_socket:start\_link("127.0.0.1", 8087).
&gt;&gt; riakc\_pb\_socket:list\_buckets(Pid).
&gt;&gt;
&gt;&gt; After about 30 seconds, the riak will stop(crash)
&gt;&gt;
&gt;&gt; Riak version is 2.0. Atached part of log.
&gt;&gt; BTW, I have another web server cowboy running for handling http request.
&gt;&gt;
&gt;&gt; Thanks in advance
&gt;&gt;
&gt;&gt; Zhenguo
&gt;&gt; www.prinbit.com
&gt;&gt;
&gt;&gt; ======================================================
&gt;&gt; error.log
&gt;&gt; 2014-08-31 17:14:05.974 [error] &lt;0.287.0&gt;
&gt;&gt; {mochiweb\_socket\_server,310,{acceptor\_error,{error,accept\_failed}}}
&gt;&gt; 2014-08-31 17:14:06.075 [error] &lt;0.287.0&gt;
&gt;&gt; {mochiweb\_socket\_server,310,{acceptor\_error,{error,accept\_failed}}}
&gt;&gt; 2014-08-31 17:14:06.847 [error] &lt;0.3769.0&gt; gen\_server yz\_events
&gt;&gt; terminated with reason: no match of right hand value {error,emfile} in
&gt;&gt; yz\_schema:get/1 line 45
&gt;&gt;
&gt;
&gt; The {error, emfile} here means you're hitting your max file descriptor
&gt; limit. Please see
&gt; http://docs.basho.com/riak/latest/ops/tuning/open-files-limit/ for how to
&gt; tune this limit properly.
&gt;
&gt; --steve
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

