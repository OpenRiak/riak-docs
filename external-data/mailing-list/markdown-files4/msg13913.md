---
title: "Re: Riak Search 2.0"
description: ""
project: community
lastmod: 2014-03-24T13:59:40-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13913"
mailinglist_parent_id: "msg13880"
author_name: "Eric Redmond"
project_section: "mailinglistitem"
sent_date: 2014-03-24T13:59:40-07:00
---


jsonpp, and the python app are just convenience tools to format the json output 
in the pretty way. Just don't use it to see the raw output.

Eric


On Mar 24, 2014, at 10:23 AM, "Sapre, Meghna A"  
wrote:

&gt; I see my index in the bucket properties, but the search query still doesn’t 
&gt; have anything. The objects are in the bucket.
&gt; 
&gt; $ curl "$RIAK\_HOST/search/famous?wt=json&q=name\_s:lion\*" | python -mjson.tool
&gt; % Total % Received % Xferd Average Speed Time Time Time 
&gt; Current
&gt; Dload Upload Total Spent Left Speed
&gt; 100 193 100 193 0 0 12062 0 --:--:-- --:--:-- --:--:-- 12062
&gt; No JSON object could be decoded
&gt; 
&gt; I’m not quite sure what’s wrong and where should I begin troubleshooting, any 
&gt; ideas?
&gt; 
&gt; Thanks,
&gt; Meghna
&gt; 
&gt; From: Alexander Sicular [mailto:sicul...@gmail.com] 
&gt; Sent: Friday, March 21, 2014 11:47 PM
&gt; To: Sapre, Meghna A
&gt; Cc: Eric Redmond; riak-users@lists.basho.com
&gt; Subject: Re: Riak Search 2.0
&gt; 
&gt; You need to install jsonpp, https://github.com/jmhodges/jsonpp. You could 
&gt; also pipe to python which is probably already on your system, 
&gt; http://stackoverflow.com/questions/352098/how-can-i-pretty-print-json.
&gt; 
&gt; -Alexander Sicular
&gt; 
&gt; @siculars
&gt; 
&gt; On Mar 21, 2014, at 9:11 PM, Sapre, Meghna A  wrote:
&gt; 
&gt; 
&gt; Okay I followed the exact steps on here, with the same example for testing 
&gt; purpose.
&gt; The search\_index famous shows up in the bucket properties.
&gt; But when I do :
&gt; curl "$RIAK\_HOST/search/famous?wt=json&q=name\_s:Lion\*" | jsonpp
&gt; 
&gt; I get:
&gt; sh.exe": jsonpp: command not found
&gt; % Total % Received % Xferd Average Speed Time Time Time 
&gt; Current
&gt; Dload Upload Total Spent Left Speed
&gt; 100 193 100 193 0 0 12062 0 --:--:-- --:--:-- --:--:-- 12062
&gt; (23) Failed writing body
&gt; 
&gt; I fixed that by using :
&gt; $ curl "$RIAK\_HOST/search/famous?wt=json&q=name\_s:lion\*" | iconv -f 
&gt; windows-1251
&gt; Which gives me:
&gt; % Total % Received % Xferd Average Speed Time Time Time 
&gt; Current
&gt; Dload Upload Total Spent Left Speed
&gt; 100 193 100 193 0 0 12062 0 --:--:-- --:--:-- --:--:-- 12062
&gt; 404 Not FoundNot Found
=========

The 
&gt; requested document was not found on this 
&gt; server.

---

mochiweb+webmachine web server


&gt; 
&gt; What am I still missing?
&gt; 
&gt; Thank you all for your help.
&gt; Meghna
&gt; 
&gt; From: Eric Redmond [mailto:eredm...@basho.com] 
&gt; Sent: Friday, March 21, 2014 9:25 AM
&gt; To: Sapre, Meghna A
&gt; Cc: Michael Dillon; riak-users@lists.basho.com
&gt; Subject: Re: Riak Search 2.0
&gt; 
&gt; Yes, you enable riak search 2.0 by setting search=on.
&gt; 
&gt; There's a lot of useful information in the search documentation.
&gt; 
&gt; http://docs.basho.com/riak/2.0.0pre11/dev/using/search/
&gt; 
&gt; Eric
&gt; 
&gt; 
&gt; On Mar 21, 2014, at 9:21 AM, "Sapre, Meghna A"  
&gt; wrote:
&gt; 
&gt; 
&gt; 
&gt; Thanks, Riak version gives me 2.0.0pre11.
&gt; I changed the riak.conf for setting storage backend=leveldb and search=on.
&gt; I don’t see a separate setting for yokozuna, should it be there?
&gt; I was under the assumption (from reading the docs) that 2.0 comes with 
&gt; yokozuna, is that the case, or is it something I need to install separately?
&gt; 
&gt; Thanks,
&gt; Meghna
&gt; 
&gt; 
&gt; From: Eric Redmond [mailto:eredm...@basho.com] 
&gt; Sent: Friday, March 21, 2014 8:53 AM
&gt; To: Sapre, Meghna A
&gt; Cc: Michael Dillon; riak-users@lists.basho.com
&gt; Subject: Re: Riak Search 2.0
&gt; 
&gt; Searching that version list is not generally useful if you just want the 
&gt; version of the Riak node you're running. Try running "riak version".
&gt; 
&gt; As for "Riak Search 2.0", the project that makes it work is called "yokozuna".
&gt; 
&gt; Eric
&gt; 
&gt; 
&gt; On Mar 20, 2014, at 5:24 PM, "Sapre, Meghna A"  
&gt; wrote:
&gt; 
&gt; 
&gt; 
&gt; 
&gt; Thanks, seems to be a mix. Riak\_search\_version is ‘1.4.1-19’, is there 2.0 
&gt; version for this? If so, how do I get it?
&gt; 
&gt; Thanks,
&gt; Meghna
&gt; 
&gt; From: Michael Dillon [mailto:mdillon...@pagefreezer.com] 
&gt; Sent: Thursday, March 20, 2014 4:25 PM
&gt; To: Sapre, Meghna A
&gt; Subject: Re: Riak Search 2.0
&gt; 
&gt; Try using riak-admin status |grep version |less
&gt; 
&gt; and you will see that there are lots of components at different version 
&gt; levels. I am running 2.0pre11 and have 1.4.2-456-ge1f5d39 for the kv 
&gt; component.
&gt; 
&gt; riak is not one application. It is a suite of applications that work together 
&gt; to provide and overall service.
&gt; 
&gt; 
&gt; On Thu, Mar 20, 2014 at 2:28 PM, Sapre, Meghna A  
&gt; wrote:
&gt; Hi all,
&gt; I recently inherited a Riak dB, so my questions are probably very basic.
&gt; The ones I ask are the ones I couldn't find answers to in the docs or online.
&gt; 
&gt; 1. When I run 'riak-admin status | grep riak\_kv\_version', it shows 'riak 
&gt; 1.4.2'.
&gt; The person who had originally done the installation said it was the 2.0 
&gt; pre-release version, am I checking the right thing?
&gt; 
&gt; 
&gt; Thanks,
&gt; Meghna
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; 
&gt; 
&gt; 
&gt; --
&gt; Michael Dillon - Senior Software Engineer
&gt; PageFreezer.com
&gt; #200 - 311 Water Street
&gt; Vancouver, BC V6B 1B8
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

