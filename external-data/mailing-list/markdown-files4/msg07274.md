---
title: "Re: Riak Anomaly"
description: ""
project: community
lastmod: 2012-04-20T23:05:40-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07274"
mailinglist_parent_id: "msg07272"
author_name: "Zheng Zhibin"
project_section: "mailinglistitem"
sent_date: 2012-04-20T23:05:40-07:00
---



/Witeman

在 2012-4-21，上午8:04，Buri Arslon  写道：

&gt; Another thing that I noticed:
&gt; 
&gt; - /data directories aren't same size
&gt; 
&gt; /data directories in the cluster of (dev1, dev2, dev3) should be the same 
&gt; size, right?
&gt; 
Should be or should not be, it is uncertain. Since every box(physical node) 
claimed for vnodes from the dynamo ring. Each vnode is the data unit for data 
storage. If n=3, then one set of data will be stored by 3 copies. If the 
copies of all data are averagely sparse on each box, then the positive answer, 
otherwise negative.
&gt; -- buriwoy
&gt; 
&gt; On Fri, Apr 20, 2012 at 8:53 AM, Buri Arslon  wrote:
&gt; Hi everybody,
&gt; 
&gt; Yesterday and today I've experienced anomaly in Riak DB. 
&gt; 
&gt; :list\_keys() is showing 2 keys. Each time I perform this it fetches two keys 
&gt; but one of them is always different (different key, different value). So, I 
&gt; guess there are three k/v stored in the DB.
&gt; 
&gt; Before that, I had deleted /data directory from all nodes (dev1, dev2, dev3) 
&gt; to clean the DB.
&gt; 
There maybe some "left" data. I suggest that rm -rf dev1 dev2 dev3; then 
rebuild. 
&gt; I didn't change Riak nodes, the settings are identical with Fast Track 
&gt; tutorial.
&gt; 
&gt; Any ideas to fix the problem?
&gt; 
&gt; Thanks,
&gt; -- buriwoy
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

