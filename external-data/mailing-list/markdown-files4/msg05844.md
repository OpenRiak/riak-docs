---
title: "Re: repost: bucket key listing"
description: ""
project: community
lastmod: 2011-12-01T17:38:31-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05844"
mailinglist_parent_id: "msg05836"
author_name: "Jeremy Raymond"
project_section: "mailinglistitem"
sent_date: 2011-12-01T17:38:31-08:00
---


So if I do have a bucket that I regularly want a listing of the keys for (or
really that I want to access all of the objects) what is the recommend
procedure? Put the same 2i index on each object in the bucket and then do an
index query on it? Is doing a mapred operation specifying a bucket as the
input (instead of a list of key/value pairs) as bad as listing the keys in
the bucket?

--
Jeremy

--
Date: Thu, 1 Dec 2011 11:43:27 -0500
From: Reid Draper 
To: riak-users@lists.basho.com
Subject: Re: repost: bucket key listing
Message-ID:

Content-Type: text/plain; charset="iso-8859-1"

It's worth noting that you can use an objects primary key as the source for
a 2i query. This is helpful if you want a known range of keys in a bucket.
http://wiki.basho.com/Secondary-Indexes.html#Special-Fields

Reid

On Thu, Dec 1, 2011 at 11:37 AM, Andrew Thompson  wrote:

&gt; I think if you disable legacy keylisting, we'll just break a limb now.
&gt; 
&gt; Seriously though, keylists are at least non-blocking in 1.0, so the
&gt; vnodes aren't prevented from doing any reads/writes while the keylist is
&gt; running. However, remember that a keylist of any kind that isn't on a
&gt; single vnode (the way riak does keylists internally is all per vnode)
&gt; requires a traversal of ALL the keyspace, even if your bucket only has
&gt; 10 things in it.
&gt; 
&gt; Andrew
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt; 
-------------- next part --------------
An HTML attachment was scrubbed...
URL: 


------------------------------

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

