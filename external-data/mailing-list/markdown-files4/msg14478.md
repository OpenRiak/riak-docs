---
title: "Re: SSL Configuration for Riak-CS"
description: ""
project: community
lastmod: 2014-07-10T09:06:12-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14478"
mailinglist_parent_id: "msg14448"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2014-07-10T09:06:12-07:00
---


Hi Igor -

Did you configure SSL certificates as instructed here?

http://docs.basho.com/riakcs/latest/cookbooks/configuration/Configuring-Riak-CS/#Enabling-SSL-in-Riak-CS

Also, since it's best practice to load-balance connections to your
Riak CS nodes, I would recommend enabling SSL on a load balancer like
haproxy, and then use HTTP for connections from haproxy to Riak CS.
--
Luke Bakken
CSE
lbak...@basho.com


On Wed, Jul 2, 2014 at 1:10 PM, Igor Birman  wrote:
&gt; Hi,
&gt;
&gt; I am struggling getting SSL working with Riak-CS. I can add SSL settings to
&gt; the config, but s3cmd does not let me connect using a proxy. If I turn off
&gt; the proxy configuration and add s3.amazonaws.com to my hosts file, it tries
&gt; to access Riak-CS over port 443. I tried connecting using S3 Browser with a
&gt; proxy, but I get some interesting errors in Riak-CS:
&gt;
&gt; 15:59:11.071 [error] CRASH REPORT Process &lt;0.9237.0&gt; with 0 neighbours
&gt; crashed with reason: no function clause matching
&gt; mochiweb:new\_request({#Port&lt;0.3360&gt;,{"CONNECT",{scheme,"s3.amazonaws.com","443"},{1,1}},[{'Proxy-Connection',"Keep-A..."},...]})
&gt; line 51
&gt;
&gt; I have Riak-CS running on port 8080, so I am not sure where the 443 is
&gt; coming from.
&gt;
&gt; Has anyone gotten Riak-CS to work with SSL?
&gt;
&gt; Thanks,
&gt; Igor
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

