---
title: "Re: Riak CS need for 5 servers?"
description: ""
project: community
lastmod: 2015-04-03T11:14:14-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15963"
mailinglist_parent_id: "msg15962"
author_name: "Christopher Meiklejohn"
project_section: "mailinglistitem"
sent_date: 2015-04-03T11:14:14-07:00
---



&gt; On Apr 3, 2015, at 10:38 AM, Shankar Dhanasekaran  
&gt; wrote:
&gt; 
&gt; hi,
&gt; For the organization that I am working for, it seems like 25tb of storage is 
&gt; needed. Reading riak docs, it's mentioned that at least 5 servers should be 
&gt; put in place.
&gt; 
&gt; what is the harm in having only 2 riak nodes? will this reduce performance? 
&gt; or cause loss of data? Since Riak is masterless, either one of the server 
&gt; will have the data at any point of time.

If you have only two nodes and you incur one failure, you will no longer be 
able to write to a majority quorum [1], which means that a subsequent failure 
will result in potential unrecoverable data loss. This is why the official 
recommendation used to be 3 nodes.

Weâ€™ve changed that to 5 nodes because this is the minimum amount of nodes 
needed to ensure all copies of each object are stored on different physical 
nodes. [2]

- Chris

[1] This assumes a default configuration with n\_val = 3.
[2] The partition / cluster claim algorithm attempts to ensure that all 
preference lists are on a disjoint set of nodes.

Christopher Meiklejohn
Senior Software Engineer
Basho Technologies, Inc.
cmeiklej...@basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

