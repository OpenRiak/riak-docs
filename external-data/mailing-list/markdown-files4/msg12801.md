---
title: "Re: How does Riak full-text search compare to SolrCloud?"
description: ""
project: community
lastmod: 2013-10-30T07:41:39-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12801"
mailinglist_parent_id: "msg12800"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2013-10-30T07:41:39-07:00
---


Underneath the hood, Yokozuna (Riak Search 2.0) uses Solr's distributed
queries. However, instead of relying on Solr Cloud to distributed indexes
and determine which shards to include, it uses a variant of Riak's
"coverage" computation to determine which shards are queried, and then just
passes it off to Solr to perform. Unlike Riak Search 1.4 and earlier,
Yokozuna is document-partitioned, not term-partitioned, meaning that there
is a 1-1 mapping between Solr shard and Riak partition/vnode. Yokozuna also
does active anti-entropy so that any discrepancies between the index and
the key-value data get repaired.

I'm sure I'm missing some details; perhaps Ryan or Eric could chime in when
they come online.


On Wed, Oct 30, 2013 at 8:18 AM, Jeremiah Peschka &lt;
jeremiah.pesc...@gmail.com&gt; wrote:

&gt; Riak 2.0's search is Solr and has the same functionality as SolrCloud. As
&gt; I understand it, you'll have the same functionality available to you
&gt; between the two.
&gt;
&gt; Looking at the history of the source, it looks like the current Solr
&gt; version in Riak 2.0 Search is Solr 4.4... so, no, block joins aren't there.
&gt;
&gt; ---
&gt; Jeremiah Peschka - Founder, Brent Ozar Unlimited
&gt; MCITP: SQL Server 2008, MVP
&gt; Cloudera Certified Developer for Apache Hadoop
&gt;
&gt;
&gt; On Wed, Oct 30, 2013 at 2:48 AM, Andy  wrote:
&gt;
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; I saw in the announcement of Riak 2.0 that Solr is now integrated into
&gt;&gt; Riak: http://basho.com/introducing-riak-2-0/. The announcement mentions
&gt;&gt; "highly available" and "built for scale". Those seem to be characteristics
&gt;&gt; similar to SolrCloud. For someone looking for a distributed search server,
&gt;&gt; is there any reason to choose Riak over SolrCloud? What are the pros and
&gt;&gt; cons of the two solutions?
&gt;&gt;
&gt;&gt; Also, is every Solr functionality available in Riak? Do the various Solr
&gt;&gt; analyzers and stemmers for different languages work in Riak? What about the
&gt;&gt; newly added Block Join feature (
&gt;&gt; https://issues.apache.org/jira/browse/SOLR-3076)?
&gt;&gt;
&gt;&gt; Thanks.
&gt;&gt; Andy
&gt;&gt;
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;


-- 
Sean Cribbs 
Software Engineer
Basho Technologies, Inc.
http://basho.com/
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

