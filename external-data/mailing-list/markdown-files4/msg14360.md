---
title: "AAE Alredy held by process"
description: ""
project: community
lastmod: 2014-06-24T05:39:13-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14360"
author_name: "fenix . serega"
project_section: "mailinglistitem"
sent_date: 2014-06-24T05:39:13-07:00
---


Riak cluster 7 nodes, 1.3.2 ....

Sometime riak node crashes and not responde at all.

On one node:

2014-06-24 14:29:56 =ERROR REPORT====
Error in process &lt;0.8303.2&gt; on node 'riak@de3' with exit value:
{badarg,[{erlang,binary\_to\_term,[&lt;&lt;19047
bytes&gt;&gt;],[]},{hashtree,get\_disk\_bucket,3,[{file,"src/hashtree.erl"},{line,597}]},{hashtree,'-update\_levels/3-fun-1-',3,[{file,"src/hashtree.erl"},{line,539}]},{lists,foldl,3,[{file,"lists.erl"},{line,1197}]},{hashtree...

2014-06-24 14:29:56 =CRASH REPORT====
 crasher:
 initial call: riak\_kv\_index\_hashtree:init/1
 pid: &lt;0.8936.2&gt;
 registered\_name: []
 exception exit: {{{badmatch,{error,{db\_open,"IO error: lock
./data/anti\_entropy/1358739803456073806767488242915919369836374786048/LOCK:
already held by
process"}}},[{hashtree,new\_segment\_store,2,[{file,"src/hashtree.erl"},{line,499}]},{hashtree,new,2,[{file,"src/hashtree.erl"},{line,215}]},{riak\_kv\_index\_hashtree,do\_new\_tree,2,[{file,"src/riak\_kv\_index\_hashtree.erl"},{line,426}]},{lists,foldl,3,[{file,"lists.erl"},{line,1197}]},{riak\_kv\_index\_hashtree,init\_trees,2,[{file,"src/riak\_kv\_index\_hashtree.erl"},{line,368}]},{riak\_kv\_index\_hashtree,init,1,[{file,"src/riak\_kv\_index\_hashtree.erl"},{line,225}]},{gen\_server,init\_it,6,[{file,"gen\_server.erl"},{line,304}]},{proc\_lib,init\_p\_do\_apply,3,[{file,"proc\_lib.erl"},{line,227}]}]},[{gen\_server,init\_it,6,[{file,"gen\_server.erl"},{line,328}]},{proc\_lib,init\_p\_do\_apply,3,[{file,"proc\_lib.erl"},{line,227}]}]}
 ancestors: [&lt;0.1665.0&gt;,riak\_core\_vnode\_sup,riak\_core\_sup,&lt;0.129.0&gt;]
 messages: []
 links: []
 dictionary: []
 trap\_exit: false
 status: running
 heap\_size: 987
 stack\_size: 24
 reductions: 604
 neighbours:
2014-06-24 14:30:50 =ERROR REPORT====
Error in process &lt;0.9292.2&gt; on node 'riak@de3' with exit value:
{badarg,[{erlang,binary\_to\_term,[&lt;&lt;19399
bytes&gt;&gt;],[]},{hashtree,get\_disk\_bucket,3,[{file,"src/hashtree.erl"},{line,597}]},{hashtree,'-update\_levels/3-fun-1-',3,[{file,"src/hashtree.erl"},{line,539}]},{lists,foldl,3,[{file,"lists.erl"},{line,1197}]},{hashtree...

2014-06-24 14:30:50 =CRASH REPORT====
 crasher:
 initial call: riak\_kv\_index\_hashtree:init/1
 pid: &lt;0.10819.2&gt;
 registered\_name: []
 exception exit: {{{badmatch,{error,{db\_open,"IO error: lock
./data/anti\_entropy/536645132457440915277915524513010171279912730624/LOCK:
already held by
process"}}},[{hashtree,new\_segment\_store,2,[{file,"src/hashtree.erl"},{line,499}]},{hashtree,new,2,[{file,"src/hashtree.erl"},{line,215}]},{riak\_kv\_index\_hashtree,do\_new\_tree,2,[{file,"src/riak\_kv\_index\_hashtree.erl"},{line,426}]},{lists,foldl,3,[{file,"lists.erl"},{line,1197}]},{riak\_kv\_index\_hashtree,init\_trees,2,[{file,"src/riak\_kv\_index\_hashtree.erl"},{line,368}]},{riak\_kv\_index\_hashtree,init,1,[{file,"src/riak\_kv\_index\_hashtree.erl"},{line,225}]},{gen\_server,init\_it,6,[{file,"gen\_server.erl"},{line,304}]},{proc\_lib,init\_p\_do\_apply,3,[{file,"proc\_lib.erl"},{line,227}]}]},[{gen\_server,init\_it,6,[{file,"gen\_server.erl"},{line,328}]},{proc\_lib,init\_p\_do\_apply,3,[{file,"proc\_lib.erl"},{line,227}]}]}
 ancestors: [&lt;0.1140.0&gt;,riak\_core\_vnode\_sup,riak\_core\_sup,&lt;0.129.0&gt;]
 messages: []
 links: []
 dictionary: []
 trap\_exit: false
 status: running
 heap\_size: 987
 stack\_size: 24
 reductions: 601
 neighbours:


What does it mean ?

It seems - always same partitions:

536645132457440915277915524513010171279912730624
924856504873462002925769308203272848376019812352

Thanks.
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

