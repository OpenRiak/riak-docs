---
title: "Re: Integrating Riak"
description: ""
project: community
lastmod: 2011-11-23T08:17:35-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05724"
mailinglist_parent_id: "msg05719"
author_name: "Andy Skelton"
project_section: "mailinglistitem"
sent_date: 2011-11-23T08:17:35-08:00
---


I will be embedding my commit hooks and MR functions in the database
VM. That's not unreasonable but that is most of my project right
there. The rest is just a tiny webmachine resource module which
provides a specialized interface for inputting data into Riak. I might
also want to embed some riak-distributed janitorial processes.

Maybe I've misrepresented it by calling this my "application" when
it's really only an extra part of the database that a client
application will use. I meant "application" in the Erlang/Rebar sense.
The real (exterior) application will absolutely use Riak's pb
interface.

Thank you for clarifying in your follow-up email. I understand your
concerns. Does my use case make more sense now? Can you point me in a
better direction as to how to make releases with my code embedded in
Riak?

Many thanks,
Andy

On Wed, Nov 23, 2011 at 9:59 AM, Sean Cribbs  wrote:
&gt; Do you embed PostgreSQL or Oracle in your application? Generally you don't
&gt; (sqlite3 aside). This is the same concept.  Depend on the client library,
&gt; not the database.
&gt;
&gt; On Wed, Nov 23, 2011 at 10:57 AM, Andy Skelton  wrote:
&gt;&gt;
&gt;&gt; This is the answer I hoped not to read. You might call it a premature
&gt;&gt; optimization but I believe it is reasonable to try to create a
&gt;&gt; distributed Erlang app with Riak as a dependency.
&gt;&gt;
&gt;&gt; I've been hacking on a Riak fork that twiddles the rebar and reltool
&gt;&gt; configs to shoehorn my own code into the same VM. That part is awkward
&gt;&gt; but not impossible.
&gt;&gt;
&gt;&gt; I was hoping you'd say Basho was working on an easy way to include
&gt;&gt; Riak as a rebar dep without forking as I did.
&gt;&gt;
&gt;&gt; Andy
&gt;&gt;
&gt;&gt; On Tue, Nov 22, 2011 at 11:31 PM, David Smith  wrote:
&gt;&gt; &gt; On Tue, Nov 22, 2011 at 4:36 PM, Andrew Berman 
&gt;&gt; &gt; wrote:
&gt;&gt; &gt;&gt; 4.  Does it make more sense to just install a riak package and use the
&gt;&gt; &gt;&gt; erlang pb client?  Seems like it would be less efficient especially
&gt;&gt; &gt;&gt; since
&gt;&gt; &gt;&gt; these will live on the same machine.
&gt;&gt; &gt;
&gt;&gt; &gt; This is the preferred way to attack this problem. Separation of the
&gt;&gt; &gt; functionality by O/S processes is appropriate and much easier to
&gt;&gt; &gt; reason about in error situations. Loopback sockets to the PBs
&gt;&gt; &gt; interface should be within a 1 ms of total request handling time.
&gt;&gt; &gt;
&gt;&gt; &gt; D.
&gt;&gt; &gt;
&gt;&gt; &gt; --
&gt;&gt; &gt; Dave Smith
&gt;&gt; &gt; Director, Engineering
&gt;&gt; &gt; Basho Technologies, Inc.
&gt;&gt; &gt; diz...@basho.com
&gt;&gt; &gt;
&gt;&gt; &gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; &gt; riak-users mailing list
&gt;&gt; &gt; riak-users@lists.basho.com
&gt;&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt; &gt;
&gt;&gt;
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
&gt;
&gt; --
&gt; Sean Cribbs 
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; http://www.basho.com/
&gt;

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

