---
title: "Re: use Siblings to implement a message queue?"
description: ""
project: community
lastmod: 2013-09-11T16:53:19-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12242"
mailinglist_parent_id: "msg12241"
author_name: "Tom Santero"
project_section: "mailinglistitem"
sent_date: 2013-09-11T16:53:19-07:00
---


To add to what Jeremiah said about CRDT support in the upcoming release of
Riak (2.0) see this GitHub issue: https://github.com/basho/riak/issues/354


On Wed, Sep 11, 2013 at 7:42 PM, Jeremiah Peschka &lt;
jeremiah.pesc...@gmail.com&gt; wrote:

&gt; Siblings don't have to be limited to terrible scenarios - they're a
&gt; feature that makes sense for many workloads using an eventually consistent,
&gt; distributed database like Riak.
&gt;
&gt; Siblings are being used under the covers in Riak 2.0 to implement sets,
&gt; maps, and counters. Riak 1.4.x implements counters using siblings, too.
&gt;
&gt; There's a whole set of data types called CRDTs that can be used to
&gt; implement rich data types in a system like Riak. There's work already in
&gt; place to do this with some of the existing clients and I started a project
&gt; to implement CRDTs through CorrugatedIron:
&gt; https://github.com/peschkaj/MoarDT/
&gt;
&gt; The only tricky bit is that you can never be quite sure if you've read
&gt; everything. Oh, and garbage collecting the CRDT can be tricky if you're
&gt; using a client generated CRDT - you can end up with a large number of
&gt; siblings if you aren't careful.
&gt;
&gt;
&gt; ---
&gt; Jeremiah Peschka - Founder, Brent Ozar Unlimited
&gt; MCITP: SQL Server 2008, MVP
&gt; Cloudera Certified Developer for Apache Hadoop
&gt;
&gt;
&gt; On Wed, Sep 11, 2013 at 4:29 PM, Alex Rice  wrote:
&gt;
&gt;&gt; Hi I'm very new to Riak. The allow\_mult = true / Siblings feature is
&gt;&gt; very interesting. Could it be used to implement a high performance
&gt;&gt; collection like a Queue or Set, in a lock free manner? The Riak docs
&gt;&gt; make it sound like allow\_mult is mainly for confict resolution and
&gt;&gt; degenerate cases, rather than a feature which a data structure could
&gt;&gt; be designed around. Does anyone have any links to share, or thoughts
&gt;&gt; about this broader issue?
&gt;&gt; Thanks much!
&gt;&gt; Alex
&gt;&gt;
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;
&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

