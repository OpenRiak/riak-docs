---
title: "Re: Backuping a cluster takes too much time !"
description: ""
project: community
lastmod: 2010-05-12T16:07:55-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00341"
mailinglist_parent_id: "msg00340"
author_name: "Preston Marshall"
project_section: "mailinglistitem"
sent_date: 2010-05-12T16:07:55-07:00
---


Well I don't know if that's normal or not. I just know from erlang experience 
that DETS is super-slow, especially when restoring or backup up etc.
On May 12, 2010, at 6:04 PM, Germain Maurice wrote:

&gt; I'm using Innostore (10-1) and riak\_0.10.1 on an ubuntu 9.10.
&gt; 
&gt; 
&gt; Le 13/05/2010 00:28, Alan McConnell a Ã©crit :
&gt;&gt; 
&gt;&gt; I get similar behavior using the innostore storage engine. In addition, 
&gt;&gt; beam.smp memory footprint balloons to using all available system memory.
&gt;&gt; 
&gt;&gt; I'm running latest binary installs of riak and innostore (0.10.1) on ubuntu 
&gt;&gt; 8.04.
&gt;&gt; 
&gt;&gt; On Wed, May 12, 2010 at 3:07 PM, Preston Marshall  
&gt;&gt; wrote:
&gt;&gt; What storage engine are you using?
&gt;&gt; On May 12, 2010, at 4:57 PM, Germain Maurice wrote:
&gt;&gt; 
&gt;&gt; &gt; Hi,
&gt;&gt; &gt;
&gt;&gt; &gt; I'm testing the backup process of a node and all nodes.
&gt;&gt; &gt; I'm very surprised by the time it took.
&gt;&gt; &gt;
&gt;&gt; &gt; The beginning using 'date' :
&gt;&gt; &gt; # date ; ls -lh
&gt;&gt; &gt; mardi 11 mai 2010, 14:31:54 (UTC+0200)
&gt;&gt; &gt; total 8,0K
&gt;&gt; &gt; -rw-r--r-- 1 riak riak 8 2010-05-11 14:31 backup-20100511
&gt;&gt; &gt; drwxr-xr-x 2 riak riak 4,1K 2010-05-05 16:22 dets
&gt;&gt; &gt; drwxr-xr-x 3 riak riak 168 2010-05-05 16:25 innodb
&gt;&gt; &gt; drwxr-xr-x 2 riak riak 272 2010-05-11 14:26 ring
&gt;&gt; &gt; # date ; ls -lh
&gt;&gt; &gt; mercredi 12 mai 2010, 23:35:44 (UTC+0200)
&gt;&gt; &gt; total 300G
&gt;&gt; &gt; -rw-r--r-- 1 riak riak 300G 2010-05-12 21:42 backup-20100511
&gt;&gt; &gt; drwxr-xr-x 3 riak riak 168 2010-05-05 16:25 innodb
&gt;&gt; &gt; drwxr-xr-x 2 riak riak 272 2010-05-11 14:26 ring
&gt;&gt; &gt;
&gt;&gt; &gt; On each of my two nodes i have :
&gt;&gt; &gt; 194G /reiser/riak/innodb/innokeystore/
&gt;&gt; &gt;
&gt;&gt; &gt; The backup process of all nodes took more than 33 hours !!
&gt;&gt; &gt; I hope it's not a normal behavior because we expect that the cluster will 
&gt;&gt; &gt; store up 4TB or more.
&gt;&gt; &gt;
&gt;&gt; &gt; Regards,
&gt;&gt; &gt; Germain
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; &gt; riak-users mailing list
&gt;&gt; &gt; riak-users@lists.basho.com
&gt;&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt; 
&gt;&gt; 
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt; 
&gt;&gt; 
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com



smime.p7s
Description: S/MIME cryptographic signature
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

