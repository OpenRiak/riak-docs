---
title: "Re: Riak init script ordering issues"
description: ""
project: community
lastmod: 2014-06-25T17:59:24-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14375"
mailinglist_parent_id: "msg14374"
author_name: "Matthew Hall"
project_section: "mailinglistitem"
sent_date: 2014-06-25T17:59:24-07:00
---


Another issue I just noticed. The RPMs for all the services apparently don't 
stop them, before replacing them. I'm not sure if it's intentional, but I'm 
worried if it might cause code or data corruption in some cases.

Matthew.

On Wed, Jun 25, 2014 at 05:45:46PM -0700, Matthew Hall wrote:
&gt; Hello,
&gt; 
&gt; I'm using recent versions of Riak on CentOS 6.5 and I ran into some issues 
&gt; which are similar to these ones reported on Debian:
&gt; 
&gt; https://github.com/basho/riak\_cs/issues/718
&gt; 
&gt; In my case, instead of having problems during startup, I get problems during 
&gt; shutdown, because for some reason riak and stanchion are shutting down before 
&gt; riak-cs. It causes very long timeouts of 30-60+ seconds or more every time 
&gt; you 
&gt; try to reboot the machine involved.
&gt; 
&gt; So I wanted to ask how I could modify the scripts or dependency ordering 
&gt; manually, on the local system, to prevent this problem, even if it can't be 
&gt; done globally due to the "all parts of Riak can go on arbitrary nodes" issue 
&gt; mentioned in the bug above.
&gt; 
&gt; Thanks,
&gt; Matthew.
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

