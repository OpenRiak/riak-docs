---
title: "Re: Delete keys still in Riak db"
description: ""
project: community
lastmod: 2013-03-08T01:52:37-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10361"
mailinglist_parent_id: "msg10353"
author_name: "Daniel Iwan"
project_section: "mailinglistitem"
sent_date: 2013-03-08T01:52:37-08:00
---


Hi

What worries me though is:

1) number of keys changes when i do listing, shouldn't that number be
constant?
If I do:
http://127.0.0.1:8098/buckets/TX/index/$key/0/zzz' | grep keys | awk
'{split($0,a,/,/); for (i in a) print a[i]}' | wc -l

I'm getting 12, 15 or 20 keys randomly. I believe all of them has been
deleted

2) Very often when I do get query e.g
curl '
http://127.0.0.1:8098/riak/TX/eb602276-15c0-2756-ee54-d04b77230afd:af79a2e4-874a-11e2-ba5c-bb1a97c2eacb:1362676559911
'

I will correctly get 'not found'

But subsequent list as above would still show that key as being in the
bucket.
I believe most of the time key would disappear but very often they just
seem to linger.
Is it possible that list somehow revives the keys?

D.
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

