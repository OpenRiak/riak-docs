---
title: "Re: Riak on Mac OSX 10.7.5"
description: ""
project: community
lastmod: 2013-10-08T09:36:05-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12545"
mailinglist_parent_id: "msg12539"
author_name: "Arun Gupta"
project_section: "mailinglistitem"
sent_date: 2013-10-08T09:36:05-07:00
---


I gave the command:

CFLAGS=-O0 ./configure --disable-hipe --enable-smp-support
--enable-threads --enable-kernel-poll --enable-darwin-64bit

and it showed a whole bunch of lines as shown below ...

-- start here --
Ignoring the --cache-file argument since it can cause the system to be
erroneously configured
Disabling caching
checking build system type... i386-apple-darwin11.4.2
checking host system type... i386-apple-darwin11.4.2
checking for gcc... gcc
checking for C compiler default output file name... a.out
checking whether the C compiler works... yes
checking whether we are cross compiling... no
checking for suffix of executables...
checking for suffix of object files... o

...

config.status: creating i386-apple-darwin11.4.2/config.h
config.status: creating
include/internal/i386-apple-darwin11.4.2/ethread\_header\_config.h
config.status: creating include/i386-apple-darwin11.4.2/erl\_int\_sizes\_config.h
\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* APPLICATIONS INFORMATION \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*

wx : wxWidgets not found, wx will NOT be usable

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\* DOCUMENTATION INFORMATION \*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*

documentation :
 fop is missing.
 Using fakefop to generate placeholder PDF files.

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*
-- end here --

This was followed by the command:

make && sudo make install
test X"$ERTS\_SKIP\_DEPEND" = X"true" || (cd erts/emulator &&
ERL\_TOP=/Users/arungup/code/workspaces/riak/otp\_src\_R15B01 make
generate)
make -f i386-apple-darwin11.4.2/Makefile generate
LANG=C /usr/bin/perl utils/beam\_makeops \
-wordsize 64 \
-outdir i386-apple-darwin11.4.2/opt/plain \
-DUSE\_VM\_PROBES=0 \

...

which failed with the message:

adding: com/ericsson/otp/erlang/OtpServer.class(in = 681) (out=
374)(deflated 45%)
adding: com/ericsson/otp/erlang/OtpSystem.class(in = 738) (out=
438)(deflated 40%)
make[3]: Nothing to be done for `opt'.
=== Leaving application jinterface
=== Entering application ic
make[3]: Nothing to be done for `opt'.
make -f i386-apple-darwin11.4.2/Makefile TYPE=opt
gcc -m64 -O0 
-I/Users/arungup/code/workspaces/riak/otp\_src\_R15B01/erts/i386-apple-darwin11.4.2
 -D\_XOPEN\_SOURCE -fPIC -fno-common -c -o
../priv/obj/i386-apple-darwin11.4.2/ic.o -m64 -O0
-I/Users/arungup/code/workspaces/riak/otp\_src\_R15B01/erts/i386-apple-darwin11.4.2
 -D\_XOPEN\_SOURCE -DHAVE\_CONFIG\_H -I../include
-I/Users/arungup/code/workspaces/riak/otp\_src\_R15B01/lib/erl\_interface/include
-I/Users/arungup/code/workspaces/riak/otp\_src\_R15B01/lib/erl\_interface/src
-O0 ./configure --disable-hipe --enable-smp-support --enable-threads
--enable-kernel-poll --enable-darwin-64bit ic.c
i686-apple-darwin11-llvm-gcc-4.2: ./configure: No such file or directory
cc1: error: unrecognized command line option "-fdisable-hipe"
cc1: error: unrecognized command line option "-fenable-smp-support"
cc1: error: unrecognized command line option "-fenable-threads"
cc1: error: unrecognized command line option "-fenable-kernel-poll"
cc1: error: unrecognized command line option "-fenable-darwin-64bit"
make[4]: \*\*\* [../priv/obj/i386-apple-darwin11.4.2/ic.o] Error 1
make[3]: \*\*\* [opt] Error 2
make[2]: \*\*\* [opt] Error 2
make[1]: \*\*\* [opt] Error 2
make: \*\*\* [tertiary\_bootstrap\_build] Error 2

An idea ?

Arun


On Mon, Oct 7, 2013 at 6:34 PM, Jared Morrow  wrote:
&gt; As Steve said, this package is for 10.8+. If you would like to build from
&gt; source, you can follow the instructions here:
&gt; http://docs.basho.com/riak/latest/ops/building/installing/from-source/ If
&gt; you would like to build a package to use on other machines, follow the same
&gt; instructions, except call 'make package' instead of 'make rel' in the
&gt; instructions.
&gt;
&gt; -Jared
&gt;
&gt;
&gt; On Mon, Oct 7, 2013 at 6:04 PM, Steve Vinoski  wrote:
&gt;&gt;
&gt;&gt; As indicated in the URL for the tarball you downloaded, Riak 1.4.2 for OS
&gt;&gt; X was built for 10.8.x, but you're running 10.7.5 so that build won't work
&gt;&gt; there.
&gt;&gt;
&gt;&gt; --steve
&gt;&gt;
&gt;&gt;
&gt;&gt; On Mon, Oct 7, 2013 at 7:34 PM, Arun Gupta  wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; Downloaded Riak 1.4.2 from:
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; http://s3.amazonaws.com/downloads.basho.com/riak/1.4/1.4.2/osx/10.8/riak-1.4.2-OSX-x86\_64.tar.gz
&gt;&gt;&gt;
&gt;&gt;&gt; Starting Riak as bin/riak gives the error:
&gt;&gt;&gt;
&gt;&gt;&gt; Error reading
&gt;&gt;&gt; /Users/arungup/tools/nosql/riak/riak-1.4.2/bin/../etc/app.config
&gt;&gt;&gt;
&gt;&gt;&gt; And then a dialog box pops up with the following details:
&gt;&gt;&gt;
&gt;&gt;&gt; Process: sh [75679]
&gt;&gt;&gt; Path: /bin/sh
&gt;&gt;&gt; Identifier: sh
&gt;&gt;&gt; Version: ??? (???)
&gt;&gt;&gt; Code Type: X86-64 (Native)
&gt;&gt;&gt; Parent Process: sh [75678]
&gt;&gt;&gt;
&gt;&gt;&gt; Date/Time: 2013-10-07 16:29:08.889 -0700
&gt;&gt;&gt; OS Version: Mac OS X 10.7.5 (11G63b)
&gt;&gt;&gt; Report Version: 9
&gt;&gt;&gt; Sleep/Wake UUID: 233B3AEC-827F-4D69-92BB-3F6579F3BC4B
&gt;&gt;&gt;
&gt;&gt;&gt; Anonymous UUID: D3AD0D73-8375-41A9-8DF2-7AD38536906E
&gt;&gt;&gt;
&gt;&gt;&gt; Crashed Thread: Unknown
&gt;&gt;&gt;
&gt;&gt;&gt; Exception Type: EXC\_BAD\_ACCESS (SIGSEGV)
&gt;&gt;&gt; Exception Codes: KERN\_INVALID\_ADDRESS at 0x00007fff5fc01028
&gt;&gt;&gt;
&gt;&gt;&gt; Backtrace not available
&gt;&gt;&gt;
&gt;&gt;&gt; Unknown thread crashed with X86 Thread State (64-bit):
&gt;&gt;&gt; rax: 0x0000000000000055 rbx: 0x0000000000000000 rcx:
&gt;&gt;&gt; 0x0000000000000000 rdx: 0x0000000000000000
&gt;&gt;&gt; rdi: 0x0000000000000000 rsi: 0x0000000000000000 rbp:
&gt;&gt;&gt; 0x0000000000000000 rsp: 0x0000000000000000
&gt;&gt;&gt; r8: 0x0000000000000000 r9: 0x0000000000000000 r10:
&gt;&gt;&gt; 0x0000000000000000 r11: 0x0000000000000000
&gt;&gt;&gt; r12: 0x0000000000000000 r13: 0x0000000000000000 r14:
&gt;&gt;&gt; 0x0000000000000000 r15: 0x0000000000000000
&gt;&gt;&gt; rip: 0x00007fff5fc01028 rfl: 0x0000000000010203 cr2:
&gt;&gt;&gt; 0x00007fff5fc01028
&gt;&gt;&gt; Logical CPU: 2
&gt;&gt;&gt;
&gt;&gt;&gt; Binary images description not available
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; External Modification Summary:
&gt;&gt;&gt; Calls made by other processes targeting this process:
&gt;&gt;&gt; task\_for\_pid: 0
&gt;&gt;&gt; thread\_create: 0
&gt;&gt;&gt; thread\_set\_state: 0
&gt;&gt;&gt; Calls made by this process:
&gt;&gt;&gt; task\_for\_pid: 0
&gt;&gt;&gt; thread\_create: 0
&gt;&gt;&gt; thread\_set\_state: 0
&gt;&gt;&gt; Calls made by all processes on this machine:
&gt;&gt;&gt; task\_for\_pid: 318497
&gt;&gt;&gt; thread\_create: 2
&gt;&gt;&gt; thread\_set\_state: 0
&gt;&gt;&gt;
&gt;&gt;&gt; Model: MacBookPro8,2, BootROM MBP81.0047.B27, 4 processors, Intel Core
&gt;&gt;&gt; i7, 2 GHz, 16 GB, SMC 1.69f4
&gt;&gt;&gt; Graphics: AMD Radeon HD 6490M, AMD Radeon HD 6490M, PCIe, 256 MB
&gt;&gt;&gt; Graphics: Intel HD Graphics 3000, Intel HD Graphics 3000, Built-In, 512
&gt;&gt;&gt; MB
&gt;&gt;&gt; Memory Module: BANK 0/DIMM0, 8 GB, DDR3, 1333 MHz, 0x029E,
&gt;&gt;&gt; 0x434D5341384758334D314131333333433920
&gt;&gt;&gt; Memory Module: BANK 1/DIMM0, 8 GB, DDR3, 1333 MHz, 0x029E,
&gt;&gt;&gt; 0x434D5341384758334D314131333333433920
&gt;&gt;&gt; AirPort: spairport\_wireless\_card\_type\_airport\_extreme (0x14E4, 0xD6),
&gt;&gt;&gt; Broadcom BCM43xx 1.0 (5.106.198.19.22)
&gt;&gt;&gt; Bluetooth: Version 4.0.8f17, 2 service, 18 devices, 1 incoming serial
&gt;&gt;&gt; ports
&gt;&gt;&gt; Network Service: Wi-Fi, AirPort, en1
&gt;&gt;&gt; Serial ATA Device: ST9500325ASG, 500.11 GB
&gt;&gt;&gt; Serial ATA Device: MATSHITADVD-R UJ-8A8
&gt;&gt;&gt; USB Device: FaceTime HD Camera (Built-in), apple\_vendor\_id, 0x8509,
&gt;&gt;&gt; 0xfa200000 / 3
&gt;&gt;&gt; USB Device: hub\_device, 0x0424 (SMSC), 0x2513, 0xfa100000 / 2
&gt;&gt;&gt; USB Device: BRCM2070 Hub, 0x0a5c (Broadcom Corp.), 0x4500, 0xfa110000 /
&gt;&gt;&gt; 5
&gt;&gt;&gt; USB Device: Bluetooth USB Host Controller, apple\_vendor\_id, 0x821a,
&gt;&gt;&gt; 0xfa113000 / 8
&gt;&gt;&gt; USB Device: Apple Internal Keyboard / Trackpad, apple\_vendor\_id,
&gt;&gt;&gt; 0x0252, 0xfa120000 / 4
&gt;&gt;&gt; USB Device: hub\_device, 0x0424 (SMSC), 0x2513, 0xfd100000 / 2
&gt;&gt;&gt; USB Device: IR Receiver, apple\_vendor\_id, 0x8242, 0xfd110000 / 3
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Any idea what is wrong ?
&gt;&gt;&gt;
&gt;&gt;&gt; Arun
&gt;&gt;&gt;
&gt;&gt;&gt; --
&gt;&gt;&gt; Java EE 7 Essentials: http://shop.oreilly.com/product/0636920030614.do
&gt;&gt;&gt; Java EE 6 Pocket Guide from OReilly:
&gt;&gt;&gt; http://shop.oreilly.com/product/0636920026464.do
&gt;&gt;&gt;
&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;
&gt;



-- 
Java EE 7 Essentials: http://shop.oreilly.com/product/0636920030614.do
Java EE 6 Pocket Guide from OReilly:
http://shop.oreilly.com/product/0636920026464.do

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

