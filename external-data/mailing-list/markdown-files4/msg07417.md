---
title: "fetch all data after index query"
description: ""
project: community
lastmod: 2012-05-10T05:51:31-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07417"
author_name: "Alexey Loshkarev"
project_section: "mailinglistitem"
sent_date: 2012-05-10T05:51:31-07:00
---


Hello.
I'm novice in Riak, so my question may be stupid :)

I'm using riak to store access.log data. I created secondary index on log date.
Then I want to use it in my django-application.

I'm using official riak-python client
(http://basho.github.com/riak-python-client/) to access data.

One of the usecases - display logs for specified date (or date range).

My code:

[r.get().get\_data() for r in
riak.mapreduce.RiakMapReduce(client).add('logs.api').index('logs.api',
'date\_bin', '20120508134300').run()]

But it send get-request for every entry after run(). So, if I have 100
rows after run(), python would do 100 GET-requests.

How to avoid it?

Am I missed some arguments to index/run function?
Or can I get multiple items with one query?

Thanks


-- 
----------------
Best regards
Alexey Loshkarev
mailto:elf2...@gmail.com

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

