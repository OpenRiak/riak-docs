---
title: "RE: Bitcask merge"
description: ""
project: community
lastmod: 2011-08-26T01:16:21-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04469"
mailinglist_parent_id: "msg04468"
author_name: "Nathan Wilken"
project_section: "mailinglistitem"
sent_date: 2011-08-26T01:16:21-07:00
---


Can you send a list of the \*.data files and their sizes?


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
From: riak-users-boun...@lists.basho.com [riak-users-boun...@lists.basho.com] 
On Behalf Of raghwani sohil [sohil4...@gmail.com]
Sent: Thursday, August 25, 2011 11:07 PM
To: Aphyr
Cc: riak-users@lists.basho.com
Subject: Re: Bitcask merge

Hi Aphyr,

I have changed my app.config file i.e i have added this lines

{riak\_kv\_bitcask\_backend, [
 {max\_file\_size, 314572800},
 {small\_file\_threshold, 335544320}
 ]}

but still riak merging process is not running .

On Fri, Aug 26, 2011 at 12:56 AM, Aphyr 
&gt; wrote:
Have you checked that your bitcask maximum file size is small enough? Bitcask 
will only merge \*inactive\* files, so if your active file limit is 500MB and 
your active file is 320, you won't merge.

--Kyle


On 08/25/2011 06:43 AM, raghwani sohil wrote:
I have deleted all the keys from all buckets manually and \*before
deleting \*the\*\*keys the size of \*bitcask

\*directory was \*64 GB \*and after deleting it is showing me the same i.e

\*6.4 GB\*.

So to run bitcask merging process i have added this line

 {riak\_kv\_bitcask\_backend, [
 {small\_file\_threshold, 335544320}
 ]}


in my app.config . I have added this line because size of all data file
in bitcask directory are ( &lt; 320 MB ) .

but bitcask merging process is not running . Is there any solution to
run bitcask merge process so that i can reduce size of my bitcask
directory ??




\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

