---
title: "Re: RiakCS invalid module: nofile"
description: ""
project: community
lastmod: 2013-07-19T14:26:06-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11643"
mailinglist_parent_id: "msg11636"
author_name: "Kelly McLaughlin"
project_section: "mailinglistitem"
sent_date: 2013-07-19T14:26:06-07:00
---


Dimitri,

It looks like you do not have Riak properly configured for use with RiakCS.
Specifically the it looks like add\_paths setting is missing or incorrect.
You can find more info on the specifics of configuring Riak for RiakCS
here:
http://docs.basho.com/riakcs/latest/cookbooks/configuration/Configuring-Riak/.
Hope that helps.

Kelly


On Fri, Jul 19, 2013 at 11:10 AM, Dimitri Aivaliotis wrote:

&gt; Hi,
&gt;
&gt; I'm kicking the tires on a RiakCS-on-SmartOS install, and noticed the
&gt; following message in riak-cs's console.log at cloud storage
&gt; calculation time:
&gt;
&gt; 2013-07-19 06:00:00.936 UTC [error] &lt;0.32509.27&gt; gen\_fsm
&gt; riak\_cs\_storage\_d in state calculating terminated with reason:
&gt; {json\_encode,{bad\_term,{error,&lt;&lt;"Phase {xform\_map,0}: invalid module
&gt; named in PhaseSpec function:\n must be a valid module name (failed to
&gt; load riak\_cs\_storage: nofile)"&gt;&gt;}}}
&gt; 2013-07-19 06:00:00.938 UTC [error] &lt;0.32509.27&gt; CRASH REPORT Process
&gt; riak\_cs\_storage\_d with 1 neighbours exited with reason:
&gt; {json\_encode,{bad\_term,{error,&lt;&lt;"Phase {xform\_map,0}: invalid module
&gt; named in PhaseSpec function:\n must be a valid module name (failed to
&gt; load riak\_cs\_storage: nofile)"&gt;&gt;}}} in gen\_fsm:terminate/7 line 611
&gt; 2013-07-19 06:00:00.940 UTC [error] &lt;0.125.0&gt; Supervisor riak\_cs\_sup
&gt; had child riak\_cs\_storage\_d started with
&gt; riak\_cs\_storage\_d:start\_link() at &lt;0.32509.27&gt; exit with reason
&gt; {json\_encode,{bad\_term,{error,&lt;&lt;"Phase {xform\_map,0}: invalid module
&gt; named in PhaseSpec function:\n must be a valid module name (failed to
&gt; load riak\_cs\_storage: nofile)"&gt;&gt;}}} in context child\_terminated
&gt;
&gt; Predictably, the storage statistics are empty.
&gt;
&gt;
&gt; I also get the same error when doing an 'ls' with s3cmd:
&gt;
&gt; 2013-07-19 10:42:01.848 UTC [error] &lt;0.24146.40&gt; gen\_fsm &lt;0.24146.40&gt;
&gt; in state waiting\_map\_reduce terminated with reason: &lt;&lt;"Phase
&gt; {xform\_map,0}: invalid module named in PhaseSpec function:\n must be a
&gt; valid module name (failed to load riak\_cs\_utils: nofile)"&gt;&gt;
&gt; 2013-07-19 10:42:01.854 UTC [error] &lt;0.24146.40&gt; CRASH REPORT Process
&gt; &lt;0.24146.40&gt; with 1 neighbours exited with reason: &lt;&lt;"Phase
&gt; {xform\_map,0}: invalid module named in PhaseSpec function:\n must be a
&gt; valid module name (failed to load riak\_cs\_utils: nofile)"&gt;&gt; in
&gt; gen\_fsm:terminate/7 line 611
&gt;
&gt;
&gt; I looked through the riak-cs packages, but found no 'nofile.beam' - is
&gt; there supposed to be one?
&gt;
&gt; Thanks for any help.
&gt;
&gt; - Dimitri
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

