---
title: "Re: node data migration"
description: ""
project: community
lastmod: 2010-05-04T14:12:52-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00253"
mailinglist_parent_id: "msg00250"
author_name: "Matthew Pflueger"
project_section: "mailinglistitem"
sent_date: 2010-05-04T14:12:52-07:00
---


Maybe I'm missing something but the riak-admin script does not support
the leave command...

--Matthew



On Tue, May 4, 2010 at 17:05, Sean Cribbs  wrote:
&gt; Also, if you're certain you want it to relinquish its data before shutting 
&gt; down, use 'riak-admin leave'.  It will then proceed to handoff all of its 
&gt; keys to other nodes and then cleanly shut down.  With 1GB of data this could 
&gt; take a while, however.
&gt;
&gt; Sean Cribbs 
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; http://basho.com/
&gt;
&gt; On May 4, 2010, at 4:02 PM, Matthew Pflueger wrote:
&gt;
&gt;&gt; Scenario:  I need to upgrade the OS of my nodes in my cluster which
&gt;&gt; will result in a reboot of each node.  What would be the process to
&gt;&gt; nicely migrate data away from each node?
&gt;&gt;
&gt;&gt; If my understanding is correct, performing a nice shutdown of a riak
&gt;&gt; node via `riak stop` will migrate the data away from the node.  Am I
&gt;&gt; correct?  If so, approximately how long would it take to do the
&gt;&gt; migration if say each node represents 1 gig of data?  Does that whole
&gt;&gt; gig get migrated away or only the data that is not replicated?
&gt;&gt;
&gt;&gt;
&gt;&gt; --Matthew
&gt;&gt;
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

