---
title: "Re: Secondary indexes in ruby (using riak-ruby-client)"
description: ""
project: community
lastmod: 2013-09-17T23:52:47-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12292"
mailinglist_parent_id: "msg12289"
author_name: "Charl Matthee"
project_section: "mailinglistitem"
sent_date: 2013-09-17T23:52:47-07:00
---


Hi,

On 17 September 2013 23:43, Wagner Camarao  wrote:

&gt; bucket.get\_index 'bars\_bin', 'foo'
&gt;
&gt; But am failing with:
&gt;
&gt; Zlib::DataError: incorrect header check
&gt; from
&gt; /Users/wagner/.rbenv/versions/2.0.0-p195/lib/ruby/2.0.0/net/http/response.rb:357:in
&gt; `finish'

I think the Zlib error is obscuring what's really happening in the background.

What backend are you using?

If it is bitcask then this will not work and you need to switch to one
that supports 2I, like levelDB:

https://github.com/basho/riak-ruby-client/wiki/Secondary-Indexes#how-secondary-indexes-aka-2i-work


-- 
Ciao

Charl

"I will either find a way, or make one." -- Hannibal

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

