---
title: "Re: Connection Pooling with the python-riak-client"
description: ""
project: community
lastmod: 2012-01-20T16:28:27-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06344"
mailinglist_parent_id: "msg06343"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2012-01-20T16:28:27-08:00
---


Shuhao and Michael,

I'm sorry I don't know the answer to your question, but please do not be
discouraged! We (Basho engineering) are committed to bring the Python
client up to speed within Q1 of this year, especially to make it have
feature-parity with the official Java and Ruby clients. We are aware of a
number of differences between the official repository and its forks and
will be working to resolve those issues soon. We will also be instituting a
release process that keeps these client libraries in sync.

As is the case with any of our open-source projects, if the feature or
bugfix you need is not there, we encourage you to fork the project and send
a pull-request on Github with your changes. We will review it as soon as we
can. Thank you for your patience!

On Fri, Jan 20, 2012 at 4:57 PM, Shuhao Wu  wrote:

&gt; I'm not the people who are building this but I just want to comment on the
&gt; subject. Riak-python-client is not being updated very frequently.. So I
&gt; think your best shot right now is fork it as you wish and take a look at
&gt; some other forks people have made and see what new things/fixes they have
&gt; included rather than basing yourself against basho's tree.
&gt;
&gt; Though, that may diverge the code significantly.. but it's the matter of
&gt; if you really need that feature right this second or not.
&gt;
&gt; Shuhao
&gt;
&gt;
&gt; On Fri, Jan 20, 2012 at 3:53 PM, Michael Clemmons  &gt; wrote:
&gt;
&gt;&gt; Hey All,
&gt;&gt; FIrst time on the list, so go easy. I've been working with the
&gt;&gt; python-riak-client for a while and one of the biggest blockers has been its
&gt;&gt; lack of connection pooling. Until recently the fork maintained at
&gt;&gt; https://github.com/bretthoerner/riak-python-client has been sufficient
&gt;&gt; for my needs. I'd been merging it in with the master branch privately up
&gt;&gt; until December.
&gt;&gt; I've decided to go back and cleanup that approach and reapply it to the
&gt;&gt; current master branch. To my surprise I found that the ConnectionManager
&gt;&gt; supports multiple connections and has the tools to add and remove them.
&gt;&gt; Looking at the simple case of the RiakHttpTransport layer and the
&gt;&gt; http\_request method it looks like it should grab a new connection(or an old
&gt;&gt; one) and try it and if it fails move on to the next putting the host port
&gt;&gt; pair at the bottom of the list.
&gt;&gt; So it looked like all I needed to do was update the client code to accept
&gt;&gt; a list of hostport pairs and it would just work, which sounded too easy to
&gt;&gt; be true. I tested it anyways and if I use one hostport that is a working
&gt;&gt; riak node it connects and everything works. If I include 2 nodes one
&gt;&gt; working and one a random port it fails no matter the order. So its not
&gt;&gt; just trying to connect to the first and failing its connecting to them all
&gt;&gt; and failing if any fail.
&gt;&gt; Anyone have any idea of why its built this way and what other solutions
&gt;&gt; people have worked out on their own? My intent is to do this so it merges
&gt;&gt; cleanly with the current master, and doesn't introduce unnecessary change,
&gt;&gt; to increase the likelyhood of a successful pull request.
&gt;&gt; -Michael
&gt;&gt;
&gt;&gt;
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;


-- 
Sean Cribbs 
Software Engineer
Basho Technologies, Inc.
http://basho.com/
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

