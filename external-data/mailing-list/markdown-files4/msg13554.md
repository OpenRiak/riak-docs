---
title: "Node online and cannot run riak-admin test"
description: ""
project: community
lastmod: 2014-01-31T01:50:39-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13554"
author_name: "jose"
project_section: "mailinglistitem"
sent_date: 2014-01-31T01:50:39-08:00
---


i have create a 1 node at virtualbox with ubuntu 12.04 with 512mb ram, with
bridge conection. i have installed riak 1.4.7 from source files. when i
have installed run this commands to check health riak node:
virtualbox machine ip: 192.168.0.200
port pbc: 9999

@ubuntu:~$ riak-admin test
Failed to read test value: {error,{insufficient\_vnodes,0,need,1}}


-------
app.config
{pb\_ip, [ {"192.168.0.200", 9999 } ]}
 {http, [ {"192.168.0.200", 8098 } ]},

---------

-------------------
ubuntu@ubuntu:~$ riak-admin member\_status
================================= Membership
==================================
Status Ring Pending Node
-------------------------------------------------------------------------------
valid 100.0% -- 'riak@192.168.0.200'
-------------------------------------------------------------------------------
Valid:1 / Leaving:0 / Exiting:0 / Joining:0 / Down:0
------------------

ubuntu@ubuntu:~$ riak-admin ring\_status
================================== Claimant
===================================
Claimant: 'riak@192.168.0.200'
Status: up
Ring Ready: true

============================== Ownership Handoff
==============================
No pending changes.

============================== Unreachable Nodes
==============================
All nodes are up and reachable
---------------------

--------
ubuntu@ubuntu:~$ telnet 192.168.0.200 9999
Trying 192.168.0.200...
telnet: Unable to connect to remote host: Connection refused
----------

ubuntu@ubuntu:~$ telnet 192.168.0.200 8098
Trying 192.168.0.200...
Connected to 192.168.0.200.
Escape character is '^]'.
-------------------

ubuntu@ubuntu:~$ riak ping
pong
-------



----------
ubuntu@ubuntu:~$ curl -v http://192.168.0.200:8098/riak/test
\* About to connect() to 192.168.0.200 port 8098 (#0)
\* Trying 192.168.0.200... connected
&gt; GET /riak/test HTTP/1.1
&gt; User-Agent: curl/7.22.0 (i686-pc-linux-gnu) libcurl/7.22.0 OpenSSL/1.0.1
zlib/1.2.3.4 libidn/1.23 librtmp/2.3
&gt; Host: 192.168.0.200:8098
&gt; Accept: \*/\*
&gt;
&lt; HTTP/1.1 200 OK
&lt; Vary: Accept-Encoding
&lt; Server: MochiWeb/1.1 WebMachine/1.10.0 (never breaks eye contact)
&lt; Date: Fri, 31 Jan 2014 09:22:19 GMT
&lt; Content-Type: application/json
&lt; Content-Length: 422
&lt;
\* Connection #0 to host 192.168.0.200 left intact
\* Closing connection #0
{"props":{"name":"test","allow\_mult":false,"basic\_quorum":false,"big\_vclock":50,"chash\_keyfun":{"mod":"riak\_core\_util","fun":"chash\_std\_keyfun"},"dw":"quorum","last\_write\_wins":false,"linkfun":{"mod":"riak\_kv\_wm\_link\_walker","fun":"mapreduce\_linkfun"},"n\_val":3,"notfound\_ok":true,"old\_vclock":86400,"postcommit":[],"pr":0,"precommit":[],"pw":0,"r":"quorum","rw":"quorum","small\_vclock":50,"w":"quorum","young\_vclock":20}}ubuntu@ubuntu
:~$
-----
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

