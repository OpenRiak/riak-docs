---
title: "How to make Riak work faster (writing)"
description: ""
project: community
lastmod: 2012-11-01T21:28:17-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09151"
author_name: "Uruka Dark"
project_section: "mailinglistitem"
sent_date: 2012-11-01T21:28:17-07:00
---


Hi,

I'm new here and with Riak. If I do something wrong, please, let me know.

I've made a Riak cluster with two identical machines: Intel core i3 2.3GHz
4GB RAM 1TB HD. They are connected by a gigabit ethernet network.
Everything is working fine. I'm using a Bitcask backend.

I've made a PHP script to do a performance test and find out how fast Riak
can be with these settings. What my script is doing is: to store 10000
objects with a 10K long data (string of 10240 x 'A'), and calculating how
many objects it stores per second.

Right now, using Bitcask backend, it can store roughly 68 objects per
second. It seems to be a small number to me, but I don't know too much
about Riak. I've tested the same script on a Couchbase cluster, with the
same settings, and it could store roughly 1000 objects per second.
Obviously, on Couchbase test, the data is not sent to non-volatile media
immediately. Data is kept in memory to acknowledge the reception as fast as
possible, and is sent to non-volatile media in background. I want Riak to
behave the same way to increase the "writing speed", but I don't know how
to do it or if it is possible. May be I'm trying to do something completely
out of the purpose of Riak.

I've tested Riak with Memory backend too, but it achieved only 72 objects
per second. I expected it to work faster with Memory backend, cause there
is no disk activity involved on it, but the final result is not that high.

Again, I don't know if I'm trying to do something inappropriate. I think
I'm missing something.
Is there any way to do it?

If I could not make myself clear, please, let me know.
Thank you.
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

