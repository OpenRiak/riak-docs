---
title: "Re: ring_creation_size and Innostore"
description: ""
project: community
lastmod: 2010-06-08T08:09:14-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00527"
mailinglist_parent_id: "msg00525"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2010-06-08T08:09:14-07:00
---


How many nodes are in your cluster? (We recommend 10-50 partitions per node) 
There is a case where innostore needs to do repair on its tables during 
startup; if this takes too long, the startup will fail.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On Jun 8, 2010, at 10:12 AM, Germain Maurice wrote:

&gt; I have a problem with setting the ring\_creation\_size over Innostore.
&gt; The default value is 64 but when i set ring\_creation\_size to 1024, 512, or 
&gt; 256 i always get this following error, except to "128" value. I deleted 
&gt; /riak/ring/\* and /riak/innodb/\* each time i changed the value.
&gt; 
&gt; Why i can't get more than 128 partitions ?
&gt; 
&gt; Regards,
&gt; Germain
&gt; 
&gt; ===============
&gt; InnoDB: Doublewrite buffer not found: creating new
&gt; InnoDB: Doublewrite buffer created
&gt; InnoDB: Creating foreign key constraint system tables
&gt; InnoDB: Foreign key constraint system tables created
&gt; 100608 15:55:03 Embedded InnoDB 1.0.6.6750 started; log sequence number 0
&gt; Innostore: Could not create port [lock=0xb45b8398, cv=0xb45b83e0]
&gt; 
&gt; =ERROR REPORT==== 8-Jun-2010::15:55:03 ===
&gt; \*\* Generic server riak\_kv\_vnode\_master terminating
&gt; \*\* Last message in was {'$gen\_cast',
&gt; {start\_vnode,
&gt; 
&gt; 1273104941893716213903991084748949661653409988608}}
&gt; \*\* When Server state == {state,12307,[]}
&gt; \*\* Reason for termination ==
&gt; \*\* {{badmatch,{error,{enomem,[{erlang,open\_port,
&gt; [{spawn,innostore\_drv},[binary]]},
&gt; {innostore,connect,0},
&gt; {innostore\_riak,start,2},
&gt; {riak\_kv\_vnode,init,1},
&gt; {gen\_fsm,init\_it,6},
&gt; {proc\_lib,init\_p\_do\_apply,3}]}}},
&gt; [{riak\_kv\_vnode\_master,get\_vnode,2},
&gt; {riak\_kv\_vnode\_master,handle\_cast,2},
&gt; {gen\_server,handle\_msg,5},
&gt; {proc\_lib,init\_p\_do\_apply,3}]}
&gt; 
&gt; 
&gt; 
&gt; 
&gt; -- 
&gt; Germain Maurice
&gt; Administrateur Système/Réseau
&gt; Tel : +33.(0)1.42.43.54.33
&gt; 
&gt; http://www.linkfluence.net
&gt; 
&gt; 
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

