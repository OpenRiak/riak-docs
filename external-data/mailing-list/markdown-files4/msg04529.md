---
title: "Re: innostore performance tuning"
description: ""
project: community
lastmod: 2011-08-30T16:31:42-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04529"
mailinglist_parent_id: "msg04517"
author_name: "David Koblas"
project_section: "mailinglistitem"
sent_date: 2011-08-30T16:31:42-07:00
---



Scott

Didn't try that - though it looks like the {format, direct} is the 
biggest win in terms of performance.


I've also switched over to using LevelDB for the insert test, which I've 
got running at about 3200tps, which is a huge improvement! Though at 
one point I think I saw comparable performance with innodb after I tuned 
the storage format, but stopped that test before I had definitive 
information.


The one issue that I see with LevelDB in a big insert job like this is 
file descriptors, I've currently got about 9,000 files open on the 
machine, I'm guessing that I'll run out of file descriptors before the 
load is done. Is there a configuration parameter to change the size of 
the SST files before they're rolled?


--david

On 8/30/11 11:20 AM, Scott Lystig Fritchie wrote:

David Koblas wrote:

dk&gt; \* innostore section - {flush\_method, "O\_DIRECT"}

David, what happens when you remove that option and allow the default to
be used?

-Scott


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

