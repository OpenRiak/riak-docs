---
title: "Re: Riak CS need for 5 servers?"
description: ""
project: community
lastmod: 2015-04-03T11:25:50-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15965"
mailinglist_parent_id: "msg15963"
author_name: "Shankar Dhanasekaran"
project_section: "mailinglistitem"
sent_date: 2015-04-03T11:25:50-07:00
---


Thanks Chris for your answer. I still don't comprehend what is meant by

&gt; this is the minimum amount of nodes needed to ensure all copies of each
&gt; object are stored on different physical nodes. [2]


Why can't a 3 node cluster store the data in each of them? I am reading the
little riak book as well but still I don't understand what is the magic
value of 5?





On Fri, Apr 3, 2015 at 11:42 PM, Christopher Meiklejohn &lt;
cmeiklej...@basho.com&gt; wrote:

&gt;
&gt; &gt; On Apr 3, 2015, at 10:38 AM, Shankar Dhanasekaran 
&gt; wrote:
&gt; &gt;
&gt; &gt; hi,
&gt; &gt; For the organization that I am working for, it seems like 25tb of
&gt; storage is needed. Reading riak docs, it's mentioned that at least 5
&gt; servers should be put in place.
&gt; &gt;
&gt; &gt; what is the harm in having only 2 riak nodes? will this reduce
&gt; performance? or cause loss of data? Since Riak is masterless, either one of
&gt; the server will have the data at any point of time.
&gt;
&gt; If you have only two nodes and you incur one failure, you will no longer
&gt; be able to write to a majority quorum [1], which means that a subsequent
&gt; failure will result in potential unrecoverable data loss. This is why the
&gt; official recommendation used to be 3 nodes.
&gt;
&gt; Weâ€™ve changed that to 5 nodes because this is the minimum amount of nodes
&gt; needed to ensure all copies of each object are stored on different physical
&gt; nodes. [2]
&gt;
&gt; - Chris
&gt;
&gt; [1] This assumes a default configuration with n\_val = 3.
&gt; [2] The partition / cluster claim algorithm attempts to ensure that all
&gt; preference lists are on a disjoint set of nodes.
&gt;
&gt; Christopher Meiklejohn
&gt; Senior Software Engineer
&gt; Basho Technologies, Inc.
&gt; cmeiklej...@basho.com
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

