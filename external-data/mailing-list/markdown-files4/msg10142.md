---
title: "Re: best practices to work with buckets in java-client"
description: ""
project: community
lastmod: 2013-02-15T23:57:13-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10142"
mailinglist_parent_id: "msg10141"
author_name: "Brian Roach"
project_section: "mailinglistitem"
sent_date: 2013-02-15T23:57:13-08:00
---


You only ever need to use client.createBucket() if you want to change
the bucket properties from the defaults.

This is due to the way Riak works; a put or fetch operation that uses
a bucket that doesn't exist will create that bucket with the default
bucket properties.

To be clear, if you do:

Bucket b = client.fetchBucket("Some\_bucket").execute();

That bucket did not have to exist beforehand. It will be created with
the default properties.

- Roach

On Fri, Feb 15, 2013 at 11:53 PM, Deepak Balasubramanyam
 wrote:
&gt;&gt; Can I create it once (on application's start) and store somewhere (like
&gt;&gt; static field for example)
&gt;
&gt;
&gt; Yes you can. There is no need to create the bucket every time the
&gt; application starts. The client.fetchBucket() call will get the bucket
&gt; successfully on subsequent runs.
&gt;
&gt; Thanks
&gt; -Deepak
&gt;
&gt; On Sat, Feb 16, 2013 at 5:00 AM, Guido Medina 
&gt; wrote:
&gt;&gt;
&gt;&gt; I would say it is totally safe to treat them as singleton (static
&gt;&gt; reference or just singleton pattern), we have been doing that for a year
&gt;&gt; with no issues so far.
&gt;&gt;
&gt;&gt; Hope that helps,
&gt;&gt;
&gt;&gt; Guido.
&gt;&gt;
&gt;&gt;
&gt;&gt; On 15/02/13 22:07, Mikhail Tyamin wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; Hello guys,
&gt;&gt;&gt;
&gt;&gt;&gt; what is the best way to work with Bucket object in java-client?
&gt;&gt;&gt;
&gt;&gt;&gt; Can I create it once (on application's start) and store somewhere (like
&gt;&gt;&gt; static field for example)
&gt;&gt;&gt; or I should create it ( riakClient.createBucket("bucketName") ) once and
&gt;&gt;&gt; then fetch it ( riakClient.fetchBucket("bucketName") )
&gt;&gt;&gt; every time using riakClient when I need it?
&gt;&gt;&gt;
&gt;&gt;&gt; P.S. I am going to use the same bucket's properties (nVal, allowSiblings
&gt;&gt;&gt; and etc.) during all life of application.
&gt;&gt;&gt;
&gt;&gt;&gt; Thank you.
&gt;&gt;&gt;
&gt;&gt;&gt; Mikhail.
&gt;&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

