---
title: "Re: Out of memory: kill process 8713 (beam.smp)"
description: ""
project: community
lastmod: 2010-06-24T05:32:09-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00650"
mailinglist_parent_id: "msg00648"
author_name: "Germain Maurice"
project_section: "mailinglistitem"
sent_date: 2010-06-24T05:32:09-07:00
---



Dan,

I switched back to Bitcask, i have a n\_value = 2 bucket over two nodes 
(each node has 3GB RAM)


i requested :
curl "http://10.0.0.40:8098/riak/test?keys=stream"
and i got this error
[...]"81902","50339","592","56815","55290","8857","251curl: (18) 
transfer closed with outstanding read data remaining

54","12321","17879","39060","48516","79056","72858","17509","15484","14623","61998","96868","55237","8196",
"68830","39850","44175","68814","18970","12112","15228","67859","24275","61334","67503","86341","75438","68686",
"45040","10442","20863","22342","68666","86289","12816","22693","4919","90026","69932","24564","19181","50704",
"59385","95929","34755","97493","7987","82073","70540","89454","44260","53609"]}

The riak process "riak console" died.

Have a look to the dmesg.txt attached with the message.
Can you certify me there is not enough RAM for riak ?



Le 24/06/10 10:28, Germain Maurice a écrit :

Dan,

I don't know exactly when the errors occured because there are no 
timestamps :(
I'm sure that's during a basho\_bench test (no map-reduce was 
launched). I see these errors on the all nodes of my cluster.
However, the riak nodes kept running, now i'm using riak 0.11.0 with 
innostore, previously i led some tests with bitcask. I believe that's 
during i was using Bitcask the errors occured.
Each node has 3GB memory installed, i assume this could be a bit 
small, but why a crash ?!


Thank you for the links, i just got a glance on them.


Le 23/06/10 19:37, Dan Reverri a écrit :

Hi Germain,

I'm sorry if I've missed any background information that may have 
been provided earlier but can you tell me the scenario that led up to 
these errors? Are you running a load test against a cluster? Are you 
seeing these out of memory errors in one of your nodes? How much 
memory does the machine running the node have? What type of load is 
being placed on the node (get, put, map reduce, etc.)?


If you are using the Bitcask backend, which is default in the latest 
release, you should be aware that all keys held on the node must fit 
in memory (this does NOT include the values, just the keys). Here is 
a related discussion from IRC:

http://gist.github.com/438065

Also worth reviewing is this discussion from the mailing list:
http://riak.markmail.org/search/?q=bitcask%20key%20memory#query:bitcask%20key%20memory+page:1+mid:2rreshpri7laq57h+state:results

Thank you,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com 


On Wed, Jun 23, 2010 at 12:24 PM, Germain Maurice 
&gt; wrote:


 I'm still disturbing you with errors...

 I just discovered some errors and i would like to know if it's
 normal...
 You can see the errors in the attached file.


 -- 
 Germain Maurice

 Administrateur Système/Réseau
 Tel : +33.(0)1.42.43.54.33

 http://www.linkfluence.net


 \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
 riak-users mailing list
 riak-users@lists.basho.com 
 http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com





--
Germain Maurice
Administrateur Système/Réseau
Tel : +33.(0)1.42.43.54.33

http://www.linkfluence.net


\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com




--
Germain Maurice
Administrateur Système/Réseau
Tel : +33.(0)1.42.43.54.33

http://www.linkfluence.net

[1300099.070113] \_\_ratelimit: 580 callbacks suppressed
[1300099.070117] beam.smp invoked oom-killer: gfp\_mask=0x201da, order=0, 
oomkilladj=0
[1300099.070121] beam.smp cpuset=/ mems\_allowed=0
[1300099.070124] Pid: 7382, comm: beam.smp Not tainted 2.6.31-22-server 
#60-Ubuntu
[1300099.070127] Call Trace:
[1300099.070137] [] ? 
cpuset\_print\_task\_mems\_allowed+0x98/0xa0
[1300099.070143] [] oom\_kill\_process+0xce/0x280
[1300099.070146] [] ? select\_bad\_process+0xea/0x120
[1300099.070150] [] \_\_out\_of\_memory+0x50/0xb0
[1300099.070153] [] out\_of\_memory+0x126/0x1a0
[1300099.070158] [] ? \_spin\_lock+0x9/0x10
[1300099.070162] [] \_\_alloc\_pages\_slowpath+0x4f1/0x560
[1300099.070166] [] \_\_alloc\_pages\_nodemask+0x12c/0x130
[1300099.070170] [] alloc\_pages\_current+0x82/0xd0
[1300099.070174] [] \_\_page\_cache\_alloc+0x5f/0x70
[1300099.070179] [] ? \_\_switch\_to+0x114/0x370
[1300099.070183] [] \_\_do\_page\_cache\_readahead+0xc1/0x160
[1300099.070187] [] ra\_submit+0x1c/0x20
[1300099.070190] [] ondemand\_readahead+0x115/0x240
[1300099.070194] [] ? finish\_task\_switch+0x65/0x120
[1300099.070198] [] page\_cache\_sync\_readahead+0x1d/0x20
[1300099.070201] [] T.769+0x29e/0x420
[1300099.070204] [] generic\_file\_aio\_read+0xb6/0x1d0
[1300099.070208] [] ? unqueue\_me+0x5c/0xa0
[1300099.070213] [] do\_sync\_read+0xf2/0x130
[1300099.070217] [] ? autoremove\_wake\_function+0x0/0x40
[1300099.070222] [] ? security\_file\_permission+0x11/0x20
[1300099.070226] [] vfs\_read+0xb5/0x1a0
[1300099.070229] [] ? do\_page\_fault+0x18f/0x360
[1300099.070232] [] sys\_read+0x4c/0x80
[1300099.070236] [] system\_call\_fastpath+0x16/0x1b
[1300099.070239] Mem-Info:
[1300099.070240] Node 0 DMA per-cpu:
[1300099.070243] CPU 0: hi: 0, btch: 1 usd: 0
[1300099.070246] CPU 1: hi: 0, btch: 1 usd: 0
[1300099.070247] Node 0 DMA32 per-cpu:
[1300099.070250] CPU 0: hi: 186, btch: 31 usd: 184
[1300099.070252] CPU 1: hi: 186, btch: 31 usd: 178
[1300099.070256] Active\_anon:592902 active\_file:63 inactive\_anon:148593
[1300099.070258] inactive\_file:44 unevictable:0 dirty:0 writeback:0 unstable:0
[1300099.070259] free:4773 slab:4492 mapped:2 pagetables:2898 bounce:0
[1300099.070261] Node 0 DMA free:12084kB min:32kB low:40kB high:48kB 
active\_anon:1828kB inactive\_anon:1924kB active\_file:8kB inactive\_file:0kB 
unevictable:0kB present:15344kB pages\_scanned:0 all\_unreclaimable? no
[1300099.070267] lowmem\_reserve[]: 0 3013 3013 3013
[1300099.070272] Node 0 DMA32 free:7008kB min:7008kB low:8760kB high:10512kB 
active\_anon:2369780kB inactive\_anon:592448kB active\_file:244kB 
inactive\_file:176kB unevictable:0kB present:3086212kB pages\_scanned:536 
all\_unreclaimable? no
[1300099.070278] lowmem\_reserve[]: 0 0 0 0
[1300099.070282] Node 0 DMA: 3\*4kB 3\*8kB 1\*16kB 2\*32kB 1\*64kB 1\*128kB 2\*256kB 
2\*512kB 2\*1024kB 2\*2048kB 1\*4096kB = 12084kB
[1300099.070293] Node 0 DMA32: 780\*4kB 12\*8kB 17\*16kB 24\*32kB 21\*64kB 5\*128kB 
1\*256kB 1\*512kB 0\*1024kB 0\*2048kB 0\*4096kB = 7008kB
[1300099.070303] 1049 total pagecache pages
[1300099.070305] 957 pages in swap cache
[1300099.070307] Swap cache stats: add 3537598, delete 3536641, find 
1063860/1461830
[1300099.070309] Free swap = 0kB
[1300099.070310] Total swap = 979956kB
[1300099.080883] 786344 pages RAM
[1300099.080885] 13519 pages reserved
[1300099.080887] 141 pages shared
[1300099.080888] 767469 pages non-shared
[1300099.080892] Out of memory: kill process 7384 (beam.smp) score 1272996 or a 
child
[1300099.080952] Killed process 7387 (sh)
[1300101.130067] beam.smp invoked oom-killer: gfp\_mask=0x201da, order=0, 
oomkilladj=0
[1300101.130073] beam.smp cpuset=/ mems\_allowed=0
[1300101.130076] Pid: 7383, comm: beam.smp Not tainted 2.6.31-22-server 
#60-Ubuntu
[1300101.130079] Call Trace:
[1300101.130090] [] ? 
cpuset\_print\_task\_mems\_allowed+0x98/0xa0
[1300101.130095] [] oom\_kill\_process+0xce/0x280
[1300101.130099] [] ? select\_bad\_process+0xea/0x120
[1300101.130102] [] \_\_out\_of\_memory+0x50/0xb0
[1300101.130106] [] out\_of\_memory+0x126/0x1a0
[1300101.130111] [] ? \_spin\_lock+0x9/0x10
[1300101.130115] [] \_\_alloc\_pages\_slowpath+0x4f1/0x560
[1300101.130118] [] \_\_alloc\_pages\_nodemask+0x12c/0x130
[1300101.130123] [] alloc\_pages\_current+0x82/0xd0
[1300101.130127] [] \_\_page\_cache\_alloc+0x5f/0x70
[1300101.130130] [] \_\_do\_page\_cache\_readahead+0xc1/0x160
[1300101.130134] [] ra\_submit+0x1c/0x20
[1300101.130137] [] do\_sync\_mmap\_readahead+0x9b/0xd0
[1300101.130140] [] filemap\_fault+0x304/0x3b0
[1300101.130144] [] \_\_do\_fault+0x4f/0x4e0
[1300101.130147] [] handle\_mm\_fault+0x1a7/0x3c0
[1300101.130152] [] ? default\_spin\_lock\_flags+0x9/0x10
[1300101.130156] [] do\_page\_fault+0x165/0x360
[1300101.130159] [] page\_fault+0x25/0x30
[1300101.130162] Mem-Info:
[1300101.130163] Node 0 DMA per-cpu:
[1300101.130166] CPU 0: hi: 0, btch: 1 usd: 0
[1300101.130169] CPU 1: hi: 0, btch: 1 usd: 0
[1300101.130170] Node 0 DMA32 per-cpu:
[1300101.130173] CPU 0: hi: 186, btch: 31 usd: 102
[1300101.130175] CPU 1: hi: 186, btch: 31 usd: 162
[1300101.130180] Active\_anon:592994 active\_file:34 inactive\_anon:148621
[1300101.130181] inactive\_file:40 unevictable:0 dirty:0 writeback:0 unstable:0
[1300101.130182] free:4762 slab:4471 mapped:3 pagetables:2891 bounce:0
[1300101.130184] Node 0 DMA free:12084kB min:32kB low:40kB high:48kB 
active\_anon:1832kB inactive\_anon:1924kB active\_file:12kB inactive\_file:0kB 
unevictable:0kB present:15344kB pages\_scanned:0 all\_unreclaimable? no
[1300101.130190] lowmem\_reserve[]: 0 3013 3013 3013
[1300101.130195] Node 0 DMA32 free:6964kB min:7008kB low:8760kB high:10512kB 
active\_anon:2370144kB inactive\_anon:592560kB active\_file:124kB 
inactive\_file:160kB unevictable:0kB present:3086212kB pages\_scanned:1399 
all\_unreclaimable? no
[1300101.130201] lowmem\_reserve[]: 0 0 0 0
[1300101.130205] Node 0 DMA: 3\*4kB 3\*8kB 1\*16kB 2\*32kB 1\*64kB 1\*128kB 2\*256kB 
2\*512kB 2\*1024kB 2\*2048kB 1\*4096kB = 12084kB
[1300101.130215] Node 0 DMA32: 791\*4kB 7\*8kB 10\*16kB 24\*32kB 22\*64kB 5\*128kB 
1\*256kB 1\*512kB 0\*1024kB 0\*2048kB 0\*4096kB = 6964kB
[1300101.130226] 820 total pagecache pages
[1300101.130227] 725 pages in swap cache
[1300101.130230] Swap cache stats: add 3537851, delete 3537126, find 
1063874/1461868
[1300101.130232] Free swap = 0kB
[1300101.130233] Total swap = 979956kB
[1300101.140690] 786344 pages RAM
[1300101.140693] 13519 pages reserved
[1300101.140694] 145 pages shared
[1300101.140696] 767575 pages non-shared
[1300101.140699] Out of memory: kill process 7384 (beam.smp) score 1272751 or a 
child
[1300101.140760] Killed process 7389 (memsup)
[1300101.370122] htop invoked oom-killer: gfp\_mask=0x201da, order=0, 
oomkilladj=0
[1300101.370127] htop cpuset=/ mems\_allowed=0
[1300101.370130] Pid: 7398, comm: htop Not tainted 2.6.31-22-server #60-Ubuntu
[1300101.370133] Call Trace:
[1300101.370143] [] ? 
cpuset\_print\_task\_mems\_allowed+0x98/0xa0
[1300101.370148] [] oom\_kill\_process+0xce/0x280
[1300101.370152] [] ? select\_bad\_process+0xea/0x120
[1300101.370155] [] \_\_out\_of\_memory+0x50/0xb0
[1300101.370158] [] out\_of\_memory+0x126/0x1a0
[1300101.370163] [] ? \_spin\_lock+0x9/0x10
[1300101.370167] [] \_\_alloc\_pages\_slowpath+0x4f1/0x560
[1300101.370170] [] \_\_alloc\_pages\_nodemask+0x12c/0x130
[1300101.370175] [] alloc\_pages\_current+0x82/0xd0
[1300101.370178] [] \_\_page\_cache\_alloc+0x5f/0x70
[1300101.370182] [] \_\_do\_page\_cache\_readahead+0xc1/0x160
[1300101.370186] [] ra\_submit+0x1c/0x20
[1300101.370189] [] do\_sync\_mmap\_readahead+0x9b/0xd0
[1300101.370192] [] filemap\_fault+0x304/0x3b0
[1300101.370196] [] \_\_do\_fault+0x4f/0x4e0
[1300101.370199] [] handle\_mm\_fault+0x1a7/0x3c0
[1300101.370204] [] ? default\_spin\_lock\_flags+0x9/0x10
[1300101.370208] [] do\_page\_fault+0x165/0x360
[1300101.370211] [] page\_fault+0x25/0x30
[1300101.370214] Mem-Info:
[1300101.370215] Node 0 DMA per-cpu:
[1300101.370218] CPU 0: hi: 0, btch: 1 usd: 0
[1300101.370220] CPU 1: hi: 0, btch: 1 usd: 0
[1300101.370222] Node 0 DMA32 per-cpu:
[1300101.370225] CPU 0: hi: 186, btch: 31 usd: 105
[1300101.370227] CPU 1: hi: 186, btch: 31 usd: 159
[1300101.370231] Active\_anon:592994 active\_file:4 inactive\_anon:148628
[1300101.370233] inactive\_file:88 unevictable:0 dirty:0 writeback:0 unstable:0
[1300101.370234] free:4762 slab:4471 mapped:3 pagetables:2891 bounce:0
[1300101.370236] Node 0 DMA free:12084kB min:32kB low:40kB high:48kB 
active\_anon:1832kB inactive\_anon:1924kB active\_file:12kB inactive\_file:0kB 
unevictable:0kB present:15344kB pages\_scanned:3 all\_unreclaimable? no
[1300101.370242] lowmem\_reserve[]: 0 3013 3013 3013
[1300101.370246] Node 0 DMA32 free:6964kB min:7008kB low:8760kB high:10512kB 
active\_anon:2370144kB inactive\_anon:592588kB active\_file:4kB 
inactive\_file:352kB unevictable:0kB present:3086212kB pages\_scanned:1393 
all\_unreclaimable? no
[1300101.370252] lowmem\_reserve[]: 0 0 0 0
[1300101.370256] Node 0 DMA: 3\*4kB 3\*8kB 1\*16kB 2\*32kB 1\*64kB 1\*128kB 2\*256kB 
2\*512kB 2\*1024kB 2\*2048kB 1\*4096kB = 12084kB
[1300101.370267] Node 0 DMA32: 793\*4kB 6\*8kB 10\*16kB 24\*32kB 22\*64kB 5\*128kB 
1\*256kB 1\*512kB 0\*1024kB 0\*2048kB 0\*4096kB = 6964kB
[1300101.370277] 820 total pagecache pages
[1300101.370279] 721 pages in swap cache
[1300101.370281] Swap cache stats: add 3537858, delete 3537137, find 
1063874/1461868
[1300101.370283] Free swap = 0kB
[1300101.370285] Total swap = 979956kB
[1300101.380553] 786344 pages RAM
[1300101.380555] 13519 pages reserved
[1300101.380556] 143 pages shared
[1300101.380558] 767576 pages non-shared
[1300101.380561] Out of memory: kill process 7384 (beam.smp) score 1272262 or a 
child
[1300101.380637] Killed process 7390 (cpu\_sup)
[1300101.400641] beam.smp invoked oom-killer: gfp\_mask=0x201da, order=0, 
oomkilladj=0
[1300101.400646] beam.smp cpuset=/ mems\_allowed=0
[1300101.400650] Pid: 7383, comm: beam.smp Not tainted 2.6.31-22-server 
#60-Ubuntu
[1300101.400653] Call Trace:
[1300101.400663] [] ? 
cpuset\_print\_task\_mems\_allowed+0x98/0xa0
[1300101.400668] [] oom\_kill\_process+0xce/0x280
[1300101.400672] [] ? select\_bad\_process+0xea/0x120
[1300101.400675] [] \_\_out\_of\_memory+0x50/0xb0
[1300101.400678] [] out\_of\_memory+0x126/0x1a0
[1300101.400683] [] ? \_spin\_lock+0x9/0x10
[1300101.400687] [] \_\_alloc\_pages\_slowpath+0x4f1/0x560
[1300101.400690] [] \_\_alloc\_pages\_nodemask+0x12c/0x130
[1300101.400695] [] alloc\_pages\_current+0x82/0xd0
[1300101.400698] [] \_\_page\_cache\_alloc+0x5f/0x70
[1300101.400702] [] \_\_do\_page\_cache\_readahead+0xc1/0x160
[1300101.400706] [] ra\_submit+0x1c/0x20
[1300101.400709] [] do\_sync\_mmap\_readahead+0x9b/0xd0
[1300101.400712] [] filemap\_fault+0x304/0x3b0
[1300101.400716] [] \_\_do\_fault+0x4f/0x4e0
[1300101.400719] [] handle\_mm\_fault+0x1a7/0x3c0
[1300101.400724] [] ? default\_spin\_lock\_flags+0x9/0x10
[1300101.400727] [] do\_page\_fault+0x165/0x360
[1300101.400731] [] page\_fault+0x25/0x30
[1300101.400733] Mem-Info:
[1300101.400735] Node 0 DMA per-cpu:
[1300101.400738] CPU 0: hi: 0, btch: 1 usd: 0
[1300101.400740] CPU 1: hi: 0, btch: 1 usd: 0
[1300101.400742] Node 0 DMA32 per-cpu:
[1300101.400745] CPU 0: hi: 186, btch: 31 usd: 112
[1300101.400747] CPU 1: hi: 186, btch: 31 usd: 172
[1300101.400752] Active\_anon:592995 active\_file:78 inactive\_anon:148617
[1300101.400753] inactive\_file:24 unevictable:0 dirty:0 writeback:0 unstable:0
[1300101.400754] free:4762 slab:4471 mapped:3 pagetables:2891 bounce:0
[1300101.400756] Node 0 DMA free:12084kB min:32kB low:40kB high:48kB 
active\_anon:1832kB inactive\_anon:1924kB active\_file:12kB inactive\_file:0kB 
unevictable:0kB present:15344kB pages\_scanned:3 all\_unreclaimable? no
[1300101.400762] lowmem\_reserve[]: 0 3013 3013 3013
[1300101.400767] Node 0 DMA32 free:6964kB min:7008kB low:8760kB high:10512kB 
active\_anon:2370148kB inactive\_anon:592544kB active\_file:300kB 
inactive\_file:96kB unevictable:0kB present:3086212kB pages\_scanned:1833 
all\_unreclaimable? no
[1300101.400773] lowmem\_reserve[]: 0 0 0 0
[1300101.400776] Node 0 DMA: 3\*4kB 3\*8kB 1\*16kB 2\*32kB 1\*64kB 1\*128kB 2\*256kB 
2\*512kB 2\*1024kB 2\*2048kB 1\*4096kB = 12084kB
[1300101.400787] Node 0 DMA32: 793\*4kB 6\*8kB 10\*16kB 24\*32kB 22\*64kB 5\*128kB 
1\*256kB 1\*512kB 0\*1024kB 0\*2048kB 0\*4096kB = 6964kB
[1300101.400797] 820 total pagecache pages
[1300101.400799] 735 pages in swap cache
[1300101.400801] Swap cache stats: add 3537879, delete 3537144, find 
1063874/1461868
[1300101.400803] Free swap = 0kB
[1300101.400805] Total swap = 979956kB
[1300101.411103] 786344 pages RAM
[1300101.411105] 13519 pages reserved
[1300101.411107] 142 pages shared
[1300101.411108] 767556 pages non-shared
[1300101.411112] Out of memory: kill process 7384 (beam.smp) score 1271774 or a 
child
[1300101.411172] Killed process 7391 (inet\_gethost)
[1300104.220056] beam.smp invoked oom-killer: gfp\_mask=0x201da, order=0, 
oomkilladj=0
[1300104.220061] beam.smp cpuset=/ mems\_allowed=0
[1300104.220065] Pid: 7383, comm: beam.smp Not tainted 2.6.31-22-server 
#60-Ubuntu
[1300104.220068] Call Trace:
[1300104.220079] [] ? 
cpuset\_print\_task\_mems\_allowed+0x98/0xa0
[1300104.220084] [] oom\_kill\_process+0xce/0x280
[1300104.220088] [] ? select\_bad\_process+0xea/0x120
[1300104.220091] [] \_\_out\_of\_memory+0x50/0xb0
[1300104.220095] [] out\_of\_memory+0x126/0x1a0
[1300104.220100] [] ? \_spin\_lock+0x9/0x10
[1300104.220103] [] \_\_alloc\_pages\_slowpath+0x4f1/0x560
[1300104.220107] [] \_\_alloc\_pages\_nodemask+0x12c/0x130
[1300104.220112] [] alloc\_pages\_current+0x82/0xd0
[1300104.220116] [] \_\_page\_cache\_alloc+0x5f/0x70
[1300104.220119] [] \_\_do\_page\_cache\_readahead+0xc1/0x160
[1300104.220123] [] ra\_submit+0x1c/0x20
[1300104.220126] [] do\_sync\_mmap\_readahead+0x9b/0xd0
[1300104.220129] [] filemap\_fault+0x304/0x3b0
[1300104.220133] [] \_\_do\_fault+0x4f/0x4e0
[1300104.220136] [] handle\_mm\_fault+0x1a7/0x3c0
[1300104.220141] [] ? default\_spin\_lock\_flags+0x9/0x10
[1300104.220145] [] do\_page\_fault+0x165/0x360
[1300104.220148] [] page\_fault+0x25/0x30
[1300104.220151] Mem-Info:
[1300104.220153] Node 0 DMA per-cpu:
[1300104.220155] CPU 0: hi: 0, btch: 1 usd: 0
[1300104.220158] CPU 1: hi: 0, btch: 1 usd: 0
[1300104.220159] Node 0 DMA32 per-cpu:
[1300104.220162] CPU 0: hi: 186, btch: 31 usd: 173
[1300104.220164] CPU 1: hi: 186, btch: 31 usd: 184
[1300104.220168] Active\_anon:593003 active\_file:61 inactive\_anon:148659
[1300104.220170] inactive\_file:19 unevictable:0 dirty:0 writeback:0 unstable:0
[1300104.220171] free:4760 slab:4374 mapped:7 pagetables:2866 bounce:0
[1300104.220173] Node 0 DMA free:12072kB min:32kB low:40kB high:48kB 
active\_anon:1728kB inactive\_anon:1984kB active\_file:12kB inactive\_file:12kB 
unevictable:0kB present:15344kB pages\_scanned:6 all\_unreclaimable? no
[1300104.220179] lowmem\_reserve[]: 0 3013 3013 3013
[1300104.220184] Node 0 DMA32 free:6968kB min:7008kB low:8760kB high:10512kB 
active\_anon:2370284kB inactive\_anon:592652kB active\_file:232kB 
inactive\_file:64kB unevictable:0kB present:3086212kB pages\_scanned:2195 
all\_unreclaimable? no
[1300104.220190] lowmem\_reserve[]: 0 0 0 0
[1300104.220194] Node 0 DMA: 2\*4kB 2\*8kB 1\*16kB 2\*32kB 1\*64kB 1\*128kB 2\*256kB 
2\*512kB 2\*1024kB 2\*2048kB 1\*4096kB = 12072kB
[1300104.220204] Node 0 DMA32: 826\*4kB 30\*8kB 12\*16kB 21\*32kB 18\*64kB 5\*128kB 
1\*256kB 1\*512kB 0\*1024kB 0\*2048kB 0\*4096kB = 6968kB
[1300104.220214] 660 total pagecache pages
[1300104.220216] 556 pages in swap cache
[1300104.220218] Swap cache stats: add 3538524, delete 3537968, find 
1063937/1461993
[1300104.220220] Free swap = 0kB
[1300104.220222] Total swap = 979956kB
[1300104.230688] 786344 pages RAM
[1300104.230691] 13519 pages reserved
[1300104.230692] 148 pages shared
[1300104.230694] 767485 pages non-shared
[1300104.230697] Out of memory: kill process 7383 (beam.smp) score 1272288 or a 
child
[1300104.230757] Killed process 7405 (inet\_gethost)
[1300104.260050] htop invoked oom-killer: gfp\_mask=0x201da, order=0, 
oomkilladj=0
[1300104.260054] htop cpuset=/ mems\_allowed=0
[1300104.260058] Pid: 7398, comm: htop Not tainted 2.6.31-22-server #60-Ubuntu
[1300104.260060] Call Trace:
[1300104.260069] [] ? 
cpuset\_print\_task\_mems\_allowed+0x98/0xa0
[1300104.260074] [] oom\_kill\_process+0xce/0x280
[1300104.260078] [] ? select\_bad\_process+0xea/0x120
[1300104.260081] [] \_\_out\_of\_memory+0x50/0xb0
[1300104.260084] [] out\_of\_memory+0x126/0x1a0
[1300104.260089] [] ? \_spin\_lock+0x9/0x10
[1300104.260093] [] \_\_alloc\_pages\_slowpath+0x4f1/0x560
[1300104.260097] [] \_\_alloc\_pages\_nodemask+0x12c/0x130
[1300104.260101] [] alloc\_pages\_current+0x82/0xd0
[1300104.260105] [] \_\_page\_cache\_alloc+0x5f/0x70
[1300104.260109] [] \_\_do\_page\_cache\_readahead+0xc1/0x160
[1300104.260112] [] ra\_submit+0x1c/0x20
[1300104.260115] [] do\_sync\_mmap\_readahead+0x9b/0xd0
[1300104.260118] [] filemap\_fault+0x304/0x3b0
[1300104.260122] [] \_\_do\_fault+0x4f/0x4e0
[1300104.260126] [] ? proc\_tid\_stat+0xc/0x10
[1300104.260130] [] ? proc\_single\_show+0x5f/0x90
[1300104.260133] [] handle\_mm\_fault+0x1a7/0x3c0
[1300104.260138] [] ? default\_spin\_lock\_flags+0x9/0x10
[1300104.260141] [] do\_page\_fault+0x165/0x360
[1300104.260145] [] page\_fault+0x25/0x30
[1300104.260147] Mem-Info:
[1300104.260149] Node 0 DMA per-cpu:
[1300104.260152] CPU 0: hi: 0, btch: 1 usd: 0
[1300104.260154] CPU 1: hi: 0, btch: 1 usd: 0
[1300104.260156] Node 0 DMA32 per-cpu:
[1300104.260159] CPU 0: hi: 186, btch: 31 usd: 94
[1300104.260161] CPU 1: hi: 186, btch: 31 usd: 160
[1300104.260165] Active\_anon:592966 active\_file:108 inactive\_anon:148659
[1300104.260166] inactive\_file:123 unevictable:0 dirty:0 writeback:0 unstable:0
[1300104.260168] free:4760 slab:4374 mapped:7 pagetables:2866 bounce:0
[1300104.260170] Node 0 DMA free:12072kB min:32kB low:40kB high:48kB 
active\_anon:1728kB inactive\_anon:1984kB active\_file:12kB inactive\_file:12kB 
unevictable:0kB present:15344kB pages\_scanned:6 all\_unreclaimable? no
[1300104.260176] lowmem\_reserve[]: 0 3013 3013 3013
[1300104.260180] Node 0 DMA32 free:6968kB min:7008kB low:8760kB high:10512kB 
active\_anon:2370136kB inactive\_anon:592652kB active\_file:420kB 
inactive\_file:480kB unevictable:0kB present:3086212kB pages\_scanned:249 
all\_unreclaimable? no
[1300104.260186] lowmem\_reserve[]: 0 0 0 0
[1300104.260190] Node 0 DMA: 2\*4kB 2\*8kB 1\*16kB 2\*32kB 1\*64kB 1\*128kB 2\*256kB 
2\*512kB 2\*1024kB 2\*2048kB 1\*4096kB = 12072kB
[1300104.260201] Node 0 DMA32: 822\*4kB 32\*8kB 12\*16kB 21\*32kB 18\*64kB 5\*128kB 
1\*256kB 1\*512kB 0\*1024kB 0\*2048kB 0\*4096kB = 6968kB
[1300104.260211] 808 total pagecache pages
[1300104.260213] 556 pages in swap cache
[1300104.260215] Swap cache stats: add 3538524, delete 3537968, find 
1063937/1461993
[1300104.260217] Free swap = 0kB
[1300104.260219] Total swap = 979956kB
[1300104.270784] 786344 pages RAM
[1300104.270787] 13519 pages reserved
[1300104.270789] 193 pages shared
[1300104.270790] 767569 pages non-shared
[1300104.270794] Out of memory: kill process 7345 (beam.smp) score 1270959 or a 
child
[1300104.270853] Killed process 7345 (beam.smp)
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

