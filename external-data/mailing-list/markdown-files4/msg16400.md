---
title: "Re: Riak Search in bucket with write_once = true"
description: ""
project: community
lastmod: 2015-08-11T01:26:52-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16400"
mailinglist_parent_id: "msg16399"
author_name: "Marius Cobzarenco"
project_section: "mailinglistitem"
sent_date: 2015-08-11T01:26:52-07:00
---


Hey Zeeshan,

Thanks for the clarification. I wasn't sure if it was a bug or intended
behaviour, glad to hear it's the former and that it'll be fixed :-)

best,
Marius
On 11 Aug 2015 3:43 am, "Zeeshan Lakhani"  wrote:

&gt; Hey Marius,
&gt;
&gt; To put it simply, yes, 2.1.1 does not support write\_once with search. Some
&gt; objects will get indexed, but it will take a very long time and there will
&gt; be issues with the cluster, etcâ€¦
&gt;
&gt; There should have been a note about this. Our apologies. We have solved
&gt; the issue, and it will be supported in 2.1.2, which is our next release.
&gt; You can read more about it here:
&gt; https://github.com/basho/yokozuna/issues/512.
&gt;
&gt; Thanks.
&gt;
&gt; Zeeshan Lakhani
&gt; programmer |
&gt; software engineer at @basho |
&gt; org. member/founder of @papers\_we\_love | paperswelove.org
&gt; twitter =&gt; @zeeshanlakhani
&gt;
&gt; On Aug 10, 2015, at 4:22 PM, Marius Cobzarenco  wrote:
&gt;
&gt; Hi everyone,
&gt;
&gt; Riak Search does not seem to work in a bucket whose bucket type has
&gt; write\_once = true. I could not see this mentioned anywhere in the
&gt; documentation, but I was curious if it is to be expected? It seems like the
&gt; objects never get indexed.
&gt;
&gt; My bucket type is:
&gt;
&gt; riak-admin bucket-type create raw\_tweets \
&gt; '{"props": {"search": true, "search\_index": "index\_raw\_tweets",
&gt; "n\_val": 2, "allow\_mult": false, "write\_once": true}}' && \
&gt; riak-admin bucket-type activate raw\_tweets
&gt;
&gt;
&gt; If I remove "write\_once":true, the objects are indexed.
&gt;
&gt; Many thanks
&gt; Marius
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
&gt;

-- 


-- 

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

