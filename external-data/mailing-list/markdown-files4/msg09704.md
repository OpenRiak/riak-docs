---
title: "Riak startup failing."
description: ""
project: community
lastmod: 2012-12-28T12:57:29-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09704"
author_name: "rkevinburton"
project_section: "mailinglistitem"
sent_date: 2012-12-28T12:57:29-08:00
---




I am trying to get a cluster going and I have successfully renamed all 
of the listening addresses and the names of the riak nodes but it 
appears that none of the node will start. I get the following error in 
console.log. Any idea what this means?


2012-12-28 14:41:29.912 [info] &lt;0.7.0&gt; Application lager started on node 
'riak@172.16.33.107'
2012-12-28 14:41:30.048 [info] 
&lt;0.151.0&gt;@riak\_core\_ring\_manager:reload\_ring:226 Upgrading legacy ring
2012-12-28 14:41:30.281 [error] &lt;0.164.0&gt; gen\_server 
riak\_core\_capability terminated with reason: no function clause matching 
orddict:fetch('riak@172.16.33.107', []) line 72


The crash.log

2012-12-28 14:41:30 =ERROR REPORT====
\*\* Generic server riak\_core\_capability terminating
\*\* Last message in was 
{register,{riak\_core,vnode\_routing},{capability,[proxy,legacy],legacy,{riak\_core,legacy\_vnode\_routing,[{true,legacy},{false,proxy}]}}}

\*\* When Server state == {state,[],[],[],[]}
\*\* Reason for termination ==
\*\* 
{function\_clause,[{orddict,fetch,['riak@172.16.33.107',[]],[{file,"orddict.erl"},{line,72}]},{riak\_core\_capability,renegotiate\_capabilities,1,[{file,"src/riak\_core\_capability.erl"},{line,415}]},{riak\_core\_capability,handle\_call,3,[{file,"src/riak\_core\_capability.erl"},{line,208}]},{gen\_server,handle\_msg,5,[{file,"gen\_server.erl"},{line,588}]},{proc\_lib,init\_p\_do\_apply,3,[{file,"proc\_lib.erl"},{line,227}]}]}


Erlang,log.1

=====
===== LOGGING STARTED Fri Dec 28 14:41:28 CST 2012
=====
Exec: /usr/lib/riak/erts-5.9.1/bin/erlexec -boot 
/usr/lib/riak/releases/1.2.1/riak -embedded -config 
/etc/riak/app.config -pa /usr/lib/riak/lib/basho-patches 
-args\_file /etc/riak/vm.args -- console


Root: /usr/lib/riak

Erlang R15B01 (erts-5.9.1) [source] [64-bit] [async-threads:64] 
[kernel-poll:true]



\*\* /usr/lib/riak/lib/basho-patches/etop\_txt.beam hides 
/usr/lib/riak/lib/observer-1.1/ebin/etop\_txt.beam


\*\* Found 1 name clashes in code paths

14:41:29.912 [info] Application lager started on node 
'riak@172.16.33.107'


14:41:30.048 [info] Upgrading legacy ring

14:41:30.281 [error] gen\_server riak\_core\_capability terminated with 
reason: no function clause matching orddict:fetch('riak@172.16.33.107', 
[]) line 72


/usr/lib/riak/lib/os\_mon-2.2.9/priv/bin/memsup: Erlang has closed.
Erlang has closed
{"Kernel pid 
terminated",application\_controller,"{application\_start\_failure,riak\_core,{bad\_return,{{riak\_core\_app,start,[normal,[]]},{'EXIT',{{function\_clause,[{orddict,fetch,['riak@172.16.33.107',[]],[{file,[111,114,100,100,105,99,116,46,101,114,108]},{line,72}]},{riak\_core\_capability,renegotiate\_capabilities,1,[{file,[115,114,99,47,114,105,97,107,95,99,111,114,101,95,99,97,112,97,98,105,108,105,116,121,46,101,114,108]},{line,415}]},{riak\_core\_capability,handle\_call,3,[{file,[115,114,99,47,114,105,97,107,95,99,111,114,101,95,99,97,112,97,98,105,108,105,116,121,46,101,114,108]},{line,208}]},{gen\_server,handle\_msg,5,[{file,[103,101,110,95,115,101,114,118,101,114,46,101,114,108]},{line,588}]},{proc\_lib,init\_p\_do\_apply,3,[{file,[112,114,111,99,95,108,105,98,46,101,114,108]},{line,227}]}]},{gen\_server,call,[riak\_core\_capability,{register,{riak\_core,vnode\_routing},{capability,[proxy,legacy],legacy,{riak\_core,legacy\_vnode\_routing,[{true,legacy},{false,proxy}]}}},infinity]}}}}}}"}




Crash dump was written to: /var/log/riak/erl\_crash.dump

Kernel pid terminated (application\_controller) 
({application\_start\_failure,riak\_core,{bad\_return,{{riak\_core\_app,start,[normal,[]]},{'EXIT',{{function\_clause,[{orddict,fetch,['riak@172.16.33.107',[]
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

