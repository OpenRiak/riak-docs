---
title: "Re: Riak Search turns out results that's deleted?"
description: ""
project: community
lastmod: 2012-05-31T17:37:49-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg07588"
mailinglist_parent_id: "msg07573"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2012-05-31T17:37:49-07:00
---


Shuhao,

Can you reproduce this every time? I'm not familiar with the Python client
but I'm wondering if this is a divergent index or the Python client using
the solr-like HTTP interface.

-Z

On Wed, May 30, 2012 at 10:55 AM, Shuhao Wu  wrote:

&gt; I'm encountering a weird case where it only happens on this specific
&gt; bucket.
&gt;
&gt; &gt;&gt;&gt; import riak
&gt; &gt;&gt;&gt; c = riak.RiakClient()
&gt; &gt;&gt;&gt; b = c.bucket("test\_search")
&gt; &gt;&gt;&gt; b.get\_keys()
&gt; []
&gt; &gt;&gt;&gt; c.search("test\_search", "intprop:2").run()
&gt; [,  object at 0x2c2e490&gt;, ,
&gt; ,  object at 0x2c2e550&gt;, ,
&gt; ,  object at 0x2c2e610&gt;, ,
&gt; ,  object at 0x2c2e6d0&gt;, ,
&gt; ,  object at 0x2c2e790&gt;, ,
&gt; ,  object at 0x2c2e850&gt;, ,
&gt; ,  object at 0x2c2e910&gt;, ,
&gt; ,  object at 0x2c2e9d0&gt;, ,
&gt; ,  object at 0x2c2ea90&gt;, ,
&gt; ,  object at 0x2c2eb50&gt;, ,
&gt; ,  object at 0x2c2ec10&gt;, ]
&gt; &gt;&gt;&gt; b.get(c.search("test\_search", "intprop:2").run()[0].get\_key()).exists()
&gt; False
&gt;
&gt; Note: Previously I have an object with the json document of {"intprop" : 2}
&gt;
&gt; Any ideas why this is happening?
&gt;
&gt; Shuhao
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

