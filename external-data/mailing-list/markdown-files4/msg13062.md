---
title: "Re: Riak 1.4x counter examples using riakc (erlang-riak-client)"
description: ""
project: community
lastmod: 2013-11-21T23:41:53-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13062"
mailinglist_parent_id: "msg13048"
author_name: "Russell Brown"
project_section: "mailinglistitem"
sent_date: 2013-11-21T23:41:53-08:00
---


Hi Mark,

The Counter is just a a riak\_object under the hood (at the Riak end of things) 
to the erlang client though it is modelled as an integer and operations on an 
integer.

Weâ€™ll get around to the README, sorry about that.

Using the counter is pretty simple. First you need to set whatever bucket you 
wish to store the counter in to allow\_mult=true
Then just use the increment or fetch functions.

Here is an example session: https://gist.github.com/russelldb/7596268

Please note, you can also use the regular R,W,PR,PW etc options on increment 
and fetch.

Sorry about the lack of examples in the README, hope this makes up for it a 
little.

Cheers

Russell

On 21 Nov 2013, at 00:17, Mark Allen  wrote:

&gt; Hi -
&gt; 
&gt; I'm trying to puzzle through how to use the PN counters in Riak 1.4.x via the 
&gt; riakc client. It \*looks\* like
&gt; a 1.4 counter is a special kind of riak\_obj metadata tuple. So do you just 
&gt; set the tuple in a riakc\_obj with
&gt; an undefined value?
&gt; 
&gt; The README in the client repo also doesn't seem to have an PN counter 
&gt; examples. Any guidance would
&gt; be appreciated.
&gt; 
&gt; Thanks.
&gt; 
&gt; Mark
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com



signature.asc
Description: Message signed with OpenPGP using GPGMail
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

