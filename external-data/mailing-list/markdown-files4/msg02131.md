---
title: "Riak map reduce returning all results"
description: ""
project: community
lastmod: 2011-01-27T04:38:10-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02131"
author_name: "Joshua Partogi"
project_section: "mailinglistitem"
sent_date: 2011-01-27T04:38:10-08:00
---


Hi all,

I am trying to do map reduce with the ruby client as such:
client = Ripple.client
Riak::MapReduce.new(client).
 add("stocks").
 map("Riak.mapValuesJson", :arg =&gt; "GOOG", :keep =&gt; true)

where the JSON document inside the bucket is as such:

{ "abr" : "GOOG" }
{ "abr" : "AAPL" }

However instead of returning only one result it is returning all values in
the bucket.

What am I doing wrong here?

Thanks heaps for the help.

-- 
http://twitter.com/jpartogi 
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

