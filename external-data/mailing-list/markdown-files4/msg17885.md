---
title: "Re: Reg:Continuous Periodic crashes after long operation"
description: ""
project: community
lastmod: 2017-01-26T07:38:56-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17885"
mailinglist_parent_id: "msg17883"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2017-01-26T07:38:56-08:00
---


Steven,

You may be able to get information via the lsof command as to what
process(es) are using many file handles (if that is the cause).

I searched for that particular error and found this GH issue:
https://github.com/emqtt/emqttd/issues/426

Which directed me to this page:
https://github.com/emqtt/emqttd/wiki/linux-kernel-tuning

Basho also has a set of recommended tuning parameters:
http://docs.basho.com/riak/kv/2.2.0/using/performance/

Do you have other error entries in any of Riak's logs at around the
same time as these messages? Particularly crash.log.

--
Luke Bakken
Engineer
lbak...@basho.com

On Thu, Jan 26, 2017 at 4:42 AM, Steven Joseph  wrote:
&gt; Hi Shaun,
&gt;
&gt; I have already set this to a very high value
&gt;
&gt; (r...@hawk1.streethawk.com)1&gt; os:cmd("ulimit -n").
&gt; "20000500\n"
&gt; (r...@hawk1.streethawk.com)2&gt;
&gt;
&gt;
&gt; So the issue is not that the limit is low, but maybe a resource leak ? As I
&gt; mentioned our application processes continuously run queries on the cluster.
&gt;
&gt; Kind Regards
&gt;
&gt; Steven

\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

