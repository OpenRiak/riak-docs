---
title: "Re: How to deal with tombstone values when writing a Riak (http)	client"
description: ""
project: community
lastmod: 2013-03-25T08:04:40-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10584"
mailinglist_parent_id: "msg10583"
author_name: "Age Mooij"
project_section: "mailinglistitem"
sent_date: 2013-03-25T08:04:40-07:00
---


&gt;&gt; Could you give me an example of a use case for reproducing case 1 in a unit 
&gt;&gt; test? Case 2a is easy but I've tried several ways to reliably produce case 1 
&gt;&gt; and I'm not getting anywhere.
&gt; 
&gt; A tombstone will exist for 3s by default. With the Java client I can
&gt; reproduce it every time with:

Ah, of course at that time I didn't know about the magic combination of a 404 
plus a vclock header so my client cannot currently reproduce this.

&gt;&gt; My Scala client basically just treats tombstones like completely deleted 
&gt;&gt; values, so for case 1 that would lead to "normal" 404 behavior and during 
&gt;&gt; conflict resolution it will just ignore/skip tombstones. But if lots of 
&gt;&gt; people are interested in dealing with tombstones directly I might have to 
&gt;&gt; change that to something similar to what you did in the java client.
&gt; 
&gt; Yeah ... it's a hard road trying to guess how people are going to want
&gt; to use something. Personally? Since the feature exists I'd support it
&gt; if only for the sake of completeness.

Any idea whether there are other clients (like for Ruby, Python, Erlang, etc.) 
that expose this?

&gt;&gt; Are there any plans on adding a documentation section about tombstones and 
&gt;&gt; deletes in Riak? I think that would definitely be helpful for other people 
&gt;&gt; writing clients.
&gt; 
&gt; I'll raise that issue this week; there probably should be. In the mean
&gt; time probably the most comprehensive information on the subject can be
&gt; found here: 
&gt; http://lists.basho.com/pipermail/riak-users\_lists.basho.com/2011-October/006048.html

I think it is important to document this if you want to promote the community 
writing clients for languages that you can't or won't support. It's the only 
source of information we have.

Thanks,
Age



\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

