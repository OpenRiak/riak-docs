---
title: "Re: List keys, new format, keys=stream"
description: ""
project: community
lastmod: 2011-10-20T09:40:09-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05210"
mailinglist_parent_id: "msg05208"
author_name: "Jonathan Langevin"
project_section: "mailinglistitem"
sent_date: 2011-10-20T09:40:09-07:00
---


Thanks Gordon.

So what is the recommended answer to this? Just skip the empty arrays?

I'm asking, as I'm extending my php client to support streaming, and want to
make sure we code for this properly.

Thanks!
On Oct 20, 2011 12:27 PM, "Gordon Tillman"  wrote:

&gt; Jonathan that is correct - it is just a result of the chunked encoding.
&gt;
&gt; --gordon
&gt;
&gt; On Oct 20, 2011, at 11:02 , Jonathan Langevin wrote:
&gt;
&gt; If I run a curl request to pull back a list of keys, streamed, the output
&gt; has multiple empty arrays, like so:
&gt;
&gt; $ curl -i http://localhost:8098/buckets/User/keys?keys=stream
&gt; HTTP/1.1 200 OK
&gt; Vary: Accept-Encoding
&gt; Transfer-Encoding: chunked
&gt; Server: MochiWeb/1.1 WebMachine/1.9.0 (participate in the frantic)
&gt; Date: Thu, 20 Oct 2011 15:58:54 GMT
&gt; Content-Type: application/json
&gt;
&gt;
&gt; {"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":["hmay"]}{"keys":[]}{"keys":["jlangevin"]}{"keys":["student"]}{"keys":[]}{"keys":[]}{"keys":["rmay"]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":["eturner"]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":["kbrintle"]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":["admin"]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":["instructor"]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}{"keys":[]}
&gt;
&gt;
&gt; I assume this is a result of the chunked encoding? Or is this reflecting
&gt; empty results for keys that were deleted in the past?
&gt;
&gt; Just a note, this is a single-node cluster, with r,w,dw,nval=1
&gt;
&gt; 
&gt; \* Jonathan Langevin
&gt; Manager, Information Technology
&gt; Loom Inc.
&gt; Wilmington, NC: (910) 241-0433 - jlange...@loomlearning.com -
&gt; www.loomlearning.com - Skype: intel352 \*
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

