---
title: "Re: uneven disk distribution"
description: ""
project: community
lastmod: 2015-05-14T19:07:34-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16138"
mailinglist_parent_id: "msg16137"
author_name: "Engel Sanchez"
project_section: "mailinglistitem"
sent_date: 2015-05-14T19:07:34-07:00
---


Hi Johnny. Make sure that the configuration on that node is not different
to the others. For example, it could be configured to never merge Bitcask
files, so that space could never be reclaimed.

http://docs.basho.com/riak/latest/ops/advanced/backends/bitcask/#Configuring-Bitcask

On Thu, May 14, 2015 at 4:31 PM, Johnny Tan  wrote:

&gt; We have a 6-node test riak cluster. One of the nodes seems to be using far
&gt; more disk:
&gt; staging-riak001.pp /dev/sda3 15G 6.3G 7.2G 47% /
&gt; staging-riak002.pp /dev/sda3 15G 6.4G 7.1G 48% /
&gt; staging-riak003.pp /dev/sda3 15G 6.1G 7.5G 45% /
&gt; staging-riak004.pp /dev/sda3 15G 14G 266M 99% /
&gt; staging-riak005.pp /dev/sda3 15G 5.8G 7.7G 44% /
&gt; staging-riak006.pp /dev/sda3 15G 6.3G 7.3G 47% /
&gt;
&gt; Specifically, /var/lib/riak/bitcask is using up most of that space. It
&gt; seems to have files in there that are much older than any of the other
&gt; nodes. We've done maintenance of various sort on this cluster -- as the
&gt; name indicates, we use it as a staging ground before we go to production. I
&gt; don't recall a specific issue per se, but I wouldn't rule it out.
&gt;
&gt; Is there a way to figure out if there's an underlying issue here, or
&gt; whether some of this disk space is not really current and can somehow be
&gt; purged?
&gt;
&gt; What info would help answer those questions?
&gt;
&gt; johnny
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

