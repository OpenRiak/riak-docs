---
title: "Re: riak stats maintenance?"
description: ""
project: community
lastmod: 2010-06-17T21:15:57-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00612"
mailinglist_parent_id: "msg00611"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2010-06-17T21:15:57-07:00
---


Hi Gareth,

I'm not aware of any mechanism that turns the stats url off for any reason.
How often are you pinging the stats url? Do the timeouts correlate with any
other event on the system (higher load, cron job, etc.)?

Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Thu, Jun 17, 2010 at 8:40 PM, Gareth Stokes
wrote:

&gt; hey guys,
&gt;
&gt; so i have a cluster of 4 physical machines with a load balancer sitting in
&gt; front to handle requests going into riak.
&gt; i thought it would be a good idea (not anymore) to use the /stats url to
&gt; ping the machines the cluster for their health. this is what i've noticed in
&gt; the logs every few days or so
&gt;
&gt; =ERROR REPORT==== 16-Jun-2010::03:48:37 ===
&gt; webmachine error: path="/stats"
&gt; {error,{exit,{timeout,{gen\_server2,call,[riak\_kv\_stat,get\_stats]}},
&gt; [{gen\_server2,call,2},
&gt; {riak\_kv\_wm\_stats,get\_stats,0},
&gt; {riak\_kv\_wm\_stats,produce\_body,2},
&gt; {webmachine\_resource,resource\_call,3},
&gt; {webmachine\_resource,do,3},
&gt; {webmachine\_decision\_core,resource\_call,1},
&gt; {webmachine\_decision\_core,decision,1},
&gt; {webmachine\_decision\_core,handle\_request,2}]}}
&gt;
&gt; it lasts anywhere between 5 - 40 minutes.
&gt; what im thinking is that a riak machine will enter "maintenance" mode every
&gt; now and then, when it does it turns the /stats url off.
&gt;
&gt; am i correct in thinking this, or should i be worried?
&gt;
&gt; regards,
&gt; gareth stokes
&gt;
&gt; \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com
&gt;
&gt;
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\_lists.basho.com

