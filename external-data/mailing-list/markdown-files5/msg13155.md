---
title: "Re: Timeout on Streaming all keys"
description: ""
project: community
lastmod: 2013-12-05T10:49:37-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13155"
mailinglist_parent_id: "msg13116"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2013-12-05T10:49:37-08:00
---


Shimon, chevreh, re-architect your app. Make like a key that has pointers to 
all of a given days keys or something like that and iterate over those. 

If the sign says don't feed the animals, don't feed the animals.

Shalom v simcha,
-Alexander Sicular

@siculars

On Nov 28, 2013, at 7:00 AM, Shimon Benattar  wrote:

&gt; Hi Riak users,
&gt; 
&gt; 
&gt; Unfortunately for me I need to implement the get all keys method in our 
&gt; system (I know it is not recommended)
&gt; 
&gt; 
&gt; I am developing classes with the Java Api and using the streaming option as 
&gt; following
&gt; 
&gt; 
&gt; StreamingOperation keys = riakBucket.keys();
&gt; 
&gt; while (keys.hasNext()) {
&gt; 
&gt; final String next = keys.next();
&gt; 
&gt; out.write(next);
&gt; 
&gt; out.newLine();
&gt; 
&gt; }
&gt; 
&gt; riakBucket.keys().cancel();
&gt; 
&gt; 
&gt; My problem here is that for a simple class I inserted in Riak, after ~4.7 
&gt; million keys I am getting a timeout from Riak.
&gt; 
&gt; Is there any way to configure the read operation timeout or to somehow catch 
&gt; the timeout and continue to receive the next keys (Can I somehow bulk read 
&gt; the keys)?
&gt; 
&gt; 
&gt; Thanks,
&gt; 
&gt; 
&gt; Shimon
&gt; 
&gt; 
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

