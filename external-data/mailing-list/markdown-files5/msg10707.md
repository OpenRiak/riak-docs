---
title: "Re: Can Bitcask expiry_secs vary between backends?"
description: ""
project: community
lastmod: 2013-04-04T19:40:22-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10707"
mailinglist_parent_id: "msg10673"
author_name: "Toby Corkindale"
project_section: "mailinglistitem"
sent_date: 2013-04-04T19:40:22-07:00
---



On 04/04/13 17:43, Toby Corkindale wrote:

Hi,
Can we set Bitcask's expiry\\_secs value to be different per backend, in a
Multi-backend scenario?

Eg.

{multi\\_backend, [
 {&lt;&lt;"bitcask\\_short\\_ttl"&gt;&gt;, riak\\_kv\\_bitcask\\_backend, [
 {expiry\\_secs, 3600}, %% Expire items after one hour
 {expiry\\_grace\\_time, 600}
 ]},
 {&lt;&lt;"bitcask\\_long\\_ttl"&gt;&gt;, riak\\_kv\\_bitcask\\_backend, [
 {expiry\\_secs, 86400}, %% Expire items after one day
 {expiry\\_grace\\_time, 3600}
 ]},
 {&lt;&lt;"eleveldb\\_mult"&gt;&gt;, riak\\_kv\\_eleveldb\\_backend, [
 ]}
]},


And if we're re-using bitcask in this way, do we need to specify
anything else, such as different data directories per backend?



Answering my own question here, but..
Experimentation seems to indicate that
a) You can set different expiry periods per bitcask backend.
b) You must set a unique data\\_dir for each backend, or else
everything crashes after a while.

-Toby


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

