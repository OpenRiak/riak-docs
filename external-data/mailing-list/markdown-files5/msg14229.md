---
title: "Re: Want to access an element from the tuple inside bitsrting inside	list"
description: ""
project: community
lastmod: 2014-05-19T05:09:26-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14229"
mailinglist_parent_id: "msg14228"
author_name: "Steve Vinoski"
project_section: "mailinglistitem"
sent_date: 2014-05-19T05:09:26-07:00
---


On Mon, May 19, 2014 at 4:04 AM, Gopi Krishna  wrote:

&gt; Hi All,
&gt;
&gt; I am having the data like:
&gt;
&gt; R =
&gt; [&lt;&lt;"{\\"age\\": 24, \\"name\\": \\"krishna\\"}"&gt;&gt;,
&gt; &lt;&lt;"{\\"age\\": 29, \\"name\\": \\"sharat\\"}"&gt;&gt;,
&gt; &lt;&lt;"{\\"age\\": 25, \\"name\\": \\"ramesh\\"}"&gt;&gt;,
&gt; &lt;&lt;"{\\"age\\": 28, \\"name\\": \\"kumar\\"}"&gt;&gt;,
&gt; &lt;&lt;"{\\"age\\": 24, \\"name\\": \\"gopi\\"}"&gt;&gt;,
&gt; &lt;&lt;"{\\"age\\": 27, \\"name\\": \\"anil\\"}"&gt;&gt;].
&gt;
&gt; How can i get the age,name value for a particular age/name.
&gt;

Each item in the list is an Erlang binary containing JSON data. You need to
decode the JSON into an Erlang data type to have practical access to the
fields.

I have tried the following but i am not sure how to get it.
&gt;
&gt; 28&gt; list\\_to\\_tuple(R).
&gt; {&lt;&lt;"{\\"age\\": 24, \\"name\\": \\"krishna\\"}"&gt;&gt;,
&gt; &lt;&lt;"{\\"age\\": 29, \\"name\\": \\"sharat\\"}"&gt;&gt;,
&gt; &lt;&lt;"{\\"age\\": 25, \\"name\\": \\"ramesh\\"}"&gt;&gt;,
&gt; &lt;&lt;"{\\"age\\": 28, \\"name\\": \\"kumar\\"}"&gt;&gt;,
&gt; &lt;&lt;"{\\"age\\": 24, \\"name\\": \\"gopi\\"}"&gt;&gt;,
&gt; &lt;&lt;"{\\"age\\": 27, \\"name\\": \\"anil\\"}"&gt;&gt;}
&gt;
&gt; element(1,Tup).
&gt; &lt;&lt;"{\\"age\\": 24, \\"name\\": \\"krishna\\"}"&gt;&gt;
&gt;

Conversion to a tuple is unnecessary. As the answer to your StackOverflow
question on this topic indicates, you need a JSON parser. That answer
recommends jiffy, but any JSON parser will do. The code below uses jsx from
https://github.com/talentdeficit/jsx to extract each element of the R list
as JSON (in command 2), and to also extract the age element from each
element (in command 3). Both 2 and 3 use Erlang list comprehensions to
process each element of the R list.

--steve

1&gt; R =
1&gt; [&lt;&lt;"{\\"age\\": 24, \\"name\\": \\"krishna\\"}"&gt;&gt;,
1&gt; &lt;&lt;"{\\"age\\": 29, \\"name\\": \\"sharat\\"}"&gt;&gt;,
1&gt; &lt;&lt;"{\\"age\\": 25, \\"name\\": \\"ramesh\\"}"&gt;&gt;,
1&gt; &lt;&lt;"{\\"age\\": 28, \\"name\\": \\"kumar\\"}"&gt;&gt;,
1&gt; &lt;&lt;"{\\"age\\": 24, \\"name\\": \\"gopi\\"}"&gt;&gt;,
1&gt; &lt;&lt;"{\\"age\\": 27, \\"name\\": \\"anil\\"}"&gt;&gt;].
[&lt;&lt;"{\\"age\\": 24, \\"name\\": \\"krishna\\"}"&gt;&gt;,
 &lt;&lt;"{\\"age\\": 29, \\"name\\": \\"sharat\\"}"&gt;&gt;,
 &lt;&lt;"{\\"age\\": 25, \\"name\\": \\"ramesh\\"}"&gt;&gt;,
 &lt;&lt;"{\\"age\\": 28, \\"name\\": \\"kumar\\"}"&gt;&gt;,
 &lt;&lt;"{\\"age\\": 24, \\"name\\": \\"gopi\\"}"&gt;&gt;,
 &lt;&lt;"{\\"age\\": 27, \\"name\\": \\"anil\\"}"&gt;&gt;]
2&gt; [jsx:decode(J) || J &lt;- R].
[[{&lt;&lt;"age"&gt;&gt;,24},{&lt;&lt;"name"&gt;&gt;,&lt;&lt;"krishna"&gt;&gt;}],
 [{&lt;&lt;"age"&gt;&gt;,29},{&lt;&lt;"name"&gt;&gt;,&lt;&lt;"sharat"&gt;&gt;}],
 [{&lt;&lt;"age"&gt;&gt;,25},{&lt;&lt;"name"&gt;&gt;,&lt;&lt;"ramesh"&gt;&gt;}],
 [{&lt;&lt;"age"&gt;&gt;,28},{&lt;&lt;"name"&gt;&gt;,&lt;&lt;"kumar"&gt;&gt;}],
 [{&lt;&lt;"age"&gt;&gt;,24},{&lt;&lt;"name"&gt;&gt;,&lt;&lt;"gopi"&gt;&gt;}],
 [{&lt;&lt;"age"&gt;&gt;,27},{&lt;&lt;"name"&gt;&gt;,&lt;&lt;"anil"&gt;&gt;}]]
3&gt; [lists:keysearch(&lt;&lt;"age"&gt;&gt;, 1, jsx:decode(J)) || J &lt;- R].
[{value,{&lt;&lt;"age"&gt;&gt;,24}},
 {value,{&lt;&lt;"age"&gt;&gt;,29}},
 {value,{&lt;&lt;"age"&gt;&gt;,25}},
 {value,{&lt;&lt;"age"&gt;&gt;,28}},
 {value,{&lt;&lt;"age"&gt;&gt;,24}},
 {value,{&lt;&lt;"age"&gt;&gt;,27}}]
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

