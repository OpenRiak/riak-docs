---
title: "Re: Tuning a Riak cluster."
description: ""
project: community
lastmod: 2013-02-21T18:55:47-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10193"
mailinglist_parent_id: "msg10192"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2013-02-21T18:55:47-08:00
---


Well, I would say in any circumstance where you care about performance or the 
availability of your data. Obviously the gold standard is bare metal. A search 
on google for "aws guaranteed different physical machines" yielded this aws 
forum thread from 2006, 
https://forums.aws.amazon.com/message.jspa?messageID=55112. Things may have 
changed since then. But I use linode which tells you which physical hardware 
your vm is on.


On Feb 21, 2013, at 9:43 PM, Kevin Burton  wrote:

&gt; How strict is this “Under no circumstances should you have more than one VM 
&gt; (one logical node in a Riak cluster) on the same physical hardware” rule? It 
&gt; doesn’t fit my situation but there has to be some leniency because Riak has 
&gt; to work in a cloud and you are not guaranteed that your provisioned VM will 
&gt; be on different physical hardware than the other nodes.
&gt; 
&gt; From: Alexander Sicular [mailto:sicul...@gmail.com] 
&gt; Sent: Thursday, February 21, 2013 8:27 PM
&gt; To: Kevin Burton
&gt; Cc: 'Sean Carey'; riak-users@lists.basho.com
&gt; Subject: Re: Tuning a Riak cluster.
&gt; 
&gt; It can't be said enough times but the number one thing you can do to ensure 
&gt; that you are getting true performance (not to mention redundancy) is to use 
&gt; different physical hardware for each of your nodes. Under no circumstances 
&gt; should you have more than one VM (one logical node in a Riak cluster) on the 
&gt; same physical hardware. Also, use multiple 
&gt; connections/threads/parallelism/whatever on client side and be sure to hit 
&gt; all the nodes in the cluster haproxy roundrobin-esque when writing to Riak. 
&gt; Everything else is in the noise.
&gt; 
&gt; -Alexander Sicular
&gt; 
&gt; @siculars
&gt; 
&gt; On Feb 21, 2013, at 9:04 PM, Kevin Burton  wrote:
&gt; 
&gt; 
&gt; 
&gt; There each has about 20-30GB of disk space. They each are a VM so I am not 
&gt; sure how to specify the CPU. They all seem to be 64 bit Intel processors but 
&gt; I could tell you the clock speed. The network is 1Gb Ethernet.
&gt; 
&gt; From: Sean Carey [mailto:ca...@basho.com] 
&gt; Sent: Thursday, February 21, 2013 7:59 PM
&gt; To: Kevin Burton
&gt; Cc: riak-users@lists.basho.com
&gt; Subject: Re: Tuning a Riak cluster.
&gt; 
&gt; Kevin,
&gt; Disk and CPU, and Network?
&gt; 
&gt; 
&gt; Sean Carey
&gt; @densone
&gt; 
&gt; On Thursday, February 21, 2013 at 20:31, Kevin Burton wrote:
&gt; 
&gt; 
&gt; I have a cluster of 4 machines (4 Linux VM machines each allocated about 1 Gb 
&gt; of memory – yea I know it isn’t a lot). I would like to get some pointers on 
&gt; getting the fastest query time possible given these meager resources. Thank 
&gt; you.
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

