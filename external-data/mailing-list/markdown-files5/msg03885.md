---
title: "riak_core data handoff/rebalance"
description: ""
project: community
lastmod: 2011-06-30T14:04:30-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03885"
author_name: "Joel Meyer"
project_section: "mailinglistitem"
sent_date: 2011-06-30T14:04:30-07:00
---


I'm trying to understand when and how data handoff between nodes is
triggered in riak\\_core. I was under the impression that data would be
shuffled when a new node joined the cluster or an existing node left the
cluster, but maybe that's not the case? It looks like joining a cluster is
accomplished by gossiping your ring with a node in the cluster that you wish
to join (riak\\_core\\_gossip:send\\_ring(NodeInCluster, node())). Looking through
the code I don't see anywhere that a partitions data is transferred once an
updated ring is agreed upon. Leaving a cluster seems to be handled
similarly, but I don't see any handoff triggered in this case either. I must
be missing something obvious? I'm looking at tag riak\\_core-0.14.2.

Thanks,
Joel
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

