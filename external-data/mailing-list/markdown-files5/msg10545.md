---
title: "Re: No more disk space on a node of my Riak cluster"
description: ""
project: community
lastmod: 2013-03-21T12:22:17-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10545"
author_name: "Evan Vigil-McClanahan"
project_section: "mailinglistitem"
sent_date: 2013-03-21T12:22:17-07:00
---


It could be a large number of things, unfortunately. To go through
them all it somewhat outside of my skill set. Maybe someone more
network savvy can provide some pointers?

Perhaps checking with your network admin, or turning any software
firewalls on your nodes completely off, as a test?

On Thu, Mar 21, 2013 at 11:44 AM, Godefroy de Compreignac
 wrote:
&gt; But I don't understand what could stop transfers. Maybe a kernel setting?
&gt; How could I find out?
&gt;
&gt; --
&gt; Godefroy de Compreignac
&gt;
&gt; Eklaweb CEO - www.eklaweb.com
&gt; EklaBlog CEO - www.eklablog.com
&gt;
&gt; +33(0)6 11 89 13 84
&gt; http://www.linkedin.com/in/godefroy
&gt; http://twitter.com/Godefroy
&gt;
&gt;
&gt; 2013/3/21 Evan Vigil-McClanahan 
&gt;&gt;
&gt;&gt; Handoff is done by default on port 8099.
&gt;&gt;
&gt;&gt; I guess what I am getting at here is that this doesn't look like an
&gt;&gt; obvious riak problem, it's more likely that something on your network
&gt;&gt; or on your nodes is closing or interrupting those sockets; you'd most
&gt;&gt; likely get a different error if something internal to riak was causing
&gt;&gt; the transfers to fail.
&gt;&gt;
&gt;&gt; On Thu, Mar 21, 2013 at 10:09 AM, Godefroy de Compreignac
&gt;&gt;  wrote:
&gt;&gt; &gt; The only limitation that I'd see is Haproy which have a time limit:
&gt;&gt; &gt; contimeout 5000
&gt;&gt; &gt; clitimeout 50000
&gt;&gt; &gt; srvtimeout 3600000
&gt;&gt; &gt;
&gt;&gt; &gt; But Haproxy serves Riak on port 8098 and I configured Riak to use port
&gt;&gt; &gt; 8097:
&gt;&gt; &gt; {pb\\_port, 8087 }
&gt;&gt; &gt; {http, [ {"5.39.68.152", 8097 } ]}
&gt;&gt; &gt;
&gt;&gt; &gt; So I guess Riak use only port 8097 internally, without any limitation.
&gt;&gt; &gt;
&gt;&gt; &gt; And by checking logs, I see that a vnode transfer fails after a random
&gt;&gt; &gt; duration, sometimes a few minutes.
&gt;
&gt;

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

