---
title: "Re: Model design and atomic transactions"
description: ""
project: community
lastmod: 2017-07-05T14:57:06-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18312"
mailinglist_parent_id: "msg18311"
author_name: "Fred Dushin"
project_section: "mailinglistitem"
sent_date: 2017-07-05T14:57:06-07:00
---


Okay, I'll bite, but I don't know if anything I say will be satisfying.

In general Riak doesn't make any assumptions about ordering of data, 
particularly around back ends. While Riak does support levelDB as a back end, 
and does order keys (and other data, such as secondary indices), until very 
recently not much leveraged this ordering. We did a little work in Riak/KV to 
leverage ordering to optimize bucket and key listing, but that work was never 
released. If you are interested, the work is on a few PRs and branches [1]

Riak data is generally schema-less. Eventually-consistent Key, value, get, 
put, delete, with some more advanced features around the edges (secondary 
indexing, CRDTs, semi-structured search), as well a "enterprise-level" 
features, mostly focused around multi-datacenter replication. I am sure I am 
butchering the feature set of Riak, the product. But at it's core, that's the 
way I look at it.

Re: writes during network partitions, yes, of course, this part of the 
motivation of DynamoDB (not necessarily the product), and Riak faithfully 
implements the architecture, along with what guarantees can be provided for 
write availability in the presence of machine|network|software failure.

I can't really speak to ACID properties, except to say there is no 
transactional integrity in Riak, other than some tunable guarantees around 
reads and writes.

Can't say much about mnesia, except that Riak can store 100s of terabytes of 
data across a cluster (if not more).

Hope that helps.

-Fred

[1] https://github.com/basho/riak\\_kv/pull/1634 
 and 
https://github.com/basho/riak\\_kv/compare/jv-optimize\\_list\\_buckets...develop 


&gt; On Jul 4, 2017, at 1:49 PM, Amirouche  wrote:
&gt; 
&gt; HÃ©llo,
&gt; 
&gt; At work, we are studying the offering in the distributed database
&gt; space and my eyes stumbled upon riak (via erlang).
&gt; 
&gt; I am wondering how does riak compare to leveldb (bsddb, wiredtiger
&gt; and the like) when it comes down to schema design.
&gt; 
&gt; Does riak support orderred records based on the key?
&gt; 
&gt; If the records are ordered, is it possible to change the 'order'
&gt; function/procedure?
&gt; 
&gt; Regarding CAP I understand, that Riak is AP which means that some
&gt; time, some node can see old version the database. During a partition,
&gt; is it possible to do writes at this point?
&gt; 
&gt; I don't understand what ACID guarantees riak does provide. What's
&gt; the position of riak regarding ACID?
&gt; 
&gt; How do you compare riak and mnesia?
&gt; 
&gt; Thanks!
&gt; 
&gt; 
&gt; Amirouche ~ http://hyperdev.fr
&gt; 
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

