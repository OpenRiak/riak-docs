---
title: "Spaces in the search string"
description: ""
project: community
lastmod: 2016-09-05T15:26:09-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17621"
author_name: "sean mcevoy"
project_section: "mailinglistitem"
sent_date: 2016-09-05T15:26:09-07:00
---


Hi List,

We have a solr index where we store something like:
&lt;&lt;"{\\"key\\_s\\":\\"ID\\",\\"body\\_s\\":\\"some test string\\"}"&gt;&gt;}],

Then we try to do a riakc\\_pb\\_socket:search with the pattern:
&lt;&lt;"body\\_s:\\*test str\\*"&gt;&gt;

The request will fail with an error message telling us to check the logs
and in there we find:

2016-09-05 13:37:29.271 [error] &lt;0.12067.10&gt;@yz\\_pb\\_search:maybe\\_process:107
{solr\\_error,{400,"
http://localhost:10014/internal\\_solr/crm\\_db.campaign\\_index/select",&lt;&lt;"{\\"error\\":{\\"msg\\":\\"no
field name specified in query and no default specified via 'df'
param\\",\\"code\\":400}}\\n"&gt;&gt;}}
[{yz\\_solr,search,3,[{file,"src/yz\\_solr.erl"},{line,284}]},{yz\\_pb\\_search,maybe\\_process,3,[{file,"src/yz\\_pb\\_search.erl"},{line,78}]},{riak\\_api\\_pb\\_server,process\\_message,4,[{file,"src/riak\\_api\\_pb\\_server.erl"},{line,388}]},{riak\\_api\\_pb\\_server,connected,2,[{file,"src/riak\\_api\\_pb\\_server.erl"},{line,226}]},{riak\\_api\\_pb\\_server,decode\\_buffer,2,[{file,"src/riak\\_api\\_pb\\_server.erl"},{line,364}]},{gen\\_fsm,handle\\_msg,7,[{file,"gen\\_fsm.erl"},{line,505}]},{proc\\_lib,init\\_p\\_do\\_apply,3,[{file,"proc\\_lib.erl"},{line,239}]}]


Through experiment I've figured out that it doesn't like the space as it
seems to think the part of the search string after that space is a new key
to search for. Which seems fair enough.

Anyone know of a work-around? Or am I formatting my request incorrectly?

Thanks in advance.
//Sean.
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

