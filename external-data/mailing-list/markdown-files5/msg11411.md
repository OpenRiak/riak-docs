---
title: "Re: Urgent help with a down node."
description: ""
project: community
lastmod: 2013-07-08T00:52:18-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11411"
mailinglist_parent_id: "msg11409"
author_name: "Andrew Berman"
project_section: "mailinglistitem"
sent_date: 2013-07-08T00:52:18-07:00
---


Bryan,

What version of Erlang? You should check this out:
https://github.com/basho/riak\\_kv/issues/411

BTW - Google is your friend, which is how I found the above issue :)

--Andrew


On Sun, Jul 7, 2013 at 3:01 PM, Bryan Hughes  wrote:

&gt; Hi Mark,
&gt;
&gt; DOH - sorry for the lack of detail. Didnt have enough coffee this morning.
&gt;
&gt; OS: CentOS release 6.3 (Final)
&gt; Riak: Riak 1.2.1
&gt;
&gt; Hadnt had a chance to upgrade to 1.3 yet.
&gt;
&gt; Got the node back up - but not entirely sure why which is a little
&gt; concerning. Been verifying the data, and everything looks intact. When I
&gt; try to run riak-admin status, I get the following (note I am not entirely
&gt; sure this was the case when we first set the node up):
&gt;
&gt; $ riak-admin status
&gt; Status failed, see log for details
&gt;
&gt; The logs shows:
&gt;
&gt; 2013-07-07 14:55:03.858 [error] &lt;0.12982.0&gt;@riak\\_kv\\_console:status:173
&gt; Status failed error:function\\_clause
&gt; 2013-07-07 14:55:03.858 [error] emulator Error in process &lt;0.12983.0&gt; on
&gt; node 'riak@127.0.0.1' with exit value:
&gt; {badarg,[{erlang,system\\_info,[global\\_heaps\\_size],[]},{riak\\_kv\\_stat,system\\_stats,0,[{file,"src/riak\\_kv\\_stat.erl"},{line,421}]},{riak\\_kv\\_stat,produce\\_stats,0,[{file,"src/riak\\_kv\\_stat.erl"},{line,320}]},{timer,tc,3,[{file,"timer...
&gt;
&gt;
&gt; This is on a dev cluster with an out-of-the box configuration using
&gt; bitcask.
&gt;
&gt; Thanks!
&gt;
&gt; Bryan
&gt;
&gt;
&gt; On 7/7/13 2:51 PM, Mark Phillips wrote:
&gt;
&gt; Hi Bryan,
&gt;
&gt; I remember seeing something similar on the list a while ago. I'll dig
&gt; through the archives (Riak.markmail.org) if I have a few minutes later
&gt; tonight.
&gt;
&gt; In the mean time, what version of Riak is this? And what OS?
&gt;
&gt; Mark
&gt;
&gt; On Sunday, July 7, 2013, Bryan Hughes wrote:
&gt;
&gt;&gt; Anyone familiar with this error message?
&gt;&gt;
&gt;&gt; 2013-07-07 12:51:42 =ERROR REPORT====
&gt;&gt; Hintfile
&gt;&gt; './data/bitcask/22835963083295358096932575511191922182123945984/3.bitcask.hint'
&gt;&gt; contains pointer 16555635 566 that is greater than total data size 16556032
&gt;&gt; 2013-07-07 12:51:45 =ERROR REPORT====
&gt;&gt; Hintfile
&gt;&gt; './data/bitcask/114179815416476790484662877555959610910619729920/3.bitcask.hint'
&gt;&gt; contains pointer 17817310 567 that is greater than total data size
&gt;&gt; 17817600
&gt;&gt; 2013-07-07 12:51:46 =ERROR REPORT====
&gt;&gt; Hintfile
&gt;&gt; './data/bitcask/159851741583067506678528028578343455274867621888/3.bitcask.hint'
&gt;&gt; contains pointer 7573448 567 that is greater than total data size 7573504
&gt;&gt; 2013-07-07 12:51:46 =ERROR REPORT====
&gt;&gt; Bad datafile entry 1:
&gt;&gt; {ok,&lt;&lt;131,104,2,109,0,0,0,9,65,80,73,67,79,85,78,84,83,109,0,0,0,33,55,56,54,57,52,49,56,49,94,103,111,115,101,114,118,105,99,101,95,99&gt;&gt;}
&gt;&gt; 2013-07-07 12:51:56 =ERROR REPORT====
&gt;&gt; Hintfile
&gt;&gt; './data/bitcask/730750818665451459101842416358141509827966271488/3.bitcask.hint'
&gt;&gt; contains pointer 13229833 581 that is greater than total data size 13230080
&gt;&gt; 2013-07-07 12:52:05 =ERROR REPORT====
&gt;&gt; Hintfile
&gt;&gt; './data/bitcask/1187470080331358621040493926581979953470445191168/3.bitcask.hint'
&gt;&gt; contains pointer 23465420 578 that is greater than total data size 23465984
&gt;&gt; 2013-07-07 12:52:06 =ERROR REPORT====
&gt;&gt; Hintfile
&gt;&gt; './data/bitcask/1210306043414653979137426502093171875652569137152/3.bitcask.hint'
&gt;&gt; contains pointer 27733824 578 that is greater than total data size 27734016
&gt;&gt; 2013-07-07 12:52:07 =ERROR REPORT====
&gt;&gt; Hintfile
&gt;&gt; './data/bitcask/1233142006497949337234359077604363797834693083136/3.bitcask.hint'
&gt;&gt; contains pointer 15014008 578 that is greater than total data size
&gt;&gt; 15014586
&gt;&gt; 2013-07-07 12:54:43 =ERROR REPORT====
&gt;&gt; Bad datafile entry, discarding(383/566 bytes)
&gt;&gt; 2013-07-07 12:54:45 =ERROR REPORT====
&gt;&gt; Bad datafile entry, discarding(276/567 bytes)
&gt;&gt; 2013-07-07 12:54:46 =ERROR REPORT====
&gt;&gt; Bad datafile entry, discarding(42/567 bytes)
&gt;&gt; 2013-07-07 12:54:57 =ERROR REPORT====
&gt;&gt; Bad datafile entry, discarding(233/581 bytes)
&gt;&gt; 2013-07-07 12:55:06 =ERROR REPORT====
&gt;&gt; Bad datafile entry, discarding(550/578 bytes)
&gt;&gt; 2013-07-07 12:55:07 =ERROR REPORT====
&gt;&gt; Bad datafile entry, discarding(178/578 bytes)
&gt;&gt; 2013-07-07 12:56:00 =ERROR REPORT====
&gt;&gt; Error in process &lt;0.1536.0&gt; on node 'riak@127.0.0.1' with exit value:
&gt;&gt; {badarg,[{erlang,system\\_info,[global\\_heaps\\_size],[]},{riak\\_kv\\_stat,system\\_stats,0,[{file,"src/riak\\_kv\\_stat.erl"},{line,421}]},{riak\\_kv\\_stat,produce\\_stats,0,[{file,"src/riak\\_kv\\_stat.erl"},{line,320}]},{timer,tc,3,[{file,"timer...
&gt;&gt;
&gt;&gt; --
&gt;&gt;
&gt;&gt; Bryan Hughes
&gt;&gt; \\*Go Factory\\*
&gt;&gt; http://www.go-factory.net
&gt;&gt;
&gt;&gt; \\*"Internet Class, Enterprise Grade"\\*
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt; --
&gt;
&gt; Bryan Hughes
&gt; CTO and Founder / \\*Go Factory\\*
&gt; (415) 515-7916
&gt;
&gt; http://www.go-factory.net
&gt;
&gt; \\*"Internet Class, Enterprise Grade"\\*
&gt;
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

