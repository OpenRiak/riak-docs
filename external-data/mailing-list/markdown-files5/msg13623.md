---
title: "Re: Help! Uncaught error in rebar_core:"
description: ""
project: community
lastmod: 2014-02-08T14:42:10-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13623"
mailinglist_parent_id: "msg13620"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2014-02-08T14:42:10-08:00
---


Hi Bryan,

You'll want to use a 1.4 branch/tag of riakc if you are connecting to Riak
1.4.x. The master branch is for Riak 2.0. Consider changing your dependency
to be this:

{riakc, "1.4.\\*", {git, "git://github.com/basho/riak-erlang-client.git",
{branch, "1.4"}}}

If that does not resolve your issue, please report back.


On Sat, Feb 8, 2014 at 11:31 PM, Bryan Hughes  wrote:

&gt; Howdy,
&gt;
&gt; Was wondering if anyone can give me some help into what is going on. I
&gt; made the mistake and decided to do a clean build, including getting all new
&gt; deps and sure enough, and am suddenly having problems with rebar.
&gt; Understand everything built prior to pulling new deps just a few minutes
&gt; ago.
&gt;
&gt; I am on a Mac with the latest OS.
&gt;
&gt; Erlang: Erlang R16B03 (erts-5.10.4)
&gt; Rebar: rebar 2.0.0 R14B04 20120604\\_145614 git 0f24d93
&gt; Riak: 1.4.2
&gt;
&gt; When I run rebar dep-deps, it pulls all the dependencies but then gives me
&gt; the output below. When I go into riak\\_pb, I type 'rebar get-deps' and it
&gt; pulls the dependencies ok. I then type 'rebar compile', and it compiles
&gt; ok. When I step up to the top level project directory, it still craps out
&gt; on the riak\\_pb dependency directory. I have our rebar.config output below
&gt; the error message.
&gt;
&gt; ==&gt; Entering directory
&gt; `/Users/bryan/projects/wobblesoft/engineering/gofactory\\_gomachine/deps/goldrush'
&gt; ==&gt; goldrush (get-deps)
&gt; ==&gt; Leaving directory
&gt; `/Users/bryan/projects/wobblesoft/engineering/gofactory\\_gomachine/deps/goldrush'
&gt; ==&gt; Leaving directory
&gt; `/Users/bryan/projects/wobblesoft/engineering/gofactory\\_gomachine/deps/lager'
&gt; ==&gt; Entering directory
&gt; `/Users/bryan/projects/wobblesoft/engineering/gofactory\\_gomachine/deps/uuid'
&gt; ==&gt; uuid (get-deps)
&gt; ==&gt; Leaving directory
&gt; `/Users/bryan/projects/wobblesoft/engineering/gofactory\\_gomachine/deps/uuid'
&gt; ==&gt; Entering directory
&gt; `/Users/bryan/projects/wobblesoft/engineering/gofactory\\_gomachine/deps/riakc'
&gt; ==&gt; riakc (get-deps)
&gt; Pulling riak\\_pb from {git,"git://github.com/basho/riak\\_pb"
&gt; ,{tag,"2.0.0.12"}}
&gt; Cloning into 'riak\\_pb'...
&gt; Checking connectivity... done
&gt; ==&gt; Entering directory
&gt; `/Users/bryan/projects/wobblesoft/engineering/gofactory\\_gomachine/deps/riak\\_pb'
&gt; Uncaught error in rebar\\_core: {'EXIT',
&gt; {{badmatch,
&gt; {ok,
&gt; {config,
&gt;
&gt; "/Users/bryan/projects/wobblesoft/engineering/gofactory\\_gomachine/deps/riak\\_pb",
&gt; [{erl\\_opts,[debug\\_info]},
&gt; {deps,
&gt; [{protobuffs,"0.8.\\*",
&gt; {git,
&gt;
&gt; "git://github.com/basho/erlang\\_protobuffs.git",
&gt; {tag,"0.8.1p3"}}}]},
&gt; {eunit\\_opts,[verbose]},
&gt; {plugins,[riak\\_pb\\_msgcodegen]},
&gt; {plugin\\_dir,"plugins"},
&gt; {escript\\_name,"doesnothavescript"},
&gt; local,
&gt; {cover\\_enabled,true},
&gt; {eunit\\_opts,[verbose]},
&gt;
&gt; {erl\\_opts,[warnings\\_as\\_errors,debug\\_info]},
&gt; {deps,
&gt; [{riak\\_pb,"2.0.0.12",
&gt; {git,
&gt; "git://github.com/basho/riak\\_pb",
&gt; {tag,"2.0.0.12"}}}]},
&gt; {edoc\\_opts,
&gt; [{stylesheet\\_file,"priv/edoc.css"},
&gt; {preprocess,true}]},
&gt; {clean\\_files,
&gt; ["doc/\\*.html","doc/\\*.png",
&gt; "doc/edoc-info","doc/\\*.css"]},
&gt; {application,gomachine,
&gt; [{description,"Go Factory Platform"},
&gt; {vsn,"3.5.0"}]},
&gt; {pre\\_hooks,
&gt; [{compile,"./generate-include.sh"}]},
&gt; {erl\\_opts,
&gt; [debug\\_info,
&gt; {parse\\_transform,lager\\_transform}]},
&gt; {lib\\_dirs,["deps","apps"]},
&gt; {sub\\_dirs,["rel"]},
&gt; {ct\\_dir,"ct"},
&gt; {ct\\_log\\_dir,"log"},
&gt; {plugins,[rebar\\_ct]},
&gt; {deps,
&gt; [{lager,".\\*",
&gt; {git,
&gt; "git://github.com/basho/lager.git"
&gt; ,
&gt; {branch,"master"}}},
&gt; {uuid,".\\*",
&gt; {git,
&gt;
&gt; "git://github.com/avtobiff/erlang-uuid.git",
&gt; {branch,"master"}}},
&gt; {riakc,".\\*",
&gt; {git,
&gt;
&gt; "git://github.com/basho/riak-erlang-client.git",
&gt; {branch,"master"}}},
&gt; {mochiweb,".\\*",
&gt; {git,
&gt;
&gt; "g...@github.com:GOFactory/mochiweb.git"
&gt; ,
&gt; {branch,"master"}}},
&gt; {erlydtl,".\\*",
&gt; {git,
&gt;
&gt; "git://github.com/evanmiller/erlydtl.git",
&gt; {branch,"master"}}},
&gt; {gen\\_smtp,".\\*",
&gt; {git,
&gt;
&gt; "git://github.com/Vagabond/gen\\_smtp.git",
&gt; {branch,"master"}}},
&gt; {gofactory\\_proto,".\\*",
&gt; {git,
&gt;
&gt; "g...@github.com:GOFactory/gofactory\\_proto.git"
&gt; ,
&gt; {branch,"master"}}},
&gt; {morey\\_mc,".\\*",
&gt; {git,
&gt;
&gt; "g...@github.com:GOFactory/morey\\_mc.git"
&gt; ,
&gt; {branch,"master"}}},
&gt; {pbkdf2,".\\*",
&gt; {git,
&gt;
&gt; "git://github.com/whitelynx/erlang-pbkdf2.git",
&gt; {branch,"master"}}}]},
&gt; {eunit\\_opts,
&gt; [verbose,
&gt;
&gt; {report,{eunit\\_surefire,[{dir,"."}]}}]},
&gt; {cover\\_enabled,true},
&gt; {require\\_otp\\_vsn,"R15|R16"}],
&gt; {dict,0,16,16,8,80,48,
&gt;
&gt; {[],[],[],[],[],[],[],[],[],[],[],[],[],
&gt; [],[],[]},
&gt;
&gt; {{[],[],[],[],[],[],[],[],[],[],[],[],[],
&gt; [],[],[]}}}},
&gt; []}},
&gt; [{rebar\\_core,acc\\_modules,5,[]},
&gt; {rebar\\_core,process\\_dir0,6,[]},
&gt; {rebar\\_core,process\\_dir,4,[]},
&gt; {rebar\\_core,process\\_each,5,[]},
&gt; {rebar\\_core,process\\_dir0,6,[]},
&gt; {rebar\\_core,process\\_dir,4,[]},
&gt; {rebar\\_core,process\\_each,5,[]},
&gt; {rebar\\_core,process\\_dir0,6,[]}]}}
&gt;
&gt; =============================================================
&gt;
&gt; rebar.config
&gt;
&gt; %% -\\*- erlang -\\*-
&gt;
&gt; {application, gomachine, [{description, "Go Factory Platform"}, {vsn,
&gt; "3.5.0"}]}.
&gt;
&gt; {pre\\_hooks, [{compile, "./generate-include.sh"}]}.
&gt;
&gt; {erl\\_opts, [debug\\_info, {parse\\_transform, lager\\_transform}]}.
&gt;
&gt; {lib\\_dirs, ["deps", "apps"]}.
&gt;
&gt; %%{clean\\_files, ["\\*.eunit", "ebin/\\*.beam", "src/gof\\_\\*.erl",
&gt; "test/gof\\_\\*.erl", "proto/\\*.proto"]}.
&gt;
&gt; {sub\\_dirs, ["rel"]}.
&gt;
&gt; {ct\\_dir, "ct"}.
&gt; {ct\\_log\\_dir, "log"}.
&gt;
&gt; {plugins, [rebar\\_ct]}.
&gt;
&gt; {deps, [{lager, ".\\*", {git, "git://github.com/basho/lager.git", {branch,
&gt; "master"}}},
&gt; {uuid, ".\\*", {git, "git://github.com/avtobiff/erlang-uuid.git",
&gt; {branch, "master"}}},
&gt; {riakc, ".\\*", {git,
&gt; "git://github.com/basho/riak-erlang-client.git", {branch, "master"}}},
&gt; {mochiweb, ".\\*", {git, 
&gt; "g...@github.com:GOFactory/mochiweb.git",
&gt; {branch, "master"}}},
&gt; {erlydtl, ".\\*", {git, "git://github.com/evanmiller/erlydtl.git",
&gt; {branch, "master"}}},
&gt; {gen\\_smtp, ".\\*", {git, "git://github.com/Vagabond/gen\\_smtp.git",
&gt; {branch, "master"}}},
&gt; {gofactory\\_proto, ".\\*", {git,
&gt; "g...@github.com:GOFactory/gofactory\\_proto.git",
&gt; {branch, "master"}}},
&gt; {morey\\_mc, ".\\*", {git, 
&gt; "g...@github.com:GOFactory/morey\\_mc.git",
&gt; {branch, "master"}}},
&gt; {pbkdf2, ".\\*", {git,
&gt; "git://github.com/whitelynx/erlang-pbkdf2.git", {branch, "master"}}}
&gt; ]}.
&gt;
&gt; {eunit\\_opts, [verbose, {report, {eunit\\_surefire, [{dir, "."}]}}]}.
&gt;
&gt; {cover\\_enabled, true}.
&gt;
&gt; {require\\_otp\\_vsn, "R15|R16"}.
&gt;
&gt; --
&gt;
&gt; Bryan Hughes
&gt; \\*Go Factory\\*
&gt; (415) 515-7916
&gt; http://www.go-factory.net
&gt;
&gt; \\*"Internet Class, Enterprise Grade"\\*
&gt;
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;


-- 
Sean Cribbs 
Software Engineer
Basho Technologies, Inc.
http://basho.com/
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

