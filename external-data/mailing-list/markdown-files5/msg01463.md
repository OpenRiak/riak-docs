---
title: "Re: Data stored in Search *and* KV ?"
description: ""
project: community
lastmod: 2010-11-04T11:21:46-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01463"
mailinglist_parent_id: "msg01460"
author_name: "Rusty Klophaus"
project_section: "mailinglistitem"
sent_date: 2010-11-04T11:21:46-07:00
---


Hi Nicolas,

Search stores a representation of the indexed object so that it knows what
to do later if you delete the object, change the object, or re-index the
object with a different analyzer. The representation allows us to delete the
old inverted index entries correctly.

We have considered adding a toggle to disable storage of the representation
object for write-once data, but it's not something the system currently
supports.

Best,
Rusty

On Thu, Nov 4, 2010 at 10:33 AM, Nicolas Fouch√© wrote:

&gt; Hi,
&gt;
&gt; Following the discussion with seancribbs and Tv on #riak:
&gt; http://pastie.org/private/acxekqyapbk7fz1hcp8udg
&gt;
&gt; I only index documents with the bucket precommit hook and I do all my
&gt; searches via Map/Reduce queries.
&gt; I'm not sure how Search works, if there is an inverted index and a
&gt; forward index. I'm just "worried" about storing full documents in the
&gt; Search forward index \\*and\\* in KV, as I would just need the Search
&gt; forward index to store the document id (=key in KV).
&gt;
&gt; Do you consider this as a problem ? Is it how the way Search works,
&gt; and I would have to live with data stored twice ?
&gt;
&gt; -- Nicolas
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

