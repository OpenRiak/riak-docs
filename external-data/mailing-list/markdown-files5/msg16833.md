---
title: "RE: LucidWorks Banana Integration"
description: ""
project: community
lastmod: 2015-11-29T22:16:12-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16833"
mailinglist_parent_id: "msg16830"
author_name: "Mark Schmidt"
project_section: "mailinglistitem"
sent_date: 2015-11-29T22:16:12-08:00
---


Hi Dams, I appreciate the assistance.

 

I was able to turn up Banana fairly easily using the steps you laid out
below, but I have a few questions regarding communicating with my Riak
environment.

 

We have a 6 Riak nodes sitting behind a proxy that handles both HTTP and
protocol buffer load balancing. I've turned up a new standalone Riak node
(hosts Banana/Nginx) outside of the cluster.

 

1) Should the Nginx config file be pointed at my HAProxy IP that
handles the Riak node load balancing, or do I need to incorporate additional
settings in the config to handle the 6 Riak Solr nodes?

2) Should I use the Riak HTTP interface port (8098) or the Solr
interface port (8093) in the Nginx config file? 

3) Is there any way to perform faceted queries or other more advanced
query functionality against the Riak Solr nodes? Searching through the
conversation archives, it sounds like we may be able to query the Solr nodes
themselves outside of the Riak API.

 

Thanks again Dams,

 

- Mark Schmidt 

 

From: Damien Krotkine [mailto:dam...@krotkine.com] 
Sent: Saturday, November 28, 2015 5:50 AM
To: Mark Schmidt 
Cc: 'riak-users' 
Subject: Re: LucidWorks Banana Integration

 

Hi Mark,

I have successfully integrated Banana with Riak 2.0 Solr implementation. I
simply configured a nginx to act as proxy between Riak Search / Solr / What
banana expects. So basically:
- Install Riak 2, java, and enable Riak Search (follow basho doc)
- Install banana
- install nginx and use this as a base :
https://github.com/glickbot/riak-banana/blob/b9bd32242ee0a6ee133fb2804b1976a
4fcd73f82/puppet/modules/riakbanana/templates/nginx.conf.erb
- configure banana to point to the solr on your riak search.

If you need more help, feel free to ask,

dams


Mark Schmidt wrote:



Has anyone successfully integrated Banana with the Riak 2.0 Solr
implementation? 

 

Regards,

 

- Mark Schmidt

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com  
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

 

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

