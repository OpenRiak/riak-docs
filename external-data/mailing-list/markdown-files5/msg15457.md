---
title: "Re: Riak Search having issues with custom schema"
description: ""
project: community
lastmod: 2015-01-09T08:48:09-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15457"
mailinglist_parent_id: "msg15456"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2015-01-09T08:48:09-08:00
---


Can you retrieve the object using "curl" and let me know what the
"Content-Type" header is when returned?
--
Luke Bakken
Engineer
lbak...@basho.com


On Fri, Jan 9, 2015 at 8:44 AM, Santi Kumar  wrote:
&gt; No content type is specified explicitly. Directly object is passed to
&gt; StoreValue.Builder(). Some where I read that pojo is extracted as json. Am
&gt; I missing something?
&gt;
&gt; ..... Here is the code.
&gt;
&gt; Location user\\_locaiton = new Location(nameSpace, key);
&gt;
&gt; StoreValue storeUserOp = new StoreValue.Builder(object)
&gt;
&gt; .withLocation(user\\_locaiton)
&gt;
&gt; .withOption(StoreValue.Option.W, Quorum.allQuorum())
&gt;
&gt; .build();
&gt;
&gt; RiakFuture Location&gt; storeValueOpFuture = client.executeAsync(storeUserOp);
&gt;
&gt; storeValueOpFuture.await();
&gt;
&gt; logger.debug("Stroed Values for "+key+" in Bucket "+bucket);
&gt;
&gt; if(!storeValueOpFuture.isSuccess() || storeValueOpFuture.isCancelled() ||
&gt; !storeValueOpFuture.isDone()){
&gt;
&gt; throw new
&gt; InternalServerException(InternalServerException.ErrorCode.RIAK\\_EROR,"Exception
&gt; while storing object against key "+key+" in Bucket "+bucket);
&gt;
&gt; }
&gt;
&gt;
&gt; On Jan 9, 2015 9:42 PM, "Luke Bakken"  wrote:
&gt;&gt;
&gt;&gt; How are you storing these objects? What "Content-Type" is being used?
&gt;&gt; --
&gt;&gt; Luke Bakken
&gt;&gt; Engineer
&gt;&gt; lbak...@basho.com
&gt;&gt;
&gt;&gt;
&gt;&gt; On Fri, Jan 9, 2015 at 7:04 AM, Santi Kumar  wrote:
&gt;&gt; &gt; Hi,
&gt;&gt; &gt; We are having issues with Riak Search custom schema. Application has
&gt;&gt; &gt; multiple POJO's and we are using Java client to write into RIakKV.
&gt;&gt; &gt; Configured custom solr schema with indexed fields from all POJOs. After
&gt;&gt; &gt; adding the "Catch-All" field, solr is not indexing any fields from any
&gt;&gt; &gt; of
&gt;&gt; &gt; the Pojo.
&gt;&gt; &gt;
&gt;&gt; &gt; No errors in solr log also. Not having any clues why nothing is indexed
&gt;&gt; &gt; except the Riak fields. Here is how the fields are specified in solr
&gt;&gt; &gt; schema,
&gt;&gt; &gt; not attaching everything. We have multiple indexes and buckets for
&gt;&gt; &gt; different
&gt;&gt; &gt; pojos, but difined only one schema for all the indexes. Same schema is
&gt;&gt; &gt; being
&gt;&gt; &gt; configured for each index. Would that be an issue? For example for
&gt;&gt; &gt; Access
&gt;&gt; &gt; has seperate index and condition has seperate index. But both fields for
&gt;&gt; &gt; both of them are defined in one schema and passed to both the indexes.
&gt;&gt; &gt;
&gt;&gt; &gt; 
&gt;&gt; &gt;
&gt;&gt; &gt; 
&gt;&gt; &gt;
&gt;&gt; &gt; &gt; &gt; stored="false" /&gt;
&gt;&gt; &gt;
&gt;&gt; &gt; &gt; &gt; stored="false"
&gt;&gt; &gt; /&gt;
&gt;&gt; &gt;
&gt;&gt; &gt; &gt; &gt; /&gt;
&gt;&gt; &gt;
&gt;&gt; &gt; &gt; &gt; stored="false" /&gt;
&gt;&gt; &gt;
&gt;&gt; &gt; &gt; &gt; stored="false" /&gt;
&gt;&gt; &gt;
&gt;&gt; &gt; &gt; &gt; /&gt;
&gt;&gt; &gt;
&gt;&gt; &gt; 
&gt;&gt; &gt;
&gt;&gt; &gt; 
&gt;&gt; &gt;
&gt;&gt; &gt; &gt; &gt; stored="false" /&gt;
&gt;&gt; &gt;
&gt;&gt; &gt; 
&gt;&gt; &gt;
&gt;&gt; &gt; 
&gt;&gt; &gt;
&gt;&gt; &gt; 
&gt;&gt; &gt;
&gt;&gt; &gt; 
&gt;&gt; &gt;
&gt;&gt; &gt; 
&gt;&gt; &gt;
&gt;&gt; &gt; 
&gt;&gt; &gt;
&gt;&gt; &gt; 
&gt;&gt; &gt;
&gt;&gt; &gt; Thanks
&gt;&gt; &gt; Santi
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; &gt; riak-users mailing list
&gt;&gt; &gt; riak-users@lists.basho.com
&gt;&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt; &gt;

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

