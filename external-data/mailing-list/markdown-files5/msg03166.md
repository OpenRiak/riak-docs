---
title: "Re: Structure of riak_object:get_value result"
description: ""
project: community
lastmod: 2011-04-29T23:17:13-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03166"
mailinglist_parent_id: "msg03156"
author_name: "Mikhail Sobolev"
project_section: "mailinglistitem"
sent_date: 2011-04-29T23:17:13-07:00
---


Hi Kresten,

On Fri, Apr 29, 2011 at 12:18:11AM +0200, Kresten Krab Thorup wrote:
&gt; At any rate, you'll already have a JSON decoder (mochijson2) when running 
&gt; inside Riak; so you can do
&gt; 
&gt; JSON = mochijson2:decode(Value)
&gt; 
&gt; To decode your JSON. For the JSON document {"key":4, "val":{"x"="y"}} , that 
&gt; function should return 
&gt; 
&gt; {struct, [{&lt;&lt;"key"&gt;&gt;, 4}, 
&gt; {&lt;&lt;"val"&gt;&gt;, {struct, 
&gt; [{&lt;&lt;"x"&gt;&gt;, &lt;&lt;"y"&gt;&gt;}]}]}
&gt; 
&gt; 
&gt; ... and you should be good to go.
Thanks for the example and reminding me that values are, in fact, of
arbitrary content :)

Now I can proceed further in my learning :)

--
Misha


signature.asc
Description: Digital signature
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

