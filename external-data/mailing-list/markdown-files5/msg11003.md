---
title: "Annoying riak-admin transfers display bug"
description: ""
project: community
lastmod: 2013-05-03T06:11:36-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11003"
author_name: "Chris Read"
project_section: "mailinglistitem"
sent_date: 2013-05-03T06:11:36-07:00
---


Greetings...

There's a bug in the display output of riak-admin transfers that I can't
take any more, I must say something!

It only displays the first 16 characters of the node name when showing you
who's handing off where. As our node names are 18 characters long
(r...@xx.xx.xxx.xxx) we loose the most important part of the name when
trying to diagnose a problem.

Here's what I'm currently seeing:

# riak-admin transfers
Attempting to restart script through sudo -H -u riak
'r...@10.xx.xxx.150' waiting to handoff 2 partitions
'r...@10.xx.xxx.149' waiting to handoff 2 partitions
'r...@10.xx.xxx.148' waiting to handoff 1 partitions
'r...@10.xx.xxx.147' waiting to handoff 1 partitions
'r...@10.xx.xxx.144' waiting to handoff 1 partitions
'r...@10.xx.xxx.139' waiting to handoff 1 partitions
'r...@10.xx.xxx.138' waiting to handoff 1 partitions
'r...@10.xx.xxx.137' waiting to handoff 2 partitions
'r...@10.xx.xxx.136' waiting to handoff 2 partitions
'r...@10.xx.xxx.134' waiting to handoff 2 partitions

Active Transfers:

transfer type: ownership\\_handoff
vnode type: riak\\_kv\\_vnode
partition: 68507889249886074290797726533575766546371837952
started: 2013-04-26 19:44:26 [6.72 d ago]
last update: no updates seen
objects transferred: unknown

 unknown
r...@10.xx.xxx.1 =======================&gt; r...@10.xx.xxx.1
 unknown

transfer type: ownership\\_handoff
vnode type: riak\\_kv\\_vnode
partition: 742168800207099138150308704113737470919028244480
started: 2013-05-01 21:51:07 [1.63 d ago]
last update: no updates seen
objects transferred: unknown

 unknown
r...@10.xx.xxx.1 =======================&gt; r...@10.xx.xxx.1
 unknown


So I can see I've got some stalled handoffs somewhere, but I have to then
run "riak-admin ring-status" to see who the offending nodes are (easy
workaround as it's an ownership handoff).

Please make it better...

Thanks!

Chris
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

