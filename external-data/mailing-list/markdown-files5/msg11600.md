---
title: "Re: riak_kv_memory_backend in production"
description: ""
project: community
lastmod: 2013-07-18T10:35:37-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11600"
mailinglist_parent_id: "msg11596"
author_name: "Dave Martorana"
project_section: "mailinglistitem"
sent_date: 2013-07-18T10:35:37-07:00
---


In using riak\\_kv\\_memory\\_backend as a replacement of sorts for Redis or
memcached, is there any serious problem with using a single node and an
n\\_val of 1? I can’t (yet) afford 5 high-RAM servers for a caching layer,
and was looking to replace our memcached box with a Redis one. In the
interest of reducing disparate-technology reliance, running a single-node
riak\\_kv\\_memory\\_backend instance would be preferable, unless there are
serious concerns \\*aside\\* from data loss.

For us, it’s it’s still a LRU-destroy-model cache, and losing it to machine
failure is only a minor, temporary impediment. Any reason not to run a
single-node memory-only “cluster” as a replacement for a single-machine
memcached or Redis instance?


On Thu, Jul 18, 2013 at 11:23 AM, Guido Medina wrote:

&gt; Forgot to mention, with N=2 should he be able to have only 4 nodes and
&gt; focus on RAM per node rather than 5?
&gt;
&gt; I know is not recommended but shouldn't N=2 reduce the minimum recommended
&gt; nodes to 4?
&gt;
&gt; Guido.
&gt;
&gt;
&gt; On 18/07/13 16:21, Guido Medina wrote:
&gt;
&gt; Since the data he is requiring to store is only "transient", would it make
&gt; sense to set N=2 for performance? Or will N=2 have the opposite effect due
&gt; to amount of nodes having such replica?
&gt;
&gt; Guido.
&gt;
&gt; On 18/07/13 16:15, Jared Morrow wrote:
&gt;
&gt; Kumar,
&gt;
&gt; We have a few customers who use the memory backend. The first example I
&gt; could find (with the help of our CSE team) uses the memory backend on 8
&gt; machines with 12gb of ram each.
&gt;
&gt; I know you are just testing right now, but we'd suggest using 5 node
&gt; minimum. With N=3 on a 3-node cluster you could be writing multiple
&gt; replicas to the same machine.
&gt;
&gt; Good luck in your testing,
&gt; -Jared
&gt;
&gt;
&gt;
&gt;
&gt; On Thu, Jul 18, 2013 at 8:38 AM, kpandey  wrote:
&gt;
&gt;&gt; Are there known production installation of riak that uses
&gt;&gt; riak\\_kv\\_memory\\_backend. We have a need to store transient data just in
&gt;&gt; memory ( never hitting persistent store). I'm testing riak on aws with 3
&gt;&gt; node cluster and looks good so far. Just wanted to find out what kind of
&gt;&gt; setup people are using in production.
&gt;&gt;
&gt;&gt; Thanks
&gt;&gt; Kumar
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; --
&gt;&gt; View this message in context:
&gt;&gt; http://riak-users.197444.n3.nabble.com/riak-kv-memory-backend-in-production-tp4028393.html
&gt;&gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing 
&gt; listriak-users@lists.basho.comhttp://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

