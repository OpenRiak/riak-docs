---
title: "Re: Riak 1.0 pre2 legacy_keylisting crash"
description: ""
project: community
lastmod: 2011-09-12T05:12:42-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04664"
mailinglist_parent_id: "msg04657"
author_name: "Bryan Fink"
project_section: "mailinglistitem"
sent_date: 2011-09-12T05:12:42-07:00
---


Hi, Ryan. From the log messages you've pasted so far, it looks like
something decided to shutdown the MapReduce pipe explicitly ("Reason:
killed"). That can happen if there is a problem sending inputs, or if
the request times out. In either of those cases, you should have
received an error on the client side: anything interesting in your
Ruby logs?

It's possible that there is an oversight in the new Riak Pipe plumbing
of MapReduce. Could you please try your experiment again, but set
'mapred\\_system' to 'legacy' (not 'pipe') in riak\\_kv's app.config,
please? If your query works on the legacy system, would you be able
to share it, so we could find the oversight? It would also be useful
to know whether you have Ripple using HTTP or Protocol Buffers.

-Bryan

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

