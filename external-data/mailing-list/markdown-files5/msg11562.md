---
title: "Re: Quickly deleting + recreating item in Riak deletes new item"
description: ""
project: community
lastmod: 2013-07-16T22:35:10-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11562"
mailinglist_parent_id: "msg11553"
author_name: "Matthew Dawson"
project_section: "mailinglistitem"
sent_date: 2013-07-16T22:35:10-07:00
---


On July 16, 2013 12:00:36 PM Gabriel Littman wrote:
&gt; Please correct me if I'm wrong, but I think the right answer is doing a GET
&gt; first so you have a vector clock that is after the delete. Then you should
&gt; be able to be sure your new write wins in any sibling resolution.
&gt; 
&gt; Gabe
&gt; 
I would assume this to be the case. I've even made sure my delete requests 
all have vclocks attached (by doing a GET first). However I still see missing 
keys every so often.

By making each key unique across runs of the test suite seems to solve things, 
but I don't like that as a solution. And I'm not sure if this is an actual 
bug or not. If this behaviour is considered a bug, I can try making a minimal 
reproducible test case and file a bug using that.
-- 
Matthew

signature.asc
Description: This is a digitally signed message part.
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

