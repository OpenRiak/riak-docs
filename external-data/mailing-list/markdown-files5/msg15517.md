---
title: "Re: Riak CS Won't Start After Upgrade"
description: ""
project: community
lastmod: 2015-01-16T09:44:33-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15517"
mailinglist_parent_id: "msg15516"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2015-01-16T09:44:33-08:00
---


If your Riak CS version changed, ensure that add\\_paths points to the
correct directory:

http://docs.basho.com/riakcs/latest/cookbooks/configuration/Configuring-Riak/

There is a version string embedded in the path that will change on upgrades.
--
Luke Bakken
Engineer
lbak...@basho.com


On Fri, Jan 16, 2015 at 8:59 AM, Valenti, Anthony
 wrote:
&gt; Of course you have to have Riak started. It looked like it started
&gt; normally, but then it failed. The error is complaining about an invalid
&gt; storage backend, which didnâ€™t change.
&gt;
&gt;
&gt;
&gt; 2015-01-16 10:13:44.911 [info] &lt;0.7.0&gt; Application lager started on node
&gt; 'riak@192.168.40.28'
&gt;
&gt; 2015-01-16 10:13:44.934 [info] &lt;0.7.0&gt; Application sasl started on node
&gt; 'riak@192.168.40.28'
&gt;
&gt; 2015-01-16 10:13:44.939 [info] &lt;0.7.0&gt; Application crypto started on node
&gt; 'riak@192.168.40.28'
&gt;
&gt; 2015-01-16 10:13:44.939 [info] &lt;0.7.0&gt; Application public\\_key started on
&gt; node 'riak@192.168.40.28'
&gt;
&gt; 2015-01-16 10:13:44.950 [info] &lt;0.7.0&gt; Application ssl started on node
&gt; 'riak@192.168.40.28'
&gt;
&gt; 2015-01-16 10:13:44.956 [info] &lt;0.7.0&gt; Application riak\\_sysmon started on
&gt; node 'riak@192.168.40.28'
&gt;
&gt; 2015-01-16 10:13:44.970 [info] &lt;0.7.0&gt; Application os\\_mon started on node
&gt; 'riak@192.168.40.28'
&gt;
&gt; 2015-01-16 10:13:44.995 [info] &lt;0.7.0&gt; Application runtime\\_tools started on
&gt; node 'riak@192.168.40.28'
&gt;
&gt; 2015-01-16 10:13:45.011 [info] &lt;0.7.0&gt; Application erlang\\_js started on node
&gt; 'riak@192.168.40.28'
&gt;
&gt; 2015-01-16 10:13:45.037 [info] &lt;0.7.0&gt; Application inets started on node
&gt; 'riak@192.168.40.28'
&gt;
&gt; 2015-01-16 10:13:45.039 [info] &lt;0.7.0&gt; Application mochiweb started on node
&gt; 'riak@192.168.40.28'
&gt;
&gt; 2015-01-16 10:13:45.052 [info] &lt;0.7.0&gt; Application webmachine started on
&gt; node 'riak@192.168.40.28'
&gt;
&gt; 2015-01-16 10:13:45.052 [info] &lt;0.7.0&gt; Application basho\\_stats started on
&gt; node 'riak@192.168.40.28'
&gt;
&gt; 2015-01-16 10:13:45.061 [info] &lt;0.7.0&gt; Application bitcask started on node
&gt; 'riak@192.168.40.28'
&gt;
&gt; 2015-01-16 10:13:45.261 [info]
&gt; &lt;0.173.0&gt;@riak\\_core\\_capability:process\\_capability\\_changes:530 New
&gt; capability: {riak\\_core,vnode\\_routing} = proxy
&gt;
&gt; 2015-01-16 10:13:45.268 [notice] &lt;0.48.0&gt;@lager\\_app:132 Deprecated
&gt; lager\\_file\\_backend config detected, please consider updating it
&gt;
&gt; 2015-01-16 10:13:45.272 [info]
&gt; &lt;0.173.0&gt;@riak\\_core\\_capability:process\\_capability\\_changes:530 New
&gt; capability: {riak\\_core,staged\\_joins} = true
&gt;
&gt; 2015-01-16 10:13:45.281 [info]
&gt; &lt;0.173.0&gt;@riak\\_core\\_capability:process\\_capability\\_changes:530 New
&gt; capability: {riak\\_core,resizable\\_ring} = true
&gt;
&gt; 2015-01-16 10:13:45.297 [info] &lt;0.7.0&gt; Application riak\\_core started on node
&gt; 'riak@192.168.40.28'
&gt;
&gt; 2015-01-16 10:13:45.304 [info]
&gt; &lt;0.173.0&gt;@riak\\_core\\_capability:process\\_capability\\_changes:530 New
&gt; capability: {riak\\_pipe,trace\\_format} = ordsets
&gt;
&gt; 2015-01-16 10:13:45.334 [info] &lt;0.7.0&gt; Application riak\\_pipe started on node
&gt; 'riak@192.168.40.28'
&gt;
&gt; 2015-01-16 10:13:45.374 [info] &lt;0.7.0&gt; Application riak\\_api started on node
&gt; 'riak@192.168.40.28'
&gt;
&gt; 2015-01-16 10:13:45.379 [info] &lt;0.7.0&gt; Application sidejob started on node
&gt; 'riak@192.168.40.28'
&gt;
&gt; 2015-01-16 10:13:45.432 [critical] &lt;0.331.0&gt;@riak\\_kv\\_app:start:100
&gt; storage\\_backend riak\\_cs\\_kv\\_multi\\_backend is non-loadable.
&gt;
&gt; 2015-01-16 10:13:45.433 [error] &lt;0.330.0&gt; CRASH REPORT Process &lt;0.330.0&gt;
&gt; with 0 neighbours exited with reason:
&gt; {invalid\\_storage\\_backend,{riak\\_kv\\_app,start,[normal,[]]}} in
&gt; application\\_master:init/4 line 138
&gt;
&gt; 2015-01-16 10:13:45.435 [info] &lt;0.7.0&gt; Application riak\\_kv exited with
&gt; reason: {invalid\\_storage\\_backend,{riak\\_kv\\_app,start,[normal,[]]}}
&gt;
&gt; 2015-01-16 10:13:45.436 [info] &lt;0.152.0&gt;@riak\\_core\\_app:prep\\_stop:103
&gt; Stopping application riak\\_core - disabling web services.
&gt;
&gt; 2015-01-16 10:13:45.437 [info] &lt;0.152.0&gt;@riak\\_core\\_app:stop:112 Stopped
&gt; application riak\\_core.
&gt;
&gt;
&gt;
&gt; Thanks in advance for any help.
&gt;
&gt; Anthony Valenti
&gt;
&gt; \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*
&gt;
&gt;
&gt;
&gt; Inmar Confidentiality Note: This e-mail and any attachments are
&gt; confidential and intended to be viewed and used solely by the intended
&gt; recipient. If you are not the intended recipient, be aware that any
&gt; disclosure, dissemination, distribution, copying or use of this e-mail or
&gt; any attachment is prohibited. If you received this e-mail in error, please
&gt; notify us immediately by returning it to the sender and delete this copy and
&gt; all attachments from your system and destroy any printed copies. Thank you
&gt; for your cooperation.
&gt;
&gt;
&gt;
&gt; Notice of Protected Rights: The removal of any copyright, trademark, or
&gt; proprietary legend contained in this e-mail or any attachment is prohibited
&gt; without the express, written permission of Inmar, Inc. Furthermore, the
&gt; intended recipient must maintain all copyright notices, trademarks, and
&gt; proprietary legends within this e-mail and any attachments in their original
&gt; form and location if the e-mail or any attachments are reproduced, printed
&gt; or distributed.
&gt;
&gt;
&gt;
&gt; \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*
&gt;
&gt;
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

