---
title: "Re: missing keys?"
description: ""
project: community
lastmod: 2012-09-14T07:50:15-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08538"
mailinglist_parent_id: "msg08537"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2012-09-14T07:50:15-07:00
---


Pat,

Does your test use retries when it gets "not found" responses? You
might not encounter that small % of missing keys if you retry at least
once when they are missing. Because of the eventually consistent
design of Riak, writes you make might not be readable immediately.

On Fri, Sep 14, 2012 at 10:17 AM, Pat Lynch  wrote:
&gt; Hi all,
&gt; I was just wondering if you could give me some feedback on my usage of RIAK.
&gt; I'm currently testing a number of datastores and am trying to come up with
&gt; pros/ cons of each.
&gt;
&gt; I have a variety of tests (write speed 1 client, write speed 10 clients,
&gt; read speed 1 client, read speed 10 clients, read while writing, write while
&gt; reading etc). The data set is tiny for this phase (10k, 50k, 100k).
&gt;
&gt; I have 3 machines in the cluster (each with 12GB RAM, quadcore CPUs, 500GB
&gt; drives), each cache setup to use 128MB memory (eleveldb). Each key is 64
&gt; bytes. and each value is 512 bytes.
&gt;
&gt;
&gt; The write speed I'm getting is around 260.0440791 per second (using 1
&gt; client), scaling to 2281.1662 writes per second (using 10 clients).
&gt; The read speed I'm getting is around 397.2291042 per second (using 1
&gt; client), scaling to 3316.089445 reads per second (using 10 clients).
&gt;
&gt; One very worrying thing I noticed is that I sometimes miss keys? i.e. I
&gt; write 100k keys to disk, then read them all back in and check the value
&gt; matches expected. This would only happen for 1 or 2 keys out of 100k, but
&gt; (1 or 2 keys is enoughâ€¦)
&gt;
&gt; This is using the latest version of RIAK with the python client (python
&gt; client is running on a 4th machine).
&gt;
&gt; Any help would be greatly appreciated.
&gt;
&gt; thanks,
&gt; Pat.
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;



-- 
Sean Cribbs 
Software Engineer
Basho Technologies, Inc.
http://basho.com/

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

