---
title: "RIAK use in VMs"
description: ""
project: community
lastmod: 2013-04-17T17:19:41-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10934"
author_name: "Yan Martins"
project_section: "mailinglistitem"
sent_date: 2013-04-17T17:19:41-07:00
---


I know it's not good to use RIAK in VMs, but even so I would like to get
some support in one scenario:

We have a 4 node RIAK cluster, each one in different VMs. In case one of
the VMs goes down and needs to be restarted in a different machine (so it
won't have the same data as the node it's replacing), what's the best
strategy to add the new node in the cluster? It may possibly have the same
IP as the node that went down. What I thought was:

1. force remove the node down from the cluster;

2. bring up new VM with the new node;

3. cluster join the new node.

Is there a better way to do this, especially because the new node have the
same IP as the old one. Also, is it possible to do something like a
riak-admin cluster join from one of the clients or it's from the CLI only?

Thanks

Yan
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

