---
title: "Re: Java client stats question"
description: ""
project: community
lastmod: 2013-07-25T08:21:15-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11755"
mailinglist_parent_id: "msg11740"
author_name: "Brian Roach"
project_section: "mailinglistitem"
sent_date: 2013-07-25T08:21:15-07:00
---


Guido -

Right now, no.

We've been having some internal discussions around that topic and
whether it's really a "client library" operation or not.

How are you using stats? Is it for a monitoring app or ... ?

Thanks,
Brian Roach

On Thu, Jul 25, 2013 at 4:25 AM, Guido Medina  wrote:
&gt; Hi,
&gt;
&gt; Is there a way to get the JSON stats via PBC? This is how we are doing it
&gt; now, we would like to get rid of any HTTP call, currently, this is the only
&gt; call being made to HTTP:
&gt;
&gt; private void collectNodeInfo(final PBClientConfig clientConfig)
&gt; {
&gt; ...
&gt; RiakClusterStats stats=null;
&gt; try{
&gt; stats=new RiakClusterStats();
&gt; HttpClient client=new DefaultHttpClient();
&gt; HttpGet g=new HttpGet("http://" + clientConfig.getHost() +
&gt; ":8098/stats");
&gt; HttpResponse resonse=client.execute(g);
&gt; JSONObject statsMap;
&gt; InputStream contentStream=null;
&gt; try{
&gt; contentStream=resonse.getEntity().getContent();
&gt; JSONTokener tok=new JSONTokener(contentStream);
&gt; statsMap=new JSONObject(tok);
&gt; stats.addNode(clientConfig.getHost(),statsMap);
&gt; } finally{
&gt; if(contentStream != null){
&gt; contentStream.close();
&gt; }
&gt; }
&gt; } catch(Exception e){
&gt; log.error("Huh? Exception when ",e);
&gt; }
&gt; lastClusterStats=stats;
&gt; }
&gt;
&gt;
&gt; Kind regards,
&gt;
&gt; Guido.
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

