---
title: "Re: 0 byte images saved to riak cluster"
description: ""
project: community
lastmod: 2013-06-12T17:28:35-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11259"
author_name: "Mark Phillips"
project_section: "mailinglistitem"
sent_date: 2013-06-12T17:28:35-07:00
---


Hello,


On Wed, May 22, 2013 at 10:57 AM, kzhang  wrote:

&gt; Update -- we found the issue. There were some post requests coming in from
&gt; a
&gt; form, obviously not using image content type. We tried:
&gt;
&gt; curl -v -s -o/dev/null http://xxxxxx:8098/riak/45/21601\\_7803328\\_3.jpg --&gt;
&gt; Fails
&gt; curl -v -s -o/dev/null -H "Accept: image/\\*"
&gt; http://xxxxxxx:8098/riak/45/21601\\_7803328\\_3.jpg --&gt; Works
&gt;
&gt; my question though -- is the same key 21601\\_7803328\\_3 associated with
&gt; different values of different content types? We set in our config:
&gt;
&gt;
&gt; {allow\\_mult,false},
&gt; {last\\_write\\_wins,true},
&gt;
&gt;
&gt; I'd imagine one would overwrite the other, depending on which one comes in
&gt; late?
&gt;
&gt;
Correct. With lww = true, the vector clocks will be ignored and the
most-recent timestamp will win. Is this not what you're seeing?

Mark


&gt;
&gt;
&gt; --
&gt; View this message in context:
&gt; http://riak-users.197444.n3.nabble.com/0-byte-images-saved-to-riak-cluster-tp4027932p4027945.html
&gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

