---
title: "Is there a way to efficiently do a coverage call to vnodes local to	the given host?"
description: ""
project: community
lastmod: 2015-02-13T05:58:31-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15712"
author_name: "Roman Shestakov"
project_section: "mailinglistitem"
sent_date: 2015-02-13T05:58:31-08:00
---


Hello,

I am wandering if there is a way to do the following in riak\\_core

1. I need to collect data from all the vnodes which are currently located on a 
given node.
2. I understand that it is ether possible to make a call to vnode given the 
hash key or it's possible to make a coverage call to all vnodes in the cluster.
3 . But in my case I only need to get all the data from vnodes living on a 
given physical host. 

Is there a well defined way of doing this?

I can see in api there is a riak\\_core\\_apl:active\\_owners call which returns 
Indexnodes pairs so it is possible to filter by a node and the call each 
Indexnode with riak\\_core\\_vnode\\_master:synch\\_spawn\\_command but maybe there is a 
better way of doing this?

Regards, Roman

Sent from my iPhone
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

