---
title: "RE: leveldb and noatime?"
description: ""
project: community
lastmod: 2013-03-18T21:16:53-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10474"
mailinglist_parent_id: "msg10472"
author_name: "Kevin Burton"
project_section: "mailinglistitem"
sent_date: 2013-03-18T21:16:53-07:00
---


Thank you. I will eventually put this on a separate file system. I just
wanted to see what performance gains could be made with this tweek.

-----Original Message-----
From: Tom Lanyon [mailto:tom+r...@oneshoeco.com] 
Sent: Monday, March 18, 2013 9:51 PM
To: Kevin Burton; Matt Black
Cc: riak-users
Subject: Re: leveldb and noatime?

On 19/03/2013, at 11:46 AM, Kevin Burton  wrote:
&gt; I don't understand my current fstab file. I have the following line:
&gt; 
&gt; UUID=06736422-88f7-4d26-a250-63fcb7c64716 / ext4
errors=remount-ro 0 1
&gt; 
&gt; Is the errors=. column considered the mount options? So I could modify it
like:
&gt; 
&gt; UUID=06736422-88f7-4d26-a250-63fcb7c64716 / ext4
noatime,errors=remount-ro 0 

Yes, that's right (except you left the 6th field, the pass order, off from
the end of the edited line).


&gt; From: Matt Black [mailto:matt.bl...@jbadigital.com] 
&gt;&gt; In order to fix this you will need to update /etc/fstab and reboot.

On any recent linux and ext3/4 combination (I'm not sure about XFS and
friends) you don't need to reboot for this to take effect:

% mount | head -n1
/dev/mapper/vg-root on / type ext4 (rw)

% sudo mount -o remount,noatime /

% mount | head -n1 
/dev/mapper/vg-root on / type ext4 (rw,noatime)

Obviously you still need to update /etc/fstab for this to persist across
reboots.

This is just a performance improvement (not writing access times to every
file), so if you're not that fussed about performance you might as well
leave atime enabled on your root disk. If you are fussed about performance,
you should probably have your Riak data on a separate filesystem anyway
(which can then be mounted with noatime and whatever other performance
tuning options you'd like).

Tom



\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

