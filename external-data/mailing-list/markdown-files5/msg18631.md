---
title: "Re: ANN: Riak 2.9.0 Urgent Patches Pending"
description: ""
project: community
lastmod: 2019-08-22T09:22:30-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18631"
mailinglist_parent_id: "msg18630"
author_name: "Martin Sumner"
project_section: "mailinglistitem"
sent_date: 2019-08-22T09:22:30-07:00
---


Follow-up on this announcement. After further work today, it looks like
the initial diagnosis of the Issue 1707 was incorrect, and that the defect
does not obviously present a significant risk of data loss. Work will
continue on providing an updated patch to Riak 2.9.0 - but there should be
no immediate concern over use of the unpatched version.

Sorry for causing false alarm.

Regards

Martin

On Thu, 22 Aug 2019 at 01:36, Martin Sumner 
wrote:

&gt; There are 2 defects in the 2.9.0 release which should be patched within
&gt; the next 7 days, with a new version of 2.9.0 to be published before the end
&gt; of the month. The defects are:
&gt;
&gt; https://github.com/basho/riak\\_kv/issues/1706
&gt; https://github.com/basho/riak\\_kv/issues/1707
&gt;
&gt; Note that the latter defect 1707, the scope of this bug is currently
&gt; unclear, but there exists significant risk that there is potential within
&gt; this bug for data loss, due to incorrect pruning of siblings.
&gt;
&gt; Previous releases of Riak also have this bug, if the metadata cache (which
&gt; is disabled by default) is enabled. Enabling this cache is controlled via
&gt; https://docs.riak.com/riak/kv/latest/configuring/reference/index.html 
&gt; (metadata\\_cache\\_size).
&gt; However, unlike previous releases the 2.9.0 release, when combined with use
&gt; of the leveled backend, Riak 2.9.0 will enable the path to this bug by
&gt; default. This is because the logic of the metadata\\_cache is reused in
&gt; order to enable leveled HEAD requests within the PUT path. Riak 2.9.0 with
&gt; other backends, and the metadata cache left disabled, will not have this
&gt; bug.
&gt;
&gt; I apologise for the ongoing churn of issues uncovered in release 2.9.0,
&gt; and for the potential risks associated with this latest bug in particular.
&gt; Clearly, the high rate of discovered problems has exposed that the test
&gt; process which surrounded this release was not good enough. For release
&gt; 2.9.1 and release 3.0 the move has already been made to involve independent
&gt; testing organisations as a fundamental part of the development process,
&gt; from the start of the process. Regardless of this, once the immediate
&gt; issues are patched, there is a need for some further reflection on what is
&gt; required to assure the safety of a release of Riak in the future.
&gt;
&gt; Regards
&gt;
&gt; Martin
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

