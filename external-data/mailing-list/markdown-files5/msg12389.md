---
title: "Re: 2i at large scale?"
description: ""
project: community
lastmod: 2013-09-25T12:06:46-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12389"
mailinglist_parent_id: "msg12382"
author_name: "Reid Draper"
project_section: "mailinglistitem"
sent_date: 2013-09-25T12:06:46-07:00
---


Wagner,

Are you using paginated 2i? Or asking for all of the results buffered at once? 
If the latter, I'd highly recommend trying to new paginated 2i that landed in 
Riak 1.4.0.

Reid

On Sep 25, 2013, at 10:50 AM, Wagner Camarao  wrote:

&gt; Hi,
&gt; 
&gt; I'm benchmarking 2i at scale of billion records, running one physical node 
&gt; locally with mostly default configs - except for LevelDB instead of Bitcask. 
&gt; Up to this point (14MM records in the bucket that's being indexed) it's still 
&gt; performing lookups well for my use case (read ~ 7ms using riak-ruby-client 
&gt; over http).
&gt; 
&gt; However, along this process I've noticed riak to go down twice. First time 
&gt; (8MM records) I could just start it again and continue my benchmarking from 
&gt; the point it were left, but now at the second time (14MM records) when I 
&gt; started riak again, it took about 3 minutes to respond to my first request.
&gt; 
&gt; What was happening during these long startup minutes, after my second crash?
&gt; 
&gt; Up to which scale have you guys been successfully using secondary indexes?
&gt; 
&gt; Any other ideas given my use case / benchmarking scenario?
&gt; 
&gt; Thanks,
&gt; Wagner
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

