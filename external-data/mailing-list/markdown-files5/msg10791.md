---
title: "Re: The suitability of MapReduce"
description: ""
project: community
lastmod: 2013-04-09T06:13:05-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10791"
mailinglist_parent_id: "msg10787"
author_name: "Jeremiah Peschka"
project_section: "mailinglistitem"
sent_date: 2013-04-09T06:13:05-07:00
---


In this case, the argument would be that MR involves a list keys operation.
With a significantly large data set, this will take a long time. You could
potentially make it faster by bucketing updates into hour or minute time
boxes (e.g statuses-20130509-0600), but that's just my best guess.


On Tuesday, April 9, 2013, Antonio Rohman Fernandez wrote:

&gt; \\*\\*
&gt;
&gt; But... then... i wonder how to do the following task, as i assumed MR
&gt; would be the right thing to do:
&gt;
&gt; - Imagine Facebook's "news feed", that every little time recompile the
&gt; statuses, photos, comments, likes, etc... of all your contacts.
&gt;
&gt; Shouldn't this be done by MR? and if so... shouldn't the user be able to
&gt; execute it by-demand if they want to refresh the news feed? ( or at least
&gt; refreshed in the background every X minutes ) and the user able to GET the
&gt; refreshed compiled data?
&gt;
&gt; Merci,
&gt; Rohman
&gt;
&gt; On 09.04.2013 01:26, Matt Black wrote:
&gt;
&gt; I think an short and explicit discussion of using sequential GETs would
&gt; be good to add to the docs in [1]. It'll be helpful to put the alternate
&gt; option in the reader's head so they can evaluate as they're going through
&gt; the article.
&gt;
&gt; Cheers
&gt; Matt
&gt;
&gt;
&gt; On 9 April 2013 02:02, Jeremiah Peschka 
&gt;  'jeremiah.pesc...@gmail.com');&gt;
&gt; &gt; wrote:
&gt;
&gt;&gt; I want to follow up on the recent "Map phase timeout" thread [2]. In part
&gt;&gt; out of curiosity and in part as a documentation clean up... Should the
&gt;&gt; documentation at [1] be changed? Specifically, the docs say MR should be
&gt;&gt; used:
&gt;&gt;
&gt;&gt; - \\*When you know the set of objects you want to MapReduce over (the
&gt;&gt; bucket-key pairs) \\*(emphasis added)
&gt;&gt; - When you want to return actual objects or pieces of the object â€“
&gt;&gt; not just the keys, as do Search & Secondary Indexes
&gt;&gt; - When you need utmost flexibility in querying your data. MapReduce
&gt;&gt; gives you full access to your object and lets you pick it apart any way 
&gt;&gt; you
&gt;&gt; want.
&gt;&gt;
&gt;&gt; It seems to me that a lot of discussions around MR in Riak come down to
&gt;&gt; "You're close but this isn't the best use case of MapReduce in Riak." Would
&gt;&gt; it be better, for the purposes of a general discussion, to say that
&gt;&gt; MapReduce is the appropriate paradigm when you want to:
&gt;&gt;
&gt;&gt; - manipulate a large amount of data inside the Riak cluster in bulk -
&gt;&gt; e.g. read all of my sales orders and where the version is 1, perform the
&gt;&gt; changes necessary to update the order format to version 2.
&gt;&gt; - burn a lot of I/O and make your admin sad
&gt;&gt; - move data from one bucket to another
&gt;&gt; - re-write an entire bucket so all data is indexed for 2i, search, etc
&gt;&gt; - Anything where the query can be resumed with no knowledge of state
&gt;&gt; at the time the last run of the query failed.
&gt;&gt;
&gt;&gt; Are there other use cases when MR is the better approach?
&gt;&gt;
&gt;&gt; [1]:
&gt;&gt; http://docs.basho.com/riak/latest/tutorials/querying/MapReduce/#When-to-Use-MapReduce
&gt;&gt; [2]:
&gt;&gt; http://riak.markmail.org/search/?q=#query:+page:1+mid:4o27v64qf55ejzwc+state:results
&gt;&gt;
&gt;&gt; ---
&gt;&gt; Jeremiah Peschka - Founder, Brent Ozar Unlimited
&gt;&gt; MCITP: SQL Server 2008, MVP
&gt;&gt; Cloudera Certified Developer for Apache Hadoop
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com &gt; 'riak-users@lists.basho.com');&gt;
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing listriak-us...@lists.basho.com  'riak-users@lists.basho.com');&gt;http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
&gt; --
&gt; [image: line] [image: logo]  \\*Antonio Rohman
&gt; Fernandez\\*
&gt; CEO, Founder & Lead Engineer
&gt; roh...@mahalostudio.com  'roh...@mahalostudio.com');&gt; \\*Projects\\*
&gt; MaruBatsu.es 
&gt; PupCloud.com 
&gt; Wedding Album  [image: line]
&gt;


-- 
---
Jeremiah Peschka - Founder, Brent Ozar Unlimited
MCITP: SQL Server 2008, MVP
Cloudera Certified Developer for Apache Hadoop
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

