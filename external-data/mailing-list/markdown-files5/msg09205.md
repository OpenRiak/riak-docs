---
title: "Guarantee of Riak generated key size"
description: ""
project: community
lastmod: 2012-11-06T03:55:24-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09205"
author_name: "Olav Frengstad"
project_section: "mailinglistitem"
sent_date: 2012-11-06T03:55:24-08:00
---


Hey,

I'm using keys generated by Riak and have come over some random
failure in my test cases. I have naively assumed that the 160bit hash
would always return a base62 encoded value with the length of 27. On
that point I'm obviously wrong as the shell session below shows.

My question is this by design? If so is there a way to enforce certain
size of a key WITHOUT performing generation outside Riak?

Test of riak key size:

72&gt; P = fun(S) -&gt; put(S, case get(S) of undefined -&gt; 1; X -&gt; X+1 end) end.
#Fun
73&gt; F = fun(X, A) when A =&lt; 1000000 -&gt;
P(length(riak\\_core\\_util:unique\\_id\\_62())), X(X, A+1); (\\_, A) -&gt; A end.
#Fun
74&gt; F(F, 0).
1000001
75&gt; erlang:process\\_info(self(), dictionary).
{dictionary,[{27,982324},{26,27210},{25,461},{24,7}]}

Cheers,
Olav

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

