---
title: "Re: Has Riak 2.0 solved the leveldb delete key free disk space issue?"
description: ""
project: community
lastmod: 2013-11-12T09:56:45-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12960"
mailinglist_parent_id: "msg12959"
author_name: "Greg Burd"
project_section: "mailinglistitem"
sent_date: 2013-11-12T09:56:45-08:00
---


While LevelDB does eventually free up space on disk by eliminating deleted
keys during SST compactions it doesn't do so "aggressively", as Matthew
indicated and hence our name for the fix. This is problem you've been
experiencing and we're working on it and hope to have it tested and
integrated into the 2.0.0 release.

-greg


@gregburd | Basho Technologies | Riak | http://basho.com | @basho


On Tue, Nov 12, 2013 at 12:21 PM, Matthew Von-Maszewski
wrote:

&gt; Anita,
&gt;
&gt; The "aggressive delete" feature should be coded by the end of this week.
&gt; That will make it a candidate for Riak 2.0. The 2.0 release date is not
&gt; set.
&gt;
&gt; Matthew
&gt;
&gt;
&gt; On Nov 11, 2013, at 11:40 PM, Anita Wong 
&gt; wrote:
&gt;
&gt; &gt; Happy to see Riak 2.0 being available.
&gt; &gt; May I know if the issue that was faced in Riak 1.x leveldb been solved?
&gt; &gt;
&gt; &gt; The issue is about the disk space not being freed after deleting the key.
&gt; &gt; From Bashoâ€™s support, the reason is because my keys has date as prefix,
&gt; therefore the .sst files of the deleted keys never be reused.
&gt; &gt;
&gt; &gt; I also heard that this issue will be fixed in next release, may I know
&gt; will it be in Riak 2.0?
&gt; &gt; Or there will be a smaller fix before the release of Riak 2.0?
&gt; &gt;
&gt; &gt; Thanks a lot.
&gt; &gt;
&gt; &gt; Anita Wong
&gt; &gt; Senior System Engineer
&gt; &gt; Talkbox Limited
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

