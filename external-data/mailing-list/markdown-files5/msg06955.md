---
title: "Re: conditional gets from java client?"
description: ""
project: community
lastmod: 2012-03-14T13:25:51-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06955"
mailinglist_parent_id: "msg06951"
author_name: "Russell Brown"
project_section: "mailinglistitem"
sent_date: 2012-03-14T13:25:51-07:00
---


Hi Sam,
Sorry for the slow reply, this sort of flew past me and I only just caught up 
now.

On 14 Mar 2012, at 02:44, Sam Perman wrote:

&gt; Hello
&gt; 
&gt; I'm just starting my exploration of riak and was wondering if it is possible 
&gt; to use the java client to issue a conditional get based on etag ( 
&gt; If-None-Match ). If so, can I do it with the http client or do I need to 
&gt; drop down a level to the raw client?
&gt; 

Short answer, no. FetchObject (returned from a call to Bucket.store) exposes 
the modifiedSince property of the APIs (vclock for PB and date for HTTP) but 
not if-None-Match. It would be a small thing to add. I'm \\*really\\* unhappy with 
that class anyway since it has methods that only apply to a specific transport, 
something I've tried very hard to avoid.

If you need the feature now you will need to set the headers using the 
http.RiakClient right at the bottom of the stack[1], if you can wait, please 
open a GitHub issue and we'll get the feature added pretty quickly.

Cheers

Russell

[1] 
http://basho.github.com/riak-java-client/1.0.4/com/basho/riak/client/http/request/RequestMeta.html#setIfNoneMatch(java.lang.String)

&gt; thanks
&gt; sam
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

