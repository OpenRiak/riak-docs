---
title: "Re:"
description: ""
project: community
lastmod: 2013-08-11T11:23:47-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11966"
mailinglist_parent_id: "msg11954"
author_name: "Jeremiah Peschka"
project_section: "mailinglistitem"
sent_date: 2013-08-11T11:23:47-07:00
---


Glad to hear that worked for you!

---
Jeremiah Peschka - Founder, Brent Ozar Unlimited
MCITP: SQL Server 2008, MVP
Cloudera Certified Developer for Apache Hadoop


On Sat, Aug 10, 2013 at 4:44 PM, Jeremy Ong  wrote:

&gt; Just a quick follow up, I did this exact approach and things went
&gt; smoothly as expected. I had forgotten that stopping a node does not
&gt; mark the node as "down" indicating that vnodes should be handed off.
&gt;
&gt; One last step I would add is that the log directory also needs to be
&gt; changed in the vm.args file as that is where the erl\\_crash.dump file
&gt; gets written (if the log dir is moved as well).
&gt;
&gt; Thanks,
&gt; Jeremy
&gt;
&gt; On Fri, Aug 9, 2013 at 7:57 PM, Jeremiah Peschka
&gt;  wrote:
&gt; &gt; You \\*should\\* be able to
&gt; &gt;
&gt; &gt; 1) stop the node
&gt; &gt; 2) change platform\\_data\\_dir and ring\\_state\\_dir in the app.config file
&gt; &gt; 3) move data to the new platform\\_data\\_dir
&gt; &gt; 4) move ring state to the new ring\\_state\\_dir
&gt; &gt; 5) restart the node
&gt; &gt;
&gt; &gt; This should avoid having to re-write all of your data one node at a time.
&gt; &gt;
&gt; &gt; ---
&gt; &gt; Jeremiah Peschka - Founder, Brent Ozar Unlimited
&gt; &gt; MCITP: SQL Server 2008, MVP
&gt; &gt; Cloudera Certified Developer for Apache Hadoop
&gt; &gt;
&gt; &gt;
&gt; &gt; On Fri, Aug 9, 2013 at 7:23 PM, Jeremy Ong 
&gt; wrote:
&gt; &gt;&gt;
&gt; &gt;&gt; Hi Riak users,
&gt; &gt;&gt;
&gt; &gt;&gt; I'm wondering what the best approach to this is. The scenario is that
&gt; &gt;&gt; I have mounted a new drive to the machine and want to have the node
&gt; &gt;&gt; leverage that drive to save data as opposed to the mount point it is
&gt; &gt;&gt; currently writing to.
&gt; &gt;&gt;
&gt; &gt;&gt; My current plan is to start a second instance of riak (by changing the
&gt; &gt;&gt; name in the vm.args file) and having it join the cluster, followed by
&gt; &gt;&gt; removing the previous node. Then to repeat this for all nodes for
&gt; &gt;&gt; which the upgrade applies while monitoring the dashboard to see if the
&gt; &gt;&gt; handoffs are occurring appropriately.
&gt; &gt;&gt;
&gt; &gt;&gt; Is there an easier way or better way, and are they any potential
&gt; &gt;&gt; issues with this approach?
&gt; &gt;&gt;
&gt; &gt;&gt; Thanks,
&gt; &gt;&gt; Jeremy
&gt; &gt;&gt;
&gt; &gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt;&gt; riak-users mailing list
&gt; &gt;&gt; riak-users@lists.basho.com
&gt; &gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt;
&gt; &gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

