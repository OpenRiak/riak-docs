---
title: "Re: two-node cluster for riak?"
description: ""
project: community
lastmod: 2013-04-18T08:34:51-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10938"
mailinglist_parent_id: "msg10937"
author_name: "Justin Sheehy"
project_section: "mailinglistitem"
sent_date: 2013-04-18T08:34:51-07:00
---


Hi, Michael.

Your spidey-sense is absolutely correct.

Recall for a moment that Riak by default will store 3 copies of everything. 
This means that in a two-node configuration any given value will be stored once 
on one node and twice on the other. Not only does this mean a whole lot of 
wasted work, it removes much of the safety and availability that people look to 
get from Riak. If one node goes down, then for half of your keys you have lost 
a majority of their replicas.

On only two nodes, you can't really get the kind of fault-tolerance Riak 
provides... with Riak or any other software.

-Justin



On Apr 18, 2013, at 11:26 AM, Michael Forrester wrote:

&gt; Greetings Everyone,
&gt; I am not sure if this is the right forum to ask this question, but here goes.
&gt; 
&gt; We are currently running a six-node cluster in Amazon AWS. There has been 
&gt; some talk by our architects of going to a two-node configuration using 
&gt; SSD-backed instances with super fast hardware, but for some reason this is 
&gt; triggering " this is not correct, but I don't remember why" spidey sense. 
&gt; From my understanding, it is best to run riak with 5 nodes or at least N +2 
&gt; and that a two-node cluster (even though the hardware will be way faster) 
&gt; will not satisfy that. 
&gt; 
&gt; Any loose suggestions about how to approach this? I am open to the two 
&gt; ultrafast nodes... I am not sure how to put riak on them to work in a 
&gt; fault-tolerant way. 
&gt; 
&gt; Articles, dirty limericks, and soliloquies are all appreciated. 
&gt; 
&gt; -- 
&gt; Michael Forrester
&gt; Director of Infrastructure
&gt; WorthPoint Corporation
&gt; 
&gt; 404.996.1470 O)
&gt; 404.939.6499 C)
&gt; 
&gt; 
&gt; 
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

