---
title: "Re: Continuous HTTP POSTs to Riak"
description: ""
project: community
lastmod: 2016-03-03T18:37:09-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17106"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2016-03-03T18:37:09-08:00
---


Hi Qiang,

Check out RYOW semantics in this blog post, part 2 of a 4 part series , 
http://basho.com/posts/technical/riaks-config-behaviors-part-2/ .

-Alexander 


@siculars
http://siculars.posthaven.com

Sent from my iRotaryPhone

&gt; On Mar 3, 2016, at 20:12, Qiang Cao  wrote:
&gt; 
&gt; Thanks, Dave! I'm aware of Riak's eventual consistency. I wonder how I can 
&gt; get Riak work in the way as I need. I'm in a situation where I expect the 
&gt; immediate GET reads the value I've just posted. And the GET request isn't 
&gt; sent out until the POST is done.
&gt; 
&gt; Thanks,
&gt; -Qiang
&gt; 
&gt;&gt; On Thu, Mar 3, 2016 at 6:53 PM, Dave King  wrote:
&gt;&gt; You need to google 'Eventual consistency'.
&gt;&gt; 
&gt;&gt; - Peace
&gt;&gt; Dave
&gt;&gt; 
&gt;&gt; 
&gt;&gt;&gt; On Thu, Mar 3, 2016 at 4:23 PM, Qiang Cao  wrote:
&gt;&gt;&gt; Hi All, 
&gt;&gt;&gt; 
&gt;&gt;&gt; I use Riak as a KV store and send http requests to its REST API to update 
&gt;&gt;&gt; entries. Instead of using curl, I use Apache HttpClient to send requests.
&gt;&gt;&gt; 
&gt;&gt;&gt; One thing bothering me is that sometimes I find the entry isn't properly 
&gt;&gt;&gt; updated after an HTTP POST/PUT. For example, if I do an HTTP GET on the 
&gt;&gt;&gt; same key immediately after an HTTP POST, the chance is good that I get a 
&gt;&gt;&gt; stale value. This happens when I continuously POST to a multi-node Riak, 
&gt;&gt;&gt; and some of the posts target the same key.
&gt;&gt;&gt; 
&gt;&gt;&gt; Also, I find I don't have this issue if I use a single-node Riak. So I 
&gt;&gt;&gt; think something wasn't correct with my multi-node Riak cluster (I set 
&gt;&gt;&gt; "allow\\_mult" to false). Any thoughts?
&gt;&gt;&gt; 
&gt;&gt;&gt; Thanks in advance!
&gt;&gt;&gt; 
&gt;&gt;&gt; Qiang
&gt;&gt;&gt; 
&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

