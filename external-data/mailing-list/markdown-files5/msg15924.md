---
title: "Riak2.0 with Solr Search: index on one node contains not all entries"
description: ""
project: community
lastmod: 2015-03-25T03:44:38-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15924"
author_name: "Michael Weibel"
project_section: "mailinglistitem"
sent_date: 2015-03-25T03:44:38-07:00
---


Hi all,

I have on a test environment two riak nodes and each of them has solr
activated which index 3 buckets using a custom schema.
After testing a bit back and forth, I have the case that on one solr node,
an entry is not in the index (I know in which node though).
Fetching the specific key in the bucket works however, both nodes have the
respective entry.

1) How can this happen? I don't see any error/warning in the logs (neither
solr nor riak logs).
2) Is there a possibility to fix this without having to do e.g. a PUT on
the specific key with the same content in order to update it?

I tried to run a repair on the failing node using the guide:
http://docs.basho.com/riak/1.4.7/ops/running/recovery/repairing-indexes/#Repairing-Search-Indexes
When running the repair command on the partitions I received, it gave me
however a [{, down}, {...}] response, which gives me an
uncomfortable feeling, but I didn't really figure out yet what this means
exactly.

Thanks a lot for your help :)

Best,
Michael
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

