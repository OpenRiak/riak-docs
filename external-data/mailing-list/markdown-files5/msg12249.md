---
title: "Re: Should content-type not be required?"
description: ""
project: community
lastmod: 2013-09-12T03:14:02-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12249"
mailinglist_parent_id: "msg12236"
author_name: "Vincenzo Vitale"
project_section: "mailinglistitem"
sent_date: 2013-09-12T03:14:02-07:00
---


Yep, if money are involved I guess eventual consistency can also be painful
if there are not other checks in place.

In our real use case this should not be a big issue.


On Wed, Sep 11, 2013 at 6:46 PM, Evan Vigil-McClanahan &lt;
emcclana...@basho.com&gt; wrote:

&gt; It does make sense, but it isn't an ideal use-case for riak. Eventual
&gt; consistency means that existence checking under partition is always
&gt; going to be a bit fraught.
&gt;
&gt; On Tue, Sep 10, 2013 at 2:03 PM, Vincenzo Vitale
&gt;  wrote:
&gt; &gt; Suppose I want to just store keys in a bucket without any body, this make
&gt; &gt; sense in scenarios where the key completely identify the entity. Is it
&gt; &gt; possible to use the riak http api without including the content-type
&gt; header?
&gt; &gt;
&gt; &gt; Looking at the http specifications, content–type is not mandatory or
&gt; &gt; suggested when the body is empty:
&gt; &gt;
&gt; &gt; http://www.w3.org/Protocols/rfc2616/rfc2616-sec7.html#sec7.2.1
&gt; &gt;
&gt; &gt; and it's probably a good argument to say that if the entity message is
&gt; empty
&gt; &gt; then the content type doesn't really make sense.
&gt; &gt;
&gt; &gt; Personally I think that just the existence of an http entity - body or
&gt; not
&gt; &gt; body – is sufficient to justify a "type"; it's unfortunate that any other
&gt; &gt; higher type (entity type maybe?) - decoupled from what is defined as
&gt; content
&gt; &gt; - exist in the spec.
&gt; &gt;
&gt; &gt; Framework like spray are quite strict about this, not setting any content
&gt; &gt; type when the content is empty:
&gt; &gt;
&gt; &gt;
&gt; https://github.com/spray/spray/blob/master/spray-http/src/main/scala/spray/http/HttpEntity.scala#L74
&gt; &gt;
&gt; &gt; how to deal with such situation? Adding a fake content because of this
&gt; data
&gt; &gt; store constraint doesn't seems right.
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Thanks,
&gt; &gt;
&gt; &gt; Vincenzo.
&gt; &gt;
&gt; &gt;
&gt; &gt; --
&gt; &gt; If your e-mail inbox is out of control, check out
&gt; &gt; http://sanebox.com/t/mmzve. I love it.
&gt; &gt;
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt;
&gt;



-- 
If your e-mail inbox is out of control, check out http://sanebox.com/t/mmzve.
I love it.
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

