---
title: "{error,<<\"{precommit_fail,notfound}\">>}"
description: ""
project: community
lastmod: 2010-12-15T03:12:57-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01792"
author_name: "Xiaopong Tran"
project_section: "mailinglistitem"
sent_date: 2010-12-15T03:12:57-08:00
---


I installed Riak Search, added a few JSON docs, then install the
search hook for the bucket. Now, here are the questions:

1) How can I list the indexes that have been created
for my bucket?

2) After installing the hook, I can't delete my object
anymore. Here is the error:

7&gt; {ok, P} = test3:init(). 
{ok,&lt;0.44.0&gt;}
8&gt; riakc\\_pb\\_socket:get(P, "user\\_bucket", "jane"). 
{ok,{riakc\\_obj,"user\\_bucket","jane",

&lt;&lt;107,206,97,96,96,96,204,96,202,5,82,44,108,85,66,103,50,
 152,18,25,243,88,25,...&gt;&gt;,
 [{{dict,3,16,16,8,80,48,
 {[],[],[],[],[],[],[],[],[],[],[],[],...},
 {{[],[],[],[],[],[],[],[],[],[],...}}},
 &lt;&lt;"{\\"userid\\":\\"jane\\",\\"first\\_name\\":\\"Jane\\",
\\"last\\_name\\":\\"Doe\\",\\"gender\\":\\"F\\",\\"joined\\_"...&gt;&gt;}],
 undefined,undefined}}
9&gt; riakc\\_pb\\_socket:delete(P, "user\\_bucket", "jane"). 
{error,&lt;&lt;"{precommit\\_fail,notfound}"&gt;&gt;}
10&gt; riakc\\_pb\\_socket:delete(P, "user\\_bucket", &lt;&lt;"jane"&gt;&gt;).
{error,&lt;&lt;"{precommit\\_fail,notfound}"&gt;&gt;}

I can retrieve the object, but can't delete it. What's is going on?

Thanks

Xiaopong



\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

