---
title: "Re: Start up problem talking to Riak"
description: ""
project: community
lastmod: 2017-02-17T09:31:30-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17997"
mailinglist_parent_id: "msg17965"
author_name: "AWS"
project_section: "mailinglistitem"
sent_date: 2017-02-17T09:31:30-08:00
---


OK, so I have Riak KV working from the download on their web page.
When I had three AWS servers it was easy to get them working together as they 
each had a separate install. I would like to install three copies of Riak KV on 
the same machine. How would I do that given that the install package always 
installs to "Riak"?
David

--------- Original Message ---------
From: "AWS" 
To: "sean mcevoy" 
Cc: "riak-users" 
Subject: Re: Start up problem talking to Riak
Date: 02/16/2017 16:33:01 (Thu)

Thanks but I have it sorted. I changed the IP address to an internal one as in 
192.168.1.xx. I then changed the listener.http.internal to that IP address and 
everything worked.
Many thanks to all that helped.
David 

--------- Original Message ---------
From: "sean mcevoy" 
To: "AWS" 
Cc: "Alex Moore" , "Alexander Sicular" , "riak-users" 
Subject: Re: Start up problem talking to Riak
Date: 02/16/2017 12:14:56 (Thu)

Hi David,
I vaguely remember the same problem from a previous setup I did, a while ago 
now.
IIRC, the original configured IP gets written to disk on the initial start and 
then the next start fails due to the mis-match.
Try deleting your data directory and restarting, so this will be like the 
initial startup again.
//Sean.

On Thu, Feb 16, 2017 at 10:31 AM, AWS  wrote:
OK, I took the machine down intending to write my own quick and easy key value 
db (I have done this before) but I have told my uni that I am using Riak so I 
thought that I ought to have another go.
I have reinstalled Ubuntu and Riak. The computer now has an internal IP 
(192.168.1.94) rather than an external fixed IP. I started up Riak and got a 
pong. I then tried to connect with my software from that already works with 
the Riak I have running on Amazon AWS so I know that the software works - just 
a request for a list of buckets.
I got a "Connection refused error. I checked and 8098 was closed. I edited 
Riak.conf as advices from 127.0.0.0 to 0.0.0.0 but now Riak won't start (Riak 
failed to start in 15 seconds).
I really want to get this working and, given I have an assignment due in a few 
days, sooner rather than later. It is working fine on AWS but it is such a 
faff getting onto that using ssh as I am never sure of my key to use so I can't 
check the config there.
This can't be hard, can it?
Please help.
David

--------- Original Message ---------
From: "Alex Moore" 
To: "Alexander Sicular" 
Cc: "AWS" , "riak-users@lists.basho.com" 

Subject: Re: Start up problem talking to Riak
Date: 02/13/2017 15:45:28 (Mon)

Yeah, what Alex said. You can't see it with your application because it's 
currently bound to the localhost loopback address, but it's bad to just expose 
everything publicly. 
1. Where is this cluster running? (AWS or local dev cluster?)2. What are you 
trying to connect to Riak with? Is it one of our clients or just raw HTTP 
requests?
Thanks,Alex
On Mon, Feb 13, 2017 at 10:33 AM, Alexander Sicular  wrote:
Please don't do that. Don't point the internet at your database. Have them 
communicate amongst each other on internal ips and route the public through a 
proxy / middleware.

-Alexander

@siculars

http://siculars.posthaven.com

Sent from my iRotaryPhone

&gt; On Feb 13, 2017, at 04:00, AWS  wrote:

&gt;

&gt; I know that this isn't directly a Riak issue but I am sure that some of you 
&gt; have met this before and can maybe help me. I am used to Macs and Windows but 
&gt; have now set up an Ubuntu 14.04LTS server on my home network. I have 5 fixed 
&gt; IP addresses so the server has its own external address. I have opened port 
&gt; 8098 on my router to point at the server and checked that ufw isn't running. 
&gt; I have tested with it running ufw and with 'allow 8098' applied. I still 
&gt; cannot connect to Riak. On the same computer I get a pong back to a ping so 
&gt; Riak seems to be OK.

&gt;

&gt; I have a Riak server running on AWS and had trouble setting that up until I, 
&gt; eventually, opened all ports.

&gt;

&gt; Can anyone please suggest some steps that I might take? I need this running 
&gt; for an Open University course that I am studying. My AWS free server runs out 
&gt; before the course finishes so I have to get this up and running soon.

&gt; Thanks in advance.

&gt; David

&gt;

&gt; Message sent using Winmail Mail Server

&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_

&gt; riak-users mailing list

&gt; riak-users@lists.basho.com

&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_

riak-users mailing list

riak-users@lists.basho.com

http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

Message sent using Winmail Mail Server

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_

riak-users mailing list

riak-users@lists.basho.com

http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

Message sent using Winmail Mail Server

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

Message sent using Winmail Mail Server
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

