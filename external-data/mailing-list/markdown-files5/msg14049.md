---
title: "Re: Choose/Wants claim functions."
description: ""
project: community
lastmod: 2014-04-10T06:35:40-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14049"
mailinglist_parent_id: "msg14044"
author_name: "Alex Moore"
project_section: "mailinglistitem"
sent_date: 2014-04-10T06:35:40-07:00
---


Hi Guido,

&gt; What's the latest non-standard version of this function? v3 right? If Basho 
&gt; adds more versions to this, is this somewhere documented?

&gt; For our nodes standard choose/wants claim functions were doing a weird 
&gt; distribution so the numbers even out a bit better (just a bit better) by 
&gt; using v3, so it would be nice to know if improvements are done in this area 
&gt; and where they are being documented.

v3 would be the “latest non-standard” version of this function. It works better 
than v2 for balancing nodes but it has a performance caveat with larger ring 
sizes, which is why we still default to v2. I will address the documentation 
issue of this, but for now the source code is the best documentation (see below 
for links).

&gt; As of the latest 
&gt; http://docs.basho.com/riak/latest/ops/advanced/configs/configuration-files/ 
&gt; both parameters have no default where my understanding is that the default 
&gt; for both is v2.

So in the typical case, the default will be v2, via the `default\\_wants\\_claim` 
and `default\\_choose\\_claim` functions in `riak\\_core\\_claim.erl`. If you’re 
running a legacy ring, it will default to v1 instead.
https://github.com/basho/riak\\_core/blob/1.4.4/src/riak\\_core\\_claim.erl#L119-L125
https://github.com/basho/riak\\_core/blob/1.4.4/src/riak\\_core\\_claim.erl#L140-L146

I’ve put in a docs issue to get the documentation clarified.
https://github.com/basho/basho\\_docs/issues/1017

Thanks,
Alex

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

