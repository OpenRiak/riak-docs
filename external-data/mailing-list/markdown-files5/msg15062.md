---
title: "Re: Memory-backend TTL"
description: ""
project: community
lastmod: 2014-10-22T07:09:07-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15062"
mailinglist_parent_id: "msg15050"
author_name: "Lucas Grijander"
project_section: "mailinglistitem"
sent_date: 2014-10-22T07:09:07-07:00
---


Sorry, I don't know the MIME type I used. I use the python api with default
options. The doc says "string"?

http://basho.github.io/riak-python-client/object.html#riak.riak\\_object.RiakObject.encoded\\_data


2014-10-20 15:43 GMT+02:00 Luke Bakken :

&gt; Lucas,
&gt;
&gt; Thanks for all the detailed information. This is not expected
&gt; behavior. What MIME type are you using for storing the long integer
&gt; data (64 binary bits, I assume)?
&gt;
&gt; I'd like to try and reproduce this. There have been issues with TTL
&gt; and max\\_memory but they should have been fixed for Riak 2.0.
&gt; --
&gt; Luke Bakken
&gt; Engineer / CSE
&gt; lbak...@basho.com
&gt;
&gt;
&gt; On Mon, Oct 20, 2014 at 1:56 AM, Lucas Grijander
&gt;  wrote:
&gt; &gt; Hi Luke,
&gt; &gt;
&gt; &gt; Indeed, when removed the thousands of requests, the memory is stabilized.
&gt; &gt; However the memory consumption is still very high:
&gt; &gt;
&gt; &gt; riak-admin status |grep memory
&gt; &gt; memory\\_total : 18494760128
&gt; &gt; memory\\_processes : 145363184
&gt; &gt; memory\\_processes\\_used : 142886424
&gt; &gt; memory\\_system : 18349396944
&gt; &gt; memory\\_atom : 561761
&gt; &gt; memory\\_atom\\_used : 554496
&gt; &gt; memory\\_binary : 7108243240
&gt; &gt; memory\\_code : 13917820
&gt; &gt; memory\\_ets : 11200328880
&gt; &gt;
&gt; &gt; I have test also with Riak 1.4.10 and the performance is the same.
&gt; &gt;
&gt; &gt; Is it normal that the "memory\\_ets" has more than 10GB when we have a
&gt; &gt; "ring\\_size" of 16 and a max\\_memory\\_per\\_vnode = 250MB?
&gt; &gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

