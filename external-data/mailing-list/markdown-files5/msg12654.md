---
title: "Re: Read Before Writes on Distributed Counters"
description: ""
project: community
lastmod: 2013-10-17T07:20:39-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12654"
mailinglist_parent_id: "msg12655"
author_name: "Sam Elliott"
project_section: "mailinglistitem"
sent_date: 2013-10-17T07:20:39-07:00
---


It is perfectly safe with Counters to "blindly" issue an update. Clients (for 
counters) should allow a way to blindly send updates.

You should only be aware that your updates are \\*not\\* idempotent - if you retry 
an update to a counter, both updates could be preserved.

Sam
-- 
Sam Elliott
Engineer
sam.elli...@basho.com
--


On Thursday, 17 October 2013 at 10:03AM, Weston Jossey wrote:

&gt; In the context of using distributed counters (introduced in 1.4), is it 
&gt; strictly necessary to perform a read prior to issue a write for a given key? 
&gt; A la, if I want to blindly increment a value by 1, regardless of what its 
&gt; current value is, is it sufficient to issue the write without previously 
&gt; having read the object?
&gt; 
&gt; I ask because looking at some of the implementations for counters in the open 
&gt; source community, it's common to perform a read before a write, which impacts 
&gt; performance ceilings on clusters with high volume reads / writes. I want to 
&gt; verify before issuing some PRs that this is in fact safe behavior.
&gt; 
&gt; Thank you!
&gt; -Wes Jossey
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com




\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

