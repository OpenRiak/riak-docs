---
title: "Riak nodes silently failing, possible problem with handoff_concurrency"
description: ""
project: community
lastmod: 2014-03-05T13:21:52-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13755"
author_name: "Drew Goya"
project_section: "mailinglistitem"
sent_date: 2014-03-05T13:21:52-08:00
---


So I'm having a recurring problem where members of my cluster silently drop
off. Their beam.smp process is doing about 1/10 the work of healthy nodes.
 This looks like it is related to handoff\\_concurrency.

After seeing a large number of log messages like:

An outbound handoff of partition riak\\_kv\\_vnode
79925870791533753339264014289171727637433810944 was terminated for reason:
{shutdown,max\\_concurrency}

The node silently fails and the only log messages I see after that point
are AAE throttle ones.

Perhaps killing these outbound handoffs is permanently consuming a resource?
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

