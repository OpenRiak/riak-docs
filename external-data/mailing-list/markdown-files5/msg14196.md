---
title: "Re: bad message code. Expected: 14 actual: 1"
description: ""
project: community
lastmod: 2014-05-08T09:45:06-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14196"
mailinglist_parent_id: "msg14193"
author_name: "Daniel Iwan"
project_section: "mailinglistitem"
sent_date: 2014-05-08T09:45:06-07:00
---


Thanks Bryan but according to Java github project :

riak-client-2.0-technical-preview - Core preview for Riak 2.0
riak-client-1.4.4 - For use with Riak 1.4+
riak-client-1.1.4 - For use with &lt; Riak 1.4.0

Is v1.1.4
https://github.com/basho/riak-java-client/commit/875bfbe66ac9c24a4ddc1b5cca819b8f2aee8381

fixing exactly that problem?

Daniel



On 8 May 2014 17:30, bryan hunt  wrote:

&gt;
&gt; Daniel
&gt;
&gt; http://docs.basho.com/riak/latest/dev/references/protocol-buffers/
&gt;
&gt; Sounds it’s trying to process the response for a ping instead of the
&gt; response for a delete.
&gt;
&gt; I’d upgrade to Java client 1.1.4 and see if the behavior continues.
&gt;
&gt; Best Regards,
&gt;
&gt; Bryan Hunt
&gt;
&gt;
&gt;
&gt; On 8 May 2014, at 15:02, Daniel Iwan  wrote:
&gt;
&gt; &gt; Hi
&gt; &gt;
&gt; &gt; I got following exception with riak Java client 1.1.3, Riak cluster 1.3.1
&gt; &gt; I don't see any error messages in Riak's console log. Any idea what may
&gt; be causing this?
&gt; &gt;
&gt; &gt; Caused by: com.basho.riak.client.RiakRetryFailedException:
&gt; java.io.IOException: bad message code. Expected: 14 actual: 1
&gt; &gt; at
&gt; com.basho.riak.client.cap.DefaultRetrier.attempt(DefaultRetrier.java:79)
&gt; &gt; at
&gt; com.basho.riak.client.cap.DefaultRetrier.attempt(DefaultRetrier.java:81)
&gt; &gt; at
&gt; com.basho.riak.client.cap.DefaultRetrier.attempt(DefaultRetrier.java:81)
&gt; &gt; at
&gt; com.basho.riak.client.cap.DefaultRetrier.attempt(DefaultRetrier.java:81)
&gt; &gt; at
&gt; com.basho.riak.client.cap.DefaultRetrier.attempt(DefaultRetrier.java:53)
&gt; &gt; at
&gt; com.basho.riak.client.operations.DeleteObject.execute(DeleteObject.java:111)
&gt; &gt; at
&gt; com.basho.riak.client.bucket.DomainBucket.delete(DomainBucket.java:484)
&gt; &gt; at
&gt; com.basho.riak.client.bucket.DomainBucket.delete(DomainBucket.java:418)
&gt; &gt; at server.riak.k.b(SourceFile:104)
&gt; &gt; ... 19 more
&gt; &gt; Caused by: java.io.IOException: bad message code. Expected: 14 actual: 1
&gt; &gt; at
&gt; com.basho.riak.pbc.RiakConnection.receive\\_code(RiakConnection.java:153)
&gt; &gt; at com.basho.riak.pbc.RiakClient.delete(RiakClient.java:622)
&gt; &gt; at com.basho.riak.pbc.RiakClient.delete(RiakClient.java:609)
&gt; &gt; at
&gt; com.basho.riak.client.raw.pbc.PBClientAdapter.delete(PBClientAdapter.java:222)
&gt; &gt; at
&gt; com.basho.riak.client.operations.DeleteObject$2.call(DeleteObject.java:106)
&gt; &gt; at
&gt; com.basho.riak.client.operations.DeleteObject$2.call(DeleteObject.java:104)
&gt; &gt; at
&gt; com.basho.riak.client.cap.DefaultRetrier.attempt(DefaultRetrier.java:72)
&gt; &gt; ... 27 more
&gt; &gt;
&gt; &gt; Regards
&gt; &gt; Daniel
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

