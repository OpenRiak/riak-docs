---
title: "Re: Riak 2.1.3 - Multiple indexes created by Solr for the same Riak	object"
description: ""
project: community
lastmod: 2016-09-12T05:37:40-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17636"
mailinglist_parent_id: "msg17634"
author_name: "Fred Dushin"
project_section: "mailinglistitem"
sent_date: 2016-09-12T05:37:40-07:00
---


Hi Weixi,

You might have to try describing your use case in more detail. Solr Indices 
are independent from Riak objects. They are, instead, associated with riak 
buckets (or bucket types), and an object (key/value) can only be associated 
with one bucket. Therefore, a Riak object can only be associated with one Solr 
index. A Solr index can be associated with multiple buckets, but in general 
the mapping from Riak objects to Solr indices is injective.

Is it possible that you changed the index associated with a bucket at some 
point in the bucket or bucket type lifecycle?

-Fred

&gt; On Sep 10, 2016, at 9:27 PM, Weixi Yen  wrote:
&gt; 
&gt; Sort of a unique case, my app was under heavy stress and one of my riak nodes 
&gt; got backed up (other 4 nodes were fine).
&gt; 
&gt; I think this caused Riak.update to create an extra index in Solr for the same 
&gt; object when users began running .update on that object.
&gt; 
&gt; I have basically 2 questions:
&gt; 
&gt; 1) Is what I'm describing something that is possible?
&gt; 
&gt; 2) Is there a way to tell Solr to re-index one single item and get rid of all 
&gt; other indexes of that item?
&gt; 
&gt; Considering RiakTS to resolve these issues long term, but have to stick with 
&gt; Solr for at least the next 3 months, would appreciate any insight into how to 
&gt; solve this duplicate index problem.
&gt; 
&gt; Thanks,
&gt; 
&gt; Weixi
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

