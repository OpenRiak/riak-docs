---
title: "Re: Yokozuna error during indexing"
description: ""
project: community
lastmod: 2014-11-21T11:43:32-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15194"
mailinglist_parent_id: "msg15193"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2014-11-21T11:43:32-08:00
---



Oleksiy Krivoshey writes:

&gt; Hi,
&gt;
&gt; I have enabled Yokozuna on existing Riak 2.0 buckets and while it is still
&gt; indexing everything I've already received about 50 errors like this:
&gt;
&gt; emulator Error in process &lt;0.26807.79&gt; on node 'riak@10.0.1.1' with exit
&gt; value:
&gt; {{badmatch,false},[{base64,decode\\_binary,2,[{file,"base64.erl"},{line,211}]},{yz\\_solr,to\\_pair,1,[{file,"src/yz\\_solr.erl"},{line,414}]},{yz\\_solr,'-get\\_pairs/1-lc$^0/1-0-',1,[{file,"src/yz\\_solr.erl"},{line,411}]},{yz\\_solr,'-get\\_pairs/1-lc$^0/1-0-'...
&gt;
&gt; Can someone please describe what does it mean?

I'm fairly certain the base64 library in Erlang is indicating that you
have a truncated base64 string.

https://github.com/basho/otp/blob/OTP\\_R16B02\\_basho6/lib/stdlib/src/base64.erl#L211

You should be able to attach to the Riak console and run the following
command to get the base64 string:

redbug:start("yz\\_solr:to\\_pair -&gt; return").

That will give you the Type/Bucket/Key and the base64 string that is
causing the issue. Knowing that info can help you confirm the issue and
perhaps figure out what it is happening.

Are you using a custom schema?

-Z

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

