---
title: "Storage statistic calculation errors"
description: ""
project: community
lastmod: 2015-03-11T01:27:50-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15874"
author_name: "Stanislav Vlasov"
project_section: "mailinglistitem"
sent_date: 2015-03-11T01:27:50-07:00
---


Our riak-cs cluster can't calculate storage statistic for some buckets
and all calculation takes too long:

riak-cs/console.log:
2015-03-11 01:25:56.791 [error]
&lt;0.485.0&gt;@riak\\_cs\\_storage:maybe\\_sum\\_bucket:75 failed to calculate
usage of bucket 'xxxxxxxxxxxxxxxxx' of user 'XXXXXXXXXXXXXXXXXXXX'.
Reason: {error,{timeout,[]}}
2015-03-11 01:37:36.212 [info]
&lt;0.485.0&gt;@riak\\_cs\\_storage\\_d:calculating:150 Finished storage
calculation in 5794 seconds.

This bucket contains over 5000000 files. It could be the cause of this
error, but several days ago, after cluster restart, all storage
statistic was calculated without errors:

2015-02-27 01:23:59.777 [info]
&lt;0.483.0&gt;@riak\\_cs\\_storage\\_d:calculating:150 Finished storage
calculation in 1138 seconds.

Please advise anything to fix it


Our node config files and last logs can be found at http://ovh.to/MuavQVP

12 nodes in cluster, node hardware configuration:
CPU: 6 cores of Intel(R) Xeon(R) CPU E5-2620 0 @ 2.00GHz
RAM: 60G

-- 
Stanislav

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

