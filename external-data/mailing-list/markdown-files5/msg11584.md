---
title: "Re: Routing tasks"
description: ""
project: community
lastmod: 2013-07-18T06:38:40-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11584"
mailinglist_parent_id: "msg11587"
author_name: "Justin"
project_section: "mailinglistitem"
sent_date: 2013-07-18T06:38:40-07:00
---


Opps, my bad, wrong list. :)


On Wed, Jul 17, 2013 at 4:54 PM, Justin  wrote:

&gt; Is it possible to route a task to a specific worker? I looked at using
&gt; priorities but I don't think that is an option/implemented.
&gt;
&gt; - I have 3 celery servers for a total of 55 workers/threads: hostA/13,
&gt; hostB/21, and hostC/21 (concurrency is after the /)
&gt; - I'm using RabbitMQ
&gt; - I'm ETL'ing ~2TB of MySQL data to Riak.
&gt; - Two workers/threads can't modify the same data at once, so I have a
&gt; locking mechanism.
&gt; - The transformation/merging of data into Riak can take several minutes.
&gt; If 2 or more tasks are working on the same "key", the other has to wait
&gt; until the merging is complete. This is very common because I create the
&gt; tasks sequentially based off key. This often leads to many or all workers
&gt; waiting/idle (for many minutes ... it some cases, several hours).
&gt;
&gt; My logic is that if I could route a "key" to a specific worker/thread, I
&gt; would eliminate the locking.
&gt;
&gt; Thanks for any help.
&gt;
&gt; Kind regards,
&gt; -Justin
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

