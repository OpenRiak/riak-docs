---
title: "RE: crash in riak-cs"
description: ""
project: community
lastmod: 2015-10-15T17:19:50-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16667"
mailinglist_parent_id: "msg16666"
author_name: "Gautam Pulla"
project_section: "mailinglistitem"
sent_date: 2015-10-15T17:19:50-07:00
---


Thanks for the reply, I was able to work-around the problem based on your 
suggestion.

FYI: We're using the Amazon C# client and the problem was caused by specifying 
an empty string as the "delimiter" for the ListObjects function call. I 
switched to null & it works without issues now.

Regards,
Gautam

-----Original Message-----
From: Shunichi Shinohara [mailto:sh...@basho.com] 
Sent: Thursday, October 15, 2015 1:51 AM
To: Gautam Pulla 
Cc: riak-users@lists.basho.com
Subject: Re: crash in riak-cs

Hi Gautam,

Hmm... It seems like a bug. List objects fails when "delimiter" query parameter 
is empty like:
 http://foo.s3.amazonaws.com/?delimiter=

May I ask some questions?
- What client (s3cmd, s3curl, java sdk, etc...) do you use?
- Can you control the query parameter and remove it when its value is empty?

Thanks,
Shino

2015-10-15 2:44 GMT+09:00 Gautam Pulla :
&gt; Hello,
&gt;
&gt;
&gt;
&gt; I’m seeing the following error in the riak-cs logs on sending a 
&gt; list-buckets request. The request fails as well. Is this a known/fixed 
&gt; issue? I am running version 2.0.1-1.
&gt;
&gt;
&gt;
&gt; 2015-10-10 18:53:55.828 [error] &lt;0.768.5&gt; CRASH REPORT Process 
&gt; &lt;0.768.5&gt; with 1 neighbours exited with reason: bad argument in call 
&gt; to 
&gt; binary:match(&lt;&lt;"2011/06/10/12/clicks\\_tdpartnerid\\_v2\\_2011-06-10T12\\_2011
&gt; -06-10T13.log.gz"&gt;&gt;,
&gt; [&lt;&lt;&gt;&gt;]) in riak\\_cs\\_list\\_objects\\_utils:extract\\_group/2 line 197 in
&gt; gen\\_fsm:terminate/7 line 622
&gt;
&gt;
&gt;
&gt; Thanks,
&gt;
&gt; Gautam
&gt;
&gt;
&gt;
&gt; PS: This is a re-send of my first message sent on 10/10. The original 
&gt; message appears delayed in moderation, so I’m resending after joining 
&gt; the list.
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

