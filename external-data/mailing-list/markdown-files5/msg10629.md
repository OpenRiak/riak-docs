---
title: "Re: Having to raise VM number-of-processes limit"
description: ""
project: community
lastmod: 2013-03-30T15:04:57-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10629"
mailinglist_parent_id: "msg10628"
author_name: "Evan Vigil-McClanahan"
project_section: "mailinglistitem"
sent_date: 2013-03-30T15:04:57-07:00
---


Dave,

If you're seeing the process count go that high, it suggests to me
that something else is wrong. Typically, even for heavily loaded
clusters, hundreds of thousands of processes isn't normal. Is there
anything else in the logs?

When a node sees this sort of behavior start, does riak-admin top
-sort msg\\_q look like?

On Sat, Mar 30, 2013 at 2:07 PM, Dave Brady  wrote:
&gt; Hello,
&gt;
&gt; I have run into a situation whereby I started seeing:
&gt;
&gt; [error] emulator Too many processes
&gt;
&gt; when some of our new jobs ran. These jobs are in perl using Net::Riak,
&gt; communicating to the cluster via PBC. They fire tens of thousands of fetchs
&gt; and stores over the course of about 20 minutes.
&gt;
&gt; Our cluster has five nodes with 1.3, using eLevelDB.
&gt;
&gt; I have been raising the limit (+P in vm.args) in increments from the default
&gt; of 32768. Currently at 524288, and that is still not high enough.
&gt;
&gt; Have any of you had to increase this limit?
&gt;
&gt; Thanks!
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

