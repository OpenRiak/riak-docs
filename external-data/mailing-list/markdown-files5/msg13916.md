---
title: "Re: updating the default bucket-type to support Solr indexing?"
description: ""
project: community
lastmod: 2014-03-25T01:15:16-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13916"
mailinglist_parent_id: "msg13915"
author_name: "Paul Walk"
project_section: "mailinglistitem"
sent_date: 2014-03-25T01:15:16-07:00
---


Ah - thanks - will give this a spin.

thanks,

Paul

On 25 Mar 2014, at 01:52, Ryan Zezeski  wrote:

&gt; There is support for indexing CRDTs. Field definitions are defined in the 
&gt; default schema:
&gt; 
&gt; https://github.com/basho/yokozuna/blob/develop/priv/default\\_schema.xml#L96
&gt; 
&gt; 
&gt; On Mon, Mar 24, 2014 at 12:33 PM, Paul Walk  wrote:
&gt; Thanks Luke.
&gt; 
&gt; If I might be allowed a follow-on question, what is the effect of adding an 
&gt; index to a 'typed bucket-type'. For example, if I define a bucket\\_type as 
&gt; follows:
&gt; 
&gt; ./riak-admin bucket-type create map\\_bucket\\_type 
&gt; '{"props":{"search\\_index":"my\\_index","datatype":"map"}}'
&gt; 
&gt; Are the members of any maps stored in a bucket which uses this bucket-type 
&gt; going to get indexed in Solr? I would assume that some sort of mashalling 
&gt; function and a custom schema would be required?
&gt; 
&gt; Thanks,
&gt; 
&gt; Paul
&gt; 
&gt; On 24 Mar 2014, at 15:52, Luke Bakken  wrote:
&gt; 
&gt; &gt; Hi Paul,
&gt; &gt;
&gt; &gt; You are correct, a new bucket type must be created for Riak 2.0 search 
&gt; &gt; indexes.
&gt; &gt;
&gt; &gt; --
&gt; &gt; Luke Bakken
&gt; &gt; CSE
&gt; &gt; lbak...@basho.com
&gt; &gt;
&gt; &gt;
&gt; &gt; On Mon, Mar 24, 2014 at 2:27 AM, Paul Walk  wrote:
&gt; &gt; I'm experimenting with the technology preview of Riak 2.0, using an 
&gt; &gt; existing Ruby web application which uses the official Ruby client gem 
&gt; &gt; (1.4.3).
&gt; &gt;
&gt; &gt; My understanding is that if I have not specified particular bucket-types, 
&gt; &gt; then my buckets are implicitly using a 'default' bucket type. So, in order 
&gt; &gt; to try the all-new search functionality, I have tried to associate the 
&gt; &gt; default bucket-type with a search index, thus:
&gt; &gt;
&gt; &gt; ./riak-admin bucket-type update default 
&gt; &gt; '{"props":{"search\\_index":"my\\_index"}}'
&gt; &gt;
&gt; &gt; which returns the error:
&gt; &gt;
&gt; &gt; Error updating bucket type default: no\\_default\\_update
&gt; &gt;
&gt; &gt; Does this mean that in Riak 2.0, if one wants buckets to be indexed in 
&gt; &gt; Solr, one must create a new bucket\\_type in order to associate an index and 
&gt; &gt; then associate buckets with this?
&gt; &gt;
&gt; &gt; Thanks,
&gt; &gt;
&gt; &gt; Paul
&gt; &gt; -------------------------------------------
&gt; &gt; Paul Walk
&gt; &gt; http://www.paulwalk.net
&gt; &gt; -------------------------------------------
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt;
&gt; 
&gt; -------------------------------------------
&gt; Paul Walk
&gt; http://www.paulwalk.net
&gt; -------------------------------------------
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; 

-------------------------------------------
Paul Walk
http://www.paulwalk.net
-------------------------------------------






\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

