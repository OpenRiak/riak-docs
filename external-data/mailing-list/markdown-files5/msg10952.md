---
title: "Re: the optimal value of the ring_creation_size"
description: ""
project: community
lastmod: 2013-04-22T14:32:01-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10952"
mailinglist_parent_id: "msg10951"
author_name: "Tom Zeng"
project_section: "mailinglistitem"
sent_date: 2013-04-22T14:32:01-07:00
---


Ok thanks Joe. We plan to switch to the Multi backend, so will use 512.


On Mon, Apr 22, 2013 at 5:17 PM, Joe Caswell  wrote:

&gt; Tom,
&gt; There is no hard and fast rule for the "best value." The optimal value
&gt; for your situation will need to take into account the physical resources
&gt; available both in your starting cluster as well as your planned end-state
&gt; cluster. If you plan to use secondary indexing, the maximum
&gt; ring\\_creation\\_size you should consider is 512.
&gt; There will be a separate concurrent vnode\\_proxy process for each vnode,
&gt; and a process for each backend for each vnode. Each backend will need open
&gt; file handles and RAM for caching objects. The backend configuration
&gt; section of the docs should help plan your backed settings
&gt; http://docs.basho.com/riak/1.3.1/tutorials/choosing-a-backend/
&gt; Your planning must also include failure scenarios. If any of your nodes
&gt; crash, the surviving nodes will each start more vnodes to cover the missing
&gt; node(s). The 10 vnodes per node recommendation is to ensure that the
&gt; vnodes from any single failed node can be divided among enough surviving
&gt; nodes to not leave one node handling significantly more load than the
&gt; other, but this also is not a hard and fast rule.
&gt; At this time changing number of partitions in the ring does require a
&gt; complete rebuild of the cluster, we do have dynamic ring sizing on the
&gt; product roadmap, but there is no release date set for that feature.
&gt;
&gt; Joe Caswell
&gt;
&gt; From: Tom Zeng 
&gt; Date: Sunday, April 21, 2013 9:38 PM
&gt; To: 
&gt; Subject: the optimal value of the ring\\_creation\\_size
&gt;
&gt; Hi,
&gt;
&gt; I am wondering what's the best value for ring\\_creation\\_size, the default
&gt; is 64. According to the docs 64 will work for a cluster of no more than 6
&gt; nodes (64 /10), and ring\\_creation\\_size of 128 will allow cluster of up to
&gt; 12 mode. I am wondering what kind of overhead of is associated with a
&gt; large ring\\_creation\\_size. Since changing the ring\\_creation\\_size will
&gt; result in rebuilding the cluster(destuctive), would a larger value make
&gt; more sense and allow scaling by adding more nodes?
&gt;
&gt;
&gt; Thanks,
&gt; Tom
&gt;
&gt; --
&gt; Tom Zeng
&gt; Director of Engineering
&gt; Intridea, Inc. | www.intridea.com
&gt; t...@intridea.com
&gt; (o) 888.968.4332 x519
&gt; (c) 240-643-8728
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_ riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

