---
title: "Re: Invalid hintfiles"
description: ""
project: community
lastmod: 2013-09-18T20:57:43-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12321"
mailinglist_parent_id: "msg12320"
author_name: "Andrew Stone"
project_section: "mailinglistitem"
sent_date: 2013-09-18T20:57:43-07:00
---


Good to hear. :)


On Wed, Sep 18, 2013 at 11:52 PM, Toby Corkindale &lt;
toby.corkind...@strategicdata.com.au&gt; wrote:

&gt; Hi Andrew,
&gt; Thanks for that -- so far things are looking stable after making that
&gt; change.
&gt;
&gt; -T
&gt;
&gt;
&gt; On 19/09/13 13:27, Andrew Stone wrote:
&gt;
&gt;&gt; Hi Toby,
&gt;&gt;
&gt;&gt; Can you try raising the pb\\_backlog to 128 in your riak app.config on
&gt;&gt; each node. It's likely those disconnect errors are left over from the
&gt;&gt; stampede of connections from the CS connection pool on startup. For one
&gt;&gt; reason or another the resets don't come through and the hanging
&gt;&gt; disconnected socket isn't discovered until the next send attempt.
&gt;&gt;
&gt;&gt; -Andrew
&gt;&gt;
&gt;&gt;
&gt;&gt; On Wed, Sep 18, 2013 at 10:31 PM, Toby Corkindale
&gt;&gt; 
&gt;&gt; &gt;&gt;
&gt;&gt; wrote:
&gt;&gt;
&gt;&gt; On 19/09/13 11:17, Luke Bakken wrote:
&gt;&gt;
&gt;&gt; The "error: disconnected" message is a good clue. If you can
&gt;&gt; provide
&gt;&gt; log files that may point to the cause.
&gt;&gt;
&gt;&gt;
&gt;&gt; See below for logs from riak and riak cs, for a roughly five minute
&gt;&gt; window during which I'd fiddled with the load balancer and DNS to
&gt;&gt; try and isolate this server from other requests, and only send mine
&gt;&gt; to it.
&gt;&gt;
&gt;&gt; Unfortunately I really don't see much in there apart from the
&gt;&gt; disconnected messages. I did note that there were warnings about
&gt;&gt; system hitting high watermarks for memory at one point though.
&gt;&gt; That's a bit odd, as the machine wasn't near max capacity at any
&gt;&gt; point - it's only 8GB, but 'free' was reporting that most was being
&gt;&gt; used just for buffers and cache at the time; as follows:
&gt;&gt;
&gt;&gt; ie.
&gt;&gt; total used free shared buffers
&gt;&gt; cached
&gt;&gt; Mem: 8176412 3803404 4373008 0 34112
&gt;&gt; 3052340
&gt;&gt; -/+ buffers/cache: 716952 7459460
&gt;&gt; Swap: 3903484 0 3903484
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

