---
title: "Re: Riak server crashing"
description: ""
project: community
lastmod: 2016-05-02T14:50:50-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17278"
mailinglist_parent_id: "msg17270"
author_name: "Ricardo Mayerhofer"
project_section: "mailinglistitem"
sent_date: 2016-05-02T14:50:50-07:00
---


Makes sense, I'll tune it.

On Mon, May 2, 2016 at 11:29 AM, Fred Dushin  wrote:

&gt; Acceptor not being able to create a server side socket smells like you've
&gt; run out of file descriptors.
&gt;
&gt; On May 2, 2016, at 10:25 AM, Ricardo Mayerhofer 
&gt; wrote:
&gt;
&gt; Hi all,
&gt; I've a riak server that was running fine for 1 month, now it keep
&gt; crashing. Restart has no effect. Any idea?
&gt;
&gt; Riak version 2.13
&gt;
&gt; error.log
&gt;
&gt; 2016-05-02 14:07:54.871 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt; exit with reason {timeout,{gen\\_server,call,[&lt;0.2386.190&gt;,stop]}} in context
&gt; shutdown\\_error
&gt;
&gt; 2016-05-02 14:07:54.871 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt; exit with reason {timeout,{gen\\_server,call,[&lt;0.19017.322&gt;,stop]}} in
&gt; context shutdown\\_error
&gt;
&gt; 2016-05-02 14:07:54.871 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt; exit with reason {timeout,{gen\\_server,call,[&lt;0.18706.190&gt;,stop]}} in
&gt; context shutdown\\_error
&gt;
&gt; 2016-05-02 14:07:54.871 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt; exit with reason {timeout,{gen\\_server,call,[&lt;0.19822.324&gt;,stop]}} in
&gt; context shutdown\\_error
&gt;
&gt; 2016-05-02 14:07:54.871 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt; exit with reason {timeout,{gen\\_server,call,[&lt;0.2857.0&gt;,stop]}} in context
&gt; shutdown\\_error
&gt;
&gt; 2016-05-02 14:07:54.871 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt; exit with reason {timeout,{gen\\_server,call,[&lt;0.2786.0&gt;,stop]}} in context
&gt; shutdown\\_error
&gt;
&gt; 2016-05-02 14:07:54.871 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt; exit with reason {timeout,{gen\\_server,call,[&lt;0.2626.0&gt;,stop]}} in context
&gt; shutdown\\_error
&gt;
&gt; 2016-05-02 14:07:54.871 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt; exit with reason {timeout,{gen\\_server,call,[&lt;0.5208.180&gt;,stop]}} in context
&gt; shutdown\\_error
&gt;
&gt; 2016-05-02 14:07:54.872 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt; exit with reason {timeout,{gen\\_server,call,[&lt;0.2562.0&gt;,stop]}} in context
&gt; shutdown\\_error
&gt;
&gt; 2016-05-02 14:07:54.872 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt; exit with reason bad argument in call to ets:lookup(riak\\_core\\_node\\_watcher,
&gt; {by\\_node,'riak@127.0.0.1'}) in
&gt; riak\\_core\\_node\\_watcher:internal\\_get\\_services/1 line 548 in context
&gt; shutdown\\_error
&gt;
&gt; 2016-05-02 14:17:27.739 [error] &lt;0.4518.0&gt; application: mochiweb, "Accept
&gt; failed error", "{error,emfile}"
&gt;
&gt; 2016-05-02 14:17:27.739 [error] &lt;0.4518.0&gt; CRASH REPORT Process &lt;0.4518.0&gt;
&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt; mochiweb\\_acceptor:init/3 line 33
&gt;
&gt; 2016-05-02 14:17:27.739 [error] &lt;0.308.0&gt;
&gt; {mochiweb\\_socket\\_server,320,{acceptor\\_error,{error,accept\\_failed}}}
&gt;
&gt; 2016-05-02 14:17:27.739 [error] &lt;0.5153.0&gt; application: mochiweb, "Accept
&gt; failed error", "{error,emfile}"
&gt;
&gt; 2016-05-02 14:17:27.739 [error] &lt;0.5153.0&gt; CRASH REPORT Process &lt;0.5153.0&gt;
&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt; mochiweb\\_acceptor:init/3 line 33
&gt;
&gt; 2016-05-02 14:17:27.739 [error] &lt;0.5156.0&gt; application: mochiweb, "Accept
&gt; failed error", "{error,emfile}"
&gt;
&gt; 2016-05-02 14:17:27.739 [error] &lt;0.5156.0&gt; CRASH REPORT Process &lt;0.5156.0&gt;
&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt; mochiweb\\_acceptor:init/3 line 33
&gt;
&gt; 2016-05-02 14:17:27.739 [error] &lt;0.5216.0&gt; application: mochiweb, "Accept
&gt; failed error", "{error,emfile}"
&gt;
&gt; 2016-05-02 14:17:27.739 [error] &lt;0.5216.0&gt; CRASH REPORT Process &lt;0.5216.0&gt;
&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt; mochiweb\\_acceptor:init/3 line 33
&gt;
&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5090.0&gt; application: mochiweb, "Accept
&gt; failed error", "{error,emfile}"
&gt;
&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5090.0&gt; CRASH REPORT Process &lt;0.5090.0&gt;
&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt; mochiweb\\_acceptor:init/3 line 33
&gt;
&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5165.0&gt; application: mochiweb, "Accept
&gt; failed error", "{error,emfile}"
&gt;
&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5165.0&gt; CRASH REPORT Process &lt;0.5165.0&gt;
&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt; mochiweb\\_acceptor:init/3 line 33
&gt;
&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5167.0&gt; application: mochiweb, "Accept
&gt; failed error", "{error,emfile}"
&gt;
&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5167.0&gt; CRASH REPORT Process &lt;0.5167.0&gt;
&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt; mochiweb\\_acceptor:init/3 line 33
&gt;
&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5103.0&gt; application: mochiweb, "Accept
&gt; failed error", "{error,emfile}"
&gt;
&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5103.0&gt; CRASH REPORT Process &lt;0.5103.0&gt;
&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt; mochiweb\\_acceptor:init/3 line 33
&gt;
&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5141.0&gt; application: mochiweb, "Accept
&gt; failed error", "{error,emfile}"
&gt;
&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5141.0&gt; CRASH REPORT Process &lt;0.5141.0&gt;
&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt; mochiweb\\_acceptor:init/3 line 33
&gt;
&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5332.0&gt; application: mochiweb, "Accept
&gt; failed error", "{error,emfile}"
&gt;
&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5332.0&gt; CRASH REPORT Process &lt;0.5332.0&gt;
&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt; mochiweb\\_acceptor:init/3 line 33
&gt;
&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5334.0&gt; application: mochiweb, "Accept
&gt; failed error", "{error,emfile}"
&gt;
&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5334.0&gt; CRASH REPORT Process &lt;0.5334.0&gt;
&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt; mochiweb\\_acceptor:init/3 line 33
&gt;
&gt; 2016-05-02 14:17:27.740 [error] &lt;0.4460.0&gt; application: mochiweb, "Accept
&gt; failed error", "{error,emfile}"
&gt;
&gt; 2016-05-02 14:17:27.740 [error] &lt;0.4460.0&gt; CRASH REPORT Process &lt;0.4460.0&gt;
&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt; mochiweb\\_acceptor:init/3 line 33
&gt;
&gt;
&gt;
&gt; --
&gt; Ricardo Mayerhofer
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;


-- 
Ricardo Mayerhofer
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

