---
title: "Re: Upgrading 1.4 to 2.0"
description: ""
project: community
lastmod: 2014-10-02T09:40:31-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14975"
mailinglist_parent_id: "msg14970"
author_name: "Thelonious Fonk"
project_section: "mailinglistitem"
sent_date: 2014-10-02T09:40:31-07:00
---


Thanks for looking into this Luke.

I wasn't able to solve this issue but since it was a dev environment, I
ended up uninstalling 1.4.2 and installing 2.0.0.
I did stop each node before upgrading it but I didn't look at beam
processes to make sure they were actually gone. I was surprised to see no
error and to see that the upgrade process could somehow detect that 2.0.0
was installed even though riak-admin status was showing 1.4.2. Weird...

Thanks again.
Simon

On Thu, Oct 2, 2014 at 5:54 PM, Luke Bakken [via Riak Users] &lt;
ml-node+s197444n4031876...@n3.nabble.com&gt; wrote:

&gt; Hello,
&gt;
&gt; Were you able to resolve this issue? I tried to reproduce your issue
&gt; but could not - the upgrade worked successfully.
&gt;
&gt; When you execute "riak stop" prior to using dpkg to upgrade to 2.0,
&gt; please ensure all beam.smp processes are gone before doing the
&gt; upgrade.
&gt; --
&gt; Luke Bakken
&gt; Engineer / CSE
&gt; [hidden email] 
&gt;
&gt;
&gt; On Wed, Sep 24, 2014 at 7:19 AM, Thelonious Fonk &lt;[hidden email]
&gt; &gt; wrote:
&gt;
&gt; &gt; Hi all,
&gt; &gt;
&gt; &gt; I'm a total newbie with Riak so I apologize if my question is silly.
&gt; &gt;
&gt; &gt; I need to build a POC with Riak and we have 5 nodes running v1.4 on a
&gt; dev
&gt; &gt; box so the first thing I'm trying to do is to upgrade these nodes to
&gt; v2.0
&gt; &gt; On the first node (dev1) I followed the instructions here:
&gt; &gt;
&gt; http://docs.basho.com/riak/latest/ops/upgrading/rolling-upgrades/#Debian-Ubuntu
&gt; &gt;
&gt; &gt; But when I get to step 5 "5. Verify Riak is running the new version" the
&gt; &gt; output of the "riak-admin status" command says
&gt; &gt; /riak\\_api\\_version : &lt;&lt;"1.4.2-0-ga7e00e2"&gt;&gt;
&gt; &gt; riak\\_pipe\\_version : &lt;&lt;"1.4.2-0-g59d1bae"&gt;&gt;
&gt; &gt; riak\\_core\\_version : &lt;&lt;"1.4.2"&gt;&gt;/
&gt; &gt;
&gt; &gt; I tried a second time and now when I re-install the package with dpkg -i
&gt; &gt; the output says
&gt; &gt; /(Reading database ... 52512 files and directories currently installed.)
&gt; &gt; \\*Preparing to replace riak 2.0.0-1\\* (using riak\\_2.0.0-1\\_amd64.deb) ...
&gt; &gt; Unpacking replacement riak ...
&gt; &gt; Setting up riak (2.0.0-1) ...
&gt; &gt; Processing triggers for man-db .../
&gt; &gt;
&gt; &gt; So this makes me think it detects somehow that version 2.0.0-1 is
&gt; running
&gt; &gt; but riak-admin still says 1.4.2...
&gt; &gt;
&gt; &gt; What am I doing wrong?
&gt; &gt;
&gt; &gt; Thanks for your help!
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; --
&gt; &gt; View this message in context:
&gt; http://riak-users.197444.n3.nabble.com/Upgrading-1-4-to-2-0-tp4031821.html
&gt; &gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt; &gt;
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; [hidden email] 
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; [hidden email] 
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
&gt; ------------------------------
&gt; If you reply to this email, your message will be added to the discussion
&gt; below:
&gt;
&gt; http://riak-users.197444.n3.nabble.com/Upgrading-1-4-to-2-0-tp4031821p4031876.html
&gt; To unsubscribe from Upgrading 1.4 to 2.0, click here
&gt; 
&gt; .
&gt; NAML
&gt; 
&gt;




--
View this message in context: 
http://riak-users.197444.n3.nabble.com/Upgrading-1-4-to-2-0-tp4031821p4031881.html
Sent from the Riak Users mailing list archive at Nabble.com.\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

