---
title: "Re: Updating Riak values in batch"
description: ""
project: community
lastmod: 2016-06-14T10:58:49-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17474"
mailinglist_parent_id: "msg17472"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2016-06-14T10:58:49-07:00
---


Hi Ricardo,

I don't have examples right at hand, here is a link to our advanced
map/reduce examples:

http://docs.basho.com/riak/kv/2.1.4/developing/app-guide/advanced-mapreduce/

Our own Joe Caswell provided this example: http://stackoverflow.com/a/23633491

If you run into issues after following our examples, feel free to
share what you've done via a gist and we can continue to help out.

--
Luke Bakken
Engineer
lbak...@basho.com

On Tue, Jun 14, 2016 at 10:51 AM, Ricardo Mayerhofer
 wrote:
&gt; Hi Luke,
&gt; Thanks for your reply! Can I use map/reduce operation to update documents?
&gt; Do you have any link with an example?
&gt;
&gt; On Tue, Jun 14, 2016 at 2:44 PM, Luke Bakken  wrote:
&gt;&gt;
&gt;&gt; Hi Ricardo,
&gt;&gt;
&gt;&gt; If you know your keys in advance, you can fetch the keys in parallel,
&gt;&gt; update them, and write them back to Riak in parallel.
&gt;&gt;
&gt;&gt; Other options include map/reduce jobs that iterate over all the keys,
&gt;&gt; but keep in mind that any key listing operation will be resource
&gt;&gt; intensive.
&gt;&gt; --
&gt;&gt; Luke Bakken
&gt;&gt; Engineer
&gt;&gt; lbak...@basho.com
&gt;&gt;
&gt;&gt;
&gt;&gt; On Mon, Jun 13, 2016 at 11:06 AM, Ricardo Mayerhofer
&gt;&gt;  wrote:
&gt;&gt; &gt; Hi all,
&gt;&gt; &gt; I've a large dataset in Riak (about 20 million keys), storing JSON
&gt;&gt; &gt; documents. I'd like to update those documents to remove a JSON
&gt;&gt; &gt; attribute.
&gt;&gt; &gt; What's the best way to approach this problem in Riak?
&gt;&gt; &gt;
&gt;&gt; &gt; Thanks.
&gt;&gt; &gt;
&gt;&gt; &gt; --
&gt;&gt; &gt; Ricardo Mayerhofer
&gt;&gt; &gt;
&gt;&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; &gt; riak-users mailing list
&gt;&gt; &gt; riak-users@lists.basho.com
&gt;&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt; &gt;
&gt;
&gt;
&gt;
&gt;
&gt; --
&gt; Ricardo Mayerhofer

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

