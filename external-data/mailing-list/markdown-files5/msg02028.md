---
title: "Re: Erlang API vs Erlang PBC"
description: ""
project: community
lastmod: 2011-01-20T05:47:24-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02028"
mailinglist_parent_id: "msg02027"
author_name: "Bob Ippolito"
project_section: "mailinglistitem"
sent_date: 2011-01-20T05:47:24-08:00
---


Additionally, the native Erlang client is more sensitive to internal
changes in Riak than any well defined protocol would be.

On Thu, Jan 20, 2011 at 9:35 PM, Ryan Maclear  wrote:
&gt; Thanks, that makes sense. I guess most of the sample code is based on the
&gt; dev setup outlined in the Fast Track on the wiki, which only sets up four
&gt; local nodes.
&gt; Cheers,
&gt; Ryan
&gt; On 20 Jan 2011, at 2:46 PM, Ryan Zezeski wrote:
&gt;
&gt; I think one thing to note is that by using riak\\_client all your data will go
&gt; over the distributed socket, which I suppose could interfere with other
&gt; messages and act as a bottleneck.  With PBC you can open multiple sockets as
&gt; needed and your node won't be connected to the riak cluster, which probably
&gt; becomes more important as the cluster becomes larger because each new node
&gt; to the cluster requires N-1 sockets where N = number of nodes.
&gt; -Ryan
&gt;
&gt; On Thu, Jan 20, 2011 at 6:32 AM, Ryan Maclear  wrote:
&gt;&gt;
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; When creating an erlang client, is is better to use the riak\\_client module
&gt;&gt; (ie. Erlang API) or the riakc\\_pb\\_socket module (PBC)? I've seen a number of
&gt;&gt; code snippets and samples that use the erlang API and not the PBC (eg.
&gt;&gt; http://wiki.basho.com/MapReduce.html) and for some erlang code inside
&gt;&gt; riak\\_function\\_contrib.
&gt;&gt;
&gt;&gt; Obviously, to use the Erlang API I would need to have all the necessary
&gt;&gt; beam files in my erlang path,  whereas the PBC only requires a limited set
&gt;&gt; of beam files.  The Wiki says that the primary client for code not inside
&gt;&gt; riak should be the Erlang PBC. However, is the anything technically wrong
&gt;&gt; with using the erlang API?
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Ryan
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

