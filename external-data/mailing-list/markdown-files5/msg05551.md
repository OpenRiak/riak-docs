---
title: "Re: Cleaning up buckets"
description: ""
project: community
lastmod: 2011-11-11T01:01:09-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05551"
mailinglist_parent_id: "msg05545"
author_name: "Stefan Gebhardt"
project_section: "mailinglistitem"
sent_date: 2011-11-11T01:01:09-08:00
---




Thanks for response.

Cheers
Stefan


Stefan,

There is an open feature request for this. You're not the only one who
would like it to be more efficient :)

Upvotes, comments, etc., are encouraged.

http://features.basho.com/entries/20516763-simplify-bucket-deletion

Mark

On Thu, Nov 10, 2011 at 10:55 AM, Alexander Sicular wrote:

there is no equivalent to drop table / drop bucket.
you need to list all keys via streaming and issue a delete on each key. even
then , the delete is a write , so mind your disk (at least in bitcask).
If this is a test environment just do a "rm -r riak/data/\\*" and start over.
cheers,

-Alexander Sicular
@siculars
http://siculars.posterous.com
On Nov 10, 2011, at 1:00 PM, Stefan Gebhardt wrote:

Hi

I just started playing around with riak.
For the purpose of testing i uploaded 1 million random generated items(using
uuid for keys) to a single bucket
via the python API.
Now i like to clean/remove this bucket and run the upload again. At the
moment i am looking for smth. like DROP Bucket. Neither in the erlang api
nor in the python api i found a function for doing so.
Then i tried to list all keys and delete item by item but the call "list 1
million keys" never returned and ok,,, silly plan at all.

So... My questions are:
How can i clean up my cluster?
Why is there no function to remove a bucket?

Cheers
Stefan




--
--

Stefan Gebhardt \\* stefan.gebha...@abas.de
Software Development
ABAS Software AG \\* ERP / PPS / WWS / eBusiness
Südendstraße 42 \\* 76135 Karlsruhe \\* GERMANY
Vorstand: Werner Strub (Vorsitzender), Peter Walser
Vorsitzender des Aufsichtsrats: Thomas Frank
HRB 107644 Amtsgericht Mannheim
Tel. +49 (0) 721/9 67 23 0 \\* Fax +49 (0) 721/9 67 23 100
http://www.abas.de \\* i...@abas.de


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com





--
--

Stefan Gebhardt \\* stefan.gebha...@abas.de
Software Development
ABAS Software AG \\* ERP / PPS / WWS / eBusiness
Südendstraße 42 \\* 76135 Karlsruhe \\* GERMANY
Vorstand: Werner Strub (Vorsitzender), Peter Walser
Vorsitzender des Aufsichtsrats: Thomas Frank
HRB 107644 Amtsgericht Mannheim
Tel. +49 (0) 721/9 67 23 0 \\* Fax +49 (0) 721/9 67 23 100
http://www.abas.de \\* i...@abas.de


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

