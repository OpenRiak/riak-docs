---
title: "Re: CRDT on Riak 2.0"
description: ""
project: community
lastmod: 2014-03-04T07:13:28-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13746"
mailinglist_parent_id: "msg13744"
author_name: "Sam Elliott"
project_section: "mailinglistitem"
sent_date: 2014-03-04T07:13:28-08:00
---


To answer another thing brought up in your message: 

When you say "big enough" set sizes of 10k, be very careful. Riak Data Types 
should not be larger than you would make a normal Riak Object. There's more 
guidance in this thread:
http://lists.basho.com/pipermail/riak-users\\_lists.basho.com/2014-February/014722.html

Sam
 
-- 
Sam Elliott
Engineer
sam.elli...@basho.com
--


On Tuesday, 4 March 2014 at 10:02AM, Sean Cribbs wrote:

&gt; Hi Tim,
&gt; 
&gt; We punted on sub-type queries for 2.0. We intend to address them in 2.1, so 
&gt; yes you must fetch the entire set or map in order to find out things like 
&gt; membership and cardinality. 
&gt; 
&gt; 
&gt; On Tue, Mar 4, 2014 at 8:01 AM, EmiNarcissus  (mailto:eminarcis...@me.com)&gt; wrote:
&gt; &gt; Hi,
&gt; &gt; 
&gt; &gt; I’m now porting the riak 2.0 driver for twisted, it works beautifully now 
&gt; &gt; with what Yokozuna provides, also have a great back-port ability,really 
&gt; &gt; appreciate everything what this team have brought us XD. But because it 
&gt; &gt; still in lacks of document, I must read the implementation both from ruby 
&gt; &gt; and riakc-erl repo to get it started(erlang is okay for me, but I’m not 
&gt; &gt; quite familiar with ruby,sadly looks like only ruby’s client implementation 
&gt; &gt; is throughly right now). 
&gt; &gt; 
&gt; &gt; So here is my question on the datatype implementation on CRDT system.
&gt; &gt; 
&gt; &gt; From the code I can tell , fetch\\_dt/update\\_dt/modify\\_dt is what have been 
&gt; &gt; exposed from the pbc interface. Now I’m more focused on Set object, so each 
&gt; &gt; time client will fetch the whole set(fetch\\_dt) from the server and build 
&gt; &gt; the set on the local end, and maintain a add/remove operation list to send 
&gt; &gt; to the server when user does a update/add/remove action.
&gt; &gt; 
&gt; &gt; But I’m a little bit confused here, like what redis provides, a set have a 
&gt; &gt; ismember function is being done on the server instead of fetch/test manner. 
&gt; &gt; Does this available for Riak 2.0 Set datatype(just like what Riak1.4 
&gt; &gt; Counter object provided, it will do the operation on the server 
&gt; &gt; side,MISMEMBER a b, it will either return True/False). Currently I only can 
&gt; &gt; see add/update/delete operation on pbc proto file, and don’t have something 
&gt; &gt; alike, is that in a Todo list ? or will not implement at all(I will 
&gt; &gt; reconsider how the data should be structured if so). This feature will be 
&gt; &gt; really helpful when the dataset is big enough(like more than 10k values in 
&gt; &gt; it.)
&gt; &gt; 
&gt; &gt; 
&gt; &gt; Best,
&gt; &gt; Tim Lee
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; 
&gt; 
&gt; 
&gt; 
&gt; -- 
&gt; Sean Cribbs 
&gt; Software Engineer
&gt; Basho Technologies, Inc.
&gt; http://basho.com/
&gt; 
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com




\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

