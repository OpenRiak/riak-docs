---
title: "Re: Riak Search 2.0 - CRDT Sets within Maps not returned in search	results"
description: ""
project: community
lastmod: 2016-01-27T12:21:13-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16995"
mailinglist_parent_id: "msg16994"
author_name: "Weixi Yen"
project_section: "mailinglistitem"
sent_date: 2016-01-27T12:21:13-08:00
---


Just FYI, I'm actually running 2.1.0 version of Riak KV and the default
schema is showing stored=false. \\*2.1.0-0-g6e88b24\\* to be specific on
ubuntu.

On OSX it's the same issue as well for 2.1.1
http://s3.amazonaws.com/downloads.basho.com/riak/2.1/2.1.1/osx/10.8/riak-2.1.1-OSX-x86\\_64.tar.gz

It seems that 2.1.3 has stored=true though.


On Wed, Jan 27, 2016 at 11:47 AM, Weixi Yen  wrote:

&gt; Awesome, that's what I was looking for, thank you!
&gt;
&gt; On Wed, Jan 27, 2016 at 11:40 AM, Zeeshan Lakhani 
&gt; wrote:
&gt;
&gt;&gt; Weixi,
&gt;&gt;
&gt;&gt; Are you using 2.0.0 or another 2.0.\\* version?
&gt;&gt;
&gt;&gt; If you look at
&gt;&gt; https://github.com/basho/yokozuna/blob/2.0.0/priv/default\\_schema.xml#L104,
&gt;&gt; sets are not stored in the default schema, as they can get large. They’re
&gt;&gt; indexed for search, but will not return in the result-set. In 2.0.7 and in
&gt;&gt; 2.1.3, the default schema was changed to store them. If you modify the
&gt;&gt; existing default schema you have (stored=true), reload the schema, and
&gt;&gt; reindex, you’ll see the results.
&gt;&gt;
&gt;&gt; Thanks.
&gt;&gt;
&gt;&gt; Zeeshan Lakhani
&gt;&gt; programmer |
&gt;&gt; software engineer at @basho |
&gt;&gt; org. member/founder of @papers\\_we\\_love | paperswelove.org
&gt;&gt; twitter =&gt; @zeeshanlakhani
&gt;&gt;
&gt;&gt; On Jan 27, 2016, at 2:34 PM, Weixi Yen  wrote:
&gt;&gt;
&gt;&gt; I have a CRDT Map bucket that I'm running searches on in Yokozuna (using
&gt;&gt; \\_yz\\_default index for now)
&gt;&gt;
&gt;&gt; However, the search results do not return any fields of the map that are
&gt;&gt; CRDT sets. Is this intended behavior?
&gt;&gt;
&gt;&gt; Thanks in advance!
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

