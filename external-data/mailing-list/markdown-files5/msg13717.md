---
title: "Re: [ANN] Riak 1.4.8"
description: ""
project: community
lastmod: 2014-02-26T16:05:23-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13717"
mailinglist_parent_id: "msg13713"
author_name: "Toby Corkindale"
project_section: "mailinglistitem"
sent_date: 2014-02-26T16:05:23-08:00
---


Hi Engel,
Ah, thanks, I'll do that now.

Cheers,
Toby

On 27 February 2014 04:59, Engel Sanchez  wrote:
&gt; Toby,
&gt;
&gt; Since data inserted into the AAE trees while versions 1.4.4 -&gt; 1.4.7 of Riak
&gt; were running was incorrect, they should be discarded before the upgrade.
&gt; You are seeing them valiantly trying to repair themselves based on the
&gt; incoming writes, but that activity is wasted since they require a full scan
&gt; of the data to be useful again. We are going to add a paragraph to the
&gt; release notes to warn others about this and make sure the anti\\_entropy
&gt; directories are cleared before Riak is updated to 1.4.8 and AAE is enabled
&gt; again. We recommend you disable AAE, remove all AAE trees (the contents of
&gt; the anti\\_entropy directory) and enable it again during a period of low
&gt; cluster activity. They will all be built again and you should be back in
&gt; business once that the new trees are ready.
&gt;
&gt; Engel
&gt;
&gt;
&gt; On Tue, Feb 25, 2014 at 11:02 PM, Toby Corkindale  wrote:
&gt;&gt;
&gt;&gt; Hi,
&gt;&gt; After upgrading to 1.4.8 in staging, last week, we've been seeing a
&gt;&gt; fairly constant extra amount of riak hits in the stats. Consistently
&gt;&gt; 300-400 a minute. Can get lost in the much higher, varying levels
&gt;&gt; during busy hours, but outside of that it's quite visible as a
&gt;&gt; baseline.
&gt;&gt; The logs show a lot of AAE work going on.
&gt;&gt;
&gt;&gt; I wondered if this was normal behaviour of Riak cleaning up the
&gt;&gt; AAE-related bug from earlier versions, and will go away eventually? Or
&gt;&gt; that unlikely?
&gt;&gt; I emphasize that there's no significant server load resulting from
&gt;&gt; this -- I'm just curious if it's something I need to look into or not.
&gt;&gt;
&gt;&gt; Cheers,
&gt;&gt; Toby
&gt;&gt;
&gt;&gt;
&gt;&gt; On 21 February 2014 04:00, Tom Santero  wrote:
&gt;&gt; &gt; Hi,
&gt;&gt; &gt;
&gt;&gt; &gt; Today, Basho released a minor update of Riak and Riak Enterprise
&gt;&gt; &gt; Edition,
&gt;&gt; &gt; version 1.4.8. This bug-fix release addresses a regression[0] in Riak's
&gt;&gt; &gt; active anti-entropy (AAE) system. The regression existed in versions
&gt;&gt; &gt; 1.4.3
&gt;&gt; &gt; through 1.4.7.
&gt;&gt; &gt;
&gt;&gt; &gt; The complete release notes[1] and package downloads[2] are now
&gt;&gt; &gt; available.
&gt;&gt; &gt;
&gt;&gt; &gt; Thanks for being the best community ever.
&gt;&gt; &gt;
&gt;&gt; &gt; Regards,
&gt;&gt; &gt; The Basho Team
&gt;&gt; &gt;
&gt;&gt; &gt; [0]
&gt;&gt; &gt;
&gt;&gt; &gt; http://lists.basho.com/pipermail/riak-users\\_lists.basho.com/2014-January/014551.html
&gt;&gt; &gt; [1] https://github.com/basho/riak/blob/1.4/RELEASE-NOTES.md
&gt;&gt; &gt; [2] http://docs.basho.com/riak/latest/downloads/
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; &gt; riak-users mailing list
&gt;&gt; &gt; riak-users@lists.basho.com
&gt;&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt; &gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; --
&gt;&gt; Turning and turning in the widening gyre
&gt;&gt; The falcon cannot hear the falconer
&gt;&gt; Things fall apart; the center cannot hold
&gt;&gt; Mere anarchy is loosed upon the world
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;



-- 
Turning and turning in the widening gyre
The falcon cannot hear the falconer
Things fall apart; the center cannot hold
Mere anarchy is loosed upon the world

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

