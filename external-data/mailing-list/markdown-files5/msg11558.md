---
title: "Re: Does Riak support Range Queries over binary safe strings?"
description: ""
project: community
lastmod: 2013-07-16T16:15:47-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11558"
mailinglist_parent_id: "msg11557"
author_name: "gbrits"
project_section: "mailinglistitem"
sent_date: 2013-07-16T16:15:47-07:00
---


Wow, high speed on this list!

I wanted it for near realtime anyway so Map/reduce is out of the question.
Thought somehow it could be done through Riak Search or directly on
secondary indices instead of map/reduce.
Guess not. Oh well, can't have it all.

Thanks


2013/7/17 Jeremiah Peschka [via Riak Users] &lt;
ml-node+s197444n4028359...@n3.nabble.com&gt;

&gt; Following up on Alex's comments -
&gt;
&gt; If you know which bytes you need to slice, you can store this in a
&gt; secondary index. You can perform range queries across secondary indices (as
&gt; well as keys).
&gt;
&gt; As long as you're storing your data in a way that allows it to be read by
&gt; either Erlang or JavaScript, you should be able to query over it in
&gt; MapReduce. This is typically regarded as a Bad Ideaâ„¢ since an MR query will
&gt; need to scan all keys in a bucket (which effectively means scanning the
&gt; entire cluster) and is best done as an infrequent activity to transform
&gt; data.
&gt;
&gt; ---
&gt; Jeremiah Peschka - Founder, Brent Ozar Unlimited
&gt; MCITP: SQL Server 2008, MVP
&gt; Cloudera Certified Developer for Apache Hadoop
&gt;
&gt;
&gt; On Tue, Jul 16, 2013 at 3:45 PM, Alexander Sicular &lt;[hidden 
&gt; email]
&gt; &gt; wrote:
&gt;
&gt;&gt; I would say no. Riak is generally oblivious as to the content of your
&gt;&gt; data. Any ranges or other method you would use to query needs to be
&gt;&gt; explicitly indexed via riak search or secondary indexes. Once you have
&gt;&gt; found your data you could operate over that data in a map reduce, but I
&gt;&gt; can't speak to "binary safe" blob operations in either erlang or JavaScript
&gt;&gt; although I'm inclined to say yes, you would be able to operate over it in
&gt;&gt; m/r.
&gt;&gt;
&gt;&gt; So searching for keys with certain data in the binblob is probably not
&gt;&gt; gonna happen but once you have a key to feed an m/r you could get a slice
&gt;&gt; of that value.
&gt;&gt;
&gt;&gt; Make sense?
&gt;&gt; -Alexander
&gt;&gt;
&gt;&gt; @siculars
&gt;&gt; http://siculars.posthaven.com
&gt;&gt;
&gt;&gt; Sent from my iRotaryPhone
&gt;&gt;
&gt;&gt; On Jul 16, 2013, at 18:17, gbrits &lt;[hidden 
&gt;&gt; email]&gt;
&gt;&gt; wrote:
&gt;&gt;
&gt;&gt; &gt; First, hello all!
&gt;&gt; &gt;
&gt;&gt; &gt; Coming from Redis, I love that you can just put any binary blob in Redis
&gt;&gt; &gt; which is just treated as a string. This is possible because Redis
&gt;&gt; strings
&gt;&gt; &gt; are what they call 'binary safe'. This makes it possible to return
&gt;&gt; slices of
&gt;&gt; &gt; string-encoded binary data, which is super useful for bitset-operations,
&gt;&gt; &gt; etc.
&gt;&gt; &gt;
&gt;&gt; &gt; I'm investigating Riak and I like it a lot so far. Riak seems to have
&gt;&gt; range
&gt;&gt; &gt; queries (on values, as it seems I must make that distinction with
&gt;&gt; &gt; column-stores), but I'm not sure if strings in Riak are "Binary safe"
&gt;&gt; in the
&gt;&gt; &gt; above sense. If not, is there another way to store binary data in Riak
&gt;&gt; and
&gt;&gt; &gt; still do range queries over them quickly?
&gt;&gt; &gt;
&gt;&gt; &gt; To be exact: I want to do multi-key lookups in Riak, where each returned
&gt;&gt; &gt; result should be of format: 
&gt;&gt; &gt;
&gt;&gt; &gt; Thanks,
&gt;&gt; &gt; Geert-Jan
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; --
&gt;&gt; &gt; View this message in context:
&gt;&gt; http://riak-users.197444.n3.nabble.com/Does-Riak-support-Range-Queries-over-binary-safe-strings-tp4028356.html
&gt;&gt; &gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt;&gt; &gt;
&gt;&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; &gt; riak-users mailing list
&gt;&gt; &gt; [hidden email] 
&gt;&gt;
&gt;&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; [hidden email] 
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; [hidden email] 
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
&gt; ------------------------------
&gt; If you reply to this email, your message will be added to the discussion
&gt; below:
&gt;
&gt; http://riak-users.197444.n3.nabble.com/Does-Riak-support-Range-Queries-over-binary-safe-strings-tp4028356p4028359.html
&gt; To unsubscribe from Does Riak support Range Queries over binary safe
&gt; strings?, click 
&gt; here
&gt; .
&gt; NAML
&gt;




--
View this message in context: 
http://riak-users.197444.n3.nabble.com/Does-Riak-support-Range-Queries-over-binary-safe-strings-tp4028356p4028360.html
Sent from the Riak Users mailing list archive at Nabble.com.\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

