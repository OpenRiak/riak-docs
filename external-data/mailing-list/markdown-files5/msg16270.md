---
title: "Re: Riak-CS RAM usage"
description: ""
project: community
lastmod: 2015-07-02T21:56:57-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16270"
mailinglist_parent_id: "msg16269"
author_name: "Kota Uenishi"
project_section: "mailinglistitem"
sent_date: 2015-07-02T21:56:57-07:00
---


Anita,

To use leveldb instead of bitcask for blocks, just stop using multi
backend and remove all multi-backend related configuration. You'll
need fresh install as CS does not automatically move data from bitcask
to leveldb when you change backend.

I would like you to know that Basho have not yet tested whole leveldb
backend for CS, but it should work in theory and by design. The trade
off for memory usage of keydir might be performance, as we don't have
enough experience on what happens when we mix 1MB blocks and smaller
manifests co-existing on same block cache system.

On Thu, Jul 2, 2015 at 8:55 PM, Anita Wong  wrote:
&gt; HI,
&gt;
&gt; Iâ€™ve got a problem in using Riak-CS as file storage cluster.
&gt;
&gt; Now the bitcask folder has 9GB of data in it, and the RAM usage of Riak is 
&gt; &gt;8GB.
&gt;
&gt; Just checked that the bitcask backend will put all the keys into the RAM, but 
&gt; how come now I would get this large amount of RAM being used?
&gt;
&gt; Is there any way to change the Riak-CS to use leveldb instead of bitcask? 
&gt; Besides, currently I got lots of data in the bitcask, how can I migrate the 
&gt; data into leveldb?
&gt;
&gt; Thanks.
&gt;
&gt; Anita
&gt;
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com



-- 
Kota UENISHI / @kuenishi
Basho Japan KK

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

