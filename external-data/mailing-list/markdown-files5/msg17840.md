---
title: "Re: Is every node share the same metadata ?"
description: ""
project: community
lastmod: 2017-01-06T16:29:40-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17840"
mailinglist_parent_id: "msg17839"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2017-01-06T16:29:40-08:00
---


Hi Alex,

You seem to be referring to bitcask metadata. That metadata is loaded into
ram on each node. As you note, the bitcask capacity planner calculates ram
required by a cluster to service a certain number of keys. I think where
you are confused is that this metadata is not synced across the cluster. It
is specific to the data stored specifically on each node.

-Alexander



Alexander Sicular
Solutions Architect
Basho Technologies
9175130679
@siculars

On Fri, Jan 6, 2017 at 11:31 AM, Alex Feng  wrote:

&gt;
&gt; Hi Riak Users,
&gt;
&gt; I am a little bit confused about the metadata, it is stored in memory and
&gt; synced in every node, so bascially every node share the same metadata,
&gt; right ?
&gt; But then from the official document, the formula to calcuate the RAM
&gt; requirement, the RAM requirement is for whole cluster, for example, based
&gt; on the formula below, the requirement is 50G, then if we have 5 nodes, then
&gt; each node only needs 10G RAM. Seems the metadata is divided to different
&gt; nodes, I must hvae misunderstood something, could someone please to clarify
&gt; this, thank you very much.
&gt;
&gt;
&gt; https://docs.basho.com/riak/kv/2.2.0/setup/planning/bitcask-capacity-calc/
&gt;
&gt; Approximate RAM Needed for Bitcask = (static bitcask per key overhead +
&gt; estimated average bucket+key length in bytes) \\* estimate total number of
&gt; keys \\* n\\_val
&gt;
&gt;
&gt;
&gt; Br,
&gt; Alex
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

