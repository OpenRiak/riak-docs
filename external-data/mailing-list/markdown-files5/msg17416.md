---
title: "Re: Ranking search results by relevancy"
description: ""
project: community
lastmod: 2016-05-25T09:35:11-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17416"
mailinglist_parent_id: "msg17415"
author_name: "Alex De la rosa"
project_section: "mailinglistitem"
sent_date: 2016-05-25T09:35:11-07:00
---


Hi Luke,

That was not the question... I know that I can use ORs, etc... I wanted to
know how to sort them by relevancy or higher equality score.

Thanks,
Alex

On Wed, May 25, 2016 at 8:08 PM, Luke Bakken  wrote:

&gt; Hi Alex,
&gt;
&gt; You can use the HTTP search endpoint to see what information Riak
&gt; returns for Solr queries as well as to try out queries:
&gt; https://docs.basho.com/riak/kv/2.1.4/developing/usage/search/#querying
&gt;
&gt; Since you're indexing first and last name, I'm not sure what indexing
&gt; a full name buys you on top of that.
&gt;
&gt; It should be possible to combine your queries using OR.
&gt;
&gt; More info about Solr ranking can be found online (such as
&gt; https://wiki.apache.org/solr/SolrRelevancyFAQ).
&gt;
&gt; --
&gt; Luke Bakken
&gt; Engineer
&gt; lbak...@basho.com
&gt;
&gt;
&gt; On Wed, May 18, 2016 at 10:07 AM, Alex De la rosa
&gt;  wrote:
&gt; &gt; Hi all,
&gt; &gt;
&gt; &gt; I would like to perform a search on Riak/Solr of people given an input
&gt; &gt; containing its full name (or part of it), like when searching for
&gt; members in
&gt; &gt; Facebook's search bar.
&gt; &gt;
&gt; &gt; search input [ alex garcia ]
&gt; &gt;
&gt; &gt; results = client.fulltext\\_search('people', 'firstname\\_register:\\*alex\\* OR
&gt; &gt; lastname\\_register:\\*garcia\\*')
&gt; &gt;
&gt; &gt; this would give me members like:
&gt; &gt;
&gt; &gt; alex garcia
&gt; &gt; alexis garcia
&gt; &gt; alex fernandez
&gt; &gt; jose garcia
&gt; &gt;
&gt; &gt; Is there any way to get these results ranked/ordered by the most precise
&gt; &gt; search? "alex garcia" would be the most relevant because matches equally
&gt; to
&gt; &gt; the search input... "alexis garcia" may come second as even not an exact
&gt; &gt; match is very similar pattern, the other two would come after as they
&gt; match
&gt; &gt; only 1 of the 2 search parameters.
&gt; &gt;
&gt; &gt; Would it be convenient to index also fullname\\_register:alex garcia in
&gt; order
&gt; &gt; to find exact matches too?
&gt; &gt;
&gt; &gt; Can it be done all at once in just 1 search query? or should I compile
&gt; &gt; results from 3 queries?
&gt; &gt;
&gt; &gt; result\\_1 = client.fulltext\\_search('people', 'fullname\\_register:alex
&gt; garcia')
&gt; &gt; result\\_2 = client.fulltext\\_search('people', 'firstname\\_register:\\*alex\\*
&gt; AND
&gt; &gt; lastname\\_register:\\*garcia\\*')
&gt; &gt; result\\_3 = client.fulltext\\_search('people', 'firstname\\_register:\\*alex\\* OR
&gt; &gt; lastname\\_register:\\*garcia\\*')
&gt; &gt;
&gt; &gt; Thanks and Best Regards,
&gt; &gt; Alex
&gt; &gt;
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

