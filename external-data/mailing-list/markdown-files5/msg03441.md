---
title: "Re: riaksearch: using index docs in place of real objects"
description: ""
project: community
lastmod: 2011-05-26T12:57:07-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03441"
mailinglist_parent_id: "msg03440"
author_name: "Greg Pascale"
project_section: "mailinglistitem"
sent_date: 2011-05-26T12:57:07-07:00
---


Eric, I believe the key is the document id, which will be the same as the
key of the corresponding object in .

-Greg

On Thu, May 26, 2011 at 12:41 PM, Eric Moritz wrote:

&gt; Out of curiosity what is the key in this URL?
&gt; http://riak.host:8098/riak/\\_rsid\\_/key
&gt;
&gt; On Thu, May 26, 2011 at 9:42 AM, Mathias Meyer  wrote:
&gt; &gt; Greg,
&gt; &gt;
&gt; &gt; Riak Search stores indexed documents in Riak KV too, as serialized Erlang
&gt; terms. You can easily verify that by requesting a document from
&gt; http://riak.host:8098/riak/\\_rsid\\_/key.
&gt; &gt;
&gt; &gt; So whenever you query something through the Solr interface the documents
&gt; you get back are fetched from these buckets, and therefore the same
&gt; distribution and consistency properties apply to them as to objects stored
&gt; directly in Riak KV. Bottom line is there's nothing wrong with just using
&gt; them instead of fetching them again from Riak KV.
&gt; &gt;
&gt; &gt; Mathias Meyer
&gt; &gt; Developer Advocate, Basho Technologies
&gt; &gt;
&gt; &gt;
&gt; &gt; On Mittwoch, 25. Mai 2011 at 00:34, Greg Pascale wrote:
&gt; &gt;
&gt; &gt;&gt; Hi,
&gt; &gt;&gt;
&gt; &gt;&gt; In our data model, our riak objects are flat JSON objects, and thus
&gt; their corresponding index documents are nearly identical - the only
&gt; difference is that a few fields which are ints in the riak objects are
&gt; strings in the index doc.
&gt; &gt;&gt;
&gt; &gt;&gt; Since they are so similar, we are directly using the index docs returned
&gt; from our search call, skipping the second step of doing gets on the returned
&gt; keys to retrieve the real objects.
&gt; &gt;&gt;
&gt; &gt;&gt; Is this advisable? Are there any circumstances under which we might run
&gt; into consistency issues?
&gt; &gt;&gt;
&gt; &gt;&gt; Thanks,
&gt; &gt;&gt; -Greg
&gt; &gt;&gt;
&gt; &gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt;&gt; riak-users mailing list
&gt; &gt;&gt; riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
&gt; &gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

