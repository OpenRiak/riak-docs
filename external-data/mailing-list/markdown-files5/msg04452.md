---
title: "Re: Setting up a Riak + Mongrel2 Stack"
description: ""
project: community
lastmod: 2011-08-24T09:50:49-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04452"
mailinglist_parent_id: "msg04451"
author_name: "Jeremiah Peschka"
project_section: "mailinglistitem"
sent_date: 2011-08-24T09:50:49-07:00
---


Use whatever language on the server-side that you're comfortable working with. 
If you're into Ruby, Ripple is quite mature. The Java client is nice. I 
personally like the .NET client (of course I'm slightly biased on that front). 
I'd avoid exposing Riak to the open internet, even if it is through a proxy of 
some sort. Use a set of APIs so that you can abstract your data storage away 
from the calling application. A lot of people are reporting success with 
haproxy as the proxy for their Riak instances. 

OJ Reeves put together a bit of a tutorial on haproxy and Riak: 
http://buffered.io/2010/09/12/webmachine-erlydtl-and-riak-part-2/

You can drastically improve performance by avoiding the HTTP interface and 
using the Protocol Buffers interfaces to Riak, but that depends more on your 
language of choice than anything else (some libraries may not support the PB 
interface).
---
Jeremiah Peschka - Founder, Brent Ozar PLF, LLC
Microsoft SQL Server MVP

On Aug 24, 2011, at 9:43 AM, trevor stanhope wrote:

&gt; Beyond using Mongrel2 as a proxy, which webserver might be best suited
&gt; to work with Riak.
&gt; 
&gt; Also, let me give you a basic idea of the system I'm planning to test.
&gt; More or less I'm trying to set-up the proxy in front of the riak kvs and
&gt; will be making calls to the datastore from a mobile phone application,
&gt; that will be doing some basic JSON MPqueries on the system (I'm debating
&gt; the merit of link walking for new db information, though I hear that
&gt; riak get is faster for objects that are known to exists). These will be
&gt; either parsed and returned to the mobile app, or returned to the
&gt; webserver to view in an online application.
&gt; 
&gt; Otherwise, the webserver needs to make simple authenticated writes to
&gt; the kvs, mostly to add links to existing objects, which will ideally be
&gt; populated into the db via scripts built into the webserver front-end
&gt; (but for testing purposes I was planning to use bash scripts, or some
&gt; faster equivalent).
&gt; 
&gt; 
&gt; On Wed, 2011-08-24 at 11:38 -0400, Jonathan Langevin wrote:
&gt;&gt; I dunno about mongrel, but I know some of the guys at basho have
&gt;&gt; personally used a proxy in front of Riak (Matt Heitzenroder is one
&gt;&gt; that's mentioned it before, I've CC'd him).
&gt;&gt; 
&gt;&gt; 
&gt;&gt; My thought is that if you can find out the general configuration
&gt;&gt; method of how to set up a proxy in front of Riak (such as how it may
&gt;&gt; differ from a typical proxy, if there's any special headers you have
&gt;&gt; to pass, what settings to apply regarding caching, etc), you could
&gt;&gt; then take that info to the Mongrel community and get some specific
&gt;&gt; help there for implementing the proxy configuration with the general
&gt;&gt; information you've gleamed from the Basho guys.
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; Jonathan Langevin
&gt;&gt; Systems Administrator
&gt;&gt; 
&gt;&gt; Loom Inc.
&gt;&gt; Wilmington, NC: (910) 241-0433
&gt;&gt; - jlange...@loomlearning.com - www.loomlearning.com - Skype: intel352
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; On Tue, Aug 23, 2011 at 5:28 PM, trevor stanhope
&gt;&gt;  wrote:
&gt;&gt; exactly. I'm looking to setup mongrel2 as front-end to a Riak
&gt;&gt; kvs.
&gt;&gt; 
&gt;&gt; 
&gt;&gt; On Tue, 2011-08-23 at 14:25 -0400, Jonathan Langevin wrote:
&gt;&gt;&gt; Is your intention to use mongrel as a proxy for Riak?
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; Jonathan Langevin
&gt;&gt;&gt; Systems Administrator
&gt;&gt;&gt; 
&gt;&gt;&gt; Loom Inc.
&gt;&gt;&gt; Wilmington, NC: (910) 241-0433
&gt;&gt;&gt; - jlange...@loomlearning.com - www.loomlearning.com - Skype:
&gt;&gt; intel352
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; On Thu, Aug 18, 2011 at 2:01 AM, trevor stanhope
&gt;&gt;&gt;  wrote:
&gt;&gt;&gt; Hey, I've been probing around for any existing
&gt;&gt; examples of a
&gt;&gt;&gt; Riak +
&gt;&gt;&gt; Mongrel2 stack being deployed and haven't had any
&gt;&gt; luck. I'm
&gt;&gt;&gt; not familiar
&gt;&gt;&gt; with Mongrel2 but it was recommended to me and I'm
&gt;&gt; very
&gt;&gt;&gt; interested in
&gt;&gt;&gt; deploying on that platform. What recommendations or
&gt;&gt; who would
&gt;&gt;&gt; be best to
&gt;&gt;&gt; speak with on that subject?
&gt;&gt;&gt; 
&gt;&gt;&gt; Best Regards,
&gt;&gt;&gt; Trev Stanhope
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; 
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt; 
&gt; 
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

