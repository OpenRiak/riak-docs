---
title: "Re: short length hash key generation for riak keys?"
description: ""
project: community
lastmod: 2013-09-30T11:26:52-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12438"
mailinglist_parent_id: "msg12437"
author_name: "Alex Rice"
project_section: "mailinglistitem"
sent_date: 2013-09-30T11:26:52-07:00
---


Although with 40 bytes per key overhead, which I just read about,
perhaps this is somewhat of a ridiculous optimization for me to be
attempting to shorten the key size ? :)

On Mon, Sep 30, 2013 at 12:20 PM, Alex Rice  wrote:
&gt; Hi all, coming from a traditional database background of course my
&gt; first tendency was wanting to auto\\_increment a primary key somewhere.
&gt; Not possible with Riak, obviously! :)
&gt;
&gt; I was wondering if anyone has a good link or white paper about short
&gt; length hash key creation. I want to keep my keys short to save memory
&gt; with bitcask storage. (using super low-end commodity hardware with
&gt; limited RAM)
&gt;
&gt; One method that seems like it would be OK: just to use some
&gt; unique/random SHA function on the client side, and then take the first
&gt; few characters from the start of the string
&gt;
&gt; SHA output = 55ca6286e3e4f4fba5d0448333fa99fc5a404a73
&gt;
&gt; check if 55ca key exists -&gt; (not exist) -&gt; use it
&gt; -&gt; exist -&gt; check 55ca6 -&gt; (not exist) -&gt; use it
&gt; -&gt; exist -&gt; check 55ca62 -&gt; (not exist) -&gt; use it
&gt; -&gt; exist -&gt; check 55ca62 -&gt; (not exist) -&gt; use it
&gt; -&gt; exist -&gt; check 55ca628 -&gt; (not exist) -&gt; use it
&gt; -&gt; exist -&gt; check 55ca6286 -&gt; (not exist) -&gt; use it
&gt; -&gt; exist -&gt; check 55ca6286e -&gt; (not exist) -&gt; use it
&gt; -&gt; etc...
&gt;
&gt; But that could involve a lot of back and forth with the server as the
&gt; key space gets used up...
&gt; So I thought I would ask on here if there are any nifty ways of
&gt; generating \\*short\\* keys for Riak! Using C# btw, not that it matters :0
&gt;
&gt; Sorry if this is a FAQ I didnt see it on the website :)
&gt;
&gt; Thanks,
&gt; Alex

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

