---
title: "Re: LevelDB"
description: ""
project: community
lastmod: 2015-06-06T07:09:06-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16222"
mailinglist_parent_id: "msg16221"
author_name: "Matthew Von-Maszewski"
project_section: "mailinglistitem"
sent_date: 2015-06-06T07:09:06-07:00
---


There is a script macro that puts paths together during program start. I will 
go look at that.

It would help if you would send your riak.conf file.

Matthew


&gt; On Jun 5, 2015, at 7:48 PM, Mr. Technology  wrote:
&gt; 
&gt; After installing Riak 2.1.1 on a 5 node Centos7 based test cluster, I 
&gt; followed the instructions at 
&gt; http://docs.basho.com/riak/latest/ops/advanced/backends/leveldb/ to attempt 
&gt; to configure a tiered LevelDB backend.
&gt; 
&gt; My /etc/riak/riak.conf:
&gt; 
&gt; storage\\_backend = leveldb
&gt; leveldb.tiered = 4
&gt; leveldb.tiered.path.fast = /mnt/fast
&gt; leveldb.tiered.path.slow = /mnt/slow
&gt; 
&gt; Upon start, riak crashes with the following message in the log:
&gt; 
&gt; \\*\\* 
&gt; {function\\_clause,[{riak\\_kv\\_vnode,terminate,[{bad\\_return\\_value,{stop,{db\\_open,"IO
&gt; error: 
&gt; /mnt/fast//var/lib/riak/leveldb/159851741583067506678528028578343455274867621888/LOCK:
&gt; No such file or 
&gt; directory"}}},undefined],[{file,"src/riak\\_kv\\_vnode.erl"},{line,1155}]},{riak\\_core\\_vnode,terminate,3,[{file,"src/riak\\_core\\_vnode.erl"},{line,907}]},{gen\\_fsm,terminate,7,[{file,"gen\\_fsm.erl"},{line,597}]},{proc\\_lib,init\\_p\\_do\\_apply,3,[{file,"proc\\_lib.erl"},{line,239}]}]}
&gt; 
&gt; I assume the error is due to riak trying to write to the bogus path:
&gt; 
&gt; /mnt/fast//var/lib/riak/leveldb/159851741583067506678528028578343455274867621888/LOCK
&gt; 
&gt; (bogus due to the double slash above)
&gt; 
&gt; Is this a bug, erroneous documentation, or a configuration problem?? I 
&gt; followed the example as closely as I could.
&gt; 
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

