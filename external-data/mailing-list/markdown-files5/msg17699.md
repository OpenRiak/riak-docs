---
title: "Re: How to specify dismax related parameters like qf"
description: ""
project: community
lastmod: 2016-10-17T07:25:20-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17699"
mailinglist_parent_id: "msg17698"
author_name: "Fred Dushin"
project_section: "mailinglistitem"
sent_date: 2016-10-17T07:25:20-07:00
---


The internal solr API will not use the distributed queries generated from 
coverage plans. You will only get results from the local node. Theoretically, 
you could aggregate and de-duplicate across multiple nodes, but that would 
result in more data movement than necessary, as it does not leverage the "r=1" 
behavior you get from cover sets and which you get automatically from the Riak 
HTTP API.

-Fred

&gt; On Oct 17, 2016, at 10:17 AM, AJAX DoneBy Jack  wrote:
&gt; 
&gt; Hi Magnus,
&gt; 
&gt; So you suggest to use http API right? That day I were thinking query the 
&gt; internal Solr http by sending request. Could you advise what's the difference 
&gt; between Riak http API and internal Solr http API? What's the pros and cons to 
&gt; use them?
&gt; 
&gt; Thanks,
&gt; Ajax
&gt; 
&gt; On Monday, 17 October 2016, Magnus Kessler  &gt; wrote:
&gt; On 14 October 2016 at 20:18, AJAX DoneBy Jack  &gt; wrote:
&gt; Hello Basho,
&gt; 
&gt; I am very new on Riak Search, I know can add {!dismax}before query string to 
&gt; use it, but don't know how to specify qf or other dismax related parameters 
&gt; in Riak Java Client. Could you advise?
&gt; 
&gt; Thanks,
&gt; Ajax
&gt; 
&gt; Hi Ajax,
&gt; 
&gt; The Riak Java Client, as most other Riak clients, uses the Protocol Buffer 
&gt; API to communicate with Riak. Yokozuna's implementation of the Protocol 
&gt; Buffer API allows only for a small set of query parameters [0], which have 
&gt; been chosen to support the standard query parser. As such, there is currently 
&gt; no easy way to use the extended set of query parameters through the java api.
&gt; 
&gt; However, you may have better luck if you talk directly to HTTP API, exposed 
&gt; at http://:8098/search/query/. This will accept all queries 
&gt; supported by Solr 4.7. Please be aware, though, that some query results that 
&gt; require accumulating data from all Solr nodes (such as stats queries), may 
&gt; not work as expected. Yokozuna constructs a new coverage query very 
&gt; frequently, and the actual results returned depend on which nodes are chosen 
&gt; in this query.
&gt; 
&gt; Kind Regards,
&gt; 
&gt; Magnus
&gt; 
&gt; [0]: 
&gt; https://github.com/basho/yokozuna/blob/develop/src/yz\\_pb\\_search.erl#L144-L150 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com 
&gt; 
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; -- 
&gt; Magnus Kessler
&gt; Client Services Engineer
&gt; Basho Technologies Limited
&gt; 
&gt; Registered Office - 8 Lincolnâ€™s Inn Fields London WC2A 3BP Reg 07970431
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

