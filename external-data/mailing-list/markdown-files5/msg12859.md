---
title: "Re: Timeout problems, Riak Python Client with protocol buffers"
description: ""
project: community
lastmod: 2013-11-05T12:47:38-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12859"
mailinglist_parent_id: "msg12858"
author_name: "Brian Roach"
project_section: "mailinglistitem"
sent_date: 2013-11-05T12:47:38-08:00
---


On Tue, Nov 5, 2013 at 1:20 PM, finkle mcgraw  wrote:

&gt; There's a load balancer between the server running the Riak Python Client
&gt; and the actual Riak nodes. Perhaps this socket error is related to some
&gt; configuration of that load balancer?

That's what it looks like. Normally the PB connection to Riak is only
ever closed from the server side if a node were to go down; we don't
time out idle PB connections.

I'd have to dig into the python code but it looks like write failures
are ignored / don't trigger an exception. So, when the client goes to
read the expected response from the socket it discovers the socket is
closed. The error is saying it was expecting 4 bytes (The first 4
bytes of a response are a 32bit int that represents the length of the
message) and it received 0 (the socket had been closed from the remote
side).

- Roach

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

