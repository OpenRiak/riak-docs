---
title: "Re: Download stops at certain megabyte boundary (RiakCS)"
description: ""
project: community
lastmod: 2013-09-10T19:05:18-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12228"
mailinglist_parent_id: "msg12218"
author_name: "Shunichi Shinohara"
project_section: "mailinglistitem"
sent_date: 2013-09-10T19:05:18-07:00
---


Martin,

I think you have already read this page:
http://docs.basho.com/riakcs/latest/cookbooks/configuration/Configuring-Riak/#Setting-up-the-Proper-Riak-Backend

As it says, you can use "add\\_paths" to set load path.
--
Shunichi Shinohara
Basho Japan KK


On Wed, Sep 11, 2013 at 2:05 AM, Martin Alpers  wrote:
&gt; Thank you Shino for your patient assistance.
&gt;
&gt; I did follow Seth's advice, and upgrading resulted in smooth downloads, as 
&gt; stated in my reply to his mail.
&gt; Additionally, I upgraded the one noed I am working on to the very recent 
&gt; 1.4.1 version. (Riak is 1.4.2)
&gt; I still use the packages for Debian Squeeze.
&gt;
&gt; Outputs of console.log and crash.log are attached to this email.
&gt; Although I am not an expert with these, the term "invalid\\_storage\\_backend" 
&gt; appears in both of them, and riak used to start just fine before.
&gt;
&gt; I also tried to find the files:
&gt; root@riak2:~# find /usr/lib/riak -name "\\*kv\\_multi\\*"
&gt; /usr/lib/riak/lib/riak\\_kv-1.4.2-0-g61ac9d8/ebin/riak\\_kv\\_multi\\_backend.beam
&gt; root@riak2:~# find /usr/lib/riak-cs -name "\\*kv\\_multi\\*"
&gt; /usr/lib/riak-cs/lib/riak\\_cs-1.4.1/ebin/riak\\_cs\\_kv\\_multi\\_backend.beam
&gt;
&gt; So is adding "-pz /usr/lib/riak-cs/lib/riak\\_cs-1.4.1/ebin/" to 
&gt; /etc/riak/vm.args, as suggested here:
&gt; http://lists.basho.com/pipermail/riak-users\\_lists.basho.com/2010-October/002211.html
&gt; the right thing to do?
&gt;
&gt; Kind regards,
&gt; Martin
&gt;
&gt; On 13/09/10.10:48:1378806537, Shunichi Shinohara wrote:
&gt;&gt; Martin,
&gt;&gt;
&gt;&gt; Thank you for more information.
&gt;&gt; I found a mis-configuration of riak's app.config. The backend of riak for
&gt;&gt; Riak CS is riak\\_cs\\_kv\\_multi\\_backend (look out for \\_cs\\_). This is the custom
&gt;&gt; riak\\_kv backend for Riak CS. The error of "s3cmd ls" was caused by this.
&gt;&gt;
&gt;&gt; As for MB boundary stop, the issue 
&gt;&gt; https://github.com/basho/riak\\_cs/issues/613
&gt;&gt; may be related. Although not direct way to treat it, some points which may 
&gt;&gt; help:
&gt;&gt;
&gt;&gt; - As Seth said, upgrade to 1.4, which can reduce network communication
&gt;&gt; between riak nodes
&gt;&gt; - Set pb\\_backlog to 256 or higher in riak\\_api section of riak's app.config
&gt;&gt;
&gt;&gt; Regards,
&gt;&gt; Shino
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt; --
&gt; Greetings, Martin Alpers
&gt; --
&gt; martin-alp...@web.de
&gt; Mobile: 0176/66185173, but I prefer typing to talking (:
&gt; Jabber: martin.alp...@jabber.org
&gt; My mails are signed using GPG to verify their origin; request my public key 
&gt; (10216CFB).
&gt; See also: http://apps.opendatacity.de/stasi-vs-nsa/

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

