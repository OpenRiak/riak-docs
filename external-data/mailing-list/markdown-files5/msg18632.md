---
title: "Re: ANN: Riak 2.9.0 Urgent Patches Pending"
description: ""
project: community
lastmod: 2019-08-22T10:57:46-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18632"
mailinglist_parent_id: "msg18631"
author_name: "DeadZen"
project_section: "mailinglistitem"
sent_date: 2019-08-22T10:57:46-07:00
---


We all appreciate it, and erring on the side of caution. Thank you.

On Thu, Aug 22, 2019 at 12:22 PM Martin Sumner 
wrote:

&gt; Follow-up on this announcement. After further work today, it looks like
&gt; the initial diagnosis of the Issue 1707 was incorrect, and that the defect
&gt; does not obviously present a significant risk of data loss. Work will
&gt; continue on providing an updated patch to Riak 2.9.0 - but there should be
&gt; no immediate concern over use of the unpatched version.
&gt;
&gt; Sorry for causing false alarm.
&gt;
&gt; Regards
&gt;
&gt; Martin
&gt;
&gt; On Thu, 22 Aug 2019 at 01:36, Martin Sumner 
&gt; wrote:
&gt;
&gt;&gt; There are 2 defects in the 2.9.0 release which should be patched within
&gt;&gt; the next 7 days, with a new version of 2.9.0 to be published before the end
&gt;&gt; of the month. The defects are:
&gt;&gt;
&gt;&gt; https://github.com/basho/riak\\_kv/issues/1706
&gt;&gt; https://github.com/basho/riak\\_kv/issues/1707
&gt;&gt;
&gt;&gt; Note that the latter defect 1707, the scope of this bug is currently
&gt;&gt; unclear, but there exists significant risk that there is potential within
&gt;&gt; this bug for data loss, due to incorrect pruning of siblings.
&gt;&gt;
&gt;&gt; Previous releases of Riak also have this bug, if the metadata cache
&gt;&gt; (which is disabled by default) is enabled. Enabling this cache is
&gt;&gt; controlled via
&gt;&gt; https://docs.riak.com/riak/kv/latest/configuring/reference/index.html 
&gt;&gt; (metadata\\_cache\\_size).
&gt;&gt; However, unlike previous releases the 2.9.0 release, when combined with use
&gt;&gt; of the leveled backend, Riak 2.9.0 will enable the path to this bug by
&gt;&gt; default. This is because the logic of the metadata\\_cache is reused in
&gt;&gt; order to enable leveled HEAD requests within the PUT path. Riak 2.9.0 with
&gt;&gt; other backends, and the metadata cache left disabled, will not have this
&gt;&gt; bug.
&gt;&gt;
&gt;&gt; I apologise for the ongoing churn of issues uncovered in release 2.9.0,
&gt;&gt; and for the potential risks associated with this latest bug in particular.
&gt;&gt; Clearly, the high rate of discovered problems has exposed that the test
&gt;&gt; process which surrounded this release was not good enough. For release
&gt;&gt; 2.9.1 and release 3.0 the move has already been made to involve independent
&gt;&gt; testing organisations as a fundamental part of the development process,
&gt;&gt; from the start of the process. Regardless of this, once the immediate
&gt;&gt; issues are patched, there is a need for some further reflection on what is
&gt;&gt; required to assure the safety of a release of Riak in the future.
&gt;&gt;
&gt;&gt; Regards
&gt;&gt;
&gt;&gt; Martin
&gt;&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

