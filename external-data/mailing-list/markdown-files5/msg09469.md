---
title: "Odd question"
description: ""
project: community
lastmod: 2012-12-07T06:19:45-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09469"
author_name: "Martin Streicher"
project_section: "mailinglistitem"
sent_date: 2012-12-07T06:19:45-08:00
---



Thanks for the help earlier this week. I have an odd question...

I have an Identity model being used with Omniauth::Identity. All is well -- 
when someone registers, the credentials (email and encrypted password) are 
saved in Riak. 

However, if in some other code, I retrieve an Identity record by an indexed 
field and save it, a copy of the record seems to crop up with the new email 
field value.

@identity = Identity.find\\_by\\_index('zid\\_id', @zid.key).first
@identity.email = params[:profile][:email]
@identity.save

In other words, if I start with record A, I get A and now B, where B's email 
field is different. 

Ideas?






\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

