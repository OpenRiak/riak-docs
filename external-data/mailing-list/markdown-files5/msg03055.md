---
title: "Re: JSON with newlines"
description: ""
project: community
lastmod: 2011-04-15T00:23:11-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03055"
mailinglist_parent_id: "msg03054"
author_name: "Aphyr"
project_section: "mailinglistitem"
sent_date: 2011-04-15T00:23:11-07:00
---


Yes, it's because the JSON2.js included with Riak has a bug around 
newlines. Dropping an updated JSON2.js in your js\\_source\\_dir will fix it.


--Kyle

On 04/15/2011 12:20 AM, Matt Ranney wrote:

I'm using Riak Search 0.14.0-1, and it seems like JSON docs with
otherwise legal \\r characters in them confuse both the search indexer
and JSON.parse() from within JavaScript map functions. Presumably these
two are related.

After looking around, it sounds like maybe this has been fixed, but
perhaps not yet in release builds. Is it really the case that Riak
isn't yet using the native JSON parse from spidermonkey, or is something
else going on here?



\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

