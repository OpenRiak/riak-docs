---
title: "Yokozuna: Riak Python client PB error with Solr stored boolean fields"
description: ""
project: community
lastmod: 2013-10-14T18:29:45-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12624"
author_name: "Dave Martorana"
project_section: "mailinglistitem"
sent_date: 2013-10-14T18:29:45-07:00
---


I studied the problem I was having with using the Python client's
.fulltext\\_search(...) method and got it down to this - it seems that I get
an error when searching against Solr using the Python client's
.fulltext\\_search(...) method (using protocol buffers) whenever I have a \\*
stored\\* boolean field.

In my schema, I have:



With that (or any named field of type "boolean" that is set to
stored="true") I receive the following stack trace:

http://pastebin.com/ejCixPEZ

In the error.log file on the server, I see the following repeated:

2013-10-15 01:21:17.480 [error] &lt;0.2872.0&gt;@yz\\_pb\\_search:maybe\\_process:95
function\\_clause
[{yz\\_pb\\_search,to\\_binary,[false],[{file,"src/yz\\_pb\\_search.erl"},{line,154}]},{yz\\_pb\\_search,encode\\_field,2,[{file,"src/yz\\_pb\\_search.erl"},{line,152}]},{lists,foldl,3,[{file,"lists.erl"},{line,1197}]},{yz\\_pb\\_search,encode\\_doc,1,[{file,"src/yz\\_pb\\_search.erl"},{line,144}]},{yz\\_pb\\_search,'-maybe\\_process/3-lc$^0/1-0-',1,[{file,"src/yz\\_pb\\_search.erl"},{line,76}]},{yz\\_pb\\_search,maybe\\_process,3,[{file,"src/yz\\_pb\\_search.erl"},{line,76}]},{riak\\_api\\_pb\\_server,process\\_message,4,[{file,"src/riak\\_api\\_pb\\_server.erl"},{line,383}]},{riak\\_api\\_pb\\_server,connected,2,[{file,"src/riak\\_api\\_pb\\_server.erl"},{line,221}]}]

Does anyone have any insight? I'm not a Solr expert, so perhaps storing
boolean fields for retrieval is not a good idea? I know if I index but
don't store, I can still successfully search against a boolean value.

Thanks!

Dave
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

