---
title: "Re: Evaluating riak"
description: ""
project: community
lastmod: 2010-12-17T09:12:30-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01818"
mailinglist_parent_id: "msg01816"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2010-12-17T09:12:30-08:00
---



Inline:


@siculars on twitter
http://siculars.posterous.com

Sent from my iPhone

On Dec 17, 2010, at 10:55, Christian Aust  wrote:



Hi all,

I'm evaluating schemaless datastores as a foundation for a reporting 
software. Do you care to help me with a few questions about Riak?


\\* Is it ok to have a high number of buckets, one for each uploaded 
chunk of data? Will it affect performance as the number of buckets 
grows? I'm thinking about thousands of buckets.


Yes, you can have unlimited buckets. But is that a good way to do it? 
The only cost of a bucket is when your bucket settings differ from the 
default settings. Later on you mention search. Search is enabled on a 
per bucket bassis and as such is a deviation from a buckets default 
setting. Thousands of deviations will have a cost associated. 
Otherwise you have to make the hook that enables search a default 
which I believe is possible but also has a cost.


\\* Can I map-reduce over all elements of a number of buckets in one 
step? Ie grouping and counting the number of elements in multiple 
buckets that match a set of criteria?


No. Afaik, you may only initialize your m/r with input from one bucket 
or specifically specify one or more keys which themselves may exist in 
multiple buckets. Aka. Input:bucket or input:bucket1/key1, bucket2/ 
key1. I do believe that your keys can list keys which can be used as 
inputs to a further phase (clarification from basho please?) so it's 
turtles all the way down from there.




\\* Can I have custom function libraries to be used by map-reduce code 
written in Javascript? Or what would be the best solution to have 
libraries with standard mathematical/statistical functions?


Yes. Plant your Libs in the default lib dir.



\\* Does riaksearch (aka. Lucene) will help to speed up attribute- 
based queries, or is it used for fulltext searches only?


Yes. Attributes (ie. via json) and full text. Although search is 
lucene like, it is not lucene.




I'd appreciate it if you'd help me understand Riak properly. Kind 
regards,


Christian


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

