---
title: "Re: Best way to query geo hashed data?"
description: ""
project: community
lastmod: 2013-05-19T13:04:34-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11108"
mailinglist_parent_id: "msg11107"
author_name: "Ryan Chazen"
project_section: "mailinglistitem"
sent_date: 2013-05-19T13:04:34-07:00
---


Hi Eric

The warning on Yokozuna looks a bit troublesome... " It is in developmental
stages and is not recommended for production use at this time."

Also, Solr requires lat/long data, and my data is X,Y coordinates, so the
lat/long calculations/boundaries would possibly be incorrect... although it
might be possible to work around this with some kind of transformation. The
solution itself seems a bit unwieldy and difficult to maintain though, so I
don't think I'd want to use it as a first choice...

Ryan



On Sun, May 19, 2013 at 9:03 PM, Eric Redmond  wrote:

&gt; Rather than geohashing, you might consider Yokozuna. It has built in geo
&gt; searches.
&gt;
&gt; Eric
&gt;
&gt; On May 19, 2013, at 11:47 AM, Ryan Chazen  wrote:
&gt;
&gt; &gt; Hi
&gt; &gt;
&gt; &gt; I'm looking at Riak as a solution for handling this type of data:
&gt; &gt;
&gt; &gt; A map is divided into sectors, and on the map there are many objects
&gt; with each object being in 1 or more sectors. (An object can be in more than
&gt; 1 sector if it is larger than the sector). Objects can move, so object 323
&gt; could move from sector 5 to sector 10.
&gt; &gt;
&gt; &gt; Queries come in of the form : Retrieve all objects in a list of sectors.
&gt; eg Sectors[55, 378, 272, ...] - maximum ~50 sectors per request.
&gt; &gt;
&gt; &gt; From looking through Riak docs, 2i indexes would be perfect but they
&gt; only seem to allow range queries, and not a list of ids.
&gt; &gt; Multiple range queries could be used, but I'm guessing this will be
&gt; heavy on the servers?
&gt; &gt;
&gt; &gt; Map-Reduce looked like a good fit, but the warning on the page states
&gt; "When you want to query data of an entire bucket. MapReduce uses a list of
&gt; keys, which can place a lot of demand on the cluster." - so I guess
&gt; MapReduce is out?
&gt; &gt;
&gt; &gt; The fulltext search seems possible, but I'm a bit confused if it will
&gt; work for this.
&gt; &gt;
&gt; &gt;
&gt; &gt; Any recommendations, or is Riak not a good fit for this type of data?
&gt; &gt;
&gt; &gt; Regards,
&gt; &gt; Ryan
&gt; &gt;
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

