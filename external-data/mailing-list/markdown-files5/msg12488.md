---
title: "Re: Riak on SAN"
description: ""
project: community
lastmod: 2013-10-03T05:56:13-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12488"
mailinglist_parent_id: "msg12485"
author_name: "Pedram Nimreezi"
project_section: "mailinglistitem"
sent_date: 2013-10-03T05:56:13-07:00
---


Not sure what ZFS has to do with snappy compression, as it's a file system
not a compression algorithm..
feature wise, ZFS is quite possibly the most enterprise file system around,
including advanced data corruption prevention and remote backing up..

This would be a viable option in BSD/Solaris environments, at least for
making snapshots.
Might make a nice write up for the Basho blog..

Backups for riak I think require a bit more consideration then file system
snapshot send,
and should include provisions for transferring data to smaller/larger
clusters, transfer
ring ownerships properly, etc.


On Thu, Oct 3, 2013 at 7:15 AM, Guido Medina wrote:

&gt; And for ZFS? I wouldn't recommend it, after Riak 1.4 snappy LevelDB
&gt; compression does a nice job, why take the risk of yet another not so
&gt; enterprise ready compression algorithms.
&gt;
&gt; I could be wrong though,
&gt;
&gt; Guido.
&gt;
&gt;
&gt; On 03/10/13 12:11, Guido Medina wrote:
&gt;
&gt; I have heard some SAN's horrors stories too, Riak nodes are so cheap that
&gt; I don't see the point in even having any mirror on the node, here my points:
&gt;
&gt; 1. Erlang interprocess communication brings some network usage, why
&gt; yet another network usage on replicating the data? If the whole idea of
&gt; Riak is have your data replicated in different nodes.
&gt; 2. If a node goes down or die for whatever reason, bring up another
&gt; node and rebuild it.
&gt; 3. If you want to really replicate your cluster Riak offers the
&gt; enterprise replication which I'm quite sure will be less expensive than a
&gt; SAN and will warranty to have your cluster ready to go somewhere else as a
&gt; backup.
&gt; 4. I would even go further, SSDs are so cheap and Riak nodes are so
&gt; cheap now adays that I would even build a cluster using RAID 0 or RAID 5
&gt; SSDs (yes, no mirror with RAID 1, if too afraid, RAID 5), that will have a
&gt; great impact on performance. Again, if something goes wrong with 1 node,
&gt; refer to point 2.
&gt;
&gt; SANs and all those "legacy" backup and replication IMHO are meant for
&gt; other products, like an Oracle money eater DB server.
&gt;
&gt; HTH,
&gt; Guido.
&gt;
&gt; On 03/10/13 12:00, Brian Akins wrote:
&gt;
&gt; So, call me naive, but couldn't ZFS be used as Heinze suggested?
&gt;
&gt; I have some SAN horror stories - both operationally and from an economic
&gt; perspective.
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing 
&gt; listriak-users@lists.basho.comhttp://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;


-- 
/\\* Sincerely
--------------------------------------------------------------
Pedram Nimreezi - Chief Technology Officer \\*/

// The hardest part of design â€¦ is keeping features out. - Donald Norman
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

