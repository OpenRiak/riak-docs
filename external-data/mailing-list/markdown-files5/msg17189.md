---
title: "Re: cannot start solr, no logs"
description: ""
project: community
lastmod: 2016-04-04T22:48:44-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17189"
mailinglist_parent_id: "msg17188"
author_name: "Robert Latko"
project_section: "mailinglistitem"
sent_date: 2016-04-04T22:48:44-07:00
---



Hi Saran,

I have a 5 node AWS c3.2xlarge instance cluster running ubuntu 
14.04lts and I have my solr set to the below (yeah I know, but -Xmx will 
never get the full 16g's!) ;


search.solr.jvm\\_options = -d64 -Xms1g -Xmx16g -XX:+UseG1GC 
-XX:+ParallelRefProcEnabled -XX:G1HeapRegionSize=8m 
-XX:MaxGCPauseMillis=200

 -XX:+UseLargePages -XX:+AggressiveOpts

I changed out the default Java and load 1.8.45 (jdk-8u45-linux-x64.tar.gz)

Solr will spin up just find and process heavy queries under load like a 
champ.


Maybe on a smaller instances changing out the the default Java to 
1.8.45+ and setting -Xms and -Xmx accordingly would work for you?


Also, check console.log for errors regarding solr.

Lastly, make sure the proper ports are open for solr to communicate 
across your nodes. ( search.solr.jmx\\_port = 8985 )



Robert





On 04/04/2016 09:52 PM, Vitaly E wrote:

Hi Saran,

Just noticed the link at the bottom. You should have given the context 
in your message.


In any case, I would check the total memory your machine has and how 
much of it is utilized by other processes.
 Try DECREASING the heap allocation for Solr, just to see it it starts 
- it looks like the requested memory just is not available.


Regards,
Vitaly

On Tue, Apr 5, 2016 at 7:45 AM, Vitaly E &lt;13vitam...@gmail.com 
&gt; wrote:


 Hi,

 Could you give some more details? Which version of Riak? Your
 subject line suggests that you cannot start Solr, but what do you
 mean by this? Can you start Riak successfully? Where are you
 looking for logs?

 Do you have search enabled in riak.conf (search = on)?

 Regards,
 Vitaly

 On Tue, Apr 5, 2016 at 7:32 AM, saran &gt; wrote:

 Hello,

 I have same problem.
 I increased -d64 -Xms2.5g -Xmx2.5g still having same problem.
 My ulimit is also good.
 ulimit -Sn 4096
 ulimit -Hn 65536

 Please assist.

 Thanks





 --
 View this message in context:
 
http://riak-users.197444.n3.nabble.com/cannot-start-solr-no-logs-tp4033816p4034114.html
 Sent from the Riak Users mailing list archive at Nabble.com.

 \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
 riak-users mailing list
 riak-users@lists.basho.com 
 http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com





\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

