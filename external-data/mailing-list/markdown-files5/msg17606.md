---
title: "Re: Need help with Riak-KV (2.1.4) certificate based authentication	using Java client"
description: ""
project: community
lastmod: 2016-08-30T14:15:25-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17606"
mailinglist_parent_id: "msg17603"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2016-08-30T14:15:25-07:00
---


Kyle,

I would be interested to see the output of this command run on the
same server as your Riak node:

openssl s\\_client -debug -connect localhost:8098

Please replace "8098" with the HTTPS port used in this configuration
setting in your /etc/riak.conf file:

listener.https.internal

--
Luke Bakken
Engineer
lbak...@basho.com


On Tue, Aug 30, 2016 at 12:01 PM, Nguyen, Kyle  wrote:
&gt; Hi Luke,
&gt;
&gt; I believe this is not the case. The Java riak-client (version 2.0.6) that I 
&gt; used does validate the server's cert but not checking on server's CN. If I 
&gt; replaced getACert CA in the trustor with another unknown CA then SSL will 
&gt; fail with "unable to find valid certification path to requested target". I 
&gt; don't even see an option to ignore server cert validation on the client side. 
&gt; I am wondering if you can help provide some details related to SSL 
&gt; certification validation configuration.
&gt;
&gt; My riak node builder code:
&gt; RiakNode.Builder builder = new 
&gt; RiakNode.Builder().withRemoteAddress("127.0.0.1").withRemotePort(8087);
&gt; builder.withAuth(username, password, trustStore, keyStore, 
&gt; keyPasswd);
&gt;
&gt; Thanks
&gt;
&gt; -Kyle-

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

