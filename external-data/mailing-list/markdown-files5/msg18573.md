---
title: "Re: High disk usage on node"
description: ""
project: community
lastmod: 2018-11-02T02:44:57-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18573"
mailinglist_parent_id: "msg18569"
author_name: "István"
project_section: "mailinglistitem"
sent_date: 2018-11-02T02:44:57-07:00
---


Hi,

64 is a bit low, I guess 128 would be better to avoid such situation.

I.

On Thu, Nov 1, 2018 at 2:26 PM Travis Kirstine &lt;
tkirst...@firstbasesolutions.com&gt; wrote:

&gt; I’m running riak (v2.14) in a 5 node cluster and for some reason one of
&gt; the nodes has higher disk usage than the other nodes. The problem seems to
&gt; be related to how riak distributes the partitions, in my case I’m using the
&gt; default 64, riak has given each node 12 partition except one node that gets
&gt; 16 (4x12+16=64). As a result the node with 16 partitions has filled the
&gt; disk and become ‘un-reachable’.
&gt;
&gt;
&gt;
&gt; I have a node on standby with roughly the same disk space as the failed
&gt; node, my concern is that if a add it to the cluster it will overflow as
&gt; well.
&gt;
&gt;
&gt;
&gt; How do I recover the failed node and add a new node without destroying the
&gt; cluster….. BTW just to make things more fun the new node is at a newer
&gt; version of riak so I need to perform a rolling upgrade at the same time.
&gt;
&gt;
&gt;
&gt; Any help would be greatly appreciated!
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;


-- 
the sun shines for all
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

