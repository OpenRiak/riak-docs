---
title: "Riak 1.2: stalled handoff"
description: ""
project: community
lastmod: 2013-04-05T15:32:12-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10726"
author_name: "Yuri Lukyanov"
project_section: "mailinglistitem"
sent_date: 2013-04-05T15:32:12-07:00
---


Hi,

I was adding the 7-th node to one of our riak 1.2 clusters. Everything was
ok untill the process suddenly stopped with one handoff left:

# riak-admin transfers
Attempting to restart script through sudo -H -u riak
riak@nsto0r6 waiting to handoff 1 partitions

Active Transfers:


Note that no transfers are displayed. At first I thought that it is just a
temporary pause. But it's been already about 12 hours since then.

Here is what member-status shows:

# riak-admin member-status
Attempting to restart script through sudo -H -u riak
================================= Membership
==================================
Status Ring Pending Node
-------------------------------------------------------------------------------
valid 14.1% 14.1% riak@nsto0r0
valid 14.1% 14.1% riak@nsto0r1
valid 14.1% 14.1% riak@nsto0r2
valid 14.1% 14.1% riak@nsto0r3
valid 15.6% 15.6% riak@nsto0r4
valid \\*15.6% 14.1%\\* riak@nsto0r5
valid \\*12.5% 14.1%\\* riak@nsto0r6
-------------------------------------------------------------------------------
Valid:7 / Leaving:0 / Exiting:0 / Joining:0 / Down:0


What would be a reason for such behaviour and how can I investigate this
further?
How to force the handoff?

Thanks.
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

