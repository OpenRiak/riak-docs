---
title: "Re: Error starting riak server"
description: ""
project: community
lastmod: 2014-05-09T12:03:06-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14207"
mailinglist_parent_id: "msg14206"
author_name: "Brian Roach"
project_section: "mailinglistitem"
sent_date: 2014-05-09T12:03:06-07:00
---


Looking at your logs, they all show:

Error loading "erlang\\_js\\_drv": "Driver compiled with incorrect version
of erl\\_driver.h"

In your post you say you installed:

"Erlang - First otp\\_src\\_R14B02 and then otp\\_src\\_R15B01"

More than likely you've compiled Riak with the old version or erlang.

As Hector mentioned, you may want to use an RPM rather than building
from source. You also want to remove R14B02 or at the very least make
sure it's not in your path.

- Roach





On Fri, May 9, 2014 at 10:39 AM, Hector Castro  wrote:
&gt; Hi Rachana,
&gt;
&gt; Is there any reason why you didn't elect to install via RPM? [0] That
&gt; path may be easier to get started with than compiling Erlang and Riak
&gt; from source, as we bundle Erlang into the RPM.
&gt;
&gt; --
&gt; Hector
&gt;
&gt; [0] http://docs.basho.com/riak/latest/ops/building/installing/rhel-centos/
&gt;
&gt; On Fri, May 9, 2014 at 5:47 AM, Rachana Shroff  wrote:
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; I am exploring Riak 1.4.8 and facing issue starting riak server.
&gt;&gt; Additional details are-
&gt;&gt; OS - Linux
&gt;&gt; Red Hat Enterprise Linux Server release 6.1 (Santiago)
&gt;&gt; 2.6.32-131.0.15.el6.x86\\_64
&gt;&gt;
&gt;&gt; Erlang - First otp\\_src\\_R14B02 and then otp\\_src\\_R15B01
&gt;&gt;
&gt;&gt; I followed all installations steps from
&gt;&gt; http://docs.basho.com/riak/1.3.0/tutorials/installation
&gt;&gt;
&gt;&gt; steps used for Erlang-
&gt;&gt;
&gt;&gt; wget http://erlang.org/download/otp\\_src\\_R15B01.tar.gz
&gt;&gt; tar zxvf otp\\_src\\_R15B01.tar.gz
&gt;&gt; cd otp\\_src\\_R15B01
&gt;&gt; ./configure && make && sudo make install
&gt;&gt;
&gt;&gt;
&gt;&gt; steps used for Riak-
&gt;&gt;
&gt;&gt; tar zxvf riak-1.4.8.tar.gz
&gt;&gt; cd riak-1.4.8
&gt;&gt; make rel
&gt;&gt;
&gt;&gt; After installation i am trying to start riak server but failing to do so.
&gt;&gt;
&gt;&gt; /../riak-1.4.8/rel/riak/bin&gt;riak start
&gt;&gt;
&gt;&gt; Error Ouput - Node 'riak@127.0.0.1' not responding to pings.
&gt;&gt;
&gt;&gt;
&gt;&gt; I tried all the below workarounds suggested on the foroums but no luck.
&gt;&gt;
&gt;&gt; 1-
&gt;&gt; ulimit -n
&gt;&gt; 100000
&gt;&gt; 2- change the ip to machine ip in vm.args and app.config.
&gt;&gt; riak stop # stop the node
&gt;&gt; riak-admin down riak@127.0.0.1 # take it down
&gt;&gt; sudo rm -rf /var/lib/riak/ring/\\* # delete the riak ring
&gt;&gt; sudo sed -i "s/127.0.0.1/`hostname -i`/g" /etc/riak/vm.args # Change the
&gt;&gt; name in config
&gt;&gt; riak-admin cluster force-replace riak@127.0.0.1 riak@"`hostname -i`" #
&gt;&gt; replace the name
&gt;&gt;
&gt;&gt; riak start # start the node
&gt;&gt;
&gt;&gt; 3- restart server
&gt;&gt;
&gt;&gt;
&gt;&gt; I have attached all log files.
&gt;&gt;
&gt;&gt;
&gt;&gt; Would appreciate your quick support on this.
&gt;&gt;
&gt;&gt;
&gt;&gt; Thanks & Regards,
&gt;&gt; Rachana
&gt;&gt;
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

