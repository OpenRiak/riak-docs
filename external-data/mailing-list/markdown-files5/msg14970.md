---
title: "Re: Upgrading 1.4 to 2.0"
description: ""
project: community
lastmod: 2014-10-02T08:55:45-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14970"
mailinglist_parent_id: "msg14915"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2014-10-02T08:55:45-07:00
---


Hello,

Were you able to resolve this issue? I tried to reproduce your issue
but could not - the upgrade worked successfully.

When you execute "riak stop" prior to using dpkg to upgrade to 2.0,
please ensure all beam.smp processes are gone before doing the
upgrade.
--
Luke Bakken
Engineer / CSE
lbak...@basho.com


On Wed, Sep 24, 2014 at 7:19 AM, Thelonious Fonk  wrote:
&gt; Hi all,
&gt;
&gt; I'm a total newbie with Riak so I apologize if my question is silly.
&gt;
&gt; I need to build a POC with Riak and we have 5 nodes running v1.4 on a dev
&gt; box so the first thing I'm trying to do is to upgrade these nodes to v2.0
&gt; On the first node (dev1) I followed the instructions here:
&gt; http://docs.basho.com/riak/latest/ops/upgrading/rolling-upgrades/#Debian-Ubuntu
&gt;
&gt; But when I get to step 5 "5. Verify Riak is running the new version" the
&gt; output of the "riak-admin status" command says
&gt; /riak\\_api\\_version : &lt;&lt;"1.4.2-0-ga7e00e2"&gt;&gt;
&gt; riak\\_pipe\\_version : &lt;&lt;"1.4.2-0-g59d1bae"&gt;&gt;
&gt; riak\\_core\\_version : &lt;&lt;"1.4.2"&gt;&gt;/
&gt;
&gt; I tried a second time and now when I re-install the package with dpkg -i
&gt; the output says
&gt; /(Reading database ... 52512 files and directories currently installed.)
&gt; \\*Preparing to replace riak 2.0.0-1\\* (using riak\\_2.0.0-1\\_amd64.deb) ...
&gt; Unpacking replacement riak ...
&gt; Setting up riak (2.0.0-1) ...
&gt; Processing triggers for man-db .../
&gt;
&gt; So this makes me think it detects somehow that version 2.0.0-1 is running
&gt; but riak-admin still says 1.4.2...
&gt;
&gt; What am I doing wrong?
&gt;
&gt; Thanks for your help!
&gt;
&gt;
&gt;
&gt; --
&gt; View this message in context: 
&gt; http://riak-users.197444.n3.nabble.com/Upgrading-1-4-to-2-0-tp4031821.html
&gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

