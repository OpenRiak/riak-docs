---
title: "Re: Does Riak support Range Queries over binary safe strings?"
description: ""
project: community
lastmod: 2013-07-16T15:57:17-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11557"
mailinglist_parent_id: "msg11555"
author_name: "Jeremiah Peschka"
project_section: "mailinglistitem"
sent_date: 2013-07-16T15:57:17-07:00
---


Following up on Alex's comments -

If you know which bytes you need to slice, you can store this in a
secondary index. You can perform range queries across secondary indices (as
well as keys).

As long as you're storing your data in a way that allows it to be read by
either Erlang or JavaScript, you should be able to query over it in
MapReduce. This is typically regarded as a Bad Ideaâ„¢ since an MR query will
need to scan all keys in a bucket (which effectively means scanning the
entire cluster) and is best done as an infrequent activity to transform
data.

---
Jeremiah Peschka - Founder, Brent Ozar Unlimited
MCITP: SQL Server 2008, MVP
Cloudera Certified Developer for Apache Hadoop


On Tue, Jul 16, 2013 at 3:45 PM, Alexander Sicular wrote:

&gt; I would say no. Riak is generally oblivious as to the content of your
&gt; data. Any ranges or other method you would use to query needs to be
&gt; explicitly indexed via riak search or secondary indexes. Once you have
&gt; found your data you could operate over that data in a map reduce, but I
&gt; can't speak to "binary safe" blob operations in either erlang or JavaScript
&gt; although I'm inclined to say yes, you would be able to operate over it in
&gt; m/r.
&gt;
&gt; So searching for keys with certain data in the binblob is probably not
&gt; gonna happen but once you have a key to feed an m/r you could get a slice
&gt; of that value.
&gt;
&gt; Make sense?
&gt; -Alexander
&gt;
&gt; @siculars
&gt; http://siculars.posthaven.com
&gt;
&gt; Sent from my iRotaryPhone
&gt;
&gt; On Jul 16, 2013, at 18:17, gbrits  wrote:
&gt;
&gt; &gt; First, hello all!
&gt; &gt;
&gt; &gt; Coming from Redis, I love that you can just put any binary blob in Redis
&gt; &gt; which is just treated as a string. This is possible because Redis strings
&gt; &gt; are what they call 'binary safe'. This makes it possible to return
&gt; slices of
&gt; &gt; string-encoded binary data, which is super useful for bitset-operations,
&gt; &gt; etc.
&gt; &gt;
&gt; &gt; I'm investigating Riak and I like it a lot so far. Riak seems to have
&gt; range
&gt; &gt; queries (on values, as it seems I must make that distinction with
&gt; &gt; column-stores), but I'm not sure if strings in Riak are "Binary safe" in
&gt; the
&gt; &gt; above sense. If not, is there another way to store binary data in Riak
&gt; and
&gt; &gt; still do range queries over them quickly?
&gt; &gt;
&gt; &gt; To be exact: I want to do multi-key lookups in Riak, where each returned
&gt; &gt; result should be of format: 
&gt; &gt;
&gt; &gt; Thanks,
&gt; &gt; Geert-Jan
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; --
&gt; &gt; View this message in context:
&gt; http://riak-users.197444.n3.nabble.com/Does-Riak-support-Range-Queries-over-binary-safe-strings-tp4028356.html
&gt; &gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt; &gt;
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

