---
title: "Re: Riak Search having issues with custom schema"
description: ""
project: community
lastmod: 2015-01-09T08:45:07-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15456"
mailinglist_parent_id: "msg15455"
author_name: "Santi Kumar"
project_section: "mailinglistitem"
sent_date: 2015-01-09T08:45:07-08:00
---


No content type is specified explicitly. Directly object is passed to
StoreValue.Builder(). Some where I read that pojo is extracted as json. Am
I missing something?

..... Here is the code.

 Location user\\_locaiton = new Location(nameSpace, key);

 StoreValue storeUserOp = new StoreValue.Builder(object)

 .withLocation(user\\_locaiton)

 .withOption(StoreValue.Option.W, Quorum.allQuorum())

 .build();

 RiakFuture storeValueOpFuture = client.executeAsync(storeUserOp);

 storeValueOpFuture.await();

 logger.debug("Stroed Values for "+key+" in Bucket "+bucket);

 if(!storeValueOpFuture.isSuccess() || storeValueOpFuture.isCancelled() || !
storeValueOpFuture.isDone()){

 throw new InternalServerException(InternalServerException.ErrorCode.
RIAK\\_EROR,"Exception while storing object against key "+key+" in Bucket "+
bucket);

 }


On Jan 9, 2015 9:42 PM, "Luke Bakken"  wrote:

&gt; How are you storing these objects? What "Content-Type" is being used?
&gt; --
&gt; Luke Bakken
&gt; Engineer
&gt; lbak...@basho.com
&gt;
&gt;
&gt; On Fri, Jan 9, 2015 at 7:04 AM, Santi Kumar  wrote:
&gt; &gt; Hi,
&gt; &gt; We are having issues with Riak Search custom schema. Application has
&gt; &gt; multiple POJO's and we are using Java client to write into RIakKV.
&gt; &gt; Configured custom solr schema with indexed fields from all POJOs. After
&gt; &gt; adding the "Catch-All" field, solr is not indexing any fields from any of
&gt; &gt; the Pojo.
&gt; &gt;
&gt; &gt; No errors in solr log also. Not having any clues why nothing is indexed
&gt; &gt; except the Riak fields. Here is how the fields are specified in solr
&gt; schema,
&gt; &gt; not attaching everything. We have multiple indexes and buckets for
&gt; different
&gt; &gt; pojos, but difined only one schema for all the indexes. Same schema is
&gt; being
&gt; &gt; configured for each index. Would that be an issue? For example for Access
&gt; &gt; has seperate index and condition has seperate index. But both fields for
&gt; &gt; both of them are defined in one schema and passed to both the indexes.
&gt; &gt;
&gt; &gt; 
&gt; &gt;
&gt; &gt; 
&gt; &gt;
&gt; &gt;  &gt; stored="false" /&gt;
&gt; &gt;
&gt; &gt;  stored="false"
&gt; &gt; /&gt;
&gt; &gt;
&gt; &gt;  /&gt;
&gt; &gt;
&gt; &gt;  stored="false" /&gt;
&gt; &gt;
&gt; &gt;  &gt; stored="false" /&gt;
&gt; &gt;
&gt; &gt; 
&gt; &gt;
&gt; &gt; 
&gt; &gt;
&gt; &gt; 
&gt; &gt;
&gt; &gt;  stored="false" /&gt;
&gt; &gt;
&gt; &gt; 
&gt; &gt;
&gt; &gt; 
&gt; &gt;
&gt; &gt; 
&gt; &gt;
&gt; &gt; 
&gt; &gt;
&gt; &gt; 
&gt; &gt;
&gt; &gt; 
&gt; &gt;
&gt; &gt; 
&gt; &gt;
&gt; &gt; Thanks
&gt; &gt; Santi
&gt; &gt;
&gt; &gt;
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

