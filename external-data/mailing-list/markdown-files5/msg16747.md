---
title: "Re: cuttlefish"
description: ""
project: community
lastmod: 2015-11-08T18:51:58-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16747"
mailinglist_parent_id: "msg16720"
author_name: "Drew Kerrigan"
project_section: "mailinglistitem"
sent_date: 2015-11-08T18:51:58-08:00
---


Hi Michael/Luke,

This thread is old, but after fighting through similar issues with
cuttlefish, clique, and node package, I put together a simple skeleton app
using all of those for myself and others:
https://github.com/drewkerrigan/erlang-app-skeleton

Hopefully someone weekday finds it useful as well.

Drew Kerrigan

On Thu, Oct 29, 2015, 10:08 AM Michael Martin  wrote:

&gt; It's not open source yet. It needs quite a bit more testing before I'm
&gt; comfortable releasing it into
&gt; the wild, but that will happen soon, I hope.
&gt;
&gt;
&gt; On 10/29/2015 11:42 AM, Luke Bakken wrote:
&gt; &gt; Hi Michael,
&gt; &gt;
&gt; &gt; Please use "Reply All" so that riak-users is included in this discussion.
&gt; &gt;
&gt; &gt; I am assuming that the important part, for Riak, is here:
&gt; &gt;
&gt; &gt; https://github.com/basho/riak/blob/develop/rel/vars.config#L55-L59
&gt; &gt;
&gt; &gt; Is your application open-source? I would be interested in getting relx
&gt; &gt; support into cuttlefish.
&gt; &gt;
&gt; &gt;
&gt; https://github.com/basho/cuttlefish/wiki/Cuttlefish-for-non-node\\_package-users
&gt; &gt;
&gt; &gt; --
&gt; &gt; Luke Bakken
&gt; &gt; Engineer
&gt; &gt; lbak...@basho.com
&gt; &gt;
&gt; &gt;
&gt; &gt; On Thu, Oct 29, 2015 at 9:32 AM, Michael Martin 
&gt; wrote:
&gt; &gt;&gt; Hi Luke,
&gt; &gt;&gt;
&gt; &gt;&gt; I understand now how to create a new .conf file. But, I still don't see
&gt; how
&gt; &gt;&gt; to make my application aware of
&gt; &gt;&gt; that .conf file and properly parse it into an app.config. Starting the
&gt; &gt;&gt; cuttlefish application in my application
&gt; &gt;&gt; has no effect.
&gt; &gt;&gt;
&gt; &gt;&gt; Any ideas?
&gt; &gt;&gt;
&gt; &gt;&gt; Thanks,
&gt; &gt;&gt; Michael
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt;
&gt; &gt;&gt; On 10/29/2015 10:18 AM, Luke Bakken wrote:
&gt; &gt;&gt;&gt; Hi Michael,
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; I'm figuring this out as I go as well. I searched for "riak.conf"
&gt; &gt;&gt;&gt; (https://github.com/basho/riak/search?q=riak.conf) and got a hit here:
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; https://github.com/basho/riak/blob/develop/rel/rebar.config
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; I suspect this configuration is what causes "riak.conf" to be
&gt; &gt;&gt;&gt; generated at build time, via this code:
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; https://github.com/basho/cuttlefish/blob/develop/src/cuttlefish\\_rebar\\_plugin.erl
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; --
&gt; &gt;&gt;&gt; Luke Bakken
&gt; &gt;&gt;&gt; Engineer
&gt; &gt;&gt;&gt; lbak...@basho.com
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt;
&gt; &gt;&gt;&gt; On Thu, Oct 29, 2015 at 8:12 AM, Michael Martin  &gt;
&gt; &gt;&gt;&gt; wrote:
&gt; &gt;&gt;&gt;&gt; Hi Luke,
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; Thanks for the quick reply.
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; I've been throught the "Cuttlefish-for-Erlang-Developers" doc a
&gt; couple of
&gt; &gt;&gt;&gt;&gt; times now.
&gt; &gt;&gt;&gt;&gt; I must be missing something.
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; The main README states:
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; "When we build Riak, Cuttlefish generates a riak.conf file that
&gt; contains
&gt; &gt;&gt;&gt;&gt; the
&gt; &gt;&gt;&gt;&gt; default shipping configuration of Riak. When a script to start Riak is
&gt; &gt;&gt;&gt;&gt; run,
&gt; &gt;&gt;&gt;&gt; a Cuttlefish escript is spun up, reads the riak.conf file and combines
&gt; &gt;&gt;&gt;&gt; that
&gt; &gt;&gt;&gt;&gt; with the Schema to generate an app.config."
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; But I see no reference to how I make Cuttlefish generate my script,
&gt; nor
&gt; &gt;&gt;&gt;&gt; where to find the Cuttlefish escript that reads
&gt; &gt;&gt;&gt;&gt; the .conf file and generates the app.config. I don't see this
&gt; information
&gt; &gt;&gt;&gt;&gt; in
&gt; &gt;&gt;&gt;&gt; the Wiki, either.
&gt; &gt;&gt;&gt;&gt;
&gt; &gt;&gt;&gt;&gt; Thanks,
&gt; &gt;&gt;&gt;&gt; Michael
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

