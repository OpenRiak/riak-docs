---
title: "Re: Rebuilding AAE hashes - small question"
description: ""
project: community
lastmod: 2014-04-09T07:56:35-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14040"
mailinglist_parent_id: "msg14039"
author_name: "Guido Medina"
project_section: "mailinglistitem"
sent_date: 2014-04-09T07:56:35-07:00
---



What do you mean by "wait for handoff" to finish?

Are you referring to wait for the service to be fully started? i.e. 
"riak-admin wait-for-service riak\\_kv riak@node"


Or do you mean to check for "riak-admin transfers" on the started node 
and wait until those handoffs/transfers are gone?


Guido.


On 09/04/14 15:46, Luke Bakken wrote:

Hi Guido,

That is the correct process. Be sure to use the rolling restart 
procedure when restarting nodes (i.e. wait for handoff to finish 
before moving on).


--
Luke Bakken
CSE
lbak...@basho.com 


On Wed, Apr 9, 2014 at 6:34 AM, Guido Medina &gt; wrote:


 Hi,

 If nodes are already upgraded to 1.4.8 (and they went all the way
 from 1.4.0 to 1.4.8 including AAE buggy versions)

 Will the following command (as root) on Ubuntu Servers 12.04:

 riak stop; rm -Rf /var/lib/riak/anti\\_entropy/\\*; riak start

 executed on each node be enough to rebuild AAE hashes?

 Regards,

 Guido.

 \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
 riak-users mailing list
 riak-users@lists.basho.com 
 http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com




\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

