---
title: "Re: ClusterOffline Unable to access functioning Riak node"
description: ""
project: community
lastmod: 2017-04-14T12:51:12-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18147"
mailinglist_parent_id: "msg18146"
author_name: "Charles Solar"
project_section: "mailinglistitem"
sent_date: 2017-04-14T12:51:12-07:00
---


Thanks for the tip Luke - I updated those timeouts to 30s each and not
seeing anymore failures. I guess ideally updates should happen in under 4
seconds though so I'll have to find out why certain saves are taking so
long!

Charles

On Fri, Apr 14, 2017 at 12:33 PM, Luke Bakken  wrote:

&gt; Hi Charles -
&gt;
&gt; Extend the read and write timeouts using this setting:
&gt;
&gt; https://github.com/basho/riak-dotnet-client/blob/develop/
&gt; src/RiakClientTests.Live/App.config#L24
&gt;
&gt; The above example extends it to 60 seconds.
&gt;
&gt; The default is 4 seconds which may be too short if you are running
&gt; long queries. If 4 seconds is exceeded, the socket read times out and
&gt; the client assumes that there is an issue with the node, marking it
&gt; down. Eventually, all nodes can be marked down.
&gt; --
&gt; Luke Bakken
&gt; Engineer
&gt; lbak...@basho.com
&gt;
&gt;
&gt; On Wed, Apr 12, 2017 at 11:03 AM, Charles Solar 
&gt; wrote:
&gt; &gt; Hi list - I'm currently running both Riak and RiakTS in a lab environment
&gt; &gt; for testing and my clients writing data get
&gt; &gt;
&gt; &gt; "ClusterOffline Unable to access functioning Riak node"
&gt; &gt;
&gt; &gt; errors fairly often. I am wondering if this is an indication that I
&gt; need to
&gt; &gt; add more nodes to increase capacity? Or tune some other settings?
&gt; &gt;
&gt; &gt; I've looked through Riak logs and there is no indication of a problem,
&gt; are
&gt; &gt; there other diagnostics I can do?
&gt; &gt;
&gt; &gt;
&gt; &gt; Im finding RiakTS commits fail with this commit far more often.
&gt; &gt;
&gt; &gt; I'm using the C# client, nodePollTime 5000, retryWaitTime 100,
&gt; retryCount 3
&gt; &gt;
&gt; &gt; with 7 riak nodes and 3 riakts nodes.
&gt; &gt;
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

