---
title: "Re: Riak on Mac OSX 10.7.5"
description: ""
project: community
lastmod: 2013-10-08T10:28:07-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12547"
mailinglist_parent_id: "msg12546"
author_name: "Arun Gupta"
project_section: "mailinglistitem"
sent_date: 2013-10-08T10:28:07-07:00
---


bash

Any recommendation on how the command needs to be broken apart ?

Arun

On Tue, Oct 8, 2013 at 10:09 AM, Steve Vinoski  wrote:
&gt; Arun, what shell are you using? It looks like your setting of CFLAGS as part
&gt; of your very first command ended up taking the entire configure command as
&gt; the value, rather than just -O0, and then when the C compiler later tries to
&gt; use that whole command line, it unsurprisingly fails.
&gt;
&gt; --steve
&gt;
&gt;
&gt; On Tue, Oct 8, 2013 at 12:33 PM, Arun Gupta  wrote:
&gt;&gt;
&gt;&gt; I gave the command:
&gt;&gt;
&gt;&gt; CFLAGS=-O0 ./configure --disable-hipe --enable-smp-support
&gt;&gt; --enable-threads --enable-kernel-poll --enable-darwin-64bit
&gt;&gt;
&gt;&gt; and it showed a whole bunch of lines as shown below ...
&gt;&gt;
&gt;&gt; -- start here --
&gt;&gt; Ignoring the --cache-file argument since it can cause the system to be
&gt;&gt; erroneously configured
&gt;&gt; Disabling caching
&gt;&gt; checking build system type... i386-apple-darwin11.4.2
&gt;&gt; checking host system type... i386-apple-darwin11.4.2
&gt;&gt; checking for gcc... gcc
&gt;&gt; checking for C compiler default output file name... a.out
&gt;&gt; checking whether the C compiler works... yes
&gt;&gt; checking whether we are cross compiling... no
&gt;&gt; checking for suffix of executables...
&gt;&gt; checking for suffix of object files... o
&gt;&gt;
&gt;&gt; ...
&gt;&gt;
&gt;&gt; config.status: creating i386-apple-darwin11.4.2/config.h
&gt;&gt; config.status: creating
&gt;&gt; include/internal/i386-apple-darwin11.4.2/ethread\\_header\\_config.h
&gt;&gt; config.status: creating
&gt;&gt; include/i386-apple-darwin11.4.2/erl\\_int\\_sizes\\_config.h
&gt;&gt; \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*
&gt;&gt; \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\* APPLICATIONS INFORMATION \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*
&gt;&gt; \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*
&gt;&gt;
&gt;&gt; wx : wxWidgets not found, wx will NOT be usable
&gt;&gt;
&gt;&gt; \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*
&gt;&gt; \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*
&gt;&gt; \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\* DOCUMENTATION INFORMATION \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*
&gt;&gt; \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*
&gt;&gt;
&gt;&gt; documentation :
&gt;&gt; fop is missing.
&gt;&gt; Using fakefop to generate placeholder PDF files.
&gt;&gt;
&gt;&gt; \\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*\\*
&gt;&gt; -- end here --
&gt;&gt;
&gt;&gt; This was followed by the command:
&gt;&gt;
&gt;&gt; make && sudo make install
&gt;&gt; test X"$ERTS\\_SKIP\\_DEPEND" = X"true" || (cd erts/emulator &&
&gt;&gt; ERL\\_TOP=/Users/arungup/code/workspaces/riak/otp\\_src\\_R15B01 make
&gt;&gt; generate)
&gt;&gt; make -f i386-apple-darwin11.4.2/Makefile generate
&gt;&gt; LANG=C /usr/bin/perl utils/beam\\_makeops \\
&gt;&gt; -wordsize 64 \\
&gt;&gt; -outdir i386-apple-darwin11.4.2/opt/plain \\
&gt;&gt; -DUSE\\_VM\\_PROBES=0 \\
&gt;&gt;
&gt;&gt; ...
&gt;&gt;
&gt;&gt; which failed with the message:
&gt;&gt;
&gt;&gt; adding: com/ericsson/otp/erlang/OtpServer.class(in = 681) (out=
&gt;&gt; 374)(deflated 45%)
&gt;&gt; adding: com/ericsson/otp/erlang/OtpSystem.class(in = 738) (out=
&gt;&gt; 438)(deflated 40%)
&gt;&gt; make[3]: Nothing to be done for `opt'.
&gt;&gt; === Leaving application jinterface
&gt;&gt; === Entering application ic
&gt;&gt; make[3]: Nothing to be done for `opt'.
&gt;&gt; make -f i386-apple-darwin11.4.2/Makefile TYPE=opt
&gt;&gt; gcc -m64 -O0
&gt;&gt; -I/Users/arungup/code/workspaces/riak/otp\\_src\\_R15B01/erts/i386-apple-darwin11.4.2
&gt;&gt; -D\\_XOPEN\\_SOURCE -fPIC -fno-common -c -o
&gt;&gt; ../priv/obj/i386-apple-darwin11.4.2/ic.o -m64 -O0
&gt;&gt;
&gt;&gt; -I/Users/arungup/code/workspaces/riak/otp\\_src\\_R15B01/erts/i386-apple-darwin11.4.2
&gt;&gt; -D\\_XOPEN\\_SOURCE -DHAVE\\_CONFIG\\_H -I../include
&gt;&gt;
&gt;&gt; -I/Users/arungup/code/workspaces/riak/otp\\_src\\_R15B01/lib/erl\\_interface/include
&gt;&gt; -I/Users/arungup/code/workspaces/riak/otp\\_src\\_R15B01/lib/erl\\_interface/src
&gt;&gt; -O0 ./configure --disable-hipe --enable-smp-support --enable-threads
&gt;&gt; --enable-kernel-poll --enable-darwin-64bit ic.c
&gt;&gt; i686-apple-darwin11-llvm-gcc-4.2: ./configure: No such file or directory
&gt;&gt; cc1: error: unrecognized command line option "-fdisable-hipe"
&gt;&gt; cc1: error: unrecognized command line option "-fenable-smp-support"
&gt;&gt; cc1: error: unrecognized command line option "-fenable-threads"
&gt;&gt; cc1: error: unrecognized command line option "-fenable-kernel-poll"
&gt;&gt; cc1: error: unrecognized command line option "-fenable-darwin-64bit"
&gt;&gt; make[4]: \\*\\*\\* [../priv/obj/i386-apple-darwin11.4.2/ic.o] Error 1
&gt;&gt; make[3]: \\*\\*\\* [opt] Error 2
&gt;&gt; make[2]: \\*\\*\\* [opt] Error 2
&gt;&gt; make[1]: \\*\\*\\* [opt] Error 2
&gt;&gt; make: \\*\\*\\* [tertiary\\_bootstrap\\_build] Error 2
&gt;&gt;
&gt;&gt; An idea ?
&gt;&gt;
&gt;&gt; Arun
&gt;&gt;
&gt;&gt;
&gt;&gt; On Mon, Oct 7, 2013 at 6:34 PM, Jared Morrow  wrote:
&gt;&gt; &gt; As Steve said, this package is for 10.8+. If you would like to build
&gt;&gt; &gt; from
&gt;&gt; &gt; source, you can follow the instructions here:
&gt;&gt; &gt; http://docs.basho.com/riak/latest/ops/building/installing/from-source/
&gt;&gt; &gt; If
&gt;&gt; &gt; you would like to build a package to use on other machines, follow the
&gt;&gt; &gt; same
&gt;&gt; &gt; instructions, except call 'make package' instead of 'make rel' in the
&gt;&gt; &gt; instructions.
&gt;&gt; &gt;
&gt;&gt; &gt; -Jared
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; On Mon, Oct 7, 2013 at 6:04 PM, Steve Vinoski  wrote:
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; As indicated in the URL for the tarball you downloaded, Riak 1.4.2 for
&gt;&gt; &gt;&gt; OS
&gt;&gt; &gt;&gt; X was built for 10.8.x, but you're running 10.7.5 so that build won't
&gt;&gt; &gt;&gt; work
&gt;&gt; &gt;&gt; there.
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; --steve
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; On Mon, Oct 7, 2013 at 7:34 PM, Arun Gupta 
&gt;&gt; &gt;&gt; wrote:
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; Downloaded Riak 1.4.2 from:
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; http://s3.amazonaws.com/downloads.basho.com/riak/1.4/1.4.2/osx/10.8/riak-1.4.2-OSX-x86\\_64.tar.gz
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; Starting Riak as bin/riak gives the error:
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; Error reading
&gt;&gt; &gt;&gt;&gt; /Users/arungup/tools/nosql/riak/riak-1.4.2/bin/../etc/app.config
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; And then a dialog box pops up with the following details:
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; Process: sh [75679]
&gt;&gt; &gt;&gt;&gt; Path: /bin/sh
&gt;&gt; &gt;&gt;&gt; Identifier: sh
&gt;&gt; &gt;&gt;&gt; Version: ??? (???)
&gt;&gt; &gt;&gt;&gt; Code Type: X86-64 (Native)
&gt;&gt; &gt;&gt;&gt; Parent Process: sh [75678]
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; Date/Time: 2013-10-07 16:29:08.889 -0700
&gt;&gt; &gt;&gt;&gt; OS Version: Mac OS X 10.7.5 (11G63b)
&gt;&gt; &gt;&gt;&gt; Report Version: 9
&gt;&gt; &gt;&gt;&gt; Sleep/Wake UUID: 233B3AEC-827F-4D69-92BB-3F6579F3BC4B
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; Anonymous UUID:
&gt;&gt; &gt;&gt;&gt; D3AD0D73-8375-41A9-8DF2-7AD38536906E
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; Crashed Thread: Unknown
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; Exception Type: EXC\\_BAD\\_ACCESS (SIGSEGV)
&gt;&gt; &gt;&gt;&gt; Exception Codes: KERN\\_INVALID\\_ADDRESS at 0x00007fff5fc01028
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; Backtrace not available
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; Unknown thread crashed with X86 Thread State (64-bit):
&gt;&gt; &gt;&gt;&gt; rax: 0x0000000000000055 rbx: 0x0000000000000000 rcx:
&gt;&gt; &gt;&gt;&gt; 0x0000000000000000 rdx: 0x0000000000000000
&gt;&gt; &gt;&gt;&gt; rdi: 0x0000000000000000 rsi: 0x0000000000000000 rbp:
&gt;&gt; &gt;&gt;&gt; 0x0000000000000000 rsp: 0x0000000000000000
&gt;&gt; &gt;&gt;&gt; r8: 0x0000000000000000 r9: 0x0000000000000000 r10:
&gt;&gt; &gt;&gt;&gt; 0x0000000000000000 r11: 0x0000000000000000
&gt;&gt; &gt;&gt;&gt; r12: 0x0000000000000000 r13: 0x0000000000000000 r14:
&gt;&gt; &gt;&gt;&gt; 0x0000000000000000 r15: 0x0000000000000000
&gt;&gt; &gt;&gt;&gt; rip: 0x00007fff5fc01028 rfl: 0x0000000000010203 cr2:
&gt;&gt; &gt;&gt;&gt; 0x00007fff5fc01028
&gt;&gt; &gt;&gt;&gt; Logical CPU: 2
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; Binary images description not available
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; External Modification Summary:
&gt;&gt; &gt;&gt;&gt; Calls made by other processes targeting this process:
&gt;&gt; &gt;&gt;&gt; task\\_for\\_pid: 0
&gt;&gt; &gt;&gt;&gt; thread\\_create: 0
&gt;&gt; &gt;&gt;&gt; thread\\_set\\_state: 0
&gt;&gt; &gt;&gt;&gt; Calls made by this process:
&gt;&gt; &gt;&gt;&gt; task\\_for\\_pid: 0
&gt;&gt; &gt;&gt;&gt; thread\\_create: 0
&gt;&gt; &gt;&gt;&gt; thread\\_set\\_state: 0
&gt;&gt; &gt;&gt;&gt; Calls made by all processes on this machine:
&gt;&gt; &gt;&gt;&gt; task\\_for\\_pid: 318497
&gt;&gt; &gt;&gt;&gt; thread\\_create: 2
&gt;&gt; &gt;&gt;&gt; thread\\_set\\_state: 0
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; Model: MacBookPro8,2, BootROM MBP81.0047.B27, 4 processors, Intel Core
&gt;&gt; &gt;&gt;&gt; i7, 2 GHz, 16 GB, SMC 1.69f4
&gt;&gt; &gt;&gt;&gt; Graphics: AMD Radeon HD 6490M, AMD Radeon HD 6490M, PCIe, 256 MB
&gt;&gt; &gt;&gt;&gt; Graphics: Intel HD Graphics 3000, Intel HD Graphics 3000, Built-In,
&gt;&gt; &gt;&gt;&gt; 512
&gt;&gt; &gt;&gt;&gt; MB
&gt;&gt; &gt;&gt;&gt; Memory Module: BANK 0/DIMM0, 8 GB, DDR3, 1333 MHz, 0x029E,
&gt;&gt; &gt;&gt;&gt; 0x434D5341384758334D314131333333433920
&gt;&gt; &gt;&gt;&gt; Memory Module: BANK 1/DIMM0, 8 GB, DDR3, 1333 MHz, 0x029E,
&gt;&gt; &gt;&gt;&gt; 0x434D5341384758334D314131333333433920
&gt;&gt; &gt;&gt;&gt; AirPort: spairport\\_wireless\\_card\\_type\\_airport\\_extreme (0x14E4, 0xD6),
&gt;&gt; &gt;&gt;&gt; Broadcom BCM43xx 1.0 (5.106.198.19.22)
&gt;&gt; &gt;&gt;&gt; Bluetooth: Version 4.0.8f17, 2 service, 18 devices, 1 incoming serial
&gt;&gt; &gt;&gt;&gt; ports
&gt;&gt; &gt;&gt;&gt; Network Service: Wi-Fi, AirPort, en1
&gt;&gt; &gt;&gt;&gt; Serial ATA Device: ST9500325ASG, 500.11 GB
&gt;&gt; &gt;&gt;&gt; Serial ATA Device: MATSHITADVD-R UJ-8A8
&gt;&gt; &gt;&gt;&gt; USB Device: FaceTime HD Camera (Built-in), apple\\_vendor\\_id, 0x8509,
&gt;&gt; &gt;&gt;&gt; 0xfa200000 / 3
&gt;&gt; &gt;&gt;&gt; USB Device: hub\\_device, 0x0424 (SMSC), 0x2513, 0xfa100000 / 2
&gt;&gt; &gt;&gt;&gt; USB Device: BRCM2070 Hub, 0x0a5c (Broadcom Corp.), 0x4500, 0xfa110000
&gt;&gt; &gt;&gt;&gt; /
&gt;&gt; &gt;&gt;&gt; 5
&gt;&gt; &gt;&gt;&gt; USB Device: Bluetooth USB Host Controller, apple\\_vendor\\_id, 0x821a,
&gt;&gt; &gt;&gt;&gt; 0xfa113000 / 8
&gt;&gt; &gt;&gt;&gt; USB Device: Apple Internal Keyboard / Trackpad, apple\\_vendor\\_id,
&gt;&gt; &gt;&gt;&gt; 0x0252, 0xfa120000 / 4
&gt;&gt; &gt;&gt;&gt; USB Device: hub\\_device, 0x0424 (SMSC), 0x2513, 0xfd100000 / 2
&gt;&gt; &gt;&gt;&gt; USB Device: IR Receiver, apple\\_vendor\\_id, 0x8242, 0xfd110000 / 3
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; Any idea what is wrong ?
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; Arun
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; --
&gt;&gt; &gt;&gt;&gt; Java EE 7 Essentials: http://shop.oreilly.com/product/0636920030614.do
&gt;&gt; &gt;&gt;&gt; Java EE 6 Pocket Guide from OReilly:
&gt;&gt; &gt;&gt;&gt; http://shop.oreilly.com/product/0636920026464.do
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; &gt;&gt;&gt; riak-users mailing list
&gt;&gt; &gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt; &gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; &gt;&gt; riak-users mailing list
&gt;&gt; &gt;&gt; riak-users@lists.basho.com
&gt;&gt; &gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; --
&gt;&gt; Java EE 7 Essentials: http://shop.oreilly.com/product/0636920030614.do
&gt;&gt; Java EE 6 Pocket Guide from OReilly:
&gt;&gt; http://shop.oreilly.com/product/0636920026464.do
&gt;
&gt;



-- 
Java EE 7 Essentials: http://shop.oreilly.com/product/0636920030614.do
Java EE 6 Pocket Guide from OReilly:
http://shop.oreilly.com/product/0636920026464.do

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

