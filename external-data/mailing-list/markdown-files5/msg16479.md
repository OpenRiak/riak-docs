---
title: "Re: A problem running Riak in a Docker image under Vagrant on Windows	7,8 and 10"
description: ""
project: community
lastmod: 2015-08-31T11:39:18-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16479"
mailinglist_parent_id: "msg16478"
author_name: "Christopher Mancini"
project_section: "mailinglistitem"
sent_date: 2015-08-31T11:39:18-07:00
---


Hey Pete,

If you want to share your setup, I will try to replicate the problem and
see if I can help.

Chris

On Mon, Aug 31, 2015 at 2:08 PM Matthew Brender  wrote:

&gt; Hey Pete,
&gt;
&gt; That's an interesting situation that leads me to think its a Windows
&gt; Vagrant consideration, given that everything runs on OS X. Is your
&gt; Dockerfile in a place we could see it and/or run it?
&gt;
&gt; FWIW, Hector has a project that works well. Maybe you can reference
&gt; his setup [0]. I'd also welcome a cross-post to StackOverflow in case
&gt; its a common Windows + Vagrant issue that our community may miss [1].
&gt;
&gt; [0] http://stackoverflow.com/questions/tagged/riak
&gt; [1] https://github.com/hectcastro/vagrant-multi-docker-riak
&gt;
&gt; Matt Brender | Developer Advocacy Lead
&gt; Basho Technologies
&gt; t: @mjbrender
&gt;
&gt;
&gt; On Fri, Aug 28, 2015 at 3:49 AM, Pete Slater  wrote:
&gt; &gt;
&gt; &gt; I am having a problem with a Docker image running Riak which is causing
&gt; me concern.
&gt; &gt;
&gt; &gt; I have a Docker image which is being run inside of a Vagrant container.
&gt; The Docker image is running Riak in a CentOS 7 guest OS and is configured
&gt; to start via a supervisor script.
&gt; &gt;
&gt; &gt; The issue I am having is that when running the Vagrant VM in a MacOS
&gt; host OS, Riak in the Docker image starts fine.
&gt; &gt;
&gt; &gt; However when I run the same Vagrantfile in a Windows host OS, Riak fails
&gt; to start with an error ‘Protocol: ~tp: the name riak@127.0.0.1 riak@127.0.0.1&gt; seems to be in use by another erlang node’
&gt; &gt;
&gt; &gt; I have tried changing the codename but the error persists.
&gt; &gt;
&gt; &gt; The strange thing is that Riak seems to be running as we can query it
&gt; via the REST API. But when trying to communicate to it when logged into the
&gt; Docker container and doing something like ‘riak ping’ we get Node ‘
&gt; riak@127.0.0.1’ not responding to pings.
&gt; &gt;
&gt; &gt; Any help would be appreciated. If you need further information then
&gt; please ask.
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

