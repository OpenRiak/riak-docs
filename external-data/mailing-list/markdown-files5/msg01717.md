---
title: "Re: Problem with fast track"
description: ""
project: community
lastmod: 2010-12-05T00:43:56-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01717"
mailinglist_parent_id: "msg01714"
author_name: "OJ Reeves"
project_section: "mailinglistitem"
sent_date: 2010-12-05T00:43:56-08:00
---


Sorry, forgot to mention that I am using the version that is currently
committed to HEAD on Github.

OJ


On Sun, Dec 5, 2010 at 6:15 PM, OJ Reeves  wrote:

&gt; Hi guys,
&gt;
&gt; If it helps, I've just tried the same here and I am experiencing the same
&gt; issue. So it's not just Bryan.
&gt;
&gt; OJ
&gt;
&gt;
&gt; On Sun, Dec 5, 2010 at 2:41 PM, Bryan Nagle &lt;
&gt; bryan.na...@liquidanalytics.com&gt; wrote:
&gt;
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; I am new to Riak, and am trying to go through the fast track
&gt;&gt; get familiar with it. However, I am running into a specific problem that I
&gt;&gt; have not been able to find a solution for. I am trying this on two separate
&gt;&gt; machines, both running ubuntu 10.04 64, and am having the exact same issue
&gt;&gt; on both. I am following the fast track to the letter, and I have started
&gt;&gt; over from scratch on my riak checkout (stop nodes, rm -rf riak, git clone)
&gt;&gt; multiple times. I am currently stuck on this page:
&gt;&gt; https://wiki.basho.com/display/RIAK/Building+a+Development+Environment
&gt;&gt;
&gt;&gt; From the stats:
&gt;&gt;
&gt;&gt; "ring\\_ownership": "[{'d...@127.0.0.1',21},{'d...@127.0.0.1',21},{'
&gt;&gt;&gt; d...@127.0.0.1',22}]"
&gt;&gt;
&gt;&gt;
&gt;&gt; First I run:
&gt;&gt;
&gt;&gt; $ curl -v -X PUT HTTP://127.0.0.1:8091/riak/images/1.jpg -H
&gt;&gt;&gt; "Content-type: image/jpeg" --data-binary @temp.jpg
&gt;&gt;
&gt;&gt; \\* About to connect() to 127.0.0.1 port 8091 (#0)
&gt;&gt;
&gt;&gt; \\* Trying 127.0.0.1... connected
&gt;&gt;
&gt;&gt; \\* Connected to 127.0.0.1 (127.0.0.1) port 8091 (#0)
&gt;&gt;
&gt;&gt; &gt; PUT /riak/images/1.jpg HTTP/1.1
&gt;&gt;
&gt;&gt; &gt; User-Agent: curl/7.19.7 (x86\\_64-pc-linux-gnu) libcurl/7.19.7
&gt;&gt;&gt; OpenSSL/0.9.8k zlib/1.2.3.3 libidn/1.15
&gt;&gt;
&gt;&gt; &gt; Host: 127.0.0.1:8091
&gt;&gt;
&gt;&gt; &gt; Accept: \\*/\\*
&gt;&gt;
&gt;&gt; &gt; Content-type: image/jpeg
&gt;&gt;
&gt;&gt; &gt; Content-Length: 5389
&gt;&gt;
&gt;&gt; &gt; Expect: 100-continue
&gt;&gt;
&gt;&gt; &gt;
&gt;&gt;
&gt;&gt; &lt; HTTP/1.1 100 Continue
&gt;&gt;
&gt;&gt; &lt; HTTP/1.1 204 No Content
&gt;&gt;
&gt;&gt; &lt; Vary: Accept-Encoding
&gt;&gt;
&gt;&gt; &lt; Server: MochiWeb/1.1 WebMachine/1.7.3 (participate in the frantic)
&gt;&gt;
&gt;&gt; &lt; Date: Sun, 05 Dec 2010 04:32:58 GMT
&gt;&gt;
&gt;&gt; &lt; Content-Type: image/jpeg
&gt;&gt;
&gt;&gt; &lt; Content-Length: 0
&gt;&gt;
&gt;&gt; &lt;
&gt;&gt;
&gt;&gt; \\* Connection #0 to host 127.0.0.1 left intact
&gt;&gt;
&gt;&gt; \\* Closing connection #0
&gt;&gt;
&gt;&gt;
&gt;&gt; This does not return any errors, so I am assuming it is succeeding.
&gt;&gt;
&gt;&gt; I then attempt to get this image back - either from a web browser, or from
&gt;&gt; curl, and I'm getting:
&gt;&gt;
&gt;&gt; $ curl HTTP://127.0.0.1:8091/riak/images/1.jpg
&gt;&gt;
&gt;&gt; 500 Internal Server
&gt;&gt;&gt; ErrorInternal Server Error
=====================

The server
&gt;&gt;&gt; encountered an error while processing this
&gt;&gt;&gt; request:  

```
[{webmachine_util,escape_quotes,
&gt;&gt;
&gt;&gt;       [{error,
&gt;&gt;
&gt;&gt;           {error,badarg,
&gt;&gt;
&gt;&gt;               [{dict,fetch,
&gt;&gt;
&gt;&gt;                    [&lt;&lt;"X-Riak-VTag"&gt;&gt;,
&gt;&gt;
&gt;&gt;                     {dict,5,16,16,8,80,48,
&gt;&gt;
&gt;&gt;                         {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
&gt;&gt;
&gt;&gt;                         {{[],[],
&gt;&gt;
&gt;&gt;                           [[&lt;&lt;"Links"&gt;&gt;]],
&gt;&gt;
&gt;&gt;                           [],[],
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt;  [[&lt;&lt;"X-Riak-Tag"&gt;&gt;,50,100,74,65,99,120,88,114,71,
&gt;&gt;
&gt;&gt;                             119,69,51,55,115,102,56,55,82,82,66,101,109]],
&gt;&gt;
&gt;&gt;                           [],[],[],[],
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt;  [[&lt;&lt;"content-type"&gt;&gt;,105,109,97,103,101,47,106,112,
&gt;&gt;
&gt;&gt;                             101,103]],
&gt;&gt;
&gt;&gt;                           [],[],
&gt;&gt;
&gt;&gt;
&gt;&gt;&gt;  [[&lt;&lt;"X-Riak-Last-Modified"&gt;&gt;|{1291,523577,973790}]],
&gt;&gt;
&gt;&gt;                           [],
&gt;&gt;
&gt;&gt;                           [[&lt;&lt;"X-Riak-Meta"&gt;&gt;]]}}}]},
&gt;&gt;
&gt;&gt;                {riak_kv_wm_raw,generate_etag,2},
&gt;&gt;
&gt;&gt;                {webmachine_resource,resource_call,3},
&gt;&gt;
&gt;&gt;                {webmachine_resource,do,3},
&gt;&gt;
&gt;&gt;                {webmachine_decision_core,resource_call,1},
&gt;&gt;
&gt;&gt;                {webmachine_decision_core,decision,1},
&gt;&gt;
&gt;&gt;                {webmachine_decision_core,handle_request,2},
&gt;&gt;
&gt;&gt;                {webmachine_mochiweb,loop,1}]}},
&gt;&gt;
&gt;&gt;       "\\""]},
&gt;&gt;
&gt;&gt;  {webmachine_decision_core,decision,1},
&gt;&gt;
&gt;&gt;  {webmachine_decision_core,handle_request,2},
&gt;&gt;
&gt;&gt;  {webmachine_mochiweb,loop,1},
&gt;&gt;
&gt;&gt;  {mochiweb_http,headers,5},
&gt;&gt;
&gt;&gt;  {proc_lib,init_p_do_apply,3}]
```


---

mochiweb+webmachine
&gt;&gt;&gt; web server


&gt;&gt;
&gt;&gt;
&gt;&gt; I have also tried uploading json. If I add "returnbody=true" to the url,
&gt;&gt; I see the json body displayed at the end of the curl put command. However,
&gt;&gt; when I try to access it afterwards, I get the exact same error as above. If
&gt;&gt; anyone has any ideas about what is going on, I would greatly appreciate it.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt;
&gt;&gt; Bryan Nagle
&gt;&gt; Liquid Analytics
&gt;&gt; bryan.na...@liquidanalytics.com
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt; --
&gt;
&gt; OJ Reeves
&gt; http://buffered.io/
&gt;



-- 

OJ Reeves
http://buffered.io/
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

