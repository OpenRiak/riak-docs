---
title: "Re: Yokozuna Schema Changes"
description: ""
project: community
lastmod: 2013-11-08T16:03:35-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12914"
mailinglist_parent_id: "msg12913"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2013-11-08T16:03:35-08:00
---


Absolutely not ideal. However, adding the ability to more easily mutate the
schema will come with a cost. Adding a field that wasn't there before and
you only want it indexed for newly written objects, easy. Adding a field
and you want to re-index your objects, little tricker. Removing a field
that has hundreds, thousands, millions, etc of matching Solr documents;
better be careful. Changing the field type or analysis chain; now you are
asking for serious trouble.

I still plan to add the feature but mutating a schema must be done with
caution. I will probably just end up writing a bunch of scary documentation
to warn of the pitfalls :)

-Z


On Fri, Nov 8, 2013 at 6:56 PM, Jeremiah Peschka  wrote:

&gt; Yeah, I ran into some difficulties while trying to modify schema. Even
&gt; after modifications I ended up having to do a rolling restart of the
&gt; cluster to get YZ to pick up the new schema.
&gt;
&gt; Obviously a rolling restart of Riak isn't the biggest issue on earth, it's
&gt; not ideal either.
&gt;
&gt; ---
&gt; Jeremiah Peschka - Founder, Brent Ozar Unlimited
&gt; MCITP: SQL Server 2008, MVP
&gt; Cloudera Certified Developer for Apache Hadoop
&gt;
&gt;
&gt; On Fri, Nov 8, 2013 at 3:54 PM, Ryan Zezeski  wrote:
&gt;
&gt;&gt; Hi Jeremiah,
&gt;&gt;
&gt;&gt; Yes. I very much want the ability to update the schema in 2.0. More
&gt;&gt; fundamental things have leap frogged it. Technically you can modify a
&gt;&gt; schema today but it has to be done by hand and is error prone.
&gt;&gt;
&gt;&gt; -Z
&gt;&gt;
&gt;&gt;
&gt;&gt; On Fri, Nov 8, 2013 at 6:42 PM, Jeremiah Peschka &lt;
&gt;&gt; jeremiah.pesc...@gmail.com&gt; wrote:
&gt;&gt;
&gt;&gt;&gt; I notice that YZ issue 130 (support for schema updates) was created 5
&gt;&gt;&gt; months ago and doesn't have any commits against it right now. Is this still
&gt;&gt;&gt; on track to get pushed into the product as part of Riak 2.0 or has no work
&gt;&gt;&gt; begun?
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks
&gt;&gt;&gt; ---
&gt;&gt;&gt; Jeremiah Peschka - Founder, Brent Ozar Unlimited
&gt;&gt;&gt; MCITP: SQL Server 2008, MVP
&gt;&gt;&gt; Cloudera Certified Developer for Apache Hadoop
&gt;&gt;&gt;
&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

