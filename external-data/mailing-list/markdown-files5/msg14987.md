---
title: "Re: How to design schema for record search."
description: ""
project: community
lastmod: 2014-10-06T08:09:57-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14987"
mailinglist_parent_id: "msg14827"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2014-10-06T08:09:57-07:00
---


Hi Yang,

Please read the "Indexing Values" section of this document, and check
out the Erlang sample code there:

http://docs.basho.com/riak/latest/dev/using/search/
--
Luke Bakken
Engineer / CSE
lbak...@basho.com


On Sun, Aug 31, 2014 at 11:50 AM, Yang Zhenguo  wrote:
&gt; Hi all,
&gt;
&gt; I have a question on record search.
&gt;
&gt; First, the value of my bucket is record.
&gt;
&gt; #solution{
&gt; user\\_id = LoginId,
&gt; problem\\_id = ProblemId,
&gt; language = Language
&gt; }.
&gt;
&gt; Secondly, got riakc\\_obj
&gt; RSolution = riakc\\_obj:new(SolutionBucket, SolutionKey, Solution)
&gt;
&gt; Finally,
&gt; riakc\\_pb\\_socket:put(ClientPid, RSolution1)
&gt;
&gt; Howevery, I cant search it via the following command:
&gt; riakc\\_pb\\_socket:search(Pid, &lt;&lt;"sln\\_index"&gt;&gt;, &lt;&lt;"language:\\*"&gt;&gt;).
&gt;
&gt; Any suggestion?
&gt;
&gt; BTW, I can get the following result:
&gt; 10&gt; riakc\\_pb\\_socket:search(Pid, &lt;&lt;"sln\\_index"&gt;&gt;, &lt;&lt;"\\*:\\*"&gt;&gt;).
&gt; {ok,{search\\_results,[{&lt;&lt;"sln\\_index"&gt;&gt;,
&gt; [{&lt;&lt;"score"&gt;&gt;,&lt;&lt;"1.00000000000000000000e+00"&gt;&gt;},
&gt; {&lt;&lt;"\\_yz\\_rb"&gt;&gt;,&lt;&lt;"Solutions\\_a"&gt;&gt;},
&gt; {&lt;&lt;"\\_yz\\_rt"&gt;&gt;,&lt;&lt;"solution\\_t"&gt;&gt;},
&gt; {&lt;&lt;"\\_yz\\_rk"&gt;&gt;,&lt;&lt;"yang\\_20140901T02:38:17"&gt;&gt;},
&gt; {&lt;&lt;"\\_yz\\_id"&gt;&gt;,
&gt;
&gt; &lt;&lt;"1\\*solution\\_t\\*Solutions\\_a\\*yang\\_20140901T02:38:17\\*48"&gt;&gt;}]}],
&gt;
&gt; Thanks in advance.
&gt;
&gt; --
&gt; Zhenguo Yang
&gt; www.prinbit.com
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

