---
title: "Re: For erlang proplist object, extractor is needed?"
description: ""
project: community
lastmod: 2015-08-08T10:56:27-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16388"
mailinglist_parent_id: "msg16386"
author_name: "Drew Kerrigan"
project_section: "mailinglistitem"
sent_date: 2015-08-08T10:56:27-07:00
---


Hello Hao,

Riak object values must be supplied to Riak as binary, are you attempting
to store the proplist using term\\_to\\_binary/1? If so, you would need to
create a custom search extractor for your values. Here is a small tutorial
on creating extractors for yokozuna:
http://docs.basho.com/riak/latest/dev/search/custom-extractors/

If you don't require the value to be specifically a proplist, a simpler
solution would be to convert your proplist to JSON which already has an
extractor built into RIak Search. A good module for JSON encoding /
decoding is mochijson2 which comes with the
https://github.com/mochi/mochiweb repo.

&gt; SimpleProplist = [{key1, &lt;&lt;"value1"&gt;&gt;}, {key2, &lt;&lt;"value2"&gt;&gt;}].
...
&gt; mochijson2:encode(SimpleProplist).
...
&gt; RiakObjectValue =
list\\_to\\_binary(lists:flatten(mochijson2:encode(SimpleProplist))).
&lt;&lt;"{\\"key1\\":\\"value1\\",\\"key2\\":\\"value2\\"}"&gt;&gt;

Cheers!
Drew

On Sat, Aug 8, 2015 at 2:06 AM Hao  wrote:

&gt; If I want to save Erlang proplist into Riak and use Riak Search 2.0, do I
&gt; need to create a Erlang Proplist extractor for solr to be able to index it?
&gt;
&gt; --
&gt; Hao
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

