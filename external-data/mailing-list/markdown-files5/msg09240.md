---
title: "RE: Cluster on startup."
description: ""
project: community
lastmod: 2012-11-07T09:25:55-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09240"
mailinglist_parent_id: "msg09231"
author_name: "Kevin Burton"
project_section: "mailinglistitem"
sent_date: 2012-11-07T09:25:55-08:00
---


One more question I am getting the error:

Unknown id: - /home/kevin/riak-1.2.1/dev/dev1/bin/riak

Here is a snippet of the raik script that I am using:

 # su - riak -c "$DAEMON $DAEMON\\_ARGS" || return 2
 su - /home/kevin/riak-1.2.1/dev/dev1/bin/riak -c "$DAEMON
$DAEMON\\_ARGS" || return 2
 su - /home/kevin/riak-1.2.1/dev/dev2/bin/riak -c "$DAEMON
$DAEMON\\_ARGS" || return 2
 su - /home/kevin/riak-1.2.1/dev/dev3/bin/riak -c "$DAEMON
$DAEMON\\_ARGS" || return 2
 su - /home/kevin/riak-1.2.1/dev/dev4/bin/riak -c "$DAEMON
$DAEMON\\_ARGS" || return 2

I am wondering if the directory /home does not exist on start up. Where is a
typical place to put these if that is the problem? Again because of disk
space I would rather only copy what I absolutely need.

-----Original Message-----
From: riak-users [mailto:riak-users-boun...@lists.basho.com] On Behalf Of
Shane McEwan
Sent: Wednesday, November 07, 2012 9:54 AM
To: riak-users@lists.basho.com
Subject: Re: Cluster on startup.

If you edit /etc/init.d/riak you should see a line like:

 su - riak -c "$DAEMON $DAEMON\\_ARGS" || return 2

in the "do\\_start" function.

If you change that line into the following 4 lines:

 su - riak -c "/path/to/your/riak/dev1/bin/riak $DAEMON\\_ARGS" ||
return 2
 su - riak -c "/path/to/your/riak/dev2/bin/riak $DAEMON\\_ARGS" ||
return 2
 su - riak -c "/path/to/your/riak/dev3/bin/riak $DAEMON\\_ARGS" ||
return 2
 su - riak -c "/path/to/your/riak/dev4/bin/riak $DAEMON\\_ARGS" ||
return 2

it should start all your Riak nodes on boot.

On 07/11/12 15:28, Kevin Burton wrote:
&gt; The problem I see is that since this script is just functions if I run 
&gt; it then it will do nothing as the functions are not called. Is there 
&gt; some kind of "include" that I am missing?
&gt;
&gt; Thank you for the link for the tutorial. I am still not sure what the 
&gt; sequence should be for calling your script on startup. All of the 
&gt; examples that I have seen startup a single executable. It looks like I 
&gt; need to either include your script into another script and start it or .
&gt; . . .

&gt;

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

