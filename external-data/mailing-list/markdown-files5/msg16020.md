---
title: "Re: [Announcement] Riak 2.1 - Features & Release Notes"
description: ""
project: community
lastmod: 2015-04-16T13:51:37-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16020"
mailinglist_parent_id: "msg16019"
author_name: "Alex De la rosa"
project_section: "mailinglistitem"
sent_date: 2015-04-16T13:51:37-07:00
---


"The write\\_once property is applied to a bucket type"... why only on bucket
types?

ex: RIAK.bucket\\_type('my\\_type').bucket('my\\_bucket').get('my\\_key')

Normally I use bucket types to use mutable data like Maps/Sets/Counters...
so I can update its contents (multiple writes) and when I have static data
I use a basic buckets:

ex: RIAK.bucket('my\\_bucket').get('my\\_key')

It makes much more sense to me to have write\\_once capabilities in this kind
of bucket that not in a bucket type bucket. I can imagine the use of a
bucket type just for indexing data in Solr and not change it... but I think
simple buckets would benefit of this feature even more.

Thanks!
Alex

On Thu, Apr 16, 2015 at 10:40 PM, Matthew Brender 
wrote:

&gt; Riak 2.1 is available [1]! Let’s start with the most fun part.
&gt;
&gt;
&gt; ## New Feature
&gt; Riak 2.1 introduces the concept of “write once” buckets, buckets whose
&gt; entries are intended to be written exactly once, and never updated or
&gt; over-written. The write\\_once property is applied to a bucket type and
&gt; may only be set at bucket creation time. This allows Riak to avoid a
&gt; "read before write" for write\\_once buckets only. More information, as
&gt; always, is available in the docs [2]
&gt;
&gt;
&gt; ## Other updates
&gt; There are a number of GitHub Issues closed with the 2.1 release. Some
&gt; noteworthy updates:
&gt;
&gt; \\* A nice solution for a corner case that could result in data loss [3]
&gt; \\* A public API related to riak\\_core\\_ring\\_manager thanks to Darach Ennis!
&gt; [4]
&gt; \\* A JSON writer for a number of riak\\_admin commands - see commit for
&gt; details [5]
&gt; \\* Updates to Yokozuna (Riak’s Solr integration) that include
&gt; additional metrics thanks to Jon Anderson! [6]
&gt;
&gt; Be sure to see the full Release Notes here [7] and the Product Advisories
&gt; [8].
&gt;
&gt; ## Upgrading
&gt; Be sure to review documentation [7] before an upgrade. It’s worth
&gt; noting that all nodes in a cluster must be at 2.1 before you set the
&gt; write\\_once property on a bucket.
&gt;
&gt; It’s worth noting that there is a known issue with Yokozuna that
&gt; causes entry loss on AAE activity [9]. Please keep this in mind before
&gt; upgrading.
&gt;
&gt;
&gt; ## Feedback please
&gt; Do you have a use case where write\\_once could be helpful? Please reply
&gt; to me directly! I would love to learn about your environment and be
&gt; able to share more details with you.
&gt;
&gt; Thanks,
&gt; Matt
&gt; Developer Advocate
&gt; twitter.com/mjbrender
&gt;
&gt;
&gt; [1] http://docs.basho.com/riak/latest/downloads/
&gt; [2] http://docs.basho.com/riak/latest/dev/advanced/write-once
&gt; [3] https://github.com/basho/riak\\_kv/issues/679
&gt; [4] https://github.com/basho/riak\\_core/pull/716
&gt; [5]
&gt; https://github.com/basho/clique/commit/0560e7a135d9a1e77646384681ae88baf0cba31a
&gt; [6] https://github.com/basho/riak\\_kv/pull/855
&gt; [7] https://github.com/basho/riak/blob/develop/RELEASE-NOTES.md
&gt; [8] http://docs.basho.com/riak/latest/community/product-advisories/
&gt; [9] https://github.com/basho/yokozuna/issues/481
&gt; ᐧ
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

