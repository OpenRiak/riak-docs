---
title: "Re: Riak KV ETS Backend?"
description: ""
project: community
lastmod: 2011-06-22T07:43:39-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03783"
mailinglist_parent_id: "msg03532"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2011-06-22T07:43:39-07:00
---


Jordon,

I used the ETS backend with success while working @ AOL. In my case I was
using it to cache ~100K, short lived (hours), largish objects.

I'm confused because you said you don't care if you lose data, but one of
Riak's main strengths is to do everything possible to avoid data loss.
 Perhaps something like memcached is more suitable?

-Ryan

On Thu, Jun 2, 2011 at 1:20 PM, Jordan West  wrote:

&gt; Mark,
&gt;
&gt; Thanks for the reply. I saw couple other postings related to the ETS
&gt; backend on the list so I decided to start prototyping a bit with it but I
&gt; haven't decided if its the solution I'm looking for yet. I'll see you
&gt; tuesday at the IGN offices for the meetup.
&gt;
&gt; Jordan
&gt;
&gt;
&gt; On Thu, Jun 2, 2011 at 9:58 AM, Mark Phillips  wrote:
&gt;
&gt;&gt; Hey Jordan,
&gt;&gt;
&gt;&gt; To address a few of your questions:
&gt;&gt;
&gt;&gt; While it's not the most optimal memory-only backend, ETS is certainly
&gt;&gt; usable in production. That said, if it runs out of gas on you at
&gt;&gt; larger scales, it wouldn't be that hard to write a better one using
&gt;&gt; the NIF interface.
&gt;&gt;
&gt;&gt; Hope that helps.
&gt;&gt;
&gt;&gt; Mark
&gt;&gt;
&gt;&gt; On Thu, May 26, 2011 at 11:15 AM, Jordan West 
&gt;&gt; wrote:
&gt;&gt; &gt; Hi all,
&gt;&gt; &gt; I'm posting to the list for the first time after talking with Mark
&gt;&gt; &gt; (ironically, at MongoSF the other day), about a use-case I'm considering
&gt;&gt; &gt; Riak for. Quickly, I should probably say I've only played with Riak on a
&gt;&gt; &gt; side project or two, and dabbled with Riak Core thanks to the new GitHub
&gt;&gt; &gt; blog. Part of the reason I'm writing the list is to determine if for my
&gt;&gt; &gt; use-case its worth investing significant time learning and prototyping
&gt;&gt; some
&gt;&gt; &gt; possible implementations with Riak(-Core). Anyways, on to the question:
&gt;&gt; &gt; Is the ETS Backend in the riak\\_kv repo something maintained and endorsed
&gt;&gt; for
&gt;&gt; &gt; use by the Basho team? I have a dataset which is well suited for a k/v
&gt;&gt; store
&gt;&gt; &gt; and needs to be eventually consistent across a cluster of Erlang
&gt;&gt; nodes. Riak
&gt;&gt; &gt; crossed my mind because of those reasons. Also, being able to embed it
&gt;&gt; into
&gt;&gt; &gt; my application like Mnesia is a plus. However, I could care less in this
&gt;&gt; &gt; case about losing data. The data is ephemeral anyways as its a map of a
&gt;&gt; &gt; string assigned per connection to a couple erlang process ids, and hence
&gt;&gt; I
&gt;&gt; &gt; want to store it in-memory (also want it in memory for performance
&gt;&gt; reasons).
&gt;&gt; &gt; This data is very read-heavy, but must be available for writes or new
&gt;&gt; &gt; connections will begin to fail. I know this is not a typical use for
&gt;&gt; Riak,
&gt;&gt; &gt; since one of its most touted benefits is not losing data but would it be
&gt;&gt; too
&gt;&gt; &gt; far of a stretch to use Riak as an eventually consistent, in-memory
&gt;&gt; &gt; key-value store embedded into an Erlang application? If not, I figure
&gt;&gt; this
&gt;&gt; &gt; is something I could build with Riak Core. Does anyone know if there
&gt;&gt; already
&gt;&gt; &gt; is a OSS project I could contribute to instead of starting from scratch
&gt;&gt; in
&gt;&gt; &gt; that case?
&gt;&gt; &gt; Thanks for your help,
&gt;&gt; &gt; Jordan West
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; &gt; riak-users mailing list
&gt;&gt; &gt; riak-users@lists.basho.com
&gt;&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt;
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

