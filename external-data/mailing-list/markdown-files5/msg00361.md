---
title: "Re: CAP controls"
description: ""
project: community
lastmod: 2010-05-13T14:05:28-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00361"
mailinglist_parent_id: "msg00360"
author_name: "Justin Sheehy"
project_section: "mailinglistitem"
sent_date: 2010-05-13T14:05:28-07:00
---


Hi, Jeremy.

It sounds like an interesting project. At this time, there is no way
to indicate in Riak that two nodes are actually on the same host (and
therefore should not overlap in replica sets). It could certainly be
done, but to do so today would require modification to the ring
partition claim logic.

Best,

-Justin



On Thu, May 13, 2010 at 4:57 PM, Jeremy Hinegardner
 wrote:
&gt; I am thinking about how to possibly replace an existing system that has heavy
&gt; I/O load, low CPU usage, with riak.  Its a file storage system, with smallish
&gt; files, a few K normally, but billions of them.
&gt;
&gt; The architecture, I think, would be one riak node per disk on the hardware,
&gt; and probably run about 16 riak nodes per physical machine.  Say I had
&gt; 4 of these machines, which would be 64 riak nodes.
&gt;
&gt; With something like this, if I set W=3 as a CAP tuning, I would want to make
&gt; sure that at least 2 of those writes where on 2 physically different machines,
&gt; so in case I had a hardware failure, and it took out a physical machine, I 
&gt; could
&gt; still operate with the other 3 machines.
&gt;
&gt; Is something like this possible with riak?
&gt;
&gt; enjoy,
&gt;
&gt; -jeremy
&gt;
&gt; --
&gt; ========================================================================
&gt;  Jeremy Hinegardner                              jer...@hinegardner.org
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

