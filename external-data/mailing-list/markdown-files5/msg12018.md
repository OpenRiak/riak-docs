---
title: "Re: Changing the filesystem"
description: ""
project: community
lastmod: 2013-08-14T00:02:30-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12018"
mailinglist_parent_id: "msg12006"
author_name: "dilip kumar"
project_section: "mailinglistitem"
sent_date: 2013-08-14T00:02:30-07:00
---


Hi John White,

Please find the riak console output:


# riak console


Node 'riak@192.168.1.105' not responding to pings.
config is OK
Exec: /usr/lib64/riak/erts-5.9.1/bin/erlexec -boot 
/usr/lib64/riak/releases/1.4.1/riak              -config /etc/riak/app.config   
          -pa /usr/lib64/riak/lib/basho-patches             -args\\_file 
/etc/riak/vm.args -- console
Root: /usr/lib64/riak
Erlang R15B01 (erts-5.9.1) [source] [64-bit] [smp:24:24] [async-threads:64] 
[kernel-poll:true]

Eshell V5.9.1  (abort with ^G)
(riak@192.168.1.105)1&gt; /usr/lib64/riak/lib/os\\_mon-2.2.9/priv/bin/memsup: Erlang 
has closed.
                                                                                
            Erlang has closed


Regards,
Dilip


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
 From: John White 
To: dilip kumar ; Hector Castro  
Cc: "riak-users@lists.basho.com"  
Sent: Tuesday, 13 August 2013 10:42 PM
Subject: Re: Changing the filesystem
 


Dilip,

Can you restart Riak with a riak stop then riak start?  If this fails a riak 
ping, can you please attach a riak console output.


-- 
John White

On August 13, 2013 at 7:25:51 PM, dilip kumar (dilip\\_nuta...@yahoo.co.in) wrote:
Hi Hector,
&gt;
&gt;
&gt;This is what happens, after changing the directories in riak\\_kv section on 
&gt;/etc/riak/app.config:
&gt;
&gt;
&gt;# riak restart
&gt;
&gt;  ok
&gt;# stanchion restart
&gt;  ok
&gt;# riak-cs start
&gt;   riak-cs failed to start within 15 seconds,
&gt;
&gt;   see the output of 'riak-cs console' for more information.
&gt;   If you want to wait longer, set the environment variable
&gt;   WAIT\\_FOR\\_ERLANG to the number of seconds to wait.
&gt;# riak ping
&gt;
&gt;    Node 'riak@machine105' not responding to pings.
&gt;
&gt;
&gt;Below is the output of `riak-cs console`
&gt;
&gt;
&gt;Eshell V5.9.1  (abort with ^G)
&gt;(riak-cs@machine105)1&gt; 12:24:36.456 [error] CRASH REPORT Process &lt;0.130.0&gt; 
&gt;with 0 neighbours exited with reason: {tcp,econnrefused} in 
&gt;gen\\_server:init\\_it/6 line 320
&gt;/usr/lib64/riak-cs/lib/os\\_mon-2.2.9/priv/bin/memsup: Erlang has closed.
&gt;                                                                        Erlang 
&gt;has closed
&gt;                                                                               
&gt;          {"Kernel pid 
&gt;terminated",application\\_controller,"{application\\_start\\_failure,riak\\_cs,{shutdown,{riak\\_cs\\_app,start,[normal,[]]}}}"}
&gt;Kernel pid terminated (application\\_controller) 
&gt;({application\\_start\\_failure,riak\\_cs,{shutdown,{riak\\_cs\\_app,start,[normal,[]]}}})
&gt;
&gt;
&gt;
&gt;
&gt;Regards,
&gt;Dilip
&gt;
&gt;
&gt;
&gt;\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; From: Hector Castro 
&gt;To: dilip kumar  
&gt;Cc: "riak-users@lists.basho.com"  
&gt;Sent: Tuesday, 13 August 2013 7:49 PM
&gt;Subject: Re: Changing the filesystem
&gt; 
&gt;
&gt;Hi Dilip,
&gt;
&gt;Are you making these changes to Riak's app.config?
&gt;
&gt;If the `riak-cs start` command isn't working, that's generally an
&gt;indicator that Riak is not running. What happens when you execute
&gt;`riak ping`?
&gt;
&gt;--
&gt;Hector
&gt;
&gt;
&gt;On Tue, Aug 13, 2013 at 9:20 AM, dilip kumar  wrote:
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; How do I change the filesystem where the RIAK CS buckets could run. Changing
&gt;&gt; the data\\_root values in storage\\_backend is not working as it is specified in
&gt;&gt; a FAQ
&gt;&gt; (http://docs.basho.com/riakcs/latest/cookbooks/faqs/riak-cs/#is-it-possible-to-specify-a-file-system-where-my-r).
&gt;&gt;
&gt;&gt; When I change the below specified data\\_root values in Storage Backend, the
&gt;&gt; "stanchion start" and "riak-cs start" are not working.
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; {add\\_paths, ["/usr/lib64/riak-cs/lib/riak\\_cs-1.3.1/ebin"]},
&gt;&gt; {storage\\_backend, riak\\_cs\\_kv\\_multi\\_backend},
&gt;&gt; {multi\\_backend\\_prefix\\_list, [{&lt;&lt;"0b:"&gt;&gt;, be\\_blocks}]},
&gt;&gt; {multi\\_backend\\_default, be\\_default},
&gt;&gt; {multi\\_backend, [
&gt;&gt;    {be\\_default, riak\\_kv\\_eleveldb\\_backend, [
&gt;&gt;        {max\\_open\\_files, 50},
&gt;&gt;        {data\\_root, "/var/lib/riak/leveldb"}
&gt;&gt;    ]},
&gt;&gt;    {be\\_blocks, riak\\_kv\\_bitcask\\_backend, [
&gt;&gt;        {data\\_root, "/var/lib/riak/bitcask"}
&gt;&gt;    ]}
&gt;&gt;
 ]},
&gt;&gt;
&gt;&gt; Regards,
&gt;&gt; Dilip
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;
&gt;
&gt;\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

