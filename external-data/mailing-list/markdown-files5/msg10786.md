---
title: "Re: Yokozuna max practical bucket limit"
description: ""
project: community
lastmod: 2013-04-08T19:11:11-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10786"
mailinglist_parent_id: "msg10770"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2013-04-08T19:11:11-07:00
---


Elias,

This is exactly why I chose not to make a core per partition. My gut
feeling was that most users are likely to have more partitions than indexed
buckets. I don't know the overhead per-core or what the limits might be.
 I would recommend the Solr mailing list for questions like that. I've
also looked at that "LotsOfCores" page before. One benefit to using Solr
is that any improvements made to it should also trickle down to Yokozuna.

That said, I still plan to allow a one-to-many mapping from index to
buckets. That would allow many KV buckets to index under the same core. I
have an idea of how to implement it. I'm fairly certain it would work just
fine. I just need to add a GitHub issue and then it's a "simple matter of
coding."

-Z


On Mon, Apr 8, 2013 at 6:25 PM, Elias Levy wrote:

&gt; Thinking about Yokozuna it would appear that for some set of hardware
&gt; specs there must be some maximum practical number of indexed buckets.
&gt; Yokozuna creates one Solr core per bucket per node. Scaling the Riak
&gt; cluster will reduce the amount of data indexed per core, but not the number
&gt; of cores node. I assume there is some static overhead per Solr core, and
&gt; thus a maximum number of indexed buckets per cluster based on the per node
&gt; resources.
&gt;
&gt; Any idea what this may be be, roughly? Has anyone tried to max out the
&gt; number of indexed buckets?
&gt;
&gt; Searching the Solr mailing list it seems some folks have up to 800 cores
&gt; per slave, but their hardware is unknown and queries are being served by
&gt; slaves, so the cores are only indexing.
&gt;
&gt; It looks like there is some ongoing work in Solr to support large number
&gt; of cores by dynamically loading and unloading them (
&gt; http://wiki.apache.org/solr/LotsOfCores). Is this something Yokozuna may
&gt; make use of? It may be to expensive a hit for latencies.
&gt;
&gt; Elias Levy
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

