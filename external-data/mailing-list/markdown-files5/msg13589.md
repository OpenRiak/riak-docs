---
title: "Re: Search schemas in 2.0pre11"
description: ""
project: community
lastmod: 2014-02-04T14:10:30-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13589"
mailinglist_parent_id: "msg13586"
author_name: "Jeremy Pierre"
project_section: "mailinglistitem"
sent_date: 2014-02-04T14:10:30-08:00
---


Hi Eric,

Thanks very much - getting a 405 response for that curl command though.
 POST to same endpoint yields the following:



Status page


Bad
Request


No handler or core found in /solr/schema/select


You can get technical details [here](
http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1
).  

Please continue your visit at our [home page](/).






Suggestions? Thanks again,

Jeremy


On Tue, Feb 4, 2014 at 1:32 PM, Eric Redmond  wrote:

&gt; Jeremy,
&gt;
&gt; The new documentation for creating schemas are still in progress, and docs
&gt; for creating a custom schema are still a few weeks out.
&gt;
&gt; curl -XPUT http://localhost:8098/search/schema 
&gt; -H'content-type:application/xml'
&gt; --data @my\\_schema\\_file.xml
&gt;
&gt; my\\_schema\\_file.xml should contain the custom solr schema XML. Note that,
&gt; when uploading a custom schema, yokozuna needs certain fields to exist. You
&gt; can add custom fields and types, but the following values are required (if
&gt; any fields are missing, your schema upload will fail).
&gt;
&gt; 
&gt; 
&gt;  required="true"/&gt;
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt;
&gt; \\_yz\\_id
&gt;
&gt; 
&gt;  /&gt;
&gt; 
&gt; 
&gt;
&gt; The full default schema can be found here.
&gt;
&gt; https://github.com/basho/yokozuna/blob/develop/priv/default\\_schema.xml
&gt;
&gt; Note that the new Riak Search (Yokozuna) is a complete rewrite, with 0% in
&gt; common (ok, maybe 10%) with the old search. That said, the search-cmd is
&gt; not applicable for new search. It exists only as a legacy artifact for
&gt; existing users who have yet to upgrade.
&gt;
&gt; Eric
&gt;
&gt;
&gt; On Feb 4, 2014, at 1:12 PM, Jeremy Pierre  wrote:
&gt;
&gt; Hi all,
&gt;
&gt; I have a single vagrant node (ubuntu 12.04) running 2.0-pre11 for some
&gt; prototyping and need the new search awesomeness. Creating and using an
&gt; index with the default schema works fine but adding my own is unclear.
&gt;
&gt; Old ML posts and Riak docs suggest using "search-cmd set-schema [the index
&gt; I want] [my schema xml]" should work but this yields a noproc error, as
&gt; does even "search-cmd show-schema ".
&gt;
&gt; e.g.
&gt;
&gt; vagrant@precise64:~$ search-cmd show-schema
&gt;
&gt; %% Schema for 'search'
&gt; RPC to 'riak@192.168.10.31' failed: {'EXIT',
&gt; {noproc,
&gt; {gen\\_server,call,
&gt; [riak\\_search\\_config,
&gt; {get\\_raw\\_schema,&lt;&lt;"search"&gt;&gt;},
&gt; infinity]}}}
&gt;
&gt; Am I missing anything obvious?
&gt;
&gt; Thanks,
&gt;
&gt; Jeremy
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

