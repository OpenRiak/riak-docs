---
title: "Re: indexing precommit hooks and the maximum number of buckets"
description: ""
project: community
lastmod: 2012-09-28T00:56:18-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08732"
mailinglist_parent_id: "msg08661"
author_name: "Alfonso De Gregorio"
project_section: "mailinglistitem"
sent_date: 2012-09-28T00:56:18-07:00
---


On Mon, Sep 24, 2012 at 1:27 PM, Alfonso De Gregorio  wrote:
&gt; Hi All,
&gt;
&gt; Does the Search indexing precommit hook adversely affects the maximum
&gt; number of buckets a Riak cluster can handle?
&gt;
&gt; More specifically: as long as we don't change their properties,
&gt; buckets are namespaces for our keys and, theoretically, there is no
&gt; limit to their number [1,2]. At the same time, Search indexes Riak KV
&gt; objects as they're written using a precommit hook -- a bucket property
&gt; [3]. I was wondering if this specific change in bucket properties may
&gt; force Riak to gossip more data around the cluster and, in turn,
&gt; degrade the performance. I'm assuming a Bitcask backend. So, how many
&gt; buckets a Riak cluster can handle while using Riak Search?

&gt;From a closer look at the architecture, I understand now that Riak
Search partitions the index entries by term across the cluster. So, I
guess some queries are slower than others, due to the increased
traffic between search nodes. Therefore I expect also the maximum
number of buckets to be affected.

Does anybody can provide me a rough estimate of how many bucket Riak
Search can handle, please?
Knowing the order of magnitude for this quantity would get me one step
closer to completing the preliminary design for a project, where I
would be more than happy to have Riak.

Thank you.

Ciao,
alfonso


&gt; Thank you for any insight on the above and kudos to all people at
&gt; Basho for all the work done on Riak.
&gt;
&gt; Ciao,
&gt; alfonso
&gt;
&gt; [1] http://wiki.basho.com/Concepts.html
&gt; [2] 
&gt; http://lists.basho.com/pipermail/riak-users\\_lists.basho.com/2010-December/002569.html
&gt; [3] http://wiki.basho.com/Riak-Search.html


--
 Alfonso De Gregorio
 http://Plaintext.crypto.lo.gy

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

