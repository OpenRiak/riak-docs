---
title: "Re: Riak Search: 'Failed to index docs' error when inserting a	document from tutorial"
description: ""
project: community
lastmod: 2014-11-24T13:10:18-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15228"
mailinglist_parent_id: "msg15226"
author_name: "Stanislav Nazarenko"
project_section: "mailinglistitem"
sent_date: 2014-11-24T13:10:18-08:00
---


Hi Luke,

I’ve been messing with my Riak cluster since our last communication and when I 
ran your command, I got the following response with siblings:

=====================
Siblings:
5VLG9CV4KsvrqGYeDhs5fK
xwAMA6aDXvOgBoGItBRA0
5IIcpzXLMtn24may8JIyQ9
=====================

(see liono.json attached)

Then I stopped Riak, deleted the data directory and recreated the bucket type, 
index, and re-inserted the liono record using the command you gave me. It 
produces the same indexing error in the log, but now if I run "curl -o 
liono.json -XGET localhost:10018/types/animals/buckets/cats/keys/liono”, I get:

=====================
{"name\\_s":"Lion-o","age\\_i":30,"leader\\_b":true}
=====================

(attached as liono2.json)



liono.json
Description: application/json

liono2.json
Description: application/json


Is there an easy way to see what Riak is sending to Solr when indexing new 
documents?

I’m going to install Riak on a clean Ubuntu machine instead of OS X to rule out 
any environmental issues.

Thank you for your replies!

Regards,
Stan


&gt; On 24 Nov 2014, at 17:13, Luke Bakken  wrote:
&gt; 
&gt; Hi Stanislav,
&gt; 
&gt; Could you please run the following command and attach the output file
&gt; in your reply?
&gt; 
&gt; curl -o liono.json -XGET localhost:10018/types/animals/buckets/cats/keys/liono
&gt; 
&gt; --
&gt; Luke Bakken
&gt; Engineer / CSE
&gt; lbak...@basho.com
&gt; 
&gt; 
&gt; On Wed, Nov 12, 2014 at 11:54 AM, Stanislav Nazarenko
&gt;  wrote:
&gt;&gt; Luke,
&gt;&gt; 
&gt;&gt; Thanks for your reply.
&gt;&gt; 
&gt;&gt; 1) I'm using a fresh checkout from
&gt;&gt; https://github.com/basho/riak-python-client. Maybe I should be using the
&gt;&gt; latest official release, 2.1.0?
&gt;&gt; 
&gt;&gt; 2) Here's what I got after running curl:
&gt;&gt; 
&gt;&gt; \\* Adding handle: conn: 0x7f9c03804400
&gt;&gt; \\* Adding handle: send: 0
&gt;&gt; \\* Adding handle: recv: 0
&gt;&gt; \\* Curl\\_addHandleToPipeline: length: 1
&gt;&gt; \\* - Conn 0 (0x7f9c03804400) send\\_pipe: 1, recv\\_pipe: 0
&gt;&gt; \\* About to connect() to localhost port 10018 (#0)
&gt;&gt; \\* Trying ::1...
&gt;&gt; \\* Trying 127.0.0.1...
&gt;&gt; \\* Connected to localhost (127.0.0.1) port 10018 (#0)
&gt;&gt;&gt; PUT /types/animals/buckets/cats/keys/liono HTTP/1.1
&gt;&gt;&gt; User-Agent: curl/7.30.0
&gt;&gt;&gt; Host: localhost:10018
&gt;&gt;&gt; Accept: \\*/\\*
&gt;&gt;&gt; Content-type: application/json
&gt;&gt;&gt; Content-Length: 46
&gt;&gt;&gt; 
&gt;&gt; \\* upload completely sent off: 46 out of 46 bytes
&gt;&gt; &lt; HTTP/1.1 204 No Content
&gt;&gt; &lt; Vary: Accept-Encoding
&gt;&gt; \\* Server MochiWeb/1.1 WebMachine/1.10.5 (jokes are better explained) is not
&gt;&gt; blacklisted
&gt;&gt; &lt; Server: MochiWeb/1.1 WebMachine/1.10.5 (jokes are better explained)
&gt;&gt; &lt; Date: Wed, 12 Nov 2014 19:48:19 GMT
&gt;&gt; &lt; Content-Type: application/json
&gt;&gt; &lt; Content-Length: 0
&gt;&gt; &lt;
&gt;&gt; \\* Connection #0 to host localhost left intact

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

