---
title: "[Python client] combining mapreduce with riak search"
description: ""
project: community
lastmod: 2014-06-02T11:51:37-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14282"
author_name: "skydelta98"
project_section: "mailinglistitem"
sent_date: 2014-06-02T11:51:37-07:00
---


Hi,

I am trying to apply a mapreduce query after doing a full document seach on
the bucket:

 client = riak.RiakClient(protocol='http', host='xx.xx.xx.xx',
http\\_port=8098)
 
s = client.fulltext\\_search('tweets', 'campaign\\_id:3')
 
s.map("""function(v) { var data = JSON.parse(v.values[0].data);
if(data.tweet.match(/GS/i)) { return [[v.key, data]]; } return []; }""") 

i followd this appoach as specified in this tutorial:
http://imcol.in/2012/04/combining-mapreduce-with-riak-search/

the problem is the code i pasted below willl not work , simply because the
method fulltext\\_search will return a dictionnary , how could i apply a
map/reduce query from the result of a fulltext search ?

and thanks for you help



--
View this message in context: 
http://riak-users.197444.n3.nabble.com/Python-client-combining-mapreduce-with-riak-search-tp4031182.html
Sent from the Riak Users mailing list archive at Nabble.com.

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

