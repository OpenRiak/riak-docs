---
title: "Re: Riak-2.2.5 progress update"
description: ""
project: community
lastmod: 2018-03-27T10:52:22-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18513"
mailinglist_parent_id: "msg18512"
author_name: "Fred Dushin"
project_section: "mailinglistitem"
sent_date: 2018-03-27T10:52:22-07:00
---


@russeldb do you have ordained values for `current`, `previous`, and `legacy` 
to test against?

Always the :bane: of riak\\_test

-Fred

&gt; On Mar 27, 2018, at 1:47 PM, Russell Brown  wrote:
&gt; 
&gt; Giddyup died when basho was shuttered. These test runs have all been on 
&gt; private infrastructure that doesn’t have a public facing interface.
&gt; 
&gt; I guess I could probably cut and paste logs into a gist for you. But I’d have 
&gt; to take the time to sanitize them, just in case. I’d rather not take that 
&gt; time unless absolutely necessary.
&gt; 
&gt; On 27 Mar 2018, at 18:43, Bryan Hunt  wrote:
&gt; 
&gt;&gt; Could you share URL for those outstanding failures please. B
&gt;&gt; 
&gt;&gt;&gt; On 27 Mar 2018, at 16:37, Russell Brown  wrote:
&gt;&gt;&gt; 
&gt;&gt;&gt; Hi Again,
&gt;&gt;&gt; 
&gt;&gt;&gt; More progress update. All the PRs are merged (thanks Bryan Hunt (ESL)
&gt;&gt;&gt; and Nick/Martin (bet365)).
&gt;&gt;&gt; 
&gt;&gt;&gt; I’m planning on tagging Riak with riak-2.2.5RC1 this week.
&gt;&gt;&gt; 
&gt;&gt;&gt; We haven’t been able to run load tests. I’m not 100% sure that all
&gt;&gt;&gt; basho’s releases had extensive load tests run, though I know that
&gt;&gt;&gt; later releases had a perf team, and MvM always load tested leveldb.
&gt;&gt;&gt; 
&gt;&gt;&gt; The aim is to have those willing parties that deploy riak, and
&gt;&gt;&gt; therefore have perf testing already set up, to test and report
&gt;&gt;&gt; back. The NHS will run load tests and report results back. I hope that 
&gt;&gt;&gt; others can do the same.
&gt;&gt;&gt; To the end we’ll probably tag RC1-noperftest.
&gt;&gt;&gt; 
&gt;&gt;&gt; There are a few failing riak tests (was Riak ever released without a
&gt;&gt;&gt; failing riak-test?) If you have the time/capacity to run riak-test,
&gt;&gt;&gt; and you’re interested in helping out, get in touch and I’ll help you
&gt;&gt;&gt; get started.
&gt;&gt;&gt; 
&gt;&gt;&gt; The failures, should one pique your interest:
&gt;&gt;&gt; 
&gt;&gt;&gt; datatypes - riak667\\_mixed-eleveldb
&gt;&gt;&gt; ensemble - ensemble\\_basic3-eleveldb ensemble\\_basic4-eleveldb
&gt;&gt;&gt; yoko - yz\\_crdt-eleveldb yz\\_solr\\_upgrade\\_downgrade-eleveldb
&gt;&gt;&gt; 
&gt;&gt;&gt; Let me know if you want to look into ensemble or yoko.
&gt;&gt;&gt; 
&gt;&gt;&gt; Still aiming to have this tagged by end-of-week.
&gt;&gt;&gt; 
&gt;&gt;&gt; Cheers
&gt;&gt;&gt; 
&gt;&gt;&gt; Russell
&gt;&gt;&gt; 
&gt;&gt;&gt; On 2 Mar 2018, at 09:44, Russell Brown  wrote:
&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Hi,
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Just an update on the progress of riak-2.2.5 release. I realize we said
&gt;&gt;&gt;&gt; "end of 2017" and then "end of Jan" and then "end of Feb" and here we
&gt;&gt;&gt;&gt; are, 1st March, spring is upon us, and still no 2.2.5. I thought it best
&gt;&gt;&gt;&gt; to at least keep you posted.
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Why no release? Well, we're not quite finished yet. In terms of what is
&gt;&gt;&gt;&gt; left:
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; - a few PRs need review and merge against the upstream Basho repo (see
&gt;&gt;&gt;&gt; [1] if you want to help there);
&gt;&gt;&gt;&gt; - Opening of PRs for gsets;
&gt;&gt;&gt;&gt; - Docs for the changes;
&gt;&gt;&gt;&gt; - Release notes;
&gt;&gt;&gt;&gt; - Tagging;
&gt;&gt;&gt;&gt; - A final round of testing (and fixing?) after all is merged;
&gt;&gt;&gt;&gt; - Client support. This is crucial, but all the above work only has
&gt;&gt;&gt;&gt; client support in the Basho erlang clients. I'm hoping the community
&gt;&gt;&gt;&gt; that uses the Java/Python/Ruby etc clients can step up here. But we can 
&gt;&gt;&gt;&gt; release Riak before all client work is done.
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; The optimist in me says 2 weeks.
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; What do I mean "release"?
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; From my point of view the release is the tags. After that I'm sincerely
&gt;&gt;&gt;&gt; hoping ESL will continue to kindly build and host the actual artifacts.
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; What's in the release?
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; As a reminder, since it's been a while since StokeCon17, this release
&gt;&gt;&gt;&gt; contains:
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; - Some developer clean-up around `make test` and `riak\\_test` to make
&gt;&gt;&gt;&gt; them more reliable/trustworthy;
&gt;&gt;&gt;&gt; - Open source MDC Repl (thanks bet365!);
&gt;&gt;&gt;&gt; - A fix for a bug in riak core claim that led to unbalanced rings[2];
&gt;&gt;&gt;&gt; - `node\\_confirms` a feature like `w` or `pw` but for physical diversity in 
&gt;&gt;&gt;&gt; durability[3];
&gt;&gt;&gt;&gt; - `participate in coverage` an admin setting that takes a node out of
&gt;&gt;&gt;&gt; the coverage plan (for example after adding a node while transfers
&gt;&gt;&gt;&gt; take place);
&gt;&gt;&gt;&gt; - Riak repl fix, and change to unsafe default behaviour[4];
&gt;&gt;&gt;&gt; - Addition of a GSet to riak data types;
&gt;&gt;&gt;&gt; - Fix to repl stats[5].
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Sorry if I missed anything. The release notes will have it all.
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Work is already begun on Riak 3.0 with OTP20 support well under way.
&gt;&gt;&gt;&gt; Some candidates for inclusion that we're working on are a new
&gt;&gt;&gt;&gt; pure-Erlang backend[6], and a radical overhaul of AAE for both intra and 
&gt;&gt;&gt;&gt; inter-cluster anti-entropy.
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Sorry for the delay, thanks for your patience. We’ll keep you posted.
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Cheers
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Russell
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Titus Systems - ti-sys.co.uk
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; [1] Coverage:
&gt;&gt;&gt;&gt; https://github.com/basho/riak\\_core/pull/917
&gt;&gt;&gt;&gt; https://github.com/basho/riak\\_kv/pull/1664
&gt;&gt;&gt;&gt; https://github.com/basho/riak\\_test/pull/1300
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Repl:
&gt;&gt;&gt;&gt; https://github.com/basho/riak\\_repl/pull/777
&gt;&gt;&gt;&gt; https://github.com/basho/riak\\_test/pull/1301
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; Node Confirms:
&gt;&gt;&gt;&gt; https://github.com/basho/riak\\_test/pull/1299
&gt;&gt;&gt;&gt; https://github.com/basho/riak\\_test/pull/1298
&gt;&gt;&gt;&gt; https://github.com/basho/riak-erlang-client/pull/371
&gt;&gt;&gt;&gt; https://github.com/basho/riak\\_core/pull/915
&gt;&gt;&gt;&gt; https://github.com/basho/riak-erlang-http-client/pull/69
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; [2]
&gt;&gt;&gt;&gt; https://github.com/basho/riak\\_core/blob/develop-2.2/docs/claim-fixes.md
&gt;&gt;&gt;&gt; [3]
&gt;&gt;&gt;&gt; https://github.com/ramensen/riak\\_kv/blob/rs-physical-promises/docs/Node-Diversity.md
&gt;&gt;&gt;&gt; [4] https://github.com/basho/riak\\_repl/issues/774
&gt;&gt;&gt;&gt; https://github.com/basho/riak\\_repl/issues/772
&gt;&gt;&gt;&gt; [5] https://github.com/basho/riak\\_repl/pull/776
&gt;&gt;&gt;&gt; [6] https://github.com/martinsumner/leveled/
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; 
&gt;&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt; 
&gt;&gt; 
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; 
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

