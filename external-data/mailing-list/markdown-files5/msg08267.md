---
title: "Basic Setup Question - Mac OS X"
description: ""
project: community
lastmod: 2012-08-11T07:56:17-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08267"
author_name: "Michael Hergenrader"
project_section: "mailinglistitem"
sent_date: 2012-08-11T07:56:17-07:00
---


Hi everyone,

I'm new to Riak and am attempting to start up a 3-node cluster on one machine 
(Mac OS X Mountain Lion) for Riak via 
http://wiki.basho.com/Basic-Cluster-Setup.html

I downloaded and expanded the tarball for Riak 1.2 (no source to build, nice 
and clean expansion). I then was able to get a single node running no problem, 
with no special configuration. My Erlang version is R15B05, if you're curious, 
but I don't think this has anything to do with it, as 1.2 is fully supportive 
of this version.

I then recursively copied the directory riak-1.2.0 (the expanded tarball file) 
three times to create top level directories riak1, riak2, and riak3. I then 
proceeded to make the suggested changes from the link, changing the port 
numbers to be unique for each instance. However, when I changed the vm.args 
part (the name of the node from riak@127.0.0.1 to riak1@127.0.0.1 and the like) 
from the link, I received the following error in the error.log file:

2012-08-09 01:21:04.288 [error] &lt;0.161.0&gt; gen\\_server riak\\_core\\_capability 
terminated with reason: no function clause matching 
orddict:fetch('riak1@127.0.0.1', 
[{'riak@127.0.0.1',[{{riak\\_core,staged\\_joins},[true,false]},{{riak\\_core,vnode\\_routing},[proxy,legacy]},...]}])
 line 72

When renaming the node in vm.args (the -name param) back to riak instead of 
riak[new\\_number], everything works fine. However, as specified in the link, the 
nodes need to have different names to cooperate with one another. As shown in 
the error log, it seems like there is a name mismatch with something else when 
I customize the name...? Is there some other config parameter that I haven't 
seen that must be changed? I tried "raw\\_name" in app.config, but this didn't 
make any difference. I appreciate any help I can get with this one. Thanks!

Michael\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

