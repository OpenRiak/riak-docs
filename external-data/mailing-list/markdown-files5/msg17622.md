---
title: "Re: Spaces in the search string"
description: ""
project: community
lastmod: 2016-09-06T06:49:09-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17622"
mailinglist_parent_id: "msg17621"
author_name: "Jason Voegele"
project_section: "mailinglistitem"
sent_date: 2016-09-06T06:49:09-07:00
---


Hi Sean,

Have you tried escaping the space in your query?

http://stackoverflow.com/questions/10023133/solr-wildcard-query-with-whitespace


&gt; On Sep 5, 2016, at 6:24 PM, sean mcevoy  wrote:
&gt; 
&gt; Hi List,
&gt; 
&gt; We have a solr index where we store something like:
&gt; &lt;&lt;"{\\"key\\_s\\":\\"ID\\",\\"body\\_s\\":\\"some test string\\"}"&gt;&gt;}],
&gt; 
&gt; Then we try to do a riakc\\_pb\\_socket:search with the pattern:
&gt; &lt;&lt;"body\\_s:\\*test str\\*"&gt;&gt;
&gt; 
&gt; The request will fail with an error message telling us to check the logs and 
&gt; in there we find:
&gt; 
&gt; 2016-09-05 13:37:29.271 [error] &lt;0.12067.10&gt;@yz\\_pb\\_search:maybe\\_process:107 
&gt; {solr\\_error,{400,"http://localhost:10014/internal\\_solr/crm\\_db.campaign\\_index/select
&gt; 
&gt; ",&lt;&lt;"{\\"error\\":{\\"msg\\":\\"no
&gt; field name specified in query and no default specified via 'df' 
&gt; param\\",\\"code\\":400}}\\n"&gt;&gt;}} 
&gt; [{yz\\_solr,search,3,[{file,"src/yz\\_solr.erl"},{line,284}]},{yz\\_pb\\_search,maybe\\_process,3,[{file,"src/yz\\_pb\\_search.erl"},{line,78}]},{riak\\_api\\_pb\\_server,process\\_message,4,[{file,"src/riak\\_api\\_pb\\_server.erl"},{line,388}]},{riak\\_api\\_pb\\_server,connected,2,[{file,"src/riak\\_api\\_pb\\_server.erl"},{line,226}]},{riak\\_api\\_pb\\_server,decode\\_buffer,2,[{file,"src/riak\\_api\\_pb\\_server.erl"},{line,364}]},{gen\\_fsm,handle\\_msg,7,[{file,"gen\\_fsm.erl"},{line,505}]},{proc\\_lib,init\\_p\\_do\\_apply,3,[{file,"proc\\_lib.erl"},{line,239}]}]
&gt; 
&gt; 
&gt; Through experiment I've figured out that it doesn't like the space as it 
&gt; seems to think the part of the search string after that space is a new key to 
&gt; search for. Which seems fair enough.
&gt; 
&gt; Anyone know of a work-around? Or am I formatting my request incorrectly?
&gt; 
&gt; Thanks in advance.
&gt; //Sean.
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com





\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

