---
title: "Re: badrecord during transfer"
description: ""
project: community
lastmod: 2013-11-27T10:18:50-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13108"
mailinglist_parent_id: "msg13105"
author_name: "Heinz Nikolaus Gies"
project_section: "mailinglistitem"
sent_date: 2013-11-27T10:18:50-08:00
---


If it helps: I’ve seen that too as part of my own riak\\_core app, created with 
stagedevrel. Haven’t had time to debug that yet.


---
Cheers,
Heinz Nikolaus Gies
he...@licenser.net



On Nov 27, 2013, at 3:19 PM, Brian Sparrow  wrote:

&gt; Hi Ivan,
&gt; 
&gt; Could you please attach a `riak-debug` from riak@10.197.0.55 and 
&gt; riak@10.196.50.172?
&gt; 
&gt; Thanks!
&gt; Brian
&gt; 
&gt; -- 
&gt; Brian Sparrow
&gt; Developer Advocate
&gt; Basho Technologies
&gt; 
&gt; Sent with Sparrow
&gt; 
&gt; On Tuesday, November 26, 2013 at 7:55 PM, Ivan Skytte Jørgensen wrote:
&gt; 
&gt;&gt; I have a three-node cluster (version 1.4.2)
&gt;&gt; 
&gt;&gt; One node is trying to send a partition to another node but encounters this 
&gt;&gt; error every time:
&gt;&gt; 
&gt;&gt; 2013-11-27 00:48:15.468 [error] 
&gt;&gt; &lt;0.29095.34&gt;@riak\\_core\\_handoff\\_sender:start\\_fold:269 ownership\\_transfer 
&gt;&gt; transfer of riak\\_search\\_vnode from 'riak@10.197.0.55' 
&gt;&gt; 1118962191081472546749696200048404186924073353216 to 'riak@10.196.50.172' 
&gt;&gt; 1118962191081472546749696200048404186924073353216 failed because of 
&gt;&gt; error:{badrecord,ho\\_acc} 
&gt;&gt; [{riak\\_core\\_handoff\\_sender,start\\_fold,5,[{file,"src/riak\\_core\\_handoff\\_sender.erl"},{line,193}]}]
&gt;&gt; 
&gt;&gt; I have tried attaching to riak with riak attach and doing a repair, but:
&gt;&gt; 
&gt;&gt; (riak@10.197.0.55)1&gt; 
&gt;&gt; riak\\_kv\\_vnode:repair(1118962191081472546749696200048404186924073353216).
&gt;&gt; ownership\\_change\\_in\\_progress
&gt;&gt; 
&gt;&gt; How do I get out of this sticky situation? The transfer never completes 
&gt;&gt; because the index is damaged and I cannot repair it because it is scheduled 
&gt;&gt; for handoff.
&gt;&gt; 
&gt;&gt; Would a force-remove allow me to repair the partition and then rejoin the 
&gt;&gt; cluster?
&gt;&gt; 
&gt;&gt; /isj
&gt;&gt; 
&gt;&gt; 
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com



signature.asc
Description: Message signed with OpenPGP using GPGMail
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

