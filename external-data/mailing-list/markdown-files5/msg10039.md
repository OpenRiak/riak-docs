---
title: "RE: Nightly Prune"
description: ""
project: community
lastmod: 2013-02-07T11:21:18-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10039"
mailinglist_parent_id: "msg10038"
author_name: "Chad Engler"
project_section: "mailinglistitem"
sent_date: 2013-02-07T11:21:18-08:00
---


I'm writing the prune script in Node, and the dates are stored as int 
timestamps so that isn't an issue.

 

I was under the impression that secondary indexes only worked on the LevelDB 
backend, we have a solid write throughput (maybe 10ish writes per second) and 
very little read (aside from the prune). Would we see significant performance 
degradation by switching from Bitcask?

 

-Chad

 

From: riak-users [mailto:riak-users-boun...@lists.basho.com] On Behalf Of 
Stephan Kepser
Sent: Thursday, February 07, 2013 1:50 PM
To: riak-users@lists.basho.com
Subject: Re: Nightly Prune

 

Hi Chad,

I recommend looking at secondary indexes. You can set up a secondary index with 
the relevant date from your entry. Note that there is no data type date, only 
string or integer. But you can easily convert a date into a string or an 
integer for your query purposes. Secondary indexes even provide you with a way 
to query for date ranges. And they are fast. So, I think they'd serve your 
purpose.

Best,

Stephan

-- 
Dr. Stephan Kepser | Senior IT-Consultant

codecentric AG | Merscheider Stra√üe 1 | 42699 Solingen | Deutschland
tel: +49 (0) 212.23362845 | fax: +49 (0) 212.23362879 | mobil: +49 (0) 
151.52883635
www.codecentric.de | blog.codecentric.de | www.meettheexperts.de | 
www.more4fi.de

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

