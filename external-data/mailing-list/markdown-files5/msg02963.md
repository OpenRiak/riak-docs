---
title: "Slow inserts"
description: ""
project: community
lastmod: 2011-04-11T09:01:19-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02963"
author_name: "Jens Rantil"
project_section: "mailinglistitem"
sent_date: 2011-04-11T09:01:19-07:00
---


Hi,

I have set up a 5-node test environment to give Riak a test run. I wrote a 
Python script (http://pastebin.com/geQ00Ngb) that put 53780 key-values into my 
cluster. Using round robin, 11 threads inserted these values in ~70 seconds. 
This means an average of ~750 key-values/second. Is this the expected speed of 
inserts? It seems quite slow. The Mozilla benchmark 
(http://blog.mozilla.com/data/2010/08/16/benchmarking-riak-for-the-mozilla-test-pilot-project/)
 reached &gt; 1500 ops/second for significantly bigger values than my benchmark.

Additional information:
\\* Four of the nodes were not doing anything else.
\\* n\\_val=3
\\* For every insert, w=1 and dw=0.
\\* All nodes are using riak\\_0.14.1-1\\_amd64.deb and I have not changed any of the 
defaults settings except Erlang -cookie and -name.

Thanks,
Jens Rantil
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

