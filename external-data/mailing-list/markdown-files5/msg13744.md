---
title: "Re: CRDT on Riak 2.0"
description: ""
project: community
lastmod: 2014-03-04T07:04:38-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13744"
mailinglist_parent_id: "msg13742"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2014-03-04T07:04:38-08:00
---


Hi Tim,

We punted on sub-type queries for 2.0. We intend to address them in 2.1, so
yes you must fetch the entire set or map in order to find out things like
membership and cardinality.


On Tue, Mar 4, 2014 at 8:01 AM, EmiNarcissus  wrote:

&gt; Hi,
&gt;
&gt; I’m now porting the riak 2.0 driver for twisted, it works beautifully now
&gt; with what Yokozuna provides, also have a great back-port ability,really
&gt; appreciate everything what this team have brought us XD. But because it
&gt; still in lacks of document, I must read the implementation both from ruby
&gt; and riakc-erl repo to get it started(erlang is okay for me, but I’m not
&gt; quite familiar with ruby,sadly looks like only ruby’s client implementation
&gt; is throughly right now).
&gt;
&gt; So here is my question on the datatype implementation on CRDT system.
&gt;
&gt; From the code I can tell , fetch\\_dt/update\\_dt/modify\\_dt is what have been
&gt; exposed from the pbc interface. Now I’m more focused on Set object, so each
&gt; time client will fetch the whole set(fetch\\_dt) from the server and build
&gt; the set on the local end, and maintain a add/remove operation list to send
&gt; to the server when user does a update/add/remove action.
&gt;
&gt; But I’m a little bit confused here, like what redis provides, a set have a
&gt; ismember function is being done on the server instead of fetch/test manner.
&gt; Does this available for Riak 2.0 Set datatype(just like what Riak1.4
&gt; Counter object provided, it will do the operation on the server
&gt; side,MISMEMBER a b, it will either return True/False). Currently I only can
&gt; see add/update/delete operation on pbc proto file, and don’t have something
&gt; alike, is that in a Todo list ? or will not implement at all(I will
&gt; reconsider how the data should be structured if so). This feature will be
&gt; really helpful when the dataset is big enough(like more than 10k values in
&gt; it.)
&gt;
&gt;
&gt; Best,
&gt; Tim Lee
&gt;
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;



-- 
Sean Cribbs 
Software Engineer
Basho Technologies, Inc.
http://basho.com/
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

