---
title: "Re: Issues with high node load and very slow response"
description: ""
project: community
lastmod: 2014-07-28T08:53:31-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14562"
mailinglist_parent_id: "msg14558"
author_name: "Jordan West"
project_section: "mailinglistitem"
sent_date: 2014-07-28T08:53:31-07:00
---


adding the list back


On Mon, Jul 28, 2014 at 8:50 AM, Jordan West  wrote:

&gt; On Mon, Jul 28, 2014 at 7:43 AM, Chaim Solomon  &gt; wrote:
&gt;&gt;
&gt;&gt; I'm getting lots of these still:
&gt;&gt; 2014-07-28 10:40:52.915 [info] &lt;0.822.0&gt;@yz\\_kv:should\\_handoff:157 waiting
&gt;&gt; for bucket types prefix and indexes to agree between 'riak@10.128.179.86'
&gt;&gt; and 'riak@10.128.220.242'
&gt;&gt; 2014-07-28 10:41:22.527 [info] &lt;0.30017.425&gt;@yz\\_kv:should\\_handoff:157
&gt;&gt; waiting for bucket types prefix and indexes to agree between '
&gt;&gt; riak@10.128.179.86' and 'riak@10.128.220.242'
&gt;&gt;
&gt;
&gt; Unfortunately, there is more than one case that can cause this message to
&gt; occur. Can you try one more command (from any node in the cluster):
&gt;
&gt; ```
&gt; rpc:multicall([node() | nodes()], yz\\_solr, cores, [], 5000).
&gt; ```
&gt;
&gt; I'm working on a patch to improve the logging here (so running these
&gt; commands won't be necessary) but that may take a bit to get reviewed.
&gt;
&gt;
&gt;&gt; Only one node (10.128.220.135) is giving me this:
&gt;&gt; 2014-07-28 10:31:31.618 [error] &lt;0.847.706&gt;@yz\\_kv:index:206 failed to
&gt;&gt; index object {&lt;&lt;"linkmeta"&gt;&gt;,&lt;&lt;"http://scn.sap.com/thread/3262664"&gt;&gt;}
&gt;&gt; with error {"Failed to index docs",{error,req\\_timedout}} because
&gt;&gt; [{yz\\_solr,index,3,[{file,"src/yz\\_solr.erl"},{line,192}]},{yz\\_kv,index,7,[{file,"src/yz\\_kv.erl"},{line,258}]},{yz\\_kv,index,3,[{file,"src/yz\\_kv.erl"},{line,193}]},{riak\\_kv\\_vnode,actual\\_put,6,[{file,"src/riak\\_kv\\_vnode.erl"},{line,1416}]},{riak\\_kv\\_vnode,perform\\_put,3,[{file,"src/riak\\_kv\\_vnode.erl"},{line,1404}]},{riak\\_kv\\_vnode,do\\_put,7,[{file,"src/riak\\_kv\\_vnode.erl"},{line,1199}]},{riak\\_kv\\_vnode,handle\\_command,3,[{file,"src/riak\\_kv\\_vnode.erl"},{line,485}]},{riak\\_core\\_vnode,vnode\\_command,3,[{file,"src/riak\\_core\\_vnode.erl"},{line,345}]}]
&gt;&gt;
&gt;&gt;
&gt; My suspicion is the command above will shed some light on the error here.
&gt;
&gt; Also, so we don't leave behind the main issue of CPU usage, is this node
&gt; one of the two having problems? Which is the other?
&gt;
&gt; Thanks!
&gt; Jordan
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

