---
title: "Link Walking via Map Reduce"
description: ""
project: community
lastmod: 2011-06-22T16:03:50-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg03789"
author_name: "Andrew Berman"
project_section: "mailinglistitem"
sent_date: 2011-06-22T16:03:50-07:00
---


Hello,

I'm having issues link walking using the Map Reduce link function. I am
using HEAD from Git, so it's possible that's the issue, but here is what is
happening.

I've got two buckets, user and user\\_email where user\\_email contains a link
to the user.

When I run this:

{
 "inputs": [
 [
 "user\\_email",
 "myem...@email.com"
 ]
 ],
 "query": [
 {
 "link": {
 "bucket": "user",
 "tag": "user"
 }
 }
 ]
}

I only get [["user","LikiWUPJSFuxtrhCYpsPfg","user"]] returned. The second
I add a map function, even the simplest one (function(v) { [v] } I get a
"map\\_reduce error":

{
 "inputs": [
 [
 "user\\_email",
 "myem...@email.com"
 ]
 ],
 "query": [
 {
 "link": {"bucket":"user", "tag":"user"}
 }
 ,{
 "map": {
 "language": "javascript",
 "source": "function(v) { return[v]; }"
 }
 }
 ]
}

Is this functionality broken? I am following what it says on the Wiki for
the MapRed version of link walking. When I use HTTP link walking, it works
correctly.

Thanks,

Andrew
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

