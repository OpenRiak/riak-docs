---
title: "Yokozuna and Spatial Search"
description: ""
project: community
lastmod: 2013-09-07T18:59:43-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12206"
author_name: "Vincenzo Vitale"
project_section: "mailinglistitem"
sent_date: 2013-09-07T18:59:43-07:00
---


Hi,

I'm trying to make SpatialSearch in my application working with Yokozuna.
(develop branch, hash 601560bf9ea0859e598957c13733fbbb0e656e17 of the 6th
september)

The json object looks like this:

{"where":{"latitude":7430019,"longitude":4210023,"geolocation\\_p":"7.430019,4.210023"},"timestamp":"2013-09-08T01:10:07.752Z"}

since there is already a dynamic field for \\*\\_p defined.

But the query:
http://127.0.0.1:8093/solr/my-index/select?q=\\*:\\*&fq={!geofilt}&spatial=true&pt=7.430019%2C4.210023&sfield=where\\_geolocation\\_p&d=1

returns the error:
can not use FieldCache on multivalued field:
where\\_geolocation\\_p\\_0\\_coordinate


Looking at this:
http://stackoverflow.com/questions/7068605/solr-spatial-search-can-not-use-fieldcache-on-multivalued-field

it seems the problem is the missing parameter and the dynamic field
declaration for \\*\\_coordinates in the configuration file.

Is this the cause of the problem?

The \\_yz\\_default.xml files in the data directory seems overwritten every
time riak is restarted, is there a way to customize the solr configuration
per bucket?


Thanks in advance,
Vincenzo.


--
If your e-mail inbox is out of control, check out http://sanebox.com/t/mmzve.
I love it.
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

