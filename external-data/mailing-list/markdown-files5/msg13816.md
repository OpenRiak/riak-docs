---
title: "Re: Partitions placement"
description: ""
project: community
lastmod: 2014-03-17T08:51:39-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13816"
mailinglist_parent_id: "msg13807"
author_name: "Daniel Iwan"
project_section: "mailinglistitem"
sent_date: 2014-03-17T08:51:39-07:00
---


Hi Ciprian

Thanks for reply
I'm assuming 'overlay' you are talking about are vnodes?
When creating cluster and joining 2 nodes to first node (3-node cluster)
there should be possible distributing partitions to guarantee 3 copies are
on distinct machines. Simple sequential vnode assignment would do. 
Then I guess it's a matter of calculating distances between indexes within
each of nodes. Partitions that do not meet that criteria should be moved
when scaling up.

Scaling up in my opinion should be easier as more nodes in the cluster,
sequential partitions are more spread horizontally so probability that a
server will hold sequential partitions decreases.

With 3 servers it should be guaranteed that at least 2 copies are on
distinct servers. On 5 servers should be guaranteed 3 copies are on distinct
servers. etc.

Does Riak give such guarantees?

Can target\\_n\\_val be changed later. What are the implications? Is there a
description what algorithm will be used for partition placement?

Cheers
Daniel








--
View this message in context: 
http://riak-users.197444.n3.nabble.com/Partitions-placement-tp4030664p4030679.html
Sent from the Riak Users mailing list archive at Nabble.com.

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

