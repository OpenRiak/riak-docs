---
title: "Re: trouble running riak-cs"
description: ""
project: community
lastmod: 2016-05-12T20:31:05-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17338"
mailinglist_parent_id: "msg17336"
author_name: "Kazuhiro Suzuki"
project_section: "mailinglistitem"
sent_date: 2016-05-12T20:31:05-07:00
---


Hi David,

According to the error 'error\\_verifying\\_props', it looks like your
Riak KV couldn't be configured for Riak CS. Please make sure if Riak
KV is configured as to allow\\_mult[1] and backend[2].

[1]: 
https://docs.basho.com/riak/cs/2.1.1/cookbooks/configuration/riak-for-cs/#allowing-for-sibling-creation
[2]: 
https://docs.basho.com/riak/cs/2.1.1/cookbooks/configuration/riak-for-cs/#setting-up-the-proper-riak-backend

Thanks,
Kaz

On Thu, May 12, 2016 at 7:17 AM, Kensiski, David  wrote:
&gt; I am installing Riak CS on Ubuntu 14.04 based on the instructions here:
&gt; https://docs.basho.com/riak/cs/2.1.1/cookbooks/installing/
&gt;
&gt; I followed the instructions for configuring /etc/riak-cs/riak-cs.conf:
&gt;
&gt; root@p01:~# diff /etc/riak-cs/riak-cs.conf-ORIG /etc/riak-cs/riak-cs.conf
&gt; 8c8
&gt; &lt; listener = 127.0.0.1:8080
&gt; ---
&gt;&gt; listener = 192.168.12.61:8080
&gt; 16c16
&gt; &lt; riak\\_host = 127.0.0.1:8087
&gt; ---
&gt;&gt; riak\\_host = 192.168.12.61:8087
&gt; 25c25
&gt; &lt; stanchion\\_host = 127.0.0.1:8085
&gt; ---
&gt;&gt; stanchion\\_host = 192.168.12.61:8085
&gt; 515c515
&gt; &lt; nodename = riak-cs@127.0.0.1
&gt; ---
&gt;&gt; nodename = riak-cs@192.168.12.61
&gt;
&gt;
&gt; As well as /etc/stanchion/stanchion.conf:
&gt;
&gt; root@p01:~# diff /etc/stanchion/stanchion.conf-ORIG
&gt; /etc/stanchion/stanchion.conf
&gt; 7c7
&gt; &lt; listener = 127.0.0.1:8085
&gt; ---
&gt;&gt; listener = 192.168.12.61:8085
&gt; 29c29
&gt; &lt; riak\\_host = 127.0.0.1:8087
&gt; ---
&gt;&gt; riak\\_host = 192.168.12.61:8087
&gt; 238c238
&gt; &lt; nodename = stanchion@127.0.0.1
&gt; ---
&gt;&gt; nodename = stanchion@192.168.12.67
&gt;
&gt;
&gt; But when I go to start riak-cs, it times out and suggest I run the console:
&gt;
&gt; root@p01:~# riak-cs console
&gt; config is OK
&gt; -config /var/lib/riak-cs/generated.configs/app.2016.05.11.15.06.49.config
&gt; -args\\_file /var/lib/riak-cs/generated.configs/vm.2016.05.11.15.06.49.args
&gt; -vm\\_args /var/lib/riak-cs/generated.configs/vm.2016.05.11.15.06.49.args
&gt; Exec: /usr/lib/riak-cs/erts-5.10.3/bin/erlexec -boot
&gt; /usr/lib/riak-cs/releases/2.1.0/riak-cs -config
&gt; /var/lib/riak-cs/generated.configs/app.2016.05.11.15.06.49.config -args\\_file
&gt; /var/lib/riak-cs/generated.configs/vm.2016.05.11.15.06.49.args -vm\\_args
&gt; /var/lib/riak-cs/generated.configs/vm.2016.05.11.15.06.49.args
&gt; -pa /usr/lib/riak-cs/lib/basho-patches -- console
&gt; Root: /usr/lib/riak-cs
&gt; Erlang R16B02\\_basho8 (erts-5.10.3) [source] [64-bit] [smp:16:16]
&gt; [async-threads:64] [kernel-poll:true] [frame-pointer]
&gt;
&gt;
&gt; =INFO REPORT==== 11-May-2016::15:06:50 ===
&gt; opening log file: "/var/log/riak-cs/access.log.2016\\_05\\_11\\_22"
&gt; Setup running ...
&gt; Directories verified. Res = {[ok],[]}
&gt; Setup finished processing hooks ...
&gt; Eshell V5.10.3 (abort with ^G)
&gt; (riak-cs@192.168.12.61)1&gt; [os\\_mon] memory supervisor port (memsup): Erlang
&gt; has closed
&gt; [os\\_mon] cpu supervisor port (cpu\\_sup): Erlang has closed
&gt; {"Kernel pid
&gt; terminated",application\\_controller,"{application\\_start\\_failure,riak\\_cs,{error\\_verifying\\_props,{riak\\_cs\\_app,start,[normal,[]]}}}"}
&gt;
&gt; Crash dump was written to: /var/log/riak-cs/erl\\_crash.dump
&gt; Kernel pid terminated (application\\_controller)
&gt; ({application\\_start\\_failure,riak\\_cs,{error\\_verifying\\_props,{riak\\_cs\\_app,start,[normal,[]]}}})
&gt;
&gt;
&gt; I'm sure this is not the first time you've heard this, but that error output
&gt; means nothing to me. What am I missing? I'm happy to send the entire crash
&gt; dump but it looks like the meat of it is in the first few lines:
&gt;
&gt; root@p01:~# head -20 /var/log/riak-cs/erl\\_crash.dump
&gt; =erl\\_crash\\_dump:0.2
&gt; Wed May 11 15:06:52 2016
&gt; Slogan: Kernel pid terminated (application\\_controller)
&gt; ({application\\_start\\_failure,riak\\_cs,{error\\_verifying\\_props,{riak\\_cs\\_app,start,[normal,[]]}}})
&gt; System version: Erlang R16B02\\_basho8 (erts-5.10.3) [source] [64-bit]
&gt; [smp:16:16] [async-threads:64] [kernel-poll:true] [frame-pointer]
&gt; Compiled: Thu Apr 2 18:09:02 2015
&gt; Taints:
&gt; Atoms: 13672
&gt; =memory
&gt; total: 43277632
&gt; processes: 3738368
&gt; processes\\_used: 3645720
&gt; system: 39539264
&gt; atom: 388601
&gt; atom\\_used: 371341
&gt; binary: 61696
&gt; code: 8759918
&gt; ets: 4160224
&gt; =hash\\_table:atom\\_tab
&gt; size: 9643
&gt; used: 7278
&gt;
&gt;
&gt; Any help would be greatly appreciated. Thanks!
&gt;
&gt; --Dave
&gt;
&gt;
&gt; --
&gt; David Kensiski
&gt; Director of Technical Infrastructure
&gt; School Loop
&gt;
&gt; In school and on track.
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;



-- 
Kazuhiro Suzuki | Basho Technologies, Inc

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

