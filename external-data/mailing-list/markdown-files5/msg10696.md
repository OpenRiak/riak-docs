---
title: "MapReduce: map then inputs"
description: ""
project: community
lastmod: 2013-04-04T13:00:43-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10696"
author_name: "Jimmy Ho"
project_section: "mailinglistitem"
sent_date: 2013-04-04T13:00:43-07:00
---


Hi guys,

I am sure I've seen it somewhere explaining what I'd like to do but can no
longer find the link, hope someone could help? Thanks.

I have a 'user' bucket which stores a list of keys within the data,
pointing to other users as friends...

ie
For User "mathew"

data: {
"friends": [ "john", "mark", "luke" ]
}


How would I get the keys of mathew's friends' friends via map reduce?

inputs: [["user", "mathew"]],
query: [ {map:... get a list of [[bucket, friend\\_key]] }

What is the next phase to read the bucket/key values as the new inputs?

Thanks guys,
Regards, Jimmy
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

