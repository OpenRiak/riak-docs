---
title: "RE: Error interpretation"
description: ""
project: community
lastmod: 2013-03-12T16:53:59-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10383"
mailinglist_parent_id: "msg10382"
author_name: "Kevin Burton"
project_section: "mailinglistitem"
sent_date: 2013-03-12T16:53:59-07:00
---


Thank you for speaking up. The riak logs are not much more help (at least to 
me). The crash.log looks like:

 

2013-03-12 18:09:58 =ERROR REPORT====

\\*\\* State machine &lt;0.686.0&gt; terminating

\\*\\* Last event in was 
{work,{fold,#Fun,#Fun},{fsm,{97787215,{753586781748746817198774991869333432010090217472,'riak@172.16.33.138'}},&lt;0.25660.27&gt;}}

\\*\\* When State == ready

\\*\\* Data == {state,{[],[]},&lt;0.687.0&gt;,[],undefined}

\\*\\* Reason for termination =

\\*\\* 
{timeout,{gen\\_server,call,[&lt;0.689.0&gt;,{work,&lt;0.687.0&gt;,{fold,#Fun,#Fun},{fsm,{97787215,{753586781748746817198774991869333432010090217472,'riak@172.16.33.138'}},&lt;0.25660.27&gt;}}]}}

2013-03-12 18:09:58 =CRASH REPORT====

 crasher:

 initial call: riak\\_core\\_vnode\\_worker\\_pool:init/1

 pid: &lt;0.686.0&gt;

 registered\\_name: []

 exception exit: 
{{timeout,{gen\\_server,call,[&lt;0.689.0&gt;,{work,&lt;0.687.0&gt;,{fold,#Fun,#Fun},{fsm,{97787215,{753586781748746817198774991869333432010090217472,'riak@172.16.33.138'}},&lt;0.25660.27&gt;}}]}},[{gen\\_fsm,terminate,7,[{file,"gen\\_fsm.erl"},{line,611}]},{proc\\_lib,init\\_p\\_do\\_apply,3,[{file,"proc\\_lib.erl"},{line,227}]}]}

 ancestors: [&lt;0.684.0&gt;,riak\\_core\\_vnode\\_sup,riak\\_core\\_sup,&lt;0.138.0&gt;]

 messages: 
[{#Ref&lt;0.0.40.231987&gt;,ok},{'$gen\\_all\\_state\\_event',{checkin,&lt;0.689.0&gt;}}]

 links: [&lt;0.684.0&gt;]

 dictionary: []

 trap\\_exit: false

 status: running

 heap\\_size: 610

 stack\\_size: 24

 reductions: 219

 neighbours:

. . . .

 

The erlang log looks like:

 

18:09:58.956 [error] gen\\_fsm &lt;0.686.0&gt; in state ready terminated with reason: 
{timeout,{gen\\_server,call,[&lt;0.689.0&gt;,{work,&lt;0.687.0&gt;,{fold,#Fun,#Fun},{fsm,{97787215,{753586781748746817198774991869333432010090217472,'riak@172.16.33.138'}},&lt;0.25660.27&gt;}}]}}^M

18:09:58.961 [error] CRASH REPORT Process &lt;0.686.0&gt; with 0 neighbours exited 
with reason: 
{timeout,{gen\\_server,call,[&lt;0.689.0&gt;,{work,&lt;0.687.0&gt;,{fold,#Fun,#Fun},{fsm,{97787215,{753586781748746817198774991869333432010090217472,'riak@172.16.33.138'}},&lt;0.25660.27&gt;}}]}}
 in gen\\_fsm:terminate/7 line 611

. . . .

 

The console.log looks like:

 

2013-03-12 18:09:58.961 [error] &lt;0.686.0&gt; CRASH REPORT Process &lt;0.686.0&gt; with 0 
neighbours exited with reason: 
{timeout,{gen\\_server,call,[&lt;0.689.0&gt;,{work,&lt;0.687.0&gt;,{fold,#Fun,#Fun},{fsm,{97787215,{753586781748746817198774991869333432010090217472,'riak@172.16.33.138'}},&lt;0.25660.27&gt;}}]}}
 in gen\\_fsm:terminate/7 line 611

 

About all I can get from this is that something in eleveldb\\_backend is not 
happy. I am not sure how to fix it.

 

The eleveldb config in app.config looks like:

 

%% eLevelDB Config

{eleveldb, [

 {data\\_root, "/var/lib/riak/leveldb"},

 {max\\_open\\_files, 100},

 {cach\\_size, 83886080}

 ]},

From: riak-users [mailto:riak-users-boun...@lists.basho.com] On Behalf Of 
Jeremiah Peschka
Sent: Tuesday, March 12, 2013 6:34 PM
To: 
Subject: Re: Error interpretation

 

Your Riak search hook crashed. There is a bad argument being sent to Erlang. 
Check your Riak logs for more detail.


--

Jeremiah Peschka - Founder, Brent Ozar Unlimited

MCITP: SQL Server 2008, MVP

Cloudera Certified Developer for Apache Hadoop


On Mar 12, 2013, at 4:23 PM, "Kevin Burton"  wrote:

I am writing a value to a 4 node Riak cluster with a CorrugatedIron client and 
am getting the following error:

 

Riak returned an error. Code '0'. Message: 
{precommit\\_fail,{hook\\_crashed,{riak\\_search\\_kv\\_hook,precommit,error,badarg}}}

 

I donâ€™t know how to interpret this error. Any help would be appreciated.

 

Thank you.

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

