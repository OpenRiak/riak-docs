---
title: "Re: v1.0.3 search merge index preventing partition handoff?"
description: ""
project: community
lastmod: 2012-01-31T08:10:13-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06473"
mailinglist_parent_id: "msg06442"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2012-01-31T08:10:13-08:00
---


On Thu, Jan 26, 2012 at 9:48 PM, Ryan Fisher wrote:

&gt;
&gt; I used the RAW tag to try and drop that log in, not sure why that didn't
&gt; come through but anyway it is the tainted ring message! Good guess!
&gt; Let me try again...
&gt; ---------------
&gt; 2012-01-26 08:49:38.120 [error]
&gt; &lt;0.1434.0&gt;@riak\\_core\\_ring:check\\_tainted:216
&gt; Error: riak\\_core\\_ring/ring\\_ready called on tainted ring
&gt; 2012-01-26 08:49:38.179 [error]
&gt; &lt;0.1453.0&gt;@riak\\_core\\_ring:check\\_tainted:216
&gt; Error: riak\\_core\\_ring/ring\\_ready called on tainted ring
&gt; 2012-01-26 08:49:42.796 [error] &lt;0.117.0&gt;@riak\\_core\\_ring:check\\_tainted:216
&gt; Error: riak\\_core\\_gossip/send\\_ring\\_to :: Sending tainted ring over gossip
&gt; 2012-01-26 08:49:42.882 [error] &lt;0.263.0&gt;@riak\\_core\\_ring:check\\_tainted:216
&gt; Error: riak\\_core\\_ring/ring\\_ready called on tainted ring
&gt; 2012-01-26 08:49:42.884 [error]
&gt; &lt;0.4441.0&gt;@riak\\_core\\_ring:check\\_tainted:216
&gt; Error: riak\\_core\\_ring/ring\\_ready called on tainted ring
&gt; ---------------
&gt;
&gt; So is that ok to have? Or is something still not right in the ring?
&gt;

This is not a good msg to have. I'm not sure if it's causing you any harm
but Riak has two notions of the ring. A per-node ring which is internal to
the node and a gossiped ring which all nodes share with each other. For
some reason, an internal ring has leaked into the gossip. Do you notice
any issues with your cluster? What does `riak-admin ring\\_status` and
`riak-admin member\\_status` show? What about `riak-admin transfers`?


&gt;
&gt; So in order to re-index all the keys can I run the simply run the
&gt; search-cmd
&gt; on the bucket w/ some params? Or do I need to use one of the clients to
&gt; literately open each key, and then re-save it?
&gt;

No, there is no simple command to run to reindex everything in Search.
 It's a matter of iterating all keys and reindexing them one-by-one.
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

