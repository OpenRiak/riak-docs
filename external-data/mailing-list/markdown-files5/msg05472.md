---
title: "Re: 2i for single-result lookup"
description: ""
project: community
lastmod: 2011-11-08T04:42:52-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05472"
mailinglist_parent_id: "msg05462"
author_name: "Kresten Krab Thorup"
project_section: "mailinglistitem"
sent_date: 2011-11-08T04:42:52-08:00
---


Or for something simple like this you can also use my riak\\_link\\_index module

 https://github.com/krestenkrab/riak\\_link\\_index#readme

Kresten



On Nov 8, 2011, at 2:45 AM, Greg Pascale wrote:

&gt; Hi,
&gt; 
&gt; I'm thinking about using 2i for a certain piece of my system, but I'm worried 
&gt; that the document-based partitioning may make it suboptimal.
&gt; 
&gt; The issue is that the secondary fields I want to query over (email and 
&gt; username) are unique, so each will only ever map to one value. Since 2i 
&gt; queries a coverage set, but I'm only ever looking for one result, it's going 
&gt; to be hitting n-1 machines needlessly.
&gt; 
&gt; So, what I'm looking to understand is how much overhead a single-result 2i 
&gt; lookup like this will incur vs. a primary-key lookup, or even vs. search. 
&gt; Search doesn't intuitively feel like the right tool here, but I wonder if it 
&gt; may actually be preferable since it uses term-based partitioning.
&gt; 
&gt; Thanks,
&gt; 
&gt; -- 
&gt; Greg
&gt; Clipboard
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

