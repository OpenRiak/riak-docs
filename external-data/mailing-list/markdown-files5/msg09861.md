---
title: "Re: Error when inserting lots of records"
description: ""
project: community
lastmod: 2013-01-21T11:23:49-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09861"
mailinglist_parent_id: "msg09860"
author_name: "Evan Vigil-McClanahan"
project_section: "mailinglistitem"
sent_date: 2013-01-21T11:23:49-08:00
---


On linux, add the lines

riak soft core unlimited
riak hard core unlimited
riak soft nofile 65536
riak hard nofile 65536

to the file /etc/security/limits.conf

(cores aren't totally germane to your question, but it's a good idea,
since they tend to be disabled by default on modern linux systems).

You may also want to raise the ERL\\_MAX\\_PORTS value in your vm.args


On Mon, Jan 21, 2013 at 12:14 PM, Daniel Gerep  wrote:
&gt; Can you tell me how? I have no idea and thanks for your answer.
&gt;
&gt;
&gt; On 21 January 2013 16:13, Evan Vigil-McClanahan 
&gt; wrote:
&gt;&gt;
&gt;&gt; Daniel,
&gt;&gt;
&gt;&gt; You need to raise the number of file handles that riak is allowed to use.
&gt;&gt;
&gt;&gt; On Mon, Jan 21, 2013 at 11:03 AM, Daniel Gerep 
&gt;&gt; wrote:
&gt;&gt; &gt; Hi all.
&gt;&gt; &gt;
&gt;&gt; &gt; I'm inserting 2.000 values at a time.
&gt;&gt; &gt;
&gt;&gt; &gt; It inserts something around 730 - 783 record and start showing this
&gt;&gt; &gt; error on
&gt;&gt; &gt; riak console
&gt;&gt; &gt;
&gt;&gt; &gt; I have checked the file several times and there are no errors, no
&gt;&gt; &gt; special
&gt;&gt; &gt; characters, no spaces, the file is 100% correct.
&gt;&gt; &gt;
&gt;&gt; &gt; Any ideas?
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; 15:56:48.013 [error] CRASH REPORT Process &lt;0.4470.0&gt; with 0 neighbours
&gt;&gt; &gt; crashed with reason: {error,accept\\_failed}
&gt;&gt; &gt;
&gt;&gt; &gt; 15:56:48.291 [error]
&gt;&gt; &gt; {mochiweb\\_socket\\_server,310,{acceptor\\_error,{error,accept\\_failed}}}
&gt;&gt; &gt;
&gt;&gt; &gt; 15:57:22.363 [error] application: mochiweb, "Accept failed error",
&gt;&gt; &gt; "{error,emfile}"
&gt;&gt; &gt;
&gt;&gt; &gt; --
&gt;&gt; &gt;
&gt;&gt; &gt; Att
&gt;&gt; &gt; Daniel Gerep
&gt;&gt; &gt;
&gt;&gt; &gt; Live long and prosper
&gt;&gt; &gt;
&gt;&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; &gt; riak-users mailing list
&gt;&gt; &gt; riak-users@lists.basho.com
&gt;&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt; &gt;
&gt;
&gt;
&gt;
&gt;
&gt; --
&gt;
&gt; Att
&gt; Daniel Gerep
&gt;
&gt; Live long and prosper

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

