---
title: "Re: Riak Search API: Returning matching documents"
description: ""
project: community
lastmod: 2014-03-26T15:04:19-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13935"
mailinglist_parent_id: "msg13934"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2014-03-26T15:04:19-07:00
---


Agree with a lot of your points, Elias. But I've found that as a solo developer 
pushing product in my organization, and I would venture to say there are others 
like mine, Riak's ops proposition trumps some of these developer issues. Not 
having to hire ops personnel to babysit a Riak app is a big win for 
organizations that barely have money to hire a dev. 

If you are a developer that pushes product you can deal with round trip issues, 
multi fetch issues, etc. Aka. Riak's lack of developer sugar. You mentioned it 
earlier, but a search &gt; MR is exactly how I've done multi fetch in Riak 1.x 
and, it seems, will continue to do in Riak 2.x. Of course, solutions are 
specific to your application. A search &gt; user land multi fetch wrapper function 
is trivial to implement. Actually, I don't know why Basho doesn't ship just 
such a wrapper in erlang that would take an array of bucket/key pairs and push 
out an array of responses. But either way, it's not really a show stopper.

Ya sugar is nice but, as you know, eventually you crash.

-Alexander Sicular

@siculars

On Mar 26, 2014, at 2:10 PM, Elias Levy  wrote:

&gt; On Wed, Mar 26, 2014 at 10:36 AM, Eric Redmond  wrote:
&gt; That is correct. Storing values in solr make the values redundant. That's 
&gt; because solr and Riak are different systems with different storage 
&gt; strategies. Since we only return the solr results, the only way we can access 
&gt; the kv values would be to make a separate call, which is not much different 
&gt; from your client making that same call.
&gt; 
&gt; As for separating Riak Search from kv entirely, this is a possibility we've 
&gt; looked into, but it won't be ready for 2.0. I'm sorry to say that, for the 
&gt; time being, the only option for your request is to store values in both 
&gt; places.
&gt; 
&gt; 
&gt; Thanks for the response Eric. I understand the current limitations. My 
&gt; question was forward looking.
&gt; 
&gt; Riak is an amazing piece of technology that provides great availability. Ops 
&gt; loves Riak. Alas, in my opinion, its weakness has always been one of easy of 
&gt; use for developers. When it was just the KV store, the complexities of 
&gt; eventual consistency were placed squarely in the developer's shoulders and 
&gt; querability was very limited.
&gt; 
&gt; 2i helped somewhat, and the new CRDT data types improve things tremendously, 
&gt; as does Yokozuna. But there are still gaps. No bulk loading. No bulk 
&gt; fetching. 
&gt; 
&gt; Riak has always felt like a collection of components, rather than an 
&gt; integrated system. KV is unaware of Bitcask expirations. Search doesn't 
&gt; returned matched documents.
&gt; 
&gt; MongoDB's cluster and storage layers may be a disgrace, but the one thing 
&gt; they got right is the expressive API. Its one reason why developers love 
&gt; Mongo, at the same time is hated by Ops.
&gt; 
&gt; I'd love to see this ease of use within Riak, so I can actually get our 
&gt; developers to use it more.
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

