---
title: "Re: Store() Performance"
description: ""
project: community
lastmod: 2011-04-08T07:02:07-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02936"
mailinglist_parent_id: "msg02923"
author_name: "Mark Steele"
project_section: "mailinglistitem"
sent_date: 2011-04-08T07:02:07-07:00
---


If using HTTP, make sure you're using keep-alives. That will be a gigantic
speed boost.

The protocol buffer API is much faster if you're client language supports
it.


Mark Steele
Bering Media Inc.


On Thu, Apr 7, 2011 at 10:58 PM, matthew hawthorne wrote:

&gt; Hi Gui,
&gt;
&gt; I recently pushed 70 million records of size 1K each into a 5-node
&gt; Riak cluster (which was replicating to another 5-node cluster) at
&gt; around 1000 writes/second using basho\\_bench and the REST interface. I
&gt; probably could have pushed it further, but I wanted to confirm that it
&gt; could maintain the load for the entire data set, which it did.
&gt;
&gt; My point being that your speed-limit of 200 writes/second is likely
&gt; specific to your configuration.
&gt;
&gt; I wonder:
&gt; 1) what's your average write latency?
&gt; 2) how big is your connection pool?
&gt;
&gt; Because it's possible that you don't have enough connections available
&gt; to handle your desired load.
&gt;
&gt; -matt
&gt;
&gt;
&gt; On Thu, Apr 7, 2011 at 6:01 PM, Gui Pinto  wrote:
&gt; &gt; Hey guys,
&gt; &gt; I'm attempting to importing 300M+ objects into a Riak cluster, but have
&gt; &gt; quickly reached the REST API's speed-limit at 200-store()'s per second..
&gt; &gt; At the rate of 200/s, I'm looking at 20-days to import this data set!
&gt; That
&gt; &gt; can't be the fastest method to do this..
&gt; &gt;
&gt; &gt; Any recommendations?
&gt; &gt;
&gt; &gt; Thanks!
&gt; &gt; Gui Pinto
&gt; &gt;
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt;
&gt; &gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

