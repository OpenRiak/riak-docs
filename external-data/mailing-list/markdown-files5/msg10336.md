---
title: "Re: {error, notfound} items in mapreduce during ownership handoff"
description: ""
project: community
lastmod: 2013-03-06T12:15:56-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10336"
mailinglist_parent_id: "msg10288"
author_name: "Jeremy Raymond"
project_section: "mailinglistitem"
sent_date: 2013-03-06T12:15:56-08:00
---


So I should expect {error, notfound} inputs to map jobs while ownership
handoff is in progress? Are the not found items actually unavailable during
handoff or is this just not found on the old node, but will be picked up by
the new node during the same mapreduce job?

--
Jeremy


On Thu, Feb 28, 2013 at 11:28 AM, Jeremy Raymond wrote:

&gt; Yesterday I added a new node to my cluster. During the time when ownership
&gt; handoff was happening (several hours of work) mapreduce map functions were
&gt; receiving {error, notfound} as inputs. My Erlang mapred functions weren't
&gt; designed to handle this. They hadn't encountered this before during normal
&gt; operation. After the ownership handoff process completed the {error,
&gt; notfound} inputs have stopped.
&gt;
&gt; Any explanations for the {error, notfound} inputs during ownership
&gt; handoff? Is this because a node is attempting to process an object now
&gt; moved to another node? If this is the case would the notfound object be
&gt; found on the other node in the same mapreduce job (i.e. still visible to
&gt; the overall mapred process)? Should I assume {error, notfound} inputs for
&gt; all mapred jobs as a valid possible input and always handle it?
&gt;
&gt; I've also accumulated about 50MB of "Pipe worker startup failed:fitting
&gt; was gone before startup" on each node during the ownership\\_transfer
&gt; process. These messages are benign?
&gt;
&gt; Thanks a lot.
&gt;
&gt; --
&gt; Jeremy
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

