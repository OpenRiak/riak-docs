---
title: "Re: atomically updating multiple keys"
description: ""
project: community
lastmod: 2011-11-01T10:23:15-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05411"
mailinglist_parent_id: "msg05393"
author_name: "Justin Karneges"
project_section: "mailinglistitem"
sent_date: 2011-11-01T10:23:15-07:00
---


On Tuesday, November 01, 2011 05:16:43 AM Tuure Laurinolli wrote:
&gt; Yes, you would get causal consistency with N=3, R=2, W=2. If client A,
&gt; using some side channel, tells client B that it inserted something, it is
&gt; guaranteed that client B can read it.

Okay, good, this is how I understood it.

I am curious now though how R &gt; 1 works under the hood. Suppose we've got the 
above configuration (N=3, R=2, W=2) with server nodes X, Y, Z. If client A 
writes to X and Y, and then, before the data propogates to Z, client B reads 
from Y and Z, shouldn't the read operation fail because Y and Z don't agree on 
the same value? Or is it enough that Y has the latest value and this trumps 
whatever was returned from Z? I'd think it must be the latter behavior for 
causal consistency to work.

Justin

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

