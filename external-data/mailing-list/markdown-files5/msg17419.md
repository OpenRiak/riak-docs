---
title: "Riak Search and custom Solr components"
description: ""
project: community
lastmod: 2016-05-27T10:16:28-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17419"
mailinglist_parent_id: "msg17418"
author_name: "Guillaume Boddaert"
project_section: "mailinglistitem"
sent_date: 2016-05-27T10:16:28-07:00
---



Hi there,

I'm currently testing custom Component in my Riak Search system. As I 
need a suggestion mechanism from the Solr index, I implemented the 
Suggester component (https://wiki.apache.org/solr/Suggester).
It seems to work correctly, yet I have some question regarding the usage 
of custom Solr configuration inside of Riak. The only caveat is that 
Riak commits too often and that the suggestion index must be build 
manually and not on commit. That's fine for me, i'll cron that once per day.


First of all, how do stop/start/reload the solr instance without 
disturbing the Riak core ? For the time being I'm stuck with service 
start/stop. How can I reload my solr cores configuration without 
stopping riak ?


Secondly, is that a good pattern to start tweaking defaults from my solr 
cores (solrconfig.xml) ? Should I stop that right now and consider to 
use a distinct Solr instance if I require those modifications ? Or 
should I consider safe to alter cache/performance settings as well for 
Solr to match my needs ? Can I play with other solr files such as 
stopwords and stuff like that ?


Finally, is there a proper way to alter default solrconfig.xml ? It is 
auto-generated at index creation by Riak, yet that's a BIG and complex 
file that may evolve between Riak releases. I'm creating indexes 
programatically sending my index through Riak interface ( 
RiakClient.create\\_search\\_index in Riak Python lib), but if I start to 
alter configuration I guess I need more than that.

How do you guys would handle this ?

Thanks,

Guillaume
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

