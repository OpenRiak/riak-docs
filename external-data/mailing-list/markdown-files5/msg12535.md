---
title: "2i Index Durability/Resilience"
description: ""
project: community
lastmod: 2013-10-07T13:41:47-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12535"
author_name: "Brady Wetherington"
project_section: "mailinglistitem"
sent_date: 2013-10-07T13:41:47-07:00
---


What happens to your 2i indexes if you do a write and one of the nodes
you're trying to write to is down?

http://docs.basho.com/riak/latest/dev/using/2i/ says:


 - When you want or need anti-entropy. Since 2i is just metadata on the
 KV object and the indexes reside on the same node, 2i piggybacks off of
 read-repair.

But
http://docs.basho.com/riak/latest/ops/running/recovery/repairing-indexes/says:

Riak Secondary indexes (2i) currently have no form of anti-entropy (such as
read-repair). Furthermore, for performance and load balancing reasons, 2i
reads from 1 random node. This means that when a replica loss has occurred,
inconsistent results may be returned.
I am building a solution around 2i - so I just wanted to know if there was
any way to clarify these points - how resilient are these indexes? Under
what circumstances will they stop working (or return inconsistent results)?

-B.
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

