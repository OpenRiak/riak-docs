---
title: "riak bitcask calculation"
description: ""
project: community
lastmod: 2016-07-16T01:07:41-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17542"
author_name: "Travis Kirstine"
project_section: "mailinglistitem"
sent_date: 2016-07-16T01:07:41-07:00
---


I've put ~74 million objects in my riak cluster with a bucket size of 9 bytes 
and keys size of 21 bytes. According the riak capacity calculator this should 
require ~4 GiB of RAM per node. Right now my servers are showing ~ 9 GiB used 
per node. Is this caused by hashing or something else......



# capacity calculator output

To manage your estimated 73.9 million key/bucket pairs where bucket names are 
~9 bytes, keys are ~21 bytes, values are ~36 bytes and you are setting aside 
16.0 GiB of RAM per-node for in-memory data management within a cluster that is 
configured to maintain 3 replicas per key (N = 3) then Riak, using the Bitcask 
storage engine, will require at least:

 \\* 5 nodes
 \\* 3.9 GiB of RAM per node (19.7 GiB total across all nodes)
 \\* 11.4 GiB of storage space per node (56.8 GiB total storage space used 
across all nodes)

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

