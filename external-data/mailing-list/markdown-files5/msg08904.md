---
title: "setting search schema"
description: ""
project: community
lastmod: 2012-10-13T15:32:19-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08904"
author_name: "David Lowell"
project_section: "mailinglistitem"
sent_date: 2012-10-13T15:32:19-07:00
---


My software needs to be able to set a custom schema in Riak for indexing json 
objects. To make deploying my software easy, what I think I'd like to be able 
to do is:

- on app startup, test whether the schema has been added for index already
- if not, set the schema for my index

It does appear that I can test whether a schema exists for my index with (from 
python):

 client.bucket('\\_rs\\_schema').get(INDEX\\_NAME).exists()

However, the docs warn against writing any schemas into the \\_rs\\_schema bucket 
directly. The only other interface documented for assigning schemas is the 
"search-cmd" command line tool. I conclude there does not appear to be a 
supported way to assign schemas to indexes from code.

I could have my code invoke the command line tools to assign this schema, but 
then my code would have to run as root.

So, am I missing something? How do other people manage to manage the schemas 
for their indexes?

Thanks for the help,

Dave

--
Dave Lowell
d...@connectv.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

