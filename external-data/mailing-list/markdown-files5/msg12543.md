---
title: "Re: are Siblings ordered?"
description: ""
project: community
lastmod: 2013-10-08T01:40:28-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12543"
mailinglist_parent_id: "msg12541"
author_name: "Pedram Nimreezi"
project_section: "mailinglistitem"
sent_date: 2013-10-08T01:40:28-07:00
---


Excellent!


On Tue, Oct 8, 2013 at 3:24 AM, Russell Brown  wrote:

&gt; I'd very much like to see the same thing.
&gt;
&gt; I have a working branch and test here
&gt; https://github.com/basho/riak\\_kv/pull/688 and
&gt; https://github.com/basho/riak\\_test/tree/feature/rdb-sib-ex
&gt;
&gt; This isn't using the DVVSets but a sort of rough hack, where we store the
&gt; event dot for each write in the metadata dictionary for that value. As you
&gt; can see from the test it works. There is some work to be done to
&gt; productionise it, I really hope I get time for that. Feel free to pitch in
&gt; (the riak\\_object tests that are broken would be the first place to help.)
&gt;
&gt; My only concern is with client id vclocks (which are still supported in
&gt; Riak.)
&gt;
&gt; Cheers
&gt;
&gt; Russell
&gt;
&gt; On 8 Oct 2013, at 05:40, Pedram Nimreezi  wrote:
&gt;
&gt; &gt; I'd like to see the dotted version vectors get launched, even with
&gt; merging siblings high concurrency = high amount of unnecessary siblings,
&gt; &gt; Which wastes space and impacts performance. Dotted version vectors helps
&gt; improve this. Proof of concept and paper available...
&gt; &gt;
&gt; &gt; On Oct 7, 2013 3:06 PM, "Sam Elliott"  wrote:
&gt; &gt; Each sibling has it's own last-modified date, which you should be able
&gt; to use to sort them when you get them back.
&gt; &gt;
&gt; &gt; However, I'd suggest the following: if they're siblings, they were
&gt; created from concurrent edits. Thus, create a merge function that is
&gt; entirely deterministic without using the timestamp. This should save you
&gt; from any clock skew issues, and also from the fact that an edit may not
&gt; have been performed with the most up-to-date information.
&gt; &gt;
&gt; &gt; I guess people can't wait for our CRDTs to launch.
&gt; &gt;
&gt; &gt; Sam
&gt; &gt;
&gt; &gt; --
&gt; &gt; Sam Elliott
&gt; &gt; Engineer
&gt; &gt; sam.elli...@basho.com
&gt; &gt; --
&gt; &gt;
&gt; &gt;
&gt; &gt; On Monday, 7 October 2013 at 2:47PM, Alex Rice wrote:
&gt; &gt;
&gt; &gt; &gt; Yes, exactly that's what I'm working on. By knowing which sibling is
&gt; &gt; &gt; the oldest and which is the newest it seems like I can usually figure
&gt; &gt; &gt; out how to marge/apply the modifications. Things like Player profiles,
&gt; &gt; &gt; friends lists, etc.
&gt; &gt; &gt;
&gt; &gt; &gt; On Mon, Oct 7, 2013 at 12:43 PM, Jeremiah Peschka
&gt; &gt; &gt; 
&gt; wrote:
&gt; &gt; &gt; &gt; There's no guarantee of return order as far as I know. Since you
&gt; can't count
&gt; &gt; &gt; &gt; on clocks anyway...
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Are you trying to determine which data modifications to apply from
&gt; multiple
&gt; &gt; &gt; &gt; siblings?
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; ---
&gt; &gt; &gt; &gt; sent from a tiny portion of the hive mind...
&gt; &gt; &gt; &gt; in this case, a phone
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; On Oct 7, 2013 11:40 AM, "Alex Rice"  a...@mindlube.com)&gt; wrote:
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; Are they ordered by timestamp, and is the ordering guaranteed?
&gt; (within
&gt; &gt; &gt; &gt; &gt; the clock accuracy of course). Using the C# client Thanks,
&gt; &gt; &gt; &gt; &gt; Alex
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; &gt; &gt; &gt; riak-users mailing list
&gt; &gt; &gt; &gt; &gt; riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
&gt; &gt; &gt; &gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; &gt; riak-users mailing list
&gt; &gt; &gt; riak-users@lists.basho.com (mailto:riak-users@lists.basho.com)
&gt; &gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;


-- 
/\\* Sincerely
--------------------------------------------------------------
Pedram Nimreezi - Chief Technology Officer \\*/

// The hardest part of design â€¦ is keeping features out. - Donald Norman
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

