---
title: "badrecord during transfer"
description: ""
project: community
lastmod: 2013-11-26T16:58:35-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13101"
author_name: "Ivan Skytte JÃ¸rgensen"
project_section: "mailinglistitem"
sent_date: 2013-11-26T16:58:35-08:00
---


I have a three-node cluster (version 1.4.2)

One node is trying to send a partition to another node but encounters this 
error every time:

2013-11-27 00:48:15.468 [error] 
&lt;0.29095.34&gt;@riak\\_core\\_handoff\\_sender:start\\_fold:269 ownership\\_transfer 
transfer of riak\\_search\\_vnode from 'riak@10.197.0.55' 
1118962191081472546749696200048404186924073353216 to 'riak@10.196.50.172' 
1118962191081472546749696200048404186924073353216 failed because of 
error:{badrecord,ho\\_acc} 
[{riak\\_core\\_handoff\\_sender,start\\_fold,5,[{file,"src/riak\\_core\\_handoff\\_sender.erl"},{line,193}]}]

I have tried attaching to riak with riak attach and doing a repair, but:

(riak@10.197.0.55)1&gt; 
riak\\_kv\\_vnode:repair(1118962191081472546749696200048404186924073353216).
ownership\\_change\\_in\\_progress

How do I get out of this sticky situation? The transfer never completes because 
the index is damaged and I cannot repair it because it is scheduled for handoff.

Would a force-remove allow me to repair the partition and then rejoin the 
cluster?

/isj


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

