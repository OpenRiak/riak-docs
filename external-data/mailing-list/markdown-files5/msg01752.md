---
title: "riak bad perfomance issue"
description: ""
project: community
lastmod: 2010-12-08T05:14:33-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01752"
author_name: "Serge Pokhodyaev"
project_section: "mailinglistitem"
sent_date: 2010-12-08T05:14:33-08:00
---


Hello,

We are going to use riak in our project as a data storage. I set up
following testing configuration:

One hardware server — 2\\*quad-core Xeon E5620, 2.40 GHz, 48Gb RAM,
RAID1 (linux softraid, 2 sata disks).
Installed OpenVZ kernel and set up 3 VE.
Configured 3 riak instances (1 instance inside each VE) and joined
each other to a ring.

Then I put 2000 objects (average size 2kB) into riak. And started a
stress test: about 10\\*100 requests (via REST) simultaneously to
random-selected objects within 30 seconds. Request has been made to
the one riak instance. Used multi-mechanize
(http://code.google.com/p/multi-mechanize/) to make the stress-test.

Got average response time about 1 second. It's too slow.

I made second test — shutted down 2 instances, started the same test
and god the same results.

Can you help me to improve the perfomance? You can download
stress-test results here:
http://files.z9.ru/results\\_2010.11.30\\_18.05.06.zip

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

