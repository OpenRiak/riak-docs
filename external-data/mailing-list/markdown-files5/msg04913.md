---
title: "Re: Solr indexes consume a lot of space for largebucket sizes"
description: ""
project: community
lastmod: 2011-09-28T11:47:32-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04913"
mailinglist_parent_id: "msg04904"
author_name: "Ryan Zezeski"
project_section: "mailinglistitem"
sent_date: 2011-09-28T11:47:32-07:00
---


Harshal,

I take it you are using the default backend, bitcask? If so you should know
it's an append only log format that is periodically merged. So until a
merge is triggered the data will only grow. Even if you delete objects it
still grows as a delete is actually just a special tombstone msg added to
the log.

You can read more about bitcask configuration here:
http://wiki.basho.com/Bitcask.html

-Ryan

On Wed, Sep 28, 2011 at 2:26 PM, Harshal Dhir
wrote:

&gt; \\*
&gt;
&gt; Hi,
&gt; \\*
&gt; \\*
&gt;
&gt;
&gt; We are performing index on a "heavy" write bucket, and it seems its
&gt; consuming a lot of diskspace.
&gt;
&gt;
&gt; The logic is something like this:
&gt;
&gt;
&gt; "a", "b", "c" are the logical categories, we save combination of these
&gt; categories
&gt;
&gt;
&gt; "a b", "a c", "b c", "a b c" and so we are looking at lot of data. But, 10G
&gt; is quiet a huge number. So, we are little perplexed as to why this number is
&gt; so huge. Is it due to vector clocks, since multiple writes could be
&gt; happening at the same time.
&gt;
&gt;
&gt; Again help is needed on this one?
&gt;
&gt;
&gt; Thanks
&gt;
&gt; Harshal
&gt;
&gt;
&gt;
&gt; \\*
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

