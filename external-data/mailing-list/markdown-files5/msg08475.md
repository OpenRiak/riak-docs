---
title: "Re: Riak behind a Load Balancer"
description: ""
project: community
lastmod: 2012-09-08T09:18:10-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08475"
mailinglist_parent_id: "msg08474"
author_name: "Sebastian Cohnen"
project_section: "mailinglistitem"
sent_date: 2012-09-08T09:18:10-07:00
---


Sean,

how do you explain these rather huge improvements Amazon presents in their 
Dynamo paper?


On 08.09.2012, at 18:02, Sean Cribbs  wrote:

&gt; Sebastian,
&gt; 
&gt; There are plans to have client-driven request routing (that is, at
&gt; least sending the request to a member of the preflist) in the future,
&gt; but that is currently vaporware. An interim solution we have discussed
&gt; was to send the client a "hint" as to where to send a request for that
&gt; key on the next time around, but that is also unimplemented. On
&gt; well-performing client and Riak machines, the difference will be
&gt; small-to-negligible anyway; the primary effect of sending a request to
&gt; the member of the preflist would be reduced network traffic between
&gt; the Riak nodes themselves.
&gt; 
&gt; On Sat, Sep 8, 2012 at 10:08 AM, Sebastian Cohnen
&gt;  wrote:
&gt;&gt; AFAIK Riak does not expose these data via API in order to implement a
&gt;&gt; "client-driven coordination", right?
&gt;&gt; 
&gt;&gt; This sounds quite interesting and would be a nice way to reduce latencies
&gt;&gt; when talking to Riak.
&gt;&gt; 
&gt;&gt; Best
&gt;&gt; 
&gt;&gt; Sebastian
&gt;&gt; 
&gt;&gt; 
&gt;&gt; On 31.08.2012, at 10:55, Dave Brady  wrote:
&gt;&gt; 
&gt;&gt; There's a reference to an article on Basho's site, written by Amazon, about
&gt;&gt; Dynamo:
&gt;&gt; 
&gt;&gt; http://features.basho.com/entries/20535121-weighted-nodes
&gt;&gt; 
&gt;&gt; Section 6.4 explains why they do not use load balancers.
&gt;&gt; 
&gt;&gt; The rest of the article is good reading, too.
&gt;&gt; 
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; From: "Sean Carey" 
&gt;&gt; To: "Matt Black" 
&gt;&gt; Cc: "riak-users" 
&gt;&gt; Sent: Thursday, August 30, 2012 11:09:00 PM
&gt;&gt; Subject: Re: Riak behind a Load Balancer
&gt;&gt; 
&gt;&gt; Matt,
&gt;&gt; Haproxy is my load balancer of choice. You can always run multiple copies of
&gt;&gt; haproxy and use some type of dynamic dns with it.
&gt;&gt; 
&gt;&gt; We do this in many cases. Haproxy scales well. I've seen a single node
&gt;&gt; sustain multiple gigabits per second with almost no sweat.
&gt;&gt; 
&gt;&gt; 
&gt;&gt; Thanks.
&gt;&gt; 
&gt;&gt; 
&gt;&gt; Sean
&gt;&gt; On Monday, June 25, 2012 at 7:36 AM, Matt Black wrote:
&gt;&gt; 
&gt;&gt; Dear list,
&gt;&gt; 
&gt;&gt; Does anyone have an opinion on the concept of putting a Riak cluster behind
&gt;&gt; a load balancer?
&gt;&gt; 
&gt;&gt; We wish to be able to automatically add/remove nodes from the cluster, so
&gt;&gt; adding an extra layer at the front is desirable. We should also benefit for
&gt;&gt; incoming requests behind shared across all nodes.
&gt;&gt; 
&gt;&gt; Can anyone see any drawbacks / problems with doing this?
&gt;&gt; 
&gt;&gt; Thanks
&gt;&gt; Matt
&gt;&gt; 
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt; 
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt; 
&gt;&gt; 
&gt;&gt; 
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt; 
&gt; 
&gt; 
&gt; 
&gt; -- 
&gt; Sean Cribbs 
&gt; Software Engineer
&gt; Basho Technologies, Inc.
&gt; http://basho.com/


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

