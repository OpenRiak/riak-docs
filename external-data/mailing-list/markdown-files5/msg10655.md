---
title: "Re: Warning \"Can not start proc_lib:init_p\""
description: ""
project: community
lastmod: 2013-04-03T08:15:34-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10655"
mailinglist_parent_id: "msg10654"
author_name: "Ingo Rockel"
project_section: "mailinglistitem"
sent_date: 2013-04-03T08:15:34-07:00
---



I forgot to mention, we also sometimes see this one:

2013-04-03 17:04:08.551 [info] &lt;0.56.0&gt; alarm\\_handler: 
{set,{system\\_memory\\_high\\_watermark,[]}}


(since Update to 1.3)

Ingo

Am 03.04.2013 17:03, schrieb Ingo Rockel:

Hi Evan,

I set swt very\\_low and zdbbl to 64MB, setting this params helped
reducing the busy\\_dist\\_port and Monitor got {suppressed,... Messages a
lot. But when the performance of the cluster suddenly drops we still see
these messages.

The cluster was updated to 1.3 in the meantime.

The eleveldb section:

 %% eLevelDB Config
 {eleveldb, [
 {data\\_root, "/var/lib/riak/leveldb"},
 {cache\\_size, 33554432},
 {write\\_buffer\\_size\\_min, 67108864}, %% 64 MB in bytes
 {write\\_buffer\\_size\\_max, 134217728}, %% 128 MB in bytes
 {max\\_open\\_files, 4000}
 ]},

the ring size is 1024 and the machines have 48GB of memory. Concerning
the params from vm.args:

-env ERL\\_MAX\\_PORTS 4096
-env ERL\\_MAX\\_ETS\\_TABLES 8192

+P isn't set

Ingo

Am 03.04.2013 16:53, schrieb Evan Vigil-McClanahan:

For your prior mail, I thought that someone had answered. Our initial
suggestion was to add +swt very\\_low to your vm.args, as well as
setting the +zdbbl setting that Jon recommended in the list post you
pointed to. If those help, moving to 1.3 should help more.

Other limits in vm.args that can cause problems are +P, ERL\\_MAX\\_PORTS,
and ERL\\_MAX\\_ETS\\_TABLES. Are any of these set? If so, to what?

Can you also pate the eleveldb section of your app.config?

On Wed, Apr 3, 2013 at 7:41 AM, Ingo Rockel
 wrote:

Hi Evan,

I'm not sure, I find a lot of these:

2013-03-30 23:27:52.992 [error]
&lt;0.8036.323&gt;@riak\\_api\\_pb\\_server:handle\\_info:141 Unrecognized message
{22243034,{error,timeout}}

and some of these at the same time one of the kind below gets logged
(although the one has a different time stamp):

2013-03-30 23:27:53.056 [error] &lt;0.9457.323&gt;@riak\\_kv\\_console:status:178
Status failed error:terminated

Ingo

Am 03.04.2013 16:24, schrieb Evan Vigil-McClanahan:


Resending to the list:

Ingo,

That is an indication that the protocol buffers server can't spawn a
put fsm, which means that a put cannot be done for some reason or
another. Are there any other messages that appear around this time
that might indicate why?

On Wed, Apr 3, 2013 at 12:09 AM, Ingo Rockel
 wrote:


Hi,

we have some performance issues with our riak cluster, from time to
time
we
have a sudden drop in performance (already asked the list about this,
no-one
had an idea though). Although not the same time but on the problematic
nodes
we have a lot of these messages from time to time:

2013-04-02 21:41:11.173 [warning] &lt;0.25646.475&gt; \\*\\* Can not start
proc\\_lib:init\\_p

,[&lt;0.14556.474&gt;,[&lt;0.9519.474&gt;,riak\\_api\\_pb\\_sup,riak\\_api\\_sup,&lt;0.1291.0&gt;],riak\\_kv\\_p


ut\\_fsm,start\\_link,[{raw,65032165,&lt;0.9519.474&gt;},{r\\_object,&lt;&lt;109&gt;&gt;,&lt;&lt;77,115,124,49


,53,55,57,56,57,56,50,124,49,51,54,52,57,51,49,54,49,49,53,49,50,52,53,54&gt;&gt;,[{r\\_


content,{dict,0,16,16,8,80,48,{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},


{{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]}}},&lt;&lt;&gt;&gt;}],[],{dict,2,16,16,8,8


0,48,{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},{{[],[],[],[],[],[],[],[]


,[],[],[[&lt;&lt;99,111,110,116,101,110,116,45,116,121,112,101&gt;&gt;,97,112,112,108,105,99


,97,116,105,111,110,47,106,115,111,110]],[],[],[],[],[[&lt;&lt;99,104,97,114,115,101,1


16&gt;&gt;,85,84,70,45,56]]}}},&lt;&lt;123,34,115,116,34,58,50,44,34,116,34,58,49,44,34,99,3


4,58,34,66,117,116,32,115,104,101,32,105,115,32,103,111,110,101,44,32,110,32,101


,118,101,110,32,116,104,111,117,103,104,32,105,109,32,110,111,116,32,105,110,32,


117,114,32,99,105,116,121,32,105,32,108,111,118,101,32,117,32,110,100,32,105,32,


109,101,97,110,32,105,116,32,58,39,40,34,44,34,114,34,58,49,52,51,52,54,52,51,57


,44,34,115,34,58,49,53,55,57,56,57,56,50,44,34,99,116,34,58,49,51,54,52,57,51,49


,54,49,49,53,49,50,44,34,97,110,34,58,102,97,108,115,101,44,34,115,107,34,58,49,


51,54,52,57,51,49,54,49,49,53,49,50,52,53,54,44,34,115,117,34,58,48,125&gt;&gt;},[{tim

eout,60000}]]] on 'riak@172.22.3.12' \\*\\*

Can anyone explain to me what these messages mean and if I need to do
something about it? Could these messages be in any way related to the
performance issues?

Ingo

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com




--
Software Architect

Blue Lion mobile GmbH
Tel. +49 (0) 221 788 797 14
Fax. +49 (0) 221 788 797 19
Mob. +49 (0) 176 24 87 30 89

ingo.roc...@bluelionmobile.com

qeep: Hefferwolf


www.bluelionmobile.com
www.qeep.net






--
Software Architect

Blue Lion mobile GmbH
Tel. +49 (0) 221 788 797 14
Fax. +49 (0) 221 788 797 19
Mob. +49 (0) 176 24 87 30 89

ingo.roc...@bluelionmobile.com
&gt;&gt;&gt; qeep: Hefferwolf

www.bluelionmobile.com
www.qeep.net

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

