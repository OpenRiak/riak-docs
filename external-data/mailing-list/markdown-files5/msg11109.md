---
title: "Re: Best way to query geo hashed data?"
description: ""
project: community
lastmod: 2013-05-19T13:16:31-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11109"
mailinglist_parent_id: "msg11108"
author_name: "Ryan Chazen"
project_section: "mailinglistitem"
sent_date: 2013-05-19T13:16:31-07:00
---


Sorry, my bad on my 2nd point - Solr does
support arbitrary n-dimensional space using PointType.

So that leaves my only problem with "not recommended for production use at
this time." I think I will give it a shot, and hopefully it won't explode
on me too badly!

Thank you for the recommendations.
Ryan



On Sun, May 19, 2013 at 10:02 PM, Ryan Chazen  wrote:

&gt; Hi Eric
&gt;
&gt; The warning on Yokozuna looks a bit troublesome... " It is in
&gt; developmental stages and is not recommended for production use at this
&gt; time."
&gt;
&gt; Also, Solr requires lat/long data, and my data is X,Y coordinates, so the
&gt; lat/long calculations/boundaries would possibly be incorrect... although it
&gt; might be possible to work around this with some kind of transformation. The
&gt; solution itself seems a bit unwieldy and difficult to maintain though, so I
&gt; don't think I'd want to use it as a first choice...
&gt;
&gt; Ryan
&gt;
&gt;
&gt;
&gt; On Sun, May 19, 2013 at 9:03 PM, Eric Redmond  wrote:
&gt;
&gt;&gt; Rather than geohashing, you might consider Yokozuna. It has built in geo
&gt;&gt; searches.
&gt;&gt;
&gt;&gt; Eric
&gt;&gt;
&gt;&gt; On May 19, 2013, at 11:47 AM, Ryan Chazen  wrote:
&gt;&gt;
&gt;&gt; &gt; Hi
&gt;&gt; &gt;
&gt;&gt; &gt; I'm looking at Riak as a solution for handling this type of data:
&gt;&gt; &gt;
&gt;&gt; &gt; A map is divided into sectors, and on the map there are many objects
&gt;&gt; with each object being in 1 or more sectors. (An object can be in more than
&gt;&gt; 1 sector if it is larger than the sector). Objects can move, so object 323
&gt;&gt; could move from sector 5 to sector 10.
&gt;&gt; &gt;
&gt;&gt; &gt; Queries come in of the form : Retrieve all objects in a list of
&gt;&gt; sectors. eg Sectors[55, 378, 272, ...] - maximum ~50 sectors per request.
&gt;&gt; &gt;
&gt;&gt; &gt; From looking through Riak docs, 2i indexes would be perfect but they
&gt;&gt; only seem to allow range queries, and not a list of ids.
&gt;&gt; &gt; Multiple range queries could be used, but I'm guessing this will be
&gt;&gt; heavy on the servers?
&gt;&gt; &gt;
&gt;&gt; &gt; Map-Reduce looked like a good fit, but the warning on the page states
&gt;&gt; "When you want to query data of an entire bucket. MapReduce uses a list of
&gt;&gt; keys, which can place a lot of demand on the cluster." - so I guess
&gt;&gt; MapReduce is out?
&gt;&gt; &gt;
&gt;&gt; &gt; The fulltext search seems possible, but I'm a bit confused if it will
&gt;&gt; work for this.
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; Any recommendations, or is Riak not a good fit for this type of data?
&gt;&gt; &gt;
&gt;&gt; &gt; Regards,
&gt;&gt; &gt; Ryan
&gt;&gt; &gt;
&gt;&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; &gt; riak-users mailing list
&gt;&gt; &gt; riak-users@lists.basho.com
&gt;&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

