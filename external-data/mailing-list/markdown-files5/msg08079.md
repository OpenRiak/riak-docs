---
title: "Re: Updating an index value using Java API"
description: ""
project: community
lastmod: 2012-07-26T02:39:20-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08079"
mailinglist_parent_id: "msg08063"
author_name: "Kaspar Thommen"
project_section: "mailinglistitem"
sent_date: 2012-07-26T02:39:20-07:00
---


Thanks, I'll try that.

Kaspar
On Jul 25, 2012 7:08 PM, "Brian Roach"  wrote:

&gt; Sorry, I missed this one.
&gt;
&gt; As Ryan notes, you simply rewrite the object to Riak with the new indexes.
&gt; There's no need to delete the object beforehand.
&gt;
&gt; With the Java client you can do this via a Mutation that would be used
&gt; when you call StoreObject.execute()
&gt;
&gt; Thanks,
&gt; - Roach
&gt;
&gt; On Jul 25, 2012, at 10:01 AM, Ryan Zezeski wrote:
&gt;
&gt; &gt; Kaspar,
&gt; &gt;
&gt; &gt; I don't know the details of the Java API but re-writing the object
&gt; should suffice. Riak will remove the old indexes for you and create the
&gt; new ones.
&gt; &gt;
&gt; &gt; -Z
&gt; &gt;
&gt; &gt; On Wed, Jul 18, 2012 at 5:00 AM, Kaspar Thommen &lt;
&gt; kaspar.thom...@gmail.com&gt; wrote:
&gt; &gt; Hi,
&gt; &gt;
&gt; &gt; Say I have a 'users' bucket that stores user data (name, email) and I
&gt; also have secondary index to access users by e-mail, how do I update the
&gt; index in case a user's e-mail address changes?
&gt; &gt;
&gt; &gt; The only approach I found so far was to completely delete the user
&gt; object, which implies a deletion of the index entry, and then recreate the
&gt; update object and add the new e-mail to the index. Is this the only way?
&gt; &gt;
&gt; &gt; Thanks,
&gt; &gt; Kaspar
&gt; &gt;
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt;
&gt; &gt;
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

