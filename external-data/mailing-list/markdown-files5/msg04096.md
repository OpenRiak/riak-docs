---
title: "Re: Riak compile error: Module gen_server2 potentially included by	two different applications: rabbit_common and riak_core"
description: ""
project: community
lastmod: 2011-07-27T08:09:22-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04096"
mailinglist_parent_id: "msg04095"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2011-07-27T08:09:22-07:00
---


Brett,

I believe it has to do with the code path. That is, if Rabbit is installed
into ERL\\_LIBS, reltool will find gen\\_server2 there, even if Riak doesn't
package the rabbit\\_common application when building the release. Really,
RabbitMQ should be built as a separate release, without its libraries
polluting the default library directory, or at least set the code path on
startup rather than relying on the default code path.

That said, just move that application (rabbit\\_common) aside while building
Riak and move it back after your release is built.

On Wed, Jul 27, 2011 at 10:57 AM, Brett Hoerner wrote:

&gt; On Wed, Jul 27, 2011 at 8:31 AM, Brian Rowe  wrote:
&gt; &gt; IIRC the best of the kludges was to add an exclude directive in the
&gt; &gt; reltool.config.
&gt;
&gt; Can anyone elaborate on this? I'm looking at the reltool docs but I'm
&gt; driving blind here (Erlang newbie).
&gt;
&gt; Brett
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;



-- 
Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://www.basho.com/
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

