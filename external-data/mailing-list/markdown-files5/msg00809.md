---
title: "Re: Protocol Buffer Timeouts"
description: ""
project: community
lastmod: 2010-07-30T12:35:08-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00809"
mailinglist_parent_id: "msg00807"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2010-07-30T12:35:08-07:00
---


Hi Misha,

Bug #537 has been opened for this issue:
https://issues.basho.com/537 

Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Fri, Jul 30, 2010 at 11:56 AM, Dan Reverri  wrote:

&gt; Hi Misha,
&gt;
&gt; Justin was kind enough to point me in the right direction regarding your
&gt; question. You are referring to the default timeout applied to
&gt; gen\\_server:call/2. This does appear to be a bug in the client; I will file a
&gt; ticket in Bugzilla.
&gt;
&gt; Thanks,
&gt; Dan
&gt;
&gt; Daniel Reverri
&gt; Developer Advocate
&gt; Basho Technologies, Inc.
&gt; d...@basho.com
&gt;
&gt;
&gt; On Fri, Jul 30, 2010 at 11:11 AM, Dan Reverri  wrote:
&gt;
&gt;&gt; Hi Misha,
&gt;&gt;
&gt;&gt; Where in riakc\\_pb\\_socket do you see a 5 second timeout? Are you using the
&gt;&gt; 0.2.0 or the latest tip? There is an issue in 0.2.0 where map reduce
&gt;&gt; messages are not handled correctly which is fixed in the latest tip.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Dan
&gt;&gt;
&gt;&gt; Daniel Reverri
&gt;&gt; Developer Advocate
&gt;&gt; Basho Technologies, Inc.
&gt;&gt; d...@basho.com
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; On Fri, Jul 30, 2010 at 9:48 AM, Misha Gorodnitzky wrote:
&gt;&gt;
&gt;&gt;&gt; Hello all,
&gt;&gt;&gt;
&gt;&gt;&gt; We're doing some load testing using Riak erlang protocol buffers
&gt;&gt;&gt; interface and are running into timeouts. From the looks of it, the
&gt;&gt;&gt; timeouts are coming from the gen\\_server:calls in riakc\\_pb\\_socket.erl
&gt;&gt;&gt; which don't specify a timeout, meaning that they timeout after 5
&gt;&gt;&gt; seconds and we lose any reply that may come back from Riak (in our
&gt;&gt;&gt; case, the request to Riak typically completes despite the timeout).
&gt;&gt;&gt;
&gt;&gt;&gt; What's the best way to handle these timeouts? We could just increase
&gt;&gt;&gt; the timeout period in the calls, it seems odd to only give the Riak
&gt;&gt;&gt; client code 5 seconds when Riak could potentially take longer to
&gt;&gt;&gt; respond. Is this a bug?
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; --Misha
&gt;&gt;&gt;
&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

