---
title: "Re: Riak Production cluster"
description: ""
project: community
lastmod: 2012-12-16T11:59:39-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09597"
mailinglist_parent_id: "msg09580"
author_name: "Deepak Balasubramanyam"
project_section: "mailinglistitem"
sent_date: 2012-12-16T11:59:39-08:00
---


There is nothing in particular. Reading through loads of documentation and
user experiences on the riak-users list should give you some idea of what
to expect. I've been playing around with a production cluster of late. Here
are some salient points off the top of my head based on load tests I ran
recently.

1. IO performance plays a huge role on how riak performs.
2. The more memory your machine has the better.
3. Prefer dedicated machines over virtualized machines. There is less
competition for IO.
4. Read through the performance tuning tips for linux ; the hard disk and
your riak back end and apply them.
5. Tuning your riak back end is a fine art. Keep a close eye on metrics for
each parameter change. Basho-bench and riak-control are your friends here.
Getting the values right is a process of trial and error. The guide lines
on the riak documentation should reduce the time for convergence.
6. Besides running load tests with basho bench, run one with your
production client against the production database. Your client will execute
a better variety of queries and thus simulate production traffic. Take
map-reduce queries as an example. Running too many of them will cause
errors since riak only allocates N VMs per map / reduce agent.
7, Use basho-bench first and tune riak. Then use your actual client that is
used in application code and tune riak again.
8. Watch out for firewall
configurations
.
9. Go through the best
practices
.
10. Search the riak-user  list for
experiences on setting up a cluster on rackspace. I found some interesting
quips about performance.
11. Take a look at the riak puppet
moduleto
avoid snow flakes.

I'd write more and back it with some data, but it probably deserves a blog
post like you mentioned :) Good luck with your deployment.

Thanks
-Deepak




On Fri, Dec 14, 2012 at 11:15 PM, Iouri Kostine wrote:

&gt; Hello everyone,
&gt; Can someone share a blog post or some notes about setting up riak
&gt; production cluster at rackspace (RHEL 5)? I was wondering if there is some
&gt; additional steps, best practices etc. when installing from source. Any
&gt; additional information to help us get started would be much appreciated. We
&gt; did read though most of Basho documentation about installing riak, just
&gt; wondering if there are things that are specific to production setups.
&gt;
&gt; Thank you.
&gt;
&gt; iouri
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

