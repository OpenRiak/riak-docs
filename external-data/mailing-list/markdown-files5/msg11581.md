---
title: "Re: Yokozuna kv write timeouts on 1.4 (yz-merge-1.4.0)"
description: ""
project: community
lastmod: 2013-07-17T17:55:43-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11581"
mailinglist_parent_id: "msg11537"
author_name: "Eric Redmond"
project_section: "mailinglistitem"
sent_date: 2013-07-17T17:55:43-07:00
---


Dave,

Your initial line was correct. Yokozuna is not yet compatible with 1.4.

Eric

On Jul 15, 2013, at 1:00 PM, Dave Martorana  wrote:

&gt; Hi everyone. First post, if I leave anything out just let me know.
&gt; 
&gt; I have been using vagrant in testing Yokozuna with 1.3.0 (the official 0.7.0 
&gt; “release") and it runs swimmingly. When 1.4 was released and someone pointed 
&gt; me to the YZ integration branch, I decided to give it a go.
&gt; 
&gt; I realize that YZ probably doesn’t support 1.4 yet, but here are my 
&gt; experiences.
&gt; 
&gt; - Installs fine
&gt; - Using default stagedevrel with 5 node setup
&gt; - Without yz enabled in app.config, kv accepts writes and reads
&gt; - With yz enabled on dev1 and nowhere else, kv accepts writes and reads, 
&gt; creates yz index, associates index with bucket, does not index content
&gt; - With yz enabled on 4/5 nodes, kv stops accepting writes (timeout)
&gt; 
&gt; Ex:
&gt; 
&gt; (env)➜ curl -v -H 'content-type: text/plain' -XPUT 
&gt; 'http://localhost:10018/buckets/players/keys/name' -d "Ryan Zezeski"
&gt; \\* Adding handle: conn: 0x7f995a804000
&gt; \\* Adding handle: send: 0
&gt; \\* Adding handle: recv: 0
&gt; \\* Curl\\_addHandleToPipeline: length: 1
&gt; \\* - Conn 0 (0x7f995a804000) send\\_pipe: 1, recv\\_pipe: 0
&gt; \\* About to connect() to localhost port 10018 (#0)
&gt; \\* Trying 127.0.0.1...
&gt; \\* Connected to localhost (127.0.0.1) port 10018 (#0)
&gt; &gt; PUT /buckets/players/keys/name HTTP/1.1
&gt; &gt; User-Agent: curl/7.30.0
&gt; &gt; Host: localhost:10018
&gt; &gt; Accept: \\*/\\*
&gt; &gt; content-type: text/plain
&gt; &gt; Content-Length: 12
&gt; &gt; 
&gt; \\* upload completely sent off: 12 out of 12 bytes
&gt; &lt; HTTP/1.1 503 Service Unavailable
&gt; &lt; Vary: Accept-Encoding
&gt; \\* Server MochiWeb/1.1 WebMachine/1.9.2 (someone had painted it blue) is not 
&gt; blacklisted
&gt; &lt; Server: MochiWeb/1.1 WebMachine/1.9.2 (someone had painted it blue)
&gt; &lt; Date: Mon, 15 Jul 2013 19:54:50 GMT
&gt; &lt; Content-Type: text/plain
&gt; &lt; Content-Length: 18
&gt; &lt; 
&gt; request timed out
&gt; \\* Connection #0 to host localhost left intact
&gt; 
&gt; Here are my Vagrant file:
&gt; 
&gt; https://gist.github.com/themartorana/460a52bb3f840010ecde
&gt; 
&gt; and build script for the server:
&gt; 
&gt; https://gist.github.com/themartorana/e2e0126c01b8ef01cc53
&gt; 
&gt; Hope this helps.
&gt; 
&gt; Dave
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

