---
title: "Re: Map Reduce Requirements"
description: ""
project: community
lastmod: 2011-08-22T20:50:33-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04415"
mailinglist_parent_id: "msg04410"
author_name: "bill robertson"
project_section: "mailinglistitem"
sent_date: 2011-08-22T20:50:33-07:00
---


On Mon, Aug 22, 2011 at 3:27 PM, Jeremiah Peschka &lt;
jeremiah.pesc...@gmail.com&gt; wrote:

&gt; I don't think Erlang can talk to JavaScript inside a single
&gt; phase/function/pile of source code. I could be wrong, but it seems to me
&gt; that marshaling data across the JavaScript/Erlang boundary would be hella
&gt; expensive and cause a lot of problems and, as such, probably doesn't exist.
&gt;

It certainly seems sub-optimal.

I wonder if it would be feasible to deploy an erlang web-service in the riak
node's webmachine instance that could translate meta-data into Erlang funs
and drive the map reduce operation that way. I'm not sure if I could get
around having specific knowledge of the protobuf structures baked into that
code, but I don't think it matters in this case.

I also wonder how much 1.0 will change this picture.

&gt; Additionally, are secondary indexes meta-data? i.e. If I built some
&gt; secondary indices, these are stored in some form internal to Riak, and
&gt; therefore available for query regardless of the type of data its associated
&gt; with. Is this correct?
&gt;
&gt; Secondary indexes are a separate physical structure, or so I gather. (Rusty
&gt; could be full of lies.) They're stored separately from the initial data and
&gt; not as metadata in the object headers. So, yes, you can store whatever you
&gt; want in secondary indexes and query it however you want, provided there's an
&gt; API that supports what you're doing.
&gt;

Would secondary indexes eliminate the need for key-filtering? Logically, it
would seem that you could do with indexes, but do they have similar
performance characteristics? (i.e. does one suck more than the other?)

Thanks again,
Bill Robertson
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

