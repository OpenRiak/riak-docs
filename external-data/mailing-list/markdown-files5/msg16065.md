---
title: "Re: scaling up vertically upgrading HD"
description: ""
project: community
lastmod: 2015-04-23T07:55:19-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg16065"
mailinglist_parent_id: "msg16064"
author_name: "John Daily"
project_section: "mailinglistitem"
sent_date: 2015-04-23T07:55:19-07:00
---


Riak does not currently try to protect you against dumping 2 gallons of water 
in a 1 gallon jug, so each node will write data until it canâ€™t.

-John

On Apr 23, 2015, at 10:42 AM, Alex De la rosa  wrote:

&gt; Cool, thank you :) however, is true that if 4 nodes are 1TB and the other one 
&gt; is 2TB; the 5 nodes will act as having 1TB each, right? (I guess that's what 
&gt; you mean with "Riak allocates data to nodes evenly")
&gt; 
&gt; Thanks,
&gt; Alex
&gt; 
&gt; On Thu, Apr 23, 2015 at 4:40 PM, Jon Meredith  wrote:
&gt; Hi Alex,
&gt; 
&gt; Riak allocates data to nodes evenly - it doesn't take into account free 
&gt; space. You should just be able to upgrade all nodes to 1Tb and Riak will use 
&gt; the space, without needing to take any additional actions.
&gt; 
&gt; Jon
&gt; 
&gt; On Thu, Apr 23, 2015 at 7:17 AM, Alex De la rosa  
&gt; wrote:
&gt; Hi there,
&gt; 
&gt; I have the following question about scaling up vertically upgrading HDs to 
&gt; get more space. I have the understanding that if HDs are of different sizes 
&gt; on ring creation, they get the smallest size of them all and make all nodes 
&gt; even, for example:
&gt; 
&gt; Node 1: 500GB
&gt; Node 2: 500GB
&gt; Node 3: 750GB
&gt; Node 4: 500GB
&gt; Node 5: 750GB
&gt; 
&gt; In this case riak would make a parity of 500GB per node... so... how could we 
&gt; scale up the HDs? Imagine I want to turn them into the following:
&gt; 
&gt; Node 1: 1TB
&gt; Node 2: 1TB
&gt; Node 3: 1TB
&gt; Node 4: 1TB
&gt; Node 5: 1TB
&gt; 
&gt; How can you rebalance the cluster in the way their partitions grow to fit 
&gt; this new setup? (using Riak 2.1)
&gt; 
&gt; Thanks,
&gt; Alex
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; 
&gt; 
&gt; 
&gt; 
&gt; -- 
&gt; Jon Meredith
&gt; Chief Architect
&gt; Basho Technologies, Inc.
&gt; jmered...@basho.com
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

