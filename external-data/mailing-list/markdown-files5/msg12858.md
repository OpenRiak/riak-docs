---
title: "Re: Timeout problems, Riak Python Client with protocol buffers"
description: ""
project: community
lastmod: 2013-11-05T12:22:06-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12858"
mailinglist_parent_id: "msg12840"
author_name: "finkle mcgraw"
project_section: "mailinglistitem"
sent_date: 2013-11-05T12:22:06-08:00
---


Hi Hector,

Thank you for your reply. Here is the "stats" view from our Riak
dev-cluster:
https://gist.github.com/anonymous/7324713

The riak version (core) is 1.4.2.

The server running the Riak Python Client is based on some kind of AWS AMI.
The whole 5-node-devcluster was set up using:
https://github.com/basho/cloudformation-riak

I remembered incorrectly: I do NOT see this error when working against a
local cluster (inside a virtual machine).

There's a load balancer between the server running the Riak Python Client
and the actual Riak nodes. Perhaps this socket error is related to some
configuration of that load balancer?

Finkle


2013/11/5 Hector Castro 

&gt; Hey Finkle,
&gt;
&gt; I attempted to reproduce your issue on my Mac and wasn't able to
&gt; trigger the error same error:
&gt;
&gt; $ ./env/bin/pip freeze
&gt; protobuf==2.4.1
&gt; riak==2.0.1
&gt; riak-pb==1.4.1.1
&gt; wsgiref==0.1.2
&gt; $ ./env/bin/python --version
&gt; Python 2.7.5
&gt;
&gt; Do you have any additional details on your Ubuntu environment? What
&gt; version of Riak are you running against?
&gt;
&gt; --
&gt; Hector
&gt;
&gt;
&gt; On Sat, Nov 2, 2013 at 12:36 PM, finkle mcgraw 
&gt; wrote:
&gt; &gt; Hi,
&gt; &gt;
&gt; &gt; I've been having a lot of problems with the Riak Python Client when using
&gt; &gt; protocol buffers. The problem seems to be related to some kind of socket
&gt; &gt; timeout because it only happens if a particular instance of a riak client
&gt; &gt; object has not been used for more than 60 seconds. I describe the
&gt; problem in
&gt; &gt; more detail in this StackOverflow question:
&gt; &gt;
&gt; http://stackoverflow.com/questions/19742667/timeout-problems-with-the-riak-python-client-with-protocol-buffers
&gt; &gt;
&gt; &gt; Any ideas? Am i using the client object in the wrong way?
&gt; &gt;
&gt; &gt; Best regards,
&gt; &gt; Finkle
&gt; &gt;
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; &gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

