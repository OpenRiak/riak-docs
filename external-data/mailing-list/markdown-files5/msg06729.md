---
title: "Re: KeyFilter Usage"
description: ""
project: community
lastmod: 2012-02-24T07:11:51-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06729"
mailinglist_parent_id: "msg06711"
author_name: "Jeremiah Peschka"
project_section: "mailinglistitem"
sent_date: 2012-02-24T07:11:51-08:00
---


Secondary indexes don't support AND or OR with any client. Currently you'll
have to roll that functionality yourself. AND should be pretty easy to
implement, OR is moderately trickier, but only moderately.

You'll have to order your queries yourself. CPU power is cheap enough at
the client that ordering your result set should be easy ;)
---
Jeremiah Peschka
Managing Director, Brent Ozar PLF, LLC


On Thu, Feb 23, 2012 at 8:08 AM, Rajat Mathur wrote:

&gt; I had looked into Secondary indexes, but had trouble implementing AND and
&gt; OR type of queries in\\* RIAK-JAVA-CLIENT\\*
&gt; I suppose Secondary indexes doesn't support search on multiple indexes
&gt; using OR or AND for\\* Java Client.\\*
&gt;
&gt; Also what are the ways for doing queries like ORDER BY i.e. how to sort
&gt; the result based on certain parameter ?
&gt;
&gt;
&gt; On Thu, Feb 23, 2012 at 7:08 PM, Jeremiah Peschka &lt;
&gt; jeremiah.pesc...@gmail.com&gt; wrote:
&gt;
&gt;&gt; KeyFilters filter by the key you use to identify it in Riak. That is to
&gt;&gt; say the key in key-value.
&gt;&gt;
&gt;&gt; If I key my users by name and I want to find everyone named Rajat, I
&gt;&gt; would perform a StartsWith KeyFilter operation to find all of those
&gt;&gt; records.
&gt;&gt;
&gt;&gt; The downside to KeyFilters is that they must scan every record. If you
&gt;&gt; are using Bitcask, this isn't as much of a problem because that can will
&gt;&gt; happen in RAM. However with other back ends, that scan will have to touch
&gt;&gt; disk and you'll pay that I/O penalty.
&gt;&gt;
&gt;&gt; Depending on your overall data size and implemntation choices, this may
&gt;&gt; or may not be a problem for you.
&gt;&gt;
&gt;&gt; I recommend looking into secondary indexes as well. This gives you the
&gt;&gt; ability to define your own metadata however you want and use that for
&gt;&gt; querying.
&gt;&gt;
&gt;&gt; ---
&gt;&gt; Jeremiah Peschka, Managing Director, Brent Ozar PLF, LLC
&gt;&gt; Microsoft SQL Server MVP
&gt;&gt;
&gt;&gt; On Feb 23, 2012, at 12:25 AM, Rajat Mathur 
&gt;&gt; wrote:
&gt;&gt;
&gt;&gt; Can somebody tell me how to use KeyFilters [with/without MapReduce ]
&gt;&gt; like,
&gt;&gt;
&gt;&gt; LogicalAndFilter,GreaterThanFilter, StartsWithFilter etc..
&gt;&gt; \\*
&gt;&gt; I am not able to get on what key-values do they Filter on ??
&gt;&gt; \\*\\*
&gt;&gt; -- \\*
&gt;&gt; \\*Rajat Mathur
&gt;&gt; B.Tech (IT) Final Year
&gt;&gt; IIIT Allahabad
&gt;&gt;
&gt;&gt; 09945990291
&gt;&gt;
&gt;&gt; Find me @ Facebook 
&gt;&gt; Follow me @ Twitter \\*
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt; --
&gt; \\*Rajat Mathur
&gt; B.Tech (IT) Final Year
&gt; IIIT Allahabad
&gt;
&gt; 09945990291
&gt;
&gt; Find me @ Facebook 
&gt; Follow me @ Twitter \\*
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

