---
title: "Re: Secondary indexes in ruby (using riak-ruby-client)"
description: ""
project: community
lastmod: 2013-09-17T23:59:51-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12293"
mailinglist_parent_id: "msg12292"
author_name: "Wagner Camarao"
project_section: "mailinglistitem"
sent_date: 2013-09-17T23:59:51-07:00
---


Yeah that error wasn't helping much, and you're right - I was using
bitcask, and now it's working with LevelDB.

Thanks!

On Tue, Sep 17, 2013 at 11:51 PM, Charl Matthee  wrote:

&gt; Hi,
&gt;
&gt; On 17 September 2013 23:43, Wagner Camarao  wrote:
&gt;
&gt; &gt; bucket.get\\_index 'bars\\_bin', 'foo'
&gt; &gt;
&gt; &gt; But am failing with:
&gt; &gt;
&gt; &gt; Zlib::DataError: incorrect header check
&gt; &gt; from
&gt; &gt;
&gt; /Users/wagner/.rbenv/versions/2.0.0-p195/lib/ruby/2.0.0/net/http/response.rb:357:in
&gt; &gt; `finish'
&gt;
&gt; I think the Zlib error is obscuring what's really happening in the
&gt; background.
&gt;
&gt; What backend are you using?
&gt;
&gt; If it is bitcask then this will not work and you need to switch to one
&gt; that supports 2I, like levelDB:
&gt;
&gt;
&gt; https://github.com/basho/riak-ruby-client/wiki/Secondary-Indexes#how-secondary-indexes-aka-2i-work
&gt;
&gt;
&gt; --
&gt; Ciao
&gt;
&gt; Charl
&gt;
&gt; "I will either find a way, or make one." -- Hannibal
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

