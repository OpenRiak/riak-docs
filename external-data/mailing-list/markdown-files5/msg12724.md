---
title: "Re: 1.4.2: 'riak-admin reip' no longer works?"
description: ""
project: community
lastmod: 2013-10-22T00:55:36-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12724"
mailinglist_parent_id: "msg12718"
author_name: "Shane McEwan"
project_section: "mailinglistitem"
sent_date: 2013-10-22T00:55:36-07:00
---



On 21/10/13 17:57, Joe Caswell wrote:

The only use case left for reip is when you have simultaneously changed the
node name for every node in the cluster, such as when loading an entire
cluster's worth of backups to new machines.


When I need to do this I just create a new, empty cluster with the new 
names. Then shut down the cluster and restore only the data directories 
(leveldb, for example) from the backup, leaving the ring directory 
alone. Then I start up the cluster and it finds the restored data. You 
need to be careful about restoring the old node's data to the 
corresponding new node otherwise you'll get hinted handoffs flying 
between all your nodes but after a bit of trial and error you can figure 
out which node is which.


Shane.

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

