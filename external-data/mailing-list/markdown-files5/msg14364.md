---
title: "Re: 1.4.8, memory_backend max_memory not honored?"
description: ""
project: community
lastmod: 2014-06-24T09:22:13-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14364"
mailinglist_parent_id: "msg14363"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2014-06-24T09:22:13-07:00
---


Hi Allen,

There were some fixes to the memory backend in 1.4.9:
https://github.com/basho/riak/blob/1.4/RELEASE-NOTES.md

Could you please provide your app.config file? I'd like to check it and
test out your scenario locally.

--
Luke Bakken
CSE
lbak...@basho.com


On Tue, Jun 24, 2014 at 8:59 AM, Allen Landsidel 
wrote:

&gt; Test cluster with 2 machines running 1.4.8 with the memory backend.
&gt; app\\_config has ring\\_creation\\_size 64, max\\_memory 4. If I understand the
&gt; documentation correctly this should result in a maximum memory footprint
&gt; (minus overhead) of 256M. Each node has 2G RAM, 2G of swap. After running
&gt; for a while constantly adding data, without ever explicitly removing any,
&gt; the memory footprint outstrips physical ram and will eventually consume all
&gt; available swap space and be killed.
&gt;
&gt; Is this a known issue in 1.4.8 that's fixed in 1.4.9, or is there other
&gt; configuration settings that need adjusted to reduce the footprint?
&gt;
&gt; Initially I had set it up to top out at 1GB but when it started exhausting
&gt; swap, I progressively reduced max\\_memory until I arrived where I am now,
&gt; with no difference at all.
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

