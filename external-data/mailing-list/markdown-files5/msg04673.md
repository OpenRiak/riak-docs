---
title: "Re: Misbehaving bucket"
description: ""
project: community
lastmod: 2011-09-12T10:44:17-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04673"
mailinglist_parent_id: "msg04672"
author_name: "Daniel Reverri"
project_section: "mailinglistitem"
sent_date: 2011-09-12T10:44:17-07:00
---


Hi Jeremy

Are you doing a full bucket query or retrieving individual objects?

Is your bucket configured to allow siblings (allow\\_mult=true)? Do the objects 
being retrieved have many siblings?

Are you using multiple backends?

Thanks
Dan

Sent from my iPhone

On Sep 12, 2011, at 10:13 AM, Jeremy Raymond  wrote:

&gt; Hello,
&gt; 
&gt; I have a bucket with about 70 items in it the Keys look like this 
&gt; &lt;&lt;"1294549200\\_UbEu1topckAFu2UYy3spr8AG5lc"&gt;&gt; and the values are about 2.8K of 
&gt; JSON. For some reason operations on data in this bucket are extremely slow. 
&gt; It takes between 5 - 10 seconds to read a value of of the bucket by it's key 
&gt; using the Erlang protobuf client. When I do the reads the CPU of the node I'm 
&gt; connecting to spikes using up 100% usage on the Riak beam process. 
&gt; 
&gt; I can read data out of any of the other 9 buckets in the system some of which 
&gt; have a lot more items in them (one as &gt; 16k items) and the operations are 
&gt; super fast.
&gt; 
&gt; There are no errors in the sasl-error.log files and everything looks normal 
&gt; in the erlang.log files. Any ideas on what may cause a bucket to churn like 
&gt; this?
&gt; 
&gt; - Jeremy
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

