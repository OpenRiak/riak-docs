---
title: "Re: Riak search on an index limited to only 1 bucket"
description: ""
project: community
lastmod: 2016-05-13T12:01:04-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17346"
mailinglist_parent_id: "msg17345"
author_name: "Alex De la rosa"
project_section: "mailinglistitem"
sent_date: 2016-05-13T12:01:04-07:00
---


Another question... if I have a set of tags for the elements... like
photo.set['tags'] with things like: ["holidays", "Hawaii", "2016"]... will
it be indexed like this?



Thanks,
Alex

On Fri, May 13, 2016 at 10:52 PM, Alex De la rosa 
wrote:

&gt; Oh!! silly me... \\*\\_yz\\_rb\\* and \\*\\_yz\\_rt\\*... how didn't I think of that?...
&gt;
&gt; thanks also for the "\\*:\\*" tip ; )
&gt;
&gt; Thanks!
&gt; Alex
&gt;
&gt; On Fri, May 13, 2016 at 10:50 PM, Vitaly &lt;13vitam...@gmail.com&gt; wrote:
&gt;
&gt;&gt; Hi Alex,
&gt;&gt;
&gt;&gt; 'likes\\_counter:[100 TO \\*] AND \\_yz\\_rb:photos' will limit query results to
&gt;&gt; the photos bucket only. Similarly, "\\_yz\\_rt" is for a bucket type.
&gt;&gt;
&gt;&gt; Searching for anything in an index can be done with "\\*:\\*" (any field,
&gt;&gt; any value).
&gt;&gt;
&gt;&gt; Regards,
&gt;&gt; Vitaly
&gt;&gt;
&gt;&gt; On Fri, May 13, 2016 at 9:40 PM, Alex De la rosa &gt; &gt; wrote:
&gt;&gt;
&gt;&gt;&gt; Hi all,
&gt;&gt;&gt;
&gt;&gt;&gt; Imaging I have an index called "\\*posts\\*" where I index the following
&gt;&gt;&gt; fields
&gt;&gt;&gt;
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; &gt;&gt; stored="false" /&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; and I reuse the index in 3 buckets: "status", "photos" and "videos"...
&gt;&gt;&gt; then I do the following:
&gt;&gt;&gt;
&gt;&gt;&gt; \\*results = client.fulltext\\_search('posts', 'likes\\_counter:[100 TO \\*]',
&gt;&gt;&gt; sort='likes\\_counter desc', rows=10)\\*
&gt;&gt;&gt;
&gt;&gt;&gt; This query would give me the top10 most liked items (can be statuses,
&gt;&gt;&gt; photos or videos) with at least 100 likes. But how could I limit the
&gt;&gt;&gt; resultset to only the "photos" bucket?? The goal is to get the Top10 liked
&gt;&gt;&gt; photos without creating an index for itself... as is good to also be able
&gt;&gt;&gt; to query the top10 items in general. Any way to do it?
&gt;&gt;&gt;
&gt;&gt;&gt; In another hand... does somebody know how to do the same query but
&gt;&gt;&gt; without the [100 TO \\*]?? I leave it empty?
&gt;&gt;&gt;
&gt;&gt;&gt; \\*results = client.fulltext\\_search('\\*\\*posts\\*\\*', '', sort='likes\\_counter
&gt;&gt;&gt; desc', rows=10)\\*
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks,
&gt;&gt;&gt; Alex
&gt;&gt;&gt;
&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

