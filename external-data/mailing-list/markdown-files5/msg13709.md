---
title: "Re: Deleting entire buckets"
description: ""
project: community
lastmod: 2014-02-25T21:03:07-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13709"
mailinglist_parent_id: "msg13708"
author_name: "István"
project_section: "mailinglistitem"
sent_date: 2014-02-25T21:03:07-08:00
---


Hey John,

Thank you for the answer. Yes, my plan was to run outside peak hours.
I was not sure if listing the keys is better than MapReduce in terms
of controllable additional load on the cluster, so I guess I need to
simple measure it.

Thanks,
I.

On Tue, Feb 25, 2014 at 12:18 PM, John Caprice  wrote:
&gt; Istvan,
&gt;
&gt; This can be performed using the method described in that comment by Randall
&gt; on stackoverflow, which performs a keylisting, or via a MapReduce job. I
&gt; recommend doing this type of administrative work during off peak hours
&gt; regardless of whether you go the keylisting or MapReduce route.
&gt;
&gt; It's also important to keep in mind that if you're performing these deletes
&gt; to reclaim disk space, you will likely increase disk usage in the short
&gt; term. Both Bitcask and LevelDB are append only backends, with merging /
&gt; compaction processes that are triggered in the background.
&gt;
&gt; Thanks,
&gt;
&gt; John Caprice
&gt;
&gt;
&gt; On Tue, Feb 25, 2014 at 1:57 PM, István  wrote:
&gt;&gt;
&gt;&gt; Hi,
&gt;&gt;
&gt;&gt; What is the recommended way of deleting all of the keys in a bucket?
&gt;&gt;
&gt;&gt; Is there a way to delete all the keys without impacting the read
&gt;&gt; performance of the cluster, like a low priority clean up job?
&gt;&gt;
&gt;&gt; I found the following script so far (I guess running it at off peak
&gt;&gt; would be solving the priority problem):
&gt;&gt;
&gt;&gt; http://stackoverflow.com/a/14531820/127508
&gt;&gt;
&gt;&gt; Is this good, bad approach?
&gt;&gt;
&gt;&gt; Thanks in advance,
&gt;&gt; Istvan
&gt;&gt;
&gt;&gt; --
&gt;&gt; the sun shines for all
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;



-- 
the sun shines for all

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

