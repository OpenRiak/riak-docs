---
title: "Issues with partition distribution across nodes"
description: ""
project: community
lastmod: 2017-05-24T04:59:18-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18236"
author_name: "Denis Gudtsov"
project_section: "mailinglistitem"
sent_date: 2017-05-24T04:59:18-07:00
---


Hello

We have 6-nodes cluster with ring size 128 configured. The problem is that
two partitions has replicas only on two nodes rather than three as required
(n\\_val=3). We have tried several times to clean leveldb and ring directories
and then rebuild cluster, but this issue is still present. 
How can we diagnose where the issue is and fix it? Is there any way how we
can assign partition to node manually? 

Please find output of member-status below and screen from riak control ring
status:
[root@riak01 ~]# riak-admin member-status
================================= Membership
==================================
Status Ring Pending Node
-------------------------------------------------------------------------------
valid 17.2% -- 'riak@riak01.
valid 17.2% -- 'riak@riak02.
valid 16.4% -- 'riak@riak03.
valid 16.4% -- 'riak@riak04.
valid 16.4% -- 'riak@riak05.
valid 16.4% -- 'riak@riak06.
-------------------------------------------------------------------------------
Valid:6 / Leaving:0 / Exiting:0 / Joining:0 / Down:0

 

Thank you.



--
View this message in context: 
http://riak-users.197444.n3.nabble.com/Issues-with-partition-distribution-across-nodes-tp4035179.html
Sent from the Riak Users mailing list archive at Nabble.com.

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

