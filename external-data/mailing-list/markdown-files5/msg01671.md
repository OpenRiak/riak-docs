---
title: "Re: riak crash"
description: ""
project: community
lastmod: 2010-11-29T11:25:04-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01671"
mailinglist_parent_id: "msg01669"
author_name: "francisco treacy"
project_section: "mailinglistitem"
sent_date: 2010-11-29T11:25:04-08:00
---


Interesting.

I only ran into this issue once, but I remember what I was doing. So
I'll try to reproduce it later tonight, and if I succeed I'll send you
more info -- to eventually pass on to the Erlang folks.

Thanks,
Francisco


2010/11/29 David Smith :
&gt; Thanks for the info.
&gt;
&gt; A more careful reading of EAGAIN related messages says that:
&gt;
&gt; "A temporary resource shortage made an operation impossible. fork can
&gt; return this error. It indicates that the shortage is expected to pass,
&gt; so your program can try the call again later and it may succeed. It is
&gt; probably a good idea to delay for a few seconds before trying it
&gt; again, to allow time for other processes to release scarce resources.
&gt; Such shortages are usually fairly serious and affect the whole system,
&gt; so usually an interactive program should report the error to the user
&gt; and return to its command loop."
&gt;
&gt; It looks, from the logs, like memsup was a bit aggressive in retrying
&gt; that call and consequently exceeded the supervisor restart frequency;
&gt; eventually this percolated up the supervisor chain and the VM was
&gt; taken down (as it should be).
&gt;
&gt; That is to say, I don't see anything here that we can fix via Riak --
&gt; it appears (based strictly on the available data) to be something
&gt; inside the Erlang/OTP distribution. Can you easily reproduce this
&gt; issue?
&gt;
&gt; Thanks,
&gt;
&gt; D.
&gt;

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

