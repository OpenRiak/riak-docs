---
title: "Re: [ANNC] Riak 1.3.0 RC1"
description: ""
project: community
lastmod: 2013-01-31T06:45:36-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09941"
mailinglist_parent_id: "msg09934"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2013-01-31T06:45:36-08:00
---


Simon,

Correct, that behavior is unchanged. Note that the hash stored in the
AAE trees is a hash of the \\*entire\\* object, including metadata, vector
clock and any siblings. If two replicas diverge because of concurrent
writes, the AAE-triggered read-repair will cause the siblings to be
stored on both replicas. However, once the read-repair is successful,
they will have the same hash and not repair again.

On Thu, Jan 31, 2013 at 1:41 AM, Simon Effenberg
 wrote:
&gt; On Wed, 30 Jan 2013 21:22:33 -0800
&gt; Joseph Blomstedt  wrote:
&gt;
&gt;&gt; The main issue is that Search data
&gt;&gt; doesn't include anything equivalent to vector clocks. If two replicas
&gt;&gt; have divergent data, who wins?
&gt;
&gt; so what happens if I have (because of a temporary split brain and a
&gt; write to the key on both brain's) sibblings.. is the AAE only
&gt; triggering an 'read repair' which causes the sibblings which then has
&gt; to be repaired/merged by the next client which is reading the key?
&gt;
&gt; Cheers,
&gt; Simon



-- 
Sean Cribbs 
Software Engineer
Basho Technologies, Inc.
http://basho.com/

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

