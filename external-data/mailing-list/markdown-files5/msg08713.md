---
title: "Re: Key expiration"
description: ""
project: community
lastmod: 2012-09-26T13:05:00-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08713"
mailinglist_parent_id: "msg08712"
author_name: "Kresten Krab Thorup"
project_section: "mailinglistitem"
sent_date: 2012-09-26T13:05:00-07:00
---


While we're discussing merge and expiry semantic here, I'd like to explain how 
HanoiDB does it since that may be a reason for trying it out on your problem.

With the HanoiDB backend, merging and expiration is "incremental", which means 
that log(N / #partitions) merge/expire operations are performed for every PUT 
or DELETE, N being the total number og KVs stored in the backend.

Nothing more, nothing less. This means that you completely avoid the issue of 
"having to schedule merging" at off-peak hours or some such. If you test it, 
and your response times are satisfactory, then response times will continue 
being satisfactory and predictably so.

One "downside" of the current implementation is that if nothing is being 
inserted (or deleted), then data doesn't expire (and disk usage isn't reduced), 
but that may be a feature to add in the future.

It would be interesting to hear back from some of you if you try it out, or if 
you need help doing so.

Kresten
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

