---
title: "Re: Deserialising nested Json into java object through Java -clinet"
description: ""
project: community
lastmod: 2015-04-07T09:08:57-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15987"
mailinglist_parent_id: "msg15986"
author_name: "Brian Roach"
project_section: "mailinglistitem"
sent_date: 2015-04-07T09:08:57-07:00
---


Santi,

There is nothing in the Riak Java client to do that, no.

The result of a search query over the Riak protocol buffers API
returns the fields you queried for as a series of key/value pairs,
with the value always being a string. This is unfortunate when it
comes to mapping those values back to a class (or just serializing
them to JSON) if there was any non-string values (numbers or null).

The Java client presents a returned document as a Map&gt; for this reason, the list being required as there could
be multiple values for a single key.

That said, it shouldn't be too difficult to write a custom
deserializer for Jackson if you know what the results are going to
look like in advance. If you could show a dump of the Map being
returned by the Riak client we may be able to help with that. Another
option would be to use a Solr client and query Solr directly rather
than going through Riak.

Thanks,
Brian Roach




On Tue, Apr 7, 2015 at 8:32 AM, Santi Kumar  wrote:
&gt; Hi
&gt; We have a Composite pojo which we are indexing into Riak search. If I see
&gt; the structure of the object in solr web console, it shows as nested json.
&gt; Through java client when we query it returns the Map and having difficulties
&gt; in converting it into java object. Is there a way in riak-java client to
&gt; return a pojo instead of Map and we dealing with jakson mappers?
&gt;
&gt; Thanks
&gt; Santi
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

