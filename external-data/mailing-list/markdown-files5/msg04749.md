---
title: "Riak error: no_candidate_nodes, exhausted_preflist"
description: ""
project: community
lastmod: 2011-09-15T08:49:59-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04749"
author_name: "Martin Woods"
project_section: "mailinglistitem"
sent_date: 2011-09-15T08:49:59-07:00
---


Hi all

When running Riak recently on a development platform (Ubuntu 9.10 Server
64-bit with Riak 0.14.2) the Riak error logs reported the following
termination:


\\*\\* Reason for termination =
\\*\\* {error,
 {phase\\_error,
 {error,
 {no\\_candidate\\_nodes,exhausted\\_preflist,
 [{riak\\_kv\\_mapred\\_planner,claim\\_keys,3},
 {riak\\_kv\\_map\\_phase,handle\\_info,2},
 {luke\\_phase,handle\\_info,3},
 {gen\\_fsm,handle\\_msg,7},
 {proc\\_lib,init\\_p\\_do\\_apply,3}],


At the time we were heavily loading Riak using the riakc client with
multiple Erlang mapreduce requests, each involving key filters. Could that
load have caused this error? We can see in the code where this is raised but
don't know enough about Riak under the hood to work out what the underlying
cause is.


Any help would be much appreciated!


Kind regards,

Martin.
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

