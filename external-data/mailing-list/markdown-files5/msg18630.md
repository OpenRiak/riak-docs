---
title: "ANN: Riak 2.9.0 Urgent Patches Pending"
description: ""
project: community
lastmod: 2019-08-21T17:37:56-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg18630"
author_name: "Martin Sumner"
project_section: "mailinglistitem"
sent_date: 2019-08-21T17:37:56-07:00
---


There are 2 defects in the 2.9.0 release which should be patched within the
next 7 days, with a new version of 2.9.0 to be published before the end of
the month. The defects are:

https://github.com/basho/riak\\_kv/issues/1706
https://github.com/basho/riak\\_kv/issues/1707

Note that the latter defect 1707, the scope of this bug is currently
unclear, but there exists significant risk that there is potential within
this bug for data loss, due to incorrect pruning of siblings.

Previous releases of Riak also have this bug, if the metadata cache (which
is disabled by default) is enabled. Enabling this cache is controlled via
https://docs.riak.com/riak/kv/latest/configuring/reference/index.html
(metadata\\_cache\\_size).
However, unlike previous releases the 2.9.0 release, when combined with use
of the leveled backend, Riak 2.9.0 will enable the path to this bug by
default. This is because the logic of the metadata\\_cache is reused in
order to enable leveled HEAD requests within the PUT path. Riak 2.9.0 with
other backends, and the metadata cache left disabled, will not have this
bug.

I apologise for the ongoing churn of issues uncovered in release 2.9.0, and
for the potential risks associated with this latest bug in particular.
Clearly, the high rate of discovered problems has exposed that the test
process which surrounded this release was not good enough. For release
2.9.1 and release 3.0 the move has already been made to involve independent
testing organisations as a fundamental part of the development process,
from the start of the process. Regardless of this, once the immediate
issues are patched, there is a need for some further reflection on what is
required to assure the safety of a release of Riak in the future.

Regards

Martin
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

