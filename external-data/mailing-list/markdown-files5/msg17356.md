---
title: "Re: Querying SOLR outside of Riak"
description: ""
project: community
lastmod: 2016-05-15T02:16:08-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17356"
mailinglist_parent_id: "msg17355"
author_name: "Alex De la rosa"
project_section: "mailinglistitem"
sent_date: 2016-05-15T02:16:08-07:00
---


I think is just my fear of querying Riak... I had bad experiences in the
past with Riak 0.14 and Riak 1.4 when searching with MapReduce, Search or
2-i... nodes crashing, etc... so I try to avoid searching as much as
possible.

Maybe my fear is not justified anymore on Riak 2.0 and is search via
SOLR... but still... I want to avoid issues on searching.

So my thinking was that if I can query the SOLR index itself without Riak
even noticing, then I can leave Riak simply to put/get data and the
searching would be done by Disco hitting SOLR itself... no extra work for
Riak on searching anything.

Thanks,
Alex

On Sun, May 15, 2016 at 12:48 PM, Vitaly &lt;13vitam...@gmail.com&gt; wrote:

&gt; Keep in mind that the /search endpoint returns consolidated results (i.e.
&gt; a query runs over all nodes of a cluster), while /internal\\_solr is only for
&gt; the node you run it on.
&gt;
&gt; I'm not sure what you mean by "extra stress", as running queries is
&gt; exactly what the /search endpoint is meant for. Having said that, I would
&gt; think that any activity can add stress, you should measure what kind of
&gt; stress your system creates, and plan your cluster accordingly.
&gt;
&gt; Regards,
&gt; Vitaly
&gt;
&gt; On Sun, May 15, 2016 at 11:18 AM, Alex De la rosa  &gt; wrote:
&gt;
&gt;&gt; Hi Vitaly,
&gt;&gt;
&gt;&gt; I know that you can access search via HTTP through Riak like this:
&gt;&gt;
&gt;&gt; http://localhost:8098/search/query/famous?wt=json&q=leader:true AND
&gt;&gt; age\\_i:[25 TO \\*]
&gt;&gt;
&gt;&gt; I didn't find documentation about this, but according to your words I
&gt;&gt; could access SOLR directly like this?
&gt;&gt;
&gt;&gt; http://localhost:8093/internal\\_solr/famous/select?wt=json&q=leader:true
&gt;&gt; AND age\\_i:[25 TO \\*]
&gt;&gt;
&gt;&gt; If I go through "8098/search" would it be adding extra stress into the
&gt;&gt; Riak cluster? Or is recommended to go through "8098/search" instead of
&gt;&gt; "8093/internal\\_solr"??
&gt;&gt;
&gt;&gt; I just want to see if I can make use of SOLR with an external mapreduce
&gt;&gt; platform (Disco) without giving extra stress to Riak.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Rohman
&gt;&gt;
&gt;&gt; On Sun, May 15, 2016 at 12:07 PM, Vitaly &lt;13vitam...@gmail.com&gt; wrote:
&gt;&gt;
&gt;&gt;&gt; There is, you can \\*query \\*Solr directly via HTTP, at least as of Riak
&gt;&gt;&gt; 2.0.x
&gt;&gt;&gt;
&gt;&gt;&gt; Have a look at http://:8093/internal\\_solr/#/ and
&gt;&gt;&gt; http://docs.basho.com/riak/kv/2.1.4/developing/usage/search/#querying
&gt;&gt;&gt;
&gt;&gt;&gt; Vitaly
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; On Sun, May 15, 2016 at 10:49 AM, Alex De la rosa &lt;
&gt;&gt;&gt; alex.rosa....@gmail.com&gt; wrote:
&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Nobody knows if there is a way to access SOLR right away without going
&gt;&gt;&gt;&gt; through RIAK's interface?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;&gt; Alex
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On Fri, May 13, 2016 at 11:07 PM, Alex De la rosa &lt;
&gt;&gt;&gt;&gt; alex.rosa....@gmail.com&gt; wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Hi all,
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; If I want to create a Disco cluster [ http://discoproject.org ] to
&gt;&gt;&gt;&gt;&gt; build statistics and compile data attacking Riak's SOLR directly without
&gt;&gt;&gt;&gt;&gt; using Riak, how can I do it?
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; In this way, I would leave Riak mainly for data IO (post/get) and
&gt;&gt;&gt;&gt;&gt; leave the heavy duty of searching and compiling data to Disco; so Riak's
&gt;&gt;&gt;&gt;&gt; performance shouldn't be affected for searching as mainly it will store 
&gt;&gt;&gt;&gt;&gt; and
&gt;&gt;&gt;&gt;&gt; retrieve data only.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;&gt;&gt; Alex
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

