---
title: "Re: Riak on SAN"
description: ""
project: community
lastmod: 2013-10-03T17:41:04-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12510"
author_name: "Mike Oxford"
project_section: "mailinglistitem"
sent_date: 2013-10-03T17:41:04-07:00
---


One more use-case for backups: If you're running a big cluster and UserX
makes a bad code deploy which horks a bunch of data ... restore may be the
only option.

It happens.

-mox


On Wed, Oct 2, 2013 at 12:12 PM, John E. Vincent &lt;
lusis.org+riak-us...@gmail.com&gt; wrote:

&gt; I'm going to take a competing view here.
&gt;
&gt; SAN is a bit overloaded of a term at this point. Nothing precludes a SAN
&gt; from being performant or having SSDs. Yes the cost is overkill for fiber
&gt; but iSCSI is much more realistic. Alternately you can even do ATAoE.
&gt;
&gt; From a hardware perspective, if I have 5 pizza boxes as riak nodes, I can
&gt; only fit so many disks in them. Meanwhile I can add another shelf to my SAN
&gt; and expand as needed. Additionally backup of a SAN is MUCH easier than
&gt; backup of a riak node itself. It's a snapshot and you're done. Mind you
&gt; nothing precludes you from doing LVM snapshots in the OS but you still need
&gt; to get the data OFF that system for it to be truly backed up.
&gt;
&gt; I love riak and other distributed stores but backing them up is NOT a
&gt; solved problem. Walking all keys, coordinating the take down of all your
&gt; nodes in a given order or whatever your strategy is a serious pain point.
&gt;
&gt; Using a SAN or local disk also doesn't excuse you from watching I/O
&gt; performance. With a SAN I get multiple redundant paths to a block device
&gt; and I don't get that necessarily with local storage.
&gt;
&gt; Just my two bits.
&gt;
&gt;
&gt;
&gt; On Wed, Oct 2, 2013 at 2:18 AM, Jeremiah Peschka &lt;
&gt; jeremiah.pesc...@gmail.com&gt; wrote:
&gt;
&gt;&gt; Could you do it? Sure.
&gt;&gt;
&gt;&gt; Should you do it? No.
&gt;&gt;
&gt;&gt; An advantage of Riak is that you can avoid the cost of SAN storage by
&gt;&gt; getting duplication at the machine level rather than rely on your storage
&gt;&gt; vendor to provide it.
&gt;&gt;
&gt;&gt; Running Riak on a SAN also exposes you to the SAN becoming your
&gt;&gt; bottleneck; you only have so many fiber/iSCSI ports and a fixed number of
&gt;&gt; disks. The risk of storage contention is high, too, so you can run into
&gt;&gt; latency issues that are difficult to diagnose without looking into both
&gt;&gt; Riak as well as the storage system.
&gt;&gt;
&gt;&gt; Keeping cost in mind, too, SAN storage is about 10x the cost of consumer
&gt;&gt; grade SSDs. Not to mention feature licensing and support... The cost
&gt;&gt; comparison isn't favorable.
&gt;&gt;
&gt;&gt; Please note: Even though your vendor calls it a SAN, that doesn't mean
&gt;&gt; it's a SAN.
&gt;&gt; On Oct 1, 2013 11:08 PM, "Guy Morton"  wrote:
&gt;&gt;
&gt;&gt;&gt; Does this make sense?
&gt;&gt;&gt;
&gt;&gt;&gt; --
&gt;&gt;&gt; Guy Morton
&gt;&gt;&gt; Web Development Manager
&gt;&gt;&gt; Brüel & Kjær EMS
&gt;&gt;&gt;
&gt;&gt;&gt; This e-mail is confidential and may be read, copied and used only by the
&gt;&gt;&gt; intended recipient. If you have received it in error, please contact the
&gt;&gt;&gt; sender immediately by return e-mail. Please then delete the e-mail and do
&gt;&gt;&gt; not disclose its contents to any other person.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

