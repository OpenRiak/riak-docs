---
title: "Re: Am I using the REST API wrong or is Riak ignoring updates?"
description: ""
project: community
lastmod: 2010-12-21T09:52:51-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg01832"
mailinglist_parent_id: "msg01831"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2010-12-21T09:52:51-08:00
---


Dont feel bad, it got me too. At least you didn't file a show stopping 
bug report before figuring it out ;)



@siculars on twitter
http://siculars.posterous.com

Sent from my iPhone

On Dec 21, 2010, at 12:24, Jon Brisbin  wrote:

BTW- I hadn't included the X-Riak-Vclock header. I added that to the 
PUT and it updated as expected.


I suspect this is what was screwing me up.

jb


On Dec 21, 2010, at 11:09 AM, Jon Brisbin wrote:

Is there a scenario that you know of in which a REST API client 
would not be able to update an object that already exists using the 
same key but different content? I'm seeing this in some testing I'm 
doing and I don't know exactly why. If I delete the object and re- 
PUT, everything's kosher. But if I try and simply update an object 
that already exists (using plain java.net HTTP client), I get a 
200/204 back but the object is not updated. I've verified I'm 
sending the right headers and body content I'm expecting to send.


It's almost like Riak is simply ignoring subsequent updates to an 
object and only responds to PUTs of a previously non-existent one.


Any help here would be greatly appreciated. :)

Jon Brisbin
Portal Webmaster
NPC International, Inc.

Twitter: @j\\_brisbin
Skype: jon.brisbin


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com



Jon Brisbin
Portal Webmaster
NPC International, Inc.

Twitter: @j\\_brisbin
Skype: jon.brisbin


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

