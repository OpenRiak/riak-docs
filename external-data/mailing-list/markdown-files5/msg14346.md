---
title: "Re: Error decodeing type with PBC API"
description: ""
project: community
lastmod: 2014-06-23T07:08:38-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14346"
mailinglist_parent_id: "msg14345"
author_name: "japhar81"
project_section: "mailinglistitem"
sent_date: 2014-06-23T07:08:38-07:00
---


Riak is at 1.4.8, running on ubuntu 12.04 LTS. Nothing special in the
install, I just followed the 5-min install guide and then installed rekon
over top. The client is my own code (.NET 4.5 in case that matters) using
protobuf-net to do the object marshaling.


On Mon, Jun 23, 2014 at 2:28 AM, Russell Brown  wrote:

&gt; Hi,
&gt; For this type of issue client and server versions are very useful, please.
&gt;
&gt; Russell
&gt;
&gt; On 23 Jun 2014, at 03:55, japhar81  wrote:
&gt;
&gt; &gt; Hello all,
&gt; &gt; I've been banging my head against the PBC API all weekend and I can't
&gt; seem to figure out why I'm getting an error. I'm able to call
&gt; RpbListBuckets (empty message) without issue, but when I try to call
&gt; RpbListKeys I get an error (pasted below in full) -- Error decodeing type
&gt; with PBC API.
&gt; &gt;
&gt; &gt; I've pulled out the encoded message (trying to list the rekon bucket as
&gt; a test), it is:
&gt; &gt; 00-00-00-0A-11-00-10-6E-6F-6B-65-72-05-0A
&gt; &gt;
&gt; &gt; I've confirmed that the length (0x0A = 10) and message type (0x11 =
&gt; RpbListKeysReq) are correct. I'm unsure how I'd manually decode the message
&gt; itself, but it matches what protobuf is giving me, so I'm assuming it to be
&gt; correct as well.
&gt; &gt;
&gt; &gt; I'd appreciate any pointers as to what I'm doing wrong, I'm completely
&gt; stumped.
&gt; &gt;
&gt; &gt; The full error I'm getting:
&gt; &gt;
&gt; &gt; Error processing incoming message: throw:{error,"Error decodeing
&gt; type"}:[{protobuffs,
&gt; &gt;
&gt; read\\_field\\_num\\_and\\_wire\\_type,
&gt; &gt;
&gt; 1,
&gt; &gt;
&gt; [{file,
&gt; &gt;
&gt; "src/protobuffs.erl"},
&gt; &gt;
&gt; {line,
&gt; &gt;
&gt; 203}]},
&gt; &gt;
&gt; {protobuffs,
&gt; &gt;
&gt; next\\_field\\_num,
&gt; &gt;
&gt; 1,
&gt; &gt;
&gt; [{file,
&gt; &gt;
&gt; "src/protobuffs.erl"},
&gt; &gt;
&gt; {line,
&gt; &gt;
&gt; 242}]},
&gt; &gt;
&gt; {riak\\_kv\\_pb,
&gt; &gt;
&gt; decode,
&gt; &gt;
&gt; 3,
&gt; &gt;
&gt; [{file,
&gt; &gt;
&gt; "src/riak\\_kv\\_pb.erl"},
&gt; &gt;
&gt; {line,
&gt; &gt;
&gt; 105}]},
&gt; &gt;
&gt; {riak\\_kv\\_pb,
&gt; &gt;
&gt; decode,
&gt; &gt;
&gt; 2,
&gt; &gt;
&gt; [{file,
&gt; &gt;
&gt; "src/riak\\_kv\\_pb.erl"},
&gt; &gt;
&gt; {line,
&gt; &gt;
&gt; 100}]},
&gt; &gt;
&gt; {riak\\_kv\\_pb\\_bucket,
&gt; &gt;
&gt; decode,
&gt; &gt;
&gt; 2,
&gt; &gt;
&gt; [{file,
&gt; &gt;
&gt; "src/riak\\_kv\\_pb\\_bucket.erl"},
&gt; &gt;
&gt; {line,
&gt; &gt;
&gt; 67}]},
&gt; &gt;
&gt; {riak\\_api\\_pb\\_server,
&gt; &gt;
&gt; handle\\_message,
&gt; &gt;
&gt; 3,
&gt; &gt;
&gt; [{file,
&gt; &gt;
&gt; "src/riak\\_api\\_pb\\_server.erl"},
&gt; &gt;
&gt; {line,
&gt; &gt;
&gt; 196}]},
&gt; &gt;
&gt; {riak\\_api\\_pb\\_server,
&gt; &gt;
&gt; decode\\_buffer,
&gt; &gt;
&gt; 1,
&gt; &gt;
&gt; [{file,
&gt; &gt;
&gt; "src/riak\\_api\\_pb\\_server.erl"},
&gt; &gt;
&gt; {line,
&gt; &gt;
&gt; 172}]},
&gt; &gt;
&gt; {gen\\_server,
&gt; &gt;
&gt; handle\\_msg,
&gt; &gt;
&gt; 5,
&gt; &gt;
&gt; [{file,
&gt; &gt;
&gt; "gen\\_server.erl"},
&gt; &gt;
&gt; {line,
&gt; &gt;
&gt; 607}]}]
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

