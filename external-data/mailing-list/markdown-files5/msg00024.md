---
title: "Re: I like Riak! (but /test is slooooowww -- probably my fault)"
description: ""
project: community
lastmod: 2010-04-13T10:56:00-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00024"
mailinglist_parent_id: "msg00023"
author_name: "Tyler Smart"
project_section: "mailinglistitem"
sent_date: 2010-04-13T10:56:00-07:00
---


 {riak, [
 %% storage\\_backend specifies the Erlang module defining the storage
mechanism
 %% that will be used on this node.
 %% {storage\\_backend, riak\\_dets\\_backend},
 {storage\\_backend, innostore\\_riak},

 %% Different storage backends can use other configuration
variables. For
 %% instance, riak\\_dets\\_backend\\_root determines the directory under
which
 %% dets files will be placed.
 {riak\\_dets\\_backend\\_root, "/riak/backendroot"},

 %% Default location of ringstate
 {ring\\_state\\_dir, "/riak/ringstate"},

 %% riak\\_web\\_ip is the IP address that Riak's HTTP interface will
bind to.
 %% If this is undefined, the HTTP interface will not run.
 {riak\\_web\\_ip, "127.0.0.1"},

 %% riak\\_web\\_port is the TCP port that Riak's HTTP interface will
bind to.
 {riak\\_web\\_port, 8098},

 %% riak\\_handoff\\_port is the TCP port that Riak uses for
intra-cluster
 %% data handoff.
 {riak\\_handoff\\_port, 8099},

 %% mapred\\_name is URL used to submit map/reduce requests to Riak.
 {mapred\\_name, "mapred"},

 %% js\\_vm\\_count is the number of Javascript VMs to start per Riak
node.
 %% 8 is a good default for smaller installations. A larger number
like
 %% 12 or 16 is appropriate for installations handling lots of
map/reduce
 %% processing.
 {js\\_vm\\_count, 8},

 %% js\\_source\\_dir should point to a directory containing Javascript
source
 %% files which will be loaded by Riak when it initializes
Javascript VMs.
 %{js\\_source\\_dir, "/tmp/js\\_source"}


 %% riak\\_stat enables the use of the "riak-admin status" command to
 %% retrieve information the Riak node for performance and debugging
needs
 {riak\\_stat, true}
 ]},

 %% SASL config
 {sasl, [
 {sasl\\_error\\_logger, {file, "log/sasl-error.log"}},
 {errlog\\_type, error},
 {error\\_logger\\_mf\\_dir, "log/sasl"}, % Log directory
 {error\\_logger\\_mf\\_maxbytes, 10485760}, % 10 MB max file
size
 {error\\_logger\\_mf\\_maxfiles, 5} % 5 files max
 ]},

 {innostore, [
 {data\\_home\\_dir, "/riak/data"}, %% Where data files go
 {log\\_group\\_home\\_dir, "/riak/logs"}, %% Where log files go,
ideally the logs and data are on separate drives for performance...maybe
later
 {buffer\\_pool\\_size, 268435456} %% 256MB in-memory buffer in bytes
 ]}
].


Sorry for the confusion, that is the config file, I hope it helps.

Sincerely,
Tyler

On Tue, Apr 13, 2010 at 1:27 PM, Tyler Smart  wrote:

&gt; Hi all!
&gt;
&gt; I have installed Riak on an Ubuntu 8.04 EC-2 instance and it stores all of
&gt; its' data on an EBS block (10GB). The machine is 32 bit (small). It will
&gt; accept information in a bucket easily with a curl request like this:
&gt;
&gt; curl -X PUT -H "content-type: text/plain"
&gt; https://127.0.0.1/riak/example/foo --data "I have a document."
&gt;
&gt; If I query the data like this:
&gt;
&gt; curl -i -k https://127.0.0.1/riak/example/foo
&gt;
&gt; I get back the data, it works perfectly. (It sits behind nginx as a reverse
&gt; proxy that adds SSL).
&gt;
&gt; However, if I perform this query:
&gt;
&gt; https://127.0.0.1/riak/example
&gt;
&gt; it never finishes executing, nor if I try https://127.0.0.1/riak/test
&gt;
&gt; I have attached the conf file, if it will help, and I appreciate any time
&gt; you guys have!
&gt;
&gt; Sincerely,
&gt; Tyler
&gt;
&gt;
&gt; The problem I am having is that I can
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

