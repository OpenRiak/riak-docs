---
title: "Re: riak key sharding"
description: ""
project: community
lastmod: 2013-12-11T17:32:39-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13224"
mailinglist_parent_id: "msg13184"
author_name: "Andrew Stone"
project_section: "mailinglistitem"
sent_date: 2013-12-11T17:32:39-08:00
---


Hi Georgio,

There are many possible ways to do something like this. Riak CS in
particular chunks large files into immutable data blocks, and has manifests
pointing to those blocks to track versions of files. Manifests and blocks
are each stored in their own riak object. There are some tricks around
manifest merging that take into account the eventually consistent nature of
Riak CS, and there are quite a few other gotchas around building a system
like this on top of Riak, including undocumented performance hacks.

Riak CS additionally provides S3 API compatibility and is a commercially
supported product, built by people that also work on Riak and strive to
make the product as fast and reliable as possible on a daily basis. And
crazier than that, it's free and open source!

It doesn't sound like your goal is to build an object store, but to build a
good product on top of an object store. In this case, I'd say just use Riak
CS and develop your application. If CS doesn't meet your measured needs for
latency than build your own store, or better yet help fix Riak CS :)

Best of luck,
Andrew


On Tue, Dec 10, 2013 at 5:29 AM, Georgio Pandarez  wrote:

&gt; Hi,
&gt;
&gt; I have noticed that Riak-CS can shard (that is split) large keys
&gt; automatically across nodes. I would like to achieve a similar outcome with
&gt; Riak itself. Is there any best practice to achieve this? Could a portion of
&gt; Riak-CS be used or should I just bite the bullet and use Riak-CS?
&gt;
&gt; Latency is key for my application and I wanted to avoid the additional
&gt; layer Riak-CS provides.
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

