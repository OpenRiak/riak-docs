---
title: "Re: setting default bucket props"
description: ""
project: community
lastmod: 2010-04-28T07:58:01-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00195"
mailinglist_parent_id: "msg00194"
author_name: "Matthew Pflueger"
project_section: "mailinglistitem"
sent_date: 2010-04-28T07:58:01-07:00
---


Forgot to say I'm using riak-0.10.1...

--Matthew



On Wed, Apr 28, 2010 at 10:56, Matthew Pflueger
 wrote:
&gt; I am trying to set the default n\\_val in my app.config.  I'm not
&gt; getting any errors on startup but when a client tries to put some data
&gt; a process crashes eventually causing a time-out on the client side...
&gt;
&gt; app.config part:
&gt;
&gt; [
&gt;  %% Riak Core config
&gt;  {riak\\_core, [
&gt;              %% Default location of ringstate
&gt;              {ring\\_state\\_dir, "data/ring"},
&gt;
&gt;              %% Default bucket props
&gt;              {default\\_bucket\\_props, [{n\\_val, 1}]},
&gt;
&gt;
&gt; I'm seeing the following in the logs:
&gt;
&gt; sasl-error.log:
&gt;
&gt; =CRASH REPORT==== 28-Apr-2010::15:36:22 ===
&gt;  crasher:
&gt;    initial call: riak\\_kv\\_put\\_fsm:init/1
&gt;    pid: &lt;0.505.0&gt;
&gt;    registered\\_name: []
&gt;    exception exit: {undef,[{riak\\_core\\_bucket,defaults,[]},
&gt;                            {riak\\_core\\_util,chash\\_key,1},
&gt;                            {riak\\_kv\\_put\\_fsm,initialize,2},
&gt;                            {gen\\_fsm,handle\\_msg,7},
&gt;                            {proc\\_lib,init\\_p\\_do\\_apply,3}]}
&gt;      in function  gen\\_fsm:terminate/7
&gt;    ancestors: [&lt;0.504.0&gt;]
&gt;    messages: []
&gt;    links: []
&gt;    dictionary: []
&gt;    trap\\_exit: false
&gt;    status: running
&gt;    heap\\_size: 1597
&gt;    stack\\_size: 24
&gt;    reductions: 475
&gt;  neighbours:
&gt;
&gt; erlang.log.1
&gt;
&gt; =ERROR REPORT==== 28-Apr-2010::15:36:22 ===
&gt; \\*\\* State machine &lt;0.503.0&gt; terminating
&gt; \\*\\* Last event in was timeout
&gt; \\*\\* When State == initialize
&gt; \\*\\*      Data  == {state,
&gt;                     {r\\_object,&lt;&lt;"profiles"&gt;&gt;,&lt;&lt;"DymvhHkDplIEmpowMdQ35Q"&gt;&gt;,
&gt;                         [{r\\_content,
&gt;                              {dict,0,16,16,8,80,48,
&gt;                                  {[],[],[],[],[],[],[],[],[],[],[],[],[],[],
&gt;                                   [],[]},
&gt;                                  {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],
&gt;                                    [],[]}}},
&gt;                              &lt;&lt;&gt;&gt;}],
&gt;                         [{&lt;&lt;31,41,45,38&gt;&gt;,{1,63439684582}}],
&gt;                         {dict,1,16,16,8,80,48,
&gt;                             {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]},
&gt;                             {{[],[],[],[],[],[],[],[],[],[],
&gt;                               [[&lt;&lt;"content-type"&gt;&gt;,97,112,112,108,105,99,97,
&gt;                                 116,105,111,110,47,111,99,116,101,116,45,115,
&gt;                                 116,114,101,97,109]],
&gt;                               [],[],[],[],[]}}},
&gt;                         &lt;&lt;4,155,69,121,249,86,125,168,81,201,133,2,65,248,
&gt;                           238,53,23,1,40,242,226,220,30,37,113,164,204,34,
&gt;                           199,41,155,198,77,100,101,234,83,233,181,96,207,10,
&gt;                           ...lots more data...
&gt; \\*\\* Reason for termination =
&gt; \\*\\* {'function not exported',[{riak\\_core\\_bucket,defaults,[]},
&gt;                             {riak\\_core\\_util,chash\\_key,1},
&gt;                             {riak\\_kv\\_put\\_fsm,initialize,2},
&gt;                             {gen\\_fsm,handle\\_msg,7},
&gt;                             {proc\\_lib,init\\_p\\_do\\_apply,3}]}
&gt;
&gt;
&gt;
&gt; --Matthew
&gt;

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

