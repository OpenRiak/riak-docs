---
title: "Re: issue creating a custom index/schema"
description: ""
project: community
lastmod: 2016-05-09T10:08:11-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17314"
mailinglist_parent_id: "msg17315"
author_name: "Alex De la rosa"
project_section: "mailinglistitem"
sent_date: 2016-05-09T10:08:11-07:00
---


Ok, i solved the issues for the datatypes "int", "string", but still
getting errors for the "location\\_rpt":



2016-05-09 19:03:56.798 [error] &lt;0.588.0&gt;@yz\\_index:core\\_create:287 Couldn't
create index leaders\\_b:
{ok,"500",[{"Content-Type","text/html;charset=ISO-8859-1"},{"Cache-Control","must-revalidate,no-cache,no-store"},{"Content-Length","11214"}],&lt;&lt;"\\n\\n\\nError 500
{msg=com/vividsolutions/jts/geom/CoordinateSequenceFactory,trace=java.lang.NoClassDefFoundError:
com/vividsolutions/jts/geom/CoordinateSequenceFactory\\n\\tat
java.lang.Class.getDeclaredConstructors0(Native Method)\\n\\tat
java.lang.Class.privateGetDeclaredConstructors(Class.java:2595)\\n\\tat
java.lang.Class.getConstructor0(Class.java:2895)\\n\\tat
java.lang.Class.newInstance(Class.java:354)\\n\\tat
com.spatial4j.core.context.SpatialContextFactory.makeSpatialContext(SpatialContextFactory.java:96)\\n\\tat
org.apache.solr.schema.AbstractSpatialFieldType.init(AbstractSpatialFieldType.java:107)\\n\\tat
org.apache.solr.schema.AbstractSpatialPrefixTreeFieldType.init(AbstractSpatialPrefixTreeFieldType.java:43)\\n\\tat
org.apache.solr.schema.SpatialRecursivePrefixTreeFieldType.init(SpatialRecursivePrefixTreeFieldType.java:37)\\n\\tat
org.apache.solr.schema.FieldType.setArgs(FieldType.java:165)\\n\\tat
org.apache.solr.schema.FieldTypePluginLoader.init(FieldTypePluginLoader.java:141)\\n\\tat
org.apache.solr.schema.FieldTypePluginLoader.init(FieldTypePluginLoader.java:43)\\n\\tat
org.apache.solr.util.plugin.AbstractPluginLoader.load(AbstractPluginLoader.java:190)\\n\\tat
org.apache.solr.schema.IndexSchema.readSchema(IndexSchema.java:468)\\n\\tat
org.apache.solr.schema.IndexSchema.&lt;init&gt;(IndexSchema.java:166)\\n\\tat
org.apache.solr.schema.IndexSchemaFactory.create(IndexSchemaFactory.java:55)\\n\\tat
org.apache.solr.schema.IndexSchemaFactory.buildIndexSchema(IndexSchemaFactory.java:69)\\n\\tat
org.apache.solr.core.CoreContainer.createFromLocal(CoreContainer.java:559)\\n\\tat
org.apache.solr.core.CoreContainer.create(CoreContainer.java:597)\\n\\tat
org.apache.solr.handler.admin.CoreAdminHandler.handleCreateAction(CoreAdminHandler.java:509)\\n\\tat
org.apache.solr.handler.admin.CoreAdminHandler.handleRequestBody(CoreAdminHandler.java:152)\\n\\tat
org.apache.solr.handler.RequestHandlerBase.handleRequest(RequestHandlerBase.java:135)\\n\\tat
org.apache.solr.servlet.SolrDispatchFilter.handleAdminRequest(SolrDispatchFilter.java:732)\\n\\tat
org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:268)\\n\\tat
org.apache.solr.servlet.SolrDispatchFilter.doFilter(SolrDispatchFilter.java:217)\\n\\tat
org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1419)\\n\\tat
org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455)\\n\\tat
org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)\\n\\tat
org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)\\n\\tat
org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)\\n\\tat
org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075)\\n\\tat
org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384)\\n\\tat
org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)\\n\\tat
org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009)\\n\\tat
org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\\n\\tat
org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:255)\\n\\tat
org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154)\\n\\tat
org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\\n\\tat
org.eclipse.jetty.server.Server.handle(Server.java:368)\\n\\tat
org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489)\\n\\tat
org.eclipse.jetty.server.BlockingHttpConnection.handleRequest(BlockingHttpConnection.java:53)\\n\\tat
org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:942)\\n\\tat
org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1004)\\n\\tat
org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.ja..."&gt;&gt;}
Anyone knows how to fix it?

Thanks,
Alex

On Mon, May 9, 2016 at 8:50 PM, Alex De la rosa 
wrote:

&gt; i see... that part of the schema was written in another code block in the
&gt; documentation:
&gt;
&gt;  positionIncrementGap="0"/&gt;
&gt;
&gt; will try with that :) thanks
&gt;
&gt; Alex
&gt;
&gt; On Mon, May 9, 2016 at 8:48 PM, Vitaly &lt;13vitam...@gmail.com&gt; wrote:
&gt;
&gt;&gt; You don't have this type under . The failure is about "int"
&gt;&gt; because it's the first one encountered in the list of fields.
&gt;&gt;
&gt;&gt; Regards,
&gt;&gt; Vitaly
&gt;&gt;
&gt;&gt; On Mon, May 9, 2016 at 7:16 PM, Alex De la rosa 
&gt;&gt; wrote:
&gt;&gt;
&gt;&gt;&gt; Hi there,
&gt;&gt;&gt;
&gt;&gt;&gt; I'm trying to create a custom index as seen at
&gt;&gt;&gt; http://docs.basho.com/riak/kv/2.1.4/developing/usage/search-schemas and
&gt;&gt;&gt; I'm getting the following errors in my log:
&gt;&gt;&gt;
&gt;&gt;&gt; 2016-05-09 18:08:05.229 [error] &lt;0.588.0&gt;@yz\\_index:core\\_create:287
&gt;&gt;&gt; Couldn't create index scores: {ok,"400",[{"Content-Type","application/xml;
&gt;&gt;&gt; charset=UTF-8"},{"Transfer-Encoding","chunked"}],&lt;&lt;"xml version=\\"1.0\\"
&gt;&gt; encoding=\\"UTF-8\\"?&gt;\\n\\n&gt;&gt; name=\\"status\\"&gt;40026&gt;&gt; name=\\"error\\"&gt;Error CREATEing SolrCore 'scores': \\*Unable
&gt;&gt;&gt; to create core: scores Caused by: Unknown fieldType 'int' specified on
&gt;&gt;&gt; field points\\*400\\n\\n"&gt;&gt;}
&gt;&gt;&gt;
&gt;&gt;&gt; 2016-05-09 18:08:43.096 [error] &lt;0.9673.1&gt;@yz\\_index:sync\\_index:464 Solr
&gt;&gt;&gt; core error after trying to create index scores:
&gt;&gt;&gt; &lt;&lt;"org.apache.solr.common.SolrException:org.apache.solr.common.SolrException:
&gt;&gt;&gt; \\*Unknown fieldType 'int' specified on field points\\*. Schema file is
&gt;&gt;&gt; /var/lib/riak/yz/scores/./leaders.xml"&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; is saying the type "int" is unknown!! any ideas why? this is the schema
&gt;&gt;&gt; i'm uploading:
&gt;&gt;&gt;
&gt;&gt;&gt; xml version="1.0" encoding="UTF-8" ?
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; &gt;&gt; stored="false"/&gt;
&gt;&gt;&gt; &gt;&gt; stored="true"/&gt;
&gt;&gt;&gt; &gt;&gt; stored="true"/&gt;
&gt;&gt;&gt; &gt;&gt; stored="true"/&gt;
&gt;&gt;&gt; &gt;&gt; stored="true" multiValued="false" required="true"/&gt;
&gt;&gt;&gt; &gt;&gt; stored="false" multiValued="false"/&gt;
&gt;&gt;&gt; &gt;&gt; stored="false" multiValued="false"/&gt;
&gt;&gt;&gt; &gt;&gt; stored="false" multiValued="false"/&gt;
&gt;&gt;&gt; &gt;&gt; stored="false" multiValued="false"/&gt;
&gt;&gt;&gt; &gt;&gt; stored="true" multiValued="false"/&gt;
&gt;&gt;&gt; &gt;&gt; stored="true" multiValued="false"/&gt;
&gt;&gt;&gt; &gt;&gt; stored="true" multiValued="false"/&gt;
&gt;&gt;&gt; &gt;&gt; stored="false" multiValued="false"/&gt;
&gt;&gt;&gt; 
&gt;&gt;&gt;
&gt;&gt;&gt; \\_yz\\_id
&gt;&gt;&gt;
&gt;&gt;&gt; 
&gt;&gt;&gt; &gt;&gt; class="solr.SpatialRecursivePrefixTreeFieldType"
&gt;&gt;&gt; spatialContextFactory="com.spatial4j.core.context.jts.JtsSpatialContextFactory"
&gt;&gt;&gt; distErrPct="0.025" maxDistErr="0.000009" units="degrees" /&gt;
&gt;&gt;&gt; &gt;&gt; multiValued="true" class="solr.StrField" /&gt;
&gt;&gt;&gt; 
&gt;&gt;&gt; &gt;&gt; sortMissingLast="true" /&gt;
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks,
&gt;&gt;&gt; Alex
&gt;&gt;&gt;
&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

