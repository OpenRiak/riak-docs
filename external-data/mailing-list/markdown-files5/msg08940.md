---
title: "Re: epmd daemon runs after riak stops"
description: ""
project: community
lastmod: 2012-10-16T12:27:56-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08940"
mailinglist_parent_id: "msg08823"
author_name: "Ciprian Dorin Craciun"
project_section: "mailinglistitem"
sent_date: 2012-10-16T12:27:56-07:00
---


On Tue, Oct 9, 2012 at 12:31 AM, David Lowell  wrote:
&gt; I would like to understand better why '/etc/init.d/riak stop' stops riak,
&gt; but the 'epmd' daemon continues to run. I would have hoped that when I
&gt; administratively stop riak on a node that all its various cogs would stop
&gt; turning.
&gt;
&gt; Furthermore, I'm not clear on how the lifecycle of epmd is controled. Is it
&gt; started by any Erlang process that runs, and never stopped?
&gt;
&gt; I would appreciate any insights folks could offer. Thanks!

 Indeed this is a very annoying Erlang behaviour, especially when
running in container environments or highly controlled / automated
ones.

 If you are interested in finding more about both the "details" and
possible hacks, please see my previous posts (both here and on Erlang
mailing list):
 http://lists.freedesktop.org/archives/systemd-devel/2012-August/006273.html
 
http://lists.basho.com/pipermail/riak-users\\_lists.basho.com/2012-June/008608.html
 http://erlang.org/pipermail/erlang-questions/2011-October/062004.html
 http://erlang.org/pipermail/erlang-questions/2011-October/061893.html

 In short the solution is:
 \\* trick the erlang process not to start epmd itself; (see the last
link above;)
 \\* run epmd yourself as a separate service;

 Ciprian.

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

