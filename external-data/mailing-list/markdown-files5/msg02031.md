---
title: "Re: Trouble accessing data"
description: ""
project: community
lastmod: 2011-01-20T08:52:38-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02031"
mailinglist_parent_id: "msg02024"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2011-01-20T08:52:38-08:00
---


Hi Florian,

It looks like you may have renamed the node at some point. The
ring\\_membership currently reports that riak@127.0.0.1 is the only member,
however, the node itself is named riak@192.168.1.109.

Can you shutdown the node and run "riak-admin reip riak@127.0.0.1
riak@192.168.1.109"?

Once that is done, start the node and test ago.

Thanks,
Dan

Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Thu, Jan 20, 2011 at 3:21 AM, Florian Odronitz  wrote:

&gt; Hi all,
&gt;
&gt; I have problems accessing data on a solitary riak node.
&gt;
&gt; I tried to connect via protocol buffers:
&gt; 7&gt; riakc\\_pb\\_socket:ping(Pid).
&gt; pong
&gt; 8&gt; riakc\\_pb\\_socket:get(Pid, &lt;&lt;"test"&gt;&gt;, &lt;&lt;"test"&gt;&gt;).
&gt;
&gt; =ERROR REPORT==== 20-Jan-2011::12:02:39 ===
&gt; \\*\\* Generic server &lt;0.43.0&gt; terminating
&gt; \\*\\* Last message in was {req\\_timeout,#Ref&lt;0.0.0.71&gt;}
&gt; \\*\\* When Server state == {state,"192.168.1.109",8087,false,false,undefined,
&gt; undefined,
&gt; {[],[]},
&gt; 1,[],100}
&gt; \\*\\* Reason for termination ==
&gt; \\*\\* disconnected
&gt; \\*\\* exception exit: disconnected
&gt;
&gt;
&gt; A similar thing happens with http:
&gt; dark-fish:~ odo101$ curl 192.168.1.109:8098/riak/test/
&gt;
&gt; {"props":{"name":"test","n\\_val":3,"allow\\_mult":false,"last\\_write\\_wins":false,"precommit":[],"postcommit":[],"chash\\_keyfun":{"mod":"riak\\_core\\_util","fun":"chash\\_std\\_keyfun"},"linkfun":{"mod":"riak\\_kv\\_wm\\_link\\_walker","fun":"mapreduce\\_linkfun"},"old\\_vclock":86400,"young\\_vclock":20,"big\\_vclock":50,"small\\_vclock":10,"r":"quorum","w":"quorum","dw":"quorum","rw":"quorum"}}
&gt; dark-fish:~ odo101$ curl 192.168.1.109:8098/riak/test/test
&gt; request timed out
&gt;
&gt; The log files in /var/log/riak don't seem to report any errors.
&gt;
&gt; So it looks like the node answers and can return metadata but has trouble
&gt; accessing data.
&gt;
&gt; The riak node runs on a virtual machine (via VirtualBox) using Ubuntu 10.10
&gt; server.
&gt; I tried installing from source and installing from the package. I also
&gt; tried running riak as root. The result was always the same.
&gt;
&gt; Below is the status of the riak node.
&gt;
&gt; Any help is appreciated.
&gt;
&gt; Best,
&gt; Florian
&gt;
&gt;
&gt; riak@riak:~$ riak-admin status
&gt; 1-minute stats for 'riak@192.168.1.109'
&gt; -------------------------------------------
&gt; vnode gets : 0
&gt; vnode\\_puts : 0
&gt; read\\_repairs : 0
&gt; vnode\\_gets\\_total : 0
&gt; vnode\\_puts\\_total : 0
&gt; node\\_gets : 1
&gt; node\\_gets\\_total : 9
&gt; node\\_get\\_fsm\\_time\\_mean : 60007629.0
&gt; node\\_get\\_fsm\\_time\\_median : 60007629
&gt; node\\_get\\_fsm\\_time\\_95 : 60007629
&gt; node\\_get\\_fsm\\_time\\_99 : 60007629
&gt; node\\_get\\_fsm\\_time\\_100 : 60007629
&gt; node\\_puts : 0
&gt; node\\_puts\\_total : 0
&gt; node\\_put\\_fsm\\_time\\_mean : undefined
&gt; node\\_put\\_fsm\\_time\\_median : undefined
&gt; node\\_put\\_fsm\\_time\\_95 : undefined
&gt; node\\_put\\_fsm\\_time\\_99 : undefined
&gt; node\\_put\\_fsm\\_time\\_100 : undefined
&gt; read\\_repairs\\_total : 0
&gt; cpu\\_nprocs : 138
&gt; cpu\\_avg1 : 0
&gt; cpu\\_avg5 : 5
&gt; cpu\\_avg15 : 0
&gt; mem\\_total : 516673536
&gt; mem\\_allocated : 118091776
&gt; disk : [{"/",7852740,29},
&gt; {"/dev",245560,1},
&gt; {"/dev/shm",252280,0},
&gt; {"/var/run",252280,1},
&gt; {"/var/lock",252280,0},
&gt; {"/var/lib/ureadahead/debugfs",7852740,29}]
&gt; nodename : 'riak@192.168.1.109'
&gt; connected\\_nodes : []
&gt; sys\\_driver\\_version : &lt;&lt;"1.5"&gt;&gt;
&gt; sys\\_global\\_heaps\\_size : 0
&gt; sys\\_heap\\_type : private
&gt; sys\\_logical\\_processors : 1
&gt; sys\\_otp\\_release : &lt;&lt;"R13B04"&gt;&gt;
&gt; sys\\_process\\_count : 154
&gt; sys\\_smp\\_support : false
&gt; sys\\_system\\_version : &lt;&lt;"Erlang R13B04 (erts-5.7.5) [source] [64-bit] [rq:1]
&gt; [async-threads:64] [kernel-poll:true]"&gt;&gt;
&gt; sys\\_system\\_architecture : &lt;&lt;"x86\\_64-pc-linux-gnu"&gt;&gt;
&gt; sys\\_threads\\_enabled : true
&gt; sys\\_thread\\_pool\\_size : 64
&gt; sys\\_wordsize : 8
&gt; ring\\_members : ['riak@127.0.0.1']
&gt; ring\\_num\\_partitions : 64
&gt; ring\\_ownership : &lt;&lt;"[{'riak@127.0.0.1',64}]"&gt;&gt;
&gt; ring\\_creation\\_size : 64
&gt; storage\\_backend : riak\\_kv\\_bitcask\\_backend
&gt; pbc\\_connects\\_total : 7
&gt; pbc\\_connects : 0
&gt; pbc\\_active : 0
&gt; cluster\\_info\\_version : &lt;&lt;"1.0.0"&gt;&gt;
&gt; luwak\\_version : &lt;&lt;"1.0.0"&gt;&gt;
&gt; skerl\\_version : &lt;&lt;"1.0.0"&gt;&gt;
&gt; riak\\_kv\\_version : &lt;&lt;"0.14.0"&gt;&gt;
&gt; riak\\_core\\_version : &lt;&lt;"0.14.0"&gt;&gt;
&gt; bitcask\\_version : &lt;&lt;"1.1.5"&gt;&gt;
&gt; luke\\_version : &lt;&lt;"0.2.3"&gt;&gt;
&gt; webmachine\\_version : &lt;&lt;"1.8.0"&gt;&gt;
&gt; mochiweb\\_version : &lt;&lt;"1.7.1"&gt;&gt;
&gt; erlang\\_js\\_version : &lt;&lt;"0.5.0"&gt;&gt;
&gt; runtime\\_tools\\_version : &lt;&lt;"1.8.3"&gt;&gt;
&gt; crypto\\_version : &lt;&lt;"1.6.4"&gt;&gt;
&gt; os\\_mon\\_version : &lt;&lt;"2.2.5"&gt;&gt;
&gt; riak\\_err\\_version : &lt;&lt;"1.0.0"&gt;&gt;
&gt; sasl\\_version : &lt;&lt;"2.1.9"&gt;&gt;
&gt; stdlib\\_version : &lt;&lt;"1.16.5"&gt;&gt;
&gt; kernel\\_version : &lt;&lt;"2.13.5"&gt;&gt;
&gt; executing\\_mappers : 0
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

