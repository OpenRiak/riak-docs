---
title: "Re: What does \"...riak_core_sysmon_handler:handle_event:85 monitor	long_gc...\" mean?"
description: ""
project: community
lastmod: 2012-02-08T18:17:52-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg06560"
mailinglist_parent_id: "msg06546"
author_name: "Mark Phillips"
project_section: "mailinglistitem"
sent_date: 2012-02-08T18:17:52-08:00
---


Hi Gal,

You are indeed right in thinking that this is not a show-stopper. It's
essentially a warning that GC took a long time. Take a look at hte erlang
docs for more info on the specifics of long\\_gc [1].

As far as preventing them, you have two options: use less memory, or
increase the memory settings in your app.config to a point where Riak
doesn't complain any more.

Hope that helps.

Mark

[1]
http://www.snookles.com/erlang-docs/R14B04//erts-5.8.5/doc/html/erlang.html#system\\_monitor-2

On Mon, Feb 6, 2012 at 3:17 AM, Gal Barnea  wrote:

&gt; Hi guys
&gt; we are running a relatively big map reduce (covers around 20-30 millions
&gt; records) and I'm seeing a lot of these in the logs:
&gt; ...
&gt; 2012-02-06 11:14:57.631 [info]
&gt; &lt;0.5703.3625&gt;@riak\\_core\\_sysmon\\_handler:handle\\_event:85 monitor long\\_gc
&gt; &lt;0.2086.3871&gt; [{initial\\_call,{erlang,apply,2}},{almost\\_
&gt; current\\_function,{gen,do\\_call,4}}]
&gt; [{timeout,253},{old\\_heap\\_block\\_size,0},{heap\\_block\\_size,59786060},{mbuf\\_size,0},{stack\\_size,17},{old\\_heap\\_size,0},{heap\\_si
&gt; ze,17553801}]
&gt; 2012-02-06 11:14:57.632 [info]
&gt; &lt;0.5703.3625&gt;@riak\\_core\\_sysmon\\_handler:handle\\_event:85 monitor large\\_heap
&gt; &lt;0.2086.3871&gt; [{initial\\_call,{erlang,apply,2}},{almo
&gt; st\\_current\\_function,{gen,do\\_call,4}}]
&gt; [{old\\_heap\\_block\\_size,0},{heap\\_block\\_size,59786060},{mbuf\\_size,0},{stack\\_size,17},{old\\_heap\\_size,0},{heap\\_size,17553801
&gt; }]
&gt; 2012-02-06 11:15:10.995 [info]
&gt; &lt;0.5703.3625&gt;@riak\\_core\\_sysmon\\_handler:handle\\_event:85 monitor long\\_gc
&gt; &lt;0.2086.3871&gt; [{initial\\_call,{erlang,apply,2}},{almost\\_
&gt; current\\_function,{gen,do\\_call,4}}]
&gt; [{timeout,240},{old\\_heap\\_block\\_size,0},{heap\\_block\\_size,59786060},{mbuf\\_size,0},{stack\\_size,17},{old\\_heap\\_size,0},{heap\\_si
&gt; ze,17479047}]
&gt; 2012-02-06 11:15:10.995 [info]
&gt; &lt;0.5703.3625&gt;@riak\\_core\\_sysmon\\_handler:handle\\_event:85 monitor large\\_heap
&gt; &lt;0.2086.3871&gt; [{initial\\_call,{erlang,apply,2}},{almo
&gt; st\\_current\\_function,{gen,do\\_call,4}}]
&gt; [{old\\_heap\\_block\\_size,0},{heap\\_block\\_size,59786060},{mbuf\\_size,0},{stack\\_size,17},{old\\_heap\\_size,0},{heap\\_size,17479047
&gt; }]
&gt;
&gt; This is probably harmless being logged as INFO, however, seeing a lot of
&gt; these, I would be glad to understand why these are happening and what I can
&gt; do to prevent them?
&gt;
&gt; Thanks
&gt; Gal
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

