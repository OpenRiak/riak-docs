---
title: "Re: node data migration"
description: ""
project: community
lastmod: 2010-05-04T14:20:11-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg00254"
mailinglist_parent_id: "msg00253"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2010-05-04T14:20:11-07:00
---


Sorry, I misunderstood our devs. That feature is planned but has not been 
pushed to tip yet. In the meantime, you can use Grant's strategy.

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On May 4, 2010, at 5:12 PM, Matthew Pflueger wrote:

&gt; Maybe I'm missing something but the riak-admin script does not support
&gt; the leave command...
&gt; 
&gt; --Matthew
&gt; 
&gt; 
&gt; 
&gt; On Tue, May 4, 2010 at 17:05, Sean Cribbs  wrote:
&gt;&gt; Also, if you're certain you want it to relinquish its data before shutting 
&gt;&gt; down, use 'riak-admin leave'. It will then proceed to handoff all of its 
&gt;&gt; keys to other nodes and then cleanly shut down. With 1GB of data this could 
&gt;&gt; take a while, however.
&gt;&gt; 
&gt;&gt; Sean Cribbs 
&gt;&gt; Developer Advocate
&gt;&gt; Basho Technologies, Inc.
&gt;&gt; http://basho.com/
&gt;&gt; 
&gt;&gt; On May 4, 2010, at 4:02 PM, Matthew Pflueger wrote:
&gt;&gt; 
&gt;&gt;&gt; Scenario: I need to upgrade the OS of my nodes in my cluster which
&gt;&gt;&gt; will result in a reboot of each node. What would be the process to
&gt;&gt;&gt; nicely migrate data away from each node?
&gt;&gt;&gt; 
&gt;&gt;&gt; If my understanding is correct, performing a nice shutdown of a riak
&gt;&gt;&gt; node via `riak stop` will migrate the data away from the node. Am I
&gt;&gt;&gt; correct? If so, approximately how long would it take to do the
&gt;&gt;&gt; migration if say each node represents 1 gig of data? Does that whole
&gt;&gt;&gt; gig get migrated away or only the data that is not replicated?
&gt;&gt;&gt; 
&gt;&gt;&gt; 
&gt;&gt;&gt; --Matthew
&gt;&gt;&gt; 
&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt; 
&gt;&gt; 


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

