---
title: "Re: Beginners performance problem"
description: ""
project: community
lastmod: 2013-02-24T10:00:37-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10233"
mailinglist_parent_id: "msg10228"
author_name: "Brian Roach"
project_section: "mailinglistitem"
sent_date: 2013-02-24T10:00:37-08:00
---


One issue that immediately stands out:

&gt; &gt;&gt;&gt;
&gt; Bucket bucket = sharedClient.createBucket("accounts1").execute();
&gt; bucket.store(a.getId().toString(),
mapper.writeValueAsString(a)).execute();
&gt; &gt;&gt;&gt;

'CreateBucket()' is doing a fetch of the bucket properties and then storing
them back to the cluster when 'execute()' is called.

You want to fetch the bucket once then pass around the reference to it, or
at the very least use:
fetchBucket("accounts1").lazyLoadBucketProperties().execute();
Inside your threads.

The only time you ever want to use createBucket() is when you want to
modify the bucket properties.

- Roach
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

