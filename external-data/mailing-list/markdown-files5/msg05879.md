---
title: "Re: About Riak a  using 50K at least?"
description: ""
project: community
lastmod: 2011-12-06T19:13:27-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05879"
mailinglist_parent_id: "msg05862"
author_name: "郎咸武"
project_section: "mailinglistitem"
sent_date: 2011-12-06T19:13:27-08:00
---




Hi, Sean Cribbs ,Thank you. You are right. I have a little puzzle. If there are 
large of , a lot of blocks will be consumed.
I only put a aiml file element put into ria,28M of the filesystem will be 
consumed.
from jasonof the filesystem will be consumed




jason@localhost:/media/a619c70d-014a-4245-88d9-9e667b0f343a/home/jason/sofriak/riak/rel/riak/data/bitcask$
 du -ha
4.0K./1438665674247607560106752257205091097473808596992/1323224499.bitcask.hint
4.0K./1438665674247607560106752257205091097473808596992/1323224499.bitcask.data
4.0K./1438665674247607560106752257205091097473808596992/bitcask.write.lock
16K./1438665674247607560106752257205091097473808596992
4.0K./1392993748081016843912887106182707253109560705024/1323224499.bitcask.hint
4.0K./1392993748081016843912887106182707253109560705024/1323224499.bitcask.data
4.0K./1392993748081016843912887106182707253109560705024/bitcask.write.lock
16K./1392993748081016843912887106182707253109560705024
4.0K./1415829711164312202009819681693899175291684651008/1323224499.bitcask.hint
4.0K./1415829711164312202009819681693899175291684651008/1323224499.bitcask.data
4.0K./1415829711164312202009819681693899175291684651008/bitcask.write.lock
16K./1415829711164312202009819681693899175291684651008
4.0K./1255977969581244695331291653115555720016817029120/1323225974.bitcask.data
4.0K./1255977969581244695331291653115555720016817029120/bitcask.write.lock
4.0K./1255977969581244695331291653115555720016817029120/1323225974.bitcask.hint
16K./1255977969581244695331291653115555720016817029120
4.0K./1301649895747835411525156804137939564381064921088/1323225974.bitcask.data
4.0K./1301649895747835411525156804137939564381064921088/bitcask.write.lock
4.0K./1301649895747835411525156804137939564381064921088/1323225974.bitcask.hint
16K./1301649895747835411525156804137939564381064921088
4.0K./1278813932664540053428224228626747642198940975104/1323225974.bitcask.data
4.0K./1278813932664540053428224228626747642198940975104/bitcask.write.lock
4.0K./1278813932664540053428224228626747642198940975104/1323225974.bitcask.hint
16K./1278813932664540053428224228626747642198940975104
100K.

在2011-12-06，"Sean Cribbs"  写道： -----原始邮件-----
发件人:"Sean Cribbs" 
发送时间:2011年12月6日 星期二
收件人:"郎咸武" 
抄送:riak-users@lists.basho.com
主题:Re: About Riak a  using 50K at least?

Note that your filesystem uses 4KB blocks, so even if there are 0 bytes in a 
file, 4KB of the filesystem will be consumed. Look at the usage of individual 
files in the directories you mentioned and I think you will find them small, 
perhaps some of them 0 in length.


2011/12/6 郎咸武


Hi all,I install riak with make rel in my ubuntu.
I found a K-V consume 50K when i put a &lt;"mine","bread"&gt; to the riak. But, i am 
not sure. Please tell me the reason. Thank you.


from jason


about list.
O0 = riak\\_object:new(&lt;&lt;"groceries"&gt;&gt;, &lt;&lt;"mine"&gt;&gt;, ["bread"]).
C:put(Oo);
du -h bitcask
16K bitcask/1438665674247607560106752257205091097473808596992
16K bitcask/1392993748081016843912887106182707253109560705024
16K bitcask/1415829711164312202009819681693899175291684651008
52K bitcask


O3 = riak\\_object:new(&lt;&lt;"groceries"&gt;&gt;, &lt;&lt;"mines"&gt;&gt;, ["bread"]).
 C:put(O3)



jason@localhost:/media/a619c70d-014a-4245-88d9-9e667b0f343a/home/jason/sofriak/riak/rel/riak/data$
 du -h bitcask
16K bitcask/1438665674247607560106752257205091097473808596992
16K bitcask/1392993748081016843912887106182707253109560705024
16K bitcask/1415829711164312202009819681693899175291684651008
16K bitcask/1255977969581244695331291653115555720016817029120
16K bitcask/1301649895747835411525156804137939564381064921088
16K bitcask/1278813932664540053428224228626747642198940975104
100K bitcask






\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com







--
Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://www.basho.com/

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

