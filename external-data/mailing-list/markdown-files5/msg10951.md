---
title: "Re: the optimal value of the ring_creation_size"
description: ""
project: community
lastmod: 2013-04-22T14:18:24-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10951"
mailinglist_parent_id: "msg10946"
author_name: "Joe Caswell"
project_section: "mailinglistitem"
sent_date: 2013-04-22T14:18:24-07:00
---


Tom,
 There is no hard and fast rule for the "best value." The optimal value
for your situation will need to take into account the physical resources
available both in your starting cluster as well as your planned end-state
cluster. If you plan to use secondary indexing, the maximum
ring\\_creation\\_size you should consider is 512.
 There will be a separate concurrent vnode\\_proxy process for each vnode,
and a process for each backend for each vnode. Each backend will need open
file handles and RAM for caching objects. The backend configuration section
of the docs should help plan your backed settings
http://docs.basho.com/riak/1.3.1/tutorials/choosing-a-backend/
 Your planning must also include failure scenarios. If any of your nodes
crash, the surviving nodes will each start more vnodes to cover the missing
node(s). The 10 vnodes per node recommendation is to ensure that the
vnodes from any single failed node can be divided among enough surviving
nodes to not leave one node handling significantly more load than the other,
but this also is not a hard and fast rule.
At this time changing number of partitions in the ring does require a
complete rebuild of the cluster, we do have dynamic ring sizing on the
product roadmap, but there is no release date set for that feature.

Joe Caswell

From: Tom Zeng 
Date: Sunday, April 21, 2013 9:38 PM
To: 
Subject: the optimal value of the ring\\_creation\\_size

Hi,

I am wondering what's the best value for ring\\_creation\\_size, the default is
64. According to the docs 64 will work for a cluster of no more than 6 nodes
(64 /10), and ring\\_creation\\_size of 128 will allow cluster of up to 12 mode.
I am wondering what kind of overhead of is associated with a large
ring\\_creation\\_size. Since changing the ring\\_creation\\_size will result in
rebuilding the cluster(destuctive), would a larger value make more sense and
allow scaling by adding more nodes?


Thanks,
Tom

-- 
Tom Zeng
Director of Engineering
Intridea, Inc. | www.intridea.com 
t...@intridea.com
(o) 888.968.4332 x519
(c) 240-643-8728
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_ riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

