---
title: "Re: Riak returning no objects when an object should exist"
description: ""
project: community
lastmod: 2014-07-02T19:04:18-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14451"
mailinglist_parent_id: "msg14450"
author_name: "Thomas Santero"
project_section: "mailinglistitem"
sent_date: 2014-07-02T19:04:18-07:00
---


Hi Alain,

Im only speculating here, but id wager to say that this isn't the same key 
always, but rather multiple different keys that you know to exist?

If that's the case it's possible that with notfound\\_ok: true sometimes Riak 
will return a not found if a vnode in the preflist responds back without the 
data, due to a partial write.

Can you provide more info and/or logs?

Tom

This message was typed but not proofread

&gt; On Jul 2, 2014, at 8:33 PM, Alain Rodriguez  wrote:
&gt; 
&gt; Hi all,
&gt; 
&gt; We are seeing a situation where reading a key that is known to exist returns 
&gt; no value. The bucket properties are as follows:
&gt; 
&gt; {"props":{"allow\\_mult":false,"basic\\_quorum":false,"big\\_vclock":50,"chash\\_keyfun":{"mod":"riak\\_core\\_util","fun":"chash\\_std\\_keyfun"},"dw":"quorum","last\\_write\\_wins":true,"linkfun":{"mod":"riak\\_kv\\_wm\\_link\\_walker","fun":"mapreduce\\_linkfun"},"n\\_val":3,"name":"1m","notfound\\_ok":true,"old\\_vclock":86400,"postcommit":[],"pr":0,"precommit":[],"pw":0,"r":"quorum","rw":"quorum","small\\_vclock":50,"w":"quorum","young\\_vclock":20}}
&gt; 
&gt; Most of the times reading the key returns a value, but sometimes it doesn't. 
&gt; We are running on a 10 node cluster with AAE turned off.
&gt; 
&gt; What could be going on here?
&gt; 
&gt; Cheers,
&gt; 
&gt; Alain
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

