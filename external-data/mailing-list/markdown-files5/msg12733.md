---
title: "Re: Updating Counters on Riak 2.0 pre whatever"
description: ""
project: community
lastmod: 2013-10-22T12:34:49-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12733"
mailinglist_parent_id: "msg12731"
author_name: "Jared Morrow"
project_section: "mailinglistitem"
sent_date: 2013-10-22T12:34:49-07:00
---


Darren,

Yes we do, we are actively testing our pre builds as we speak. This code
was early pre-release and was stated as such. It is also on the 'develop'
branch which we advertise as development code and not necessarily fully
integration tested.

Thanks for your concern.
-Jared


On Tue, Oct 22, 2013 at 1:21 PM, darren  wrote:

&gt; Don't you guys do regression testing?
&gt;
&gt;
&gt; Sent from my Verizon Wireless 4G LTE Smartphone
&gt;
&gt;
&gt;
&gt; -------- Original message --------
&gt; From: Russell Brown 
&gt; Date: 10/22/2013 3:07 PM (GMT-05:00)
&gt; To: Jeremiah Peschka 
&gt; Cc: riak-users 
&gt; Subject: Re: Updating Counters on Riak 2.0 pre whatever
&gt;
&gt;
&gt; Yes! Sorry!
&gt;
&gt; We broke backwards compatibility during development. We merged the patch
&gt; today[1]. The develop branch works right now. It will get into the next pre
&gt; (or whatever the next tag is called.)
&gt;
&gt; Apologies again, it was easier for me to do the new work without thinking
&gt; about backwards compatibility, then re-add old counters when the 2.0 stuff
&gt; was done.
&gt;
&gt; Let me know if you have any more issues going forward, please.
&gt;
&gt; Cheers
&gt;
&gt; Russell
&gt;
&gt; [1] https://github.com/basho/riak\\_kv/pull/697
&gt; On 22 Oct 2013, at 19:56, Jeremiah Peschka 
&gt; wrote:
&gt;
&gt; &gt; I'm attempting to create a counter on Riak 2.0 built from the develop on
&gt; Sunday. When I send a counter increment message using RpbCounterUpdateReq,
&gt; I get the following back from Riak:
&gt; &gt;
&gt; &gt; Riak returned an error. Code '0'. Message: Error processing incoming
&gt; message: error:undef:[{riak\\_kv\\_counter,supported,
&gt; &gt; [],[]},
&gt; &gt;
&gt; {riak\\_kv\\_pb\\_counter,process,
&gt; &gt; 2,
&gt; &gt; [{file,
&gt; &gt;
&gt; "src/riak\\_kv\\_pb\\_counter.erl"},
&gt; &gt; {line,114}]},
&gt; &gt; {riak\\_api\\_pb\\_server,
&gt; &gt; process\\_message,4,
&gt; &gt; [{file,
&gt; &gt;
&gt; "src/riak\\_api\\_pb\\_server.erl"},
&gt; &gt; {line,386}]},
&gt; &gt; {riak\\_api\\_pb\\_server,
&gt; &gt; connected,2,
&gt; &gt; [{file,
&gt; &gt;
&gt; "src/riak\\_api\\_pb\\_server.erl"},
&gt; &gt; {line,228}]},
&gt; &gt; {riak\\_api\\_pb\\_server,
&gt; &gt; decode\\_buffer,2,
&gt; &gt; [{file,
&gt; &gt;
&gt; "src/riak\\_api\\_pb\\_server.erl"},
&gt; &gt; {line,362}]},
&gt; &gt; {gen\\_fsm,handle\\_msg,7,
&gt; &gt; [{file,"gen\\_fsm.erl"},
&gt; &gt; {line,505}]},
&gt; &gt;
&gt; {proc\\_lib,init\\_p\\_do\\_apply,3,
&gt; &gt; [{file,"proc\\_lib.erl"},
&gt; &gt; {line,239}]}]
&gt; &gt; ---
&gt; &gt; Jeremiah Peschka - Founder, Brent Ozar Unlimited
&gt; &gt; MCITP: SQL Server 2008, MVP
&gt; &gt; Cloudera Certified Developer for Apache Hadoop
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

