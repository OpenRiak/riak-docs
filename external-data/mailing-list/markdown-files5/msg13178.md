---
title: "Re: Timeout on Streaming all keys"
description: ""
project: community
lastmod: 2013-12-09T06:12:00-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13178"
mailinglist_parent_id: "msg13154"
author_name: "Luke Bakken"
project_section: "mailinglistitem"
sent_date: 2013-12-09T06:12:00-08:00
---


Hi Shimon,

There is a tech preview of 2.0.0 available here that includes
Yokozuna: http://docs.basho.com/riak/2.0.0pre5/downloads/

However, since then there have been updates to Yokozuna. You can build
from the latest sources using the instructions here:

https://github.com/basho/yokozuna/blob/develop/docs/INSTALL.md#source-package

You will find related YZ docs in that "docs" directory as well.

--
Luke Bakken
CSE
lbak...@basho.com


On Mon, Dec 9, 2013 at 4:11 AM, Shimon Benattar  wrote:
&gt;
&gt; Hi Luke, I'd love to have your insights on our problem.
&gt;
&gt; About setting the timeout, we are anyway considering to upgrade to version 
&gt; 2.0 so maybe I'll try that. is there an official release data?
&gt; Does the basic installation already include installation of Yokozuna? is 
&gt; there some guide on how to work woth Yokozuna?
&gt;
&gt; Thanks,
&gt;
&gt; Shimon
&gt;
&gt;
&gt; On 5 December 2013 19:48, Luke Bakken  wrote:
&gt;&gt;
&gt;&gt; Hi Shimon,
&gt;&gt;
&gt;&gt; I spoke with a member of the Java client team and the timeout is set to 60 
&gt;&gt; seconds. In the 2.0 version of the client this will be user-settable.
&gt;&gt;
&gt;&gt; To make sure there's not a crash or other issue causing the long list keys, 
&gt;&gt; feel free to run "riak-debug" on nodes in your cluster and provide the 
&gt;&gt; generated archives. We can discuss that off-list.
&gt;&gt;
&gt;&gt; --
&gt;&gt; Luke Bakken
&gt;&gt; CSE
&gt;&gt; lbak...@basho.com
&gt;&gt;
&gt;&gt;
&gt;&gt; On Wed, Dec 4, 2013 at 12:43 AM, Shimon Benattar  wrote:
&gt;&gt;&gt;
&gt;&gt;&gt; Hi Luke,
&gt;&gt;&gt; We're using v1.4
&gt;&gt;&gt;
&gt;&gt;&gt; On Dec 3, 2013 6:19 PM, "Luke Bakken"  wrote:
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Hi Shimon,
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; What version of Riak and the Java client are you using?
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; Thanks
&gt;&gt;&gt;&gt; --
&gt;&gt;&gt;&gt; Luke Bakken
&gt;&gt;&gt;&gt; CSE
&gt;&gt;&gt;&gt; lbak...@basho.com
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt; On Thu, Nov 28, 2013 at 4:00 AM, Shimon Benattar  wrote:
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Hi Riak users,
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Unfortunately for me I need to implement the get all keys method in our 
&gt;&gt;&gt;&gt;&gt; system (I know it is not recommended)
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; I am developing classes with the Java Api and using the streaming option 
&gt;&gt;&gt;&gt;&gt; as following
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; StreamingOperation keys = riakBucket.keys();
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; while (keys.hasNext()) {
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; final String next = keys.next();
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; out.write(next);
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; out.newLine();
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; }
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; riakBucket.keys().cancel();
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; My problem here is that for a simple class I inserted in Riak, after ~4.7 
&gt;&gt;&gt;&gt;&gt; million keys I am getting a timeout from Riak.
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Is there any way to configure the read operation timeout or to somehow 
&gt;&gt;&gt;&gt;&gt; catch the timeout and continue to receive the next keys (Can I somehow 
&gt;&gt;&gt;&gt;&gt; bulk read the keys)?
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; Shimon
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;&gt;&gt;&gt;
&gt;&gt;&gt;&gt;
&gt;&gt;
&gt;

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

