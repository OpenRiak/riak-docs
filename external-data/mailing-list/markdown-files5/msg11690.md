---
title: "Re: Best way to insert a collection of items at once"
description: ""
project: community
lastmod: 2013-07-22T10:16:37-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11690"
mailinglist_parent_id: "msg11681"
author_name: "Deyan Dyankov"
project_section: "mailinglistitem"
sent_date: 2013-07-22T10:16:37-07:00
---


Hi,

I am not familiar with the java api but in my opinion you should not compromise 
on the quorums in order to gain speed, at least not in this case.
Looping through each item is the collection is slow but you can divide the 
collection in 10 chunks (for example) and loop them using 10 different threads.
This is what I do when I need to migrate data into riak. The migration executes 
faster and riak handles it very well.

best regards,
Deyan

On Jul 22, 2013, at 6:57 PM, rsb  wrote:

&gt; Hi All, new Riak'er here so please bear with me.
&gt; 
&gt; I have a cluster of 5 nodes, and I have created a cluster-PCB client using
&gt; the RiakFactory. My question is the following;
&gt; 
&gt; Given a collection of 10,000 items, what is the fastest way of inserting
&gt; such items. I have tried the following techniques using the Java API 1.1.0.
&gt; 
&gt; - Looping through each item in the collection and performing a
&gt; bucket.store(key, val).execute()
&gt; - I have also tried using StoreObject with defaults and specifying
&gt; 'lazy' quorums
&gt; \\* I have read StoreObject does a read on every write, if true, can that
&gt; be disabled?
&gt; 
&gt; Thanks in advance!
&gt; 
&gt; 
&gt; 
&gt; --
&gt; View this message in context: 
&gt; http://riak-users.197444.n3.nabble.com/Best-way-to-insert-a-collection-of-items-at-once-tp4028487.html
&gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

