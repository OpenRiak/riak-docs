---
title: "Re: Understanding an intermittent mapreduce error"
description: ""
project: community
lastmod: 2014-06-16T18:01:30-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14316"
mailinglist_parent_id: "msg14315"
author_name: "Toby Corkindale"
project_section: "mailinglistitem"
sent_date: 2014-06-16T18:01:30-07:00
---


Hi Sean,
Thanks for your response -- sorry about the delay. I'm in a far away timezone.
The response I get is:
Eshell V5.9.1 (abort with ^G)
(riak@riak01.internal)1&gt; rr(rpc:multicall(riak\\_kv\\_mapred\\_json,
module\\_info, [exports])).
{error,invalid\\_filename}
(riak@riak01.internal)2&gt;

-Toby

On 16 June 2014 23:22, Sean Cribbs  wrote:
&gt; Toby,
&gt;
&gt; Could you try this?
&gt;
&gt; 1. Run `riak attach`
&gt; 2. Type into the console: rr(rpc:multicall(riak\\_kv\\_mapred\\_json, module\\_info,
&gt; [exports])).
&gt; 3. Paste back to me what the result is
&gt;
&gt; Cheers,
&gt;
&gt;
&gt; On Mon, Jun 16, 2014 at 3:31 AM, Toby Corkindale  wrote:
&gt;&gt;
&gt;&gt; Hi,
&gt;&gt; I'm trying to understand why I'm getting an intermittent error on a
&gt;&gt; particular map-reduce call to Riak 1.4.9.
&gt;&gt; The query isn't particularly complicated, and filters mean it should
&gt;&gt; only be running over ~100 keys, and returning &lt;10 each time, so I
&gt;&gt; don't think I should be hitting any stack or memory limits in the JS
&gt;&gt; VMs.
&gt;&gt;
&gt;&gt; It fails frequently, but not every time. When pointing it at just a
&gt;&gt; single Riak server for debugging purposes, it fails around 30% of the
&gt;&gt; time.
&gt;&gt; The error returned is as follows:
&gt;&gt;
&gt;&gt; {
&gt;&gt; "input" : null,
&gt;&gt; "stack" : null,
&gt;&gt; "phase" : 1,
&gt;&gt; "error" :
&gt;&gt; "{undef,[{riak\\_kv\\_mapred\\_json,jsonify\\_not\\_found,[{struct,[{&lt;&lt;\\"email\\"&gt;&gt;,&lt;&lt;\\"u...@example.com\\"&gt;&gt;},{&lt;&lt;\\"attributes\\"&gt;&gt;,[&lt;&lt;\\"someattributes\\"&gt;&gt;,&lt;&lt;\\"somemoreattributes\\"&gt;&gt;,&lt;&lt;\\"w...\\"&gt;&gt;,...]},...]}],...},...]}",
&gt;&gt; "type" : null
&gt;&gt; }
&gt;&gt;
&gt;&gt;
&gt;&gt; There are no errors in the Riak server logs.
&gt;&gt;
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt; Toby
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
&gt;
&gt;
&gt; --
&gt; Sean Cribbs 
&gt; Software Engineer
&gt; Basho Technologies, Inc.
&gt; http://basho.com/



-- 
Turning and turning in the widening gyre
The falcon cannot hear the falconer
Things fall apart; the center cannot hold
Mere anarchy is loosed upon the world

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

