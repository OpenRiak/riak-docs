---
title: "Re: Riak cluster protected by firewall"
description: ""
project: community
lastmod: 2016-09-17T23:43:26-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17648"
mailinglist_parent_id: "msg17647"
author_name: "Alex De la rosa"
project_section: "mailinglistitem"
sent_date: 2016-09-17T23:43:26-07:00
---


So mainly the ports are:

epmd listener: TCP:4369
handoff\\_port listener: TCP:8099
http: TCP:8098
protocol buffers: TCP: 8087
solr: TCP:8093
solr imx: TCP:8985
erlang range: TCP:6000~7999 (if configured in riak's configuration)

Is that alright? am I missing any? or is there any of them that is not
needed to add in the firewall?

Thanks,
Alex

On Sun, Sep 18, 2016 at 5:57 AM, John Daily  wrote:

&gt; You should find most of what you need here: http://docs.basho.com/
&gt; riak/kv/2.1.4/using/security/
&gt;
&gt; Sent from my iPhone
&gt;
&gt; On Sep 17, 2016, at 1:26 PM, Alex De la rosa 
&gt; wrote:
&gt;
&gt; Hi all,
&gt;
&gt; I have a cluster of 5 nodes connected to each other and now I want to use
&gt; UFW to deny any external incoming traffic into them but i will allow each
&gt; node to access between themselves. Which ports should i open
&gt; (pb\\_port,http\\_port,solr,...)? I connect via pbc but i may need more ports
&gt; open i guess.
&gt;
&gt; A configurations like this (assuming is node\\_1):
&gt;
&gt; ufw default deny incoming
&gt; ufw default allow outgoing
&gt; ufw allow 22 --&gt; SSH (private keys)
&gt; ufw allow from  to any port 443 --&gt; HTTPS (API that talks
&gt; with Riak locally via Python client)
&gt;
&gt; ufw allow from  to any port 
&gt; ufw allow from  to any port 
&gt; ufw allow from  to any port 
&gt; ufw allow from  to any port 
&gt;
&gt; Thanks!
&gt; Alex
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

