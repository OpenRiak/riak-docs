---
title: "Re: Riak Data Type + Search"
description: ""
project: community
lastmod: 2014-12-01T10:18:43-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg15282"
mailinglist_parent_id: "msg15281"
author_name: "Taufan Adhitya"
project_section: "mailinglistitem"
sent_date: 2014-12-01T10:18:43-08:00
---


riakc\\_pb\\_socket:update\\_type/4,5 is all i need. Thanks to both of you. Would
be helpful if it's also mentioned at
docs.basho.com/riak/latest/dev/search/search-data-types

Cheers,
Taufan

2014-12-02 0:44 GMT+07:00 Christopher Meiklejohn :

&gt;
&gt; &gt; On Dec 1, 2014, at 12:28 PM, Taufan Adhitya 
&gt; wrote:
&gt; &gt;
&gt; &gt; Hey Sean, thanks for the response.
&gt; &gt;
&gt; &gt; I was looking the documentation section you've pointed, but I'm stuck on
&gt; Counters/Sets/Maps in the Erlang client are opaque data structures that
&gt; collect operations as you mutate them. We will associate the data structure
&gt; with a bucket type, bucket, and key later on. part. How do associate/save
&gt; some datatype object on some bucket/key then?
&gt;
&gt; Hi Taufan,
&gt;
&gt; The link that Sean provided has information on how to create the bucket
&gt; type. Taken from the included link:
&gt;
&gt; riak-admin bucket-type create maps '{"props":{"datatype":"map"}}'
&gt;
&gt; riak-admin bucket-type create sets '{"props":{"datatype":"set"}}'
&gt;
&gt; riak-admin bucket-type create counters
&gt; '{"props":{"datatype":"counter"}}'
&gt;
&gt; Iâ€™ve also got a small riak\\_test example which uses the Erlang client to
&gt; create the bucket type and operate over a key. This might provide a good
&gt; starting place to work from.
&gt;
&gt; For example:
&gt;
&gt; Creating a search index:
&gt; https://github.com/basho/riak\\_test/blob/master/tests/yz\\_crdt.erl#L33
&gt;
&gt; Updating/creating a map with a register in it:
&gt; https://github.com/basho/riak\\_test/blob/master/tests/yz\\_crdt.erl#L50
&gt;
&gt; Executing this with the client:
&gt; https://github.com/basho/riak\\_test/blob/master/tests/yz\\_crdt.erl#L56
&gt;
&gt; Performing a search query with the client:
&gt; https://github.com/basho/riak\\_test/blob/master/tests/yz\\_crdt.erl#L66
&gt;
&gt; - Chris
&gt;
&gt; Christopher Meiklejohn
&gt; Senior Software Engineer
&gt; Basho Technologies, Inc.
&gt; cmeiklej...@basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

