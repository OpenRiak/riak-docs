---
title: "Java client and siblings question"
description: ""
project: community
lastmod: 2013-05-19T20:17:04-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11113"
author_name: "Y N"
project_section: "mailinglistitem"
sent_date: 2013-05-19T20:17:04-07:00
---


Hi,
 
I am currently using the latest java client, and I have a question regarding 
updating data in a bucket where siblings are allowed (i.e. allowSiblings = 
true).
 
I finally understand the whole read-resolve-mutate-write cycle, and also doing 
an update / store using previously fetched data (i.e. not in the same 
"transaction").
 
This question is regarding the latter case (updating previously fetched data). 
My read uses a resolver. My data class has a @RiakVClock field defined.
 
The problem is when I do the store(blah).withoutFetch(). It seems to be 
generating siblings. I just realized that's probably because my resolver 
(during the read) is creating a new object and then merging then siblings into 
the new object, however it's not setting the vclock field. 
 
My question is, during the read resolve stage, what should I use for the vlock? 
Should I just copy it from one of the other siblings, or is there some specific 
sort order I should use to pick a particular vlock for the new object?
 
Thanks.\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

