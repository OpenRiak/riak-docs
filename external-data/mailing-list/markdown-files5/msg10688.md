---
title: "Re: error running Erlang m/r job"
description: ""
project: community
lastmod: 2013-04-04T08:15:33-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10688"
mailinglist_parent_id: "msg10681"
author_name: "Evan Vigil-McClanahan"
project_section: "mailinglistitem"
sent_date: 2013-04-04T08:15:33-07:00
---


As of 1.3 the old client:mapreduce is deprecated, please use
`riak\\_kv\\_mrc\\_pipe:mapred` instead.

On Thu, Apr 4, 2013 at 9:07 AM, Tom Zeng  wrote:
&gt; Hi everyone,
&gt;
&gt; I am trying to run the Erlang m/r following the Riak Handbook, and got the
&gt; following error:
&gt;
&gt; (riak@127.0.0.1)4&gt; ExtractTweet = fun(RObject, \\_, \\_) -&gt;
&gt; (riak@127.0.0.1)4&gt; {struct, Obj} = mochijson2:decode(
&gt; (riak@127.0.0.1)4&gt; riak\\_object:get\\_value(RObject)),
&gt; (riak@127.0.0.1)4&gt; [proplists:get\\_value(&lt;&lt;"tweet"&gt;&gt;, Obj)]
&gt; (riak@127.0.0.1)4&gt; end.
&gt; #Fun
&gt; (riak@127.0.0.1)5&gt; C:mapred([{&lt;&lt;"tweets"&gt;&gt;, &lt;&lt;"41399579391950848"&gt;&gt;}],
&gt; (riak@127.0.0.1)5&gt; [{map, {qfun, ExtractTweet}, none, true}]).
&gt; \\*\\* exception error: undefined function riak\\_client:mapred/3
&gt;
&gt; I've been using JavaScript for m/r and just started using Erlang per Basho
&gt; engineers' recommendation at Riak DC meetup. Any help/pointers appreciated.
&gt;
&gt; Thanks
&gt; Tom
&gt; --
&gt; Tom Zeng
&gt; Director of Engineering
&gt; Intridea, Inc. | www.intridea.com
&gt; t...@intridea.com
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

