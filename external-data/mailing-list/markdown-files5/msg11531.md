---
title: "Re: +zdbbl recommended value"
description: ""
project: community
lastmod: 2013-07-15T08:02:31-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11531"
mailinglist_parent_id: "msg11529"
author_name: "Jared Morrow"
project_section: "mailinglistitem"
sent_date: 2013-07-15T08:02:31-07:00
---


Guido,

So higher +zdbbl numbers will allow for larger message buffers, but at the
expense of memory usage. We've actually added better wording in the
default vm.args file for 1.4+
https://github.com/basho/riak/blob/master/rel/files/vm.args#L40

So I guess the best answer is trial & error. We added 32MB commented out
in the vm.args, but it can go much higher than that (around 2gb is the true
max). I think most people have found setting it to 32768 helps without too
much memory usage penalty.

-Jared




On Mon, Jul 15, 2013 at 8:38 AM, Guido Medina wrote:

&gt; Hi,
&gt;
&gt; We had an issue in 1.4 where 2i operations were timing out, after going
&gt; through support we were suggested to use "+zdbbl 16384", on the
&gt; "Configuring Riak Docs" it is strongly suggested (unless doc need to be
&gt; re-phrased) it should be higher:
&gt;
&gt; \\*Source:\\*
&gt; http://docs.basho.com/riakcs/latest/cookbooks/configuration/Configuring-Riak/
&gt;
&gt; At the end of such doc there is the following fragment and we would like
&gt; to know if there is a kind of all situations balanced value and the
&gt; implications:
&gt; Performance & Capacity settings
&gt;
&gt; It is strongly recommended that the following values be set in the Riak
&gt; vm.args configuration file, which is located in the /etc/riak or
&gt; /opt/riak/etc folder.
&gt;
&gt; ## This setting is not present in default Riak installations, so## it should 
&gt; be added. In some cases, a value of 128000 may be## appropriate.
&gt; +zdbbl 96000
&gt; ## This setting is present in default Riak installations, so## its value 
&gt; should be edited.
&gt; -env ERL\\_MAX\\_PORTS 16384
&gt;
&gt;
&gt;
&gt; Kind regards,
&gt;
&gt; Guido.
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

