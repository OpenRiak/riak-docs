---
title: "Re: Riak server crashing"
description: ""
project: community
lastmod: 2016-05-02T14:52:15-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17279"
mailinglist_parent_id: "msg17278"
author_name: "Ricardo Mayerhofer"
project_section: "mailinglistitem"
sent_date: 2016-05-02T14:52:15-07:00
---


Thanks!

On Mon, May 2, 2016 at 6:48 PM, Ricardo Mayerhofer 
wrote:

&gt; Makes sense, I'll tune it.
&gt;
&gt; On Mon, May 2, 2016 at 11:29 AM, Fred Dushin  wrote:
&gt;
&gt;&gt; Acceptor not being able to create a server side socket smells like you've
&gt;&gt; run out of file descriptors.
&gt;&gt;
&gt;&gt; On May 2, 2016, at 10:25 AM, Ricardo Mayerhofer 
&gt;&gt; wrote:
&gt;&gt;
&gt;&gt; Hi all,
&gt;&gt; I've a riak server that was running fine for 1 month, now it keep
&gt;&gt; crashing. Restart has no effect. Any idea?
&gt;&gt;
&gt;&gt; Riak version 2.13
&gt;&gt;
&gt;&gt; error.log
&gt;&gt;
&gt;&gt; 2016-05-02 14:07:54.871 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt;&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt;&gt; exit with reason {timeout,{gen\\_server,call,[&lt;0.2386.190&gt;,stop]}} in context
&gt;&gt; shutdown\\_error
&gt;&gt;
&gt;&gt; 2016-05-02 14:07:54.871 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt;&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt;&gt; exit with reason {timeout,{gen\\_server,call,[&lt;0.19017.322&gt;,stop]}} in
&gt;&gt; context shutdown\\_error
&gt;&gt;
&gt;&gt; 2016-05-02 14:07:54.871 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt;&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt;&gt; exit with reason {timeout,{gen\\_server,call,[&lt;0.18706.190&gt;,stop]}} in
&gt;&gt; context shutdown\\_error
&gt;&gt;
&gt;&gt; 2016-05-02 14:07:54.871 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt;&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt;&gt; exit with reason {timeout,{gen\\_server,call,[&lt;0.19822.324&gt;,stop]}} in
&gt;&gt; context shutdown\\_error
&gt;&gt;
&gt;&gt; 2016-05-02 14:07:54.871 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt;&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt;&gt; exit with reason {timeout,{gen\\_server,call,[&lt;0.2857.0&gt;,stop]}} in context
&gt;&gt; shutdown\\_error
&gt;&gt;
&gt;&gt; 2016-05-02 14:07:54.871 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt;&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt;&gt; exit with reason {timeout,{gen\\_server,call,[&lt;0.2786.0&gt;,stop]}} in context
&gt;&gt; shutdown\\_error
&gt;&gt;
&gt;&gt; 2016-05-02 14:07:54.871 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt;&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt;&gt; exit with reason {timeout,{gen\\_server,call,[&lt;0.2626.0&gt;,stop]}} in context
&gt;&gt; shutdown\\_error
&gt;&gt;
&gt;&gt; 2016-05-02 14:07:54.871 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt;&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt;&gt; exit with reason {timeout,{gen\\_server,call,[&lt;0.5208.180&gt;,stop]}} in context
&gt;&gt; shutdown\\_error
&gt;&gt;
&gt;&gt; 2016-05-02 14:07:54.872 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt;&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt;&gt; exit with reason {timeout,{gen\\_server,call,[&lt;0.2562.0&gt;,stop]}} in context
&gt;&gt; shutdown\\_error
&gt;&gt;
&gt;&gt; 2016-05-02 14:07:54.872 [error] &lt;0.170.0&gt; Supervisor riak\\_core\\_vnode\\_sup
&gt;&gt; had child undefined started with riak\\_core\\_vnode:start\\_link() at undefined
&gt;&gt; exit with reason bad argument in call to ets:lookup(riak\\_core\\_node\\_watcher,
&gt;&gt; {by\\_node,'riak@127.0.0.1'}) in
&gt;&gt; riak\\_core\\_node\\_watcher:internal\\_get\\_services/1 line 548 in context
&gt;&gt; shutdown\\_error
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.739 [error] &lt;0.4518.0&gt; application: mochiweb, "Accept
&gt;&gt; failed error", "{error,emfile}"
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.739 [error] &lt;0.4518.0&gt; CRASH REPORT Process
&gt;&gt; &lt;0.4518.0&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt;&gt; mochiweb\\_acceptor:init/3 line 33
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.739 [error] &lt;0.308.0&gt;
&gt;&gt; {mochiweb\\_socket\\_server,320,{acceptor\\_error,{error,accept\\_failed}}}
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.739 [error] &lt;0.5153.0&gt; application: mochiweb, "Accept
&gt;&gt; failed error", "{error,emfile}"
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.739 [error] &lt;0.5153.0&gt; CRASH REPORT Process
&gt;&gt; &lt;0.5153.0&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt;&gt; mochiweb\\_acceptor:init/3 line 33
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.739 [error] &lt;0.5156.0&gt; application: mochiweb, "Accept
&gt;&gt; failed error", "{error,emfile}"
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.739 [error] &lt;0.5156.0&gt; CRASH REPORT Process
&gt;&gt; &lt;0.5156.0&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt;&gt; mochiweb\\_acceptor:init/3 line 33
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.739 [error] &lt;0.5216.0&gt; application: mochiweb, "Accept
&gt;&gt; failed error", "{error,emfile}"
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.739 [error] &lt;0.5216.0&gt; CRASH REPORT Process
&gt;&gt; &lt;0.5216.0&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt;&gt; mochiweb\\_acceptor:init/3 line 33
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5090.0&gt; application: mochiweb, "Accept
&gt;&gt; failed error", "{error,emfile}"
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5090.0&gt; CRASH REPORT Process
&gt;&gt; &lt;0.5090.0&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt;&gt; mochiweb\\_acceptor:init/3 line 33
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5165.0&gt; application: mochiweb, "Accept
&gt;&gt; failed error", "{error,emfile}"
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5165.0&gt; CRASH REPORT Process
&gt;&gt; &lt;0.5165.0&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt;&gt; mochiweb\\_acceptor:init/3 line 33
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5167.0&gt; application: mochiweb, "Accept
&gt;&gt; failed error", "{error,emfile}"
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5167.0&gt; CRASH REPORT Process
&gt;&gt; &lt;0.5167.0&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt;&gt; mochiweb\\_acceptor:init/3 line 33
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5103.0&gt; application: mochiweb, "Accept
&gt;&gt; failed error", "{error,emfile}"
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5103.0&gt; CRASH REPORT Process
&gt;&gt; &lt;0.5103.0&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt;&gt; mochiweb\\_acceptor:init/3 line 33
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5141.0&gt; application: mochiweb, "Accept
&gt;&gt; failed error", "{error,emfile}"
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5141.0&gt; CRASH REPORT Process
&gt;&gt; &lt;0.5141.0&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt;&gt; mochiweb\\_acceptor:init/3 line 33
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5332.0&gt; application: mochiweb, "Accept
&gt;&gt; failed error", "{error,emfile}"
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5332.0&gt; CRASH REPORT Process
&gt;&gt; &lt;0.5332.0&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt;&gt; mochiweb\\_acceptor:init/3 line 33
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5334.0&gt; application: mochiweb, "Accept
&gt;&gt; failed error", "{error,emfile}"
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.740 [error] &lt;0.5334.0&gt; CRASH REPORT Process
&gt;&gt; &lt;0.5334.0&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt;&gt; mochiweb\\_acceptor:init/3 line 33
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.740 [error] &lt;0.4460.0&gt; application: mochiweb, "Accept
&gt;&gt; failed error", "{error,emfile}"
&gt;&gt;
&gt;&gt; 2016-05-02 14:17:27.740 [error] &lt;0.4460.0&gt; CRASH REPORT Process
&gt;&gt; &lt;0.4460.0&gt; with 0 neighbours exited with reason: {error,accept\\_failed} in
&gt;&gt; mochiweb\\_acceptor:init/3 line 33
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; --
&gt;&gt; Ricardo Mayerhofer
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;
&gt;
&gt; --
&gt; Ricardo Mayerhofer
&gt;



-- 
Ricardo Mayerhofer
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

