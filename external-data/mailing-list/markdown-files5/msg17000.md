---
title: "Re: High CPU usage by beam.smp"
description: ""
project: community
lastmod: 2016-01-28T06:01:05-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17000"
mailinglist_parent_id: "msg16998"
author_name: "Fasil K"
project_section: "mailinglistitem"
sent_date: 2016-01-28T06:01:05-08:00
---


Thank you Magnus. Your answer helps.

With Regards,

Fasil K

On Thu, Jan 28, 2016 at 3:53 PM, Magnus Kessler  wrote:

&gt; On 28 January 2016 at 09:05, Fasil K  wrote:
&gt;
&gt;&gt;
&gt;&gt; Hello, I am using riak 2.1.1 for saving some datas (50000 datas).
&gt;&gt; I am running riak with a single node so far. my problem is riak is
&gt;&gt; consuming almost 40% of CPU in idle state. Can any one help me to solve
&gt;&gt; this issue.?
&gt;&gt;
&gt;&gt;
&gt;&gt; With Regards,
&gt;&gt;
&gt;&gt; Fasil K
&gt;&gt;
&gt;
&gt;
&gt; Hi Fasil,
&gt;
&gt; The CPU usage you observe is due to the way Erlang schedulers work. When
&gt; they run out of work, they don't go to sleep immediately, but perform a
&gt; busy wait for some time instead. This increases responsiveness. For a nice,
&gt; detailed discussion of this please see
&gt; http://jlouisramblings.blogspot.co.uk/2013/01/how-erlang-does-scheduling.html
&gt;
&gt; On a single node with the default ring size of 64, you also have a lot
&gt; more VNodes than on a typical production node. A VNode is handled by an
&gt; Erlang process, and all these processes require their own share of CPU and
&gt; memory.
&gt;
&gt; I hope this answers your question.
&gt;
&gt; Regards,
&gt;
&gt; Magnus
&gt;
&gt; --
&gt; Magnus Kessler
&gt; Client Services Engineer
&gt; Basho Technologies Limited
&gt;
&gt; Registered Office - 8 Lincolnâ€™s Inn Fields London WC2A 3BP Reg 07970431
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

