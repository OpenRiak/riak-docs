---
title: "Re: Riak Search. Ranges. Integer Analyzer Factory."
description: ""
project: community
lastmod: 2012-08-20T01:22:50-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08322"
mailinglist_parent_id: "msg08321"
author_name: "Vladimir Shapovalov"
project_section: "mailinglistitem"
sent_date: 2012-08-20T01:22:50-07:00
---


Hi Alexander,

thanks for prompt reply.
Didn't work...
And the strings aren't padded in my case. I still have 100 or 200 as values
after insert.

Thanks
Vladimir

On Mon, Aug 20, 2012 at 1:03 AM, Alexander Sicular wrote:

&gt; Ints are stored as 10 char padded strings. So int:11 is "0000000011". So
&gt; 200 to 400 would be like [0000000200 TO 0000000400]. Try that.
&gt;
&gt;
&gt; @siculars
&gt; http://siculars.posterous.com
&gt;
&gt; Sent from my iRotaryPhone
&gt;
&gt; On Aug 19, 2012, at 18:11, Vladimir Shapovalov 
&gt; wrote:
&gt;
&gt; Hi all,
&gt;
&gt; Does anybody know, how to query integers with wildcards and ranges?
&gt; Currently I can get result with exact match only.
&gt;
&gt; I've definded keynames with suffix \\*\\_int\\* (price\\_int).
&gt; I use integer\\_analyzer\\_factory:
&gt; ...
&gt; {dynamic\\_field, [
&gt; {name, "\\*\\_int"},
&gt; {type, integer},
&gt; {analyzer\\_factory, {erlang, text\\_analyzers,
&gt; integer\\_analyzer\\_factory}}
&gt; ]},
&gt; ...
&gt;
&gt; I use curl for:
&gt;
&gt; $: curl --globoff -v "
&gt; http://localhost:8098/solr/bucket/select?wt=json&start=0&rows=0&\\*q=price\\_int:[100
&gt; TO 200]\\*" - no results.
&gt;
&gt; $: curl --globoff -v "
&gt; http://localhost:8098/solr/bucket/select?wt=json&start=0&rows=0&\\*
&gt; q=price\\_int:20\\*\\*" - no results.
&gt;
&gt; But if I change query to "\\*q=price\\_int:200"\\* I get result as expected.
&gt;
&gt; $: curl --globoff -v "
&gt; http://localhost:8098/solr/bucket/select?wt=json&start=0&rows=0&\\*
&gt; q=price\\_int:200\\*" - is available.
&gt;
&gt; So there is definitelly a key with price:200 stored.
&gt;
&gt; Could someone tell me what I'm doing wrong and how to deal with integers
&gt; in riak-context correctly?
&gt;
&gt; Thanks a lot in advance!
&gt; Vladimir
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

