---
title: "Re: No more disk space on a node of my Riak cluster"
description: ""
project: community
lastmod: 2013-03-21T11:45:39-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10543"
mailinglist_parent_id: "msg10415"
author_name: "Godefroy de Compreignac"
project_section: "mailinglistitem"
sent_date: 2013-03-21T11:45:39-07:00
---


But I don't understand what could stop transfers. Maybe a kernel setting?
How could I find out?

-- 
Godefroy de Compreignac

Eklaweb CEO - www.eklaweb.com
EklaBlog CEO - www.eklablog.com

+33(0)6 11 89 13 84
http://www.linkedin.com/in/godefroy
http://twitter.com/Godefroy


2013/3/21 Evan Vigil-McClanahan 

&gt; Handoff is done by default on port 8099.
&gt;
&gt; I guess what I am getting at here is that this doesn't look like an
&gt; obvious riak problem, it's more likely that something on your network
&gt; or on your nodes is closing or interrupting those sockets; you'd most
&gt; likely get a different error if something internal to riak was causing
&gt; the transfers to fail.
&gt;
&gt; On Thu, Mar 21, 2013 at 10:09 AM, Godefroy de Compreignac
&gt;  wrote:
&gt; &gt; The only limitation that I'd see is Haproy which have a time limit:
&gt; &gt; contimeout 5000
&gt; &gt; clitimeout 50000
&gt; &gt; srvtimeout 3600000
&gt; &gt;
&gt; &gt; But Haproxy serves Riak on port 8098 and I configured Riak to use port
&gt; 8097:
&gt; &gt; {pb\\_port, 8087 }
&gt; &gt; {http, [ {"5.39.68.152", 8097 } ]}
&gt; &gt;
&gt; &gt; So I guess Riak use only port 8097 internally, without any limitation.
&gt; &gt;
&gt; &gt; And by checking logs, I see that a vnode transfer fails after a random
&gt; &gt; duration, sometimes a few minutes.
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

