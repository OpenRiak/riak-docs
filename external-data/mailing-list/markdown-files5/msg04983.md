---
title: "RE: What is the best way to do \"AND / OR\" queries across data items	across one or more buckets Riak? Seconday indexes, Solr,	mutiple map phases, etc? Is this advice different prior to 1.0?"
description: ""
project: community
lastmod: 2011-10-02T23:29:53-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg04983"
mailinglist_parent_id: "msg04977"
author_name: "Roberto Calero"
project_section: "mailinglistitem"
sent_date: 2011-10-02T23:29:53-07:00
---



How about performing a search across different buckets? Is it possible? if 
so... would it be link-walking? Map-Reduce?

From: kevburn...@gmail.com
Date: Sun, 2 Oct 2011 03:34:31 -0700
Subject: Re: What is the best way to do "AND / OR" queries across data items 
across one or more buckets Riak? Seconday indexes, Solr, mutiple map 
phases, etc? Is this advice different prior to 1.0?
To: harshal.d...@solutionset.com
CC: riak-users@lists.basho.com

What up Harshal,
Since at least 0.13.x, the solr interface has supported both AND and OR queries 
just fine, even in combination.
{a: "foo"}{a: "bar"}

{a: ["foo", "bar"]}{a: "bar baz"}
curl "http://localhost:8098/solr/bucket\\_name/select?wt=json&q=a:foo+OR+a:bar"

(4 results)
curl "http://localhost:8098/solr/bucket\\_name/select?wt=json&q=a:foo+AND+a:bar"

(1 result)
curl 
"http://localhost:8098/solr/bucket\\_name/select?wt=json&q=a:foo+AND+(a:bar+OR+a:baz)"

(2 results)- Kev
c: +001 (650) 521-7791



On Wed, Sep 28, 2011 at 11:19 AM, Harshal Dhir  
wrote:


Hi,




We were wondering what is the best possible way to perform "AND / OR" queries 
in RiakSearch. It seems OR works but how do I perform an AND on the same field.




For example:




DATA:




{a : "test" } {a: "test"} {a: "test2"}




"test" OR "test2" would return both. But, we are looking to return AND query 
result, since obviously "test2" AND "test" won't return anything.
So, we are looking for guidance on how do we store data in such a way that AND 
queries would be possible.


Whats the best recommended approach both prior to 1.0 and 1.0 going forward.

ThanksHarshal








\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_

riak-users mailing list

riak-users@lists.basho.com

http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com





\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com 
 \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

