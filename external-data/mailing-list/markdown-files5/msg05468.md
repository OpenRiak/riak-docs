---
title: "Re: 2i for single-result lookup"
description: ""
project: community
lastmod: 2011-11-07T20:39:06-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg05468"
mailinglist_parent_id: "msg05467"
author_name: "Antonio Rohman Fernandez"
project_section: "mailinglistitem"
sent_date: 2011-11-07T20:39:06-08:00
---


 

Instead of using 2i, you could do the following when saving:

POST
http://{IP}:8098/riak/users/rohman
{"email":"roh...@mahalostudio.com","otherdata":"...."}

POST
http://{IP}:8098/riak/emails/roh...@mahalostudio.com
{"owner":"rohman"}

So
checking if an email address exists is only a GET
http://{IP}:8098/riak/emails/roh...@mahalostudio.com ( and you can even
know who is the user owner -&gt; rohman )

Just you need to create a simple
new bucket/key for it... but is worth the effort... not much work... no
big key arrays, no loops, etc... instant response ; ) 

Rohman 

 
[1]

 ANTONIO ROHMAN FERNANDEZ
CEO, Founder & Lead
Engineer
roh...@mahalostudio.com [2] 
 PROJECTS
MaruBatsu.es
[3]
PupCloud.com [4]
Wedding Album [5] 

 

Links:
------
[1]
http://mahalostudio.com
[2] mailto:roh...@mahalostudio.com
[3]
http://marubatsu.es
[4] http://pupcloud.com
[5]
http://wedding.mahalostudio.com
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

