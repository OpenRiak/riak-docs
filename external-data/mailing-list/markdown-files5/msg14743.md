---
title: "Re: Riak python client and Solr"
description: ""
project: community
lastmod: 2014-08-19T13:21:42-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14743"
mailinglist_parent_id: "msg14742"
author_name: "Alex De la rosa"
project_section: "mailinglistitem"
sent_date: 2014-08-19T13:21:42-07:00
---


Ok, now I saw Sean's response... it worked perfectly that way :)

r = client.fulltext\\_search('ix\\_images', 'site\\_s:aaa AND keywords\\_s:bbb',
sort='clickrate\\_f asc')

Thanks!
Alex


On Tue, Aug 19, 2014 at 10:17 PM, Alex De la rosa 
wrote:

&gt; Seems I was wrong... the API doesn't complain but it doesn't perform the
&gt; sorting as I thought it should do... any clues on how to do it?
&gt;
&gt; this:
&gt; r = client.fulltext\\_search('ix\\_images', 'site\\_s:xxx AND keywords\\_s:yyy')
&gt;
&gt; plus sorting by "clickrate\\_f desc"
&gt;
&gt; Thanks!
&gt; Alex
&gt;
&gt;
&gt; On Tue, Aug 19, 2014 at 10:13 PM, Alex De la rosa  &gt; wrote:
&gt;
&gt;&gt; Hi there,
&gt;&gt;
&gt;&gt; I was having the same problems too...
&gt;&gt;
&gt;&gt; this works fine:
&gt;&gt; r = client.fulltext\\_search('ix\\_images', 'site\\_s:xxx AND keywords\\_s:yyy')
&gt;&gt;
&gt;&gt; but this gives the same error as yours:
&gt;&gt; r = client.fulltext\\_search('ix\\_images', 'site\\_s:xxx AND
&gt;&gt; keywords\\_s:yyy&sort="clickrate\\_f desc"')
&gt;&gt;
&gt;&gt; Then I saw this way works:
&gt;&gt; r = client.fulltext\\_search('ix\\_images', 'site\\_s:xxx AND keywords\\_s:yyy
&gt;&gt; SORT:"clickrate\\_f desc"')
&gt;&gt;
&gt;&gt; So try chaining parameters with semicolons.
&gt;&gt;
&gt;&gt; Thanks!
&gt;&gt; Alex
&gt;&gt;
&gt;&gt;
&gt;&gt; On Tue, Aug 19, 2014 at 10:08 PM, Sapre, Meghna A &lt;
&gt;&gt; meghna.a.sa...@intel.com&gt; wrote:
&gt;&gt;
&gt;&gt;&gt; Hi,
&gt;&gt;&gt;
&gt;&gt;&gt; I am trying to use the group and stats options with riak search. I get
&gt;&gt;&gt; expected results with http urls, but not with python-riak-client fulltext
&gt;&gt;&gt; pbc search.
&gt;&gt;&gt;
&gt;&gt;&gt; Here’s what I’m trying to do:
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; q = 'build.type:CI&group=on&group.field=build.version'
&gt;&gt;&gt;
&gt;&gt;&gt; try:
&gt;&gt;&gt;
&gt;&gt;&gt; search\\_results =
&gt;&gt;&gt; riak\\_client.fulltext\\_search(self.Result\\_Index, q)
&gt;&gt;&gt;
&gt;&gt;&gt; except Exception as e:
&gt;&gt;&gt;
&gt;&gt;&gt; print e
&gt;&gt;&gt;
&gt;&gt;&gt; log.exception(e)
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; This throws an error: no field name specified in query and no default
&gt;&gt;&gt; specified via 'df' param.
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; The same query string works without the group options, and the complete
&gt;&gt;&gt; string works in the http API.
&gt;&gt;&gt;
&gt;&gt;&gt; Any suggestions on how to make this work?
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; Thanks,
&gt;&gt;&gt;
&gt;&gt;&gt; Meghna
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt;&gt; riak-users mailing list
&gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;&gt;
&gt;&gt;&gt;
&gt;&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

