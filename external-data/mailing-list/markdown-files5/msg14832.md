---
title: "Re: How to do faceted search?"
description: ""
project: community
lastmod: 2014-09-02T04:17:44-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14832"
mailinglist_parent_id: "msg14830"
author_name: "Eric Redmond"
project_section: "mailinglistitem"
sent_date: 2014-09-02T04:17:44-07:00
---


Yang,

The current Riak clients don't support the full range of Solr queries. In order 
to remain backward compatible with the old search protocol buffers, they only 
support a subset of search options. For new search options, such as facets or 
geolocation, you'll have to make HTTP queries.

QueryURL = 
"http://localhost:8098/solr/MY\\_INDEX/select?wt=jso&nq=name:a&facet=true",
{ok, "200", \\_, JSONBody} = ibrowse:send\\_req(QueryURL, [], get, []),
JSONBody.

Eric


On Sep 1, 2014, at 6:22 PM, Yang Zhenguo  wrote:

&gt; Hi,
&gt; 
&gt; I have a question on faceted search.
&gt; 
&gt; I am using riakc client for searching in riak. And I only what to get the 
&gt; facet of query, how to do that? I am trying the following command, but it 
&gt; returns "bad arg"
&gt; 
&gt; riakc\\_pb\\_socket:search(ClientPid, ?SOLUTION\\_INDEX, &lt;&lt;"name:a"&gt;&gt;, [{facet, 
&gt; true}]).
&gt; 
&gt; Thanks in advance.
&gt; Regards,
&gt; -- 
&gt; Zhenguo Yang
&gt; www.prinbit.com
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

