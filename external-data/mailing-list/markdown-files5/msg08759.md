---
title: "Re: key not found in map reduce"
description: ""
project: community
lastmod: 2012-09-30T15:01:26-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg08759"
mailinglist_parent_id: "msg08753"
author_name: "Alexander Sicular"
project_section: "mailinglistitem"
sent_date: 2012-09-30T15:01:26-07:00
---


Call Riak.filterNotFound in your reduce phase.

-alexander

On Sun, Sep 30, 2012 at 5:29 AM, Mridul Kashatria wrote:

&gt; Hi,
&gt;
&gt; I'm a beginner with Riak and map-reduce in general.
&gt;
&gt; I was trying a function in map reduce which sorts the data and returns it.
&gt; It works well when all the bucket key pairs in input query exist in the
&gt; riak cluster. When a bucket/key pair does not exist, it gives an output
&gt; like below.
&gt;
&gt;
&gt; [{"not\\_found":{"bucket":"newspaper-issue","key":"56276","keydata":"undefined"}}]
&gt;
&gt; I'm not able to remove this output from the map phase, even when I just
&gt; return [] in the map phase, it returns this single object.
&gt;
&gt; My question is how can I avoid this output as it is likely that in the
&gt; inputs there is some bucket/key missing.
&gt;
&gt; --
&gt; Mridul
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

