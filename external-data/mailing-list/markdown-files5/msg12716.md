---
title: "Re: 1.4.2: 'riak-admin reip' no longer works?"
description: ""
project: community
lastmod: 2013-10-21T07:47:10-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12716"
mailinglist_parent_id: "msg12714"
author_name: "Jared Morrow"
project_section: "mailinglistitem"
sent_date: 2013-10-21T07:47:10-07:00
---


We actually discussed this recently, my understanding of reip was clearly
not complete, and Joe Caswell put me on the right track. 'reip' will
continue to stick around.

-Jared


On Mon, Oct 21, 2013 at 8:23 AM, Dave Brady  wrote:

&gt; No problem, Jared! I'm happy it was a very simple fix.
&gt;
&gt; What concerns me is that the 'cluster' commands do not have an analogous
&gt; feature: 'replace' does not do the same thing as 'reip'.
&gt;
&gt; Is it truly a foregone conclusion that 'reip' is going away?
&gt;
&gt; --
&gt; Dave Brady
&gt;
&gt; ------------------------------
&gt; \\*From: \\*"Jared Morrow" 
&gt; \\*To: \\*"Dave Brady" 
&gt; \\*Cc: \\*"Riak Users Mailing List" 
&gt; \\*Sent: \\*Lundi 21 Octobre 2013 16:17:52
&gt; \\*Subject: \\*Re: 1.4.2: 'riak-admin reip' no longer works?
&gt;
&gt;
&gt; This was a mistake on my part, if you s/up/down/ (node\\_down\\_check) on that
&gt; line it will correctly ensure the node is down before running reip. Sorry
&gt; about that, clearly 'reip' is not heavily used with the new cluster
&gt; commands and it slipped under the radar for all these months.
&gt;
&gt; -Jared
&gt;
&gt;
&gt; On Mon, Oct 21, 2013 at 7:48 AM, Dave Brady  wrote:
&gt;
&gt;&gt; Thanks to Joe Caswell at Basho: just have to comment out line 382
&gt;&gt; (node\\_up\\_check) in the riak-admin script.
&gt;&gt;
&gt;&gt; --
&gt;&gt; Dave Brady
&gt;&gt;
&gt;&gt; ----- Original Message -----
&gt;&gt; From: "Dave Brady" 
&gt;&gt; To: riak-users@lists.basho.com
&gt;&gt; Sent: Lundi 21 Octobre 2013 13:59:37
&gt;&gt; Subject: 1.4.2: 'riak-admin reip' no longer works?
&gt;&gt;
&gt;&gt; Hi everyone,
&gt;&gt;
&gt;&gt; So, I went to copy /var/lib/riak/\\* from one five-node cluster to another,
&gt;&gt; so that we could experiment on the data.
&gt;&gt;
&gt;&gt; I did this fairly frequently in the past (&lt; 1.4.0), and always used
&gt;&gt; "riak-admin reip  ".
&gt;&gt;
&gt;&gt; Now, when I try that command on our 1.4.2 ring, 'riak-admin' dies with
&gt;&gt; "Node is not running!"
&gt;&gt;
&gt;&gt; This confuses me, since "reip" requires the ring to be down, but the
&gt;&gt; "riak-admin" script is indeed expecting the local node to be running when
&gt;&gt; using this option.
&gt;&gt;
&gt;&gt; I see on the wiki that it is mentioned that "cluster replace" will
&gt;&gt; replace "reip" in the future. I hope not, since "cluster replace" does not
&gt;&gt; provide the same functionality.
&gt;&gt;
&gt;&gt; Anyone run into this and find a fix? (Or I am missing something obvious?)
&gt;&gt;
&gt;&gt; Thanks!
&gt;&gt;
&gt;&gt; --
&gt;&gt; Dave Brady
&gt;&gt;
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

