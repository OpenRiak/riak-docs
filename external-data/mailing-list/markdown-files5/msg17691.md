---
title: "Re: RiakTS and Multi-Backend"
description: ""
project: community
lastmod: 2016-10-12T10:06:25-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg17691"
mailinglist_parent_id: "msg17690"
author_name: "Junk, Damion A"
project_section: "mailinglistitem"
sent_date: 2016-10-12T10:06:25-07:00
---


So are you suggesting that it's not advisable to use even KV backed by LevelDB 
in a TS instance, or is it more that performance is unknown and therefore not 
guaranteed / supported? If the data is otherwise "safe", this may still be a 
better option for us than running separate clusters. 

Are others who need both a general KV store and the TS functionality running 
multiple clusters to handle this use case?

Thanks for the quick reply!


Damion

&gt; On Oct 12, 2016, at 11:53 AM, John Daily  wrote:
&gt; 
&gt; We have not done any work to support the multi-backend, hence the error 
&gt; you’re seeing. TS depends exclusively on leveldb.
&gt; 
&gt; We’re not recommending the use of KV functionality in the TS product yet, 
&gt; because the latter is still changing rapidly and we will need to go back and 
&gt; fix some basic KV mechanisms. We’re also not yet sure of the performance 
&gt; characteristics if both KV and TS are in use under heavy load.
&gt; 
&gt; In short: I apologize, but we’re not really ready to support your use case 
&gt; yet.
&gt; 
&gt; -John
&gt; 
&gt;&gt; On Oct 12, 2016, at 12:17 PM, Junk, Damion A  wrote:
&gt;&gt; 
&gt;&gt; Hello all -
&gt;&gt; 
&gt;&gt; I was wondering if it is possible to use RiakTS with a multi-backend 
&gt;&gt; configuration. 
&gt;&gt; 
&gt;&gt; I have an existing set of applications using RiakKV and Bitcask, but we're 
&gt;&gt; now wanting to start using some of the TS features on a new project. Setting 
&gt;&gt; up the multi-backend configuration with TS seems to work fine (our app 
&gt;&gt; existing app reads the Bitcask buckets and SOLR indices without issue), and 
&gt;&gt; we can even create a TS schema. We have LevelDB as the default backend, so 
&gt;&gt; presumably this is what was used during the "create table" query.
&gt;&gt; 
&gt;&gt; When trying to query the TS table, we're seeing:
&gt;&gt; 
&gt;&gt; 2016-10-12 10:02:41.372 [error] &lt;0.1410.0&gt; gen\\_fsm &lt;0.1410.0&gt; in state 
&gt;&gt; active terminated with reason: call to undefined function 
&gt;&gt; riak\\_kv\\_multi\\_backend:range\\_scan/4 from riak\\_kv\\_vnode:list/7 line 1875
&gt;&gt; 
&gt;&gt; And then in the client code, no return until finally an Exception (Riak Java 
&gt;&gt; Client).
&gt;&gt; 
&gt;&gt; 
&gt;&gt; Thanks for any assistance!
&gt;&gt; 
&gt;&gt; 
&gt;&gt; Damion
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; 

\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

