---
title: "Re: [ANN] Riak 2.0pre1"
description: ""
project: community
lastmod: 2014-01-20T12:16:46-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13411"
mailinglist_parent_id: "msg13410"
author_name: "Russell Brown"
project_section: "mailinglistitem"
sent_date: 2014-01-20T12:16:46-08:00
---


Hi Elias,

Answers inline below:

On 20 Jan 2014, at 19:31, Elias Levy  wrote:

&gt; 
&gt; On Sun, Jan 19, 2014 at 9:00 AM,  wrote:
&gt; From: Luc Perkins 
&gt; \\* Reduced sibling creation, inspired by the dotted versions vectors research 
&gt; from Preguiça, Baquero, et al[1]
&gt; 
&gt; [1] http://arxiv.org/abs/1011.5808
&gt; 
&gt; A quick skim over the paper seems to indicate that version vectors with 
&gt; per-server entries cannot track causality among concurrent updates 
&gt; coordinated by the same replica node.
&gt; 
&gt; Isn't version vectors with per server entries what Riak was using previous to 
&gt; this change? If so, did this lack of causality tracking apply to previous 
&gt; versions?

Short answer: yes-ish.

Longer answer: Riak gave users the option of client or \\_vnode\\_ ids in version 
vectors. By default Riak uses vnode ids. Riak erred on the side of caution, and 
would create false concurrency, rather than lose writes. In the usual case this 
isn’t a problem. You may generate a couple of extra sibling values. In the 
pathological case it can lead to “sibling explosion”. In very rare cases such 
explosions create very large objects that can impact node, and even cluster 
performance. So DVV style causality tracking is very much a bug fix.

We’ve also added other forms of sibling count an large object protection in 
Riak 2.0, which are configurable limits in the riak.conf.

Cheers

Russell

&gt; 
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com



signature.asc
Description: Message signed with OpenPGP using GPGMail
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

