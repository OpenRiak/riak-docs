---
title: "Re: write value reality check"
description: ""
project: community
lastmod: 2013-06-28T11:05:20-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg11352"
mailinglist_parent_id: "msg11351"
author_name: "Louis-Philippe Perron"
project_section: "mailinglistitem"
sent_date: 2013-06-28T11:05:20-07:00
---


so would it make more sense to have the N=2?
I'd like to be on the safe side, after reading "There are no guarantees
that the three replicas will go to three separate physical nodes" in the
replication docs I started to worry about the reliability of a 2 nodes N=2
setting.

On Fri, Jun 28, 2013 at 11:06 AM, Justin Sheehy  wrote:

&gt; Hi, Louis-Philippe.
&gt;
&gt; With a 2-node cluster and N=3, each value will be written to disk a total
&gt; of three times: twice on one node, once on the other. (The W setting has no
&gt; effect on the number of copies made or hosts used.) That behavior might
&gt; seem a bit strange, but it's a strange configuration to run Riak on only
&gt; two machines while asking it to store data on three of them.
&gt;
&gt; The standard settings and behavior of Riak are generally optimized for
&gt; non-tiny clusters, and make much more sense when there are at least five
&gt; machines.
&gt;
&gt; I hope this helps with your understanding.
&gt;
&gt; -Justin
&gt;
&gt;
&gt;
&gt; On Jun 28, 2013, at 10:54 AM, Louis-Philippe Perron wrote:
&gt;
&gt; &gt; So if I get you right and extrapolate with the replication documentation
&gt; page, can I say that on a 2 nodes cluster, with a bucket set to N=3 and
&gt; W=ALL, my writes would be written 3 times to disk? (and with no guarantee
&gt; to be on different nodes)?
&gt; &gt;
&gt; &gt; thanks!
&gt; &gt;
&gt; &gt; On Wed, Jun 26, 2013 at 8:17 PM, Mark Phillips  wrote:
&gt; &gt; Hi Louis-Philippe
&gt; &gt;
&gt; &gt; There are no dumb questions. :)
&gt; &gt;
&gt; &gt; On Wednesday, June 26, 2013, Louis-Philippe Perron wrote:
&gt; &gt; Hi Riak people!
&gt; &gt; Here is a dumb question, but anyway I want to clear this doubt out:
&gt; &gt;
&gt; &gt; What happens when a bucket has a W quorum value higher than the N number
&gt; of nodes?
&gt; &gt; are writes to disk multiplied?
&gt; &gt;
&gt; &gt;
&gt; &gt; Precisely. For example, if you run a one node Riak cluster on your dev
&gt; machine you'll be writing with a N val of 3 and W of 2 by default. In other
&gt; words, Riak will always attempt to satisfy the W value regardless of
&gt; physical node count.
&gt; &gt;
&gt; &gt; Hope that helps.
&gt; &gt;
&gt; &gt; Mark
&gt; &gt; twitter.com/pharkmillups
&gt; &gt;
&gt; &gt; thanks!
&gt; &gt;
&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; &gt; riak-users mailing list
&gt; &gt; riak-users@lists.basho.com
&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

