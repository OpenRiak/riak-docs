---
title: "Re: trouble enabling strong consistency in riak_2.0.0beta1-1"
description: ""
project: community
lastmod: 2014-05-09T12:38:21-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14208"
mailinglist_parent_id: "msg14204"
author_name: "Andrew Stone"
project_section: "mailinglistitem"
sent_date: 2014-05-09T12:38:21-07:00
---


Oops. Didn't reply to the list. Sorry for the dupe Matt.

Hi Matt,

My guess is that this has to do with a fairly recent change to the cluster
join mechanism.

Try attaching to the erlang shell with "riak attach" and running the
following command:

riak\\_ensemble\\_manager:enable().

In the future a riak\\_admin command (and documentation) will be provided,
but for now it needs to be done from the shell. Hope this helps.

-Andrew


On Fri, May 9, 2014 at 7:07 AM, Matt Williams
wrote:

&gt; Hi, I've been trying out the new strong consistency in v2.0, I have this
&gt; working nicely in 2.0.0pre20, but I can't seem to enable this in
&gt; 2.0.0beta1-1.
&gt;
&gt; Any call to a strongly consistent bucket just returns immediately with
&gt; 'request timed out', previously 'not found'. Bucket types without strongly
&gt; consistent properties behave fine.
&gt;
&gt; I figure I must have done something stupid, but I can't figure out what,
&gt; can anyone point me in the right direction?
&gt;
&gt; I am working with a fresh build of ubuntu:-
&gt;
&gt; Distributor ID: Ubuntu
&gt; Description: Ubuntu 12.04.4 LTS
&gt; Release: 12.04
&gt; Codename: precise
&gt;
&gt; 'riak config effective' suggests strong consistency is turned on
&gt; strong\\_consistency = on
&gt;
&gt; I'm working with just one node at the moment.
&gt;
&gt; Thanks,
&gt;
&gt; Matt
&gt;
&gt;
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

