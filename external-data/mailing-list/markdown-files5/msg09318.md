---
title: "Re: More Migration Questions"
description: ""
project: community
lastmod: 2012-11-14T01:32:02-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg09318"
mailinglist_parent_id: "msg09316"
author_name: "Martin Woods"
project_section: "mailinglistitem"
sent_date: 2012-11-14T01:32:02-08:00
---


I'd still be interested in an answer from the Basho folk regarding the
product questions. Putting to one side the "how" for now, \\*should\\* Riak be
able to satisfy any or all those three scenarios?

Regards,
Martin.

On 13 November 2012 23:34, Shane McEwan  wrote:

&gt; G'day Tom and Matt. Thanks for your suggestions.
&gt;
&gt; Even though our two cluster networks are separate it would theoretically
&gt; be possible to have nodes from the new cluster join the old cluster and
&gt; migrate data that way. However, we would prefer to leave the old cluster
&gt; untouched as much as possible in case we need to abort the migration and
&gt; continue to use the old cluster in production. Performing an upgrade on our
&gt; currently working nodes and then essentially removing them from the cluster
&gt; is an additional risk that we'd like to avoid.
&gt;
&gt; I can certainly see how MDC would solve the problem but from a budget
&gt; point of view it's not an option for us at the moment.
&gt;
&gt; The backup-restore option is always a possibility however our database is
&gt; currently around 80GB compressed and I'd hate to think how long it would
&gt; take to dump and restore that. While we have a maintenance window I suspect
&gt; it won't be long enough. :-(
&gt;
&gt; We have a solution for now by using the 1.1.1 "reip" command which gets
&gt; our migration and upgrade done. However, looking to the future it would be
&gt; nice if there was a reliable way of moving data from one node to another
&gt; "out of band".
&gt;
&gt; Shane.
&gt;
&gt;
&gt; On 13/11/12 22:54, Matt Black wrote:
&gt;
&gt;&gt; I still haven't really gotten to the bottom of the best way to do this
&gt;&gt; (short of paying for MDC
&gt;&gt; &gt; web&cd=1&cad=rja&ved=\\*\\*0CCIQFjAA&url=http%3A%2F%\\*\\*2Fbasho.com%2Fblog%\\*\\*
&gt;&gt; 2Ftechnical%2F2012%2F08%2F08%\\*\\*2FMDC-Replication-in-Riak-1p2%\\*\\*
&gt;&gt; 2F&ei=0c6iUIj-Ga6UiAfKlIGQAg&\\*\\*usg=\\*\\*AFQjCNG6dhEFCB1kc98huc5PnoeXdq\\*\\*8hNw
&gt;&gt; &gt;):
&gt;&gt;
&gt;&gt;
&gt;&gt; http://lists.basho.com/\\*\\*pipermail/riak-users\\_lists.\\*\\*
&gt;&gt; basho.com/2012-October/009951.\\*\\*html
&gt;&gt;
&gt;&gt; Previously, I've used backup/restore for situations like this, but our
&gt;&gt; backup has now grown to around 100GB - so it has become impractical.
&gt;&gt;
&gt;&gt; Shane, in your maintenance window could you:
&gt;&gt; \\* create your new cluster
&gt;&gt; \\* stop any new data being added to the old cluster
&gt;&gt; \\* run a riak-admin backup
&gt;&gt; \\* run a riak-admin restore into the new one
&gt;&gt;
&gt;&gt; The maintenance window here saves you a lot of trouble... Unfortunately,
&gt;&gt; most people won't get one ;)
&gt;&gt;
&gt;&gt; Cheers
&gt;&gt; Matt
&gt;&gt;
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\*\\*\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/\\*\\*mailman/listinfo/riak-users\\_\\*\\*lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

