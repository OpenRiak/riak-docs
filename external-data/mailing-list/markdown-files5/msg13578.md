---
title: "Re: Yokozuna and array of JSON documents"
description: ""
project: community
lastmod: 2014-02-03T12:11:50-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13578"
mailinglist_parent_id: "msg13577"
author_name: "Srdjan Pejic"
project_section: "mailinglistitem"
sent_date: 2014-02-03T12:11:50-08:00
---


Hey Eric,

No, that's the value I input through the Ruby client. It gets turned into
valid JSON by the driver. The record gets stored fine and retrieved without
problems. However, Yokozuna isn't returning a result. I'm using Riak
2.0.0-pre5 and the master branch of the Ruby client.

Srdjan


On Mon, Feb 3, 2014 at 3:03 PM, Eric Redmond  wrote:

&gt; Is that the value you have in Riak? Because that's invalid JSON.
&gt; kay/values are separated with a colon (:) not a hash rocket (=&gt;).
&gt;
&gt; Eric
&gt;
&gt; On Feb 3, 2014, at 9:06 AM, Srdjan Pejic  wrote:
&gt;
&gt; Hello all,
&gt;
&gt; I'm storing a log of events in Riak. The key is an UUID plus number of
&gt; seconds since a video stream started. The value is an array of JSON
&gt; documents, such as this:
&gt;
&gt;
&gt; [{"viewer\\_id\\_s"=&gt;"004615eb-5c0e-4c4a-890c-c6fc29e3fc56",
&gt;&gt; "video\\_time\\_i"=&gt;475, "type\\_s"=&gt;"joined"},
&gt;&gt; {"viewer\\_id\\_s"=&gt;"635dcd2d-fdeb-46c1-9920-803ccdd6176b",
&gt;&gt; "video\\_time\\_i"=&gt;522, "type\\_s"=&gt;"joined"},
&gt;&gt; {"viewer\\_id\\_s"=&gt;"04b3cec7-6f37-4840-b1b6-eff4c16dd273",
&gt;&gt; "video\\_time\\_i"=&gt;159, "type\\_s"=&gt;"joined"},
&gt;&gt; {"viewer\\_id\\_s"=&gt;"6ce3da5f-b598-4b1c-abf0-38ba92fa15fb",
&gt;&gt; "video\\_time\\_i"=&gt;393, "type\\_s"=&gt;"upvote"}]
&gt;&gt;
&gt;
&gt; My question to you is how can I search this array of documents through
&gt; Yokozuna/Solr? Currently, I get 0 results back, which I suspect is because
&gt; the actual JSON data is nested in an array and Yokozuna doesn't index that
&gt; in an expected way.
&gt;
&gt; Thanks,
&gt;
&gt; Srdjan
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

