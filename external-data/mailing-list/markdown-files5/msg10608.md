---
title: "Re: Riak CS : \"405 (Method Not Allowed)\" when creating a bucket"
description: ""
project: community
lastmod: 2013-03-27T23:38:29-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg10608"
mailinglist_parent_id: "msg10554"
author_name: "Jean-Baptiste Barth"
project_section: "mailinglistitem"
sent_date: 2013-03-27T23:38:29-07:00
---


No problem, that's even more simpler. You can safely drop my PR to the docs
(it was somewhat hard to explain what to do in a consistent way with other
steps anyway). I will test the procedure from the beginning with the
one-command branch this week-end, but it seems it's even better now (and it
might solve an other problem I had with gems not detected by vagrant, I had
to manually add some paths to the Vagrantfile... I'll tell you).

Thanks for your support!


2013/3/27 Tyler Hannan 

&gt; Jean-Baptiste,
&gt;
&gt; Sorry for the delay in reply on this…and thanks for your PR to the docs.
&gt;
&gt; You actually caught us in the middle of an update to the vagrant project
&gt; that impacts the docs as well. The goal/intent is to simplify the process
&gt; even further and prepare it for being able to spin up a virtual cluster
&gt; simply.
&gt;
&gt; All that to say, the app.config that is being populated by the cookbook
&gt; should now match a default s3cmd host\\_base & \\_bucket and prevent the issue
&gt; you saw.
&gt;
&gt; Take a gander at the one-command branch of the vagrant project if you
&gt; would like to test it (I have it running but am going to give it another
&gt; run this evening)[0]. Just a reminder that, if you clone the repo and want
&gt; to test on that branch in advance of the PR being accepted, you should
&gt; ensure you make your local branch track the origin…something like:
&gt;
&gt; git checkout --track origin/one-command
&gt;
&gt; Feel free to shout with any more questions…and thanks for helping us make
&gt; the virtual fast track even simpler.
&gt;
&gt; [0] - https://github.com/hectcastro/vagrant-riak-cs-cluster/pull/4
&gt;
&gt; Cheers,
&gt;
&gt; --------------------------------------------------------------------------
&gt; \\*Tyler Hannan | Director, Technical Marketing\\*
&gt; Basho Technologies
&gt; -------------------------------------------------------------------------
&gt; t: @tylerhannan
&gt; c: 720-280-9216
&gt;
&gt;
&gt; On Fri, Mar 22, 2013 at 1:38 AM, Jean-Baptiste Barth &lt;
&gt; jeanbaptiste.ba...@gmail.com&gt; wrote:
&gt;
&gt;&gt; 2013/3/22 Dan Reverri 
&gt;&gt;
&gt;&gt;&gt; Hi Jean-Baptiste,
&gt;&gt;&gt;
&gt;&gt;&gt; Can you try updating the "host\\_base" and "host\\_bucket" in s3cfg to use
&gt;&gt;&gt; "riakcs.dev" which is the "cs\\_root\\_host" configured in your Riak CS
&gt;&gt;&gt; app.config?
&gt;&gt;&gt;
&gt;&gt;&gt; host\\_base = riakcs.dev
&gt;&gt;&gt; host\\_bucket = %(bucket)s.riakcs.dev
&gt;&gt;&gt;
&gt;&gt;
&gt;&gt; Yes, it worked!
&gt;&gt;
&gt;&gt; % s3cmd --debug mb s3://zbucket
&gt;&gt; ...
&gt;&gt; DEBUG: Sending request method\\_string='PUT', uri='
&gt;&gt; http://zbucket.riakcs.dev/', headers={'content-length': '0',
&gt;&gt; 'Authorization': 'AWS X2GOEX5TVL8FAYMQIIYC:lHt5vDLqHzsvnOBGnHRxaPNakrI=',
&gt;&gt; 'x-amz-date': 'Fri, 22 Mar 2013 07:35:39 +0000'}, body=(0 bytes)
&gt;&gt; DEBUG: Response: {'status': 200, 'headers': {'date': 'Fri, 22 Mar 2013
&gt;&gt; 07:33:49 GMT', 'content-length': '0', 'content-type': 'application/xml',
&gt;&gt; 'server': 'Riak CS'}, 'reason': 'OK', 'data': ''}
&gt;&gt; Bucket 's3://zbucket/' created
&gt;&gt;
&gt;&gt; I guess having set the proxy host and port was not enough, I'm right ? If
&gt;&gt; so I can prepare a pull request for the docs before tomorrow to add this
&gt;&gt; step.
&gt;&gt;
&gt;&gt; Thanks,
&gt;&gt;
&gt;&gt; Jean-Baptiste
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

