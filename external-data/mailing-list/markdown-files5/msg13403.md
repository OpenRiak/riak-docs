---
title: "Re: invalid hintfiles after upgrde"
description: ""
project: community
lastmod: 2014-01-17T17:18:39-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg13403"
mailinglist_parent_id: "msg13399"
author_name: "Charlie Voiselle"
project_section: "mailinglistitem"
sent_date: 2014-01-17T17:18:39-08:00
---


Invalid hint files will be rebuilt automatically during the Bitcask merge
process. I believe you are seeing a one-time consequence of switching to
signed hint files during the upgrade. Not to worry, they will be
regenerated through normal merge activity.

Regards,
-cv
On Jan 17, 2014 6:56 AM, "Jan Zahradka - MALL.cz" 
wrote:

&gt; Hi everybody,
&gt;
&gt; I have a 3 node Riak 1.1.1 cluster running on Centos 6.3. I wanted to
&gt; upgrade it to the most recent version and I was told that first I have to
&gt; upgrade to version 1.3.2 and then I can upgrade to 1.4.X version.
&gt;
&gt; So I followed the instructions in Rolling upgrades guide (stop, upgrade
&gt; package, start, status, wait-for-service riak\\_kv). After upgrading the
&gt; package (1.1.1 -&gt; 1.3.2) and starting new version I could see messages like
&gt; this in console.log :
&gt;
&gt; 2014-01-17 12:58:31.638 [error] &lt;0.658.0&gt; Hintfile '/var/lib/riak/bitcask/
&gt; 707914855582156101004909840846949587645842325504/26.bitcask.hint' invalid
&gt; 2014-01-17 12:58:31.974 [error] &lt;0.662.0&gt; Hintfile '/var/lib/riak/bitcask/
&gt; 981946412581700398168100746981252653831329677312/20.bitcask.hint' invalid
&gt; 2014-01-17 12:58:32.043 [error] &lt;0.661.0&gt; Hintfile '/var/lib/riak/bitcask/
&gt; 890602560248518965780370444936484965102833893376/20.bitcask.hint' invalid
&gt; 2014-01-17 12:58:32.064 [error] &lt;0.663.0&gt; Hintfile '/var/lib/riak/bitcask/
&gt; 1004782375664995756265033322492444576013453623296/22.bitcask.hint' invalid
&gt;
&gt; etc etc.
&gt;
&gt;
&gt; I upgraded the whole cluster and it is functional. I read that hinfiles
&gt; are not fatal for running, but I would like to have it clear.
&gt;
&gt; Does anybody have any advice? Is it possible to rebuild the hintfiles? i
&gt; tried to google it but no result ;o( (or maybe I'm not as googler as I
&gt; thought ;o))
&gt;
&gt;
&gt; Thank You very much
&gt;
&gt;
&gt; Jan
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

