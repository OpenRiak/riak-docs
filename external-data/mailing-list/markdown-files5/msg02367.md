---
title: "Re: Can't start Riak Search"
description: ""
project: community
lastmod: 2011-02-18T06:43:15-08:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02367"
mailinglist_parent_id: "msg02366"
author_name: "Sean Cribbs"
project_section: "mailinglistitem"
sent_date: 2011-02-18T06:43:15-08:00
---


The "eaccess" error comes from either lacking file permissions or the proper 
directory structure. In this case, it looks like bitcask could not access the 
data directory. Make sure those directories exist and belong to the "riak" 
user (there's no "riaksearch" user).

Sean Cribbs 
Developer Advocate
Basho Technologies, Inc.
http://basho.com/

On Feb 18, 2011, at 9:38 AM, Mike Stoddart wrote:

&gt; I installed the new FC13 Riak Search 64bit RPM (onto FC12) but I'm
&gt; having issues. I uninstalled Riak and deleted the old database files.
&gt; I had to manually create the riaksearch user/group as well as the
&gt; /var/lib/riaksearch/bitcask and /var/lib/riaksearch/ring directories.
&gt; 
&gt; =INFO REPORT==== 18-Feb-2011::09:34:13 ===
&gt; Spidermonkey VM (thread stack: 8MB, max heap: 8MB, pool:
&gt; riak\\_kv\\_js\\_hook) host starting (&lt;0.168.0&gt;)
&gt; 
&gt; =ERROR REPORT==== 18-Feb-2011::09:34:13 ===
&gt; \\*\\* Generic server riak\\_kv\\_vnode\\_master terminating
&gt; \\*\\* Last message in was {0,get\\_vnode}
&gt; \\*\\* When Server state == {state,12308,[],undefined,riak\\_kv\\_vnode,
&gt; riak\\_kv\\_legacy\\_vnode}
&gt; \\*\\* Reason for termination ==
&gt; \\*\\* {{badmatch,{error,{{badmatch,{error,eacces}},
&gt; [{bitcask,open,2},
&gt; {riak\\_kv\\_bitcask\\_backend,start,2},
&gt; {riak\\_kv\\_vnode,init,1},
&gt; {riak\\_core\\_vnode,init,1},
&gt; {gen\\_fsm,init\\_it,6},
&gt; {proc\\_lib,init\\_p\\_do\\_apply,3}]}}},
&gt; [{riak\\_core\\_vnode\\_master,get\\_vnode,2},
&gt; {riak\\_core\\_vnode\\_master,handle\\_call,3},
&gt; {gen\\_server,handle\\_msg,5},
&gt; {proc\\_lib,init\\_p\\_do\\_apply,3}]}
&gt; 
&gt; =ERROR REPORT==== 18-Feb-2011::09:34:13 ===
&gt; \\*\\* gen\\_event handler riak\\_core\\_ring\\_handler crashed.
&gt; \\*\\* Was installed in riak\\_core\\_ring\\_events
&gt; \\*\\* Last event was: {ring\\_update,
&gt; {chstate,'riak@127.0.0.1',[],
&gt; {64,
&gt; [{0,'riak@127.0.0.1'},
&gt; {22835963083295358096932575511191922182123945984,
&gt; 'riak@127.0.0.1'},
&gt; {45671926166590716193865151022383844364247891968,
&gt; 'riak@127.0.0.1'},
&gt; {68507889249886074290797726533575766546371837952,
&gt; 'riak@127.0.0.1'},
&gt; {91343852333181432387730302044767688728495783936,
&gt; 'riak@127.0.0.1'},
&gt; {114179815416476790484662877555959610910619729920,
&gt; 'riak@127.0.0.1'},
&gt; {137015778499772148581595453067151533092743675904,
&gt; 'riak@127.0.0.1'},
&gt; {159851741583067506678528028578343455274867621888,
&gt; 'riak@127.0.0.1'},
&gt; {182687704666362864775460604089535377456991567872,
&gt; 'riak@127.0.0.1'},
&gt; {205523667749658222872393179600727299639115513856,
&gt; 'riak@127.0.0.1'},
&gt; {228359630832953580969325755111919221821239459840,
&gt; 'riak@127.0.0.1'},
&gt; {251195593916248939066258330623111144003363405824,
&gt; 'riak@127.0.0.1'},
&gt; {274031556999544297163190906134303066185487351808,
&gt; 'riak@127.0.0.1'},
&gt; {296867520082839655260123481645494988367611297792,
&gt; 'riak@127.0.0.1'},
&gt; {319703483166135013357056057156686910549735243776,
&gt; 'riak@127.0.0.1'},
&gt; {342539446249430371453988632667878832731859189760,
&gt; 'riak@127.0.0.1'},
&gt; {365375409332725729550921208179070754913983135744,
&gt; 'riak@127.0.0.1'},
&gt; {388211372416021087647853783690262677096107081728,
&gt; 'riak@127.0.0.1'},
&gt; {411047335499316445744786359201454599278231027712,
&gt; 'riak@127.0.0.1'},
&gt; {433883298582611803841718934712646521460354973696,
&gt; 'riak@127.0.0.1'},
&gt; {456719261665907161938651510223838443642478919680,
&gt; 'riak@127.0.0.1'},
&gt; {479555224749202520035584085735030365824602865664,
&gt; 'riak@127.0.0.1'},
&gt; {502391187832497878132516661246222288006726811648,
&gt; 'riak@127.0.0.1'},
&gt; {525227150915793236229449236757414210188850757632,
&gt; 'riak@127.0.0.1'},
&gt; {548063113999088594326381812268606132370974703616,
&gt; 'riak@127.0.0.1'},
&gt; {570899077082383952423314387779798054553098649600,
&gt; 'riak@127.0.0.1'},
&gt; {593735040165679310520246963290989976735222595584,
&gt; 'riak@127.0.0.1'},
&gt; {616571003248974668617179538802181898917346541568,
&gt; 'riak@127.0.0.1'},
&gt; {639406966332270026714112114313373821099470487552,
&gt; 'riak@127.0.0.1'},
&gt; {662242929415565384811044689824565743281594433536,
&gt; 'riak@127.0.0.1'},
&gt; {685078892498860742907977265335757665463718379520,
&gt; 'riak@127.0.0.1'},
&gt; {707914855582156101004909840846949587645842325504,
&gt; 'riak@127.0.0.1'},
&gt; {730750818665451459101842416358141509827966271488,
&gt; 'riak@127.0.0.1'},
&gt; {753586781748746817198774991869333432010090217472,
&gt; 'riak@127.0.0.1'},
&gt; {776422744832042175295707567380525354192214163456,
&gt; 'riak@127.0.0.1'},
&gt; {799258707915337533392640142891717276374338109440,
&gt; 'riak@127.0.0.1'},
&gt; {822094670998632891489572718402909198556462055424,
&gt; 'riak@127.0.0.1'},
&gt; {844930634081928249586505293914101120738586001408,
&gt; 'riak@127.0.0.1'},
&gt; {867766597165223607683437869425293042920709947392,
&gt; 'riak@127.0.0.1'},
&gt; {890602560248518965780370444936484965102833893376,
&gt; 'riak@127.0.0.1'},
&gt; {913438523331814323877303020447676887284957839360,
&gt; 'riak@127.0.0.1'},
&gt; {936274486415109681974235595958868809467081785344,
&gt; 'riak@127.0.0.1'},
&gt; {959110449498405040071168171470060731649205731328,
&gt; 'riak@127.0.0.1'},
&gt; {981946412581700398168100746981252653831329677312,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1004782375664995756265033322492444576013453623296,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1027618338748291114361965898003636498195577569280,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1050454301831586472458898473514828420377701515264,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1073290264914881830555831049026020342559825461248,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1096126227998177188652763624537212264741949407232,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1118962191081472546749696200048404186924073353216,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1141798154164767904846628775559596109106197299200,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1164634117248063262943561351070788031288321245184,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1187470080331358621040493926581979953470445191168,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1210306043414653979137426502093171875652569137152,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1233142006497949337234359077604363797834693083136,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1255977969581244695331291653115555720016817029120,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1278813932664540053428224228626747642198940975104,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1301649895747835411525156804137939564381064921088,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1324485858831130769622089379649131486563188867072,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1347321821914426127719021955160323408745312813056,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1370157784997721485815954530671515330927436759040,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1392993748081016843912887106182707253109560705024,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1415829711164312202009819681693899175291684651008,
&gt; 'riak@127.0.0.1'},
&gt; 
&gt; {1438665674247607560106752257205091097473808596992,
&gt; 'riak@127.0.0.1'}]},
&gt; {dict,0,16,16,8,80,48,
&gt; {[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
&gt; []},
&gt; {{[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],
&gt; []}}}}}
&gt; \\*\\* When handler state == {state}
&gt; \\*\\* Reason == {{{badmatch,{error,{{badmatch,{error,eacces}},
&gt; [{bitcask,open,2},
&gt; {riak\\_kv\\_bitcask\\_backend,start,2},
&gt; {riak\\_kv\\_vnode,init,1},
&gt; {riak\\_core\\_vnode,init,1},
&gt; {gen\\_fsm,init\\_it,6},
&gt; {proc\\_lib,init\\_p\\_do\\_apply,3}]}}},
&gt; [{riak\\_core\\_vnode\\_master,get\\_vnode,2},
&gt; {riak\\_core\\_vnode\\_master,handle\\_call,3},
&gt; {gen\\_server,handle\\_msg,5},
&gt; {proc\\_lib,init\\_p\\_do\\_apply,3}]},
&gt; {gen\\_server,call,[riak\\_kv\\_vnode\\_master,{0,get\\_vnode},infinity]}}
&gt; Eshell V5.7.5 (abort with ^G)
&gt; 
&gt; Any suggestions appreciated.
&gt; Thanks
&gt; Mike
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

