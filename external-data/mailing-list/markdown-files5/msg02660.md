---
title: "Re: generating an object key in the erlang client"
description: ""
project: community
lastmod: 2011-03-15T22:42:59-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg02660"
mailinglist_parent_id: "msg02659"
author_name: "Dan Reverri"
project_section: "mailinglistitem"
sent_date: 2011-03-15T22:42:59-07:00
---


You need to start the crypto application:

2&gt; application:start(crypto).
ok
3&gt; riak\\_core\\_util:unique\\_id\\_62().
"V2N2Hcwxa1jkG2y9nFSiJCs9Qyt"


Daniel Reverri
Developer Advocate
Basho Technologies, Inc.
d...@basho.com


On Tue, Mar 15, 2011 at 10:34 PM, Saurabh Sehgal wrote:

&gt; Hi,
&gt;
&gt; I tried using the riak\\_core\\_util:unique\\_id\\_62/0 , but get the following
&gt; error -&gt;
&gt;
&gt; \\*\\* exception error: bad argument
&gt; in function port\\_control/3
&gt; called as port\\_control(crypto\\_drv03,5,
&gt;
&gt; &lt;&lt;131,104,2,114,0,3,100,0,13,110,111,110,111,100,101,64,
&gt; 110,111,104,111,115,116,0,0,0,0,...&gt;&gt;)
&gt; in call from crypto:control/2
&gt; in call from riak\\_core\\_util:unique\\_id\\_62/0
&gt;
&gt; Any ideas ?
&gt;
&gt;
&gt; On Sat, Mar 12, 2011 at 8:40 AM, Sean Cribbs  wrote:
&gt;
&gt;&gt; That is correct. Either the driver itself or the application code needs to
&gt;&gt; generate a key.
&gt;&gt;
&gt;&gt; Sean Cribbs 
&gt;&gt; Developer Advocate
&gt;&gt; Basho Technologies, Inc.
&gt;&gt; http://basho.com/
&gt;&gt;
&gt;&gt; On Mar 12, 2011, at 1:14 AM, Joshua Partogi wrote:
&gt;&gt;
&gt;&gt; &gt; Hi Dan,
&gt;&gt; &gt;
&gt;&gt; &gt; I guess that also affects other driver that by default uses protobuf
&gt;&gt; &gt; [like the riak python driver] ? Does that mean the riak python driver
&gt;&gt; &gt; need to generate the unique key on the client side when it uses
&gt;&gt; &gt; protobuf?
&gt;&gt; &gt;
&gt;&gt; &gt; Cheers.
&gt;&gt; &gt;
&gt;&gt; &gt; On Sat, Mar 12, 2011 at 4:11 AM, Dan Reverri  wrote:
&gt;&gt; &gt;&gt; Hi Saurabh,
&gt;&gt; &gt;&gt; The protocols buffers interface does not currently support server side
&gt;&gt; &gt;&gt; generated keys. Bug 485 has been filed for this issue:
&gt;&gt; &gt;&gt; https://issues.basho.com/show\\_bug.cgi?id=485
&gt;&gt; &gt;&gt; In the mean time you can generate a unique key on the client side. You
&gt;&gt; can
&gt;&gt; &gt;&gt; use the code on the server side as a reference for generating unique
&gt;&gt; keys:
&gt;&gt; &gt;&gt;
&gt;&gt; https://github.com/basho/riak\\_core/blob/master/src/riak\\_core\\_util.erl#L131
&gt;&gt; &gt;&gt; Thanks,
&gt;&gt; &gt;&gt; Dan
&gt;&gt; &gt;&gt; Daniel Reverri
&gt;&gt; &gt;&gt; Developer Advocate
&gt;&gt; &gt;&gt; Basho Technologies, Inc.
&gt;&gt; &gt;&gt; d...@basho.com
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; On Thu, Mar 10, 2011 at 10:37 PM, Saurabh Sehgal &lt;
&gt;&gt; saurabh....@gmail.com&gt;
&gt;&gt; &gt;&gt; wrote:
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; Hi,
&gt;&gt; &gt;&gt;&gt; I was going through riak's documentation and I saw that through the
&gt;&gt; rest
&gt;&gt; &gt;&gt;&gt; API, if a key for an object is not specified, riak generates one for
&gt;&gt; you.
&gt;&gt; &gt;&gt;&gt; Can I do the same when storing objects through the riak erlang pb
&gt;&gt; &gt;&gt;&gt; client programmatically ?
&gt;&gt; &gt;&gt;&gt; Thank you,
&gt;&gt; &gt;&gt;&gt; Saurabh
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; --
&gt;&gt; &gt;&gt;&gt; Saurabh Sehgal
&gt;&gt; &gt;&gt;&gt; E-mail: saurabh....@gmail.com
&gt;&gt; &gt;&gt;&gt; Phone: 425-269-1324
&gt;&gt; &gt;&gt;&gt; LinkedIn: http://www.linkedin.com/pub/1/7a3/436
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; &gt;&gt;&gt; riak-users mailing list
&gt;&gt; &gt;&gt;&gt; riak-users@lists.basho.com
&gt;&gt; &gt;&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt; &gt;&gt;&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; &gt;&gt; riak-users mailing list
&gt;&gt; &gt;&gt; riak-users@lists.basho.com
&gt;&gt; &gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; --
&gt;&gt; &gt; http://twitter.com/jpartogi
&gt;&gt; &gt;
&gt;&gt; &gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; &gt; riak-users mailing list
&gt;&gt; &gt; riak-users@lists.basho.com
&gt;&gt; &gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;&gt;
&gt;&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt;&gt; riak-users mailing list
&gt;&gt; riak-users@lists.basho.com
&gt;&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;&gt;
&gt;
&gt;
&gt;
&gt; --
&gt; Saurabh Sehgal
&gt; E-mail: saurabh....@gmail.com
&gt; Phone: 425-269-1324
&gt; LinkedIn: http://www.linkedin.com/pub/1/7a3/436
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

