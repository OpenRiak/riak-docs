---
title: "Re: 2i, search or something else for most efficient \"range\" lookup"
description: ""
project: community
lastmod: 2013-08-19T05:36:32-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg12073"
mailinglist_parent_id: "msg12068"
author_name: "Jon Meredith"
project_section: "mailinglistitem"
sent_date: 2013-08-19T05:36:32-07:00
---


How can you guarantee it's only a single object you'll find?

If you know an event happens every X minutes but don't know the exact
start/stop times, you could truncate the startVal/endVal to the level of
precision you need, hit that directly first and probe either side if you
don't find it.

If I went with a design like that I'd make it so that I could store an
array of readings under the key to tolerate timing issues, or to allow you
to update your collection rate.

Jon




On Fri, Aug 16, 2013 at 6:00 PM, Y N  wrote:

&gt; Hi,
&gt;
&gt; I have a question regarding the most efficient way to perform a search /
&gt; lookup for something. This isn't a typical range lookup (where you want to
&gt; find all objects given a specific range). In this case I want to find
&gt; a specific object where a lookup value falls within that objects range.
&gt;
&gt; My use case is as follows.... I have the following domain object:
&gt;
&gt; MyObj
&gt; startVal (long / number)
&gt; endVal (long / number)
&gt; ..... (other data)
&gt;
&gt; I need to perform many lookups where I need to find a specific domain
&gt; object given a long value that falls within startVal & endVal (inclusive).
&gt;
&gt; What would be the most efficient way to do this in Riak? I can't think of
&gt; a way I could do this via directly lookup, so that only leaves me with 2i
&gt; and search as possible options.
&gt; They seem a bit like overkill, since in this case I am only interested in
&gt; getting back a single object... but there doesn't see to be any other way
&gt; to do this.
&gt;
&gt; Would 2i or search be the most efficient / least impactful way to perform
&gt; this type of search?
&gt;
&gt; Thanks.
&gt;
&gt;
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt;
&gt;


-- 
Jon Meredith
VP, Engineering
Basho Technologies, Inc.
jmered...@basho.com
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

