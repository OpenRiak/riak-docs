---
title: "Re: Riak crash after starting"
description: ""
project: community
lastmod: 2014-08-31T06:33:54-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14822"
mailinglist_parent_id: "msg14821"
author_name: "Steve Vinoski"
project_section: "mailinglistitem"
sent_date: 2014-08-31T06:33:54-07:00
---


On Sun, Aug 31, 2014 at 5:26 AM, Yang Zhenguo  wrote:

&gt; My steps are as follows:
&gt; 1. sudo riak start
&gt; 2. run erl evn
&gt; {ok, Pid} = riakc\\_pb\\_socket:start\\_link("127.0.0.1", 8087).
&gt; riakc\\_pb\\_socket:list\\_buckets(Pid).
&gt;
&gt; After about 30 seconds, the riak will stop(crash)
&gt;
&gt; Riak version is 2.0. Atached part of log.
&gt; BTW, I have another web server cowboy running for handling http request.
&gt;
&gt; Thanks in advance
&gt;
&gt; Zhenguo
&gt; www.prinbit.com
&gt;
&gt; ======================================================
&gt; error.log
&gt; 2014-08-31 17:14:05.974 [error] &lt;0.287.0&gt;
&gt; {mochiweb\\_socket\\_server,310,{acceptor\\_error,{error,accept\\_failed}}}
&gt; 2014-08-31 17:14:06.075 [error] &lt;0.287.0&gt;
&gt; {mochiweb\\_socket\\_server,310,{acceptor\\_error,{error,accept\\_failed}}}
&gt; 2014-08-31 17:14:06.847 [error] &lt;0.3769.0&gt; gen\\_server yz\\_events terminated
&gt; with reason: no match of right hand value {error,emfile} in yz\\_schema:get/1
&gt; line 45
&gt;

The {error, emfile} here means you're hitting your max file descriptor
limit. Please see
http://docs.basho.com/riak/latest/ops/tuning/open-files-limit/ for how to
tune this limit properly.

--steve
\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

