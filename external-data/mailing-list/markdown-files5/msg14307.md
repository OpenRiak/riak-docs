---
title: "Re: [Python client] combining mapreduce with riak search"
description: ""
project: community
lastmod: 2014-06-10T06:33:22-07:00
sitemap:
  priority: 0.2
layout: mailinglistitem
mailinglist_id: "msg14307"
mailinglist_parent_id: "msg14282"
author_name: "Hector Castro"
project_section: "mailinglistitem"
sent_date: 2014-06-10T06:33:22-07:00
---


Hey,

Have you taken a look at the MapReduce API documentation outlined below? There 
is a specific method for combining search and MapReduce:

http://basho.github.io/riak-python-client/query.html#mapreduce

-- 
Hector

On June 2, 2014 at 2:51:47 PM, skydelta98 (skydelt...@gmail.com) wrote:
&gt; Hi,
&gt; 
&gt; I am trying to apply a mapreduce query after doing a full document seach on
&gt; the bucket:
&gt; 
&gt; client = riak.RiakClient(protocol='http', host='xx.xx.xx.xx',
&gt; http\\_port=8098)
&gt; 
&gt; s = client.fulltext\\_search('tweets', 'campaign\\_id:3')
&gt; 
&gt; s.map("""function(v) { var data = JSON.parse(v.values[0].data);
&gt; if(data.tweet.match(/GS/i)) { return [[v.key, data]]; } return []; }""")
&gt; 
&gt; i followd this appoach as specified in this tutorial:
&gt; http://imcol.in/2012/04/combining-mapreduce-with-riak-search/
&gt; 
&gt; the problem is the code i pasted below willl not work , simply because the
&gt; method fulltext\\_search will return a dictionnary , how could i apply a
&gt; map/reduce query from the result of a fulltext search ?
&gt; 
&gt; and thanks for you help
&gt; 
&gt; 
&gt; 
&gt; --
&gt; View this message in context: 
&gt; http://riak-users.197444.n3.nabble.com/Python-client-combining-mapreduce-with-riak-search-tp4031182.html
&gt; 
&gt; Sent from the Riak Users mailing list archive at Nabble.com.
&gt; 
&gt; \\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
&gt; riak-users mailing list
&gt; riak-users@lists.basho.com
&gt; http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com
&gt; 


\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_\\_
riak-users mailing list
riak-users@lists.basho.com
http://lists.basho.com/mailman/listinfo/riak-users\\_lists.basho.com

