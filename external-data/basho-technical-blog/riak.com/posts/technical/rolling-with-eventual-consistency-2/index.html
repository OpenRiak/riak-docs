
<!doctype html>
<html class="no-js"  xmlns="http://www.w3.org/1999/xhtml" prefix="" lang="en-US" xmlns:og="http://ogp.me/ns#" xmlns:fb="http://ogp.me/ns/fb#" prefix="og: http://ogp.me/ns#">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="/content/themes/basho-v2/dist/images/favicon.ico" />
    
<!-- BEGIN Metadata added by the Add-Meta-Tags WordPress plugin -->
<link rel="alternate" hreflang="en-US" href="/posts/technical/rolling-with-eventual-consistency-2/index.html" />
<meta name="description" content="Using the example of averaging many values, we explore some concerns that we need to address in a distributed, eventually consistent system like Riak." />
<meta name="keywords" content="technical blog, blog, eventual consistency, mapreduce, riak" />
<!-- END Metadata added by the Add-Meta-Tags WordPress plugin -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-39891693-3"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());

	gtag('config', 'UA-39891693-3');
</script>
<!-- END Global site tag (gtag.js) - Google Analytics -->
<title>Rolling with Eventual Consistency &#8211; Riak</title>
<link rel='dns-prefetch' href='https://ajax.googleapis.com/' />
<link rel='dns-prefetch' href='http://s.w.org/' />
<link rel='stylesheet' id='contact-form-7-css'  href='/content/plugins/contact-form-7/includes/css/styles.css?ver=4.9' type='text/css' media='all' />
<link rel='stylesheet' id='popup-maker-site-css'  href='/content/plugins/popup-maker/assets/css/site.min.css?ver=1.6.6' type='text/css' media='all' />
<link rel='stylesheet' id='rs-plugin-settings-css'  href='/content/plugins/revslider/public/assets/css/settings.css?ver=5.4.6.1' type='text/css' media='all' />
<style id='rs-plugin-settings-inline-css' type='text/css'>
.regmark{font-size:15px;  position:relative;  top:-10px}@media screen and (max-width:700px){.regmark{font-size:13px;  top:-4px}}
</style>
<link rel='stylesheet' id='megamenu-css'  href='/content/uploads/maxmegamenu/style.css?ver=a8ce69' type='text/css' media='all' />
<link rel='stylesheet' id='dashicons-css'  href='/includes/css/dashicons.min.css?ver=4.8.2' type='text/css' media='all' />
<link rel='stylesheet' id='megamenu-fontawesome-css'  href='/content/plugins/megamenu-pro/icons/fontawesome/css/font-awesome.min.css?ver=1.4.5' type='text/css' media='all' />
<link rel='stylesheet' id='megamenu-genericons-css'  href='/content/plugins/megamenu-pro/icons/genericons/genericons/genericons.css?ver=1.4.5' type='text/css' media='all' />
<link rel='stylesheet' id='evcal_cal_default-css'  href='/content/plugins/eventON/assets/css/eventon_styles.css?ver=2.3.15' type='text/css' media='all' />
<!-- inject:css -->
<link rel="stylesheet" href="/content/themes/basho-v2/dist/styles/styles-846178cbe9.min.css">
<!-- endinject -->
<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js'></script>
<script>window.jQuery || document.write('<script src="/content/themes/basho-v2/dist/scripts/jquery.js"><\/script>')</script>
<script type='text/javascript' src='/content/plugins/revslider/public/assets/js/jquery.themepunch.tools.min.js?ver=5.4.6.1'></script>
<script type='text/javascript' src='/content/plugins/revslider/public/assets/js/jquery.themepunch.revolution.min.js?ver=5.4.6.1'></script>
<link rel='https://api.w.org/' href='/json/index.html' />
<link rel='prev' title='Riak CEO to Speak at Hosting and Cloud Transformation Summit' href='/posts/press/basho-ceo-to-speak-at-hosting-and-cloud-transformation-summit/index.html?p=6151.html' />
<link rel='next' title='enStratus Uses Riak Riak to Ensure High-Availability for its SaaS Enterprise Cloud Management Platform' href='/posts/press/enstratus-uses-basho-riak-to-ensure-high-availability-for-its-saas-enterprise-cloud-management-platform/index.html?p=6149.html' />
<link rel="canonical" href="/posts/technical/rolling-with-eventual-consistency-2/index.html" />
<link rel='shortlink' href='/index.html?p=1106.html' />



<script type="text/javascript">function setREVStartSize(e){
				try{ var i=jQuery(window).width(),t=9999,r=0,n=0,l=0,f=0,s=0,h=0;					
					if(e.responsiveLevels&&(jQuery.each(e.responsiveLevels,function(e,f){f>i&&(t=r=f,l=e),i>f&&f>r&&(r=f,n=e)}),t>r&&(l=n)),f=e.gridheight[l]||e.gridheight[0]||e.gridheight,s=e.gridwidth[l]||e.gridwidth[0]||e.gridwidth,h=i/s,h=h>1?1:h,f=Math.round(h*f),"fullscreen"==e.sliderLayout){var u=(e.c.width(),jQuery(window).height());if(void 0!=e.fullScreenOffsetContainer){var c=e.fullScreenOffsetContainer.split(",");if (c) jQuery.each(c,function(e,i){u=jQuery(i).length>0?u-jQuery(i).outerHeight(!0):u}),e.fullScreenOffset.split("%").length>1&&void 0!=e.fullScreenOffset&&e.fullScreenOffset.length>0?u-=jQuery(window).height()*parseInt(e.fullScreenOffset,0)/100:void 0!=e.fullScreenOffset&&e.fullScreenOffset.length>0&&(u-=parseInt(e.fullScreenOffset,0))}f=u}else void 0!=e.minHeight&&f<e.minHeight&&(f=e.minHeight);e.c.closest(".rev_slider_wrapper").css({height:f})					
				}catch(d){console.log("Failure at Presize of Slider:"+d)}
			};</script>
<style type="text/css">/** Mega Menu CSS Disabled **/</style>
	<style id="pum-styles" type="text/css" media="all">
	/* Popup Google Fonts */
@import url('https://fonts.googleapis.com/css?family=Acme|Montserrat');

/* Popup Theme 12762: Blank Center */
.pum-theme-12762, .pum-theme-blank-center { background: none } 
.pum-theme-12762 .pum-container, .pum-theme-blank-center .pum-container { padding: 0px; border-radius: 0px; border: 1px none #000000; box-shadow: 0px 0px 0px 0px rgba( 2, 2, 2, 1 ); background-color: rgba( 249, 249, 249, 1 ); background: none } 
.pum-theme-12762 .pum-title, .pum-theme-blank-center .pum-title { color: #000000; text-align: center; text-shadow: 0px 0px 0px rgba( 2, 2, 2, 0.23 ); font-family: inherit; font-size: 16px; line-height: 16px } 
.pum-theme-12762 .pum-content, .pum-theme-blank-center .pum-content { color: #8c8c8c; font-family: inherit } 
.pum-theme-12762 .pum-content + .pum-close, .pum-theme-blank-center .pum-content + .pum-close { height: auto; width: auto; left: auto; right: 0px; bottom: auto; top: 10px; padding: 4px; color: #ffffff; font-family: inherit; font-size: 12px; line-height: 14px; border: 1px none #ffffff; border-radius: 0px; box-shadow: 0px 0px 0px 0px rgba( 2, 2, 2, 0.23 ); text-shadow: 0px 0px 0px rgba( 0, 0, 0, 0.23 ); background-color: rgba( 255, 158, 1, 1 ) } 
/* Popup Theme 11529: Default No Padding */
.pum-theme-11529, .pum-theme-default-no-padding { background-color: rgba( 255, 255, 255, 1 ) } 
.pum-theme-11529 .pum-container, .pum-theme-default-no-padding .pum-container { padding: 0px; border-radius: 0px; border: 1px none #000000; box-shadow: 1px 1px 3px 0px rgba( 2, 2, 2, 0.23 ); background-color: rgba( 255, 255, 255, 1 ) } 
.pum-theme-11529 .pum-title, .pum-theme-default-no-padding .pum-title { color: #000000; text-align: left; text-shadow: 0px 0px 0px rgba( 2, 2, 2, 0.23 ); font-family: inherit; font-size: 32px; line-height: 36px } 
.pum-theme-11529 .pum-content, .pum-theme-default-no-padding .pum-content { color: #8c8c8c; font-family: inherit } 
.pum-theme-11529 .pum-content + .pum-close, .pum-theme-default-no-padding .pum-content + .pum-close { height: auto; width: auto; left: auto; right: 0px; bottom: auto; top: 0px; padding: 8px; color: #ffffff; font-family: inherit; font-size: 12px; line-height: 14px; border: 1px none #ffffff; border-radius: 0px; box-shadow: 0px 0px 0px 0px rgba( 2, 2, 2, 0.23 ); text-shadow: 0px 0px 0px rgba( 0, 0, 0, 0.23 ); background-color: rgba( 255, 158, 1, 1 ) } 
/* Popup Theme 11527: Framed Border */
.pum-theme-11527, .pum-theme-framed-border { background-color: rgba( 255, 255, 255, 0.5 ) } 
.pum-theme-11527 .pum-container, .pum-theme-framed-border .pum-container { padding: 18px; border-radius: 0px; border: 20px outset #dd3333; box-shadow: 1px 1px 3px 0px rgba( 2, 2, 2, 0.97 ) inset; background-color: rgba( 255, 251, 239, 1 ) } 
.pum-theme-11527 .pum-title, .pum-theme-framed-border .pum-title { color: #000000; text-align: left; text-shadow: 0px 0px 0px rgba( 2, 2, 2, 0.23 ); font-family: inherit; font-size: 32px; line-height: 36px } 
.pum-theme-11527 .pum-content, .pum-theme-framed-border .pum-content { color: #2d2d2d; font-family: inherit } 
.pum-theme-11527 .pum-content + .pum-close, .pum-theme-framed-border .pum-content + .pum-close { height: 20px; width: 20px; left: auto; right: -20px; bottom: auto; top: -20px; padding: 0px; color: #ffffff; font-family: Acme; font-size: 20px; line-height: 20px; border: 1px none #ffffff; border-radius: 0px; box-shadow: 0px 0px 0px 0px rgba( 2, 2, 2, 0.23 ); text-shadow: 0px 0px 0px rgba( 0, 0, 0, 0.23 ); background-color: rgba( 0, 0, 0, 0.55 ) } 
/* Popup Theme 11526: Cutting Edge */
.pum-theme-11526, .pum-theme-cutting-edge { background-color: rgba( 0, 0, 0, 0.5 ) } 
.pum-theme-11526 .pum-container, .pum-theme-cutting-edge .pum-container { padding: 18px; border-radius: 0px; border: 1px none #000000; box-shadow: 0px 10px 25px 0px rgba( 2, 2, 2, 0.5 ); background-color: rgba( 30, 115, 190, 1 ) } 
.pum-theme-11526 .pum-title, .pum-theme-cutting-edge .pum-title { color: #ffffff; text-align: left; text-shadow: 0px 0px 0px rgba( 2, 2, 2, 0.23 ); font-family: Sans-Serif; font-size: 26px; line-height: 28px } 
.pum-theme-11526 .pum-content, .pum-theme-cutting-edge .pum-content { color: #ffffff; font-family: inherit } 
.pum-theme-11526 .pum-content + .pum-close, .pum-theme-cutting-edge .pum-content + .pum-close { height: 24px; width: 24px; left: auto; right: 0px; bottom: auto; top: 0px; padding: 0px; color: #1e73be; font-family: inherit; font-size: 32px; line-height: 24px; border: 1px none #ffffff; border-radius: 0px; box-shadow: -1px 1px 1px 0px rgba( 2, 2, 2, 0.1 ); text-shadow: -1px 1px 1px rgba( 0, 0, 0, 0.1 ); background-color: rgba( 238, 238, 34, 1 ) } 
/* Popup Theme 11525: Hello Box */
.pum-theme-11525, .pum-theme-hello-box { background-color: rgba( 0, 0, 0, 0.75 ) } 
.pum-theme-11525 .pum-container, .pum-theme-hello-box .pum-container { padding: 30px; border-radius: 80px; border: 14px solid #81d742; box-shadow: 0px 0px 0px 0px rgba( 2, 2, 2, 0 ); background-color: rgba( 255, 255, 255, 1 ) } 
.pum-theme-11525 .pum-title, .pum-theme-hello-box .pum-title { color: #2d2d2d; text-align: left; text-shadow: 0px 0px 0px rgba( 2, 2, 2, 0.23 ); font-family: Montserrat; font-size: 32px; line-height: 36px } 
.pum-theme-11525 .pum-content, .pum-theme-hello-box .pum-content { color: #2d2d2d; font-family: inherit } 
.pum-theme-11525 .pum-content + .pum-close, .pum-theme-hello-box .pum-content + .pum-close { height: auto; width: auto; left: auto; right: -30px; bottom: auto; top: -30px; padding: 0px; color: #2d2d2d; font-family: inherit; font-size: 32px; line-height: 28px; border: 1px none #ffffff; border-radius: 28px; box-shadow: 0px 0px 0px 0px rgba( 2, 2, 2, 0.23 ); text-shadow: 0px 0px 0px rgba( 0, 0, 0, 0.23 ); background-color: rgba( 255, 255, 255, 1 ) } 
/* Popup Theme 11524: Enterprise Blue */
.pum-theme-11524, .pum-theme-enterprise-blue { background-color: rgba( 0, 0, 0, 0.7 ) } 
.pum-theme-11524 .pum-container, .pum-theme-enterprise-blue .pum-container { padding: 28px; border-radius: 5px; border: 1px none #000000; box-shadow: 0px 10px 25px 4px rgba( 2, 2, 2, 0.5 ); background-color: rgba( 255, 255, 255, 1 ) } 
.pum-theme-11524 .pum-title, .pum-theme-enterprise-blue .pum-title { color: #315b7c; text-align: left; text-shadow: 0px 0px 0px rgba( 2, 2, 2, 0.23 ); font-family: inherit; font-size: 34px; line-height: 36px } 
.pum-theme-11524 .pum-content, .pum-theme-enterprise-blue .pum-content { color: #2d2d2d; font-family: inherit } 
.pum-theme-11524 .pum-content + .pum-close, .pum-theme-enterprise-blue .pum-content + .pum-close { height: 28px; width: 28px; left: auto; right: 8px; bottom: auto; top: 8px; padding: 4px; color: #ffffff; font-family: inherit; font-size: 20px; line-height: 20px; border: 1px none #ffffff; border-radius: 42px; box-shadow: 0px 0px 0px 0px rgba( 2, 2, 2, 0.23 ); text-shadow: 0px 0px 0px rgba( 0, 0, 0, 0.23 ); background-color: rgba( 49, 91, 124, 1 ) } 
/* Popup Theme 11523: Light Box */
.pum-theme-11523, .pum-theme-lightbox { background-color: rgba( 0, 0, 0, 0.6 ) } 
.pum-theme-11523 .pum-container, .pum-theme-lightbox .pum-container { padding: 18px; border-radius: 3px; border: 8px solid #000000; box-shadow: 0px 0px 30px 0px rgba( 2, 2, 2, 1 ); background-color: rgba( 255, 255, 255, 1 ) } 
.pum-theme-11523 .pum-title, .pum-theme-lightbox .pum-title { color: #000000; text-align: left; text-shadow: 0px 0px 0px rgba( 2, 2, 2, 0.23 ); font-family: inherit; font-size: 32px; line-height: 36px } 
.pum-theme-11523 .pum-content, .pum-theme-lightbox .pum-content { color: #000000; font-family: inherit } 
.pum-theme-11523 .pum-content + .pum-close, .pum-theme-lightbox .pum-content + .pum-close { height: 30px; width: 30px; left: auto; right: -24px; bottom: auto; top: -24px; padding: 0px; color: #ffffff; font-family: inherit; font-size: 24px; line-height: 26px; border: 2px solid #ffffff; border-radius: 30px; box-shadow: 0px 0px 15px 1px rgba( 2, 2, 2, 0.75 ); text-shadow: 0px 0px 0px rgba( 0, 0, 0, 0.23 ); background-color: rgba( 0, 0, 0, 1 ) } 
/* Popup Theme 11522: Default Theme */
.pum-theme-11522, .pum-theme-default-theme { background-color: rgba( 255, 255, 255, 1 ) } 
.pum-theme-11522 .pum-container, .pum-theme-default-theme .pum-container { padding: 15px; border-radius: 3px; border: 1px none #000000; box-shadow: 1px 1px 3px 0px rgba( 2, 2, 2, 0.23 ); background-color: rgba( 255, 255, 255, 1 ) } 
.pum-theme-11522 .pum-title, .pum-theme-default-theme .pum-title { color: #000000; text-align: left; text-shadow: 0px 0px 0px rgba( 2, 2, 2, 0.23 ); font-family: inherit; font-size: 28px; line-height: 30px } 
.pum-theme-11522 .pum-content, .pum-theme-default-theme .pum-content { color: #8c8c8c; font-family: inherit } 
.pum-theme-11522 .pum-content + .pum-close, .pum-theme-default-theme .pum-content + .pum-close { height: auto; width: auto; left: auto; right: 0px; bottom: auto; top: 0px; padding: 8px; color: #ffffff; font-family: inherit; font-weight: 400; font-size: 11px; line-height: 13px; border: 1px none #ffffff; border-radius: 0px; box-shadow: 0px 0px 0px 0px rgba( 2, 2, 2, 0.23 ); text-shadow: 0px 0px 0px rgba( 0, 0, 0, 0.23 ); background-color: rgba( 255, 158, 1, 1 ) } 

	
		</style>
<!-- START - Facebook Open Graph, Google+ and Twitter Card Tags 2.1.2 -->
 <!-- Facebook Open Graph -->
  <meta property="og:locale" content="en_US"/>
  <meta property="og:site_name" content="Riak"/>
  <meta property="og:title" content="Rolling with Eventual Consistency"/>
  <meta property="og:url" content="/posts/technical/rolling-with-eventual-consistency-2/"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Using the example of averaging many values, we explore some concerns that we need to address in a distributed, eventually consistent system like Riak."/>
  <meta property="og:image" content="/content/uploads/2015/06/basho_og.png"/>
  <meta property="article:published_time" content="2012-09-18T05:00:04+00:00"/>
  <meta property="article:modified_time" content="2016-07-31T22:30:42+00:00" />
  <meta property="og:updated_time" content="2016-07-31T22:30:42+00:00" />
  <meta property="article:section" content="Technical Blog"/>
 <!-- Google+ / Schema.org -->
  <meta itemprop="name" content="Rolling with Eventual Consistency"/>
  <meta itemprop="description" content="Using the example of averaging many values, we explore some concerns that we need to address in a distributed, eventually consistent system like Riak."/>
  <meta itemprop="image" content="/content/uploads/2015/06/basho_og.png"/>
 <!-- Twitter Cards -->
 <!-- SEO -->
 <!-- Misc. tags -->
<!-- END - Facebook Open Graph, Google+ and Twitter Card Tags 2.1.2 -->
	
	<style>
	_:-ms-input-placeholder, :root .page-template-tpl-riakkv .title_ph {  margin-left:16%; }
	_:-ms-input-placeholder, :root .page-template-tpl-products .home_3_data .title_ph {  margin-left:28.5%; }
	_:-ms-input-placeholder, :root .page-template-tpl-products .home_4_data .title_ph {  margin-left:20.5%; }
	</style>
	 </head>
  <body class="post-template-default single single-post postid-1106 single-format-standard mega-menu-primary-navigation rolling-with-eventual-consistency-2 sidebar-primary">
    <!--[if lt IE 9]>
      <div class="alert alert-warning">
        You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.      </div>
    <![endif]-->
    


<div id="screen_viewport">
	
	<div id="head_container" class="row">
		<header>
			
			<div class="row upper">
				
				<div class="header-contain">
				
					<div class="col-sm-3 header-upper-left">
						
						<div class="logo_home">
							<a href="/index.html"><img alt="Riak logo" src="/content/themes/basho-v2/dist/images/riak.png"></a>
						</div>
	
					</div><!-- end header-upper-left-->
					<div class="col-sm-9 header-upper-right">
					
		
						<div class="quick_tools">
	<ul class="quick_links">
								<li><a href="https://docs.riak.com/index.html" target="_blank">DOWNLOAD RIAK</a></li><li><a href="https://docs.riak.com/index.html">DOCS</a></li>								<li class="lang_menu sling_lang"><a href="javascript: void(0);" class="language_choice">ENGLISH</a>
									<ul>
										<li class="language sling_lang"><a href="http://www.riak.com/index.html" rel="http://www.riak.com">English</a></li>
										<li class="language sling_lang"><a href="http://jp.riak.com/posts/technical/rolling-with-eventual-consistency-2/" rel="http://jp.riak.com">日本語</a></li>
										<li class="language sling_lang"><a href="http://de.riak.com/posts/technical/rolling-with-eventual-consistency-2/" rel="http://de.riak.com">Deutsch</a></li>
										<li class="language sling_lang"><a href="http://fr.riak.com/posts/technical/rolling-with-eventual-consistency-2/" rel="http://fr.riak.com">Fran&ccedil;ais</a></li>
									</ul>
								</li>
							</ul>
						</div>
		
					</div><!-- end header-upper-right-->
					<div class="cf clearfix"></div>
				</div>	<!-- end header-contain -->
		</div><!-- end row -->
		<div class="col-sm-12 row header-lower">

			<div class="header-contain">

				<div class="main_nav">
					<ul class="main_nav_top">

						<div id="mega-menu-wrap-primary_navigation" class="mega-menu-wrap"><div class="mega-menu-toggle" tabindex="0"><div class='mega-toggle-block mega-menu-toggle-block mega-toggle-block-right mega-toggle-block-1' id='mega-toggle-block-1'></div></div><ul id="mega-menu-primary_navigation" class="mega-menu mega-menu-horizontal mega-no-js" data-event="hover_intent" data-effect="slide" data-effect-speed="200" data-second-click="close" data-document-click="collapse" data-vertical-behaviour="standard" data-breakpoint="600" data-unbind="true"><li class='mega-add-arrow mega-m-products mega-menu-item mega-menu-item-type-post_type mega-menu-item-object-page mega-menu-item-has-children mega-align-bottom-left mega-menu-megamenu mega-hide-arrow mega-menu-item-11815' id='mega-menu-item-11815'><a class="mega-menu-link" href="/products/" aria-haspopup="true" tabindex="0">Products</a>
	<ul class="mega-sub-menu">
	<li class='mega-menu-item mega-menu-item-type-post_type mega-menu-item-object-page mega-menu-columns-1-of-3 mega-menu-item-11816' id='mega-menu-item-11816'><a class="mega-menu-link" href="/products/">Overview</a></li><li class='mega-menu-item mega-menu-item-type-post_type mega-menu-item-object-page mega-menu-item-has-children mega-menu-columns-1-of-3 mega-menu-item-11817' id='mega-menu-item-11817'><a class="mega-menu-link" href="/products/riak-kv/" aria-haspopup="true">Riak<sup>®</sup> KV</a>
	<ul class="mega-sub-menu">
	<li class='mega-menu-item mega-menu-item-type-custom mega-menu-item-object-custom mega-menu-item-11819' id='mega-menu-item-11819'><a class="mega-menu-link" href="/products/riak-kv/index.html#features">Features</a></li><li class='mega-menu-item mega-menu-item-type-custom mega-menu-item-object-custom mega-menu-item-11820' id='mega-menu-item-11820'><a class="mega-menu-link" href="/products/riak-kv/index.html#commercial">Commercial V. OSS</a></li><li class='mega-menu-item mega-menu-item-type-post_type mega-menu-item-object-page mega-has-icon mega-menu-item-11821' id='mega-menu-item-11821'><a class="fa-sign-out mega-menu-link" href="/products/riak-kv/resiliency/index.html?p=10906.html">Take Feature Tour</a></li>	</ul>
	</li><li class='mega-menu-item mega-menu-item-type-post_type mega-menu-item-object-page mega-menu-item-has-children mega-menu-columns-1-of-3 mega-menu-item-11822' id='mega-menu-item-11822'><a class="mega-menu-link" href="/products/riak-ts/" aria-haspopup="true">Riak<sup>®</sup> TS</a>
	<ul class="mega-sub-menu">
	<li class='mega-menu-item mega-menu-item-type-custom mega-menu-item-object-custom mega-menu-item-11824' id='mega-menu-item-11824'><a class="mega-menu-link" href="/products/riak-ts/index.html#features">Features</a></li><li class='mega-menu-item mega-menu-item-type-custom mega-menu-item-object-custom mega-menu-item-11825' id='mega-menu-item-11825'><a class="mega-menu-link" href="/products/riak-ts/index.html#commercial">Commercial V. OSS</a></li><li class='mega-menu-item mega-menu-item-type-post_type mega-menu-item-object-page mega-has-icon mega-menu-item-11826' id='mega-menu-item-11826'><a class="fa-sign-out mega-menu-link" href="/products/riak-ts/resiliency/index.html?p=10650.html">Take Feature Tour</a></li>	</ul>
	</li></ul>
	</li><li class='mega-m-integrations mega-menu-item mega-menu-item-type-post_type mega-menu-item-object-page mega-menu-item-has-children mega-align-bottom-left mega-menu-megamenu mega-hide-arrow mega-menu-item-11827' id='mega-menu-item-11827'><a class="mega-menu-link" href="/products/integrations/" aria-haspopup="true" tabindex="0">Integrations</a>
	<ul class="mega-sub-menu">
	<li class='mega-menu-item mega-menu-item-type-widget widget_nav_menu mega-menu-columns-1-of-2 mega-menu-item-nav_menu-10' id='mega-menu-item-nav_menu-10'><ul id="menu-integrations-column-1" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11990"><a href="/products/apache-spark/">Apache Spark</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11885"><a href="/products/solr/">Apache Solr</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11883"><a href="/products/apache-mesos/index.html?p=11511.html">Apache Mesos</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11886"><a href="/products/redis/index.html?p=6927.html">Redis Caching</a></li>
	</ul></li><li class='mega-menu-item mega-menu-item-type-widget widget_nav_menu mega-menu-columns-1-of-2 mega-menu-item-nav_menu-11' id='mega-menu-item-nav_menu-11'><ul id="menu-integrations-column-2" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-11887"><a href="/products/riak-s2/index.html?p=6196.html">Riak S2</a>
	<ul  class="sub-menu">
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11888"><a href="/products/riak-s2/index.html?p=6196.html#features">Features</a></li>
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11889"><a href="/products/riak-s2/index.html?p=6196.html#commercial">Commercial V. OSS</a></li>
	</ul>
	</li>
	</ul></li></ul>
	</li><li class='mega-m-resources mega-menu-item mega-menu-item-type-post_type mega-menu-item-object-page mega-menu-item-has-children mega-align-bottom-left mega-menu-megamenu mega-hide-arrow mega-menu-item-11837' id='mega-menu-item-11837'><a class="mega-menu-link" href="/resources/" aria-haspopup="true" tabindex="0">Resources</a>
	<ul class="mega-sub-menu">
	<li class='mega-menu-item mega-menu-item-type-widget widget_nav_menu mega-menu-columns-1-of-2 mega-menu-item-nav_menu-2' id='mega-menu-item-nav_menu-2'><ul id="menu-resources-column-1" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-11890"><a href="/resources/">Resource Center</a>
	<ul  class="sub-menu">
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11892"><a href="/resources/index.html?resource=types&amp;t=DATASHEET">DataSheets</a></li>
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11893"><a href="/resources/index.html?resource=types&amp;t=WHITEPAPER">WhitePapers</a></li>
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11894"><a href="/resources/index.html?resource=types&amp;t=SOLUTION BRIEF">Solution Briefs</a></li>
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11895"><a href="/resources/index.html?resource=types&amp;t=CASE STUDY">Case Studies</a></li>
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11896"><a href="/resources/index.html?resource=types&amp;t=USER STORY">User Stories</a></li>
	<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-11897"><a href="/resources/index.html?resource=types&amp;t=CUSTOMER TESTIMONIAL">Customer Testimonials</a></li>
	</ul>
	</li>
	</ul></li><li class='mega-menu-item mega-menu-item-type-widget widget_nav_menu mega-menu-columns-1-of-2 mega-menu-item-nav_menu-3' id='mega-menu-item-nav_menu-3'><ul id="menu-resources-column-2" class="menu">
	</ul></li></ul>
	</li><li class='mega-add-arrow mega-m-blog mega-menu-item mega-menu-item-type-post_type mega-menu-item-object-page mega-menu-item-has-children mega-align-bottom-right mega-menu-flyout mega-hide-arrow mega-menu-item-11839' id='mega-menu-item-11839'><a class="mega-menu-link" href="/blog/" aria-haspopup="true" tabindex="0">Blog</a>
	<ul class="mega-sub-menu">
	<li class='mega-menu-item mega-menu-item-type-taxonomy mega-menu-item-object-category mega-menu-item-11841' id='mega-menu-item-11841'><a class="mega-menu-link" href="/category/technical/">Technical</a></li><li class='mega-menu-item mega-menu-item-type-taxonomy mega-menu-item-object-category mega-menu-item-11840' id='mega-menu-item-11840'><a class="mega-menu-link" href="/category/business/">Business</a></li></ul>
	</li></ul></div>						</ul>
				</div>
				<div class="cf clearfix"></div>
			</div>	<!-- end header-contain -->	

			</div><!-- end header-lower-->

			
		</header>
	</div>
	    <div class="wrap container" role="document">
      <div class="content row">
        <main class="main" role="main">
          
<div id="subpage_nav">
	<div class="subpage_nav_content">
				<h1>Riak Blog</h1>
				<div class="right_side">
					<ul>
						<li><a class="home_link" href="/index.html">Home</a></li>
						<li><a class="home_link" href="/blog/index.html">Blog</a></li>
					</ul>
				</div>
		</div>
	</div>
</div>
<div id="fb-root"></div>
<script>(function (d, s, id) {
		var js, fjs = d.getElementsByTagName(s)[0];
		if (d.getElementById(id))
			return;
		js = d.createElement(s);
		js.id = id;
		js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3&appId=291833560991925";
		fjs.parentNode.insertBefore(js, fjs);
	}(document, 'script', 'facebook-jssdk'));</script>
	<div id="content_blogsingle" class="row">
		<div class="tier_1 tier">
			<div class="content_home_1">
				<article class="post-1106 post type-post status-publish format-standard hentry category-technical tag-blog tag-eventual-consistency tag-mapreduce tag-riak">
					<header> 
												<h1 class="entry-title">Rolling with Eventual Consistency</h1>
						<div class="entry-meta">
							<time class="updated" datetime="2012-09-18T05:00:04+00:00">Posted September 18, 2012</time>
							<p class="byline author vcard"> <a href="/posts/author/basho/index.html" rel="author" class="fn">by Riak</a></p>							<p class="category">Category: <a href="/category/technical/index.html" rel="category tag">Technical Blog</a></p>
													</div>
					</header>
					<div class="entry-content">
						<p><em>September 18, 2012</em></p>
<p>In a <a href="/posts/technical/choosing-the-right-tool/index.html?p=6146.html">previous post</a> I wrote about the different mindset that a software engineer should have when building for a key-value database as opposed to a relational database. When working with a relational database, you describe the model first and then query the data later. With a key-value database, you focus first on what you want the result of the query to look like, and then work backward toward a model.</p>
<p>As an example, I described averaging some value:</p>

<p>Some questions came in about what that would specifically look like in code. The rest of this post will explore a solution that takes into account the distributed, eventually consistent nature of Riak.</p>
<h4>Average the Scenario</h4>
<p>Say we have a <strong>DataPoint</strong> object. An object of this type can be created, but for simplicity let us say that it is never changed or deleted. Every <strong>DataPoint</strong> has a <strong>value</strong> property which is an integer. In our application, we sometimes want the average of all of the <strong>value</strong> properties for all of the <strong>DataPoint</strong> objects. Oh, and let’s say we have trillions of <strong>DataPoint</strong> objects.</p>
<p>Notice that according to my previous definition, this usage scenario is ad-hoc because we don’t know exactly when the application needs the average, but it is not dynamic because we know that we will be querying for the average of the <strong>value</strong> property, and not the average of some property defined at query time.</p>
<p>Using the client library <a href="https://github.com/basho/ripple">ripple</a>, we might define the object as follows:<br />
<code><br />
class DataPoint<br />
include Ripple::Document<br />
property :value, Integer, :presence =&gt; true<br />
end</code></p>
<p>The ripple library stores objects as JSON behind the scenes. The following request sent to Riak:<br />
<code><br />
curl http://127.0.0.1:8091/buckets/data_points/keys/somekey</code></p>
<p>might return something like:<br />
<code><br />
{"value":23,"_type":"DataPoint"}</code></p>
<p>Pretty simple so far. Now how should we calculate the average? The naïve solution would be to read all of the <strong>DataPoint</strong> objects out, read their <strong>value</strong> property, and average them. This might work for small sets of objects, but remember we have trillions of them. Fetching all of that data for one simple query is not a realistic solution.</p>
<p>We know that we want the average at the application level. Riak is really good at serving single objects. So instead of querying for the average, we should simply fetch the average as its own data object in Riak. In ripple this might look like:<br />
<code><br />
class Statistic<br />
include Ripple::Document<br />
property :average, Float, :presence =&gt; true<br />
end</code></p>
<p>Now we just have to hook the two together. We can add a hook to the <strong>DataPoint</strong> object so that every time it is saved, it updates the <strong>Statistic</strong> object.<br />
<code><br />
class DataPoint<br />
include Ripple::Document<br />
property :value, Integer, :presence =&gt; true<br />
after_save :update_statistics<br />
</code></p>
<pre><code>  def update_statistics
    id = 'data_point_document'
    statistic = StatisticDocument.find(id) || StatisticDocument.new
    statistic.key = id
    statistic.update_with self.value
  end
end
</code></pre>
<p>We need to define some new properties and the <strong>update_with</strong> method for the <strong>Statistic</strong> object.<br />
<code><br />
class Statistic<br />
include Ripple::Document<br />
property :average, Float, :presence =&gt; true<br />
property :count, Integer, :presence =&gt; true<br />
</code></p>
<pre><code>  def update_with(value)
    self.average = (self.average * self.count + value) / (self.count + 1)
    self.count = self.count + 1
    self.save
  end
end
</code></pre>
<p>By storing the additional information of the number of objects in the <strong>count</strong> property, we have enough information to reconstruct a rolling average.</p>
<h4>Fast Answers</h4>
<p>Now whenever we want the average value, we simply fetch the one Riak object:</p>
<p><code>Statistic.find('data_point_document').average</code></p>
<p>Our answer comes back really fast, because it has been pre-computed.</p>
<h4>But Wait!</h4>
<p>The example above works great for one single-threaded application. To preserve the distributed and fault-tolerant features that Riak provides for us, we need to do a little more work.</p>
<p>Consider the following scenario. One copy of the application, let’s call it <em>ClientA</em>, is talking to the Riak cluster. Another, <em>ClientB</em>, is also talking to the cluster. <em>ClientA</em> and <em>ClientB</em> both want to add a <strong>DataPoint</strong> object. After saving their respective <strong>DataPoint</strong> objects, they both fetch the <strong>Statistic</strong> object, which currently has <strong>average</strong> property set to 10.0, and compute a new average. <em>ClientA</em> thinks the new <strong>average</strong> property is 12.0. But <em>ClientB</em> added a different value, so it thinks the new <strong>average</strong> property is 9.0. Both save to the Riak cluster, and we have a classic race condition. Which client wins? It doesn’t matter, because both answers are wrong. Both fail to take into account the <strong>DataPoint</strong> object handled by the other client.</p>
<p>To get the correct answer, let’s separate the clients. Both clients can save to the same object, but we will partition the data within the object. Formerly the json object looked like:</p>
<p><code>{"average":10.0,"count":4,"_type":"Statistic"}</code></p>
<p>We want it to look more like:</p>
<p><code>{"client_data":{"ClientA":{"average":10.0,"count":4},"ClientB":{"average":10.0,"count":4}}"_type":"Statistic"}</code></p>
<p>The data model is more complicated, but we now have enough information to compute the correct answer. We will change the model so that <em>ClientA</em> will only change the &#8220;ClientA&#8221; portion of the data object, and <em>ClientB</em> will only change the &#8220;ClientB&#8221; portion of the object. The application will know when we ask for the answer to compute the average across all clients.</p>
<p>The <strong>Statistic</strong> object now looks something like this:</p>
<p><code>class Statistic<br />
include Ripple::Document<br />
property :client_data, Hash, :presence =&gt; true<br />
</code></p>
<pre><code>  def update_with(value)
    self.reload
    self.client_data ||= {}
    statistic = self.client_data[Client.id] || {'average' =&gt; 0.0, 'count' =&gt; 0}
    statistic['average'] = (statistic['average'] * statistic['count'] + value) / (statistic['count'] + 1)
    statistic['count']   = (statistic['count'] + 1)
    self.client_data[Client.id] = statistic
    self.save
  end

  def count
    self.client_data.map{|h| h[1]['count']}.inject(0, &amp;:+)
  end

  def average
    self.client_data.map{|h| h[1]['count'] * h[1]['average']}.inject(0, &amp;:+).to_f / self.count
  end
end
</code></pre>
<p>The method <strong>Client.id</strong> in the above can be set in a couple of different ways. In this case, we set it using an environment variable passed in at runtime. We rely on a single thread per application to ensure that each client has a single, consistent client identifier, and that it always writes to its own portion of the data object.</p>
<p>We also make sure that we always fetch the object before we write to it, so that this client is always working with the latest copy of the object and not a stale one that was updated somewhere else in the application.</p>
<h4>But Wait [Again]!</h4>
<p>We solved part of the problem by keeping each client out of the other’s business, but we still have a race condition when the clients try to save the same <strong>Statistic</strong> object to the cluster. If Riak is operating on a last-write-wins principle, then whichever client has the later timestamp is going to overwrite the other. That gives us the wrong answer, and that won’t do.</p>
<p>We can rely on Riak’s <a href="/blog/technical/2010/01/29/why-vector-clocks-are-easy/index.html">vector clocks</a> to solve this problem. First, we set the <strong>allow_mult</strong> property on the bucket for <strong>Statistic</strong> objects so that Riak will store both copies of an object when two come in during a race condition.<br />
<code>Statistic.bucket.allow_mult = true</code></p>
<p>For reasons outside of the scope of this post, we also want to make sure that we have a PR and a PW quorum greater than N. This helps us ensure that our answer isn&#8217;t misread from a fallback node when we reload the <strong>Statistic</strong> object. N is 3 by default, so the following does the trick by setting PR and PW both to 2.<br />
<code>Statistic.bucket.props = Statistic.bucket.props.merge(:pr =&gt; 2, :pw =&gt; 2)</code></p>
<p>When ripple reads an object, it gets a vector clock. When it saves the object, it sends back the same vector clock. Every time Riak changes an object, it changes the vector clock in such a way that it preserves the clock&#8217;s lineage. So if Riak gets back a different vector clock with an object than the one it currently has, it knows it has a collision and saves both values as siblings.</p>
<p>Our race condition plays out. We now have two sibling objects in Riak stored under the same key: one is up-to-date for <em>ClientA</em>, and the other is up-to-date for <em>ClientB</em>. The truth is somewhere in between.</p>
<p>The next time ripple reads the <strong>Statistic</strong> object, it gets back both objects with a new vector clock for the set. We now have to resolve the conflict to find the true answer. We know that <em>ClientA</em>&#8216;s true answer is going to have the highest <strong>count</strong> property for &#8220;ClientA&#8221;, and we know that <em>ClientB</em>&#8216;s true answer is going to have the highest <strong>count</strong> property for &#8220;ClientB&#8221;. Since we know that only one copy of a given client was writing at a time [single-threaded], we know that only the client data with the highest count is correct.</p>
<p>We can find the true answer by merging the siblings and comparing the data one client at a time. For each client, we always take the value with the highest <strong>count</strong> property and throw away the smaller counts, which represent older values.</p>
<p>When ripple saves back the object, it sends the new vector clock as well so that Riak knows to replace the old siblings with this new resolved object. We handle this with the <strong>on_conflict</strong> method in ripple.</p>
<p><code>class StatisticDocument<br />
include Ripple::Document<br />
property :client_data, Hash, :presence =&gt; true<br />
</code></p>
<pre><code>  def update_with(value)
    self.reload
    self.client_data ||= {}
    statistic = self.client_data[Client.id] || {'average' =&gt; 0.0, 'count' =&gt; 0}
    statistic['average'] = (statistic['average'] * statistic['count'] + value).to_f / (statistic['count'] + 1)
    statistic['count']   = (statistic['count'] + 1)
    self.client_data[Client.id] = statistic
    self.save
  end

  def count
    self.client_data.map{|h| h[1]['count']}.inject(0, &amp;:+)
  end

  def average
    self.client_data.map{|h| h[1]['count'] * h[1]['average']}.inject(0, &amp;:+).to_f / self.count
  end

  on_conflict do |siblings, c|
    resolved = {}
    siblings.reject!{|s| s.client_data == nil}
    siblings.each do |sibling|
      resolved.merge! sibling.client_data do |client_id, resolved_value, sibling_value|
        resolved_value['count'] &gt; sibling_value['count'] ? resolved_value : sibling_value
      end
    end
    self.client_data = resolved
  end
end
</code></pre>
<p>Voila! We now have a rolling average that gracefully handles race conditions caused by the distributed nature of a Riak cluster.</p>
<p>A working example of this solution is available in my <a href="https://github.com/clr/riak-rolling-average">riak-rolling-average</a> repo. As usual, the good stuff is in the tests. You can run the tests with <code>bundle exec rake CLIENT=someclient</code> where <em>someclient</em> is unique to that Ruby thread.</p>
<p>Note that <em>test_example.rb</em> runs five clients concurrently by shelling out to five rake tasks. Each rake task loads in a pre-defined chunk of data from the data file. This causes plenty of race conditions, which is what we want to simulate. We still get the correct answer.</p>
<h4>The Path Not Traveled</h4>
<p>If you aren&#8217;t familiar with my previous advice on <a href="/blog/technical/2012/08/10/choosing-the-right-tool/index.html">approaching key-value architecture</a>, you might be tempted to solve a use case like the average described above using Riak’s map/reduce functionality. There are several reasons why the solution above would be preferred, but let us play the devil’s advocate and explore the map/reduce solution.</p>
<p>You can view the entire code in the repo below, but if we solve this using javascript map/reduce functions, then we can extract the data from each <strong>DatePoint</strong> object in the following <em>map</em> phase:</p>
<p><code>function(riakObject){<br />
match = riakObject.values[0].data.match(/"value":([d]+)/);<br />
if(match){<br />
return [[parseInt(match[1]), 1]];<br />
} else {<br />
return [null];<br />
}<br />
}</code></p>
<p>Then compute the average by combining the results together in the following <em>reduce</em> phase:<br />
<code><br />
function(values){<br />
var sum = 0.0;<br />
var count = 0;<br />
for(i=0; i&lt;values.length; i++){<br />
value = values[i];<br />
if(value){<br />
sum = sum + (value[0] * value[1]);<br />
count = count + value[1];<br />
}<br />
}<br />
if(count &gt; 0) {<br />
return [[(sum / count), count]];<br />
} else {<br />
return [];<br />
}<br />
}</code></p>
<p>If you look in the <em>mapreduce</em> branch of the <a href="https://github.com/clr/riak-rolling-average/tree/mapreduce">riak-rolling-average</a> repo, you will find the code for this example. On my local laptop, which I admit is not optimized for this type of operation, it takes about 3 seconds to fetch the answer with map/reduce searching over 5000 DataPoint objects. [A compiled Erlang map/reduce function would perform much better.] It only took a few milliseconds to fetch the answer using the pre-computing code.</p>
<p>Even if I did have a more powerful cluster on which to run this map/reduce, recall that we have trillions of <strong>DataPoint</strong> objects. Each object must be fetched from the key-value store and pulled into the javascript virtual machine for processing. This is essentially equivalent to the naïve approach described earlier, but performed on the server instead of the application client. If multiple users initiate the same map/reduce, contention for resources would quickly overwhelm the cluster&#8217;s hardware. In practice, we generally reserve Riak&#8217;s map/reduce for data migrations and offline analysis although there are exceptions to that guideline.</p>
<p>Conceptually, the map/reduce solution might be simpler to architect and it might seem more intuitive to people from an RDBMS background. Admittedly, the recommended solution above uses more resources during writes, opens the possibility of number of clients and vector clocks expanding the object size and complexity, and generally requires a more complex model; however, it also provides a much more performant answer and is more suitable to the eventual consistency and distributed nature of Riak.</p>
<h4>Other Issues</h4>
<p>Note that I did not address bootstrapping the average when <strong>DataPoint</strong> objects already exist, nor handling deletes or updates to existing <strong>DataPoint</strong> objects.</p>
<h4>Happy Coding</h4>
<p>Some of the ways we need to think about architecture problems when we write applications for Riak might not be intuitive at first, because the same problems are already solved by convention in the RDBMS world. Some of this shift in mindset is necessitated by the key-value nature of Riak. As the rolling average example here demonstrates, some concerns that we need to address in the application architecture are brought about by the distributed, eventually consistent nature of Riak as well. This shift in mindset is a tradeoff that you can choose to make for the sake of high availability, fault tolerance, horizontal scaling, and other nice features that Riak provides. If you enjoy learning new things to take advantage of new capabilities, then I&#8217;d wager you will enjoy developing applications with Riak.</p>
<p><a href="https://twitter.com/caseyrosenthal">Casey</a></p>
<h4>Related</h4>
<ul>
<li>A working example of this code is available in my <a href="https://github.com/clr/riak-rolling-average">riak-rolling-average</a> repo. Check out the <em>mapreduce</em> branch for the production-unfriendly version using Riak&#8217;s map/reduce.</li>
<li><a href="/blog/technical/2010/01/29/why-vector-clocks-are-easy/index.html">Vector Clocks are Easy</a></li>
<li><a href="/blog/technical/2010/04/05/why-vector-clocks-are-hard/index.html">Vector Clocks are Hard</a></li>
<li><a href="https://github.com/aphyr/meangirls">Meangirls</a> provides serializable data types for eventually consistent systems, similar to but more comprehensive than my example.</li>
<li><a href="https://github.com/bkerley/hanover">Hanover</a> also provides eventually consistent data types.</li>
<li>The <strong>Statistic</strong> object is an eventually consistent data type, an example of a CRDT: Convergent or Commutative Replicated Data Type. Read the comprehensive <a href="http://www.researchgate.net/publication/50949847_A_comprehensive_study_of_Convergent_and_Commutative_Replicated_Data_Types">research paper on CRDT</a>.</li>
<li>Bryce Kerley speaking about <a href="http://vimeo.com/45433300">CRDTs at SRCFringe Edinburgh 2012</a></li>
<li>I put some hours into a gem <a href="https://github.com/clr/ripple-statistics">ripple-statistics</a> which adds this and other simple calculations to the <a href="https://github.com/seancribbs/ripple">ripple</a> library. Note the limitations of the current code there.</li>
</ul>
													
					</div>
				</article>
				</div></div><div class="tier_2 tier">
		<div class="content_home_2 row">
			<h1>Recent Articles</h1>
			<div class="divider_line">
				<img alt="" src="/content/themes/basho-v2/assets/images/blog/divider-line.png">
			</div>
			
<div class="col-sm-6 col-md-3 single_blog">
	<article class="post-13488 post type-post status-publish format-standard hentry category-technical tag-apache-mesos tag-mesosphere tag-riak">
				<header>
						<h2 class="entry-title"><a href="/posts/technical/dcos-and-riak-mesos-framework/index.html?p=13488.html">DC/OS 1.9 and Riak Mesos Framework</a></h2>
			<time class="updated" datetime="2017-03-13T09:47:39+00:00">March 13, 2017</time>
							<p class="byline author vcard"> <a href="/posts/author/pavelhardak/index.html" rel="author" class="fn">Pavel Hardak</a></p>
					</header>
		<div class="entry-summary">
			<p>We are pleased today to announce with Mesosphere, the launch of DC/OS 1.9 and a major upgrade of the integration&#8230; </p>
<div class="learn_more_btn"><a href="/posts/technical/dcos-and-riak-mesos-framework/index.html?p=13488.html">Read More</a></div>
		</div>
	</article>
</div>

<div class="col-sm-6 col-md-3 single_blog">
	<article class="post-13441 post type-post status-publish format-standard hentry category-technical tag-iot tag-riak tag-riak-ts tag-the-weather-company">
				<header>
						<h2 class="entry-title"><a href="/posts/technical/traditional-data-lake-approach-may-not-be-a-good-choice-for-iot-data/index.html?p=13441.html">Traditional “Data Lake” Approach May Not Be A Good Choice for IoT Data</a></h2>
			<time class="updated" datetime="2017-03-01T16:46:22+00:00">March 1, 2017</time>
							<p class="byline author vcard"> <a href="/posts/author/dorothy-pults/index.html" rel="author" class="fn">Dorothy Pults</a></p>
					</header>
		<div class="entry-summary">
			<p>The momentum around Apache Spark continues. Spark Summit East was a big success and Riak’s own Pavel Hardak was among&#8230; </p>
<div class="learn_more_btn"><a href="/posts/technical/traditional-data-lake-approach-may-not-be-a-good-choice-for-iot-data/index.html?p=13441.html">Read More</a></div>
		</div>
	</article>
</div>

<div class="col-sm-6 col-md-3 single_blog">
	<article class="post-13409 post type-post status-publish format-standard hentry category-technical tag-basho-academy tag-riak tag-riak-kv tag-riak-ts">
				<header>
						<h2 class="entry-title"><a href="/posts/technical/basho-academy-install-code-and-go/index.html?p=13409.html">Riak Academy: Install, Code and Go</a></h2>
			<time class="updated" datetime="2017-02-27T10:25:05+00:00">February 27, 2017</time>
							<p class="byline author vcard"> <a href="/posts/author/dorothy-pults/index.html" rel="author" class="fn">Dorothy Pults</a></p>
					</header>
		<div class="entry-summary">
			<p>Are you new to NoSQL and want to find out more about Riak? Riak Academy may be the right place for&#8230; </p>
<div class="learn_more_btn"><a href="/posts/technical/basho-academy-install-code-and-go/index.html?p=13409.html">Read More</a></div>
		</div>
	</article>
</div>

<div class="col-sm-6 col-md-3 single_blog">
	<article class="post-13356 post type-post status-publish format-standard hentry category-technical tag-iot tag-riak-ts">
				<header>
						<h2 class="entry-title"><a href="/posts/technical/create-your-first-riak-ts-table/index.html?p=13356.html">Create Your First Riak TS Table</a></h2>
			<time class="updated" datetime="2017-02-21T19:05:56+00:00">February 21, 2017</time>
							<p class="byline author vcard"> <a href="/posts/author/dorothy-pults/index.html" rel="author" class="fn">Dorothy Pults</a></p>
					</header>
		<div class="entry-summary">
			<p>Customers like Intellicore are doing real-time analysis of IoT data using Riak TS. We want to make it easy for&#8230; </p>
<div class="learn_more_btn"><a href="/posts/technical/create-your-first-riak-ts-table/index.html?p=13356.html">Read More</a></div>
		</div>
	</article>
</div>
		</div>
	</div>
		
	<div class="divider_bar shadow"></div>
</div>         </main><!-- /.main -->
                  <aside class="sidebar" role="complementary">
                      </aside><!-- /.sidebar -->
              </div><!-- /.content -->
    </div><!-- /.wrap -->
    <footer class="content-info" role="contentinfo">
	<div class="container">
		<div class="footer_menu row">
			<div class="footer-content row">

				<div class="col-sm-12 col-md-8">

					<div class="four-menus">

	<div class="col-xs-6 col-sm-3 menu_col left">
		<ul>
		<li><a href="/products/">Products</a></li><li><a href="/products/integrations/">Integrations</a></li><li><a href="/resources/">Resources</a></li><li><a href="/resources/nosql-databases/index.html?p=9937.html">NoSQL Explained</a></li>							</ul>
	</div>
	<div class="col-xs-6 col-sm-3 menu_col middle">
		<ul>
		<li><a href="/about/">About Riak</a></li><li><a href="/newsroom/">Newsroom</a></li>							</ul>
	</div>
	<div class="col-xs-6 col-sm-3 menu_col middle">
		<ul>
		<li><a href="/blog/">Blog</a></li><li><a href="/community/">DEVELOPERS</a></li>							</ul>
	</div>
	<div class="col-xs-6  col-sm-3 menu_col right">
		<ul>
									</ul>

	</div>

</div>
<div class="copyright col-xs-12">
						
											</div>
				</div>
				<div class="col-sm-12 col-md-3 footer-right">

					<div class="logo">
						<a href="/index.html"><img alt="" src="/content/themes/basho-v2/dist/images/riak-footer-logo.png"></a>
					</div>

										<div class="cf clearfix"></div>

				</div>

				<div class="back_top">
					<img alt="" src="/content/themes/basho-v2/dist/images/back-top.png">
				</div>


			</div>


		</div>
	</div>
</footer>
<div class="sidenav">
 

</div>


</div>


<!-- google analytics code here -->
<link rel='stylesheet' id='eventon_dynamic_styles-css'  href='/content/plugins/eventON/assets/css/eventon_dynamic_styles.css?ver=4.8.2' type='text/css' media='all' />
<script type='text/javascript'>
/* <![CDATA[ */
var wpcf7 = {"apiSettings":{"root":"http:\/\/riak.com\/wp-json\/contact-form-7\/v1","namespace":"contact-form-7\/v1"},"recaptcha":{"messages":{"empty":"Please verify that you are not a robot."}},"cached":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='/content/plugins/contact-form-7/includes/js/scripts.js?ver=4.9'></script>
<script type='text/javascript' src='/includes/js/hoverIntent.min.js?ver=1.8.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var megamenu = {"timeout":"300","interval":"100","effect":{"fadeUp":{"in":{"animate":{"opacity":"show","margin-top":"0"},"css":{"margin-top":"10px"}},"out":{"animate":{"opacity":"hide","margin-top":"10px"}}}}};
/* ]]> */
</script>
<script type='text/javascript' src='/content/plugins/megamenu/js/maxmegamenu.js?ver=2.3.8'></script>
<script type='text/javascript' src='/content/plugins/megamenu-pro/assets/public.js?ver=1.4.5'></script>
<script type='text/javascript' src='/includes/js/jquery/ui/core.min.js?ver=1.11.4'></script>
<script type='text/javascript' src='/includes/js/jquery/ui/position.min.js?ver=1.11.4'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var pum_vars = {"ajaxurl":"http:\/\/riak.com\/wp-admin\/admin-ajax.php","restapi":"http:\/\/riak.com\/wp-json\/pum\/v1","rest_nonce":null,"default_theme":"11522","debug_mode":"","disable_open_tracking":""};
var pum_debug_vars = {"debug_mode_enabled":"Popup Maker Debug Mode Enabled","debug_started_at":"Debug started at:","debug_more_info":"For more information on how to use this information visit http:\/\/docs.wppopupmaker.com\/?utm_medium=js-debug-info&utm_campaign=ContextualHelp&utm_source=browser-console&utm_content=more-info","global_info":"Global Information","localized_vars":"Localized variables","popups_initializing":"Popups Initializing","popups_initialized":"Popups Initialized","single_popup_label":"Popup: #","theme_id":"Theme ID: ","label_method_call":"Method Call:","label_method_args":"Method Arguments:","label_popup_settings":"Settings","label_triggers":"Triggers","label_cookies":"Cookies","label_delay":"Delay:","label_conditions":"Conditions","label_cookie":"Cookie:","label_settings":"Settings:","label_selector":"Selector:","label_mobile_disabled":"Mobile Disabled:","label_tablet_disabled":"Tablet Disabled:","label_display_settings":"Display Settings:","label_close_settings":"Close Settings:","label_event_before_open":"Event: Before Open","label_event_after_open":"Event: After Open","label_event_open_prevented":"Event: Open Prevented","label_event_setup_close":"Event: Setup Close","label_event_close_prevented":"Event: Close Prevented","label_event_before_close":"Event: Before Close","label_event_after_close":"Event: After Close","label_event_before_reposition":"Event: Before Reposition","label_event_after_reposition":"Event: After Reposition","label_event_checking_condition":"Event: Checking Condition","triggers":{"click_open":{"name":"Click Open","modal_title":"Click Trigger Settings","settings_column":"<strong>Extra Selectors<\/strong>: {{data.extra_selectors}}"},"auto_open":{"name":"Auto Open","modal_title":"Auto Open Settings","settings_column":"<strong>Delay<\/strong>: {{data.delay}}"},"scroll":{"name":"Scroll","modal_title":"Scroll Trigger Settings","settings_column":"<strong>Trigger<\/strong>: {{data.trigger}}"}},"cookies":{"on_popup_open":{"name":"On Popup Open","modal_title":"On Popup Open Settings"},"on_popup_close":{"name":"On Popup Close","modal_title":"On Popup Close Settings"},"manual":{"name":"Manual JavaScript","modal_title":"Click Trigger Settings"}}};
var ajaxurl = "http:\/\/riak.com\/wp-admin\/admin-ajax.php";
var popmake_default_theme = "11522";
/* ]]> */
</script>
<script type='text/javascript' src='/content/plugins/popup-maker/assets/js/site.min.js?defer&amp;ver=1.6.6.js' defer='defer'></script>
<script type='text/javascript' src='/content/plugins/popup-maker-scroll-triggered-popups/assets/js/site.min.js?defer&amp;ver=1.2.3.js' defer='defer'></script>

<!-- inject:js -->
<script src="/content/themes/basho-v2/dist/scripts/scripts-cd91f277db.min.js"></script>
<!-- endinject -->
<script type='text/javascript' src='/includes/js/embed.min.js?ver=4.8.2'></script>
  </body>
</html>
